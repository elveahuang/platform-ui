var s=(o,e,a)=>new Promise((r,n)=>{var i=u=>{try{c(a.next(u))}catch(d){n(d)}},l=u=>{try{c(a.throw(u))}catch(d){n(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,l);c((a=a.apply(o,e)).next())});import{m as ye,d as ie,n as Ae,h as f,as as re,b0 as Be,s as ue,q as oe,a6 as ze,y as ke,Z as Me,a2 as Qe,U as ge,b1 as Fe,ae as Ne,az as qe,C as _e,b2 as se,l as t,au as Le,b3 as v,b4 as J,b5 as I,b6 as je,b7 as ee,K as He,M as Ge,L as Ve,j as Ke,g as Je,o as H,c as G,a as U,w as B,b8 as Xe,u as L,I as Ye,F as me,t as Ze,r as et,W as at,X as rt}from"./index-9f8d664e.js";/* empty css              */import{C as ot}from"./index-54c63fa9.js";import{C as nt}from"./index-c9b2661a.js";import{I as it}from"./index-b8be88ff.js";import{N as st}from"./index-98a3ec2a.js";import{r as ct,u as lt}from"./use-route-e0417d80.js";import{S as dt}from"./index-838965de.js";import{_ as ut}from"./_plugin-vue_export-helper-c27b6911.js";const[xe,gt]=ye("grid"),mt={square:Boolean,center:ue,border:ue,gutter:oe,reverse:Boolean,iconSize:oe,direction:String,clickable:Boolean,columnNum:ze(4)},We=Symbol(xe);var vt=ie({name:xe,props:mt,setup(o,{slots:e}){const{linkChildren:a}=Ae(We);return a({props:o}),()=>{var r;return f("div",{style:{paddingLeft:re(o.gutter)},class:[gt(),{[Be]:o.border&&!o.gutter}]},[(r=e.default)==null?void 0:r.call(e)])}}});const ft=ke(vt),[ht,V]=ye("grid-item"),pt=Me({},ct,{dot:Boolean,text:String,icon:String,badge:oe,iconColor:String,iconPrefix:String,badgeProps:Object});var wt=ie({name:ht,props:pt,setup(o,{slots:e}){const{parent:a,index:r}=Qe(We),n=lt();if(!a)return;const i=ge(()=>{const{square:S,gutter:h,columnNum:w}=a.props,x=`${100/+w}%`,y={flexBasis:x};if(S)y.paddingTop=x;else if(h){const W=re(h);y.paddingRight=W,r.value>=+w&&(y.marginTop=W)}return y}),l=ge(()=>{const{square:S,gutter:h}=a.props;if(S&&h){const w=re(h);return{right:w,bottom:w,height:"auto"}}}),c=()=>{if(e.icon)return f(qe,Ne({dot:o.dot,content:o.badge},o.badgeProps),{default:e.icon});if(o.icon)return f(_e,{dot:o.dot,name:o.icon,size:a.props.iconSize,badge:o.badge,class:V("icon"),color:o.iconColor,badgeProps:o.badgeProps,classPrefix:o.iconPrefix},null)},u=()=>{if(e.text)return e.text();if(o.text)return f("span",{class:V("text")},[o.text])},d=()=>e.default?e.default():[c(),u()];return()=>{const{center:S,border:h,square:w,gutter:x,reverse:y,direction:W,clickable:$}=a.props,O=[V("content",[W,{center:S,square:w,reverse:y,clickable:$,surround:h&&x}]),{[Fe]:h}];return f("div",{class:[V({square:w})],style:i.value},[f("div",{role:$?"button":void 0,class:O,style:l.value,tabindex:$?0:void 0,onClick:n},[d()])])}}});const bt=ke(wt),St="/platform-ui-vue/mobile/assets/avatar-fb68ad03.png";/*! Capacitor: https://capacitorjs.com/ - MIT License */const Pt=o=>{const e=new Map;e.set("web",{name:"web"});const a=o.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(i,l)=>{a.platforms.set(i,l)},n=i=>{a.platforms.has(i)&&(a.currentPlatform=a.platforms.get(i))};return a.addPlatform=r,a.setPlatform=n,a},Ct=o=>o.CapacitorPlatforms=Pt(o),Te=Ct(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});Te.addPlatform;Te.setPlatform;var z;(function(o){o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE"})(z||(z={}));class te extends Error{constructor(e,a,r){super(e),this.message=e,this.code=a,this.data=r}}const yt=o=>{var e,a;return o!=null&&o.androidBridge?"android":!((a=(e=o==null?void 0:o.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},kt=o=>{var e,a,r,n,i;const l=o.CapacitorCustomPlatform||null,c=o.Capacitor||{},u=c.Plugins=c.Plugins||{},d=o.CapacitorPlatforms,S=()=>l!==null?l.name:yt(o),h=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||S,w=()=>h()!=="web",x=((a=d==null?void 0:d.currentPlatform)===null||a===void 0?void 0:a.isNativePlatform)||w,y=g=>{const m=X.get(g);return!!(m!=null&&m.platforms.has(h())||O(g))},W=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||y,$=g=>{var m;return(m=c.PluginHeaders)===null||m===void 0?void 0:m.find(D=>D.name===g)},O=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||$,M=g=>o.console.error(g),N=(g,m,D)=>Promise.reject(`${D} does not have an implementation of "${m}".`),X=new Map,$e=(g,m={})=>{const D=X.get(g);if(D)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),D.proxy;const E=h(),A=O(g);let _;const Ee=()=>s(void 0,null,function*(){return!_&&E in m?_=typeof m[E]=="function"?_=yield m[E]():_=m[E]:l!==null&&!_&&"web"in m&&(_=typeof m.web=="function"?_=yield m.web():_=m.web),_}),Ue=(p,b)=>{var k,T;if(A){const R=A==null?void 0:A.methods.find(C=>b===C.name);if(R)return R.rtype==="promise"?C=>c.nativePromise(g,b.toString(),C):(C,q)=>c.nativeCallback(g,b.toString(),C,q);if(p)return(k=p[b])===null||k===void 0?void 0:k.bind(p)}else{if(p)return(T=p[b])===null||T===void 0?void 0:T.bind(p);throw new te(`"${g}" plugin is not implemented on ${E}`,z.Unimplemented)}},Y=p=>{let b;const k=(...T)=>{const R=Ee().then(C=>{const q=Ue(C,p);if(q){const j=q(...T);return b=j==null?void 0:j.remove,j}else throw new te(`"${g}.${p}()" is not implemented on ${E}`,z.Unimplemented)});return p==="addListener"&&(R.remove=()=>s(void 0,null,function*(){return b()})),R};return k.toString=()=>`${p.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:p,writable:!1,configurable:!1}),k},le=Y("addListener"),de=Y("removeListener"),De=(p,b)=>{const k=le({eventName:p},b),T=()=>s(void 0,null,function*(){const C=yield k;de({eventName:p,callbackId:C},b)}),R=new Promise(C=>k.then(()=>C({remove:T})));return R.remove=()=>s(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),R},Z=new Proxy({},{get(p,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?De:le;case"removeListener":return de;default:return Y(b)}}});return u[g]=Z,X.set(g,{name:g,proxy:Z,platforms:new Set([...Object.keys(m),...A?[E]:[]])}),Z},Oe=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||$e;return c.convertFileSrc||(c.convertFileSrc=g=>g),c.getPlatform=h,c.handleError=M,c.isNativePlatform=x,c.isPluginAvailable=W,c.pluginMethodNoop=N,c.registerPlugin=Oe,c.Exception=te,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},_t=o=>o.Capacitor=kt(o),P=_t(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),F=P.registerPlugin;P.Plugins;class Re{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(a);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const i=()=>s(this,null,function*(){return this.removeListener(e,a)}),l=Promise.resolve({remove:i});return Object.defineProperty(l,"remove",{value:()=>s(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield i()})}),l}removeAllListeners(){return s(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,a){const r=this.listeners[e];r&&r.forEach(n=>n(a))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,a){this.windowListeners[a]={registered:!1,windowEventName:e,pluginEventName:a,handler:r=>{this.notifyListeners(a,r)}}}unimplemented(e="not implemented"){return new P.Exception(e,z.Unimplemented)}unavailable(e="not available"){return new P.Exception(e,z.Unavailable)}removeListener(e,a){return s(this,null,function*(){const r=this.listeners[e];if(!r)return;const n=r.indexOf(a);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const ve=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fe=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Lt extends Re{getCookies(){return s(this,null,function*(){const e=document.cookie,a={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[n,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=fe(n).trim(),i=fe(i).trim(),a[n]=i}),a})}setCookie(e){return s(this,null,function*(){try{const a=ve(e.key),r=ve(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${a}=${r||""}${n}; path=${i}; ${l};`}catch(a){return Promise.reject(a)}})}deleteCookie(e){return s(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})}clearCookies(){return s(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const a of e)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return s(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}F("CapacitorCookies",{web:()=>new Lt});const xt=o=>s(void 0,null,function*(){return new Promise((e,a)=>{const r=new FileReader;r.onload=()=>{const n=r.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},r.onerror=n=>a(n),r.readAsDataURL(o)})}),Wt=(o={})=>{const e=Object.keys(o);return Object.keys(o).map(n=>n.toLocaleLowerCase()).reduce((n,i,l)=>(n[i]=o[e[l]],n),{})},Tt=(o,e=!0)=>o?Object.entries(o).reduce((r,n)=>{const[i,l]=n;let c,u;return Array.isArray(l)?(u="",l.forEach(d=>{c=e?encodeURIComponent(d):d,u+=`${i}=${c}&`}),u.slice(0,-1)):(c=e?encodeURIComponent(l):l,u=`${i}=${c}`),`${r}&${u}`},"").substr(1):null,Rt=(o,e={})=>{const a=Object.assign({method:o.method||"GET",headers:o.headers},e),n=Wt(o.headers)["content-type"]||"";if(typeof o.data=="string")a.body=o.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[l,c]of Object.entries(o.data||{}))i.set(l,c);a.body=i.toString()}else if(n.includes("multipart/form-data")){const i=new FormData;if(o.data instanceof FormData)o.data.forEach((c,u)=>{i.append(u,c)});else for(const c of Object.keys(o.data))i.append(c,o.data[c]);a.body=i;const l=new Headers(a.headers);l.delete("content-type"),a.headers=l}else(n.includes("application/json")||typeof o.data=="object")&&(a.body=JSON.stringify(o.data));return a};class It extends Re{request(e){return s(this,null,function*(){const a=Rt(e,e.webFetchExtra),r=Tt(e.params,e.shouldEncodeUrlParams),n=r?`${e.url}?${r}`:e.url,i=yield fetch(n,a),l=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};l.includes("application/json")&&(c="json");let u,d;switch(c){case"arraybuffer":case"blob":d=yield i.blob(),u=yield xt(d);break;case"json":u=yield i.json();break;case"document":case"text":default:u=yield i.text()}const S={};return i.headers.forEach((h,w)=>{S[w]=h}),{data:u,headers:S,status:i.status,url:i.url}})}get(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}F("CapacitorHttp",{web:()=>new It});const K=F("Browser",{web:()=>se(()=>import("./web-024df72c.js"),["assets/web-024df72c.js","assets/index-9f8d664e.js","assets/index-bdbeb2ed.css","assets/index-54c63fa9.js","assets/use-route-e0417d80.js","assets/index-c9181c0e.css","assets/index-c9b2661a.js","assets/index-5987bc0e.css","assets/index-b8be88ff.js","assets/index-24ee41ea.css","assets/index-98a3ec2a.js","assets/use-placeholder-55253c18.js","assets/index-7bc4136f.css","assets/index-838965de.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css"]).then(o=>new o.BrowserWeb)});class $t{available(){return s(this,null,function*(){return!0})}open(e,a,r){return s(this,null,function*(){if(P.isNativePlatform())yield K.open({url:e}),yield K.addListener("browserFinished",a),yield K.addListener("browserPageLoaded",r);else return new Promise(n=>{window.open(e,"_self"),n()})})}close(){return s(this,null,function*(){yield K.removeAllListeners()})}}const Ie=new $t;class Ot{available(){return s(this,null,function*(){return!0})}isDingTalk(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t(e),t("DingTalkService getSignature...")})}config(){return s(this,null,function*(){return t("DingTalkService config..."),new Promise((e,a)=>{this.getSignature("url").then(r=>{r.data?(t("DingTalkService config..."),dd.config({agentId:r.data.agentId,corpId:r.data.corpId,timeStamp:r.data.timestamp,nonceStr:r.data.nonceStr,signature:r.data.signature,jsApiList:["runtime.info","biz.contact.choose","device.notification.confirm","device.notification.alert","device.notification.prompt","biz.ding.post","biz.util.openLink","biz.navigation.close","biz.util.share","biz.util.chooseImage","biz.util.scan"],onSuccess:n=>{t("DingTalkService config onSuccess."),t(n),e()},onFail:n=>{t("DingTalkService config onFail."),t(n),a()}}),dd.error(n=>{t("DingTalkService config error."),t(n)}),dd.ready(()=>{t("DingTalkService config ready.")})):a()})})})}getPhoto(){return s(this,null,function*(){return t("DingTalkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("DingTalkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("DingTalkService takePhotos..."),new Promise((r,n)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{dd.chooseImage({sourceType:[e],count:a,position:["back"],onSuccess:i=>{t("DingTalkService takePhotos success."),console.log(i.tempFilePaths,i.tempFiles),r()},onFail:i=>{t("DingTalkService takePhotos fail."),t(i),n()}})})):(t("DingTalkService dd not available."),n())})})}scanQRCode(){return t("DingTalkService scanQRCode..."),new Promise((e,a)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{t("DingTalkService dd ready."),dd.biz.util.scan({type:"all",onSuccess:r=>{t("DingTalkService scanQRCode onSuccess."),t(r),e(r.text)},onFail:r=>{t("DingTalkService scanQRCode onFail."),t(r),a()}})})):(t("DingTalkService dd not available."),a())})}}const he=new Ot;class Et{available(){return s(this,null,function*(){return!0})}isLark(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t(e),t("LarkService getSignature...")})}config(){return s(this,null,function*(){return this.isLark()?(t("LarkService getSignature..."),new Promise((e,a)=>{this.getSignature("url").then(r=>{r.data?(t("LarkService config..."),h5sdk.config({appId:r.data.appId,timestamp:+r.data.timestamp,nonceStr:r.data.nonceStr,signature:r.data.signature,jsApiList:["biz.navigation.close","biz.util.share"],onSuccess:n=>{t("LarkService config onSuccess."),t(n),e()},onFail:n=>{t("LarkService config onFail."),t(n),a()}}),h5sdk.error(n=>{t("LarkService config error."),t(n)}),h5sdk.ready(()=>{t("LarkService config ready.")})):a()})})):Promise.resolve()})}getPhoto(){return s(this,null,function*(){return t("LarkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("LarkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("LarkService takePhotos..."),new Promise((r,n)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{tt.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("LarkService takePhotos success."),t(i),r(i.tempFilePaths)},fail:i=>{t("LarkService takePhotos success."),t(i),n()}})})):(t("LarkService h5sdk not available."),n())})})}scanQRCode(){return t("LarkService scanQRCode..."),new Promise((e,a)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{t("LarkService h5sdk ready."),tt.scanCode({scanType:["barCode","qrCode"],barCodeInput:!0,success:r=>{t("LarkService scanQRCode success."),t(r),e(r.result)},fail:r=>{t("LarkService scanQRCode fail."),t(r),a()}})})):(t("LarkService h5sdk not available."),a())})}}const pe=new Et,ae=F("BarcodeScanner",{web:()=>se(()=>import("./web-2c6c21e4.js"),["assets/web-2c6c21e4.js","assets/index-9f8d664e.js","assets/index-bdbeb2ed.css","assets/index-54c63fa9.js","assets/use-route-e0417d80.js","assets/index-c9181c0e.css","assets/index-c9b2661a.js","assets/index-5987bc0e.css","assets/index-b8be88ff.js","assets/index-24ee41ea.css","assets/index-98a3ec2a.js","assets/use-placeholder-55253c18.js","assets/index-7bc4136f.css","assets/index-838965de.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css"]).then(o=>new o.BarcodeScannerWeb)});var we;(function(o){o.Prompt="PROMPT",o.Camera="CAMERA",o.Photos="PHOTOS"})(we||(we={}));var be;(function(o){o.Rear="REAR",o.Front="FRONT"})(be||(be={}));var ne;(function(o){o.Uri="uri",o.Base64="base64",o.DataUrl="dataUrl"})(ne||(ne={}));const Ut=F("Camera",{web:()=>se(()=>import("./web-92387935.js"),["assets/web-92387935.js","assets/index-9f8d664e.js","assets/index-bdbeb2ed.css","assets/index-54c63fa9.js","assets/use-route-e0417d80.js","assets/index-c9181c0e.css","assets/index-c9b2661a.js","assets/index-5987bc0e.css","assets/index-b8be88ff.js","assets/index-24ee41ea.css","assets/index-98a3ec2a.js","assets/use-placeholder-55253c18.js","assets/index-7bc4136f.css","assets/index-838965de.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css"]).then(o=>new o.CameraWeb)});class Dt{available(){return s(this,null,function*(){return!0})}isNative(){return P.isNativePlatform()}isIos(){return P.getPlatform()==="ios"}isAndroid(){return P.getPlatform()==="android"}isWeb(){return P.getPlatform()==="web"}config(){return s(this,null,function*(){t("NativeService config...")})}takePhotos(e="",a=1){return s(this,null,function*(){return t("NativeService takePhotos..."),t(e),t(a),new Promise((r,n)=>s(this,null,function*(){P.isPluginAvailable("Camera")?(t("NativeService Camera available."),yield Ut.getPhoto({quality:90,allowEditing:!0,resultType:ne.Uri}),r("")):(t("NativeService Camera not available."),n())}))})}scanQRCode(){return t("NativeService scanQRCode..."),new Promise((e,a)=>s(this,null,function*(){if(P.isPluginAvailable("BarcodeScanner")){t("NativeService BarcodeScanner available."),yield ae.checkPermission({force:!0}),yield ae.hideBackground();const n=yield ae.startScan();n.hasContent?(t("LarkService scanQRCode success."),t(n),e(n.content)):(t("LarkService scanQRCode fail."),t(n),a())}else t("NativeService BarcodeScanner not available."),a()}))}}const Se=new Dt,At=o=>Le("/api/oapis/wecom/signature",o),Bt=o=>Le("/api/oapis/wechat/signature",o);class zt{available(){return s(this,null,function*(){return!0})}isWeCom(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}isWeComEnabled(){return v.wechat.cp.enabled}auth(e="",a=!1){return s(this,null,function*(){t("WeComService auth...");let r;Q.isWebPlatform()&&!J(v.wechat.cp.webappRedirectUrl)?(t(`WeComService webapp auth. ${v.wechat.cp.webappRedirectUrl}`),r=a?e:I(v.wechat.cp.webappRedirectUrl,e)):Q.isWapPlatform()&&!J(v.wechat.cp.mobileRedirectUrl)?(t(`WeComService mobile auth. ${v.wechat.cp.mobileRedirectUrl}`),r=a?e:I(v.wechat.cp.mobileRedirectUrl,e)):(t(`WeComService auth. ${v.wechat.cp.redirectUrl}`),r=a?e:I(v.wechat.cp.redirectUrl,e)),t(`WeComService auth redirectUrl. ${r}`);const n=I(v.wechat.cp.oauthUrl,v.wechat.cp.appId,encodeURIComponent(r),v.wechat.cp.agentId,v.wechat.cp.oauthPrivateEnabled?"snsapi_privateinfo":"snsapi_base");t(`WeComService redirect to ${n}.`),je(n),yield Ie.open(n,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeComService getSignature..."),yield At({url:e})})}config(){return s(this,null,function*(){t("WeComService config...");const e=location.href.split("#")[0];return new Promise((a,r)=>{this.getSignature(e).then(n=>{n.data?(t("WeComService config signature."),wx.config({debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeComService config ready."),a()}),wx.error(i=>{t("WeComService config error."),console.log(i)})):r()}).catch(n=>{t("WeComService config ready."),t(n),r()})})})}getPhoto(){return s(this,null,function*(){return t("WeComService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeComService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("WeComService takePhotos..."),new Promise((r,n)=>{wx?(t("WeComService wx available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("WeComService takePhotos success."),t(i),r(i.localIds)},fail:()=>{t("WeComService takePhotos fail."),n()}})})):(t("WeComService not available."),n())})})}scanQRCode(){return t("WeComService scanQRCode..."),new Promise((e,a)=>{console.log(wx),wx?(t("WeComService wx available."),wx.ready(()=>{t("WeComService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:r=>{t("WeComService scanQRCode success."),t(r),e(r.resultStr)},cancel:r=>{t("WeComService scanQRCode cancel."),t(r),a(r)},error:r=>{t("WeComService scanQRCode error."),t(r),r.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),a(r)}})})):(t("WeComService wx not available."),a())})}}const Pe=new zt;class Mt{getPlatform(){return P.getPlatform()}isWapPlatform(){const e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|phone/i.test(e)}isWebPlatform(){return!this.isWapPlatform()}initialize(){return s(this,null,function*(){t("PlatformService initialize..."),Se.isNative()?yield Se.config():Pe.isWeCom()?yield Pe.config():Ce.isWeChat()?yield Ce.config():pe.isLark()?yield pe.config():he.isDingTalk()&&(yield he.config())})}}const Q=new Mt;class Qt{available(){return s(this,null,function*(){return!0})}isWeChat(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}auth(e,a=!1){return s(this,null,function*(){t("WeChatService auth...");let r;Q.isWebPlatform()&&!J(v.wechat.mp.webappRedirectUrl)?r=a?e:I(v.wechat.mp.webappRedirectUrl,ee(e,"code")):Q.isWapPlatform()&&!J(v.wechat.mp.mobileRedirectUrl)?r=a?e:I(v.wechat.mp.mobileRedirectUrl,ee(e,"code")):r=a?e:I(v.wechat.mp.redirectUrl,ee(e,"code"));const n=I(v.wechat.mp.appId,encodeURIComponent(r));t(`WeChatService redirect to ${n}.`),yield Ie.open(n,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeChatService getSignature..."),yield Bt({url:e})})}config(){return s(this,null,function*(){t("WeChatService config...");const e=location.href.split("#")[0];return new Promise((a,r)=>{this.getSignature(e).then(n=>{n.data?(t("WeChatService config..."),wx.config({debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeChatService config ready."),a()}),wx.error(i=>{t("WeChatService config error."),console.log(i)})):r()}).catch(n=>{t("WeChatService config ready."),t(n),r()})})})}getPhoto(){return s(this,null,function*(){return t("WeChatService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeChatService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("WeChatService takePhotos..."),new Promise((r,n)=>{wx?(t("WeChatService available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("WeChatService takePhotos success."),t(i),r(i.localIds)},fail:()=>{t("WeChatService takePhotos fail."),n()}})})):(t("WeChatService not available."),n())})})}scanQRCode(){return t("WeChatService scanQRCode..."),new Promise((e,a)=>{console.log(wx),wx?(t("WeChatService wx available."),wx.ready(()=>{t("WeChatService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:r=>{t("WeChatService scanQRCode success."),t(r),e(r.resultStr)},cancel:r=>{t("WeChatService scanQRCode cancel."),t(r),a(r)},error:r=>{t("WeChatService scanQRCode error."),t(r),r.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),a(r)}})})):(t("WeChatService wx not available."),a())})}}const Ce=new Qt;class Ft{initialize(){return s(this,null,function*(){Q.initialize().then(()=>{t("PlatformService initialize successfully.")})})}}const Nt=new Ft,ce=o=>(at("data-v-6c09e008"),o=o(),rt(),o),qt={class:"page"},jt={class:"page-content"},Ht={class:"m-4 flex"},Gt={class:"flex-none"},Vt={class:"mt-2 w-1 flex-grow pl-4"},Kt={key:1,class:"van-ellipsis name font-medium"},Jt=ce(()=>U("div",{class:"divider"},null,-1)),Xt=ce(()=>U("div",{class:"divider"},null,-1)),Yt=ce(()=>U("div",{class:"divider"},null,-1)),Zt=ie({__name:"me",setup(o){const{t:e}=He(),a=Ge(),{user:r,logout:n,isAnonymous:i}=Ve(),l=Ke("app-header app-header-transparent"),c=d=>{d.isFixed&&d.scrollTop&&d.scrollTop>60?l.value="app-header":l.value="app-header app-header-transparent"},u=()=>{n().then(()=>{a.push("/")})};return Je(()=>s(this,null,function*(){t("Page <<MePage>> mounted."),yield Nt.initialize().then()})),(d,S)=>{const h=_e,w=st,x=dt,y=it,W=bt,$=ft,O=nt,M=ot;return H(),G("div",qt,[U("div",jt,[f(x,{onScroll:c},{default:B(()=>[f(w,{border:!1,class:Xe(L(l))},{right:B(()=>[f(h,{size:"24",onClick:S[0]||(S[0]=N=>L(a).push("/notice"))},{default:B(()=>[f(L(Ye),{icon:"mdi:email-outline"})]),_:1})]),_:1},8,["class"])]),_:1}),U("div",Ht,[U("div",Gt,[f(y,{round:"",class:"!align-middle",width:"3.5rem",height:"3.5rem",src:L(St)},null,8,["src"])]),U("div",Vt,[L(i)?(H(),G(me,{key:0},[],64)):(H(),G("div",Kt,Ze(L(r).displayName),1))])]),Jt,f(O,{inset:""},{default:B(()=>[f($,{square:""},{default:B(()=>[(H(),G(me,null,et(24,N=>f(W,{key:N,icon:"photo-o",text:"文字"})),64))]),_:1})]),_:1}),Xt,f(O,{inset:""},{default:B(()=>[f(M,{title:L(e)("common.label_setting"),to:"/setting",isLink:""},null,8,["title"]),f(M,{title:L(e)("common.label_about"),to:"/about",isLink:""},null,8,["title"]),f(M,{title:L(e)("common.button_logout"),onClick:u},null,8,["title"])]),_:1}),Yt])])}}});const ea=ut(Zt,[["__scopeId","data-v-6c09e008"]]),ua=Object.freeze(Object.defineProperty({__proto__:null,default:ea},Symbol.toStringTag,{value:"Module"}));export{we as C,Re as W,be as a,te as b,ua as m};
