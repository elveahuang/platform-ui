var C=(e,u,t)=>new Promise((l,o)=>{var i=s=>{try{n(t.next(s))}catch(a){o(a)}},m=s=>{try{n(t.throw(s))}catch(a){o(a)}},n=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,m);n((t=t.apply(e,u)).next())});import{d as O,t as B,n as _,N,e as P,r as S,O as R,h as c,k as $,x as T,j as M,ac as z,L as F,z as w,H as E,ad as D,a5 as H,B as K,X as L,ae as X,F as Y,aa as Z}from"./index-38c8f8b2.js";import{u as q}from"./use-placeholder-8cb787f8.js";import{a as G,b as J,I as Q}from"./index-802aec68.js";import{c as U}from"./interceptor-22d74717.js";import{r as W,u as ee}from"./use-route-e313d96e.js";const[A,y]=O("tabbar"),te={route:Boolean,fixed:B,border:B,zIndex:_,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:N(0),safeAreaInsetBottom:{type:Boolean,default:null}},V=Symbol(A);var ae=P({name:A,props:te,emits:["change","update:modelValue"],setup(e,{emit:u,slots:t}){const l=S(),{linkChildren:o}=R(V),i=q(l,y),m=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},n=()=>{var a;const{fixed:r,zIndex:d,border:f}=e;return c("div",{ref:l,role:"tablist",style:$(d),class:[y({fixed:r}),{[G]:f,"van-safe-area-bottom":m()}]},[(a=t.default)==null?void 0:a.call(t)])};return o({props:e,setActive:(a,r)=>{U(e.beforeChange,{args:[a],done(){u("update:modelValue",a),u("change",a),r()}})}}),()=>e.fixed&&e.placeholder?i(n):n()}});const ne=T(ae),[oe,p]=O("tabbar-item"),re=M({},W,{dot:Boolean,icon:String,name:_,badge:_,badgeProps:Object,iconPrefix:String});var ce=P({name:oe,props:re,emits:["click"],setup(e,{emit:u,slots:t}){const l=ee(),o=z().proxy,{parent:i,index:m}=F(V);if(!i)return;const n=w(()=>{var r;const{route:d,modelValue:f}=i.props;if(d&&"$route"in o){const{$route:h}=o,{to:v}=e,b=D(v)?v:{path:v};return!!h.matched.find(I=>{const k="path"in b&&b.path===I.path,j="name"in b&&b.name===I.name;return k||j})}return((r=e.name)!=null?r:m.value)===f}),s=r=>{var d;n.value||i.setActive((d=e.name)!=null?d:m.value,l),u("click",r)},a=()=>{if(t.icon)return t.icon({active:n.value});if(e.icon)return c(Q,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:d,badge:f}=e,{activeColor:h,inactiveColor:v}=i.props,b=n.value?h:v;return c("div",{role:"tab",class:p({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:s},[c(J,E({dot:d,class:p("icon"),content:f},e.badgeProps),{default:a}),c("div",{class:p("text")},[(r=t.default)==null?void 0:r.call(t,{active:n.value})])])}}});const g=T(ce);function x(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Z(e)}const be=P({name:"Tabs",setup(){const{t:e}=H(),u=S(0);return K(()=>C(this,null,function*(){L("Component <<Tabs>> mounted.")})),()=>{let t,l,o;return c(Y,null,[c(X,null,null),c(ne,{modelValue:u.value,route:!0},{default:()=>[c(g,{replace:!0,to:"/tabs/home",icon:"home-o"},x(t=e("common.label_home"))?t:{default:()=>[t]}),c(g,{replace:!0,to:"/tabs/discover",icon:"search"},x(l=e("common.label_discover"))?l:{default:()=>[l]}),c(g,{replace:!0,to:"/tabs/me",icon:"setting-o"},x(o=e("common.label_me"))?o:{default:()=>[o]})]})])}}});export{be as default};
