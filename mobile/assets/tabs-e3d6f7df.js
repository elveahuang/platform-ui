var I=(e,u,t)=>new Promise((l,o)=>{var i=s=>{try{n(t.next(s))}catch(a){o(a)}},m=s=>{try{n(t.throw(s))}catch(a){o(a)}},n=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,m);n((t=t.apply(e,u)).next())});import{c as S,g as P,r as T,A as R,y as B,n as _,x as $,t as c,aa as M,ab as N,ac as w,K as A,e as z,ad as E,o as F,k as K,ae as D,G,af as Y,a8 as Z,a3 as q,a1 as H,T as J,ag as L,S as Q,a9 as U}from"./index-1f9f59e0.js";import{u as W}from"./use-placeholder-7ac71bab.js";import{r as X,u as ee}from"./use-route-f0f50797.js";const[O,y]=S("tabbar"),te={route:Boolean,fixed:B,border:B,zIndex:_,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:$(0),safeAreaInsetBottom:{type:Boolean,default:null}},V=Symbol(O);var ae=P({name:O,props:te,emits:["change","update:modelValue"],setup(e,{emit:u,slots:t}){const l=T(),{linkChildren:o}=R(V),i=W(l,y),m=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},n=()=>{var a;const{fixed:r,zIndex:d,border:f}=e;return c("div",{ref:l,role:"tablist",style:M(d),class:[y({fixed:r}),{[N]:f,"van-safe-area-bottom":m()}]},[(a=t.default)==null?void 0:a.call(t)])};return o({props:e,setActive:(a,r)=>{w(e.beforeChange,{args:[a],done(){u("update:modelValue",a),u("change",a),r()}})}}),()=>e.fixed&&e.placeholder?i(n):n()}});const ne=A(ae),[oe,h]=S("tabbar-item"),re=z({},X,{dot:Boolean,icon:String,name:_,badge:_,badgeProps:Object,iconPrefix:String});var ce=P({name:oe,props:re,emits:["click"],setup(e,{emit:u,slots:t}){const l=ee(),o=E().proxy,{parent:i,index:m}=F(V);if(!i)return;const n=K(()=>{var r;const{route:d,modelValue:f}=i.props;if(d&&"$route"in o){const{$route:g}=o,{to:v}=e,b=Y(v)?v:{path:v};return!!g.matched.find(C=>{const k="path"in b&&b.path===C.path,j="name"in b&&b.name===C.name;return k||j})}return((r=e.name)!=null?r:m.value)===f}),s=r=>{var d;n.value||i.setActive((d=e.name)!=null?d:m.value,l),u("click",r)},a=()=>{if(t.icon)return t.icon({active:n.value});if(e.icon)return c(Z,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:d,badge:f}=e,{activeColor:g,inactiveColor:v}=i.props,b=n.value?g:v;return c("div",{role:"tab",class:h({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:s},[c(D,G({dot:d,class:h("icon"),content:f},e.badgeProps),{default:a}),c("div",{class:h("text")},[(r=t.default)==null?void 0:r.call(t,{active:n.value})])])}}});const p=A(ce);function x(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!U(e)}const de=P({name:"Tabs",setup(){const{t:e}=q(),u=T(0);return H(()=>I(this,null,function*(){J("Component <<Tabs>> mounted.")})),()=>{let t,l,o;return c(Q,null,[c(L,null,null),c(ne,{modelValue:u.value,route:!0},{default:()=>[c(p,{replace:!0,to:"/tabs/home",icon:"home-o"},x(t=e("common.label_home"))?t:{default:()=>[t]}),c(p,{replace:!0,to:"/tabs/discover",icon:"search"},x(l=e("common.label_discover"))?l:{default:()=>[l]}),c(p,{replace:!0,to:"/tabs/me",icon:"setting-o"},x(o=e("common.label_me"))?o:{default:()=>[o]})]})])}}});export{de as default};
