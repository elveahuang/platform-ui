System.register(["./index-legacy-1b70f568.js","./index-legacy-268d3130.js","./index-legacy-87af6b0e.js","./index-legacy-93a229b2.js","./index-legacy-2240c3cd.js","./index-legacy-d84aedba.js","./index-legacy-445e7cdb.js","./logo-legacy-8a19969c.js","./index-legacy-b72a7a31.js","./index-legacy-ed173f4c.js","./_plugin-vue_export-helper-legacy-762b7923.js"],(function(e,l){"use strict";var t,n,a,o,s,r,u,i,d,c,m,p,v,g,f,y,h,_,w,x,V,b,C,k,j,P,B,S,A,E,z,F,T,U,$,q,I,L,D,M,N,O,G,H,J,K,R,W,Q,X,Y,Z=document.createElement("style");return Z.textContent=".van-nav-bar[data-v-ac7ecb59]{background-color:var(--app-primary-color)}\n",document.head.appendChild(Z),{setters:[e=>{t=e.c,n=e.d,a=e.u,o=e.e,s=e.f,r=e.n,u=e.t,i=e.p,d=e.F,c=e.w,m=e.r,p=e.l,v=e.o,g=e.g,f=e.h,y=e.i,h=e.j,_=e.k,w=e.m,x=e.q,V=e.s,b=e.P,C=e.v,k=e.x,j=e.y,P=e.z,B=e.A,S=e.B,A=e.D,E=e.E,z=e.G,F=e.H,T=e.I,U=e.J,$=e.K,q=e.L,I=e.M,L=e.N,D=e.O},e=>{M=e.F,N=e.C,O=e.R},e=>{G=e.B,H=e.S},e=>{J=e.C},null,null,null,e=>{K=e.l,R=e.I},e=>{W=e.N},e=>{Q=e.P,X=e.u},e=>{Y=e._}],execute:function(){const[l,Z]=t("form"),ee={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:r,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:u,showErrorMessage:u,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var le=n({name:l,props:ee,emits:["submit","failed"],setup(e,{emit:l,slots:t}){const{children:n,linkChildren:r}=a(d),u=e=>e?n.filter((l=>e.includes(l.name))):n,c=l=>{return"string"==typeof l?(e=>{const l=n.find((l=>l.name===e));return l?new Promise(((e,t)=>{l.validate().then((l=>{l?t(l):e()}))})):Promise.reject()})(l):e.validateFirst?(t=l,new Promise(((e,l)=>{const n=[];u(t).reduce(((e,l)=>e.then((()=>{if(!n.length)return l.validate().then((e=>{e&&n.push(e)}))}))),Promise.resolve()).then((()=>{n.length?l(n):e()}))}))):(e=>new Promise(((l,t)=>{const n=u(e);Promise.all(n.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?t(e):l()}))})))(l);var t},m=(e,l)=>{n.some((t=>t.name===e&&(t.$el.scrollIntoView(l),!0)))},p=()=>n.reduce(((e,l)=>(void 0!==l.name&&(e[l.name]=l.formValue.value),e)),{}),v=()=>{const t=p();c().then((()=>l("submit",t))).catch((n=>{l("failed",{values:t,errors:n}),e.scrollToError&&n[0].name&&m(n[0].name)}))},g=e=>{i(e),v()};return r({props:e}),o({submit:v,validate:c,getValues:p,scrollToField:m,resetValidation:e=>{"string"==typeof e&&(e=[e]),u(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>n.reduce(((e,l)=>(e[l.name]=l.getValidationStatus(),e)),{})}),()=>{var e;return s("form",{class:Z(),onSubmit:g},[null==(e=t.default)?void 0:e.call(t)])}}});const te=c(le),ne=n({__name:"locale-selector",setup(e){const{changeLocale:l}=X(),t=m(!1),n=p.map((e=>({text:e.title,value:e.locale}))),a=e=>{w(e),x(e.selectedValues)&&l(V(e.selectedValues[0])),t.value=!1};return(e,l)=>{const o=G,r=Q,u=b;return v(),g(_,null,[s(o,{plain:"",hairline:"",square:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[y("语言")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:h(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}}),ae=n({__name:"dark-selector",setup(e){const l=C(),t=m(!1),n=k.map((e=>({text:e.title,value:e.strategy}))),a=e=>{if(w(e),t.value=!1,x(e.selectedValues)){const t=j(e.selectedValues[0]);l.setDarkStrategy(t),l.setDark(P(t)),B(P(t))}};return(e,l)=>{const o=G,r=Q,u=b;return v(),g(_,null,[s(o,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[y("深色模式")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:h(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}}),oe=n({__name:"theme-selector",setup(e){const l=C();S((()=>l.theme));const t=m(!1),n=A.map((e=>({text:e.title,value:e.theme}))),a=e=>{w(e),t.value=!1,x(e.selectedValues)&&l.setTheme(E(e.selectedValues[0]))};return(e,l)=>{const o=G,r=Q,u=b;return v(),g(_,null,[s(o,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[y("主题")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:h(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}});var se;function re(e){return"function"==typeof e?e():h(e)}"undefined"!=typeof window&&(null==(se=null==window?void 0:window.navigator)?void 0:se.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const ue={id:"entry-page",class:"entry-page"},ie={class:"entry-page-logo"},de={id:"entry-page-content"},ce={class:"my-2"},me=n({__name:"index",setup(e){const l=F(),t=T(),[n,a]=function(e=!1,l={}){const{truthyValue:t=!0,falsyValue:n=!1}=l,a=z(e),o=m(e);function s(e){if(arguments.length)return o.value=e,o.value;{const e=re(t);return o.value=o.value===e?re(n):e,o.value}}return a?s:[o,s]}(!1),o=m(),r=U({grant_type:"password",username:"admin",password:"admin"}),u=U({username:[{required:!0,message:"Please input username"}],password:[{required:!0,message:"Please input password"}]});return $((async()=>{w("Page - <Login> is mounted.")})),(e,i)=>{const d=W,c=R,m=D,p=M,w=G,x=J,V=H,b=N,C=O,k=te;return v(),g(_,null,[s(d,{title:e.$t("common.title")},null,8,["title"]),q("div",ue,[q("div",ie,[s(c,{fit:"contain",src:h(K),alt:"Logo"},null,8,["src"])]),q("div",de,[s(k,{ref_key:"form",ref:o},{default:f((()=>[s(x,{inset:""},{default:f((()=>[s(p,{modelValue:r.username,"onUpdate:modelValue":i[0]||(i[0]=e=>r.username=e),placeholder:e.$t("common.user_field_username"),rules:u.username},{"left-icon":f((()=>[s(m,null,{default:f((()=>[s(h(I),{icon:"ion:person-outline"})])),_:1})])),_:1},8,["modelValue","placeholder","rules"]),s(p,{modelValue:r.password,"onUpdate:modelValue":i[2]||(i[2]=e=>r.password=e),placeholder:e.$t("common.user_field_password"),rules:u.password,type:h(n)?"password":"text"},{"left-icon":f((()=>[s(m,null,{default:f((()=>[s(h(I),{icon:"ion:lock-closed-outline"})])),_:1})])),"right-icon":f((()=>[s(m,{name:h(n)?"closed-eye":"eye",onClick:i[1]||(i[1]=e=>h(a)(!h(n)))},null,8,["name"])])),_:1},8,["modelValue","placeholder","rules","type"]),q("div",ce,[s(w,{onClick:i[3]||(i[3]=e=>(async e=>{try{await e.validate(),l.login(r).then((e=>{1===e.code&&t.push("/")}))}catch(n){return}})(o.value)),type:"primary",block:""},{default:f((()=>[y(L(e.$t("common.button_login")),1)])),_:1})])])),_:1}),s(C,{class:"px-4 pt-4"},{default:f((()=>[s(b,{span:"12",class:"text-left"},{default:f((()=>[s(V,null,{default:f((()=>[s(h(ne)),s(h(ae)),s(h(oe))])),_:1})])),_:1}),s(b,{span:"12",class:"text-right"},{default:f((()=>[s(w,{type:"text",size:"small"},{default:f((()=>[y("忘记密码")])),_:1}),s(w,{type:"text",size:"small"},{default:f((()=>[y("注册")])),_:1})])),_:1})])),_:1})])),_:1},512)])])],64)}}});e("default",Y(me,[["__scopeId","data-v-ac7ecb59"]]))}}}));
