var f=(_,s,t)=>new Promise((m,e)=>{var i=o=>{try{a(t.next(o))}catch(r){e(r)}},p=o=>{try{a(t.throw(o))}catch(r){e(r)}},a=o=>o.done?m(o.value):Promise.resolve(o.value).then(i,p);a((t=t.apply(_,s)).next())});import{d as y,p as b,k,f as w,g as B,l as h,aU as c,o as x,c as F,h as n,u as l,w as u,b as g,x as I,t as K,F as N,e as P,B as U,j as q}from"./index-9yh00f_X.js";/* empty css              *//* empty css              */import{C as S}from"./index-JH76eCFQ.js";/* empty css              */import{F as j,a as A}from"./index-uYN2hZGL.js";import{N as D}from"./index-mlR58sdL.js";import{a as E}from"./user-Nxlh6Wx6.js";import"./index-r7EEpMAi.js";const G=g("div",{class:"app-divider"},null,-1),L={class:"m-4"},X=y({__name:"reset-password",setup(_){const{t:s}=b(),t=k(),m=w({password:[{required:!0,message:s("common.user_field_password_validation")}],passwordConfirm:[{required:!0,message:s("common.user_field_password_validation")}]}),e=w({username:"",email:"",password:"",passwordConfirm:"",captchaKey:"",captchaValue:""}),i=()=>{const p={email:e.email,username:e.username,password:e.password,passwordConfirm:e.passwordConfirm,captchaKey:e.captchaKey,captchaValue:e.captchaValue};E(p).then(a=>{a.code==200&&P.push({path:"login"}).then()}).catch(a=>{h(a)})};return B(()=>f(this,null,function*(){h("Page <<ResetPassword>> mounted."),e.username=c.getItem("username"),e.email=c.getItem("email"),e.captchaKey=c.getItem("captchaKey"),e.captchaValue=c.getItem("captchaValue")})),(p,a)=>{const o=D,r=j,v=S,V=U,C=A;return x(),F(N,null,[n(o,{title:l(s)("common.user_pages_reset_password_title"),"left-arrow":"",onClickLeft:a[0]||(a[0]=d=>l(q)())},null,8,["title"]),G,n(C,{ref_key:"form",ref:t,onSubmit:i},{default:u(()=>[n(v,{inset:""},{default:u(()=>[n(r,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=d=>e.password=d),placeholder:l(s)("common.user_field_password_placeholder"),rules:m.password},null,8,["modelValue","placeholder","rules"]),n(r,{modelValue:e.passwordConfirm,"onUpdate:modelValue":a[2]||(a[2]=d=>e.passwordConfirm=d),placeholder:l(s)("common.user_field_password_confirm_placeholder"),rules:m.passwordConfirm},null,8,["modelValue","placeholder","rules"])]),_:1}),g("div",L,[n(V,{block:"",type:"primary","native-type":"submit"},{default:u(()=>[I(K(l(s)("common.button_submit")),1)]),_:1})])]),_:1},512)],64)}}});export{X as default};
