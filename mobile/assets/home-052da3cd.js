var X=(e,g,s)=>new Promise((u,o)=>{var t=n=>{try{l(s.next(n))}catch(c){o(c)}},p=n=>{try{l(s.throw(n))}catch(c){o(c)}},l=n=>n.done?u(n.value):Promise.resolve(n.value).then(t,p);l((s=s.apply(e,g)).next())});import{e as ee,a6 as Y,n as ue,m as N,d as L,r as W,D as te,u as Ae,ak as Be,f as b,a9 as ae,W as P,ax as ze,ay as De,az as Ee,o as F,aA as Re,aB as he,aC as Me,aD as Ne,i as ge,b as r,ab as fe,aa as pe,aE as A,q as Oe,v as K,x as ne,at as We,aF as Le,aG as He,aH as Xe,K as G,k as de,aI as Ye,aJ as je,l as _e,a as O,c as ve,w as y,y as J,F as Q,z as we,E as I,P as U,B as Fe,C as Z,aK as Ve,A as ie,S as qe,Q as Ke,J as me}from"./index-8228b4be.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{N as Ge}from"./index-4360460d.js";/* empty css              *//* empty css                                                         */import{a as Je}from"./announcement-f666a62f.js";import{S as Qe}from"./index-d3908a50.js";import{I as Ue}from"./index-9c33b4fb.js";const[be,j]=ee("swipe"),Ze={loop:Y,width:ue,height:ue,vertical:Boolean,autoplay:N(0),duration:N(500),touchable:Y,lazyRender:Boolean,initialSwipe:N(0),indicatorColor:String,showIndicators:Y,stopPropagation:Y},ye=Symbol(be);var et=L({name:be,props:Ze,emits:["change","dragStart","dragEnd"],setup(e,{emit:g,slots:s}){const u=W(),o=W(),t=te({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let p=!1;const l=Ae(),{children:n,linkChildren:c}=Be(ye),i=b(()=>n.length),f=b(()=>t[e.vertical?"height":"width"]),v=b(()=>e.vertical?l.deltaY.value:l.deltaX.value),k=b(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-f.value*i.value:0),B=b(()=>f.value?Math.ceil(Math.abs(k.value)/f.value):i.value),S=b(()=>i.value*f.value),h=b(()=>(t.active+i.value)%i.value),T=b(()=>{const a=e.vertical?"vertical":"horizontal";return l.direction.value===a}),C=b(()=>{const a={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(f.value){const m=e.vertical?"height":"width",d=e.vertical?"width":"height";a[m]=`${S.value}px`,a[d]=e[d]?`${e[d]}px`:""}return a}),V=a=>{const{active:m}=t;return a?e.loop?K(m+a,-1,i.value):K(m+a,0,B.value):m},z=(a,m=0)=>{let d=a*f.value;e.loop||(d=Math.min(d,-k.value));let w=m-d;return e.loop||(w=K(w,k.value,0)),w},x=({pace:a=0,offset:m=0,emitChange:d})=>{if(i.value<=1)return;const{active:w}=t,_=V(a),R=z(_,m);if(e.loop){if(n[0]&&R!==k.value){const q=R<k.value;n[0].setOffset(q?S.value:0)}if(n[i.value-1]&&R!==0){const q=R>0;n[i.value-1].setOffset(q?-S.value:0)}}t.active=_,t.offset=R,d&&_!==w&&g("change",h.value)},H=()=>{t.swiping=!0,t.active<=-1?x({pace:i.value}):t.active>=i.value&&x({pace:-i.value})},Se=()=>{H(),l.reset(),A(()=>{t.swiping=!1,x({pace:-1,emitChange:!0})})},oe=()=>{H(),l.reset(),A(()=>{t.swiping=!1,x({pace:1,emitChange:!0})})};let se;const D=()=>clearTimeout(se),E=()=>{D(),+e.autoplay>0&&i.value>1&&(se=setTimeout(()=>{oe(),E()},+e.autoplay))},$=(a=+e.initialSwipe)=>{if(!u.value)return;const m=()=>{var d,w;if(!fe(u)){const _={width:u.value.offsetWidth,height:u.value.offsetHeight};t.rect=_,t.width=+((d=e.width)!=null?d:_.width),t.height=+((w=e.height)!=null?w:_.height)}i.value&&(a=Math.min(i.value-1,a),a===-1&&(a=i.value-1)),t.active=a,t.swiping=!0,t.offset=z(a),n.forEach(_=>{_.setOffset(0)}),E()};fe(u)?pe().then(m):m()},le=()=>$(t.active);let ce;const Te=a=>{!e.touchable||a.touches.length>1||(l.start(a),p=!1,ce=Date.now(),D(),H())},Ie=a=>{e.touchable&&t.swiping&&(l.move(a),T.value&&(!e.loop&&(t.active===0&&v.value>0||t.active===i.value-1&&v.value<0)||(Oe(a,e.stopPropagation),x({offset:v.value}),p||(g("dragStart",{index:h.value}),p=!0))))},re=()=>{if(!e.touchable||!t.swiping)return;const a=Date.now()-ce,m=v.value/a;if((Math.abs(m)>.25||Math.abs(v.value)>f.value/2)&&T.value){const w=e.vertical?l.offsetY.value:l.offsetX.value;let _=0;e.loop?_=w>0?v.value>0?-1:1:0:_=-Math[v.value>0?"ceil":"floor"](v.value/f.value),x({pace:_,emitChange:!0})}else v.value&&x({pace:0});p=!1,t.swiping=!1,g("dragEnd",{index:h.value}),E()},Ce=(a,m={})=>{H(),l.reset(),A(()=>{let d;e.loop&&a===i.value?d=t.active===0?0:a:d=a%i.value,m.immediate?A(()=>{t.swiping=!1}):t.swiping=!1,x({pace:d-t.active,emitChange:!0})})},$e=(a,m)=>{const d=m===h.value,w=d?{backgroundColor:e.indicatorColor}:void 0;return r("i",{style:w,class:j("indicator",{active:d})},null)},Pe=()=>{if(s.indicator)return s.indicator({active:h.value,total:i.value});if(e.showIndicators&&i.value>1)return r("div",{class:j("indicators",{vertical:e.vertical})},[Array(i.value).fill("").map($e)])};return ae({prev:Se,next:oe,state:t,resize:le,swipeTo:Ce}),c({size:f,props:e,count:i,activeIndicator:h}),P(()=>e.initialSwipe,a=>$(+a)),P(i,()=>$(t.active)),P(()=>e.autoplay,E),P([ze,De,()=>e.width,()=>e.height],le),P(Ee(),a=>{a==="visible"?E():D()}),F($),Re(()=>$(t.active)),he(()=>$(t.active)),Me(D),Ne(D),ge("touchmove",Ie,{target:o}),()=>{var a;return r("div",{ref:u,class:j()},[r("div",{ref:o,style:C.value,class:j("track",{vertical:e.vertical}),onTouchstartPassive:Te,onTouchend:re,onTouchcancel:re},[(a=s.default)==null?void 0:a.call(s)]),Pe()])}}});const xe=ne(et),[tt,at]=ee("swipe-item");var nt=L({name:tt,setup(e,{slots:g}){let s;const u=te({offset:0,inited:!1,mounted:!1}),{parent:o,index:t}=We(ye);if(!o)return;const p=b(()=>{const c={},{vertical:i}=o.props;return o.size.value&&(c[i?"height":"width"]=`${o.size.value}px`),u.offset&&(c.transform=`translate${i?"Y":"X"}(${u.offset}px)`),c}),l=b(()=>{const{loop:c,lazyRender:i}=o.props;if(!i||s)return!0;if(!u.mounted)return!1;const f=o.activeIndicator.value,v=o.count.value-1,k=f===0&&c?v:f-1,B=f===v&&c?0:f+1;return s=t.value===f||t.value===k||t.value===B,s}),n=c=>{u.offset=c};return F(()=>{pe(()=>{u.mounted=!0})}),ae({setOffset:n}),()=>{var c;return r("div",{class:at(),style:p.value},[l.value?(c=g.default)==null?void 0:c.call(g):null])}}});const ke=ne(nt),[it,M]=ee("notice-bar"),ot={text:String,mode:String,color:String,delay:N(1),speed:N(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var st=L({name:it,props:ot,emits:["close","replay"],setup(e,{emit:g,slots:s}){let u=0,o=0,t;const p=W(),l=W(),n=te({show:!0,offset:0,duration:0}),c=()=>{if(s["left-icon"])return s["left-icon"]();if(e.leftIcon)return r(G,{class:M("left-icon"),name:e.leftIcon},null)},i=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},f=h=>{e.mode==="closeable"&&(n.show=!1,g("close",h))},v=()=>{if(s["right-icon"])return s["right-icon"]();const h=i();if(h)return r(G,{name:h,class:M("right-icon"),onClick:f},null)},k=()=>{n.offset=u,n.duration=0,Ye(()=>{A(()=>{n.offset=-o,n.duration=(o+u)/+e.speed,g("replay")})})},B=()=>{const h=e.scrollable===!1&&!e.wrapable,T={transform:n.offset?`translateX(${n.offset}px)`:"",transitionDuration:`${n.duration}s`};return r("div",{ref:p,role:"marquee",class:M("wrap")},[r("div",{ref:l,style:T,class:[M("content"),{"van-ellipsis":h}],onTransitionend:k},[s.default?s.default():e.text])])},S=()=>{const{delay:h,speed:T,scrollable:C}=e,V=je(h)?+h*1e3:0;u=0,o=0,n.offset=0,n.duration=0,clearTimeout(t),t=setTimeout(()=>{if(!p.value||!l.value||C===!1)return;const z=de(p).width,x=de(l).width;(C||x>z)&&A(()=>{u=z,o=x,n.offset=-o,n.duration=o/+T})},V)};return he(S),Le(S),ge("pageshow",S),ae({reset:S}),P(()=>[e.text,e.scrollable],S),()=>{const{color:h,wrapable:T,background:C}=e;return He(r("div",{role:"alert",class:M({wrapable:T}),style:{color:h,background:C}},[c(),B(),v()]),[[Xe,n.show]])}}});const lt=ne(st),ct="/platform-ui-vue/mobile/assets/1-39c4f371.jpeg",rt="/platform-ui-vue/mobile/assets/2-fade683f.jpeg",ut="/platform-ui-vue/mobile/assets/3-8ab82bda.jpeg",ft="/platform-ui-vue/mobile/assets/4-ffd21e42.jpeg",dt=L({__name:"announcement-new",setup(e){const g=W([]),s=()=>X(this,null,function*(){yield Je({page:1,size:5}).then(o=>{g.value=o.data.content})}),u=()=>{Z.push({path:"/announcement/index"})};return F(()=>X(this,null,function*(){_e("Page <<AnnouncementDetailsPage>> mounted."),s().then()})),(o,t)=>{const p=ke,l=xe,n=lt;return O(),ve(n,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:u},{default:y(()=>[r(l,{class:"custom-swipe",vertical:"",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:y(()=>[(O(!0),J(Q,null,we(I(g),c=>(O(),ve(p,{key:c.id},{default:y(()=>[U(Fe(c.title),1)]),_:2},1024))),128))]),_:1})]),_:1})}}}),vt=()=>Ve("/api/v1/home"),mt=ie("div",{class:"app-divider"},null,-1),ht=ie("div",{class:"divider"},null,-1),gt={class:"m-8 text-center"},At=L({__name:"home",setup(e){const g=b(()=>Ke.app.getTitle()),s=[{id:1,img:ct},{id:2,img:rt},{id:3,img:ut},{id:4,img:ft}];return F(()=>X(this,null,function*(){_e("Page <<HomePage>> mounted."),vt().then()})),(u,o)=>{const t=G,p=Ge,l=Qe,n=Ue,c=ke,i=xe,f=qe;return O(),J(Q,null,[r(l,null,{default:y(()=>[r(p,{fixed:!0,placeholder:!0,title:I(g)},{left:y(()=>[r(t,{size:"24",onClick:o[0]||(o[0]=v=>I(Z).push({path:"/notifications/index"}))},{default:y(()=>[r(I(me),{icon:"mdi:bell-outline"})]),_:1})]),right:y(()=>[r(t,{size:"24",onClick:o[1]||(o[1]=v=>I(Z).push({path:"/tabs/me"}))},{default:y(()=>[r(I(me),{icon:"mdi:account-circle-outline"})]),_:1})]),_:1},8,["title"])]),_:1}),r(I(dt)),mt,r(i,{class:"mx-4",autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:y(()=>[(O(),J(Q,null,we(s,v=>r(c,{class:"aspect-[16/9] w-full",key:v.id},{default:y(()=>[r(n,{fit:"fill",position:"top",class:"aspect-[16/9] w-full",radius:5,alt:"IMG",src:v.img},null,8,["src"])]),_:2},1024)),64))]),_:1}),ht,ie("div",gt,[r(f,{type:"primary",to:"/login"},{default:y(()=>[U("Login")]),_:1}),r(f,{type:"primary",to:"/announcement/index"},{default:y(()=>[U("Announcement")]),_:1})])],64)}}});export{At as default};
