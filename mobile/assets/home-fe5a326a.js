var K=(e,r,i)=>new Promise((d,l)=>{var t=o=>{try{u(i.next(o))}catch(f){l(f)}},g=o=>{try{u(i.throw(o))}catch(f){l(f)}},u=o=>o.done?d(o.value):Promise.resolve(o.value).then(t,g);u((i=i.apply(e,r)).next())});import{e as U,L as W,n as fe,m as H,d as z,r as L,D as ce,u as Le,J as ze,f as C,K as Q,a4 as A,aG as Me,aH as Oe,aI as Ne,o as Z,aJ as Ve,aK as we,aL as Fe,aM as je,i as be,b as s,at as ve,ah as ye,aN as E,q as ke,v as ne,x as ee,ab as We,aO as He,aP as Ke,aQ as Xe,R as oe,k as he,aR as Ye,a7 as qe,a8 as Ie,ae as me,ai as ge,aj as Ge,l as xe,a as D,c as _e,w as b,y as Y,F as q,z as ie,E as G,$ as J,B as Je,C as Ue,aS as Qe,A as B,O as pe}from"./index-0f416af7.js";/* empty css              *//* empty css              *//* empty css              */import{I as Ze}from"./index-4c3b4e04.js";/* empty css              */import{f as Ce,u as et,F as tt,C as at,R as nt}from"./index-3299fdaa.js";import{S as ot,B as it}from"./index-e2426476.js";import"./index-8de3a282.js";/* empty css                                                         */import{a as ct}from"./announcement-5c2a0aca.js";import{S as st}from"./index-c3a08a2d.js";import"./use-route-056924fe.js";const[Se,X]=U("swipe"),lt={loop:W,width:fe,height:fe,vertical:Boolean,autoplay:H(0),duration:H(500),touchable:W,lazyRender:Boolean,initialSwipe:H(0),indicatorColor:String,showIndicators:W,stopPropagation:W},Te=Symbol(Se);var rt=z({name:Se,props:lt,emits:["change","dragStart","dragEnd"],setup(e,{emit:r,slots:i}){const d=L(),l=L(),t=ce({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let g=!1;const u=Le(),{children:o,linkChildren:f}=ze(Te),c=C(()=>o.length),v=C(()=>t[e.vertical?"height":"width"]),p=C(()=>e.vertical?u.deltaY.value:u.deltaX.value),y=C(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-v.value*c.value:0),x=C(()=>v.value?Math.ceil(Math.abs(y.value)/v.value):c.value),w=C(()=>c.value*v.value),h=C(()=>(t.active+c.value)%c.value),S=C(()=>{const a=e.vertical?"vertical":"horizontal";return u.direction.value===a}),T=C(()=>{const a={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(v.value){const _=e.vertical?"height":"width",m=e.vertical?"width":"height";a[_]=`${w.value}px`,a[m]=e[m]?`${e[m]}px`:""}return a}),M=a=>{const{active:_}=t;return a?e.loop?ne(_+a,-1,c.value):ne(_+a,0,x.value):_},R=(a,_=0)=>{let m=a*v.value;e.loop||(m=Math.min(m,-y.value));let I=_-m;return e.loop||(I=ne(I,y.value,0)),I},n=({pace:a=0,offset:_=0,emitChange:m})=>{if(c.value<=1)return;const{active:I}=t,k=M(a),V=R(k,_);if(e.loop){if(o[0]&&V!==y.value){const ae=V<y.value;o[0].setOffset(ae?w.value:0)}if(o[c.value-1]&&V!==0){const ae=V>0;o[c.value-1].setOffset(ae?-w.value:0)}}t.active=k,t.offset=V,m&&k!==I&&r("change",h.value)},P=()=>{t.swiping=!0,t.active<=-1?n({pace:c.value}):t.active>=c.value&&n({pace:-c.value})},te=()=>{P(),u.reset(),E(()=>{t.swiping=!1,n({pace:-1,emitChange:!0})})},se=()=>{P(),u.reset(),E(()=>{t.swiping=!1,n({pace:1,emitChange:!0})})};let le;const O=()=>clearTimeout(le),N=()=>{O(),+e.autoplay>0&&c.value>1&&(le=setTimeout(()=>{se(),N()},+e.autoplay))},$=(a=+e.initialSwipe)=>{if(!d.value)return;const _=()=>{var m,I;if(!ve(d)){const k={width:d.value.offsetWidth,height:d.value.offsetHeight};t.rect=k,t.width=+((m=e.width)!=null?m:k.width),t.height=+((I=e.height)!=null?I:k.height)}c.value&&(a=Math.min(c.value-1,a),a===-1&&(a=c.value-1)),t.active=a,t.swiping=!0,t.offset=R(a),o.forEach(k=>{k.setOffset(0)}),N()};ve(d)?ye().then(_):_()},re=()=>$(t.active);let ue;const $e=a=>{!e.touchable||a.touches.length>1||(u.start(a),g=!1,ue=Date.now(),O(),P())},Ae=a=>{e.touchable&&t.swiping&&(u.move(a),S.value&&(!e.loop&&(t.active===0&&p.value>0||t.active===c.value-1&&p.value<0)||(ke(a,e.stopPropagation),n({offset:p.value}),g||(r("dragStart",{index:h.value}),g=!0))))},de=()=>{if(!e.touchable||!t.swiping)return;const a=Date.now()-ue,_=p.value/a;if((Math.abs(_)>.25||Math.abs(p.value)>v.value/2)&&S.value){const I=e.vertical?u.offsetY.value:u.offsetX.value;let k=0;e.loop?k=I>0?p.value>0?-1:1:0:k=-Math[p.value>0?"ceil":"floor"](p.value/v.value),n({pace:k,emitChange:!0})}else p.value&&n({pace:0});g=!1,t.swiping=!1,r("dragEnd",{index:h.value}),N()},Be=(a,_={})=>{P(),u.reset(),E(()=>{let m;e.loop&&a===c.value?m=t.active===0?0:a:m=a%c.value,_.immediate?E(()=>{t.swiping=!1}):t.swiping=!1,n({pace:m-t.active,emitChange:!0})})},Ee=(a,_)=>{const m=_===h.value,I=m?{backgroundColor:e.indicatorColor}:void 0;return s("i",{style:I,class:X("indicator",{active:m})},null)},De=()=>{if(i.indicator)return i.indicator({active:h.value,total:c.value});if(e.showIndicators&&c.value>1)return s("div",{class:X("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(Ee)])};return Q({prev:te,next:se,state:t,resize:re,swipeTo:Be}),f({size:v,props:e,count:c,activeIndicator:h}),A(()=>e.initialSwipe,a=>$(+a)),A(c,()=>$(t.active)),A(()=>e.autoplay,N),A([Me,Oe,()=>e.width,()=>e.height],re),A(Ne(),a=>{a==="visible"?N():O()}),Z($),Ve(()=>$(t.active)),we(()=>$(t.active)),Fe(O),je(O),be("touchmove",Ae,{target:l}),()=>{var a;return s("div",{ref:d,class:X()},[s("div",{ref:l,style:T.value,class:X("track",{vertical:e.vertical}),onTouchstartPassive:$e,onTouchend:de,onTouchcancel:de},[(a=i.default)==null?void 0:a.call(i)]),De()])}}});const Re=ee(rt),[ut,dt]=U("swipe-item");var ft=z({name:ut,setup(e,{slots:r}){let i;const d=ce({offset:0,inited:!1,mounted:!1}),{parent:l,index:t}=We(Te);if(!l)return;const g=C(()=>{const f={},{vertical:c}=l.props;return l.size.value&&(f[c?"height":"width"]=`${l.size.value}px`),d.offset&&(f.transform=`translate${c?"Y":"X"}(${d.offset}px)`),f}),u=C(()=>{const{loop:f,lazyRender:c}=l.props;if(!c||i)return!0;if(!d.mounted)return!1;const v=l.activeIndicator.value,p=l.count.value-1,y=v===0&&f?p:v-1,x=v===p&&f?0:v+1;return i=t.value===v||t.value===y||t.value===x,i}),o=f=>{d.offset=f};return Z(()=>{ye(()=>{d.mounted=!0})}),Q({setOffset:o}),()=>{var f;return s("div",{class:dt(),style:g.value},[u.value?(f=r.default)==null?void 0:f.call(r):null])}}});const Pe=ee(ft),[vt,F]=U("notice-bar"),ht={text:String,mode:String,color:String,delay:H(1),speed:H(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var mt=z({name:vt,props:ht,emits:["close","replay"],setup(e,{emit:r,slots:i}){let d=0,l=0,t;const g=L(),u=L(),o=ce({show:!0,offset:0,duration:0}),f=()=>{if(i["left-icon"])return i["left-icon"]();if(e.leftIcon)return s(oe,{class:F("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},v=h=>{e.mode==="closeable"&&(o.show=!1,r("close",h))},p=()=>{if(i["right-icon"])return i["right-icon"]();const h=c();if(h)return s(oe,{name:h,class:F("right-icon"),onClick:v},null)},y=()=>{o.offset=d,o.duration=0,Ye(()=>{E(()=>{o.offset=-l,o.duration=(l+d)/+e.speed,r("replay")})})},x=()=>{const h=e.scrollable===!1&&!e.wrapable,S={transform:o.offset?`translateX(${o.offset}px)`:"",transitionDuration:`${o.duration}s`};return s("div",{ref:g,role:"marquee",class:F("wrap")},[s("div",{ref:u,style:S,class:[F("content"),{"van-ellipsis":h}],onTransitionend:y},[i.default?i.default():e.text])])},w=()=>{const{delay:h,speed:S,scrollable:T}=e,M=qe(h)?+h*1e3:0;d=0,l=0,o.offset=0,o.duration=0,clearTimeout(t),t=setTimeout(()=>{if(!g.value||!u.value||T===!1)return;const R=he(g).width,n=he(u).width;(T||n>R)&&E(()=>{d=R,l=n,o.offset=-l,o.duration=l/+S})},M)};return we(w),He(w),be("pageshow",w),Q({reset:w}),A(()=>[e.text,e.scrollable],w),()=>{const{color:h,wrapable:S,background:T}=e;return Ke(s("div",{role:"alert",class:F({wrapable:S}),style:{color:h,background:T}},[f(),x(),p()]),[[Xe,o.show]])}}});const gt=ee(mt),[_t,j,pt]=U("search"),wt=Ie({},Ce,{label:String,shape:me("square"),leftIcon:me("search"),clearable:W,actionText:String,background:String,showAction:Boolean});var bt=z({name:_t,props:wt,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:r,slots:i,attrs:d}){const l=et(),t=L(),g=()=>{i.action||(r("update:modelValue",""),r("cancel"))},u=n=>{n.keyCode===13&&(ke(n),r("search",e.modelValue))},o=()=>e.id||`${l}-input`,f=()=>{if(i.label||e.label)return s("label",{class:j("label"),for:o()},[i.label?i.label():e.label])},c=()=>{if(e.showAction){const n=e.actionText||pt("cancel");return s("div",{class:j("action"),role:"button",tabindex:0,onClick:g},[i.action?i.action():n])}},v=()=>{var n;return(n=t.value)==null?void 0:n.blur()},p=()=>{var n;return(n=t.value)==null?void 0:n.focus()},y=n=>r("blur",n),x=n=>r("focus",n),w=n=>r("clear",n),h=n=>r("clickInput",n),S=n=>r("clickLeftIcon",n),T=n=>r("clickRightIcon",n),M=Object.keys(Ce),R=()=>{const n=Ie({},d,ge(e,M),{id:o()}),P=te=>r("update:modelValue",te);return s(tt,Ge({ref:t,type:"search",class:j("field",{"with-message":n.errorMessage}),border:!1,onBlur:y,onFocus:x,onClear:w,onKeypress:u,onClickInput:h,onClickLeftIcon:S,onClickRightIcon:T,"onUpdate:modelValue":P},n),ge(i,["left-icon","right-icon"]))};return Q({focus:p,blur:v}),()=>{var n;return s("div",{class:j({"show-action":e.showAction}),style:{background:e.background}},[(n=i.left)==null?void 0:n.call(i),s("div",{class:j("content",e.shape)},[f(),R()]),c()])}}});const yt=ee(bt),kt="/platform-ui-vue/mobile/assets/1-39c4f371.jpeg",It="/platform-ui-vue/mobile/assets/2-fade683f.jpeg",xt="/platform-ui-vue/mobile/assets/3-8ab82bda.jpeg",Ct="/platform-ui-vue/mobile/assets/4-ffd21e42.jpeg",St=z({__name:"announcement-new",setup(e){const r=L([]),i=()=>{Ue.push({path:"/announcement/index"})},d=()=>K(this,null,function*(){const l=yield ct({page:1,size:5});console.log(l),l.code=="200"&&(r.value=l.data.content)});return Z(()=>K(this,null,function*(){xe("Page <<AnnouncementDetailsPage>> mounted."),d().then()})),(l,t)=>{const g=Pe,u=Re,o=gt;return D(),_e(o,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:i},{default:b(()=>[s(u,{class:"custom-swipe",vertical:"",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:b(()=>[(D(!0),Y(q,null,ie(G(r),f=>(D(),_e(g,{key:f.id},{default:b(()=>[J(Je(f.title),1)]),_:2},1024))),128))]),_:1})]),_:1})}}});const Tt=()=>Qe("/api/v1/home"),Rt={class:"m-4"},Pt={class:"my-4"},$t={class:"m-8 text-center"},At=B("div",{class:"divider"},null,-1),Xt=z({__name:"home",setup(e){const r=[{id:1,img:kt},{id:2,img:It},{id:3,img:xt},{id:4,img:Ct}],i=d=>{alert(d)};return Z(()=>K(this,null,function*(){xe("Page <<HomePage>> mounted."),Tt().then()})),(d,l)=>{const t=yt,g=at,u=oe,o=ot,f=nt,c=st,v=Ze,p=Pe,y=Re,x=it;return D(),Y(q,null,[s(c,null,{default:b(()=>[s(f,{justify:"center",align:"center",class:"app-header"},{default:b(()=>[s(g,{span:"20"},{default:b(()=>[s(t,{shape:"round"})]),_:1}),s(g,{span:"4"},{default:b(()=>[s(o,{class:"flex align-middle"},{default:b(()=>[s(u,{size:"24",onClick:i},{default:b(()=>[s(G(pe),{icon:"mdi:account-circle-outline"})]),_:1}),s(u,{size:"24",onClick:i},{default:b(()=>[s(G(pe),{icon:"mdi:account-circle-outline"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),B("div",Rt,[s(y,{autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:b(()=>[(D(),Y(q,null,ie(r,w=>s(p,{class:"aspect-[16/9] w-full",key:w.id},{default:b(()=>[s(v,{fit:"fill",position:"top",class:"aspect-[16/9] w-full",radius:5,alt:"IMG",src:w.img},null,8,["src"])]),_:2},1024)),64))]),_:1})]),B("div",Pt,[s(G(St))]),B("div",null,[B("div",$t,[s(x,{type:"primary",to:"/login"},{default:b(()=>[J("Login")]),_:1}),s(x,{type:"primary",to:"/announcement/index"},{default:b(()=>[J("Announcement")]),_:1})]),(D(),Y(q,null,ie(100,w=>B("div",{key:w},[s(x,{type:"primary",to:"/login"},{default:b(()=>[J("Login")]),_:1})])),64))]),At],64)}}});export{Xt as default};
