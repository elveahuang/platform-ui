var f=(i,o,d)=>new Promise((m,l)=>{var c=s=>{try{u(d.next(s))}catch(e){l(e)}},_=s=>{try{u(d.throw(s))}catch(e){l(e)}},u=s=>s.done?m(s.value):Promise.resolve(s.value).then(c,_);u((d=d.apply(i,o)).next())});import{d as N,L as S,r as g,D as v,o as q,l as w,a as E,y as D,b as a,E as t,w as n,B,P as C,A as b,F as R,C as y,S as A,H as K}from"./index--LWaiaPj.js";import{C as L,R as P,_ as z,a as G,b as H}from"./index-bGlDmNCH.js";import{S as I}from"./index-lE06sUUa.js";/* empty css              *//* empty css              */import{C as M}from"./index-GXiej2tA.js";/* empty css              */import{F as T,a as j}from"./index-PYeaLsyN.js";import{N as J}from"./index-jqL5jkvo.js";/* empty css              */import{i as O,a as Q,_ as W}from"./MailCaptcha.vue_vue_type_script_setup_true_lang-BX6xkZ5H.js";/* empty css                                                                 *//* empty css              *//* empty css              */import{r as X}from"./user-YEIFc3xw.js";import"./useTheme-fP7lwa9f.js";import"./index-iaWmde1E.js";const Y=i=>O(i),Z=i=>Q(i),ee=B("div",{class:"app-divider"},null,-1),ae={class:"m-4"},we=N({__name:"register",setup(i){const{t:o}=S(),d=g(),m=v({username:[{required:!0,message:o("common.user_field_username_validation")},{validator:Z,message:o("common.user_field_username_validation_register")}],email:[{required:!0,message:o("common.user_field_email_validation")},{validator:Y,message:o("common.user_field_email_validation")}],password:[{required:!0,message:o("common.user_field_password_validation")}],captchaValue:[{required:!0,message:o("common.field_captcha_validation")}]}),l=v({username:"",email:"",password:"",passwordConfirm:"",captchaKey:"",captchaValue:""}),c=g(!1),_=s=>f(this,null,function*(){l.captchaKey=s}),u=()=>{X(l).then(s=>{s.code==200&&y.push({path:"login"})}).catch(s=>{w(s)})};return q(()=>f(this,null,function*(){w("Page <<Register>> mounted.")})),(s,e)=>{const k=J,p=T,x=M,V=A,U=j,$=I,h=L,F=P;return E(),D(R,null,[a(k,{title:t(o)("common.user_pages_register_title"),"left-arrow":"",onClickLeft:e[0]||(e[0]=r=>t(K)())},null,8,["title"]),ee,a(U,{ref_key:"form",ref:d,onSubmit:u},{default:n(()=>[a(x,{inset:""},{default:n(()=>[a(p,{modelValue:l.username,"onUpdate:modelValue":e[1]||(e[1]=r=>l.username=r),placeholder:t(o)("common.user_field_username_placeholder"),rules:m.username},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=r=>l.email=r),placeholder:t(o)("common.user_field_email_placeholder"),rules:m.email},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.captchaValue,"onUpdate:modelValue":e[3]||(e[3]=r=>l.captchaValue=r),placeholder:t(o)("common.field_captcha_placeholder"),rules:m.captchaValue},{button:n(()=>[a(t(W),{email:l.email,onChange:_},null,8,["email"])]),_:1},8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=r=>l.password=r),placeholder:t(o)("common.user_field_password_placeholder"),rules:m.captchaValue},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.passwordConfirm,"onUpdate:modelValue":e[5]||(e[5]=r=>l.passwordConfirm=r),placeholder:t(o)("common.user_field_password_confirm_placeholder"),rules:m.captchaValue},null,8,["modelValue","placeholder","rules"])]),_:1}),B("div",ae,[a(V,{block:"",type:"primary","native-type":"submit",disabled:c.value},{default:n(()=>[C(b(t(o)("common.button_register")),1)]),_:1},8,["disabled"])])]),_:1},512),a(F,{class:"px-4 pt-4"},{default:n(()=>[a(h,{span:"12",class:"text-left"},{default:n(()=>[a($,null,{default:n(()=>[a(t(z)),a(t(G)),a(t(H))]),_:1})]),_:1}),a(h,{span:"12",class:"text-right"},{default:n(()=>[a(V,{plain:"",hairline:"",type:"primary",size:"small",onClick:e[6]||(e[6]=r=>t(y).push({path:"/login"}))},{default:n(()=>[C(b(t(o)("common.button_login")),1)]),_:1})]),_:1})]),_:1})],64)}}});export{we as default};
