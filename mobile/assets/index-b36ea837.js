import{r as we,u as Te}from"./use-route-4c5eb9af.js";import{c as Pe,I as X,F as Ve}from"./index-de3e35e1.js";import{j as H,ac as ie,d as z,h as u,e as A,z as P,az as Be,n as V,y as x,as as U,x as D,p as q,r as E,aA as Le,at as Me,ad as Re,aB as $e,aC as _e,N as G,a as ze,a8 as Ae,L as re,D as De,w as Ne,A as Y,B as Oe,f as pe,m as M,aD as ne,aE as We,aF as Fe,H as je,W as Ye,aG as Xe,t as qe,O as He}from"./index-0f82caf3.js";import{c as Ke,C as Ue}from"./index-43561dbc.js";function Ge(e){const n=ie();n&&H(n.proxy,e)}const[Je,_]=z("loading"),Qe=Array(12).fill(null).map((e,n)=>u("i",{class:_("line",String(n+1))},null)),Ze=u("svg",{class:_("circular"),viewBox:"25 25 50 50"},[u("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),et={size:V,type:x("circular"),color:String,vertical:Boolean,textSize:V,textColor:String};var tt=A({name:Je,props:et,setup(e,{slots:n}){const l=P(()=>H({color:e.color},Be(e.size))),d=()=>{const a=e.type==="spinner"?Qe:Ze;return u("span",{class:_("spinner",e.type),style:l.value},[n.icon?n.icon():a])},i=()=>{var a;if(n.default)return u("span",{class:_("text"),style:{fontSize:U(e.textSize),color:(a=e.textColor)!=null?a:e.color}},[n.default()])};return()=>{const{type:a,vertical:c}=e;return u("div",{class:_([a,{vertical:c}]),"aria-live":"polite","aria-busy":!0},[d(),i()])}}});const nt=D(tt),[at,R]=z("button"),lt=H({},we,{tag:x("button"),text:String,icon:String,type:x("default"),size:x("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:x("button"),loadingSize:V,loadingText:String,loadingType:String,iconPosition:x("left")});var it=A({name:at,props:lt,emits:["click"],setup(e,{emit:n,slots:l}){const d=Te(),i=()=>l.loading?l.loading():u(nt,{size:e.loadingSize,type:e.loadingType,class:R("loading")},null),a=()=>{if(e.loading)return i();if(l.icon)return u("div",{class:R("icon")},[l.icon()]);if(e.icon)return u(X,{name:e.icon,class:R("icon"),classPrefix:e.iconPrefix},null)},c=()=>{let r;if(e.loading?r=e.loadingText:r=l.default?l.default():e.text,r)return u("span",{class:R("text")},[r])},g=()=>{const{color:r,plain:m}=e;if(r){const C={color:m?r:"white"};return m||(C.background=r),r.includes("gradient")?C.border=0:C.borderColor=r,C}},f=r=>{e.loading?q(r):e.disabled||(n("click",r),d())};return()=>{const{tag:r,type:m,size:C,block:y,round:k,plain:w,square:N,loading:O,disabled:B,hairline:p,nativeType:L,iconPosition:W}=e,$=[R([m,C,{plain:w,block:y,round:k,square:N,loading:O,disabled:B,hairline:p}]),{[Pe]:p}];return u(r,{type:L,class:$,style:g(),disabled:B,onClick:f},{default:()=>[u("div",{class:R("content")},[W==="left"&&a(),c(),W==="right"&&a()])]})}}});const Bt=D(it);function rt(e,n){return e>n?"horizontal":n>e?"vertical":""}function Lt(){const e=E(0),n=E(0),l=E(0),d=E(0),i=E(0),a=E(0),c=E(""),g=()=>c.value==="vertical",f=()=>c.value==="horizontal",r=()=>{l.value=0,d.value=0,i.value=0,a.value=0,c.value=""};return{move:y=>{const k=y.touches[0];l.value=(k.clientX<0?0:k.clientX)-e.value,d.value=k.clientY-n.value,i.value=Math.abs(l.value),a.value=Math.abs(d.value);const w=10;(!c.value||i.value<w&&a.value<w)&&(c.value=rt(i.value,a.value))},start:y=>{r(),e.value=y.touches[0].clientX,n.value=y.touches[0].clientY},reset:r,startX:e,startY:n,deltaX:l,deltaY:d,offsetX:i,offsetY:a,direction:c,isVertical:g,isHorizontal:f}}let ot=0;function st(){const e=ie(),{name:n="unknown"}=(e==null?void 0:e.type)||{};return`${n}-${++ot}`}function oe(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function ct(e,n){if(oe(e)){if(n.required)return!1;if(n.validateEmpty===!1)return!0}return!(n.pattern&&!n.pattern.test(String(e)))}function ut(e,n){return new Promise(l=>{const d=n.validator(e,n);if($e(d)){d.then(l);return}l(d)})}function ae(e,n){const{message:l}=n;return _e(l)?l(e,n):l||""}function dt({target:e}){e.composing=!0}function le({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function ft(e,n){const l=Le();e.style.height="auto";let d=e.scrollHeight;if(Re(n)){const{maxHeight:i,minHeight:a}=n;i!==void 0&&(d=Math.min(d,i)),a!==void 0&&(d=Math.max(d,a))}d&&(e.style.height=`${d}px`,Me(l))}function gt(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function T(e){return[...e].length}function K(e,n){return[...e].slice(0,n).join("")}const[mt,S]=z("field"),ht={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:V,formatter:Function,clearIcon:x("clear"),modelValue:G(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:x("focus"),formatTrigger:x("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},vt=H({},Ke,ht,{rows:V,type:x("text"),rules:Array,autosize:[Boolean,Object],labelWidth:V,labelClass:ze,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var bt=A({name:mt,props:vt,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:n,slots:l}){const d=st(),i=Ae({status:"unvalidated",focused:!1,validateMessage:""}),a=E(),c=E(),g=E(),{parent:f}=re(Ve),r=()=>{var t;return String((t=e.modelValue)!=null?t:"")},m=t=>{if(M(e[t]))return e[t];if(f&&M(f.props[t]))return f.props[t]},C=P(()=>{const t=m("readonly");if(e.clearable&&!t){const s=r()!=="",o=e.clearTrigger==="always"||e.clearTrigger==="focus"&&i.focused;return s&&o}return!1}),y=P(()=>g.value&&l.input?g.value():e.modelValue),k=t=>t.reduce((s,o)=>s.then(()=>{if(i.status==="failed")return;let{value:h}=y;if(o.formatter&&(h=o.formatter(h,o)),!ct(h,o)){i.status="failed",i.validateMessage=ae(h,o);return}if(o.validator)return oe(h)&&o.validateEmpty===!1?void 0:ut(h,o).then(v=>{v&&typeof v=="string"?(i.status="failed",i.validateMessage=v):v===!1&&(i.status="failed",i.validateMessage=ae(h,o))})}),Promise.resolve()),w=()=>{i.status="unvalidated",i.validateMessage=""},N=()=>n("endValidate",{status:i.status,message:i.validateMessage}),O=(t=e.rules)=>new Promise(s=>{w(),t?(n("startValidate"),k(t).then(()=>{i.status==="failed"?(s({name:e.name,message:i.validateMessage}),N()):(i.status="passed",s(),N())})):s()}),B=t=>{if(f&&e.rules){const{validateTrigger:s}=f.props,o=ne(s).includes(t),h=e.rules.filter(v=>v.trigger?ne(v.trigger).includes(t):o);h.length&&O(h)}},p=t=>{var s;const{maxlength:o}=e;if(M(o)&&T(t)>+o){const h=r();if(h&&T(h)===+o)return h;const v=(s=a.value)==null?void 0:s.selectionEnd;if(i.focused&&v){const b=[...t],I=b.length-+o;return b.splice(v-I,I),b.join("")}return K(t,+o)}return t},L=(t,s="onChange")=>{const o=t;t=p(t);const h=T(o)-T(t);if(e.type==="number"||e.type==="digit"){const b=e.type==="number";t=We(t,b,b)}let v=0;if(e.formatter&&s===e.formatTrigger){const{formatter:b,maxlength:I}=e;if(t=b(t),M(I)&&T(t)>+I&&(t=K(t,+I)),a.value&&i.focused){const{selectionEnd:j}=a.value,te=K(o,j);v=T(b(te))-T(te)}}if(a.value&&a.value.value!==t)if(i.focused){let{selectionStart:b,selectionEnd:I}=a.value;if(a.value.value=t,M(b)&&M(I)){const j=T(t);h?(b-=h,I-=h):v&&(b+=v,I+=v),a.value.setSelectionRange(Math.min(b,j),Math.min(I,j))}}else a.value.value=t;t!==e.modelValue&&n("update:modelValue",t)},W=t=>{t.target.composing||L(t.target.value)},$=()=>{var t;return(t=a.value)==null?void 0:t.blur()},J=()=>{var t;return(t=a.value)==null?void 0:t.focus()},F=()=>{const t=a.value;e.type==="textarea"&&e.autosize&&t&&ft(t,e.autosize)},ue=t=>{i.focused=!0,n("focus",t),Y(F),m("readonly")&&$()},de=t=>{i.focused=!1,L(r(),"onBlur"),n("blur",t),!m("readonly")&&(B("onBlur"),Y(F),Xe())},Q=t=>n("clickInput",t),fe=t=>n("clickLeftIcon",t),ge=t=>n("clickRightIcon",t),me=t=>{q(t),n("update:modelValue",""),n("clear",t)},Z=P(()=>{if(typeof e.error=="boolean")return e.error;if(f&&f.props.showError&&i.status==="failed")return!0}),he=P(()=>{const t=m("labelWidth"),s=m("labelAlign");if(t&&s!=="top")return{width:U(t)}}),ve=t=>{t.keyCode===13&&(!(f&&f.props.submitOnEnter)&&e.type!=="textarea"&&q(t),e.type==="search"&&$()),n("keypress",t)},ee=()=>e.id||`${d}-input`,be=()=>i.status,ye=()=>{const t=S("control",[m("inputAlign"),{error:Z.value,custom:!!l.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(l.input)return u("div",{class:t,onClick:Q},[l.input()]);const s={id:ee(),ref:a,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:t,disabled:m("disabled"),readonly:m("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${d}-label`:void 0,onBlur:de,onFocus:ue,onInput:W,onClick:Q,onChange:le,onKeypress:ve,onCompositionend:le,onCompositionstart:dt};return e.type==="textarea"?u("textarea",s,null):u("input",je(gt(e.type),s),null)},Se=()=>{const t=l["left-icon"];if(e.leftIcon||t)return u("div",{class:S("left-icon"),onClick:fe},[t?t():u(X,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},xe=()=>{const t=l["right-icon"];if(e.rightIcon||t)return u("div",{class:S("right-icon"),onClick:ge},[t?t():u(X,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Ce=()=>{if(e.showWordLimit&&e.maxlength){const t=T(r());return u("div",{class:S("word-limit")},[u("span",{class:S("word-num")},[t]),Ye("/"),e.maxlength])}},Ie=()=>{if(f&&f.props.showErrorMessage===!1)return;const t=e.errorMessage||i.validateMessage;if(t){const s=l["error-message"],o=m("errorMessageAlign");return u("div",{class:S("error-message",o)},[s?s({message:t}):t])}},Ee=()=>{const t=m("labelWidth"),s=m("labelAlign"),o=m("colon")?":":"";if(l.label)return[l.label(),o];if(e.label)return u("label",{id:`${d}-label`,for:ee(),onClick:h=>{q(h),J()},style:s==="top"&&t?{width:U(t)}:void 0},[e.label+o])},ke=()=>[u("div",{class:S("body")},[ye(),C.value&&u(X,{ref:c,name:e.clearIcon,class:S("clear")},null),xe(),l.button&&u("div",{class:S("button")},[l.button()])]),Ce(),Ie()];return Ge({blur:$,focus:J,validate:O,formValue:y,resetValidation:w,getValidationStatus:be}),De(Fe,{customValue:g,resetValidation:w,validateWithTrigger:B}),Ne(()=>e.modelValue,()=>{L(r()),w(),B("onChange"),Y(F)}),Oe(()=>{L(r(),e.formatTrigger),Y(F)}),pe("touchstart",me,{target:P(()=>{var t;return(t=c.value)==null?void 0:t.$el})}),()=>{const t=m("disabled"),s=m("labelAlign"),o=Se(),h=()=>{const v=Ee();return s==="top"?[o,v].filter(Boolean):v||[]};return u(Ue,{size:e.size,class:S({error:Z.value,disabled:t,[`label-${s}`]:s}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:he.value,valueClass:S("value"),titleClass:[S("label",[s,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:o&&s!=="top"?()=>o:null,title:h,value:ke,extra:l.extra})}}});const Mt=D(bt),[se,yt]=z("row"),ce=Symbol(se),St={tag:x("div"),wrap:qe,align:String,gutter:G(0),justify:String};var xt=A({name:se,props:St,setup(e,{slots:n}){const{children:l,linkChildren:d}=He(ce),i=P(()=>{const c=[[]];let g=0;return l.forEach((f,r)=>{g+=Number(f.span),g>24?(c.push([r]),g-=24):c[c.length-1].push(r)}),c}),a=P(()=>{const c=Number(e.gutter),g=[];return c&&i.value.forEach(f=>{const r=c*(f.length-1)/f.length;f.forEach((m,C)=>{if(C===0)g.push({right:r});else{const y=c-g[m-1].right,k=r-y;g.push({left:y,right:k})}})}),g});return d({spaces:a}),()=>{const{tag:c,wrap:g,align:f,justify:r}=e;return u(c,{class:yt({[`align-${f}`]:f,[`justify-${r}`]:r,nowrap:!g})},{default:()=>{var m;return[(m=n.default)==null?void 0:m.call(n)]}})}}});const[Ct,It]=z("col"),Et={tag:x("div"),span:G(0),offset:V};var kt=A({name:Ct,props:Et,setup(e,{slots:n}){const{parent:l,index:d}=re(ce),i=P(()=>{if(!l)return;const{spaces:a}=l;if(a&&a.value&&a.value[d.value]){const{left:c,right:g}=a.value[d.value];return{paddingLeft:c?`${c}px`:null,paddingRight:g?`${g}px`:null}}});return()=>{const{tag:a,span:c,offset:g}=e;return u(a,{style:i.value,class:It({[c]:c,[`offset-${g}`]:g})},{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n)]}})}}});const Rt=D(kt),$t=D(xt);export{Bt as B,Rt as C,Mt as F,nt as L,$t as R,Ge as a,st as b,ht as f,Lt as u};
