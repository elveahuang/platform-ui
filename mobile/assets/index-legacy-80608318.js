System.register(["./index-legacy-1e7da219.js","./index-legacy-d3031212.js","./index-legacy-01d79840.js","./index-legacy-3991c348.js","./index-legacy-2240c3cd.js","./index-legacy-019b8d33.js","./index-legacy-83e8d8ac.js","./logo-legacy-11f5d63c.js","./index-legacy-e5ac4b57.js","./index-legacy-ba29a33e.js","./plugin-vueexport-helper-legacy-762b7923.js"],(function(e,l){"use strict";var t,n,a,o,s,r,u,i,c,d,m,p,v,g,f,h,y,_,w,x,V,C,b,k,j,P,B,S,A,E,z,F,I,T,U,$,q,L,D,M,N,O,G,H,J,K,Q,R,W,X,Y,Z,ee=document.createElement("style");return ee.textContent=".van-nav-bar[data-v-2a17c5e4]{background-color:var(--app-primary-color)}\n",document.head.appendChild(ee),{setters:[e=>{t=e.c,n=e.d,a=e.u,o=e.e,s=e.f,r=e.n,u=e.t,i=e.p,c=e.F,d=e.w,m=e.r,p=e.l,v=e.o,g=e.g,f=e.h,h=e.i,y=e.j,_=e.k,w=e.m,x=e.q,V=e.s,C=e.P,b=e.v,k=e.x,j=e.y,P=e.z,B=e.A,S=e.B,A=e.D,E=e.E,z=e.G,F=e.H,I=e.I,T=e.J,U=e.K,$=e.L,q=e.M,L=e.N,D=e.O,M=e.Q},e=>{N=e.F,O=e.C,G=e.R},e=>{H=e.B,J=e.S},e=>{K=e.C},null,null,null,e=>{Q=e.l,R=e.I},e=>{W=e.N},e=>{X=e.P,Y=e.u},e=>{Z=e._}],execute:function(){const[l,ee]=t("form"),le={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:r,labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:u,showErrorMessage:u,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var te=n({name:l,props:le,emits:["submit","failed"],setup(e,{emit:l,slots:t}){const{children:n,linkChildren:r}=a(c),u=e=>e?n.filter((l=>e.includes(l.name))):n,d=l=>{return"string"==typeof l?(e=>{const l=n.find((l=>l.name===e));return l?new Promise(((e,t)=>{l.validate().then((l=>{l?t(l):e()}))})):Promise.reject()})(l):e.validateFirst?(t=l,new Promise(((e,l)=>{const n=[];u(t).reduce(((e,l)=>e.then((()=>{if(!n.length)return l.validate().then((e=>{e&&n.push(e)}))}))),Promise.resolve()).then((()=>{n.length?l(n):e()}))}))):(e=>new Promise(((l,t)=>{const n=u(e);Promise.all(n.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?t(e):l()}))})))(l);var t},m=(e,l)=>{n.some((t=>t.name===e&&(t.$el.scrollIntoView(l),!0)))},p=()=>n.reduce(((e,l)=>(void 0!==l.name&&(e[l.name]=l.formValue.value),e)),{}),v=()=>{const t=p();d().then((()=>l("submit",t))).catch((n=>{l("failed",{values:t,errors:n}),e.scrollToError&&n[0].name&&m(n[0].name)}))},g=e=>{i(e),v()};return r({props:e}),o({submit:v,validate:d,getValues:p,scrollToField:m,resetValidation:e=>{"string"==typeof e&&(e=[e]),u(e).forEach((e=>{e.resetValidation()}))},getValidationStatus:()=>n.reduce(((e,l)=>(e[l.name]=l.getValidationStatus(),e)),{})}),()=>{var e;return s("form",{class:ee(),onSubmit:g},[null==(e=t.default)?void 0:e.call(t)])}}});const ne=d(te),ae=n({__name:"locale-selector",setup(e){const{changeLocale:l}=Y(),t=m(!1),n=p.map((e=>({text:e.title,value:e.locale}))),a=e=>{w(e),x(e.selectedValues)&&l(V(e.selectedValues[0])),t.value=!1};return(e,l)=>{const o=H,r=X,u=C;return v(),g(_,null,[s(o,{plain:"",hairline:"",square:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[h("语言")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:y(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}}),oe=n({__name:"dark-selector",setup(e){const l=b(),t=m(!1),n=k.map((e=>({text:e.title,value:e.strategy}))),a=e=>{if(w(e),t.value=!1,x(e.selectedValues)){const t=j(e.selectedValues[0]);l.setDarkStrategy(t),l.setDark(P(t)),B(P(t))}};return(e,l)=>{const o=H,r=X,u=C;return v(),g(_,null,[s(o,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[h("深色模式")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:y(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}}),se=n({__name:"theme-selector",setup(e){const l=b();S((()=>l.theme));const t=m(!1),n=A.map((e=>({text:e.title,value:e.theme}))),a=e=>{w(e),t.value=!1,x(e.selectedValues)&&l.setTheme(E(e.selectedValues[0]))};return(e,l)=>{const o=H,r=X,u=C;return v(),g(_,null,[s(o,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[0]||(l[0]=e=>t.value=!t.value)},{default:f((()=>[h("主题")])),_:1}),s(u,{show:t.value,"onUpdate:show":l[2]||(l[2]=e=>t.value=e),round:"",position:"bottom"},{default:f((()=>[s(r,{columns:y(n),onConfirm:a,onCancel:l[1]||(l[1]=e=>t.value=!1)},null,8,["columns"])])),_:1},8,["show"])],64)}}});var re;function ue(e){return"function"==typeof e?e():y(e)}"undefined"!=typeof window&&(null==(re=null==window?void 0:window.navigator)?void 0:re.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const ie={id:"entry-page",class:"entry-page"},ce={class:"entry-page-logo"},de={id:"entry-page-content"},me={class:"my-2"},pe=n({__name:"index",setup(e){const l=F(),t=I(),[n,a]=function(e=!1,l={}){const{truthyValue:t=!0,falsyValue:n=!1}=l,a=z(e),o=m(e);function s(e){if(arguments.length)return o.value=e,o.value;{const e=ue(t);return o.value=o.value===e?ue(n):e,o.value}}return a?s:[o,s]}(!1),o=m(),r=T({grant_type:"password",client_id:U.auth.oauth.clientId,client_secret:U.auth.oauth.clientSecret,username:"admin",password:"admin"}),u=T({username:[{required:!0,message:"Please input username"}],password:[{required:!0,message:"Please input password"}]});return $((async()=>{w("Page - <Login> is mounted.")})),(e,i)=>{const c=W,d=R,m=M,p=N,w=H,x=K,V=J,C=O,b=G,k=ne;return v(),g(_,null,[s(c,{title:e.$t("common.title")},null,8,["title"]),q("div",ie,[q("div",ce,[s(d,{fit:"contain",src:y(Q),alt:"Logo"},null,8,["src"])]),q("div",de,[s(k,{ref_key:"form",ref:o},{default:f((()=>[s(x,{inset:""},{default:f((()=>[s(p,{modelValue:r.username,"onUpdate:modelValue":i[0]||(i[0]=e=>r.username=e),placeholder:e.$t("common.user_field_username"),rules:u.username},{"left-icon":f((()=>[s(m,null,{default:f((()=>[s(y(L),{icon:"ion:person-outline"})])),_:1})])),_:1},8,["modelValue","placeholder","rules"]),s(p,{modelValue:r.password,"onUpdate:modelValue":i[2]||(i[2]=e=>r.password=e),placeholder:e.$t("common.user_field_password"),rules:u.password,type:y(n)?"password":"text"},{"left-icon":f((()=>[s(m,null,{default:f((()=>[s(y(L),{icon:"ion:lock-closed-outline"})])),_:1})])),"right-icon":f((()=>[s(m,{name:y(n)?"closed-eye":"eye",onClick:i[1]||(i[1]=e=>y(a)(!y(n)))},null,8,["name"])])),_:1},8,["modelValue","placeholder","rules","type"]),q("div",me,[s(w,{onClick:i[3]||(i[3]=e=>(async e=>{try{await e.validate(),l.login(r).then((()=>{t.push("/")}))}catch(n){return}})(o.value)),type:"primary",block:""},{default:f((()=>[h(D(e.$t("common.button_login")),1)])),_:1})])])),_:1}),s(b,{class:"px-4 pt-4"},{default:f((()=>[s(C,{span:"12",class:"text-left"},{default:f((()=>[s(V,null,{default:f((()=>[s(y(ae)),s(y(oe)),s(y(se))])),_:1})])),_:1}),s(C,{span:"12",class:"text-right"},{default:f((()=>[s(w,{type:"text",size:"small"},{default:f((()=>[h("忘记密码")])),_:1}),s(w,{type:"text",size:"small"},{default:f((()=>[h("注册")])),_:1})])),_:1})])),_:1})])),_:1},512)])])],64)}}});e("default",Z(pe,[["__scopeId","data-v-2a17c5e4"]]))}}}));
