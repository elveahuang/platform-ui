var H=(e,r,i)=>new Promise((d,l)=>{var t=o=>{try{u(i.next(o))}catch(f){l(f)}},g=o=>{try{u(i.throw(o))}catch(f){l(f)}},u=o=>o.done?d(o.value):Promise.resolve(o.value).then(t,g);u((i=i.apply(e,r)).next())});import{m as J,d as M,j as L,f as ce,a1 as Le,n as Me,U as x,p as Q,a9 as A,aC as ze,aD as Oe,aE as Ne,g as Z,aF as Fe,aG as we,aH as Ve,aI as je,a4 as be,h as s,s as W,q as fe,a6 as Y,aJ as B,ap as ve,ac as ye,v as ke,_ as ne,y as ee,a2 as We,aK as Ye,aL as He,aM as Xe,C as oe,ao as he,aN as qe,Y as Ke,Z as Ie,a7 as me,ad as ge,ae as Ue,l as Ce,o as D,b as _e,w as b,c as q,F as K,r as ie,u as U,Q as G,t as Ge,e as Je,aO as Qe,I as pe,a as E}from"./index-9f8d664e.js";/* empty css              *//* empty css              */import{I as Ze}from"./index-b8be88ff.js";import"./index-54c63fa9.js";import{f as xe,u as et,F as tt,C as at,S as nt,R as ot,B as it}from"./index-169361ae.js";/* empty css                                                         */import{a as ct}from"./announcement-d023420a.js";import{S as st}from"./index-838965de.js";import"./use-route-e0417d80.js";const[Se,X]=J("swipe"),lt={loop:W,width:fe,height:fe,vertical:Boolean,autoplay:Y(0),duration:Y(500),touchable:W,lazyRender:Boolean,initialSwipe:Y(0),indicatorColor:String,showIndicators:W,stopPropagation:W},Te=Symbol(Se);var rt=M({name:Se,props:lt,emits:["change","dragStart","dragEnd"],setup(e,{emit:r,slots:i}){const d=L(),l=L(),t=ce({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let g=!1;const u=Le(),{children:o,linkChildren:f}=Me(Te),c=x(()=>o.length),v=x(()=>t[e.vertical?"height":"width"]),p=x(()=>e.vertical?u.deltaY.value:u.deltaX.value),y=x(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-v.value*c.value:0),C=x(()=>v.value?Math.ceil(Math.abs(y.value)/v.value):c.value),w=x(()=>c.value*v.value),h=x(()=>(t.active+c.value)%c.value),S=x(()=>{const a=e.vertical?"vertical":"horizontal";return u.direction.value===a}),T=x(()=>{const a={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+t.offset.toFixed(2)}px)`};if(v.value){const _=e.vertical?"height":"width",m=e.vertical?"width":"height";a[_]=`${w.value}px`,a[m]=e[m]?`${e[m]}px`:""}return a}),z=a=>{const{active:_}=t;return a?e.loop?ne(_+a,-1,c.value):ne(_+a,0,C.value):_},P=(a,_=0)=>{let m=a*v.value;e.loop||(m=Math.min(m,-y.value));let I=_-m;return e.loop||(I=ne(I,y.value,0)),I},n=({pace:a=0,offset:_=0,emitChange:m})=>{if(c.value<=1)return;const{active:I}=t,k=z(a),F=P(k,_);if(e.loop){if(o[0]&&F!==y.value){const ae=F<y.value;o[0].setOffset(ae?w.value:0)}if(o[c.value-1]&&F!==0){const ae=F>0;o[c.value-1].setOffset(ae?-w.value:0)}}t.active=k,t.offset=F,m&&k!==I&&r("change",h.value)},R=()=>{t.swiping=!0,t.active<=-1?n({pace:c.value}):t.active>=c.value&&n({pace:-c.value})},te=()=>{R(),u.reset(),B(()=>{t.swiping=!1,n({pace:-1,emitChange:!0})})},se=()=>{R(),u.reset(),B(()=>{t.swiping=!1,n({pace:1,emitChange:!0})})};let le;const O=()=>clearTimeout(le),N=()=>{O(),+e.autoplay>0&&c.value>1&&(le=setTimeout(()=>{se(),N()},+e.autoplay))},$=(a=+e.initialSwipe)=>{if(!d.value)return;const _=()=>{var m,I;if(!ve(d)){const k={width:d.value.offsetWidth,height:d.value.offsetHeight};t.rect=k,t.width=+((m=e.width)!=null?m:k.width),t.height=+((I=e.height)!=null?I:k.height)}c.value&&(a=Math.min(c.value-1,a),a===-1&&(a=c.value-1)),t.active=a,t.swiping=!0,t.offset=P(a),o.forEach(k=>{k.setOffset(0)}),N()};ve(d)?ye().then(_):_()},re=()=>$(t.active);let ue;const $e=a=>{!e.touchable||a.touches.length>1||(u.start(a),g=!1,ue=Date.now(),O(),R())},Ae=a=>{e.touchable&&t.swiping&&(u.move(a),S.value&&(!e.loop&&(t.active===0&&p.value>0||t.active===c.value-1&&p.value<0)||(ke(a,e.stopPropagation),n({offset:p.value}),g||(r("dragStart",{index:h.value}),g=!0))))},de=()=>{if(!e.touchable||!t.swiping)return;const a=Date.now()-ue,_=p.value/a;if((Math.abs(_)>.25||Math.abs(p.value)>v.value/2)&&S.value){const I=e.vertical?u.offsetY.value:u.offsetX.value;let k=0;e.loop?k=I>0?p.value>0?-1:1:0:k=-Math[p.value>0?"ceil":"floor"](p.value/v.value),n({pace:k,emitChange:!0})}else p.value&&n({pace:0});g=!1,t.swiping=!1,r("dragEnd",{index:h.value}),N()},Ee=(a,_={})=>{R(),u.reset(),B(()=>{let m;e.loop&&a===c.value?m=t.active===0?0:a:m=a%c.value,_.immediate?B(()=>{t.swiping=!1}):t.swiping=!1,n({pace:m-t.active,emitChange:!0})})},Be=(a,_)=>{const m=_===h.value,I=m?{backgroundColor:e.indicatorColor}:void 0;return s("i",{style:I,class:X("indicator",{active:m})},null)},De=()=>{if(i.indicator)return i.indicator({active:h.value,total:c.value});if(e.showIndicators&&c.value>1)return s("div",{class:X("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(Be)])};return Q({prev:te,next:se,state:t,resize:re,swipeTo:Ee}),f({size:v,props:e,count:c,activeIndicator:h}),A(()=>e.initialSwipe,a=>$(+a)),A(c,()=>$(t.active)),A(()=>e.autoplay,N),A([ze,Oe,()=>e.width,()=>e.height],re),A(Ne(),a=>{a==="visible"?N():O()}),Z($),Fe(()=>$(t.active)),we(()=>$(t.active)),Ve(O),je(O),be("touchmove",Ae,{target:l}),()=>{var a;return s("div",{ref:d,class:X()},[s("div",{ref:l,style:T.value,class:X("track",{vertical:e.vertical}),onTouchstartPassive:$e,onTouchend:de,onTouchcancel:de},[(a=i.default)==null?void 0:a.call(i)]),De()])}}});const Pe=ee(rt),[ut,dt]=J("swipe-item");var ft=M({name:ut,setup(e,{slots:r}){let i;const d=ce({offset:0,inited:!1,mounted:!1}),{parent:l,index:t}=We(Te);if(!l)return;const g=x(()=>{const f={},{vertical:c}=l.props;return l.size.value&&(f[c?"height":"width"]=`${l.size.value}px`),d.offset&&(f.transform=`translate${c?"Y":"X"}(${d.offset}px)`),f}),u=x(()=>{const{loop:f,lazyRender:c}=l.props;if(!c||i)return!0;if(!d.mounted)return!1;const v=l.activeIndicator.value,p=l.count.value-1,y=v===0&&f?p:v-1,C=v===p&&f?0:v+1;return i=t.value===v||t.value===y||t.value===C,i}),o=f=>{d.offset=f};return Z(()=>{ye(()=>{d.mounted=!0})}),Q({setOffset:o}),()=>{var f;return s("div",{class:dt(),style:g.value},[u.value?(f=r.default)==null?void 0:f.call(r):null])}}});const Re=ee(ft),[vt,V]=J("notice-bar"),ht={text:String,mode:String,color:String,delay:Y(1),speed:Y(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var mt=M({name:vt,props:ht,emits:["close","replay"],setup(e,{emit:r,slots:i}){let d=0,l=0,t;const g=L(),u=L(),o=ce({show:!0,offset:0,duration:0}),f=()=>{if(i["left-icon"])return i["left-icon"]();if(e.leftIcon)return s(oe,{class:V("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},v=h=>{e.mode==="closeable"&&(o.show=!1,r("close",h))},p=()=>{if(i["right-icon"])return i["right-icon"]();const h=c();if(h)return s(oe,{name:h,class:V("right-icon"),onClick:v},null)},y=()=>{o.offset=d,o.duration=0,qe(()=>{B(()=>{o.offset=-l,o.duration=(l+d)/+e.speed,r("replay")})})},C=()=>{const h=e.scrollable===!1&&!e.wrapable,S={transform:o.offset?`translateX(${o.offset}px)`:"",transitionDuration:`${o.duration}s`};return s("div",{ref:g,role:"marquee",class:V("wrap")},[s("div",{ref:u,style:S,class:[V("content"),{"van-ellipsis":h}],onTransitionend:y},[i.default?i.default():e.text])])},w=()=>{const{delay:h,speed:S,scrollable:T}=e,z=Ke(h)?+h*1e3:0;d=0,l=0,o.offset=0,o.duration=0,clearTimeout(t),t=setTimeout(()=>{if(!g.value||!u.value||T===!1)return;const P=he(g).width,n=he(u).width;(T||n>P)&&B(()=>{d=P,l=n,o.offset=-l,o.duration=l/+S})},z)};return we(w),Ye(w),be("pageshow",w),Q({reset:w}),A(()=>[e.text,e.scrollable],w),()=>{const{color:h,wrapable:S,background:T}=e;return He(s("div",{role:"alert",class:V({wrapable:S}),style:{color:h,background:T}},[f(),C(),p()]),[[Xe,o.show]])}}});const gt=ee(mt),[_t,j,pt]=J("search"),wt=Ie({},xe,{label:String,shape:me("square"),leftIcon:me("search"),clearable:W,actionText:String,background:String,showAction:Boolean});var bt=M({name:_t,props:wt,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:r,slots:i,attrs:d}){const l=et(),t=L(),g=()=>{i.action||(r("update:modelValue",""),r("cancel"))},u=n=>{n.keyCode===13&&(ke(n),r("search",e.modelValue))},o=()=>e.id||`${l}-input`,f=()=>{if(i.label||e.label)return s("label",{class:j("label"),for:o()},[i.label?i.label():e.label])},c=()=>{if(e.showAction){const n=e.actionText||pt("cancel");return s("div",{class:j("action"),role:"button",tabindex:0,onClick:g},[i.action?i.action():n])}},v=()=>{var n;return(n=t.value)==null?void 0:n.blur()},p=()=>{var n;return(n=t.value)==null?void 0:n.focus()},y=n=>r("blur",n),C=n=>r("focus",n),w=n=>r("clear",n),h=n=>r("clickInput",n),S=n=>r("clickLeftIcon",n),T=n=>r("clickRightIcon",n),z=Object.keys(xe),P=()=>{const n=Ie({},d,ge(e,z),{id:o()}),R=te=>r("update:modelValue",te);return s(tt,Ue({ref:t,type:"search",class:j("field",{"with-message":n.errorMessage}),border:!1,onBlur:y,onFocus:C,onClear:w,onKeypress:u,onClickInput:h,onClickLeftIcon:S,onClickRightIcon:T,"onUpdate:modelValue":R},n),ge(i,["left-icon","right-icon"]))};return Q({focus:p,blur:v}),()=>{var n;return s("div",{class:j({"show-action":e.showAction}),style:{background:e.background}},[(n=i.left)==null?void 0:n.call(i),s("div",{class:j("content",e.shape)},[f(),P()]),c()])}}});const yt=ee(bt),kt=M({__name:"announcement-new",setup(e){const r=L([]),i=()=>{Je.push({path:"/announcement/index"})},d=()=>H(this,null,function*(){const l=yield ct({page:1,size:5});console.log(l),l.code=="200"&&(r.value=l.data.content)});return Z(()=>H(this,null,function*(){Ce("Page <<AnnouncementDetailsPage>> mounted."),d().then()})),(l,t)=>{const g=Re,u=Pe,o=gt;return D(),_e(o,{"left-icon":"volume-o",scrollable:!1,mode:"link",onClick:i},{default:b(()=>[s(u,{class:"custom-swipe",vertical:"",autoplay:3e3,touchable:!1,"show-indicators":!1},{default:b(()=>[(D(!0),q(K,null,ie(U(r),f=>(D(),_e(g,{key:f.id},{default:b(()=>[G(Ge(f.title),1)]),_:2},1024))),128))]),_:1})]),_:1})}}}),It="/platform-ui-vue/mobile/assets/1-39c4f371.jpeg",Ct="/platform-ui-vue/mobile/assets/2-fade683f.jpeg",xt="/platform-ui-vue/mobile/assets/3-8ab82bda.jpeg",St="/platform-ui-vue/mobile/assets/4-ffd21e42.jpeg";const Tt=()=>Qe("/api/v1/home"),Pt={class:"m-4"},Rt={class:"my-4"},$t={class:"m-8 text-center"},At=E("div",{class:"divider"},null,-1),Wt=M({__name:"home",setup(e){const r=[{id:1,img:It},{id:2,img:Ct},{id:3,img:xt},{id:4,img:St}],i=d=>{alert(d)};return Z(()=>H(this,null,function*(){Ce("Page <<HomePage>> mounted."),Tt().then()})),(d,l)=>{const t=yt,g=at,u=oe,o=nt,f=ot,c=st,v=Ze,p=Re,y=Pe,C=it;return D(),q(K,null,[s(c,null,{default:b(()=>[s(f,{justify:"center",align:"center",class:"app-header"},{default:b(()=>[s(g,{span:"20"},{default:b(()=>[s(t,{shape:"round"})]),_:1}),s(g,{span:"4"},{default:b(()=>[s(o,{class:"flex align-middle"},{default:b(()=>[s(u,{size:"24",onClick:i},{default:b(()=>[s(U(pe),{icon:"mdi:account-circle-outline"})]),_:1}),s(u,{size:"24",onClick:i},{default:b(()=>[s(U(pe),{icon:"mdi:account-circle-outline"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),E("div",Pt,[s(y,{autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:b(()=>[(D(),q(K,null,ie(r,w=>s(p,{class:"aspect-[16/9] w-full",key:w.id},{default:b(()=>[s(v,{fit:"fill",position:"top",class:"aspect-[16/9] w-full",radius:5,alt:"IMG",src:w.img},null,8,["src"])]),_:2},1024)),64))]),_:1})]),E("div",Rt,[s(U(kt))]),E("div",null,[E("div",$t,[s(C,{type:"primary",to:"/login"},{default:b(()=>[G("Login")]),_:1}),s(C,{type:"primary",to:"/announcement/index"},{default:b(()=>[G("Announcement")]),_:1})]),(D(),q(K,null,ie(100,w=>E("div",{key:w},[s(C,{type:"primary",to:"/login"},{default:b(()=>[G("Login")]),_:1})])),64))]),At],64)}}});export{Wt as default};
