System.register(["./index-legacy-1e7da219.js"],(function(e,o){"use strict";var a,r,n,i,l,t,c,d,v,s,g,u,m,f,h,p,b,y,z,_,x,w=document.createElement("style");return w.textContent=":root{--van-image-placeholder-text-color: var(--van-text-color-2);--van-image-placeholder-font-size: var(--van-font-size-md);--van-image-placeholder-background: var(--van-background);--van-image-loading-icon-size: 32px;--van-image-loading-icon-color: var(--van-gray-4);--van-image-error-icon-size: 32px;--van-image-error-icon-color: var(--van-gray-4)}.van-image{position:relative;display:inline-block}.van-image--round{overflow:hidden;border-radius:var(--van-radius-max)}.van-image--round .van-image__img{border-radius:inherit}.van-image--block{display:block}.van-image__img,.van-image__error,.van-image__loading{display:block;width:100%;height:100%}.van-image__error,.van-image__loading{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--van-image-placeholder-text-color);font-size:var(--van-image-placeholder-font-size);background:var(--van-image-placeholder-background)}.van-image__loading-icon{color:var(--van-image-loading-icon-color);font-size:var(--van-image-loading-icon-size)}.van-image__error-icon{color:var(--van-image-error-icon-color);font-size:var(--van-image-error-icon-size)}\n",document.head.appendChild(w),{setters:[e=>{a=e.c,r=e.d,n=e.r,i=e.T,l=e.B,t=e.U,c=e.V,d=e.X,v=e.Y,s=e.Z,g=e.L,u=e._,m=e.f,f=e.n,h=e.t,p=e.$,b=e.a0,y=e.a1,z=e.a2,_=e.Q,x=e.w}],execute:function(){const[o,w]=a("image"),k={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:f,height:f,radius:f,lazyLoad:Boolean,iconSize:f,showError:h,errorIcon:p("photo-fail"),iconPrefix:String,showLoading:h,loadingIcon:p("photo")};var S=r({name:o,props:k,emits:["load","error"],setup(e,{emit:o,slots:a}){const r=n(!1),f=n(!0),h=n(),{$Lazyload:p}=i().proxy,x=l((()=>{const o={width:t(e.width),height:t(e.height)};return c(e.radius)&&(o.overflow="hidden",o.borderRadius=t(e.radius)),o}));d((()=>e.src),(()=>{r.value=!1,f.value=!0}));const k=e=>{f.value&&(f.value=!1,o("load",e))},S=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:h.value,enumerable:!0}),k(e)},L=e=>{r.value=!0,f.value=!1,o("error",e)},$=(o,a,r)=>r?r():m(_,{name:o,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),j=()=>{if(r.value||!e.src)return;const o={alt:e.alt,class:w("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?b(m("img",z({ref:h},o),null),[[y("lazy"),e.src]]):m("img",z({ref:h,src:e.src,onLoad:k,onError:L},o),null)},E=({el:e})=>{const o=()=>{e===h.value&&f.value&&S()};h.value?o():u(o)},I=({el:e})=>{e!==h.value||r.value||L()};return p&&v&&(p.$on("loaded",E),p.$on("error",I),s((()=>{p.$off("loaded",E),p.$off("error",I)}))),g((()=>{u((()=>{var e;(null==(e=h.value)?void 0:e.complete)&&S()}))})),()=>{var o;return m("div",{class:w({round:e.round,block:e.block}),style:x.value},[j(),f.value&&e.showLoading?m("div",{class:w("loading")},[$(e.loadingIcon,w("loading-icon"),a.loading)]):r.value&&e.showError?m("div",{class:w("error")},[$(e.errorIcon,w("error-icon"),a.error)]):void 0,null==(o=a.default)?void 0:o.call(a)])}}});e("I",x(S)),e("l","/platform-ui-vue/mobile/assets/logo-bc5de347.png")}}}));
