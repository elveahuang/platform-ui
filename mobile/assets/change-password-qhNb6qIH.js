var w=(c,s,n)=>new Promise((l,e)=>{var u=a=>{try{o(n.next(a))}catch(i){e(i)}},d=a=>{try{o(n.throw(a))}catch(i){e(i)}},o=a=>a.done?l(a.value):Promise.resolve(a.value).then(u,d);o((n=n.apply(c,s)).next())});import{d as y,p as b,k,f,g as B,l as g,o as C,c as F,h as r,w as p,u as m,b as P,x as N,t as x,F as S,e as q,B as U,j as $}from"./index-bUmP8Zmg.js";/* empty css              *//* empty css              */import{C as j}from"./index-V2lw40I4.js";/* empty css              */import{F as A,a as D}from"./index-_eQgn2ny.js";/* empty css              */import{N as E}from"./index-M8hztABy.js";import{c as G}from"./user-O_zmqkVG.js";import{S as I}from"./index-R37V6LA1.js";import"./index-jmKiDZKs.js";const L=P("div",{class:"app-divider"},null,-1),M={class:"m-4"},oo=y({__name:"change-password",setup(c){const{t:s}=b(),n=k(),l=f({originalPassword:[{required:!0,message:s("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:s("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:s("common.user_field_confirm_password_validation")}]}),e=f({originalPassword:"",newPassword:"",confirmPassword:""}),u=()=>{const d={originalPassword:e.originalPassword,newPassword:e.newPassword};G(d).then(o=>{o.code==200&&q.push("/tabs/me").then()}).catch(o=>{g(o)})};return B(()=>w(this,null,function*(){g("Page <<ChangePasswordPage>> mounted.")})),(d,o)=>{const a=E,i=I,_=A,v=j,h=U,V=D;return C(),F(S,null,[r(i,null,{default:p(()=>[r(a,{title:d.$t("common.user_pages_change_password_title"),"left-arrow":"",onClickLeft:o[0]||(o[0]=t=>m($)())},null,8,["title"])]),_:1}),L,r(V,{ref_key:"form",ref:n,onSubmit:u},{default:p(()=>[r(v,{inset:""},{default:p(()=>[r(_,{modelValue:e.originalPassword,"onUpdate:modelValue":o[1]||(o[1]=t=>e.originalPassword=t),type:"password",placeholder:m(s)("common.user_field_original_password_placeholder"),rules:l.originalPassword},null,8,["modelValue","placeholder","rules"]),r(_,{modelValue:e.newPassword,"onUpdate:modelValue":o[2]||(o[2]=t=>e.newPassword=t),type:"password",placeholder:m(s)("common.user_field_new_password_placeholder"),rules:l.newPassword},null,8,["modelValue","placeholder","rules"]),r(_,{modelValue:e.confirmPassword,"onUpdate:modelValue":o[3]||(o[3]=t=>e.confirmPassword=t),type:"password",placeholder:m(s)("common.user_field_confirm_password_placeholder"),rules:l.confirmPassword},null,8,["modelValue","placeholder","rules"])]),_:1}),P("div",M,[r(h,{block:"",type:"primary","native-type":"submit"},{default:p(()=>[N(x(m(s)("common.button_submit")),1)]),_:1})])]),_:1},512)],64)}}});export{oo as default};
