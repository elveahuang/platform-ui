var I=(e,u,t)=>new Promise((l,o)=>{var i=s=>{try{n(t.next(s))}catch(a){o(a)}},m=s=>{try{n(t.throw(s))}catch(a){o(a)}},n=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,m);n((t=t.apply(e,u)).next())});import{c as O,v as B,n as x,t as $,d as P,r as S,y as R,p as c,a7 as M,a8 as N,a9 as w,G as T,e as z,aa as D,j as E,h as F,ab as Z,D as G,ac as K,a4 as Q,$ as Y,Z as q,Q as H,ad as J,O as L,a6 as U}from"./index-fff6f175.js";import{u as W}from"./use-placeholder-abade3ca.js";import{r as X,u as ee}from"./use-route-15bd8bbe.js";const[A,y]=O("tabbar"),te={route:Boolean,fixed:B,border:B,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:$(0),safeAreaInsetBottom:{type:Boolean,default:null}},V=Symbol(A);var ae=P({name:A,props:te,emits:["change","update:modelValue"],setup(e,{emit:u,slots:t}){const l=S(),{linkChildren:o}=R(V),i=W(l,y),m=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},n=()=>{var a;const{fixed:r,zIndex:d,border:f}=e;return c("div",{ref:l,role:"tablist",style:M(d),class:[y({fixed:r}),{[N]:f,"van-safe-area-bottom":m()}]},[(a=t.default)==null?void 0:a.call(t)])};return o({props:e,setActive:(a,r)=>{w(e.beforeChange,{args:[a],done(){u("update:modelValue",a),u("change",a),r()}})}}),()=>e.fixed&&e.placeholder?i(n):n()}});const ne=T(ae),[oe,g]=O("tabbar-item"),re=z({},X,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var ce=P({name:oe,props:re,emits:["click"],setup(e,{emit:u,slots:t}){const l=ee(),o=D().proxy,{parent:i,index:m}=E(V);if(!i)return;const n=F(()=>{var r;const{route:d,modelValue:f}=i.props;if(d&&"$route"in o){const{$route:h}=o,{to:v}=e,b=K(v)?v:{path:v};return!!h.matched.find(C=>{const j="path"in b&&b.path===C.path,k="name"in b&&b.name===C.name;return j||k})}return((r=e.name)!=null?r:m.value)===f}),s=r=>{var d;n.value||i.setActive((d=e.name)!=null?d:m.value,l),u("click",r)},a=()=>{if(t.icon)return t.icon({active:n.value});if(e.icon)return c(Q,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:d,badge:f}=e,{activeColor:h,inactiveColor:v}=i.props,b=n.value?h:v;return c("div",{role:"tab",class:g({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:s},[c(Z,G({dot:d,class:g("icon"),content:f},e.badgeProps),{default:a}),c("div",{class:g("text")},[(r=t.default)==null?void 0:r.call(t,{active:n.value})])])}}});const p=T(ce);function _(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!U(e)}const de=P({name:"Tabs",setup(){const{t:e}=Y(),u=S(0);return q(()=>I(this,null,function*(){H("Component <<Tabs>> mounted.")})),()=>{let t,l,o;return c(L,null,[c(J,null,null),c(ne,{modelValue:u.value,route:!0},{default:()=>[c(p,{replace:!0,to:"/tabs/home",icon:"home-o"},_(t=e("common.label_home"))?t:{default:()=>[t]}),c(p,{replace:!0,to:"/tabs/discover",icon:"search"},_(l=e("common.label_discover"))?l:{default:()=>[l]}),c(p,{replace:!0,to:"/tabs/me",icon:"setting-o"},_(o=e("common.label_me"))?o:{default:()=>[o]})]})])}}});export{de as default};
