var C=(e,u,t)=>new Promise((l,n)=>{var i=s=>{try{o(t.next(s))}catch(a){n(a)}},m=s=>{try{o(t.throw(s))}catch(a){n(a)}},o=s=>s.done?l(s.value):Promise.resolve(s.value).then(i,m);o((t=t.apply(e,u)).next())});import{d as O,t as B,n as _,N,e as P,r as S,O as R,h as c,k as $,x as T,j as M,ac as z,L as F,z as w,H as E,ad as D,a5 as H,B as K,X as L,ae as X,F as Y,aa as Z}from"./index-560d96aa.js";import{u as q}from"./use-placeholder-9e92f5a9.js";import{a as G,b as J,I as Q}from"./index-9690e0f0.js";import{c as U}from"./interceptor-4f448e15.js";import{r as W,u as ee}from"./use-route-7b9b7e9d.js";import"./on-popup-reopen-d1931bc6.js";const[A,y]=O("tabbar"),te={route:Boolean,fixed:B,border:B,zIndex:_,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:N(0),safeAreaInsetBottom:{type:Boolean,default:null}},V=Symbol(A);var ae=P({name:A,props:te,emits:["change","update:modelValue"],setup(e,{emit:u,slots:t}){const l=S(),{linkChildren:n}=R(V),i=q(l,y),m=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},o=()=>{var a;const{fixed:r,zIndex:d,border:f}=e;return c("div",{ref:l,role:"tablist",style:$(d),class:[y({fixed:r}),{[G]:f,"van-safe-area-bottom":m()}]},[(a=t.default)==null?void 0:a.call(t)])};return n({props:e,setActive:(a,r)=>{U(e.beforeChange,{args:[a],done(){u("update:modelValue",a),u("change",a),r()}})}}),()=>e.fixed&&e.placeholder?i(o):o()}});const oe=T(ae),[ne,p]=O("tabbar-item"),re=M({},W,{dot:Boolean,icon:String,name:_,badge:_,badgeProps:Object,iconPrefix:String});var ce=P({name:ne,props:re,emits:["click"],setup(e,{emit:u,slots:t}){const l=ee(),n=z().proxy,{parent:i,index:m}=F(V);if(!i)return;const o=w(()=>{var r;const{route:d,modelValue:f}=i.props;if(d&&"$route"in n){const{$route:h}=n,{to:v}=e,b=D(v)?v:{path:v};return!!h.matched.find(I=>{const k="path"in b&&b.path===I.path,j="name"in b&&b.name===I.name;return k||j})}return((r=e.name)!=null?r:m.value)===f}),s=r=>{var d;o.value||i.setActive((d=e.name)!=null?d:m.value,l),u("click",r)},a=()=>{if(t.icon)return t.icon({active:o.value});if(e.icon)return c(Q,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:d,badge:f}=e,{activeColor:h,inactiveColor:v}=i.props,b=o.value?h:v;return c("div",{role:"tab",class:p({active:o.value}),style:{color:b},tabindex:0,"aria-selected":o.value,onClick:s},[c(J,E({dot:d,class:p("icon"),content:f},e.badgeProps),{default:a}),c("div",{class:p("text")},[(r=t.default)==null?void 0:r.call(t,{active:o.value})])])}}});const g=T(ce);function x(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Z(e)}const fe=P({name:"Tabs",setup(){const{t:e}=H(),u=S(0);return K(()=>C(this,null,function*(){L("Component <<Tabs>> mounted.")})),()=>{let t,l,n;return c(Y,null,[c(X,null,null),c(oe,{modelValue:u.value,route:!0},{default:()=>[c(g,{replace:!0,to:"/tabs/home",icon:"home-o"},x(t=e("common.label_home"))?t:{default:()=>[t]}),c(g,{replace:!0,to:"/tabs/discover",icon:"search"},x(l=e("common.label_discover"))?l:{default:()=>[l]}),c(g,{replace:!0,to:"/tabs/me",icon:"setting-o"},x(n=e("common.label_me"))?n:{default:()=>[n]})]})])}}});export{fe as default};
