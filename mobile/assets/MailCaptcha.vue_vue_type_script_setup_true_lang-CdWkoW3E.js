var p=(i,c,t)=>new Promise((m,n)=>{var o=a=>{try{e(t.next(a))}catch(l){n(l)}},s=a=>{try{e(t.throw(a))}catch(l){n(l)}},e=a=>a.done?m(a.value):Promise.resolve(a.value).then(o,s);e((t=t.apply(i,c)).next())});import{d as _,af as h,r as u,o as f,l as g,a as v,ak as y,w as C,ag as b,ah as x,aE as k,aF as w,aj as B}from"./index-BsckSs91.js";/* empty css              *//* empty css                                                              */import{a as E}from"./captcha-tO1HSCss.js";const A=_({__name:"MailCaptcha",props:{email:{type:String,default:""}},emits:["change"],setup(i,{emit:c}){const{t}=h(),m=c,n=i,o=u(!1),s=u(t("common.field_captcha_button"));let e=0,a=null;const l=()=>p(this,null,function*(){if(k(n.email)){w({message:t("common.field_captcha_validation_email")}).then();return}yield E({email:n.email}).then(r=>{m("change",r.data.key),o.value=!0,e=60,a=setInterval(()=>{e--,e<=0?(s.value=t("common.field_captcha_button"),o.value=!1,clearInterval(a)):s.value=t(`${e}`)},1e3)})});return f(()=>p(this,null,function*(){g("Component <<MailCaptcha>> mounted.")})),(r,I)=>{const d=B;return v(),y(d,{style:{"min-width":"60px"},size:"small",type:"primary",disabled:o.value,onClick:l},{default:C(()=>[b(x(s.value),1)]),_:1},8,["disabled"])}}});export{A as _};
