import{aJ as ke,aw as be,aK as $e,aL as Fe,r as z,aM as Ke,Y as je,aN as Be,Z as _e,as as Pe,c as U,d as F,aO as Ae,J as se,B as C,al as ze,ab as Oe,aP as Je,X as P,ai as we,aQ as ee,_ as D,au as J,aR as ye,aS as Ee,f as y,n as N,$ as Me,ak as L,w as te,af as qe,u as De,e as ae,aT as Qe,L as Te,aU as Le,ar as Ne,t as W,av as p,p as Ge,ac as ve,ad as he,U as xe,V as me,aV as pe,az as et,aW as Se,aX as tt,aY as at,aZ as nt,ag as He,a_ as it,aD as lt,aE as ot,a0 as st,at as ct,a2 as rt,ao as Ce,T as ut}from"./index-104d3409.js";import{u as We}from"./index-e3685307.js";function dt(e,o,c){let i,u=0;const t=e.scrollLeft,f=c===0?1:Math.round(c*1e3/16);function r(){ke(i)}function h(){e.scrollLeft+=(o-t)/f,++u<f&&(i=be(h))}return h(),r}function ft(e,o,c,i){let u,t=$e(e);const f=t<o,r=c===0?1:Math.round(c*1e3/16),h=(o-t)/r;function g(){ke(u)}function s(){t+=h,(f&&t>o||!f&&t<o)&&(t=o),Fe(e,t),f&&t<o||!f&&t>o?u=be(s):i&&(u=be(i))}return s(),g}function vt(){const e=z([]),o=[];return Ke(()=>{e.value=[]}),[e,i=>(o[i]||(o[i]=u=>{e.value[i]=u}),o[i])]}function Ye(e,o){if(!je||!window.IntersectionObserver)return;const c=new IntersectionObserver(t=>{o(t[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&c.observe(e.value)},u=()=>{e.value&&c.unobserve(e.value)};Be(u),_e(u),Pe(i)}const[ht,gt]=U("sticky"),bt={zIndex:N,position:Me("top"),container:Object,offsetTop:L(0),offsetBottom:L(0)};var mt=F({name:ht,props:bt,emits:["scroll","change"],setup(e,{emit:o,slots:c}){const i=z(),u=Ae(i),t=se({fixed:!1,width:0,height:0,transform:0}),f=z(!1),r=C(()=>ze(e.position==="top"?e.offsetTop:e.offsetBottom)),h=C(()=>{if(f.value)return;const{fixed:n,height:S,width:I}=t;if(n)return{width:`${I}px`,height:`${S}px`}}),g=C(()=>{if(!t.fixed||f.value)return;const n=Oe(Je(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${r.value}px`});return t.transform&&(n.transform=`translate3d(0, ${t.transform}px, 0)`),n}),s=n=>o("scroll",{scrollTop:n,isFixed:t.fixed}),m=()=>{if(!i.value||ee(i))return;const{container:n,position:S}=e,I=J(i),M=$e(window);if(t.width=I.width,t.height=I.height,S==="top")if(n){const v=J(n),A=v.bottom-r.value-t.height;t.fixed=r.value>I.top&&v.bottom>0,t.transform=A<0?A:0}else t.fixed=r.value>I.top;else{const{clientHeight:v}=document.documentElement;if(n){const A=J(n),w=v-A.top-r.value-t.height;t.fixed=v-r.value<I.bottom&&v>A.top,t.transform=w<0?-w:0}else t.fixed=v-r.value<I.bottom}s(M)};return P(()=>t.fixed,n=>o("change",n)),we("scroll",m,{target:u,passive:!0}),Ye(i,m),P([ye,Ee],()=>{!i.value||ee(i)||!t.fixed||(f.value=!0,D(()=>{const n=J(i);t.width=n.width,t.height=n.height,f.value=!1}))}),()=>{var n;return y("div",{ref:i,style:h.value},[y("div",{class:gt({fixed:t.fixed&&!f.value}),style:g.value},[(n=c.default)==null?void 0:n.call(c)])])}}});const wt=te(mt),[Xe,le]=U("swipe"),yt={loop:W,width:N,height:N,vertical:Boolean,autoplay:L(0),duration:L(500),touchable:W,lazyRender:Boolean,initialSwipe:L(0),indicatorColor:String,showIndicators:W,stopPropagation:W},Ze=Symbol(Xe);var Tt=F({name:Xe,props:yt,emits:["change","dragStart","dragEnd"],setup(e,{emit:o,slots:c}){const i=z(),u=z(),t=se({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const r=qe(),{children:h,linkChildren:g}=De(Ze),s=C(()=>h.length),m=C(()=>t[e.vertical?"height":"width"]),n=C(()=>e.vertical?r.deltaY.value:r.deltaX.value),S=C(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-m.value*s.value:0),I=C(()=>m.value?Math.ceil(Math.abs(S.value)/m.value):s.value),M=C(()=>s.value*m.value),v=C(()=>(t.active+s.value)%s.value),A=C(()=>{const l=e.vertical?"vertical":"horizontal";return r.direction.value===l}),w=C(()=>{const l={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(m.value){const T=e.vertical?"height":"width",x=e.vertical?"width":"height";l[T]=`${M.value}px`,l[x]=e[x]?`${e[x]}px`:""}return l}),K=l=>{const{active:T}=t;return l?e.loop?ve(T+l,-1,s.value):ve(T+l,0,I.value):T},j=(l,T=0)=>{let x=l*m.value;e.loop||(x=Math.min(x,-S.value));let B=T-x;return e.loop||(B=ve(B,S.value,0)),B},R=({pace:l=0,offset:T=0,emitChange:x})=>{if(s.value<=1)return;const{active:B}=t,a=K(l),d=j(a,T);if(e.loop){if(h[0]&&d!==S.value){const b=d<S.value;h[0].setOffset(b?M.value:0)}if(h[s.value-1]&&d!==0){const b=d>0;h[s.value-1].setOffset(b?-M.value:0)}}t.active=a,t.offset=d,x&&a!==B&&o("change",v.value)},Y=()=>{t.swiping=!0,t.active<=-1?R({pace:s.value}):t.active>=s.value&&R({pace:-s.value})},q=()=>{Y(),r.reset(),p(()=>{t.swiping=!1,R({pace:-1,emitChange:!0})})},Q=()=>{Y(),r.reset(),p(()=>{t.swiping=!1,R({pace:1,emitChange:!0})})};let H;const $=()=>clearTimeout(H),X=()=>{$(),+e.autoplay>0&&s.value>1&&(H=setTimeout(()=>{Q(),X()},+e.autoplay))},O=(l=+e.initialSwipe)=>{if(!i.value)return;const T=()=>{var x,B;if(!ee(i)){const a={width:i.value.offsetWidth,height:i.value.offsetHeight};t.rect=a,t.width=+((x=e.width)!=null?x:a.width),t.height=+((B=e.height)!=null?B:a.height)}s.value&&(l=Math.min(s.value-1,l),l===-1&&(l=s.value-1)),t.active=l,t.swiping=!0,t.offset=j(l),h.forEach(a=>{a.setOffset(0)}),X()};ee(i)?D().then(T):T()},Z=()=>O(t.active);let G;const ce=l=>{!e.touchable||l.touches.length>1||(r.start(l),f=!1,G=Date.now(),$(),Y())},re=l=>{e.touchable&&t.swiping&&(r.move(l),A.value&&(!e.loop&&(t.active===0&&n.value>0||t.active===s.value-1&&n.value<0)||(Ge(l,e.stopPropagation),R({offset:n.value}),f||(o("dragStart",{index:v.value}),f=!0))))},ne=()=>{if(!e.touchable||!t.swiping)return;const l=Date.now()-G,T=n.value/l;if((Math.abs(T)>.25||Math.abs(n.value)>m.value/2)&&A.value){const B=e.vertical?r.offsetY.value:r.offsetX.value;let a=0;e.loop?a=B>0?n.value>0?-1:1:0:a=-Math[n.value>0?"ceil":"floor"](n.value/m.value),R({pace:a,emitChange:!0})}else n.value&&R({pace:0});f=!1,t.swiping=!1,o("dragEnd",{index:v.value}),X()},ue=(l,T={})=>{Y(),r.reset(),p(()=>{let x;e.loop&&l===s.value?x=t.active===0?0:l:x=l%s.value,T.immediate?p(()=>{t.swiping=!1}):t.swiping=!1,R({pace:x-t.active,emitChange:!0})})},de=(l,T)=>{const x=T===v.value,B=x?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:B,class:le("indicator",{active:x})},null)},fe=()=>{if(c.indicator)return c.indicator({active:v.value,total:s.value});if(e.showIndicators&&s.value>1)return y("div",{class:le("indicators",{vertical:e.vertical})},[Array(s.value).fill("").map(de)])};return ae({prev:q,next:Q,state:t,resize:Z,swipeTo:ue}),g({size:m,props:e,count:s,activeIndicator:v}),P(()=>e.initialSwipe,l=>O(+l)),P(s,()=>O(t.active)),P(()=>e.autoplay,X),P([ye,Ee,()=>e.width,()=>e.height],Z),P(Qe(),l=>{l==="visible"?X():$()}),Te(O),Le(()=>O(t.active)),Ne(()=>O(t.active)),Be($),_e($),we("touchmove",re,{target:u}),()=>{var l;return y("div",{ref:i,class:le()},[y("div",{ref:u,style:w.value,class:le("track",{vertical:e.vertical}),onTouchstartPassive:ce,onTouchend:ne,onTouchcancel:ne},[(l=c.default)==null?void 0:l.call(c)]),fe()])}}});const xt=te(Tt),[St,Ie]=U("tabs");var Ct=F({name:St,props:{count:he(Number),inited:Boolean,animated:Boolean,duration:he(N),swipeable:Boolean,lazyRender:Boolean,currentIndex:he(Number)},emits:["change"],setup(e,{emit:o,slots:c}){const i=z(),u=r=>o("change",r),t=()=>{var r;const h=(r=c.default)==null?void 0:r.call(c);return e.animated||e.swipeable?y(xt,{ref:i,loop:!1,class:Ie("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:u},{default:()=>[h]}):h},f=r=>{const h=i.value;h&&h.state.active!==r&&h.swipeTo(r,{immediate:!e.inited})};return P(()=>e.currentIndex,f),Te(()=>{f(e.currentIndex)}),ae({swipeRef:i}),()=>y("div",{class:Ie("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ve,oe]=U("tabs"),It={type:Me("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:L(0),duration:L(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:L(0),background:String,lazyRender:W,lineWidth:N,lineHeight:N,beforeChange:Function,swipeThreshold:L(5),titleActiveColor:String,titleInactiveColor:String},Ue=Symbol(Ve);var Rt=F({name:Ve,props:It,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:o,slots:c}){let i,u,t,f,r;const h=z(),g=z(),s=z(),m=z(),n=We(),S=Ae(h),[I,M]=vt(),{children:v,linkChildren:A}=De(Ue),w=se({inited:!1,position:"",lineStyle:{},currentIndex:-1}),K=C(()=>v.length>+e.swipeThreshold||!e.ellipsis||e.shrink),j=C(()=>({borderColor:e.color,background:e.background})),R=(a,d)=>{var b;return(b=a.name)!=null?b:d},Y=C(()=>{const a=v[w.currentIndex];if(a)return R(a,w.currentIndex)}),q=C(()=>ze(e.offsetTop)),Q=C(()=>e.sticky?q.value+i:0),H=a=>{const d=g.value,b=I.value;if(!K.value||!d||!b||!b[w.currentIndex])return;const _=b[w.currentIndex].$el,k=_.offsetLeft-(d.offsetWidth-_.offsetWidth)/2;f&&f(),f=dt(d,k,a?0:+e.duration)},$=()=>{const a=w.inited;D(()=>{const d=I.value;if(!d||!d[w.currentIndex]||e.type!=="line"||ee(h.value))return;const b=d[w.currentIndex].$el,{lineWidth:_,lineHeight:k}=e,E=b.offsetLeft+b.offsetWidth/2,V={width:xe(_),backgroundColor:e.color,transform:`translateX(${E}px) translateX(-50%)`};if(a&&(V.transitionDuration=`${e.duration}s`),me(k)){const ie=xe(k);V.height=ie,V.borderRadius=ie}w.lineStyle=V})},X=a=>{const d=a<w.currentIndex?-1:1;for(;a>=0&&a<v.length;){if(!v[a].disabled)return a;a+=d}},O=(a,d)=>{const b=X(a);if(!me(b))return;const _=v[b],k=R(_,b),E=w.currentIndex!==null;w.currentIndex!==b&&(w.currentIndex=b,d||H(),$()),k!==e.active&&(o("update:active",k),E&&o("change",k,_.title)),t&&!e.scrollspy&&et(Math.ceil(Se(h.value)-q.value))},Z=(a,d)=>{const b=v.find((k,E)=>R(k,E)===a),_=b?v.indexOf(b):0;O(_,d)},G=(a=!1)=>{if(e.scrollspy){const d=v[w.currentIndex].$el;if(d&&S.value){const b=Se(d,S.value)-Q.value;u=!0,r&&r(),r=ft(S.value,b,a?0:+e.duration,()=>{u=!1})}}},ce=(a,d,b)=>{const{title:_,disabled:k}=v[d],E=R(v[d],d);k||(tt(e.beforeChange,{args:[E],done:()=>{O(d),G()}}),at(a)),o("clickTab",{name:E,title:_,event:b,disabled:k})},re=a=>{t=a.isFixed,o("scroll",a)},ne=a=>{D(()=>{Z(a),G(!0)})},ue=()=>{for(let a=0;a<v.length;a++){const{top:d}=J(v[a].$el);if(d>Q.value)return a===0?0:a-1}return v.length-1},de=()=>{if(e.scrollspy&&!u){const a=ue();O(a)}},fe=()=>{if(e.type==="line"&&v.length)return y("div",{class:oe("line"),style:w.lineStyle},null)},l=()=>{var a,d,b;const{type:_,border:k,sticky:E}=e,V=[y("div",{ref:E?void 0:s,class:[oe("wrap"),{[pe]:_==="line"&&k}]},[y("div",{ref:g,role:"tablist",class:oe("nav",[_,{shrink:e.shrink,complete:K.value}]),style:j.value,"aria-orientation":"horizontal"},[(a=c["nav-left"])==null?void 0:a.call(c),v.map(ie=>ie.renderTitle(ce)),fe(),(d=c["nav-right"])==null?void 0:d.call(c)])]),(b=c["nav-bottom"])==null?void 0:b.call(c)];return E?y("div",{ref:s},[V]):V},T=()=>{$(),D(()=>{var a,d;H(!0),(d=(a=m.value)==null?void 0:a.swipeRef.value)==null||d.resize()})};P(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],$),P(ye,T),P(()=>e.active,a=>{a!==Y.value&&Z(a)}),P(()=>v.length,()=>{w.inited&&(Z(e.active),$(),D(()=>{H(!0)}))});const x=()=>{Z(e.active,!0),D(()=>{w.inited=!0,s.value&&(i=J(s.value).height),H(!0)})},B=(a,d)=>o("rendered",a,d);return ae({resize:T,scrollTo:ne}),Le($),Ne($),Pe(x),Ye(h,$),we("scroll",de,{target:S,passive:!0}),A({id:n,props:e,setLine:$,scrollable:K,onRendered:B,currentName:Y,setTitleRefs:M,scrollIntoView:H}),()=>y("div",{ref:h,class:oe([e.type])},[e.sticky?y(wt,{container:h.value,offsetTop:q.value,onScroll:re},{default:()=>[l()]}):l(),y(Ct,{ref:m,count:v.length,inited:w.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:w.currentIndex,onChange:O},{default:()=>{var a;return[(a=c.default)==null?void 0:a.call(c)]}})])}});const kt=Symbol(),[$t,Re]=U("tab"),Bt=F({name:$t,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:N,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:o}){const c=C(()=>{const u={},{type:t,color:f,disabled:r,isActive:h,activeColor:g,inactiveColor:s}=e;f&&t==="card"&&(u.borderColor=f,r||(h?u.backgroundColor=f:u.color=f));const n=h?g:s;return n&&(u.color=n),u}),i=()=>{const u=y("span",{class:Re("text",{ellipsis:!e.scrollable})},[o.title?o.title():e.title]);return e.dot||me(e.badge)&&e.badge!==""?y(nt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[u]}):u};return()=>y("div",{id:e.id,role:"tab",class:[Re([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:c.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[i()])}}),[_t,Pt]=U("swipe-item");var At=F({name:_t,setup(e,{slots:o}){let c;const i=se({offset:0,inited:!1,mounted:!1}),{parent:u,index:t}=He(Ze);if(!u)return;const f=C(()=>{const g={},{vertical:s}=u.props;return u.size.value&&(g[s?"height":"width"]=`${u.size.value}px`),i.offset&&(g.transform=`translate${s?"Y":"X"}(${i.offset}px)`),g}),r=C(()=>{const{loop:g,lazyRender:s}=u.props;if(!s||c)return!0;if(!i.mounted)return!1;const m=u.activeIndicator.value,n=u.count.value-1,S=m===0&&g?n:m-1,I=m===n&&g?0:m+1;return c=t.value===m||t.value===S||t.value===I,c}),h=g=>{i.offset=g};return Te(()=>{D(()=>{i.mounted=!0})}),ae({setOffset:h}),()=>{var g;return y("div",{class:Pt(),style:f.value},[r.value?(g=o.default)==null?void 0:g.call(o):null])}}});const zt=te(At),[Ot,ge]=U("tab"),Et=Oe({},it,{dot:Boolean,name:N,badge:N,title:String,disabled:Boolean,titleClass:lt,titleStyle:[String,Object],showZeroBadge:W});var Mt=F({name:Ot,props:Et,setup(e,{slots:o}){const c=We(),i=z(!1),u=ut(),{parent:t,index:f}=He(Ue);if(!t)return;const r=()=>{var n;return(n=e.name)!=null?n:f.value},h=()=>{i.value=!0,t.props.lazyRender&&D(()=>{t.onRendered(r(),e.title)})},g=C(()=>{const n=r()===t.currentName.value;return n&&!i.value&&h(),n}),s=n=>y(Bt,rt({key:c,id:`${t.id}-${f.value}`,ref:t.setTitleRefs(f.value),style:e.titleStyle,class:e.titleClass,isActive:g.value,controls:c,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:S=>n(u.proxy,f.value,S)},Ce(t.props,["type","color","shrink"]),Ce(e,["dot","badge","title","disabled","showZeroBadge"])),{title:o.title}),m=z(!g.value);return P(g,n=>{n?m.value=!1:p(()=>{m.value=!0})}),P(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),ot(kt,g),ae({id:c,renderTitle:s}),()=>{var n;const S=`${t.id}-${f.value}`,{animated:I,swipeable:M,scrollspy:v,lazyRender:A}=t.props;if(!o.default&&!I)return;const w=v||g.value;if(I||M)return y(zt,{id:c,role:"tabpanel",class:ge("panel-wrapper",{inactive:m.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":S},{default:()=>{var R;return[y("div",{class:ge("panel")},[(R=o.default)==null?void 0:R.call(o)])]}});const j=i.value||v||!A?(n=o.default)==null?void 0:n.call(o):null;return st(y("div",{id:c,role:"tabpanel",class:ge("panel"),tabindex:w?0:-1,"aria-labelledby":S},[j]),[[ct,w]])}}});const Nt=te(Mt),Ht=te(Rt);export{wt as S,Nt as T,Ht as a};
