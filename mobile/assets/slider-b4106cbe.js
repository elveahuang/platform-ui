var z=(t,d,c)=>new Promise((i,u)=>{var m=l=>{try{b(c.next(l))}catch(g){u(g)}},V=l=>{try{b(c.throw(l))}catch(g){u(g)}},b=l=>l.done?i(l.value):Promise.resolve(l.value).then(m,V);b((c=c.apply(t,d)).next())});import{c as Z,t as x,n as M,d as I,r as f,g as j,h as A,aw as J,a_ as W,o as p,p as y,B as _,ap as $,q as ee,a$ as te,b0 as ae,b1 as ne,b as re,G as le,Z as oe,Q as ie}from"./index-fff6f175.js";const[ue,C]=Z("slider"),ce={min:x(0),max:x(100),step:x(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:M,buttonSize:M,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var se=I({name:ue,props:ce,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:d,slots:c}){let i,u,m;const V=f(),b=[f(),f()],l=f(),g=j(),S=A(()=>Number(t.max)-Number(t.min)),R=A(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:J(t.barHeight)}}),v=e=>t.range&&Array.isArray(e),X=()=>{const{modelValue:e,min:a}=t;return v(e)?`${(e[1]-e[0])*100/S.value}%`:`${(e-Number(a))*100/S.value}%`},Y=()=>{const{modelValue:e,min:a}=t;return v(e)?`${(e[0]-Number(a))*100/S.value}%`:"0%"},D=A(()=>{const a={[t.vertical?"height":"width"]:X(),background:t.activeColor};l.value&&(a.transition="none");const n=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return a[n()]=Y(),a}),N=e=>{const a=+t.min,n=+t.max,o=+t.step;e=re(e,a,n);const r=Math.round((e-a)/o)*o;return ae(a,r)},B=()=>{const e=t.modelValue;v(e)?m=e.map(N):m=N(e)},H=e=>{var a,n;const o=(a=e[0])!=null?a:Number(t.min),r=(n=e[1])!=null?n:Number(t.max);return o>r?[r,o]:[o,r]},h=(e,a)=>{v(e)?e=H(e).map(N):e=N(e),_(e,t.modelValue)||d("update:modelValue",e),a&&!_(e,m)&&d("change",e)},U=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;B();const{min:a,reverse:n,vertical:o,modelValue:r}=t,s=$(V),L=()=>o?n?s.bottom-e.clientY:e.clientY-s.top:n?s.right-e.clientX:e.clientX-s.left,O=o?s.height:s.width,w=Number(a)+L()/O*S.value;if(v(r)){const[k,E]=r,Q=(k+E)/2;w<=Q?h([w,E],!0):h([k,w],!0)}else h(w,!0)},q=e=>{t.disabled||t.readonly||(g.start(e),u=t.modelValue,B(),l.value="start")},F=e=>{if(t.disabled||t.readonly)return;l.value==="start"&&d("dragStart",e),ee(e,!0),g.move(e),l.value="dragging";const a=$(V),n=t.vertical?g.deltaY.value:g.deltaX.value,o=t.vertical?a.height:a.width;let r=n/o*S.value;if(t.reverse&&(r=-r),v(m)){const s=t.reverse?1-i:i;u[s]=m[s]+r}else u=m+r;h(u)},T=e=>{t.disabled||t.readonly||(l.value==="dragging"&&(h(u,!0),d("dragEnd",e)),l.value="")},G=e=>typeof e=="number"?C("button-wrapper",["left","right"][e]):C("button-wrapper",t.reverse?"left":"right"),K=(e,a)=>{const n=l.value==="dragging";if(typeof a=="number"){const o=c[a===0?"left-button":"right-button"];let r;if(n&&Array.isArray(u)&&(r=u[0]>u[1]?i^1:i),o)return o({value:e,dragging:n,dragIndex:r})}return c.button?c.button({value:e,dragging:n}):y("div",{class:C("button"),style:ne(t.buttonSize)},null)},P=e=>{const a=typeof e=="number"?t.modelValue[e]:t.modelValue;return y("div",{ref:b[e!=null?e:0],role:"slider",class:G(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":a,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:n=>{typeof e=="number"&&(i=e),q(n)},onTouchend:T,onTouchcancel:T,onClick:te},[K(a,e)])};return h(t.modelValue),W(()=>t.modelValue),b.forEach(e=>{p("touchmove",F,{target:e})}),()=>y("div",{ref:V,style:R.value,class:C({vertical:t.vertical,disabled:t.disabled}),onClick:U},[y("div",{class:C("bar"),style:D.value},[t.range?[P(0),P(1)]:P()])])}});const de=le(se),fe=I({name:"ShowCaseSliderPage",setup(){oe(()=>z(this,null,function*(){ie("Page <<ShowCaseSliderPage>> mounted.")}));const t=f(-10),d=f(-100),c=f(-10);return()=>y("div",{class:"m-6"},[y(de,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,min:d.value,max:c.value,onChange:i=>console.log(i)},null)])}});export{fe as default};
