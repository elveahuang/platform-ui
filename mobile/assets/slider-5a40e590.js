var E=(t,s,c)=>new Promise((d,i)=>{var u=l=>{try{f(c.next(l))}catch(g){i(g)}},b=l=>{try{f(c.throw(l))}catch(g){i(g)}},f=l=>l.done?d(l.value):Promise.resolve(l.value).then(u,b);f((c=c.apply(t,s)).next())});import{c as Z,t as C,n as z,d as R,r as v,g as j,h as w,aB as J,b4 as W,o as p,p as _,B as M,au as I,q as ee,b5 as te,b6 as ae,b7 as ne,b as re,G as le,Z as oe,Q as ie,a4 as ue,a5 as ce}from"./index-e749b2a0.js";const[se,S]=Z("slider"),de={min:C(0),max:C(100),step:C(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:z,buttonSize:z,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var me=R({name:se,props:de,emits:["change","dragEnd","dragStart","update:modelValue"],setup(t,{emit:s,slots:c}){let d,i,u;const b=v(),f=[v(),v()],l=v(),g=j(),V=w(()=>Number(t.max)-Number(t.min)),X=w(()=>{const e=t.vertical?"width":"height";return{background:t.inactiveColor,[e]:J(t.barHeight)}}),h=e=>t.range&&Array.isArray(e),Y=()=>{const{modelValue:e,min:a}=t;return h(e)?`${(e[1]-e[0])*100/V.value}%`:`${(e-Number(a))*100/V.value}%`},$=()=>{const{modelValue:e,min:a}=t;return h(e)?`${(e[0]-Number(a))*100/V.value}%`:"0%"},D=w(()=>{const a={[t.vertical?"height":"width"]:Y(),background:t.activeColor};l.value&&(a.transition="none");const n=()=>t.vertical?t.reverse?"bottom":"top":t.reverse?"right":"left";return a[n()]=$(),a}),N=e=>{const a=+t.min,n=+t.max,o=+t.step;e=re(e,a,n);const r=Math.round((e-a)/o)*o;return ae(a,r)},A=()=>{const e=t.modelValue;h(e)?u=e.map(N):u=N(e)},H=e=>{var a,n;const o=(a=e[0])!=null?a:Number(t.min),r=(n=e[1])!=null?n:Number(t.max);return o>r?[r,o]:[o,r]},y=(e,a)=>{h(e)?e=H(e).map(N):e=N(e),M(e,t.modelValue)||s("update:modelValue",e),a&&!M(e,u)&&s("change",e)},U=e=>{if(e.stopPropagation(),t.disabled||t.readonly)return;A();const{min:a,reverse:n,vertical:o,modelValue:r}=t,m=I(b),L=()=>o?n?m.bottom-e.clientY:e.clientY-m.top:n?m.right-e.clientX:e.clientX-m.left,O=o?m.height:m.width,x=Number(a)+L()/O*V.value;if(h(r)){const[k,T]=r,Q=(k+T)/2;x<=Q?y([x,T],!0):y([k,x],!0)}else y(x,!0)},q=e=>{t.disabled||t.readonly||(g.start(e),i=t.modelValue,A(),l.value="start")},F=e=>{if(t.disabled||t.readonly)return;l.value==="start"&&s("dragStart",e),ee(e,!0),g.move(e),l.value="dragging";const a=I(b),n=t.vertical?g.deltaY.value:g.deltaX.value,o=t.vertical?a.height:a.width;let r=n/o*V.value;if(t.reverse&&(r=-r),h(u)){const m=t.reverse?1-d:d;i[m]=u[m]+r}else i=u+r;y(i)},P=e=>{t.disabled||t.readonly||(l.value==="dragging"&&(y(i,!0),s("dragEnd",e)),l.value="")},G=e=>typeof e=="number"?S("button-wrapper",["left","right"][e]):S("button-wrapper",t.reverse?"left":"right"),K=(e,a)=>{const n=l.value==="dragging";if(typeof a=="number"){const o=c[a===0?"left-button":"right-button"];let r;if(n&&Array.isArray(i)&&(r=i[0]>i[1]?d^1:d),o)return o({value:e,dragging:n,dragIndex:r})}return c.button?c.button({value:e,dragging:n}):_("div",{class:S("button"),style:ne(t.buttonSize)},null)},B=e=>{const a=typeof e=="number"?t.modelValue[e]:t.modelValue;return _("div",{ref:f[e!=null?e:0],role:"slider",class:G(e),tabindex:t.disabled?void 0:0,"aria-valuemin":t.min,"aria-valuenow":a,"aria-valuemax":t.max,"aria-disabled":t.disabled||void 0,"aria-readonly":t.readonly||void 0,"aria-orientation":t.vertical?"vertical":"horizontal",onTouchstartPassive:n=>{typeof e=="number"&&(d=e),q(n)},onTouchend:P,onTouchcancel:P,onClick:te},[K(a,e)])};return y(t.modelValue),W(()=>t.modelValue),f.forEach(e=>{p("touchmove",F,{target:e})}),()=>_("div",{ref:b,style:X.value,class:S({vertical:t.vertical,disabled:t.disabled}),onClick:U},[_("div",{class:S("bar"),style:D.value},[t.range?[B(0),B(1)]:B()])])}});const fe=le(me);const ge={class:"m-6"},he=R({__name:"slider",setup(t){const s=v(-10),c=v(-100),d=v(-10);return oe(()=>E(this,null,function*(){ie("Page <<ShowCaseSliderPage>> mounted.")})),(i,u)=>{const b=fe;return ue(),ce("div",ge,[_(b,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=f=>s.value=f),min:c.value,max:d.value},null,8,["modelValue","min","max"])])}}});export{he as default};
