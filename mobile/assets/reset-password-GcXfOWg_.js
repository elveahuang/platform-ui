var f=(_,s,t)=>new Promise((m,e)=>{var i=o=>{try{a(t.next(o))}catch(r){e(r)}},p=o=>{try{a(t.throw(o))}catch(r){e(r)}},a=o=>o.done?m(o.value):Promise.resolve(o.value).then(i,p);a((t=t.apply(_,s)).next())});import{d as y,L as b,r as B,D as w,o as k,l as h,a_ as c,a as F,y as I,b as n,E as l,w as u,B as g,P as K,A as N,F as x,be as P,C as S,S as q,H as A}from"./index-29QG65Ji.js";/* empty css              *//* empty css              */import{C as D}from"./index-qFllKies.js";/* empty css              */import{F as E,a as L}from"./index-jRb0vLOR.js";import{N as U}from"./index-ZmyD9gfI.js";import"./index-AARQ1_lV.js";const G=g("div",{class:"app-divider"},null,-1),H={class:"m-4"},W=y({__name:"reset-password",setup(_){const{t:s}=b(),t=B(),m=w({password:[{required:!0,message:s("common.user_field_password_validation")}],passwordConfirm:[{required:!0,message:s("common.user_field_password_validation")}]}),e=w({username:"",email:"",password:"",passwordConfirm:"",captchaKey:"",captchaValue:""}),i=()=>{const p={email:e.email,username:e.username,password:e.password,passwordConfirm:e.passwordConfirm,captchaKey:e.captchaKey,captchaValue:e.captchaValue};P(p).then(a=>{a.code==200&&S.push({path:"login"}).then()}).catch(a=>{h(a)})};return k(()=>f(this,null,function*(){h("Page <<ResetPassword>> mounted."),e.username=c.getItem("username"),e.email=c.getItem("email"),e.captchaKey=c.getItem("captchaKey"),e.captchaValue=c.getItem("captchaValue")})),(p,a)=>{const o=U,r=E,v=D,V=q,C=L;return F(),I(x,null,[n(o,{title:l(s)("common.user_pages_reset_password_title"),"left-arrow":"",onClickLeft:a[0]||(a[0]=d=>l(A)())},null,8,["title"]),G,n(C,{ref_key:"form",ref:t,onSubmit:i},{default:u(()=>[n(v,{inset:""},{default:u(()=>[n(r,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=d=>e.password=d),placeholder:l(s)("common.user_field_password_placeholder"),rules:m.password},null,8,["modelValue","placeholder","rules"]),n(r,{modelValue:e.passwordConfirm,"onUpdate:modelValue":a[2]||(a[2]=d=>e.passwordConfirm=d),placeholder:l(s)("common.user_field_password_confirm_placeholder"),rules:m.passwordConfirm},null,8,["modelValue","placeholder","rules"])]),_:1}),g("div",H,[n(V,{block:"",type:"primary","native-type":"submit"},{default:u(()=>[K(N(l(s)("common.button_submit")),1)]),_:1})])]),_:1},512)],64)}}});export{W as default};
