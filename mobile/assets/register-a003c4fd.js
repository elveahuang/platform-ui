var f=(i,o,d)=>new Promise((m,l)=>{var c=s=>{try{u(d.next(s))}catch(e){l(e)}},_=s=>{try{u(d.throw(s))}catch(e){l(e)}},u=s=>s.done?m(s.value):Promise.resolve(s.value).then(c,_);u((d=d.apply(i,o)).next())});import{d as F,J as q,r as g,D as v,o as E,l as w,a as S,y as D,b as a,E as t,w as n,A as B,N as C,B as b,F as R,aX as A,C as y,O as K,H as z}from"./index-b8efec62.js";import{C as G,R as H,_ as I,a as J,b as L}from"./index-91d38f7f.js";import{S as M}from"./index-99ab6837.js";/* empty css              *//* empty css              */import{C as O}from"./index-ba25a823.js";/* empty css              */import{F as P,a as T}from"./index-ae76203c.js";import{N as X}from"./index-ad411b46.js";/* empty css              */import{i as j,a as Q,_ as W}from"./MailCaptcha.vue_vue_type_script_setup_true_lang-124d163e.js";/* empty css                                                                 *//* empty css              *//* empty css              */import"./useTheme-81e1d620.js";import"./index-74cfa6f0.js";const Y=i=>j(i),Z=i=>Q(i),ee=B("div",{class:"app-divider"},null,-1),ae={class:"m-4"},ve=F({__name:"register",setup(i){const{t:o}=q(),d=g(),m=v({username:[{required:!0,message:o("common.user_field_username_validation")},{validator:Z,message:o("common.user_field_username_validation_register")}],email:[{required:!0,message:o("common.user_field_email_validation")},{validator:Y,message:o("common.user_field_email_validation")}],password:[{required:!0,message:o("common.user_field_password_validation")}],captchaValue:[{required:!0,message:o("common.field_captcha_validation")}]}),l=v({username:"",email:"",password:"",passwordConfirm:"",captchaKey:"",captchaValue:""}),c=g(!1),_=s=>f(this,null,function*(){l.captchaKey=s}),u=()=>{A(l).then(s=>{s.code==200&&y.push({path:"login"})}).catch(s=>{w(s)})};return E(()=>f(this,null,function*(){w("Page <<Register>> mounted.")})),(s,e)=>{const k=X,p=P,x=O,V=K,U=T,N=M,h=G,$=H;return S(),D(R,null,[a(k,{title:t(o)("common.user_pages_register_title"),"left-arrow":"",onClickLeft:e[0]||(e[0]=r=>t(z)())},null,8,["title"]),ee,a(U,{ref_key:"form",ref:d,onSubmit:u},{default:n(()=>[a(x,{inset:""},{default:n(()=>[a(p,{modelValue:l.username,"onUpdate:modelValue":e[1]||(e[1]=r=>l.username=r),placeholder:t(o)("common.user_field_username_placeholder"),rules:m.username},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=r=>l.email=r),placeholder:t(o)("common.user_field_email_placeholder"),rules:m.email},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.captchaValue,"onUpdate:modelValue":e[3]||(e[3]=r=>l.captchaValue=r),placeholder:t(o)("common.field_captcha_placeholder"),rules:m.captchaValue},{button:n(()=>[a(t(W),{email:l.email,onChange:_},null,8,["email"])]),_:1},8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=r=>l.password=r),placeholder:t(o)("common.user_field_password_placeholder"),rules:m.captchaValue},null,8,["modelValue","placeholder","rules"]),a(p,{modelValue:l.passwordConfirm,"onUpdate:modelValue":e[5]||(e[5]=r=>l.passwordConfirm=r),placeholder:t(o)("common.user_field_password_confirm_placeholder"),rules:m.captchaValue},null,8,["modelValue","placeholder","rules"])]),_:1}),B("div",ae,[a(V,{block:"",type:"primary","native-type":"submit",disabled:c.value},{default:n(()=>[C(b(t(o)("common.button_register")),1)]),_:1},8,["disabled"])])]),_:1},512),a($,{class:"px-4 pt-4"},{default:n(()=>[a(h,{span:"12",class:"text-left"},{default:n(()=>[a(N,null,{default:n(()=>[a(t(I)),a(t(J)),a(t(L))]),_:1})]),_:1}),a(h,{span:"12",class:"text-right"},{default:n(()=>[a(V,{plain:"",hairline:"",type:"primary",size:"small",onClick:e[6]||(e[6]=r=>t(y).push({path:"/login"}))},{default:n(()=>[C(b(t(o)("common.button_login")),1)]),_:1})]),_:1})]),_:1})],64)}}});export{ve as default};
