import{bd as se,be as X,bf as ke,bg as Re,r as C,bh as Ie,e as U,d as j,bi as Y,C as B,o as xe,aK as J,b as h,n as z,aD as Be,m as Z,aE as H,bj as Ae,aC as _e,ab as $e,g as x,bk as Pe,bl as ze,aU as P,bm as Le,bn as Ne,bo as Ee,j as He,bp as Oe,h as ne,aV as G,bq as We,p as ae,aN as De,br as le,bs as Me,bt as Ve,b2 as Ze,aG as Fe,a$ as Ue,aR as je,aF as Ke,bu as Ye,b3 as qe,bv as Xe,bw as Ge,bx as Je,aS as Qe,by as pe,bz as et,aY as tt,b9 as ie,bA as nt,y as ce,ar as de}from"./index-Ci2KvRpB.js";import{u as ue}from"./use-id-DB1wHIP4.js";import{T as at}from"./use-tab-status-qUTiTeX3.js";import{S as lt,a as it}from"./index-DkQ4o0CQ.js";import{u as ot,S as rt}from"./index-Cc5oZ5fq.js";function st(e,l,i){let c,s=0;const n=e.scrollLeft,o=i===0?1:Math.round(i*1e3/16);function f(){se(c)}function d(){e.scrollLeft+=(l-n)/o,++s<o&&(c=X(d))}return d(),f}function ct(e,l,i,c){let s,n=ke(e);const o=n<l,f=i===0?1:Math.round(i*1e3/16),d=(l-n)/f;function m(){se(s)}function T(){n+=d,(o&&n>l||!o&&n<l)&&(n=l),Re(e,n),o&&n<l||!o&&n>l?s=X(T):c&&(s=X(c))}return T(),m}function dt(){const e=C([]),l=[];return Ie(()=>{e.value=[]}),[e,c=>(l[c]||(l[c]=s=>{e.value[c]=s}),l[c])]}const[ut,oe]=U("tabs");var ft=j({name:ut,props:{count:Y(Number),inited:Boolean,animated:Boolean,duration:Y(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:Y(Number)},emits:["change"],setup(e,{emit:l,slots:i}){const c=C(),s=f=>l("change",f),n=()=>{var f;const d=(f=i.default)==null?void 0:f.call(i);return e.animated||e.swipeable?h(lt,{ref:c,loop:!1,class:oe("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:s},{default:()=>[d]}):d},o=f=>{const d=c.value;d&&d.state.active!==f&&d.swipeTo(f,{immediate:!e.inited})};return B(()=>e.currentIndex,o),xe(()=>{o(e.currentIndex)}),J({swipeRef:c}),()=>h("div",{class:oe("content",{animated:e.animated||e.swipeable})},[n()])}});const[fe,F]=U("tabs"),vt={type:Be("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Z(0),duration:Z(.3),animated:Boolean,ellipsis:H,swipeable:Boolean,scrollspy:Boolean,offsetTop:Z(0),background:String,lazyRender:H,showHeader:H,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:Z(5),titleActiveColor:String,titleInactiveColor:String},ve=Symbol(fe);var bt=j({name:fe,props:vt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:l,slots:i}){let c,s,n,o,f;const d=C(),m=C(),T=C(),A=C(),_=ue(),k=Ae(d),[b,w]=dt(),{children:v,linkChildren:K}=_e(ve),u=$e({inited:!1,position:"",lineStyle:{},currentIndex:-1}),L=x(()=>v.length>+e.swipeThreshold||!e.ellipsis||e.shrink),O=x(()=>({borderColor:e.color,background:e.background})),N=(t,a)=>{var r;return(r=t.name)!=null?r:a},W=x(()=>{const t=v[u.currentIndex];if(t)return N(t,u.currentIndex)}),$=x(()=>Pe(e.offsetTop)),Q=x(()=>e.sticky?$.value+c:0),E=t=>{const a=m.value,r=b.value;if(!L.value||!a||!r||!r[u.currentIndex])return;const y=r[u.currentIndex].$el,g=y.offsetLeft-(a.offsetWidth-y.offsetWidth)/2;o&&o(),o=st(a,g,t?0:+e.duration)},R=()=>{const t=u.inited;P(()=>{const a=b.value;if(!a||!a[u.currentIndex]||e.type!=="line"||Oe(d.value))return;const r=a[u.currentIndex].$el,{lineWidth:y,lineHeight:g}=e,S=r.offsetLeft+r.offsetWidth/2,I={width:ne(y),backgroundColor:e.color,transform:`translateX(${S}px) translateX(-50%)`};if(t&&(I.transitionDuration=`${e.duration}s`),G(g)){const V=ne(g);I.height=V,I.borderRadius=V}u.lineStyle=I})},be=t=>{const a=t<u.currentIndex?-1:1;for(;t>=0&&t<v.length;){if(!v[t].disabled)return t;t+=a}},D=(t,a)=>{const r=be(t);if(!G(r))return;const y=v[r],g=N(y,r),S=u.currentIndex!==null;u.currentIndex!==r&&(u.currentIndex=r,a||E(),R()),g!==e.active&&(l("update:active",g),S&&l("change",g,y.title)),n&&!e.scrollspy&&De(Math.ceil(le(d.value)-$.value))},M=(t,a)=>{const r=v.find((g,S)=>N(g,S)===t),y=r?v.indexOf(r):0;D(y,a)},p=(t=!1)=>{if(e.scrollspy){const a=v[u.currentIndex].$el;if(a&&k.value){const r=le(a,k.value)-Q.value;s=!0,f&&f(),f=ct(k.value,r,t?0:+e.duration,()=>{s=!1})}}},he=(t,a,r)=>{const{title:y,disabled:g}=v[a],S=N(v[a],a);g||(Me(e.beforeChange,{args:[S],done:()=>{D(a),p()}}),Ve(t)),l("clickTab",{name:S,title:y,event:r,disabled:g})},ge=t=>{n=t.isFixed,l("scroll",t)},me=t=>{P(()=>{M(t),p(!0)})},ye=()=>{for(let t=0;t<v.length;t++){const{top:a}=ae(v[t].$el);if(a>Q.value)return t===0?0:t-1}return v.length-1},Te=()=>{if(e.scrollspy&&!s){const t=ye();D(t)}},we=()=>{if(e.type==="line"&&v.length)return h("div",{class:F("line"),style:u.lineStyle},null)},ee=()=>{var t,a,r;const{type:y,border:g,sticky:S}=e,I=[h("div",{ref:S?void 0:T,class:[F("wrap"),{[We]:y==="line"&&g}]},[h("div",{ref:m,role:"tablist",class:F("nav",[y,{shrink:e.shrink,complete:L.value}]),style:O.value,"aria-orientation":"horizontal"},[(t=i["nav-left"])==null?void 0:t.call(i),v.map(V=>V.renderTitle(he)),we(),(a=i["nav-right"])==null?void 0:a.call(i)])]),(r=i["nav-bottom"])==null?void 0:r.call(i)];return S?h("div",{ref:T},[I]):I},te=()=>{R(),P(()=>{var t,a;E(!0),(a=(t=A.value)==null?void 0:t.swipeRef.value)==null||a.resize()})};B(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],R),B(ze,te),B(()=>e.active,t=>{t!==W.value&&M(t)}),B(()=>v.length,()=>{u.inited&&(M(e.active),R(),P(()=>{E(!0)}))});const Se=()=>{M(e.active,!0),P(()=>{u.inited=!0,T.value&&(c=ae(T.value).height),E(!0)})},Ce=(t,a)=>l("rendered",t,a);return J({resize:te,scrollTo:me}),Le(R),Ne(R),Ee(Se),ot(d,R),He("scroll",Te,{target:k,passive:!0}),K({id:_,props:e,setLine:R,scrollable:L,onRendered:Ce,currentName:W,setTitleRefs:w,scrollIntoView:E}),()=>h("div",{ref:d,class:F([e.type])},[e.showHeader?e.sticky?h(rt,{container:d.value,offsetTop:$.value,onScroll:ge},{default:()=>[ee()]}):ee():null,h(ft,{ref:A,count:v.length,inited:u.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:u.currentIndex,onChange:D},{default:()=>{var t;return[(t=i.default)==null?void 0:t.call(i)]}})])}});const[ht,re]=U("tab"),gt=j({name:ht,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:H},setup(e,{slots:l}){const i=x(()=>{const s={},{type:n,color:o,disabled:f,isActive:d,activeColor:m,inactiveColor:T}=e;o&&n==="card"&&(s.borderColor=o,f||(d?s.backgroundColor=o:s.color=o));const _=d?m:T;return _&&(s.color=_),s}),c=()=>{const s=h("span",{class:re("text",{ellipsis:!e.scrollable})},[l.title?l.title():e.title]);return e.dot||G(e.badge)&&e.badge!==""?h(Ze,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[s]}):s};return()=>h("div",{id:e.id,role:"tab",class:[re([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[c()])}}),[mt,q]=U("tab"),yt=Fe({},Ue,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:je,titleStyle:[String,Object],showZeroBadge:H});var Tt=j({name:mt,props:yt,setup(e,{slots:l}){const i=ue(),c=C(!1),s=nt(),{parent:n,index:o}=Ke(ve);if(!n)return;const f=()=>{var b;return(b=e.name)!=null?b:o.value},d=()=>{c.value=!0,n.props.lazyRender&&P(()=>{n.onRendered(f(),e.title)})},m=x(()=>{const b=f()===n.currentName.value;return b&&!c.value&&d(),b}),T=C(""),A=C("");Ye(()=>{const{titleClass:b,titleStyle:w}=e;T.value=b?qe(b):"",A.value=w&&typeof w!="string"?Xe(Ge(w)):w});const _=b=>h(gt,tt({key:i,id:`${n.id}-${o.value}`,ref:n.setTitleRefs(o.value),style:A.value,class:T.value,isActive:m.value,controls:i,scrollable:n.scrollable.value,activeColor:n.props.titleActiveColor,inactiveColor:n.props.titleInactiveColor,onClick:w=>b(s.proxy,o.value,w)},ie(n.props,["type","color","shrink"]),ie(e,["dot","badge","title","disabled","showZeroBadge"])),{title:l.title}),k=C(!m.value);return B(m,b=>{b?k.value=!1:Je(()=>{k.value=!0})}),B(()=>e.title,()=>{n.setLine(),n.scrollIntoView()}),Qe(at,m),J({id:i,renderTitle:_}),()=>{var b;const w=`${n.id}-${o.value}`,{animated:v,swipeable:K,scrollspy:u,lazyRender:L}=n.props;if(!l.default&&!v)return;const O=u||m.value;if(v||K)return h(it,{id:i,role:"tabpanel",class:q("panel-wrapper",{inactive:k.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":w},{default:()=>{var $;return[h("div",{class:q("panel")},[($=l.default)==null?void 0:$.call(l)])]}});const W=c.value||u||!L?(b=l.default)==null?void 0:b.call(l):null;return pe(h("div",{id:i,role:"tabpanel",class:q("panel"),tabindex:O?0:-1,"aria-labelledby":w},[W]),[[et,O]])}}});const It=ce(Tt),xt=ce(bt),Bt=(e={})=>de("/api/v1/pay/type",e),At=(e={})=>de("/api/v1/vip/type",e);export{It as T,xt as a,Bt as p,At as v};
