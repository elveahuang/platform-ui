var s=(r,e,a)=>new Promise((o,n)=>{var i=d=>{try{c(a.next(d))}catch(l){n(l)}},m=d=>{try{c(a.throw(d))}catch(l){n(l)}},c=d=>d.done?o(d.value):Promise.resolve(d.value).then(i,m);c((a=a.apply(r,e)).next())});import{e as We,M as pe,n as ie,m as Fe,d as le,K as Ne,b as u,g as se,b1 as qe,x as Te,U as je,W as He,f as fe,b2 as Ge,a3 as Ve,aO as Ke,a1 as Re,b3 as de,l as t,aK as $e,b4 as v,b5 as X,b6 as O,b7 as Je,b8 as te,ag as Ye,r as Xe,ak as ve,o as Ze,a as N,y as ae,A as D,w as g,b9 as et,E as S,c as he,a4 as we,B as oe,F as at,z as ot,C as q,ba as rt,bb as nt,a7 as A}from"./index-f3936587.js";/* empty css              *//* empty css              */import{C as it}from"./index-20e0c5b1.js";/* empty css              */import{I as st}from"./index-ce777840.js";/* empty css              */import{N as ct}from"./index-99ac67ed.js";import{S as lt}from"./index-20deb666.js";import{r as dt,u as ut}from"./use-route-34d35db1.js";import{S as mt}from"./index-4d25389e.js";import{B as gt}from"./index-35659196.js";import{C as pt}from"./index-bb7c5ee9.js";import{_ as ft}from"./_plugin-vue_export-helper-c27b6911.js";const[Ie,vt]=We("grid"),ht={square:Boolean,center:pe,border:pe,gutter:ie,reverse:Boolean,iconSize:ie,direction:String,clickable:Boolean,columnNum:Fe(4)},Oe=Symbol(Ie);var wt=le({name:Ie,props:ht,setup(r,{slots:e}){const{linkChildren:a}=Ne(Oe);return a({props:r}),()=>{var o;return u("div",{style:{paddingLeft:se(r.gutter)},class:[vt(),{[qe]:r.border&&!r.gutter}]},[(o=e.default)==null?void 0:o.call(e)])}}});const bt=Te(wt),[St,J]=We("grid-item"),Pt=je({},dt,{dot:Boolean,text:String,icon:String,badge:ie,iconColor:String,iconPrefix:String,badgeProps:Object});var yt=le({name:St,props:Pt,setup(r,{slots:e}){const{parent:a,index:o}=He(Oe),n=ut();if(!a)return;const i=fe(()=>{const{square:h,gutter:w,columnNum:P}=a.props,R=`${100/+P}%`,L={flexBasis:R};if(h)L.paddingTop=R;else if(w){const W=se(w);L.paddingRight=W,o.value>=+P&&(L.marginTop=W)}return L}),m=fe(()=>{const{square:h,gutter:w}=a.props;if(h&&w){const P=se(w);return{right:P,bottom:P,height:"auto"}}}),c=()=>{if(e.icon)return u(Ke,Ve({dot:r.dot,content:r.badge},r.badgeProps),{default:e.icon});if(r.icon)return u(Re,{dot:r.dot,name:r.icon,size:a.props.iconSize,badge:r.badge,class:J("icon"),color:r.iconColor,badgeProps:r.badgeProps,classPrefix:r.iconPrefix},null)},d=()=>{if(e.text)return e.text();if(r.text)return u("span",{class:J("text")},[r.text])},l=()=>e.default?e.default():[c(),d()];return()=>{const{center:h,border:w,square:P,gutter:R,reverse:L,direction:W,clickable:E}=a.props,z=[J("content",[W,{center:h,square:P,reverse:L,clickable:E,surround:w&&R}]),{[Ge]:w}];return u("div",{class:[J({square:P})],style:i.value},[u("div",{role:E?"button":void 0,class:z,style:m.value,tabindex:E?0:void 0,onClick:n},[l()])])}}});const Ct=Te(yt),kt="/platform-ui-vue/mobile/assets/avatar-fb68ad03.png";/*! Capacitor: https://capacitorjs.com/ - MIT License */const _t=r=>{const e=new Map;e.set("web",{name:"web"});const a=r.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},o=(i,m)=>{a.platforms.set(i,m)},n=i=>{a.platforms.has(i)&&(a.currentPlatform=a.platforms.get(i))};return a.addPlatform=o,a.setPlatform=n,a},Lt=r=>r.CapacitorPlatforms=_t(r),Ee=Lt(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});Ee.addPlatform;Ee.setPlatform;var F;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(F||(F={}));class re extends Error{constructor(e,a,o){super(e),this.message=e,this.code=a,this.data=o}}const xt=r=>{var e,a;return r!=null&&r.androidBridge?"android":!((a=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},Wt=r=>{var e,a,o,n,i;const m=r.CapacitorCustomPlatform||null,c=r.Capacitor||{},d=c.Plugins=c.Plugins||{},l=r.CapacitorPlatforms,h=()=>m!==null?m.name:xt(r),w=((e=l==null?void 0:l.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||h,P=()=>w()!=="web",R=((a=l==null?void 0:l.currentPlatform)===null||a===void 0?void 0:a.isNativePlatform)||P,L=p=>{const f=C.get(p);return!!(f!=null&&f.platforms.has(w())||z(p))},W=((o=l==null?void 0:l.currentPlatform)===null||o===void 0?void 0:o.isPluginAvailable)||L,E=p=>{var f;return(f=c.PluginHeaders)===null||f===void 0?void 0:f.find(M=>M.name===p)},z=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||E,G=p=>r.console.error(p),B=(p,f,M)=>Promise.reject(`${M} does not have an implementation of "${f}".`),C=new Map,De=(p,f={})=>{const M=C.get(p);if(M)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),M.proxy;const U=w(),Q=z(p);let T;const Be=()=>s(void 0,null,function*(){return!T&&U in f?T=typeof f[U]=="function"?T=yield f[U]():T=f[U]:m!==null&&!T&&"web"in f&&(T=typeof f.web=="function"?T=yield f.web():T=f.web),T}),Me=(b,y)=>{var x,$;if(Q){const I=Q==null?void 0:Q.methods.find(_=>y===_.name);if(I)return I.rtype==="promise"?_=>c.nativePromise(p,y.toString(),_):(_,V)=>c.nativeCallback(p,y.toString(),_,V);if(b)return(x=b[y])===null||x===void 0?void 0:x.bind(b)}else{if(b)return($=b[y])===null||$===void 0?void 0:$.bind(b);throw new re(`"${p}" plugin is not implemented on ${U}`,F.Unimplemented)}},Z=b=>{let y;const x=(...$)=>{const I=Be().then(_=>{const V=Me(_,b);if(V){const K=V(...$);return y=K==null?void 0:K.remove,K}else throw new re(`"${p}.${b}()" is not implemented on ${U}`,F.Unimplemented)});return b==="addListener"&&(I.remove=()=>s(void 0,null,function*(){return y()})),I};return x.toString=()=>`${b.toString()}() { [capacitor code] }`,Object.defineProperty(x,"name",{value:b,writable:!1,configurable:!1}),x},me=Z("addListener"),ge=Z("removeListener"),Qe=(b,y)=>{const x=me({eventName:b},y),$=()=>s(void 0,null,function*(){const _=yield x;ge({eventName:b,callbackId:_},y)}),I=new Promise(_=>x.then(()=>_({remove:$})));return I.remove=()=>s(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield $()}),I},ee=new Proxy({},{get(b,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Q?Qe:me;case"removeListener":return ge;default:return Z(y)}}});return d[p]=ee,C.set(p,{name:p,proxy:ee,platforms:new Set([...Object.keys(f),...Q?[U]:[]])}),ee},ze=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||De;return c.convertFileSrc||(c.convertFileSrc=p=>p),c.getPlatform=w,c.handleError=G,c.isNativePlatform=R,c.isPluginAvailable=W,c.pluginMethodNoop=B,c.registerPlugin=ze,c.Exception=re,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},Tt=r=>r.Capacitor=Wt(r),k=Tt(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),H=k.registerPlugin;k.Plugins;class Ue{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(a);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const i=()=>s(this,null,function*(){return this.removeListener(e,a)}),m=Promise.resolve({remove:i});return Object.defineProperty(m,"remove",{value:()=>s(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield i()})}),m}removeAllListeners(){return s(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,a){const o=this.listeners[e];o&&o.forEach(n=>n(a))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,a){this.windowListeners[a]={registered:!1,windowEventName:e,pluginEventName:a,handler:o=>{this.notifyListeners(a,o)}}}unimplemented(e="not implemented"){return new k.Exception(e,F.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,F.Unavailable)}removeListener(e,a){return s(this,null,function*(){const o=this.listeners[e];if(!o)return;const n=o.indexOf(a);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const be=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Se=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Rt extends Ue{getCookies(){return s(this,null,function*(){const e=document.cookie,a={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[n,i]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=Se(n).trim(),i=Se(i).trim(),a[n]=i}),a})}setCookie(e){return s(this,null,function*(){try{const a=be(e.key),o=be(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),m=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${a}=${o||""}${n}; path=${i}; ${m};`}catch(a){return Promise.reject(a)}})}deleteCookie(e){return s(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}})}clearCookies(){return s(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const a of e)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return s(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}H("CapacitorCookies",{web:()=>new Rt});const $t=r=>s(void 0,null,function*(){return new Promise((e,a)=>{const o=new FileReader;o.onload=()=>{const n=o.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},o.onerror=n=>a(n),o.readAsDataURL(r)})}),It=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(n=>n.toLocaleLowerCase()).reduce((n,i,m)=>(n[i]=r[e[m]],n),{})},Ot=(r,e=!0)=>r?Object.entries(r).reduce((o,n)=>{const[i,m]=n;let c,d;return Array.isArray(m)?(d="",m.forEach(l=>{c=e?encodeURIComponent(l):l,d+=`${i}=${c}&`}),d.slice(0,-1)):(c=e?encodeURIComponent(m):m,d=`${i}=${c}`),`${o}&${d}`},"").substr(1):null,Et=(r,e={})=>{const a=Object.assign({method:r.method||"GET",headers:r.headers},e),n=It(r.headers)["content-type"]||"";if(typeof r.data=="string")a.body=r.data;else if(n.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[m,c]of Object.entries(r.data||{}))i.set(m,c);a.body=i.toString()}else if(n.includes("multipart/form-data")){const i=new FormData;if(r.data instanceof FormData)r.data.forEach((c,d)=>{i.append(d,c)});else for(const c of Object.keys(r.data))i.append(c,r.data[c]);a.body=i;const m=new Headers(a.headers);m.delete("content-type"),a.headers=m}else(n.includes("application/json")||typeof r.data=="object")&&(a.body=JSON.stringify(r.data));return a};class Ut extends Ue{request(e){return s(this,null,function*(){const a=Et(e,e.webFetchExtra),o=Ot(e.params,e.shouldEncodeUrlParams),n=o?`${e.url}?${o}`:e.url,i=yield fetch(n,a),m=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};m.includes("application/json")&&(c="json");let d,l;switch(c){case"arraybuffer":case"blob":l=yield i.blob(),d=yield $t(l);break;case"json":d=yield i.json();break;case"document":case"text":default:d=yield i.text()}const h={};return i.headers.forEach((w,P)=>{h[P]=w}),{data:d,headers:h,status:i.status,url:i.url}})}get(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}H("CapacitorHttp",{web:()=>new Ut});const Y=H("Browser",{web:()=>de(()=>import("./web-68074bab.js"),["assets/web-68074bab.js","assets/index-f3936587.js","assets/index-2b5a44a3.css","assets/index-20e0c5b1.js","assets/index-5987bc0e.css","assets/index-ce777840.js","assets/index-24ee41ea.css","assets/index-99ac67ed.js","assets/use-placeholder-268dcae4.js","assets/index-7bc4136f.css","assets/index-20deb666.js","assets/index-5005ec54.css","assets/use-route-34d35db1.js","assets/index-4d25389e.js","assets/index-35659196.js","assets/index-bb7c5ee9.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css","assets/index-84d44fe9.css","assets/index-c5114efa.css","assets/index-89e22452.css"]).then(r=>new r.BrowserWeb)});class At{available(){return s(this,null,function*(){return!0})}open(e,a,o){return s(this,null,function*(){if(k.isNativePlatform())yield Y.open({url:e}),yield Y.addListener("browserFinished",a),yield Y.addListener("browserPageLoaded",o);else return new Promise(n=>{window.open(e,"_self"),n()})})}close(){return s(this,null,function*(){yield Y.removeAllListeners()})}}const Ae=new At;class Dt{available(){return s(this,null,function*(){return!0})}isDingTalk(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t(e),t("DingTalkService getSignature...")})}config(){return s(this,null,function*(){return t("DingTalkService config..."),new Promise((e,a)=>{this.getSignature("url").then(o=>{o.data?(t("DingTalkService config..."),dd.config({agentId:o.data.agentId,corpId:o.data.corpId,timeStamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["runtime.info","biz.contact.choose","device.notification.confirm","device.notification.alert","device.notification.prompt","biz.ding.post","biz.util.openLink","biz.navigation.close","biz.util.share","biz.util.chooseImage","biz.util.scan"],onSuccess:n=>{t("DingTalkService config onSuccess."),t(n),e()},onFail:n=>{t("DingTalkService config onFail."),t(n),a()}}),dd.error(n=>{t("DingTalkService config error."),t(n)}),dd.ready(()=>{t("DingTalkService config ready.")})):a()})})})}getPhoto(){return s(this,null,function*(){return t("DingTalkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("DingTalkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("DingTalkService takePhotos..."),new Promise((o,n)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{dd.chooseImage({sourceType:[e],count:a,position:["back"],onSuccess:i=>{t("DingTalkService takePhotos success."),console.log(i.tempFilePaths,i.tempFiles),o()},onFail:i=>{t("DingTalkService takePhotos fail."),t(i),n()}})})):(t("DingTalkService dd not available."),n())})})}scanQRCode(){return t("DingTalkService scanQRCode..."),new Promise((e,a)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{t("DingTalkService dd ready."),dd.biz.util.scan({type:"all",onSuccess:o=>{t("DingTalkService scanQRCode onSuccess."),t(o),e(o.text)},onFail:o=>{t("DingTalkService scanQRCode onFail."),t(o),a()}})})):(t("DingTalkService dd not available."),a())})}}const Pe=new Dt;class zt{available(){return s(this,null,function*(){return!0})}isLark(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t(e),t("LarkService getSignature...")})}config(){return s(this,null,function*(){return this.isLark()?(t("LarkService getSignature..."),new Promise((e,a)=>{this.getSignature("url").then(o=>{o.data?(t("LarkService config..."),h5sdk.config({appId:o.data.appId,timestamp:+o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["biz.navigation.close","biz.util.share"],onSuccess:n=>{t("LarkService config onSuccess."),t(n),e()},onFail:n=>{t("LarkService config onFail."),t(n),a()}}),h5sdk.error(n=>{t("LarkService config error."),t(n)}),h5sdk.ready(()=>{t("LarkService config ready.")})):a()})})):Promise.resolve()})}getPhoto(){return s(this,null,function*(){return t("LarkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("LarkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("LarkService takePhotos..."),new Promise((o,n)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{tt.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("LarkService takePhotos success."),t(i),o(i.tempFilePaths)},fail:i=>{t("LarkService takePhotos success."),t(i),n()}})})):(t("LarkService h5sdk not available."),n())})})}scanQRCode(){return t("LarkService scanQRCode..."),new Promise((e,a)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{t("LarkService h5sdk ready."),tt.scanCode({scanType:["barCode","qrCode"],barCodeInput:!0,success:o=>{t("LarkService scanQRCode success."),t(o),e(o.result)},fail:o=>{t("LarkService scanQRCode fail."),t(o),a()}})})):(t("LarkService h5sdk not available."),a())})}}const ye=new zt,ne=H("BarcodeScanner",{web:()=>de(()=>import("./web-2910dfa0.js"),["assets/web-2910dfa0.js","assets/index-f3936587.js","assets/index-2b5a44a3.css","assets/index-20e0c5b1.js","assets/index-5987bc0e.css","assets/index-ce777840.js","assets/index-24ee41ea.css","assets/index-99ac67ed.js","assets/use-placeholder-268dcae4.js","assets/index-7bc4136f.css","assets/index-20deb666.js","assets/index-5005ec54.css","assets/use-route-34d35db1.js","assets/index-4d25389e.js","assets/index-35659196.js","assets/index-bb7c5ee9.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css","assets/index-84d44fe9.css","assets/index-c5114efa.css","assets/index-89e22452.css"]).then(r=>new r.BarcodeScannerWeb)});var Ce;(function(r){r.Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS"})(Ce||(Ce={}));var ke;(function(r){r.Rear="REAR",r.Front="FRONT"})(ke||(ke={}));var ce;(function(r){r.Uri="uri",r.Base64="base64",r.DataUrl="dataUrl"})(ce||(ce={}));const Bt=H("Camera",{web:()=>de(()=>import("./web-1a441cb7.js"),["assets/web-1a441cb7.js","assets/index-f3936587.js","assets/index-2b5a44a3.css","assets/index-20e0c5b1.js","assets/index-5987bc0e.css","assets/index-ce777840.js","assets/index-24ee41ea.css","assets/index-99ac67ed.js","assets/use-placeholder-268dcae4.js","assets/index-7bc4136f.css","assets/index-20deb666.js","assets/index-5005ec54.css","assets/use-route-34d35db1.js","assets/index-4d25389e.js","assets/index-35659196.js","assets/index-bb7c5ee9.js","assets/_plugin-vue_export-helper-c27b6911.js","assets/index-58c5c4aa.css","assets/index-84d44fe9.css","assets/index-c5114efa.css","assets/index-89e22452.css"]).then(r=>new r.CameraWeb)});class Mt{available(){return s(this,null,function*(){return!0})}isNative(){return k.isNativePlatform()}isIos(){return k.getPlatform()==="ios"}isAndroid(){return k.getPlatform()==="android"}isWeb(){return k.getPlatform()==="web"}config(){return s(this,null,function*(){t("NativeService config...")})}takePhotos(e="",a=1){return s(this,null,function*(){return t("NativeService takePhotos..."),t(e),t(a),new Promise((o,n)=>s(this,null,function*(){k.isPluginAvailable("Camera")?(t("NativeService Camera available."),yield Bt.getPhoto({quality:90,allowEditing:!0,resultType:ce.Uri}),o("")):(t("NativeService Camera not available."),n())}))})}scanQRCode(){return t("NativeService scanQRCode..."),new Promise((e,a)=>s(this,null,function*(){if(k.isPluginAvailable("BarcodeScanner")){t("NativeService BarcodeScanner available."),yield ne.checkPermission({force:!0}),yield ne.hideBackground();const n=yield ne.startScan();n.hasContent?(t("LarkService scanQRCode success."),t(n),e(n.content)):(t("LarkService scanQRCode fail."),t(n),a())}else t("NativeService BarcodeScanner not available."),a()}))}}const _e=new Mt,Qt=r=>$e("/api/oapis/wecom/signature",r),Ft=r=>$e("/api/oapis/wechat/signature",r);class Nt{available(){return s(this,null,function*(){return!0})}isWeCom(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}isWeComEnabled(){return v.wechat.cp.enabled}auth(e="",a=!1){return s(this,null,function*(){t("WeComService auth...");let o;j.isWebPlatform()&&!X(v.wechat.cp.webappRedirectUrl)?(t(`WeComService webapp auth. ${v.wechat.cp.webappRedirectUrl}`),o=a?e:O(v.wechat.cp.webappRedirectUrl,e)):j.isWapPlatform()&&!X(v.wechat.cp.mobileRedirectUrl)?(t(`WeComService mobile auth. ${v.wechat.cp.mobileRedirectUrl}`),o=a?e:O(v.wechat.cp.mobileRedirectUrl,e)):(t(`WeComService auth. ${v.wechat.cp.redirectUrl}`),o=a?e:O(v.wechat.cp.redirectUrl,e)),t(`WeComService auth redirectUrl. ${o}`);const n=O(v.wechat.cp.oauthUrl,v.wechat.cp.appId,encodeURIComponent(o),v.wechat.cp.agentId,v.wechat.cp.oauthPrivateEnabled?"snsapi_privateinfo":"snsapi_base");t(`WeComService redirect to ${n}.`),Je(n),yield Ae.open(n,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeComService getSignature..."),yield Qt({url:e})})}config(){return s(this,null,function*(){t("WeComService config...");const e=location.href.split("#")[0];return new Promise((a,o)=>{this.getSignature(e).then(n=>{n.data?(t("WeComService config signature."),wx.config({debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeComService config ready."),a()}),wx.error(i=>{t("WeComService config error."),console.log(i)})):o()}).catch(n=>{t("WeComService config ready."),t(n),o()})})})}getPhoto(){return s(this,null,function*(){return t("WeComService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeComService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("WeComService takePhotos..."),new Promise((o,n)=>{wx?(t("WeComService wx available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("WeComService takePhotos success."),t(i),o(i.localIds)},fail:()=>{t("WeComService takePhotos fail."),n()}})})):(t("WeComService not available."),n())})})}scanQRCode(){return t("WeComService scanQRCode..."),new Promise((e,a)=>{console.log(wx),wx?(t("WeComService wx available."),wx.ready(()=>{t("WeComService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:o=>{t("WeComService scanQRCode success."),t(o),e(o.resultStr)},cancel:o=>{t("WeComService scanQRCode cancel."),t(o),a(o)},error:o=>{t("WeComService scanQRCode error."),t(o),o.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),a(o)}})})):(t("WeComService wx not available."),a())})}}const Le=new Nt;class qt{getPlatform(){return k.getPlatform()}isWapPlatform(){const e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|phone/i.test(e)}isWebPlatform(){return!this.isWapPlatform()}initialize(){return s(this,null,function*(){t("PlatformService initialize..."),_e.isNative()?yield _e.config():Le.isWeCom()?yield Le.config():xe.isWeChat()?yield xe.config():ye.isLark()?yield ye.config():Pe.isDingTalk()&&(yield Pe.config())})}}const j=new qt;class jt{available(){return s(this,null,function*(){return!0})}isWeChat(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}auth(e,a=!1){return s(this,null,function*(){t("WeChatService auth...");let o;j.isWebPlatform()&&!X(v.wechat.mp.webappRedirectUrl)?o=a?e:O(v.wechat.mp.webappRedirectUrl,te(e,"code")):j.isWapPlatform()&&!X(v.wechat.mp.mobileRedirectUrl)?o=a?e:O(v.wechat.mp.mobileRedirectUrl,te(e,"code")):o=a?e:O(v.wechat.mp.redirectUrl,te(e,"code"));const n=O(v.wechat.mp.appId,encodeURIComponent(o));t(`WeChatService redirect to ${n}.`),yield Ae.open(n,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeChatService getSignature..."),yield Ft({url:e})})}config(){return s(this,null,function*(){t("WeChatService config...");const e=location.href.split("#")[0];return new Promise((a,o)=>{this.getSignature(e).then(n=>{n.data?(t("WeChatService config..."),wx.config({debug:!1,appId:n.data.appId,timestamp:n.data.timestamp,nonceStr:n.data.nonceStr,signature:n.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeChatService config ready."),a()}),wx.error(i=>{t("WeChatService config error."),console.log(i)})):o()}).catch(n=>{t("WeChatService config ready."),t(n),o()})})})}getPhoto(){return s(this,null,function*(){return t("WeChatService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeChatService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",a=1){return s(this,null,function*(){return t("WeChatService takePhotos..."),new Promise((o,n)=>{wx?(t("WeChatService available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:a,sizeType:["original","compressed"],success:i=>{t("WeChatService takePhotos success."),t(i),o(i.localIds)},fail:()=>{t("WeChatService takePhotos fail."),n()}})})):(t("WeChatService not available."),n())})})}scanQRCode(){return t("WeChatService scanQRCode..."),new Promise((e,a)=>{console.log(wx),wx?(t("WeChatService wx available."),wx.ready(()=>{t("WeChatService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:o=>{t("WeChatService scanQRCode success."),t(o),e(o.resultStr)},cancel:o=>{t("WeChatService scanQRCode cancel."),t(o),a(o)},error:o=>{t("WeChatService scanQRCode error."),t(o),o.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),a(o)}})})):(t("WeChatService wx not available."),a())})}}const xe=new jt;class Ht{initialize(){return s(this,null,function*(){j.initialize().then(()=>{t("PlatformService initialize successfully.")})})}}const Gt=new Ht,ue=r=>(rt("data-v-028e527e"),r=r(),nt(),r),Vt={class:"app-page"},Kt={class:"app-page-content"},Jt={class:"m-4 flex"},Yt={class:"flex-none"},Xt={class:"mt-2 w-1 flex-grow pl-4"},Zt={key:1,class:"app-text-primary"},ea=ue(()=>D("div",{class:"app-divider"},null,-1)),ta=ue(()=>D("div",{class:"app-divider"},null,-1)),aa=ue(()=>D("div",{class:"app-divider"},null,-1)),oa=le({__name:"me",setup(r){const{user:e,logout:a,isAnonymous:o}=Ye(),n=Xe("app-header app-header-transparent"),i=d=>{d.isFixed&&d.scrollTop&&d.scrollTop>60?n.value="app-header":n.value="app-header app-header-transparent"},m=ve.me.getApps(),c=()=>{a().then(()=>{q.push(ve.app.getLogoutSuccessUrl())})};return Ze(()=>s(this,null,function*(){t("Page <<MePage>> mounted."),yield Gt.initialize().then()})),(d,l)=>{const h=Re,w=lt,P=ct,R=mt,L=st,W=gt,E=Ct,z=bt,G=it,B=pt;return N(),ae("div",Vt,[D("div",Kt,[u(R,{onScroll:i},{default:g(()=>[u(P,{border:!1,class:et(S(n))},{right:g(()=>[u(w,null,{default:g(()=>[u(h,{size:"24",onClick:l[0]||(l[0]=C=>S(q).push({path:"/notifications/index"}))},{default:g(()=>[u(S(A),{icon:"mdi:bell-outline"})]),_:1}),u(h,{size:"24",onClick:l[1]||(l[1]=C=>S(q).push({path:"/setting"}))},{default:g(()=>[u(S(A),{icon:"mdi:cog-outline"})]),_:1})]),_:1})]),_:1},8,["class"])]),_:1}),D("div",Jt,[D("div",Yt,[u(L,{round:"",class:"!align-middle",width:"3.6rem",height:"3.6rem",src:S(kt)},null,8,["src"])]),D("div",Xt,[S(o)?(N(),he(w,{key:0},{default:g(()=>[u(W,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[2]||(l[2]=C=>S(q).push({path:"find-password"}))},{default:g(()=>[we(oe(d.$t("common.user_pages_find_password_title")),1)]),_:1}),u(W,{plain:"",hairline:"",type:"primary",size:"small",onClick:l[3]||(l[3]=C=>S(q).push({path:"register"}))},{default:g(()=>[we(oe(d.$t("common.user_pages_register_title")),1)]),_:1})]),_:1})):(N(),ae("div",Zt,oe(S(e).displayName),1))])]),ea,u(G,{inset:""},{default:g(()=>[u(z,{square:"","column-num":"4"},{default:g(()=>[(N(!0),ae(at,null,ot(S(m),C=>(N(),he(E,{key:C.id,text:C.title},{icon:g(()=>[u(h,{class:"app-icon mb-2",size:"28"},{default:g(()=>[u(S(A),{icon:C.icon},null,8,["icon"])]),_:2},1024)]),_:2},1032,["text"]))),128))]),_:1})]),_:1}),ta,u(G,{inset:""},{default:g(()=>[u(B,{title:d.$t("common.label_settings"),to:"/setting",isLink:""},{icon:g(()=>[u(h,{class:"app-icon mr-4",size:"24"},{default:g(()=>[u(S(A),{icon:"mdi:cog-outline"})]),_:1})]),_:1},8,["title"]),u(B,{title:d.$t("common.label_change_password"),to:"/change-password",isLink:""},{icon:g(()=>[u(h,{class:"app-icon mr-4",size:"24"},{default:g(()=>[u(S(A),{icon:"mdi:lock-outline"})]),_:1})]),_:1},8,["title"]),u(B,{title:d.$t("common.label_about"),to:"/about",isLink:""},{icon:g(()=>[u(h,{class:"app-icon mr-4",size:"24"},{default:g(()=>[u(S(A),{icon:"mdi:information-outline"})]),_:1})]),_:1},8,["title"]),u(B,{title:d.$t("common.label_logout"),isLink:"",onClick:l[4]||(l[4]=C=>c())},{icon:g(()=>[u(h,{class:"app-icon mr-4",size:"24"},{default:g(()=>[u(S(A),{icon:"mdi:logout"})]),_:1})]),_:1},8,["title"])]),_:1}),aa])])}}});const ra=ft(oa,[["__scopeId","data-v-028e527e"]]),Sa=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"}));export{Ce as C,Ue as W,ke as a,re as b,Sa as m};
