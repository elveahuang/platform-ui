var w=(c,s,n)=>new Promise((l,e)=>{var u=a=>{try{o(n.next(a))}catch(i){e(i)}},d=a=>{try{o(n.throw(a))}catch(i){e(i)}},o=a=>a.done?l(a.value):Promise.resolve(a.value).then(u,d);o((n=n.apply(c,s)).next())});import{d as V,L as b,r as k,D as f,o as B,l as g,a as C,y as F,b as r,w as p,E as m,B as P,P as N,A as S,F as q,C as x,S as U,H as A}from"./index-oSIQvxaO.js";/* empty css              *//* empty css              */import{C as D}from"./index-VqZffBQw.js";/* empty css              */import{F as E,a as L}from"./index--rB-a6_R.js";/* empty css              */import{N as $}from"./index-WUpRH4En.js";import{c as G}from"./user-dZQPQhrT.js";import{S as H}from"./index-2aNgI0ca.js";import"./index--V_8s5Je.js";const I=P("div",{class:"app-divider"},null,-1),M={class:"m-4"},oo=V({__name:"change-password",setup(c){const{t:s}=b(),n=k(),l=f({originalPassword:[{required:!0,message:s("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:s("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:s("common.user_field_confirm_password_validation")}]}),e=f({originalPassword:"",newPassword:"",confirmPassword:""}),u=()=>{const d={originalPassword:e.originalPassword,newPassword:e.newPassword};G(d).then(o=>{o.code==200&&x.push("/tabs/me").then()}).catch(o=>{g(o)})};return B(()=>w(this,null,function*(){g("Page <<ChangePasswordPage>> mounted.")})),(d,o)=>{const a=$,i=H,_=E,v=D,h=U,y=L;return C(),F(q,null,[r(i,null,{default:p(()=>[r(a,{title:d.$t("common.user_pages_change_password_title"),"left-arrow":"",onClickLeft:o[0]||(o[0]=t=>m(A)())},null,8,["title"])]),_:1}),I,r(y,{ref_key:"form",ref:n,onSubmit:u},{default:p(()=>[r(v,{inset:""},{default:p(()=>[r(_,{modelValue:e.originalPassword,"onUpdate:modelValue":o[1]||(o[1]=t=>e.originalPassword=t),type:"password",placeholder:m(s)("common.user_field_original_password_placeholder"),rules:l.originalPassword},null,8,["modelValue","placeholder","rules"]),r(_,{modelValue:e.newPassword,"onUpdate:modelValue":o[2]||(o[2]=t=>e.newPassword=t),type:"password",placeholder:m(s)("common.user_field_new_password_placeholder"),rules:l.newPassword},null,8,["modelValue","placeholder","rules"]),r(_,{modelValue:e.confirmPassword,"onUpdate:modelValue":o[3]||(o[3]=t=>e.confirmPassword=t),type:"password",placeholder:m(s)("common.user_field_confirm_password_placeholder"),rules:l.confirmPassword},null,8,["modelValue","placeholder","rules"])]),_:1}),P("div",M,[r(h,{block:"",type:"primary","native-type":"submit"},{default:p(()=>[N(S(m(s)("common.button_submit")),1)]),_:1})])]),_:1},512)],64)}}});export{oo as default};
