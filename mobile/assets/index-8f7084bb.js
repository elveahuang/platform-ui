import{av as e,aN as t,aO as a,S as l,r as i,aP as n,X as o,aQ as r,Y as s,ar as c,c as u,d,aR as v,J as f,B as p,al as h,aa as g,aS as b,V as m,ah as w,f as y,n as x,_ as C,ak as I,aT as k,at as S,w as $,t as B,U as T,aU as z,ae as R,u as M,e as O,aV as A,aW as X,aX as W,K as Z,aY as L,aq as Y,au as D,Z as N,p as j,ab as E,ac as H,T as P,aZ as V,ay as F,a_ as U,a1 as _,aj as q,a$ as J,b0 as K,af as Q,aI as G,aC as ee,aD as te,$ as ae,as as le}from"./index-d09b7da7.js";let ie=0;function ne(){const e=l(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++ie}`}function oe(e,t){if(!o||!window.IntersectionObserver)return;const a=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),l=()=>{e.value&&a.unobserve(e.value)};r(l),s(l),c((()=>{e.value&&a.observe(e.value)}))}const[re,se]=u("sticky");const ce=$(d({name:re,props:{zIndex:x,position:C("top"),container:Object,offsetTop:I(0),offsetBottom:I(0)},emits:["scroll","change"],setup(e,{emit:a,slots:l}){const n=i(),o=v(n),r=f({fixed:!1,width:0,height:0,transform:0}),s=p((()=>h("top"===e.position?e.offsetTop:e.offsetBottom))),c=p((()=>{const{fixed:e,height:t,width:a}=r;if(e)return{width:`${a}px`,height:`${t}px`}})),u=p((()=>{if(!r.fixed)return;const t=g(b(e.zIndex),{width:`${r.width}px`,height:`${r.height}px`,[e.position]:`${s.value}px`});return r.transform&&(t.transform=`translate3d(0, ${r.transform}px, 0)`),t})),d=()=>{if(!n.value||k(n))return;const{container:l,position:i}=e,o=S(n),c=t(window);if(r.width=o.width,r.height=o.height,"top"===i)if(l){const e=S(l),t=e.bottom-s.value-r.height;r.fixed=s.value>o.top&&e.bottom>0,r.transform=t<0?t:0}else r.fixed=s.value>o.top;else{const{clientHeight:e}=document.documentElement;if(l){const t=S(l),a=e-t.top-s.value-r.height;r.fixed=e-s.value<o.bottom&&e>t.top,r.transform=a<0?-a:0}else r.fixed=e-s.value<o.bottom}(e=>{a("scroll",{scrollTop:e,isFixed:r.fixed})})(c)};return m((()=>r.fixed),(e=>a("change",e))),w("scroll",d,{target:o,passive:!0}),oe(n,d),()=>{var e;return y("div",{ref:n,style:c.value},[y("div",{class:se({fixed:r.fixed}),style:u.value},[null==(e=l.default)?void 0:e.call(l)])])}}})),[ue,de]=u("tab");var ve=d({name:ue,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:x,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:B},setup(e,{slots:t}){const a=p((()=>{const t={},{type:a,color:l,disabled:i,isActive:n,activeColor:o,inactiveColor:r}=e;l&&"card"===a&&(t.borderColor=l,i||(n?t.backgroundColor=l:t.color=l));const s=n?o:r;return s&&(t.color=s),t})),l=()=>{const a=y("span",{class:de("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||T(e.badge)&&""!==e.badge?y(z,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[a]}):a};return()=>y("div",{id:e.id,role:"tab",class:[de([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:a.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[l()])}});const[fe,pe]=u("swipe"),he={loop:B,width:x,height:x,vertical:Boolean,autoplay:I(0),duration:I(500),touchable:B,lazyRender:Boolean,initialSwipe:I(0),indicatorColor:String,showIndicators:B,stopPropagation:B},ge=Symbol(fe);const be=$(d({name:fe,props:he,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const l=i(),n=i(),o=f({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let c=!1;const u=R(),{children:d,linkChildren:v}=M(ge),h=p((()=>d.length)),g=p((()=>o[e.vertical?"height":"width"])),b=p((()=>e.vertical?u.deltaY.value:u.deltaX.value)),x=p((()=>{if(o.rect){return(e.vertical?o.rect.height:o.rect.width)-g.value*h.value}return 0})),C=p((()=>g.value?Math.ceil(Math.abs(x.value)/g.value):h.value)),I=p((()=>h.value*g.value)),S=p((()=>(o.active+h.value)%h.value)),$=p((()=>{const t=e.vertical?"vertical":"horizontal";return u.direction.value===t})),B=p((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(g.value){const a=e.vertical?"height":"width",l=e.vertical?"width":"height";t[a]=`${I.value}px`,t[l]=e[l]?`${e[l]}px`:""}return t})),T=(t,a=0)=>{let l=t*g.value;e.loop||(l=Math.min(l,-x.value));let i=a-l;return e.loop||(i=E(i,x.value,0)),i},z=({pace:a=0,offset:l=0,emitChange:i})=>{if(h.value<=1)return;const{active:n}=o,r=(t=>{const{active:a}=o;return t?e.loop?E(a+t,-1,h.value):E(a+t,0,C.value):a})(a),s=T(r,l);if(e.loop){if(d[0]&&s!==x.value){const e=s<x.value;d[0].setOffset(e?I.value:0)}if(d[h.value-1]&&0!==s){const e=s>0;d[h.value-1].setOffset(e?-I.value:0)}}o.active=r,o.offset=s,i&&r!==n&&t("change",S.value)},H=()=>{o.swiping=!0,o.active<=-1?z({pace:h.value}):o.active>=h.value&&z({pace:-h.value})},P=()=>{H(),u.reset(),D((()=>{o.swiping=!1,z({pace:1,emitChange:!0})}))};let V;const F=()=>clearTimeout(V),U=()=>{F(),+e.autoplay>0&&h.value>1&&(V=setTimeout((()=>{P(),U()}),+e.autoplay))},_=(t=+e.initialSwipe)=>{if(!l.value)return;const a=()=>{var a,i;if(!k(l)){const t={width:l.value.offsetWidth,height:l.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(i=e.height)?i:t.height)}h.value&&-1===(t=Math.min(h.value-1,t))&&(t=h.value-1),o.active=t,o.swiping=!0,o.offset=T(t),d.forEach((e=>{e.setOffset(0)})),U()};k(l)?N().then(a):a()},q=()=>_(o.active);let J;const K=t=>{!e.touchable||t.touches.length>1||(u.start(t),c=!1,J=Date.now(),F(),H())},Q=()=>{if(!e.touchable||!o.swiping)return;const a=Date.now()-J,l=b.value/a;if((Math.abs(l)>.25||Math.abs(b.value)>g.value/2)&&$.value){const t=e.vertical?u.offsetY.value:u.offsetX.value;let a=0;a=e.loop?t>0?b.value>0?-1:1:0:-Math[b.value>0?"ceil":"floor"](b.value/g.value),z({pace:a,emitChange:!0})}else b.value&&z({pace:0});c=!1,o.swiping=!1,t("dragEnd",{index:S.value}),U()},G=(t,a)=>{const l=a===S.value,i=l?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:i,class:pe("indicator",{active:l})},null)};return O({prev:()=>{H(),u.reset(),D((()=>{o.swiping=!1,z({pace:-1,emitChange:!0})}))},next:P,state:o,resize:q,swipeTo:(t,a={})=>{H(),u.reset(),D((()=>{let l;l=e.loop&&t===h.value?0===o.active?0:t:t%h.value,a.immediate?D((()=>{o.swiping=!1})):o.swiping=!1,z({pace:l-o.active,emitChange:!0})}))}}),v({size:g,props:e,count:h,activeIndicator:S}),m((()=>e.initialSwipe),(e=>_(+e))),m(h,(()=>_(o.active))),m((()=>e.autoplay),U),m([A,X],q),m(W(),(e=>{"visible"===e?U():F()})),Z(_),L((()=>_(o.active))),Y((()=>_(o.active))),r(F),s(F),w("touchmove",(a=>{if(e.touchable&&o.swiping&&(u.move(a),$.value)){!e.loop&&(0===o.active&&b.value>0||o.active===h.value-1&&b.value<0)||(j(a,e.stopPropagation),z({offset:b.value}),c||(t("dragStart",{index:S.value}),c=!0))}}),{target:n}),()=>{var t;return y("div",{ref:l,class:pe()},[y("div",{ref:n,style:B.value,class:pe("track",{vertical:e.vertical}),onTouchstartPassive:K,onTouchend:Q,onTouchcancel:Q},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:S.value,total:h.value}):e.showIndicators&&h.value>1?y("div",{class:pe("indicators",{vertical:e.vertical})},[Array(h.value).fill("").map(G)]):void 0])}}})),[me,we]=u("tabs");var ye=d({name:me,props:{count:H(Number),inited:Boolean,animated:Boolean,duration:H(x),swipeable:Boolean,lazyRender:Boolean,currentIndex:H(Number)},emits:["change"],setup(e,{emit:t,slots:a}){const l=i(),n=e=>t("change",e),o=()=>{var t;const i=null==(t=a.default)?void 0:t.call(a);return e.animated||e.swipeable?y(be,{ref:l,loop:!1,class:we("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:n},{default:()=>[i]}):i},r=t=>{const a=l.value;a&&a.state.active!==t&&a.swipeTo(t,{immediate:!e.inited})};return m((()=>e.currentIndex),r),Z((()=>{r(e.currentIndex)})),O({swipeRef:l}),()=>y("div",{class:we("content",{animated:e.animated||e.swipeable})},[o()])}});const[xe,Ce]=u("tabs"),Ie={type:C("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:I(0),duration:I(.3),animated:Boolean,ellipsis:B,swipeable:Boolean,scrollspy:Boolean,offsetTop:I(0),background:String,lazyRender:B,lineWidth:x,lineHeight:x,beforeChange:Function,swipeThreshold:I(5),titleActiveColor:String,titleInactiveColor:String},ke=Symbol(xe);var Se=d({name:xe,props:Ie,emits:["change","scroll","rendered","clickTab","update:active"],setup(l,{emit:o,slots:r}){let s,u,d;const g=i(),b=i(),x=i(),C=i(),I=ne(),$=v(g),[B,z]=function(){const e=i([]),t=[];return n((()=>{e.value=[]})),[e,a=>(t[a]||(t[a]=t=>{e.value[a]=t}),t[a])]}(),{children:R,linkChildren:X}=M(ke),W=f({inited:!1,position:"",lineStyle:{},currentIndex:-1}),Z=p((()=>R.length>+l.swipeThreshold||!l.ellipsis||l.shrink)),D=p((()=>({borderColor:l.color,background:l.background}))),j=(e,t)=>{var a;return null!=(a=e.name)?a:t},E=p((()=>{const e=R[W.currentIndex];if(e)return j(e,W.currentIndex)})),H=p((()=>h(l.offsetTop))),Q=p((()=>l.sticky?H.value+s:0)),G=t=>{const a=b.value,i=B.value;if(!(Z.value&&a&&i&&i[W.currentIndex]))return;const n=i[W.currentIndex].$el;!function(t,a,l){let i=0;const n=t.scrollLeft,o=0===l?1:Math.round(1e3*l/16);!function l(){t.scrollLeft+=(a-n)/o,++i<o&&e(l)}()}(a,n.offsetLeft-(a.offsetWidth-n.offsetWidth)/2,t?0:+l.duration)},ee=()=>{const e=W.inited;N((()=>{const t=B.value;if(!t||!t[W.currentIndex]||"line"!==l.type||k(g.value))return;const a=t[W.currentIndex].$el,{lineWidth:i,lineHeight:n}=l,o=a.offsetLeft+a.offsetWidth/2,r={width:P(i),backgroundColor:l.color,transform:`translateX(${o}px) translateX(-50%)`};if(e&&(r.transitionDuration=`${l.duration}s`),T(n)){const e=P(n);r.height=e,r.borderRadius=e}W.lineStyle=r}))},te=(e,t)=>{const a=(e=>{const t=e<W.currentIndex?-1:1;for(;e>=0&&e<R.length;){if(!R[e].disabled)return e;e+=t}})(e);if(!T(a))return;const i=R[a],n=j(i,a),r=null!==W.currentIndex;W.currentIndex!==a&&(W.currentIndex=a,t||G(),ee()),n!==l.active&&(o("update:active",n),r&&o("change",n,i.title)),d&&!l.scrollspy&&F(Math.ceil(U(g.value)-H.value))},ae=(e,t)=>{const a=R.find(((t,a)=>j(t,a)===e)),l=a?R.indexOf(a):0;te(l,t)},le=(i=!1)=>{if(l.scrollspy){const n=R[W.currentIndex].$el;if(n&&$.value){const o=U(n,$.value)-Q.value;u=!0,function(l,i,n,o){let r=t(l);const s=r<i,c=0===n?1:Math.round(1e3*n/16),u=(i-r)/c;!function t(){r+=u,(s&&r>i||!s&&r<i)&&(r=i),a(l,r),s&&r<i||!s&&r>i?e(t):o&&e(o)}()}($.value,o,i?0:+l.duration,(()=>{u=!1}))}}},ie=e=>{d=e.isFixed,o("scroll",e)},re=()=>R.map(((e,t)=>y(ve,_({key:e.id,id:`${I}-${t}`,ref:z(t),type:l.type,color:l.color,style:e.titleStyle,class:e.titleClass,shrink:l.shrink,isActive:t===W.currentIndex,controls:e.id,scrollable:Z.value,activeColor:l.titleActiveColor,inactiveColor:l.titleInactiveColor,onClick:a=>((e,t,a)=>{const{title:i,disabled:n}=R[t],r=j(R[t],t);n||(J(l.beforeChange,{args:[r],done:()=>{te(t),le()}}),K(e)),o("clickTab",{name:r,title:i,event:a,disabled:n})})(e,t,a)},q(e,["dot","badge","title","disabled","showZeroBadge"])),{title:e.$slots.title}))),se=()=>{if("line"===l.type&&R.length)return y("div",{class:Ce("line"),style:W.lineStyle},null)},ue=()=>{var e,t,a;const{type:i,border:n,sticky:o}=l,s=[y("div",{ref:o?void 0:x,class:[Ce("wrap"),{[V]:"line"===i&&n}]},[y("div",{ref:b,role:"tablist",class:Ce("nav",[i,{shrink:l.shrink,complete:Z.value}]),style:D.value,"aria-orientation":"horizontal"},[null==(e=r["nav-left"])?void 0:e.call(r),re(),se(),null==(t=r["nav-right"])?void 0:t.call(r)])]),null==(a=r["nav-bottom"])?void 0:a.call(r)];return o?y("div",{ref:x},[s]):s};m([()=>l.color,A],ee),m((()=>l.active),(e=>{e!==E.value&&ae(e)})),m((()=>R.length),(()=>{W.inited&&(ae(l.active),ee(),N((()=>{G(!0)})))}));return O({resize:()=>{ee(),N((()=>{var e,t;return null==(t=null==(e=C.value)?void 0:e.swipeRef.value)?void 0:t.resize()}))},scrollTo:e=>{N((()=>{ae(e),le(!0)}))}}),L(ee),Y(ee),c((()=>{ae(l.active,!0),N((()=>{W.inited=!0,x.value&&(s=S(x.value).height),G(!0)}))})),oe(g,ee),w("scroll",(()=>{if(l.scrollspy&&!u){const e=(()=>{for(let e=0;e<R.length;e++){const{top:t}=S(R[e].$el);if(t>Q.value)return 0===e?0:e-1}return R.length-1})();te(e)}}),{target:$,passive:!0}),X({id:I,props:l,setLine:ee,onRendered:(e,t)=>o("rendered",e,t),currentName:E,scrollIntoView:G}),()=>y("div",{ref:g,class:Ce([l.type])},[l.sticky?y(ce,{container:g.value,offsetTop:H.value,onScroll:ie},{default:()=>[ue()]}):ue(),y(ye,{ref:C,count:R.length,inited:W.inited,animated:l.animated,duration:l.duration,swipeable:l.swipeable,lazyRender:l.lazyRender,currentIndex:W.currentIndex,onChange:te},{default:()=>{var e;return[null==(e=r.default)?void 0:e.call(r)]}})])}});const $e=Symbol(),[Be,Te]=u("swipe-item");const ze=$(d({name:Be,setup(e,{slots:t}){let a;const l=f({offset:0,inited:!1,mounted:!1}),{parent:i,index:n}=Q(ge);if(!i)return;const o=p((()=>{const e={},{vertical:t}=i.props;return i.size.value&&(e[t?"height":"width"]=`${i.size.value}px`),l.offset&&(e.transform=`translate${t?"Y":"X"}(${l.offset}px)`),e})),r=p((()=>{const{loop:e,lazyRender:t}=i.props;if(!t||a)return!0;if(!l.mounted)return!1;const o=i.activeIndicator.value,r=i.count.value-1,s=0===o&&e?r:o-1,c=o===r&&e?0:o+1;return a=n.value===o||n.value===s||n.value===c,a}));return Z((()=>{N((()=>{l.mounted=!0}))})),O({setOffset:e=>{l.offset=e}}),()=>{var e;return y("div",{class:Te(),style:o.value},[r.value?null==(e=t.default)?void 0:e.call(t):null])}}})),[Re,Me]=u("tab");const Oe=$(d({name:Re,props:g({},G,{dot:Boolean,name:x,badge:x,title:String,disabled:Boolean,titleClass:ee,titleStyle:[String,Object],showZeroBadge:B}),setup(e,{slots:t}){const a=ne(),l=i(!1),{parent:n,index:o}=Q(ke);if(!n)return;const r=()=>{var t;return null!=(t=e.name)?t:o.value},s=p((()=>{const t=r()===n.currentName.value;return t&&!l.value&&(l.value=!0,n.props.lazyRender&&N((()=>{n.onRendered(r(),e.title)}))),t})),c=i(!s.value);return m(s,(e=>{e?c.value=!1:D((()=>{c.value=!0}))})),m((()=>e.title),(()=>{n.setLine(),n.scrollIntoView()})),te($e,s),()=>{var e;const i=`${n.id}-${o.value}`,{animated:r,swipeable:u,scrollspy:d,lazyRender:v}=n.props;if(!t.default&&!r)return;const f=d||s.value;if(r||u)return y(ze,{id:a,role:"tabpanel",class:Me("panel-wrapper",{inactive:c.value}),tabindex:s.value?0:-1,"aria-hidden":!s.value,"aria-labelledby":i},{default:()=>{var e;return[y("div",{class:Me("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const p=l.value||d||!v?null==(e=t.default)?void 0:e.call(t):null;return O({id:a}),ae(y("div",{id:a,role:"tabpanel",class:Me("panel"),tabindex:f?0:-1,"aria-labelledby":i},[p]),[[le,f]])}}})),Ae=$(Se);export{ce as S,Oe as T,Ae as a,ne as u};
