var w=(c,n,d)=>new Promise((_,o)=>{var u=e=>{try{a(d.next(e))}catch(t){o(t)}},l=e=>{try{a(d.throw(e))}catch(t){o(t)}},a=e=>e.done?_(e.value):Promise.resolve(e.value).then(u,l);a((d=d.apply(c,n)).next())});import{d as V,I as v,r as y,K as p,o as k,l as f,b as C,e as E,w as m,j as U,t as P,q as r,h as s,k as $,N as q,O as B,S as I,T as N,U as F}from"./index-BwBuRoYu.js";/* empty css                *//* empty css                     *//* empty css                 */import{c as S}from"./user-C3HIdGHH.js";const M=V({__name:"password",setup(c){const{t:n}=v(),d=y(),_=p({originalPassword:[{required:!0,message:n("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:n("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:n("common.user_field_confirm_password_validation")}]}),o=p({originalPassword:"",newPassword:"",confirmPassword:""}),u=()=>w(this,null,function*(){yield d.value.validate(l=>{if(l){const a={originalPassword:o.originalPassword,newPassword:o.newPassword};S(a).then(e=>{e.code==200&&d.value.resetFields()}).catch(e=>{f(e)})}})});return k(()=>w(this,null,function*(){f("Page <<UserCenterPasswordPage>> mounted.")})),(l,a)=>{const e=q,t=B,g=I,b=N,h=F;return C(),E(h,{shadow:"never"},{title:m(()=>[U("div",null,P(l.$t("common.user_pages_change_password_title")),1)]),default:m(()=>[r(b,{ref_key:"form",ref:d,model:s(o),rules:s(_),"label-width":"200px",style:{"max-width":"500px"}},{default:m(()=>[r(t,{name:"originalPassword",label:l.$t("common.user_field_original_password")},{default:m(()=>[r(e,{modelValue:s(o).originalPassword,"onUpdate:modelValue":a[0]||(a[0]=i=>s(o).originalPassword=i),placeholder:s(n)("common.user_field_original_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{name:"newPassword",label:l.$t("common.user_field_new_password")},{default:m(()=>[r(e,{modelValue:s(o).newPassword,"onUpdate:modelValue":a[1]||(a[1]=i=>s(o).newPassword=i),placeholder:s(n)("common.user_field_new_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,{name:"confirmPassword",label:l.$t("common.user_field_confirm_password")},{default:m(()=>[r(e,{modelValue:s(o).confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=i=>s(o).confirmPassword=i),placeholder:s(n)("common.user_field_new_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(t,null,{default:m(()=>[r(g,{type:"primary",onClick:u},{default:m(()=>[$(P(l.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});export{M as default};
