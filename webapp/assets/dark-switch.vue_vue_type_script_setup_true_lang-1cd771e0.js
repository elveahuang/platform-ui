import{G as e,ai as a,J as t,M as i,L as l,aL as n,d as o,O as c,N as s,r,a3 as u,P as v,o as d,e as p,T as f,g as m,i as b,V as y,b3 as h,f as g,w as k,a5 as x,E as V,a7 as _,t as C,h as I,bk as S,a6 as w,ao as T,_ as B,al as N,a0 as P,bl as E,a9 as j,bm as U,ap as q,bn as K,bo as L,bp as z,bq as A}from"./index-b38b8fed.js";import{b as D,U as F,C as G,I as J,d as M,t as O}from"./theme-color-select.vue_vue_type_style_index_0_scoped_c40b9f5e_lang-ed452203.js";import{c as H,u as Q,g as R,d as W,e as X}from"./button-544101d6.js";const Y=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a},inactiveIcon:{type:a},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:t(Function)},size:{type:String,validator:D},tabindex:{type:[String,Number]}}),Z={[F]:e=>i(e)||l(e)||n(e),[G]:e=>i(e)||l(e)||n(e),[J]:e=>i(e)||l(e)||n(e)},$=["onClick"],ee=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],ae=["aria-hidden"],te=["aria-hidden"],ie=["aria-hidden"],le="ElSwitch",ne=o({name:le});const oe=j(B(o({...ne,props:Y,emits:Z,setup(e,{expose:a,emit:t}){const l=e,n=N(),{formItem:o}=H(),B=Q(),j=c("switch");R({from:'"value"',replacement:'"model-value" or "v-model"',scope:le,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},s((()=>{var e;return!!(null==(e=n.vnode.props)?void 0:e.value)})));const{inputId:U}=W(l,{formItemContext:o}),q=X(s((()=>l.loading))),K=r(!1!==l.modelValue),L=r(),z=r(),A=s((()=>[j.b(),j.m(B.value),j.is("disabled",q.value),j.is("checked",Z.value)])),D=s((()=>({width:u(l.width)})));v((()=>l.modelValue),(()=>{K.value=!0})),v((()=>l.value),(()=>{K.value=!1}));const Y=s((()=>K.value?l.modelValue:l.value)),Z=s((()=>Y.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(Y.value)||(t(F,l.inactiveValue),t(G,l.inactiveValue),t(J,l.inactiveValue)),v(Z,(e=>{var a;L.value.checked=e,l.validateEvent&&(null==(a=null==o?void 0:o.validate)||a.call(o,"change").catch((e=>M())))}));const ne=()=>{const e=Z.value?l.inactiveValue:l.activeValue;t(F,e),t(G,e),t(J,e),P((()=>{L.value.checked=Z.value}))},oe=()=>{if(q.value)return;const{beforeChange:e}=l;if(!e)return void ne();const a=e();[E(a),i(a)].includes(!0)||O(le,"beforeChange must return type `Promise<boolean>` or `boolean`"),E(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},ce=s((()=>j.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return d((()=>{L.value.checked=Z.value})),a({focus:()=>{var e,a;null==(a=null==(e=L.value)?void 0:e.focus)||a.call(e)},checked:Z}),(e,a)=>(p(),f("div",{class:y(b(A)),style:w(b(ce)),onClick:T(oe,["prevent"])},[m("input",{id:b(U),ref_key:"input",ref:L,class:y(b(j).e("input")),type:"checkbox",role:"switch","aria-checked":b(Z),"aria-disabled":b(q),name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:b(q),tabindex:e.tabindex,onChange:ne,onKeydown:h(oe,["enter"])},null,42,ee),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?_("v-if",!0):(p(),f("span",{key:0,class:y([b(j).e("label"),b(j).em("label","left"),b(j).is("active",!b(Z))])},[e.inactiveIcon?(p(),g(b(V),{key:0},{default:k((()=>[(p(),g(x(e.inactiveIcon)))])),_:1})):_("v-if",!0),!e.inactiveIcon&&e.inactiveText?(p(),f("span",{key:1,"aria-hidden":b(Z)},C(e.inactiveText),9,ae)):_("v-if",!0)],2)),m("span",{ref_key:"core",ref:z,class:y(b(j).e("core")),style:w(b(D))},[e.inlinePrompt?(p(),f("div",{key:0,class:y(b(j).e("inner"))},[e.activeIcon||e.inactiveIcon?(p(),g(b(V),{key:0,class:y(b(j).is("icon"))},{default:k((()=>[(p(),g(x(b(Z)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(p(),f("span",{key:1,class:y(b(j).is("text")),"aria-hidden":!b(Z)},C(b(Z)?e.activeText:e.inactiveText),11,te)):_("v-if",!0)],2)):_("v-if",!0),m("div",{class:y(b(j).e("action"))},[e.loading?(p(),g(b(V),{key:0,class:y(b(j).is("loading"))},{default:k((()=>[I(b(S))])),_:1},8,["class"])):_("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?_("v-if",!0):(p(),f("span",{key:1,class:y([b(j).e("label"),b(j).em("label","right"),b(j).is("active",b(Z))])},[e.activeIcon?(p(),g(b(V),{key:0},{default:k((()=>[(p(),g(x(e.activeIcon)))])),_:1})):_("v-if",!0),!e.activeIcon&&e.activeText?(p(),f("span",{key:1,"aria-hidden":!b(Z)},C(e.activeText),9,ie)):_("v-if",!0)],2))],14,$))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]])),ce=o({__name:"dark-switch",setup(e){const a=U(),t=q(),i=e=>{A(t.dark),t.setDark(e)};return(e,t)=>{const l=oe;return p(),g(l,{modelValue:b(a),"onUpdate:modelValue":t[0]||(t[0]=e=>K(a)?a.value=e:null),"inline-prompt":"",onChange:i,"active-icon":b(L),"inactive-icon":b(z)},null,8,["modelValue","active-icon","inactive-icon"])}}});export{ce as _};
