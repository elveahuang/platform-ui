var p=(w,l,n)=>new Promise((i,o)=>{var _=e=>{try{a(n.next(e))}catch(d){o(d)}},s=e=>{try{a(n.throw(e))}catch(d){o(d)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(_,s);a((n=n.apply(w,l)).next())});/* empty css             */import{E as V}from"./card-GjuymgLH.js";import{c as v}from"./user-ojzmHk2S.js";import{E}from"./button-Wm2PI_37.js";import{d as y,ac as k,r as C,af as c,o as $,l as f,b as B,e as U,w as t,i as q,t as P,k as r,h as u,m as F}from"./index-2DMKHwIP.js";import{E as I}from"./index-Um_ZeoPQ.js";import{a as N,E as x}from"./index-1UjVbuY8.js";import"./castArray-Qv4G3ZU5.js";const J=y({__name:"password",setup(w){const{t:l}=k(),n=C(),i=c({originalPassword:[{required:!0,message:l("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:l("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:l("common.user_field_confirm_password_validation")}]}),o=c({originalPassword:"",newPassword:"",confirmPassword:""}),_=()=>p(this,null,function*(){yield n.value.validate(s=>{if(s){const a={originalPassword:o.originalPassword,newPassword:o.newPassword};v(a).then(e=>{e.code==200&&n.value.resetFields()}).catch(e=>{f(e)})}})});return $(()=>p(this,null,function*(){f("Page <<UserCenterPasswordPage>> mounted.")})),(s,a)=>{const e=I,d=N,g=E,h=x,b=V;return B(),U(b,{shadow:"never"},{header:t(()=>[q("div",null,P(s.$t("common.user_pages_change_password_title")),1)]),default:t(()=>[r(h,{ref_key:"form",ref:n,model:o,rules:i,"label-width":"200px",style:{"max-width":"500px"}},{default:t(()=>[r(d,{prop:"originalPassword",label:s.$t("common.user_field_original_password")},{default:t(()=>[r(e,{modelValue:o.originalPassword,"onUpdate:modelValue":a[0]||(a[0]=m=>o.originalPassword=m),placeholder:u(l)("common.user_field_original_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{prop:"newPassword",label:s.$t("common.user_field_new_password")},{default:t(()=>[r(e,{modelValue:o.newPassword,"onUpdate:modelValue":a[1]||(a[1]=m=>o.newPassword=m),placeholder:u(l)("common.user_field_new_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{prop:"confirmPassword",label:s.$t("common.user_field_confirm_password")},{default:t(()=>[r(e,{modelValue:o.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=m=>o.confirmPassword=m),placeholder:u(l)("common.user_field_new_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,null,{default:t(()=>[r(g,{onClick:_,type:"primary"},{default:t(()=>[F(P(s.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});export{J as default};
