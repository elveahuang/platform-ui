var u=(w,n,l)=>new Promise((i,o)=>{var _=e=>{try{a(l.next(e))}catch(d){o(d)}},s=e=>{try{a(l.throw(e))}catch(d){o(d)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(_,s);a((l=l.apply(w,n)).next())});import{d as h,a5 as V,r as v,v as y,o as C,l as c,b as $,e as k,w as t,h as B,t as f,n as r,j as p,i as U,a8 as q}from"./index-CVi2DmlI.js";import{c as F}from"./user-DOGNgoJH.js";import{I}from"./index-Dm85ZrDL.js";import{_ as N,F as x}from"./index-AjP2d11E.js";import{C as S}from"./index-CO5_UVqm.js";import"./index-CjHKm9-_.js";import"./useFlexGapSupport-CP-ayoj8.js";const H=h({__name:"password",setup(w){const{t:n}=V(),l=v(),i={originalPassword:[{required:!0,message:n("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:n("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:n("common.user_field_confirm_password_validation")}]},o=y({originalPassword:"",newPassword:"",confirmPassword:""}),_=()=>u(this,null,function*(){yield l.value.validate(s=>{if(s){const a={originalPassword:o.originalPassword,newPassword:o.newPassword};F(a).then(e=>{e.code==200&&l.value.resetFields()}).catch(e=>{c(e)})}})});return C(()=>u(this,null,function*(){c("Page <<UserCenterPasswordPage>> mounted.")})),(s,a)=>{const e=I,d=N,P=q,g=x,b=S;return $(),k(b,{shadow:"never"},{title:t(()=>[B("div",null,f(s.$t("common.user_pages_change_password_title")),1)]),default:t(()=>[r(g,{ref_key:"form",ref:l,model:o,rules:i,"label-width":"200px",style:{"max-width":"500px"}},{default:t(()=>[r(d,{name:"originalPassword",label:s.$t("common.user_field_original_password")},{default:t(()=>[r(e,{modelValue:o.originalPassword,"onUpdate:modelValue":a[0]||(a[0]=m=>o.originalPassword=m),placeholder:p(n)("common.user_field_original_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{name:"newPassword",label:s.$t("common.user_field_new_password")},{default:t(()=>[r(e,{modelValue:o.newPassword,"onUpdate:modelValue":a[1]||(a[1]=m=>o.newPassword=m),placeholder:p(n)("common.user_field_new_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{name:"confirmPassword",label:s.$t("common.user_field_confirm_password")},{default:t(()=>[r(e,{modelValue:o.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=m=>o.confirmPassword=m),placeholder:p(n)("common.user_field_new_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,null,{default:t(()=>[r(P,{onClick:_,type:"primary"},{default:t(()=>[U(f(s.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{H as default};
