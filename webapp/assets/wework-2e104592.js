var s=(i,e,r)=>new Promise((a,o)=>{var n=u=>{try{c(r.next(u))}catch(d){o(d)}},l=u=>{try{c(r.throw(u))}catch(d){o(d)}},c=u=>u.done?a(u.value):Promise.resolve(u.value).then(n,l);c((r=r.apply(i,e)).next())});import{bN as q,l as t,bO as re,bP as R,e as h,bQ as y,bR as z,d as pe,o as Pe,f as Se,g as be,w as ke,i as ye,j as Ce,I as We,bS as Le,E as xe}from"./index-e88a79d7.js";/* empty css             *//*! Capacitor: https://capacitorjs.com/ - MIT License */const Te=i=>{const e=new Map;e.set("web",{name:"web"});const r=i.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},a=(n,l)=>{r.platforms.set(n,l)},o=n=>{r.platforms.has(n)&&(r.currentPlatform=r.platforms.get(n))};return r.addPlatform=a,r.setPlatform=o,r},Re=i=>i.CapacitorPlatforms=Te(i),oe=Re(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});oe.addPlatform;oe.setPlatform;var T;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(T||(T={}));class F extends Error{constructor(e,r,a){super(e),this.message=e,this.code=r,this.data=a}}const _e=i=>{var e,r;return i!=null&&i.androidBridge?"android":!((r=(e=i==null?void 0:i.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Ie=i=>{var e,r,a,o,n;const l=i.CapacitorCustomPlatform||null,c=i.Capacitor||{},u=c.Plugins=c.Plugins||{},d=i.CapacitorPlatforms,I=()=>l!==null?l.name:_e(i),W=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||I,D=()=>W()!=="web",se=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||D,ce=g=>{const f=Q.get(g);return!!(f!=null&&f.platforms.has(W())||N(g))},le=((a=d==null?void 0:d.currentPlatform)===null||a===void 0?void 0:a.isPluginAvailable)||ce,de=g=>{var f;return(f=c.PluginHeaders)===null||f===void 0?void 0:f.find(L=>L.name===g)},N=((o=d==null?void 0:d.currentPlatform)===null||o===void 0?void 0:o.getPluginHeader)||de,ue=g=>i.console.error(g),ge=(g,f,L)=>Promise.reject(`${L} does not have an implementation of "${f}".`),Q=new Map,fe=(g,f={})=>{const L=Q.get(g);if(L)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),L.proxy;const C=W(),x=N(g);let S;const ve=()=>s(void 0,null,function*(){return!S&&C in f?S=typeof f[C]=="function"?S=yield f[C]():S=f[C]:l!==null&&!S&&"web"in f&&(S=typeof f.web=="function"?S=yield f.web():S=f.web),S}),me=(v,m)=>{var P,b;if(x){const k=x==null?void 0:x.methods.find(p=>m===p.name);if(k)return k.rtype==="promise"?p=>c.nativePromise(g,m.toString(),p):(p,O)=>c.nativeCallback(g,m.toString(),p,O);if(v)return(P=v[m])===null||P===void 0?void 0:P.bind(v)}else{if(v)return(b=v[m])===null||b===void 0?void 0:b.bind(v);throw new F(`"${g}" plugin is not implemented on ${C}`,T.Unimplemented)}},M=v=>{let m;const P=(...b)=>{const k=ve().then(p=>{const O=me(p,v);if(O){const A=O(...b);return m=A==null?void 0:A.remove,A}else throw new F(`"${g}.${v}()" is not implemented on ${C}`,T.Unimplemented)});return v==="addListener"&&(k.remove=()=>s(void 0,null,function*(){return m()})),k};return P.toString=()=>`${v.toString()}() { [capacitor code] }`,Object.defineProperty(P,"name",{value:v,writable:!1,configurable:!1}),P},G=M("addListener"),V=M("removeListener"),we=(v,m)=>{const P=G({eventName:v},m),b=()=>s(void 0,null,function*(){const p=yield P;V({eventName:v,callbackId:p},m)}),k=new Promise(p=>P.then(()=>p({remove:b})));return k.remove=()=>s(void 0,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield b()}),k},B=new Proxy({},{get(v,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?we:G;case"removeListener":return V;default:return M(m)}}});return u[g]=B,Q.set(g,{name:g,proxy:B,platforms:new Set([...Object.keys(f),...x?[C]:[]])}),B},he=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.registerPlugin)||fe;return c.convertFileSrc||(c.convertFileSrc=g=>g),c.getPlatform=W,c.handleError=ue,c.isNativePlatform=se,c.isPluginAvailable=le,c.pluginMethodNoop=ge,c.registerPlugin=he,c.Exception=F,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},Oe=i=>i.Capacitor=Ie(i),w=Oe(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),_=w.registerPlugin;w.Plugins;class ie{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const n=()=>s(this,null,function*(){return this.removeListener(e,r)}),l=Promise.resolve({remove:n});return Object.defineProperty(l,"remove",{value:()=>s(this,null,function*(){console.warn("Using addListener() without 'await' is deprecated."),yield n()})}),l}removeAllListeners(){return s(this,null,function*(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}})}notifyListeners(e,r){const a=this.listeners[e];a&&a.forEach(o=>o(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:a=>{this.notifyListeners(r,a)}}}unimplemented(e="not implemented"){return new w.Exception(e,T.Unimplemented)}unavailable(e="not available"){return new w.Exception(e,T.Unavailable)}removeListener(e,r){return s(this,null,function*(){const a=this.listeners[e];if(!a)return;const o=a.indexOf(r);this.listeners[e].splice(o,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])})}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const K=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),J=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ae extends ie{getCookies(){return s(this,null,function*(){const e=document.cookie,r={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[o,n]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=J(o).trim(),n=J(n).trim(),r[o]=n}),r})}setCookie(e){return s(this,null,function*(){try{const r=K(e.key),a=K(e.value),o=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${a||""}${o}; path=${n}; ${l};`}catch(r){return Promise.reject(r)}})}deleteCookie(e){return s(this,null,function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}})}clearCookies(){return s(this,null,function*(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})}clearAllCookies(){return s(this,null,function*(){try{yield this.clearCookies()}catch(e){return Promise.reject(e)}})}}_("CapacitorCookies",{web:()=>new Ae});const Ee=i=>s(void 0,null,function*(){return new Promise((e,r)=>{const a=new FileReader;a.onload=()=>{const o=a.result;e(o.indexOf(",")>=0?o.split(",")[1]:o)},a.onerror=o=>r(o),a.readAsDataURL(i)})}),Ue=(i={})=>{const e=Object.keys(i);return Object.keys(i).map(o=>o.toLocaleLowerCase()).reduce((o,n,l)=>(o[n]=i[e[l]],o),{})},$e=(i,e=!0)=>i?Object.entries(i).reduce((a,o)=>{const[n,l]=o;let c,u;return Array.isArray(l)?(u="",l.forEach(d=>{c=e?encodeURIComponent(d):d,u+=`${n}=${c}&`}),u.slice(0,-1)):(c=e?encodeURIComponent(l):l,u=`${n}=${c}`),`${a}&${u}`},"").substr(1):null,De=(i,e={})=>{const r=Object.assign({method:i.method||"GET",headers:i.headers},e),o=Ue(i.headers)["content-type"]||"";if(typeof i.data=="string")r.body=i.data;else if(o.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[l,c]of Object.entries(i.data||{}))n.set(l,c);r.body=n.toString()}else if(o.includes("multipart/form-data")){const n=new FormData;if(i.data instanceof FormData)i.data.forEach((c,u)=>{n.append(u,c)});else for(const c of Object.keys(i.data))n.append(c,i.data[c]);r.body=n;const l=new Headers(r.headers);l.delete("content-type"),r.headers=l}else(o.includes("application/json")||typeof i.data=="object")&&(r.body=JSON.stringify(i.data));return r};class Qe extends ie{request(e){return s(this,null,function*(){const r=De(e,e.webFetchExtra),a=$e(e.params,e.shouldEncodeUrlParams),o=a?`${e.url}?${a}`:e.url,n=yield fetch(o,r),l=n.headers.get("content-type")||"";let{responseType:c="text"}=n.ok?e:{};l.includes("application/json")&&(c="json");let u,d;switch(c){case"arraybuffer":case"blob":d=yield n.blob(),u=yield Ee(d);break;case"json":u=yield n.json();break;case"document":case"text":default:u=yield n.text()}const I={};return n.headers.forEach((W,D)=>{I[D]=W}),{data:u,headers:I,status:n.status,url:n.url}})}get(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))})}post(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))})}put(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))})}patch(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})}delete(e){return s(this,null,function*(){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})}}_("CapacitorHttp",{web:()=>new Qe});const E=_("Browser",{web:()=>q(()=>import("./web-6535dc1c.js"),["assets/web-6535dc1c.js","assets/index-e88a79d7.js","assets/index-ef54da06.css","assets/icon-c883f2bf.css"]).then(i=>new i.BrowserWeb)});class Me{available(){return s(this,null,function*(){return!0})}open(e,r,a){return s(this,null,function*(){if(w.isNativePlatform())yield E.open({url:e}),yield E.addListener("browserFinished",r),yield E.addListener("browserPageLoaded",a);else return new Promise(o=>{window.open(e,"_self"),o()})})}close(){return s(this,null,function*(){yield E.removeAllListeners()})}}const ne=new Me;var X;(function(i){i.Prompt="PROMPT",i.Camera="CAMERA",i.Photos="PHOTOS"})(X||(X={}));var Y;(function(i){i.Rear="REAR",i.Front="FRONT"})(Y||(Y={}));var H;(function(i){i.Uri="uri",i.Base64="base64",i.DataUrl="dataUrl"})(H||(H={}));const Be=_("Camera",{web:()=>q(()=>import("./web-80970625.js"),["assets/web-80970625.js","assets/index-e88a79d7.js","assets/index-ef54da06.css","assets/icon-c883f2bf.css"]).then(i=>new i.CameraWeb)}),j=_("BarcodeScanner",{web:()=>q(()=>import("./web-ae8de28e.js"),["assets/web-ae8de28e.js","assets/index-e88a79d7.js","assets/index-ef54da06.css","assets/icon-c883f2bf.css"]).then(i=>new i.BarcodeScannerWeb)});class ze{available(){return s(this,null,function*(){return!0})}isNative(){return w.isNativePlatform()}isIos(){return w.getPlatform()==="ios"}isAndroid(){return w.getPlatform()==="android"}isWeb(){return w.getPlatform()==="web"}config(){return s(this,null,function*(){t("NativeService config...")})}takePhotos(e="",r=1){return s(this,null,function*(){return t("NativeService takePhotos..."),new Promise((a,o)=>s(this,null,function*(){w.isPluginAvailable("Camera")?(t("NativeService Camera available."),yield Be.getPhoto({quality:90,allowEditing:!0,resultType:H.Uri}),a("")):(t("NativeService Camera not available."),o())}))})}scanQRCode(){return t("NativeService scanQRCode..."),new Promise((e,r)=>s(this,null,function*(){if(w.isPluginAvailable("BarcodeScanner")){t("NativeService BarcodeScanner available."),yield j.checkPermission({force:!0}),yield j.hideBackground();const o=yield j.startScan();o.hasContent?(t("LarkService scanQRCode success."),t(o),e(o.content)):(t("LarkService scanQRCode fail."),t(o),r())}else t("NativeService BarcodeScanner not available."),r()}))}}const Z=new ze,Fe=i=>re("/api/oapis/wework/signature",i),je=i=>re("/api/oapis/wechat/signature",i);class He{available(){return s(this,null,function*(){return!0})}isWeChat(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}auth(e,r=!1){return s(this,null,function*(){t("WeChatService auth...");let a;U.isWebPlatform()&&!R(h.wechat.mp.webappRedirectUrl)?a=r?e:y(h.wechat.mp.webappRedirectUrl,z(e,"code")):U.isWapPlatform()&&!R(h.wechat.mp.mobileRedirectUrl)?a=r?e:y(h.wechat.mp.mobileRedirectUrl,z(e,"code")):a=r?e:y(h.wechat.mp.redirectUrl,z(e,"code"));const o=y(h.wechat.mp.appId,encodeURIComponent(a));t(`WeChatService redirect to ${o}.`),yield ne.open(o,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeChatService getSignature..."),yield je({url:e})})}config(){return s(this,null,function*(){t("WeChatService config...");const e=location.href.split("#")[0];return new Promise((r,a)=>{this.getSignature(e).then(o=>{o.data?(t("WeChatService config..."),wx.config({debug:!1,appId:o.data.appId,timestamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeChatService config ready."),r()}),wx.error(n=>{t("WeChatService config error."),console.log(n)})):a()}).catch(o=>{t("WeChatService config ready."),t(o),a()})})})}getPhoto(){return s(this,null,function*(){return t("WeChatService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeChatService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",r=1){return s(this,null,function*(){return t("WeChatService takePhotos..."),new Promise((a,o)=>{wx?(t("WeChatService available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:r,sizeType:["original","compressed"],success:n=>{t("WeChatService takePhotos success."),t(n),a(n.localIds)},fail:()=>{t("WeChatService takePhotos fail."),o()}})})):(t("WeChatService not available."),o())})})}scanQRCode(){return t("WeChatService scanQRCode..."),new Promise((e,r)=>{console.log(wx),wx?(t("WeChatService wx available."),wx.ready(()=>{t("WeChatService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:a=>{t("WeChatService scanQRCode success."),t(a),e(a.resultStr)},cancel:a=>{t("WeChatService scanQRCode cancel."),t(a),r(a)},error:a=>{t("WeChatService scanQRCode error."),t(a),a.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),r(a)}})})):(t("WeChatService wx not available."),r())})}}const ee=new He;class qe{available(){return s(this,null,function*(){return!0})}isLark(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t("LarkService getSignature...")})}config(){return s(this,null,function*(){return this.isLark()?(t("LarkService getSignature..."),new Promise((e,r)=>{this.getSignature("url").then(a=>{a.data?(t("LarkService config..."),h5sdk.config({appId:a.data.appId,timestamp:+a.data.timestamp,nonceStr:a.data.nonceStr,signature:a.data.signature,jsApiList:["biz.navigation.close","biz.util.share"],onSuccess:o=>{t("LarkService config onSuccess."),t(o),e()},onFail:o=>{t("LarkService config onFail."),t(o),r()}}),h5sdk.error(o=>{t("LarkService config error."),t(o)}),h5sdk.ready(()=>{t("LarkService config ready.")})):r()})})):Promise.resolve()})}getPhoto(){return s(this,null,function*(){return t("LarkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("LarkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e,r=1){return s(this,null,function*(){return t("LarkService takePhotos..."),new Promise((a,o)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{tt.chooseImage({sourceType:[e],count:r,sizeType:["original","compressed"],success:n=>{t("LarkService takePhotos success."),t(n),a(n.tempFilePaths)},fail:n=>{t("LarkService takePhotos success."),t(n),o()}})})):(t("LarkService h5sdk not available."),o())})})}scanQRCode(){return t("LarkService scanQRCode..."),new Promise((e,r)=>{h5sdk?(t("LarkService h5sdk available."),h5sdk.ready(()=>{t("LarkService h5sdk ready."),tt.scanCode({scanType:["barCode","qrCode"],barCodeInput:!0,success:a=>{t("LarkService scanQRCode success."),t(a),e(a.result)},fail:a=>{t("LarkService scanQRCode fail."),t(a),r()}})})):(t("LarkService h5sdk not available."),r())})}}const te=new qe;class Ne{available(){return s(this,null,function*(){return!0})}isDingTalk(){return window.navigator.userAgent.toLowerCase().indexOf("lark")!==-1}getSignature(e){return s(this,null,function*(){t("DingTalkService getSignature...")})}config(){return s(this,null,function*(){return t("DingTalkService config..."),new Promise((e,r)=>{this.getSignature("url").then(a=>{a.data?(t("DingTalkService config..."),dd.config({agentId:a.data.agentId,corpId:a.data.corpId,timeStamp:a.data.timestamp,nonceStr:a.data.nonceStr,signature:a.data.signature,jsApiList:["runtime.info","biz.contact.choose","device.notification.confirm","device.notification.alert","device.notification.prompt","biz.ding.post","biz.util.openLink","biz.navigation.close","biz.util.share","biz.util.chooseImage","biz.util.scan"],onSuccess:o=>{t("DingTalkService config onSuccess."),t(o),e()},onFail:o=>{t("DingTalkService config onFail."),t(o),r()}}),dd.error(o=>{t("DingTalkService config error."),t(o)}),dd.ready(()=>{t("DingTalkService config ready.")})):r()})})})}getPhoto(){return s(this,null,function*(){return t("DingTalkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("DingTalkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e,r=1){return s(this,null,function*(){return t("DingTalkService takePhotos..."),new Promise((a,o)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{dd.chooseImage({sourceType:[e],count:r,position:["back"],onSuccess:n=>{t("DingTalkService takePhotos success."),console.log(n.tempFilePaths,n.tempFiles),a()},onFail:n=>{t("DingTalkService takePhotos fail."),o()}})})):(t("DingTalkService dd not available."),o())})})}scanQRCode(){return t("DingTalkService scanQRCode..."),new Promise((e,r)=>{dd?(t("DingTalkService dd available."),dd.ready(()=>{t("DingTalkService dd ready."),dd.biz.util.scan({type:"all",onSuccess:a=>{t("DingTalkService scanQRCode onSuccess."),t(a),e(a.text)},onFail:a=>{t("DingTalkService scanQRCode onFail."),t(a),r()}})})):(t("DingTalkService dd not available."),r())})}}const ae=new Ne;class Ge{getPlatform(){return w.getPlatform()}isWapPlatform(){const e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|phone/i.test(e)}isWebPlatform(){return!this.isWapPlatform()}initialize(){return s(this,null,function*(){t("PlatformService initialize..."),Z.isNative()?yield Z.config():$.isWeWork()?yield $.config():ee.isWeChat()?yield ee.config():te.isLark()?yield te.config():ae.isDingTalk()&&(yield ae.config())})}}const U=new Ge;class Ve{available(){return s(this,null,function*(){return!0})}isWeWork(){const e=window.navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")!=-1&&e.indexOf("wxwork")!=-1}auth(e="",r=!1){return s(this,null,function*(){t("WeWorkService auth...");let a;U.isWebPlatform()&&!R(h.wechat.cp.webappRedirectUrl)?(t(`WeWorkService auth. webapp. ${h.wechat.cp.webappRedirectUrl}`),a=r?e:y(h.wechat.cp.webappRedirectUrl,e)):U.isWapPlatform()&&!R(h.wechat.cp.mobileRedirectUrl)?(t(`WeWorkService auth. mobile. ${h.wechat.cp.mobileRedirectUrl}`),a=r?e:y(h.wechat.cp.mobileRedirectUrl,e)):(t(`WeWorkService auth. ${h.wechat.cp.redirectUrl}`),a=r?e:y(h.wechat.cp.redirectUrl,e));const o=y(h.wechat.cp.oauthUrl,h.wechat.cp.appId,h.wechat.cp.agentId,encodeURIComponent(a));t(`WeWorkService redirect to ${o}.`),yield ne.open(o,()=>{},()=>{})})}getSignature(e){return s(this,null,function*(){return t("WeWorkService getSignature..."),yield Fe({url:e})})}config(){return s(this,null,function*(){t("WeWorkService config...");const e=location.href.split("#")[0];return new Promise((r,a)=>{this.getSignature(e).then(o=>{o.data?(t("WeWorkService config..."),wx.config({debug:!1,appId:o.data.appId,timestamp:o.data.timestamp,nonceStr:o.data.nonceStr,signature:o.data.signature,jsApiList:["chooseImage","getLocalImgData","previewImage","scanQRCode","getLocation","uploadImage","downloadImage","onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","invoke"]}),wx.ready(()=>{t("WeWorkService config ready."),r()}),wx.error(n=>{t("WeWorkService config error."),console.log(n)})):a()}).catch(o=>{t("WeWorkService config ready."),t(o),a()})})})}getPhoto(){return s(this,null,function*(){return t("WeWorkService getPhoto..."),this.takePhotos("camera",1)})}choosePhotos(e=1){return s(this,null,function*(){return t("WeWorkService choosePhotos..."),this.takePhotos("album",e)})}takePhotos(e="",r=1){return s(this,null,function*(){return t("WeWorkService takePhotos..."),new Promise((a,o)=>{wx?(t("WeWorkService wx available."),wx.ready(()=>{wx.chooseImage({sourceType:[e],count:r,sizeType:["original","compressed"],success:n=>{t("WeWorkService takePhotos success."),t(n),a(n.localIds)},fail:()=>{t("WeWorkService takePhotos fail."),o()}})})):(t("WeWorkService not available."),o())})})}scanQRCode(){return t("WeWorkService scanQRCode..."),new Promise((e,r)=>{console.log(wx),wx?(t("WeWorkService wx available."),wx.ready(()=>{t("WeWorkService wx ready."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:a=>{t("WeWorkService scanQRCode success."),t(a),e(a.resultStr)},cancel:a=>{t("WeWorkService scanQRCode cancel."),t(a),r(a)},error:a=>{t("WeWorkService scanQRCode error."),t(a),a.errMsg.indexOf("function_not_exist")>0&&console.log("版本过低请升级"),r(a)}})})):(t("WeWorkService wx not available."),r())})}}const $=new Ve,Ke=pe({__name:"wework",setup(i){const e=()=>s(this,null,function*(){let a=Le.currentRoute.value.query||{};t(`WeWork setupPage current location is [${location.href}]...`),a.code&&!R(a.code)?t(`Current OAuth Code - ${a.code}`):(t("Empty code, redirect to wework oauth..."),yield $.config().then(),yield $.auth(""))});return Pe(()=>s(this,null,function*(){t("Component - <<WeWork>> is mounted."),e().then()})),(r,a)=>{const o=xe;return Se(),be(o,{size:"24"},{default:ke(()=>[ye(Ce(We),{icon:"ant-design:menu-unfold-outlined"})]),_:1})}}}),Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{X as C,ie as W,Y as a,F as b,Ze as w};
