var m=(p,i,o)=>new Promise((l,c)=>{var t=e=>{try{n(o.next(e))}catch(a){c(a)}},_=e=>{try{n(o.throw(e))}catch(a){c(a)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(t,_);n((o=o.apply(p,i)).next())});import{d as b,a5 as F,m as C,r as w,v as k,o as B,l as d,b as I,e as U,w as s,h as A,t as f,n as r,j as S,i as V,a8 as $}from"./index-CUShlDxm.js";import{u as P}from"./user-BbC9Jso0.js";import{I as j}from"./index-CBOCWPcQ.js";import{_ as q,F as x}from"./index-CEqWF9zZ.js";import{C as D}from"./index-DHmTXaej.js";import"./index-BJ1ted4Q.js";import"./useFlexGapSupport-DW4H39B_.js";const L=b({__name:"account",setup(p){const{t:i}=F(),{getUserInfo:o}=C(),l=w(),c={displayName:[{required:!0,message:i("common.user_field_display_name_validation")}]},t=k({displayName:""}),_=e=>m(this,null,function*(){d(e)}),n=()=>m(this,null,function*(){yield l.value.validate().then(()=>m(this,null,function*(){const e={displayName:t.displayName};P(e).then(a=>{a.code==200&&(l.value.resetFields(),o().then())}).catch(a=>{d(a)})})).catch(e=>{d(e)})});return B(()=>m(this,null,function*(){d("Page <<UserCenterAccountPage>> mounted.")})),(e,a)=>{const y=j,u=q,h=$,v=x,N=D;return I(),U(N,{shadow:"never"},{title:s(()=>[A("div",null,f(e.$t("common.user_pages_change_password_title")),1)]),default:s(()=>[r(v,{ref_key:"form",ref:l,model:t,rules:c,onFinish:n,onFinishFailed:_},{default:s(()=>[r(u,{name:"displayName",label:e.$t("common.user_field_display_name")},{default:s(()=>[r(y,{value:t.displayName,"onUpdate:value":a[0]||(a[0]=g=>t.displayName=g),placeholder:S(i)("common.user_field_display_name_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),r(u,null,{default:s(()=>[r(h,{onClick:n,"html-type":"submit",type:"primary"},{default:s(()=>[V(f(e.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{L as default};
