var r=(t,u,n)=>new Promise((i,l)=>{var p=e=>{try{a(n.next(e))}catch(s){l(s)}},c=e=>{try{a(n.throw(e))}catch(s){l(s)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(p,c);a((n=n.apply(t,u)).next())});import{S as y,a as _}from"./index.min-hz8sJWr_.js";import{aN as d,d as O,q as k,c as m,r as w,am as T,O as g,a0 as h,b9 as B,ba as C,o as S,l as b,ar as A,b as K,f as N,j}from"./index-CLSrHFfR.js";const q=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],x=()=>q,H={element:"",content:"",toolbarKeys:x()},L=t=>d(H,t),R={modules:{toolbar:!0},theme:"snow"},V=t=>d(R,t),z={content:"",extensions:[y]},Z=(t={})=>d(z,t),Q={class:"editor"},F=O({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(t,{emit:u}){const n=u,i=t,{locale:l}=k(),p=m(()=>l),c=w(),a=m(()=>i.value),e=T(),s=o=>r(this,null,function*(){const f={element:c.value,content:a.value,onChange:E=>{n("update:value",E.getHtml())}};e.value=new _(L(d(f,o)))}),v=()=>r(this,null,function*(){h(e.value)||e.value.destroy()});return g(a,o=>{!h(e.value)&&!B(e.value.getHtml(),o)&&(e.value.clear(),e.value.focus().insert(o))}),g(p,o=>{e.value.changeLang(o===C.ZH_CN?"zh":"en")}),S(()=>r(this,null,function*(){b("Component <<AiEditor>> mounted."),yield s(i.options).then()})),A(()=>r(this,null,function*(){b("Component <<AiEditor>> onBeforeUnmount."),yield v().then()})),(o,f)=>(K(),N("div",Q,[j("div",{class:"ai-editor",ref_key:"editorRef",ref:c},null,512)]))}});export{F as _,Z as a,V as g};
