var r=(o,u,n)=>new Promise((i,l)=>{var p=t=>{try{e(n.next(t))}catch(s){l(s)}},c=t=>{try{e(n.throw(t))}catch(s){l(s)}},e=t=>t.done?i(t.value):Promise.resolve(t.value).then(p,c);e((n=n.apply(o,u)).next())});import{S as _,M as k}from"./index.min-CtIPh1dB.js";import{a$ as d,d as O,b as w,r as T,aj as B,c as m,b0 as C,Y as A,a1 as g,b1 as K,o as S,l as h,ao as j,e as x,g as H,m as M}from"./index-D9PIeplA.js";const N=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],R=()=>N,q={element:"",content:"",toolbarKeys:R()},z=o=>d(q,o),Q={modules:{toolbar:!0},theme:"snow"},Z=o=>d(Q,o),U={content:"",extensions:[_]},$=(o={})=>d(U,o),D={class:"editor"},F=O({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(o,{emit:u}){const n=u,i=o,{locale:l,dark:p}=w(),c=T(),e=B(),t=m(()=>i.value),s=m(()=>p?"dark":"light"),v=m(()=>l===C.ZH_CN?"zh":"en"),b=a=>r(this,null,function*(){const f={element:c.value,content:t.value,theme:s.value,lang:v.value,onChange:y=>{n("update:value",y.getHtml())}};e.value=new k(z(d(f,a)))}),E=()=>r(this,null,function*(){g(e.value)||e.value.destroy()});return A(t,a=>{!g(e.value)&&!K(e.value.getHtml(),a)&&(e.value.clear(),e.value.focus().insert(a))}),S(()=>r(this,null,function*(){h("Component <<AiEditor>> mounted."),yield b(i.options).then()})),j(()=>r(this,null,function*(){h("Component <<AiEditor>> onBeforeUnmount."),yield E().then()})),(a,f)=>(x(),H("div",D,[M("div",{ref_key:"editorRef",ref:c,class:"ai-editor"},null,512)]))}});export{F as _,$ as a,Z as g};
