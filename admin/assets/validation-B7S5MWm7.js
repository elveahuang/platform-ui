var m=(e,n,o)=>new Promise((c,t)=>{var p=a=>{try{d(o.next(a))}catch(u){t(u)}},l=a=>{try{d(o.throw(a))}catch(u){t(u)}},d=a=>a.done?c(a.value):Promise.resolve(a.value).then(p,l);d((o=o.apply(e,n)).next())});import{d as h,o as R,l as v,e as r,g,S as b,_ as D,aA as w,aB as k,V,r as B,c as L,aC as _,aD as $,m as y,f as S,w as q,X as M,i as P,aE as x,k as z,an as H,aF as N,aG as I,P as f,aH as j}from"./index-DnwLZJOM.js";import"./el-progress-CRgrIIOP.js";/* empty css                 */const F={class:"app-page-header"},G=["innerHTML"],O={key:1,class:"app-page-title"},U=h({__name:"PageHeader",props:{title:{type:String,require:!1,default:!1}},setup(e){return R(()=>m(this,null,function*(){v("Component <<PageHeader>> mounted.")})),(n,o)=>(r(),g("div",F,[e.title?(r(),g("span",{key:0,class:"app-page-title app-text-title",innerHTML:e.title},null,8,G)):(r(),g("div",O,[b(n.$slots,"title",{},void 0,!0)]))]))}}),se=D(U,[["__scopeId","data-v-63f0c508"]]),X={class:"app-data-table"},J={class:"app-data-table-toolbar"},Q={class:"app-data-table-body"},W={class:"app-data-table-footer"},Y=h({__name:"Table",props:w({toolbarEnabled:{type:Boolean,require:!1,default:!1},rowSelectionEnabled:{type:Boolean,require:!1,default:!0},rowSelectionMultipleEnabled:{type:Boolean,require:!1,default:!0},rowSelection:{type:Object,require:!1,default:null},rowKey:{type:String,require:!1,default:"id"},fixed:{type:Boolean,require:!1,default:!1}},{modelValue:{},modelModifiers:{}}),emits:w(["getDataList"],["update:modelValue"]),setup(e,{expose:n,emit:o}){const c=o,t=k(e,"modelValue"),p=e,l=V({tableSelectedRowKeys:[],tableSelectedRows:[]}),d=B(),a=L(()=>({pageSize:t.value.pagination.size,current:t.value.pagination.page,total:t.value.pagination.total})),u=i=>{console.log("DataTable.onSelectionChange..."),l.tableSelectedRows=i,l.tableSelectedRowKeys=i.filter(s=>s[p.rowKey]).map(s=>s[p.rowKey])},E=(i,s)=>{console.log("DataTable.onTableChange..."),t.value.pagination.size=s,t.value.pagination.page=i,c("getDataList")};return n({refresh:()=>m(this,null,function*(){t.value.pagination.page=1,c("getDataList")}),selectedRowKeys:()=>(console.log("DataTable.selectedRowKeys..."),console.log(Array.from(l.tableSelectedRowKeys)),Array.from(l.tableSelectedRowKeys)),selectedRows:()=>(console.log("DataTable.selectedRows..."),console.log(Array.from(l.tableSelectedRows)),Array.from(l.tableSelectedRows))}),R(()=>m(this,null,function*(){v("Component <<Table>> mounted."),c("getDataList")})),(i,s)=>{const A=H,C=N,K=I;return r(),g("div",X,[_(y("div",J,[b(i.$slots,"toolbar",{},void 0,!0)],512),[[$,e.toolbarEnabled]]),y("div",Q,[_((r(),S(P(x),{ref_key:"tableRef",ref:d,class:"w-full",data:t.value.items,"row-key":e.rowKey,onSelectionChange:u},{default:q(()=>[e.rowSelectionEnabled?(r(),S(A,{key:0,"column-key":e.rowKey,type:"selection",fixed:"left"},null,8,["column-key"])):M("",!0),b(i.$slots,"body",{},void 0,!0)]),_:3},8,["data","row-key"])),[[K,t.value.loading]])]),y("div",W,[z(C,{modelValue:a.value.current,"onUpdate:modelValue":s[0]||(s[0]=T=>a.value.current=T),total:a.value.total,"page-size":a.value.pageSize,onChange:E},null,8,["modelValue","total","page-size"])])])}}}),ie=D(Y,[["__scopeId","data-v-e59920c1"]]),re=e=>f("/api/v1/admin/announcement/list",e),ce=e=>f("/api/v1/admin/announcement/details",e),de=e=>f("/api/v1/admin/announcement/save",e),ue=e=>f("/api/v1/admin/announcement/delete",e),pe={id:0,title:"",content:"",description:"",status:0,startDatetime:"",endDatetime:""},me=(e,n,o)=>{v(`editorNotEmpty - value : ${n}`),j(n)?o(new Error(e.message)):o()};export{se as A,ie as a,re as b,ce as c,pe as d,me as e,de as f,ue as g};
