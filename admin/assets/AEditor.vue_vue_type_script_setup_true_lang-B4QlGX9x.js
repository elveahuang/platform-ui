var i=(t,u,n)=>new Promise((r,l)=>{var p=e=>{try{s(n.next(e))}catch(a){l(a)}},c=e=>{try{s(n.throw(e))}catch(a){l(a)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(p,c);s((n=n.apply(t,u)).next())});import{S as y,a as _}from"./index.min-DOEe5jHn.js";import{aO as d,d as O,q as k,c as m,r as w,an as T,O as g,a0 as h,bb as B,bc as C,o as S,l as b,as as A,b as K,f as j,j as q}from"./index-BeC3e9Y-.js";const x=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],H=()=>x,L={element:"",content:"",toolbarKeys:H()},N=t=>d(L,t),R={modules:{toolbar:!0},theme:"snow"},V=t=>d(R,t),z={content:"",extensions:[y]},Z=(t={})=>d(z,t),Q={class:"editor"},F=O({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(t,{emit:u}){const n=u,r=t,{locale:l}=k(),p=m(()=>l),c=w(),s=m(()=>r.value),e=T(),a=o=>i(this,null,function*(){const f={element:c.value,content:s.value,onChange:E=>{n("update:value",E.getHtml())}};e.value=new _(N(d(f,o)))}),v=()=>i(this,null,function*(){h(e.value)||e.value.destroy()});return g(s,o=>{!h(e.value)&&!B(e.value.getHtml(),o)&&(e.value.clear(),e.value.focus().insert(o))}),g(p,o=>{e.value.changeLang(o===C.ZH_CN?"zh":"en")}),S(()=>i(this,null,function*(){b("Component <<AiEditor>> mounted."),yield a(r.options).then()})),A(()=>i(this,null,function*(){b("Component <<AiEditor>> onBeforeUnmount."),yield v().then()})),(o,f)=>(K(),j("div",Q,[q("div",{class:"ai-editor",ref_key:"editorRef",ref:c},null,512)]))}});export{F as _,Z as a,V as g};
