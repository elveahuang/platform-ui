var i=(t,u,n)=>new Promise((r,l)=>{var p=e=>{try{a(n.next(e))}catch(s){l(s)}},c=e=>{try{a(n.throw(e))}catch(s){l(s)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(p,c);a((n=n.apply(t,u)).next())});import{S as y,a as _}from"./index.min-BvXxmUv_.js";import{a$ as d,d as k,q as O,c as m,r as w,ah as T,Y as h,a1 as g,b0 as B,b1 as C,o as S,l as b,am as A,b as K,f as q,k as x}from"./index-DWWmRPTa.js";const H=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],L=()=>H,N={element:"",content:"",toolbarKeys:L()},R=t=>d(N,t),j={modules:{toolbar:!0},theme:"snow"},V=t=>d(j,t),z={content:"",extensions:[y]},Y=(t={})=>d(z,t),Q={class:"editor"},Z=k({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(t,{emit:u}){const n=u,r=t,{locale:l}=O(),p=m(()=>l),c=w(),a=m(()=>r.value),e=T(),s=o=>i(this,null,function*(){const f={element:c.value,content:a.value,onChange:E=>{n("update:value",E.getHtml())}};e.value=new _(R(d(f,o)))}),v=()=>i(this,null,function*(){g(e.value)||e.value.destroy()});return h(a,o=>{!g(e.value)&&!B(e.value.getHtml(),o)&&(e.value.clear(),e.value.focus().insert(o))}),h(p,o=>{e.value.changeLang(o===C.ZH_CN?"zh":"en")}),S(()=>i(this,null,function*(){b("Component <<AiEditor>> mounted."),yield s(r.options).then()})),A(()=>i(this,null,function*(){b("Component <<AiEditor>> onBeforeUnmount."),yield v().then()})),(o,f)=>(K(),q("div",Q,[x("div",{class:"ai-editor",ref_key:"editorRef",ref:c},null,512)]))}});export{Z as _,Y as a,V as g};
