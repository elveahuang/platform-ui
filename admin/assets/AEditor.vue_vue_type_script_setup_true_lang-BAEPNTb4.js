var i=(t,u,n)=>new Promise((r,l)=>{var p=e=>{try{s(n.next(e))}catch(a){l(a)}},c=e=>{try{s(n.throw(e))}catch(a){l(a)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(p,c);s((n=n.apply(t,u)).next())});import{S as y,M as _}from"./index.min-DErouuLc.js";import{a$ as d,d as k,q as O,c as m,r as w,aj as T,Y as g,a1 as h,b0 as B,b1 as C,o as A,l as b,ao as K,b as S,f as j,k as q}from"./index-Cb7Bw1S_.js";const x=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],H=()=>x,L={element:"",content:"",toolbarKeys:H()},M=t=>d(L,t),N={modules:{toolbar:!0},theme:"snow"},V=t=>d(N,t),R={content:"",extensions:[y]},Y=(t={})=>d(R,t),z={class:"editor"},Z=k({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(t,{emit:u}){const n=u,r=t,{locale:l}=O(),p=m(()=>l),c=w(),s=m(()=>r.value),e=T(),a=o=>i(this,null,function*(){const f={element:c.value,content:s.value,onChange:E=>{n("update:value",E.getHtml())}};e.value=new _(M(d(f,o)))}),v=()=>i(this,null,function*(){h(e.value)||e.value.destroy()});return g(s,o=>{!h(e.value)&&!B(e.value.getHtml(),o)&&(e.value.clear(),e.value.focus().insert(o))}),g(p,o=>{e.value.changeLang(o===C.ZH_CN?"zh":"en")}),A(()=>i(this,null,function*(){b("Component <<AiEditor>> mounted."),yield a(r.options).then()})),K(()=>i(this,null,function*(){b("Component <<AiEditor>> onBeforeUnmount."),yield v().then()})),(o,f)=>(S(),j("div",z,[q("div",{ref_key:"editorRef",ref:c,class:"ai-editor"},null,512)]))}});export{Z as _,Y as a,V as g};
