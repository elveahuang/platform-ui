var y=(v,s,m)=>new Promise((u,a)=>{var c=o=>{try{e(m.next(o))}catch(t){a(t)}},p=o=>{try{e(m.throw(o))}catch(t){a(t)}},e=o=>o.done?u(o.value):Promise.resolve(o.value).then(c,p);e((m=m.apply(v,s)).next())});import{d as $,z as A,r as B,A as I,o as q,l as r,dx as D,b as U,e as V,w as l,j as w,t as i,h as n,i as _,k as d,aL as h,G as j}from"./index-BHsH4_6d.js";import{u as F}from"./user-BERJHK5J.js";import{I as R}from"./index-Cjznh8oO.js";import{R as z,_ as G}from"./index-DOxDvk4G.js";import{D as L}from"./dayjs-BXHxBTHu.js";import{_ as M,F as O}from"./index-CqLd3lRq.js";import{C as S}from"./index-BXJDUfVA.js";import"./index-CI0DTAPW.js";import"./index-DSOWRnpS.js";import"./shallowequal-Do1TOizX.js";import"./EyeOutlined-DvKMtW3a.js";import"./useMergedState-CPoK-Cpp.js";import"./useMemo-DONfRJcQ.js";import"./move-BaFDquSA.js";import"./Col-6F8f387D.js";import"./responsiveObserve-B7nYaFZy.js";import"./useFlexGapSupport-Bc26BGYT.js";import"./isMobile-DTq5YDvJ.js";const ie=$({__name:"account",setup(v){const{t:s}=A(),m=B(),u={originalPassword:[{required:!0,message:s("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:s("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:s("common.user_field_confirm_password_validation")}]},a=I({username:"",displayName:"",email:"",sex:"",birthday:""}),c=(e,o)=>{r(o),a.birthday=o,r(a.birthday)},p=()=>y(this,null,function*(){F({displayName:a.displayName,sex:a.sex,birthday:a.birthday}).then(e=>{e.code==200?h.success(s("common.modify_success")):h.error(s("common.modify_fail"))}).catch(e=>{r(e),h.error(s("common.system_error"))})});return q(()=>y(this,null,function*(){r("Page <<UserCenterPasswordPage>> mounted."),D().then(e=>{r("用户信息结果："),r(e.data),Object.assign(a,e.data)}).catch(e=>{})})),(e,o)=>{const t=M,x=R,f=z,g=G,N=L,k=j,C=O,P=S;return U(),V(P,{shadow:"never"},{title:l(()=>[w("div",null,i(e.$t("common.user_label_my_profile")),1)]),default:l(()=>[n(C,{ref_key:"form",ref:m,model:a,rules:u,"label-width":"200px",style:{"max-width":"500px"}},{default:l(()=>[n(t,{name:"username","label-col":{span:4},label:e.$t("common.field_user_name")},{default:l(()=>[w("label",null,i(a.username),1)]),_:1},8,["label"]),n(t,{name:"displayName","label-col":{span:4},label:e.$t("common.user_field_nickname")},{default:l(()=>[n(x,{value:a.displayName,"onUpdate:value":o[0]||(o[0]=b=>a.displayName=b),placeholder:a.displayName},null,8,["value","placeholder"])]),_:1},8,["label"]),n(t,{name:"sex","label-col":{span:4},label:e.$t("common.user_field_sex")},{default:l(()=>[n(g,{value:a.sex,"onUpdate:value":o[1]||(o[1]=b=>a.sex=b)},{default:l(()=>[n(f,{value:_(s)("common.user_field_sex_male")},{default:l(()=>[d(i(_(s)("common.user_field_sex_male")),1)]),_:1},8,["value"]),n(f,{value:_(s)("common.user_field_sex_female")},{default:l(()=>[d(i(_(s)("common.user_field_sex_female")),1)]),_:1},8,["value"]),n(f,{value:_(s)("common.user_field_sex_unspecified")},{default:l(()=>[d(i(_(s)("common.user_field_sex_unspecified")),1)]),_:1},8,["value"])]),_:1},8,["value"])]),_:1},8,["label"]),n(t,{name:"birthday","label-col":{span:4},label:e.$t("common.user_field_birthday")},{default:l(()=>[n(N,{"show-time":"",placeholder:a.birthday,onChange:c},null,8,["placeholder"])]),_:1},8,["label"]),n(t,{colon:!1,"label-col":{span:12}},{label:l(()=>[n(k,{class:"!w-28",onClick:p,type:"primary"},{default:l(()=>[d(i(e.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{ie as default};
