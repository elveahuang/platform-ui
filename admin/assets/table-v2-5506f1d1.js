import{au as e,t,v as l,A as o,B as r,$ as n,E as a,_ as s,h as i,aK as c,q as d,Q as u,C as h,L as m,D as f,W as p,Y as g,Z as w,a1 as y,bl as x,a9 as v,bm as b,k as R,r as S,y as T,w as C,I as H,aE as I,a8 as E,a4 as M,H as O,N as W,V as K,o as z,bn as A,bo as N,aU as D,b1 as k,m as L,F as $,as as V,K as F,aV as G,aB as j,G as B,bp as P,bq as q,a6 as U,aR as Y,bc as _,x as X}from"./index-0dfb952d.js";import{B as Z,m as Q}from"./tag-2a54bb5f.js";import{m as J,g as ee}from"./typescript-e377aad9.js";import{c as te}from"./castArray-9d9d9a89.js";import{b as le}from"./use-form-item-4a7bba32.js";const oe=t=>e?window.requestAnimationFrame(t):setTimeout(t,16),re=t=>e?window.cancelAnimationFrame(t):clearTimeout(t),ne={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ae=["id"],se=["stop-color"],ie=["stop-color"],ce=["id"],de=["stop-color"],ue=["stop-color"],he=["id"],me={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},fe={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},pe={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},ge=["fill"],we=["fill"],ye={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},xe=["fill"],ve=["fill"],be=["fill"],Re=["fill"],Se=["fill"],Te={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Ce=["fill","xlink:href"],He=["fill","mask"],Ie=["fill"],Ee=t({name:"ImgEmpty"});var Me=s(t({...Ee,setup(e){const t=l("empty"),s=le();return(e,l)=>(o(),r("svg",ne,[n("defs",null,[n("linearGradient",{id:`linearGradient-1-${a(s)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[n("stop",{"stop-color":`var(${a(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,se),n("stop",{"stop-color":`var(${a(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ie)],8,ae),n("linearGradient",{id:`linearGradient-2-${a(s)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[n("stop",{"stop-color":`var(${a(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,de),n("stop",{"stop-color":`var(${a(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,ue)],8,ce),n("rect",{id:`path-3-${a(s)}`,x:"0",y:"0",width:"17",height:"36"},null,8,he)]),n("g",me,[n("g",fe,[n("g",pe,[n("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${a(t).cssVarBlockName("fill-color-3")})`},null,8,ge),n("polygon",{id:"Rectangle-Copy-14",fill:`var(${a(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,we),n("g",ye,[n("polygon",{id:"Rectangle-Copy-10",fill:`var(${a(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,xe),n("polygon",{id:"Rectangle-Copy-11",fill:`var(${a(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,ve),n("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${a(s)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,be),n("polygon",{id:"Rectangle-Copy-13",fill:`var(${a(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Re)]),n("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${a(s)})`,x:"13",y:"45",width:"40",height:"36"},null,8,Se),n("g",Te,[n("use",{id:"Mask",fill:`var(${a(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${a(s)}`},null,8,Ce),n("polygon",{id:"Rectangle-Copy",fill:`var(${a(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${a(s)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,He)]),n("polygon",{id:"Rectangle-Copy-18",fill:`var(${a(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,Ie)])])])]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Oe=i({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),We=["src"],Ke={key:1},ze=t({name:"ElEmpty"});const Ae=y(s(t({...ze,props:Oe,setup(e){const t=e,{t:s}=c(),i=l("empty"),y=d((()=>t.description||s("el.table.emptyText"))),x=d((()=>({width:u(t.imageSize)})));return(e,t)=>(o(),r("div",{class:f(a(i).b())},[n("div",{class:f(a(i).e("image")),style:p(a(x))},[e.image?(o(),r("img",{key:0,src:e.image,ondragstart:"return false"},null,8,We)):h(e.$slots,"image",{key:1},(()=>[m(Me)]))],6),n("div",{class:f(a(i).e("description"))},[e.$slots.description?h(e.$slots,"description",{key:0}):(o(),r("p",Ke,g(a(y)),1))],2),e.$slots.default?(o(),r("div",{key:0,class:f(a(i).e("bottom"))},[h(e.$slots,"default")],2)):w("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]));var Ne=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function De(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(o=e[l],r=t[l],!(o===r||Ne(o)&&Ne(r)))return!1;var o,r;return!0}const ke=()=>{const e=v().proxy.$props;return d((()=>{const t=(e,t,l)=>({});return e.perfMode?x(t):function(e,t){void 0===t&&(t=De);var l=null;function o(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(l&&l.lastThis===this&&t(o,l.lastArgs))return l.lastResult;var n=e.apply(this,o);return l={lastResult:n,lastArgs:o,lastThis:this},n}return o.clear=function(){l=null},o}(t)}))},Le="itemRendered",$e="scroll",Ve="forward",Fe="backward",Ge="auto",je="smart",Be="start",Pe="center",qe="end",Ue="horizontal",Ye="vertical",_e="negative",Xe="positive-ascending",Ze="positive-descending",Qe={[Ue]:"left",[Ye]:"top"},Je=b({type:R([Number,Function]),required:!0}),et=b({type:Number}),tt=b({type:Number,default:2}),lt=b({type:String,values:["ltr","rtl"],default:"ltr"}),ot=b({type:Number,default:0}),rt=b({type:Number,required:!0}),nt=b({type:String,values:["horizontal","vertical"],default:Ye}),at=i({className:{type:String,default:""},containerElement:{type:R([String,Object]),default:"div"},data:{type:R(Array),default:()=>J([])},direction:lt,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:R([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),st=i({cache:tt,estimatedItemSize:et,layout:nt,initScrollOffset:ot,total:rt,itemSize:Je,...at}),it={type:Number,default:6},ct={type:Number,default:0},dt={type:Number,default:2},ut=i({columnCache:tt,columnWidth:Je,estimatedColumnWidth:et,estimatedRowHeight:et,initScrollLeft:ot,initScrollTop:ot,itemKey:{type:R(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:tt,rowHeight:Je,totalColumn:rt,totalRow:rt,hScrollbarSize:it,vScrollbarSize:it,scrollbarStartGap:ct,scrollbarEndGap:dt,role:String,...at}),ht=i({alwaysOn:Boolean,class:String,layout:nt,total:rt,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:it,startGap:ct,endGap:dt,visible:Boolean}),mt=(e,t)=>e<t?Ve:Fe,ft=e=>"rtl"===e;let pt=null;function gt(e=!1){if(null===pt||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),o=l.style;return o.width="100px",o.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?pt=Ze:(e.scrollLeft=1,pt=0===e.scrollLeft?_e:Xe),document.body.removeChild(e),pt}return pt}const wt=t({name:"ElVirtualScrollBar",props:ht,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const o=d((()=>e.startGap+e.endGap)),r=l("virtual-scrollbar"),n=l("scrollbar"),s=S(),i=S();let c=null,u=null;const h=T({isDragging:!1,traveled:0}),m=d((()=>Z[e.layout])),f=d((()=>e.clientSize-a(o))),p=d((()=>({position:"absolute",width:`${Ue===e.layout?f.value:e.scrollbarSize}px`,height:`${Ue===e.layout?e.scrollbarSize:f.value}px`,[Qe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),g=d((()=>{const t=e.ratio,l=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*l/100;const o=l/3;return Math.floor(Math.min(Math.max(t*l,20),o))})),w=d((()=>{if(!Number.isFinite(g.value))return{display:"none"};const t=`${g.value}px`,l=function({move:e,size:t,bar:l},o){const r={},n=`translate${l.axis}(${e}px)`;return r[l.size]=t,r.transform=n,r.msTransform=n,r.webkitTransform=n,"horizontal"===o?r.height="100%":r.width="100%",r}({bar:m.value,size:t,move:h.traveled},e.layout);return l})),y=d((()=>Math.floor(e.clientSize-g.value-a(o)))),x=()=>{window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",b),document.onselectstart=u,u=null;const e=a(i);e&&(e.removeEventListener("touchmove",R),e.removeEventListener("touchend",b))},v=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(h.isDragging=!0,h[m.value.axis]=e.currentTarget[m.value.offset]-(e[m.value.client]-e.currentTarget.getBoundingClientRect()[m.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",R),window.addEventListener("mouseup",b);const e=a(i);e&&(u=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",R),e.addEventListener("touchend",b))})())},b=()=>{h.isDragging=!1,h[m.value.axis]=0,t("stop-move"),x()},R=l=>{const{isDragging:o}=h;if(!o)return;if(!i.value||!s.value)return;const r=h[m.value.axis];if(!r)return;re(c);const n=-1*(s.value.getBoundingClientRect()[m.value.direction]-l[m.value.client])-(i.value[m.value.offset]-r);c=oe((()=>{h.traveled=Math.max(e.startGap,Math.min(n,y.value)),t("scroll",n,y.value)}))},M=e=>{const l=Math.abs(e.target.getBoundingClientRect()[m.value.direction]-e[m.value.client])-i.value[m.value.offset]/2;h.traveled=Math.max(0,Math.min(l,y.value)),t("scroll",l,y.value)};return C((()=>e.scrollFrom),(e=>{h.isDragging||(h.traveled=Math.ceil(e*y.value))})),H((()=>{x()})),()=>I("div",{role:"presentation",ref:s,class:[r.b(),e.class,(e.alwaysOn||h.isDragging)&&"always-on"],style:p.value,onMousedown:E(M,["stop","prevent"]),onTouchstartPrevent:v},I("div",{ref:i,class:n.e("thumb"),style:w.value,onMousedown:v},[]))}}),yt=({name:o,clearCache:r,getColumnPosition:n,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:c,getEstimatedTotalWidth:u,getColumnOffset:h,getRowOffset:m,getRowPosition:f,getRowStartIndexForOffset:p,getRowStopIndexForStartIndex:g,initCache:w,injectToInstance:y,validateProps:x})=>t({name:null!=o?o:"ElVirtualList",props:ut,emits:[Le,$e],setup(t,{emit:o,expose:b,slots:R}){const T=l("vl");x(t);const C=v(),H=S(w(t,C));null==y||y(C,H);const E=S(),N=S(),D=S(),k=S(null),L=S({isScrolling:!1,scrollLeft:M(t.initScrollLeft)?t.initScrollLeft:0,scrollTop:M(t.initScrollTop)?t.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Ve,yAxisScrollDir:Ve}),$=ke(),V=d((()=>Number.parseInt(`${t.height}`,10))),F=d((()=>Number.parseInt(`${t.width}`,10))),G=d((()=>{const{totalColumn:e,totalRow:l,columnCache:o}=t,{isScrolling:r,xAxisScrollDir:n,scrollLeft:c}=a(L);if(0===e||0===l)return[0,0,0,0];const d=s(t,c,a(H)),u=i(t,d,c,a(H)),h=r&&n!==Fe?1:Math.max(1,o),m=r&&n!==Ve?1:Math.max(1,o);return[Math.max(0,d-h),Math.max(0,Math.min(e-1,u+m)),d,u]})),j=d((()=>{const{totalColumn:e,totalRow:l,rowCache:o}=t,{isScrolling:r,yAxisScrollDir:n,scrollTop:s}=a(L);if(0===e||0===l)return[0,0,0,0];const i=p(t,s,a(H)),c=g(t,i,s,a(H)),d=r&&n!==Fe?1:Math.max(1,o),u=r&&n!==Ve?1:Math.max(1,o);return[Math.max(0,i-d),Math.max(0,Math.min(l-1,c+u)),i,c]})),B=d((()=>c(t,a(H)))),P=d((()=>u(t,a(H)))),q=d((()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:M(t.height)?`${t.height}px`:t.height,width:M(t.width)?`${t.width}px`:t.width},null!=(e=t.style)?e:{}]})),U=d((()=>{const e=`${a(P)}px`;return{height:`${a(B)}px`,pointerEvents:a(L).isScrolling?"none":void 0,width:e}})),Y=()=>{const{totalColumn:e,totalRow:l}=t;if(e>0&&l>0){const[e,t,l,r]=a(G),[n,s,i,c]=a(j);o(Le,{columnCacheStart:e,columnCacheEnd:t,rowCacheStart:n,rowCacheEnd:s,columnVisibleStart:l,columnVisibleEnd:r,rowVisibleStart:i,rowVisibleEnd:c})}const{scrollLeft:r,scrollTop:n,updateRequested:s,xAxisScrollDir:i,yAxisScrollDir:c}=a(L);o($e,{xAxisScrollDir:i,scrollLeft:r,yAxisScrollDir:c,scrollTop:n,updateRequested:s})},_=e=>{const{clientHeight:l,clientWidth:o,scrollHeight:r,scrollLeft:n,scrollTop:s,scrollWidth:i}=e.currentTarget,c=a(L);if(c.scrollTop===s&&c.scrollLeft===n)return;let d=n;if(ft(t.direction))switch(gt()){case _e:d=-n;break;case Ze:d=i-o-n}L.value={...c,isScrolling:!0,scrollLeft:d,scrollTop:Math.max(0,Math.min(s,r-l)),updateRequested:!0,xAxisScrollDir:mt(c.scrollLeft,d),yAxisScrollDir:mt(c.scrollTop,s)},W((()=>le())),ne(),Y()},X=(e,t)=>{const l=a(V),o=(B.value-l)/t*e;J({scrollTop:Math.min(B.value-l,o)})},Z=(e,t)=>{const l=a(F),o=(P.value-l)/t*e;J({scrollLeft:Math.min(P.value-l,o)})},{onWheel:Q}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:l,atYStartEdge:o},r)=>{let n=null,a=0,s=0;const i=(r,n)=>{const a=r<=0&&t.value||r>=0&&e.value,s=n<=0&&o.value||n>=0&&l.value;return a&&s};return{hasReachedEdge:i,onWheel:e=>{re(n);let t=e.deltaX,l=e.deltaY;Math.abs(t)>Math.abs(l)?l=0:t=0,e.shiftKey&&0!==l&&(t=l,l=0),i(a,s)&&i(a+t,s+l)||(a+=t,s+=l,e.preventDefault(),n=oe((()=>{r(a,s),a=0,s=0})))}}})({atXStartEdge:d((()=>L.value.scrollLeft<=0)),atXEndEdge:d((()=>L.value.scrollLeft>=P.value-a(F))),atYStartEdge:d((()=>L.value.scrollTop<=0)),atYEndEdge:d((()=>L.value.scrollTop>=B.value-a(V)))},((e,t)=>{var l,o,r,n;null==(o=null==(l=N.value)?void 0:l.onMouseUp)||o.call(l),null==(n=null==(r=N.value)?void 0:r.onMouseUp)||n.call(r);const s=a(F),i=a(V);J({scrollLeft:Math.min(L.value.scrollLeft+e,P.value-s),scrollTop:Math.min(L.value.scrollTop+t,B.value-i)})})),J=({scrollLeft:e=L.value.scrollLeft,scrollTop:t=L.value.scrollTop})=>{e=Math.max(e,0),t=Math.max(t,0);const l=a(L);t===l.scrollTop&&e===l.scrollLeft||(L.value={...l,xAxisScrollDir:mt(l.scrollLeft,e),yAxisScrollDir:mt(l.scrollTop,t),scrollLeft:e,scrollTop:t,updateRequested:!0},W((()=>le())),ne(),Y())},te=(e,l)=>{const{columnWidth:o,direction:s,rowHeight:i}=t,c=$.value(r&&o,r&&i,r&&s),d=`${e},${l}`;if(A(c,d))return c[d];{const[,o]=n(t,l,a(H)),r=a(H),i=ft(s),[u,h]=f(t,e,r),[m]=n(t,l,r);return c[d]={position:"absolute",left:i?void 0:`${o}px`,right:i?`${o}px`:void 0,top:`${h}px`,height:`${u}px`,width:`${m}px`},c[d]}},le=()=>{L.value.isScrolling=!1,W((()=>{$.value(-1,null,null)}))};O((()=>{if(!e)return;const{initScrollLeft:l,initScrollTop:o}=t,r=a(E);r&&(M(l)&&(r.scrollLeft=l),M(o)&&(r.scrollTop=o)),Y()}));const ne=()=>{const{direction:e}=t,{scrollLeft:l,scrollTop:o,updateRequested:r}=a(L),n=a(E);if(r&&n){if("rtl"===e)switch(gt()){case _e:n.scrollLeft=-l;break;case Xe:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=Math.max(0,l);n.scrollTop=Math.max(0,o)}},{resetAfterColumnIndex:ae,resetAfterRowIndex:se,resetAfter:ie}=C.proxy;b({windowRef:E,innerRef:k,getItemStyleCache:$,scrollTo:J,scrollToItem:(e=0,l=0,o=Ge)=>{const r=a(L);l=Math.max(0,Math.min(l,t.totalColumn-1)),e=Math.max(0,Math.min(e,t.totalRow-1));const n=ee(T.namespace.value),s=a(H),i=c(t,s),d=u(t,s);J({scrollLeft:h(t,l,o,r.scrollLeft,s,d>t.width?n:0),scrollTop:m(t,e,o,r.scrollTop,s,i>t.height?n:0)})},states:L,resetAfterColumnIndex:ae,resetAfterRowIndex:se,resetAfter:ie});const ce=()=>{const e=K(t.innerElement),l=(()=>{var e;const[l,o]=a(G),[r,n]=a(j),{data:s,totalColumn:i,totalRow:c,useIsScrolling:d,itemKey:u}=t,h=[];if(c>0&&i>0)for(let t=r;t<=n;t++)for(let r=l;r<=o;r++)h.push(null==(e=R.default)?void 0:e.call(R,{columnIndex:r,data:s,key:u({columnIndex:r,data:s,rowIndex:t}),isScrolling:d?a(L).isScrolling:void 0,style:te(t,r),rowIndex:t}));return h})();return[I(e,{style:a(U),ref:k},z(e)?l:{default:()=>l})]};return()=>{const e=K(t.containerElement),{horizontalScrollbar:l,verticalScrollbar:o}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:l,scrollbarEndGap:o,totalColumn:r,totalRow:n}=t,s=a(F),i=a(V),c=a(P),d=a(B),{scrollLeft:u,scrollTop:h}=a(L);return{horizontalScrollbar:I(wt,{ref:N,alwaysOn:e,startGap:l,endGap:o,class:T.e("horizontal"),clientSize:s,layout:"horizontal",onScroll:Z,ratio:100*s/c,scrollFrom:u/(c-s),total:n,visible:!0}),verticalScrollbar:I(wt,{ref:D,alwaysOn:e,startGap:l,endGap:o,class:T.e("vertical"),clientSize:i,layout:"vertical",onScroll:X,ratio:100*i/d,scrollFrom:h/(d-i),total:r,visible:!0})}})(),r=ce();return I("div",{key:0,class:T.e("wrapper"),role:t.role},[I(e,{class:t.className,style:a(q),onScroll:_,onWheel:Q,ref:E},z(e)?r:{default:()=>r}),l,o])}}}),xt=yt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:l},o,r,n,a,s)=>{l=Number(l);const i=Math.max(0,e*t-l),c=Math.min(i,o*t),d=Math.max(0,o*t-l+s+t);switch("smart"===r&&(r=n>=d-l&&n<=c+l?Ge:Pe),r){case Be:return c;case qe:return d;case Pe:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(l/2)?0:e>i+Math.floor(l/2)?i:e}default:return n>=d&&n<=c?n:d>c||n<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:l},o,r,n,a,s)=>{t=Number(t);const i=Math.max(0,l*e-t),c=Math.min(i,o*e),d=Math.max(0,o*e-t+s+e);switch(r===je&&(r=n>=d-t&&n<=c+t?Ge:Pe),r){case Be:return c;case qe:return d;case Pe:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return n>=d&&n<=c?n:d>c||n<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:l},o,r)=>{const n=o*e,a=Math.ceil((l+r-n)/e);return Math.max(0,Math.min(t-1,o+a-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},l)=>Math.max(0,Math.min(t-1,Math.floor(l/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:l},o,r)=>{const n=o*e,a=Math.ceil((l+r-n)/e);return Math.max(0,Math.min(t-1,o+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),{max:vt,min:bt,floor:Rt}=Math,St={column:"columnWidth",row:"rowHeight"},Tt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Ct=(e,t,l,o)=>{const[r,n,a]=[l[o],e[St[o]],l[Tt[o]]];if(t>a){let e=0;if(a>=0){const t=r[a];e=t.offset+t.size}for(let l=a+1;l<=t;l++){const t=n(l);r[l]={offset:e,size:t},e+=t}l[Tt[o]]=t}return r[t]},Ht=(e,t,l,o,r,n)=>{for(;l<=o;){const a=l+Rt((o-l)/2),s=Ct(e,a,t,n).offset;if(s===r)return a;s<r?l=a+1:o=a-1}return vt(0,l-1)},It=(e,t,l,o)=>{const[r,n]=[t[o],t[Tt[o]]];return(n>0?r[n].offset:0)>=l?Ht(e,t,0,n,l,o):((e,t,l,o,r)=>{const n="column"===r?e.totalColumn:e.totalRow;let a=1;for(;l<n&&Ct(e,l,t,r).offset<o;)l+=a,a*=2;return Ht(e,t,Rt(l/2),bt(l,n-1),o,r)})(e,t,vt(0,n),l,o)},Et=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:l,row:o})=>{let r=0;if(l>=e&&(l=e-1),l>=0){const e=o[l];r=e.offset+e.size}return r+(e-l-1)*t},Mt=({totalColumn:e},{column:t,estimatedColumnWidth:l,lastVisitedColumnIndex:o})=>{let r=0;if(o>e&&(o=e-1),o>=0){const e=t[o];r=e.offset+e.size}return r+(e-o-1)*l},Ot={column:Mt,row:Et},Wt=(e,t,l,o,r,n,a)=>{const[s,i]=["row"===n?e.height:e.width,Ot[n]],c=Ct(e,t,r,n),d=i(e,r),u=vt(0,bt(d-s,c.offset)),h=vt(0,c.offset-s+a+c.size);switch(l===je&&(l=o>=h-s&&o<=u+s?Ge:Pe),l){case Be:return u;case qe:return h;case Pe:return Math.round(h+(u-h)/2);default:return o>=h&&o<=u?o:h>u||o<h?h:u}},Kt=yt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,l)=>{const o=Ct(e,t,l,"column");return[o.size,o.offset]},getRowPosition:(e,t,l)=>{const o=Ct(e,t,l,"row");return[o.size,o.offset]},getColumnOffset:(e,t,l,o,r,n)=>Wt(e,t,l,o,r,"column",n),getRowOffset:(e,t,l,o,r,n)=>Wt(e,t,l,o,r,"row",n),getColumnStartIndexForOffset:(e,t,l)=>It(e,l,t,"column"),getColumnStopIndexForStartIndex:(e,t,l,o)=>{const r=Ct(e,t,o,"column"),n=l+e.width;let a=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&a<n;)s++,a+=Ct(e,t,o,"column").size;return s},getEstimatedTotalHeight:Et,getEstimatedTotalWidth:Mt,getRowStartIndexForOffset:(e,t,l)=>It(e,l,t,"row"),getRowStopIndexForStartIndex:(e,t,l,o)=>{const{totalRow:r,height:n}=e,a=Ct(e,t,o,"row"),s=l+n;let i=a.size+a.offset,c=t;for(;c<r-1&&i<s;)c++,i+=Ct(e,c,o,"row").size;return c},injectToInstance:(e,t)=>{const l=({columnIndex:l,rowIndex:o},r)=>{var n,a;r=!!N(r)||r,M(l)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,l-1)),M(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),null==(n=e.exposed)||n.getItemStyleCache.value(-1,null,null),r&&(null==(a=e.proxy)||a.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{l({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{l({rowIndex:e},t)},resetAfter:l})},initCache:({estimatedColumnWidth:e=50,estimatedRowHeight:t=50})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}});var zt=(e=>(e.ASC="asc",e.DESC="desc",e))(zt||{}),At=(e=>(e.CENTER="center",e.RIGHT="right",e))(At||{}),Nt=(e=>(e.LEFT="left",e.RIGHT="right",e))(Nt||{});const Dt={asc:"desc",desc:"asc"},kt=Symbol("placeholder"),Lt=(e,t,l)=>{var o;const r={flexGrow:0,flexShrink:0,...l?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};l||(r.flexShrink=1);const n={...null!=(o=e.style)?o:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(n.maxWidth=e.maxWidth),e.minWidth&&(n.minWidth=e.minWidth)),n};const $t=(e,{mainTableRef:t,leftTableRef:l,rightTableRef:o})=>{const r=v(),{emit:n}=r,s=k(!1),i=k(null),c=S(e.defaultExpandedRowKeys||[]),u=S(-1),h=k(null),m=S({}),f=S({}),p=k({}),g=k({}),w=k({}),y=d((()=>M(e.estimatedRowHeight)));const x=Q((()=>{var e,n,i,c;s.value=!0,m.value={...a(m),...a(f)},b(a(h),!1),f.value={},h.value=null,null==(e=t.value)||e.forceUpdate(),null==(n=l.value)||n.forceUpdate(),null==(i=o.value)||i.forceUpdate(),null==(c=r.proxy)||c.$forceUpdate(),s.value=!1}),0);function b(e,r=!1){a(y)&&[t,l,o].forEach((t=>{const l=a(t);l&&l.resetAfterRowIndex(e,r)}))}return{hoveringRowKey:i,expandedRowKeys:c,lastRenderedRowIndex:u,isDynamic:y,isResetting:s,rowHeights:m,resetAfterIndex:b,onRowExpanded:function({expanded:t,rowData:l,rowIndex:o,rowKey:r}){var s,i;const d=[...a(c)],u=d.indexOf(r);t?-1===u&&d.push(r):u>-1&&d.splice(u,1),c.value=d,n("update:expandedRowKeys",d),null==(s=e.onRowExpand)||s.call(e,{expanded:t,rowData:l,rowIndex:o,rowKey:r}),null==(i=e.onExpandedRowsChange)||i.call(e,d)},onRowHovered:function({hovered:e,rowKey:t}){i.value=e?t:null},onRowsRendered:function(t){var l;null==(l=e.onRowsRendered)||l.call(e,t),t.rowCacheEnd>a(u)&&(u.value=t.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:t,rowIndex:l},o){o?o===Nt.RIGHT?w.value[e]=t:p.value[e]=t:g.value[e]=t;const r=Math.max(...[p,w,g].map((t=>t.value[e]||0)));a(m)[e]!==r&&(!function(e,t,l){const o=a(h);(null===o||o>l)&&(h.value=l),f.value[e]=t}(e,r,l),x())}}},Vt=(e,t)=>e+t,Ft=e=>L(e)?e.reduce(Vt,0):e,Gt=(e,t,l={})=>$(e)?e(t):null!=e?e:l,jt=e=>(["width","maxWidth","minWidth","height"].forEach((t=>{e[t]=u(e[t])})),e),Bt=e=>V(e)?t=>I(e,t):e;function Pt(e){const t=S(),l=S(),o=S(),{columns:r,columnsStyles:n,columnsTotalWidth:s,fixedColumnsOnLeft:i,fixedColumnsOnRight:c,hasFixedColumns:h,mainColumns:m,onColumnSorted:f}=function(e,t,l){const o=d((()=>a(t).filter((e=>!e.hidden)))),r=d((()=>a(o).filter((e=>"left"===e.fixed||!0===e.fixed)))),n=d((()=>a(o).filter((e=>"right"===e.fixed)))),s=d((()=>a(o).filter((e=>!e.fixed)))),i=d((()=>{const e=[];return a(r).forEach((t=>{e.push({...t,placeholderSign:kt})})),a(s).forEach((t=>{e.push(t)})),a(n).forEach((t=>{e.push({...t,placeholderSign:kt})})),e})),c=d((()=>a(r).length||a(n).length)),u=d((()=>a(t).reduce(((t,o)=>(t[o.key]=Lt(o,a(l),e.fixed),t)),{}))),h=d((()=>a(o).reduce(((e,t)=>e+t.width),0))),m=e=>a(t).find((t=>t.key===e));return{columns:t,columnsStyles:u,columnsTotalWidth:h,fixedColumnsOnLeft:r,fixedColumnsOnRight:n,hasFixedColumns:c,mainColumns:i,normalColumns:s,visibleColumns:o,getColumn:m,getColumnStyle:e=>a(u)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(t){var l;const{key:o}=t.currentTarget.dataset;if(!o)return;const{sortState:r,sortBy:n}=e;let a=zt.ASC;a=D(r)?Dt[r[o]]:Dt[n.order],null==(l=e.onColumnSort)||l.call(e,{column:m(o),key:o,order:a})}}}(e,G(e,"columns"),G(e,"fixed")),{scrollTo:p,scrollToLeft:g,scrollToTop:w,scrollToRow:y,onScroll:x,onVerticalScroll:v,scrollPos:b}=((e,{mainTableRef:t,leftTableRef:l,rightTableRef:o,onMaybeEndReached:r})=>{const n=S({scrollLeft:0,scrollTop:0});function s(e){var r,n,a;const{scrollTop:s}=e;null==(r=t.value)||r.scrollTo(e),null==(n=l.value)||n.scrollToTop(s),null==(a=o.value)||a.scrollToTop(s)}function i(e){n.value=e,s(e)}function c(e){n.value.scrollTop=e,s(a(n))}return C((()=>a(n).scrollTop),((e,t)=>{e>t&&r()})),{scrollPos:n,scrollTo:i,scrollToLeft:function(e){var l,o;n.value.scrollLeft=e,null==(o=null==(l=t.value)?void 0:l.scrollTo)||o.call(l,a(n))},scrollToTop:c,scrollToRow:function(e,l="auto"){var o;null==(o=t.value)||o.scrollToRow(e,l)},onScroll:function(t){var l;i(t),null==(l=e.onScroll)||l.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:t}=a(n);e!==t&&c(e)}}})(e,{mainTableRef:t,leftTableRef:l,rightTableRef:o,onMaybeEndReached:function(){const{onEndReached:t}=e;if(!t)return;const{scrollTop:l}=a(b),o=a(Y),r=a(_),n=o-(l+r)+e.hScrollbarSize;a(H)>=0&&o===l+a(B)-a(J)&&t(n)}}),{expandedRowKeys:R,hoveringRowKey:T,lastRenderedRowIndex:H,isDynamic:I,isResetting:E,rowHeights:O,resetAfterIndex:W,onRowExpanded:K,onRowHeightChange:z,onRowHovered:A,onRowsRendered:N}=$t(e,{mainTableRef:t,leftTableRef:l,rightTableRef:o}),{data:$,depthMap:V}=((e,{expandedRowKeys:t,lastRenderedRowIndex:l,resetAfterIndex:o})=>{const r=S({}),n=d((()=>{const l={},{data:o,rowKey:n}=e,s=a(t);if(!s||!s.length)return o;const i=[],c=new Set;s.forEach((e=>c.add(e)));let d=o.slice();for(d.forEach((e=>l[e[n]]=0));d.length>0;){const e=d.shift();i.push(e),c.has(e[n])&&Array.isArray(e.children)&&e.children.length>0&&(d=[...e.children,...d],e.children.forEach((t=>l[t[n]]=l[e[n]]+1)))}return r.value=l,i})),s=d((()=>{const{data:t,expandColumnKey:l}=e;return l?a(n):t}));return C(s,((e,t)=>{e!==t&&(l.value=-1,o(0,!0))})),{data:s,depthMap:r}})(e,{expandedRowKeys:R,lastRenderedRowIndex:H,resetAfterIndex:W}),{bodyWidth:F,fixedTableHeight:j,mainTableHeight:B,leftTableWidth:P,rightTableWidth:q,headerWidth:U,rowsHeight:Y,windowHeight:_,footerHeight:X,emptyStyle:Z,rootStyle:Q,headerHeight:J}=((e,{columnsTotalWidth:t,data:l,fixedColumnsOnLeft:o,fixedColumnsOnRight:r})=>{const n=d((()=>{const{fixed:l,width:o,vScrollbarSize:r}=e,n=o-r;return l?Math.max(Math.round(a(t)),n):n})),s=d((()=>a(n)+(e.fixed?e.vScrollbarSize:0))),i=d((()=>{const{height:t=0,maxHeight:l=0,footerHeight:o,hScrollbarSize:r}=e;if(l>0){const e=a(w),t=a(c),n=a(g)+e+t+r;return Math.min(n,l-o)}return t-o})),c=d((()=>{const{rowHeight:t,estimatedRowHeight:o}=e,r=a(l);return M(o)?r.length*o:r.length*t})),h=d((()=>{const{maxHeight:t}=e,l=a(i);if(M(t)&&t>0)return l;const o=a(c)+a(g)+a(w);return Math.min(l,o)})),m=e=>e.width,f=d((()=>Ft(a(o).map(m)))),p=d((()=>Ft(a(r).map(m)))),g=d((()=>Ft(e.headerHeight))),w=d((()=>{var t;return((null==(t=e.fixedData)?void 0:t.length)||0)*e.rowHeight})),y=d((()=>a(i)-a(g)-a(w))),x=d((()=>{const{style:t={},height:l,width:o}=e;return jt({...t,height:l,width:o})})),v=d((()=>jt({height:e.footerHeight}))),b=d((()=>({top:u(a(g)),bottom:u(e.footerHeight),width:u(e.width)})));return{bodyWidth:n,fixedTableHeight:h,mainTableHeight:i,leftTableWidth:f,rightTableWidth:p,headerWidth:s,rowsHeight:c,windowHeight:y,footerHeight:v,emptyStyle:b,rootStyle:x,headerHeight:g}})(e,{columnsTotalWidth:s,data:$,fixedColumnsOnLeft:i,fixedColumnsOnRight:c}),ee=k(!1),te=S(),le=d((()=>{const t=0===a($).length;return L(e.fixedData)?0===e.fixedData.length&&t:t}));return C((()=>e.expandedRowKeys),(e=>R.value=e),{deep:!0}),{columns:r,containerRef:te,mainTableRef:t,leftTableRef:l,rightTableRef:o,isDynamic:I,isResetting:E,isScrolling:ee,hoveringRowKey:T,hasFixedColumns:h,columnsStyles:n,columnsTotalWidth:s,data:$,expandedRowKeys:R,depthMap:V,fixedColumnsOnLeft:i,fixedColumnsOnRight:c,mainColumns:m,bodyWidth:F,emptyStyle:Z,rootStyle:Q,headerWidth:U,footerHeight:X,mainTableHeight:B,fixedTableHeight:j,leftTableWidth:P,rightTableWidth:q,showEmpty:le,getRowHeight:function(t){const{estimatedRowHeight:l,rowHeight:o,rowKey:r}=e;return l?a(O)[a($)[t][r]]||l:o},onColumnSorted:f,onRowHovered:A,onRowExpanded:K,onRowsRendered:N,onRowHeightChange:z,scrollTo:p,scrollToLeft:g,scrollToTop:w,scrollToRow:y,onScroll:x,onVerticalScroll:v}}const qt=Symbol("tableV2"),Ut=String,Yt={type:R(Array),required:!0},_t={type:R(Array)},Xt={..._t,required:!0},Zt=String,Qt={type:R(Array),default:()=>J([])},Jt={type:Number,required:!0},el={type:R([String,Number,Symbol]),default:"id"},tl={type:R(Object)},ll=i({class:String,columns:Yt,columnsStyles:{type:R(Object),required:!0},depth:Number,expandColumnKey:Zt,estimatedRowHeight:{...ut.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:R(Function)},onRowHover:{type:R(Function)},onRowHeightChange:{type:R(Function)},rowData:{type:R(Object),required:!0},rowEventHandlers:{type:R(Object)},rowIndex:{type:Number,required:!0},rowKey:el,style:{type:R(Object)}}),ol={type:Number,required:!0},rl=i({class:String,columns:Yt,fixedHeaderData:{type:R(Array)},headerData:{type:R(Array),required:!0},headerHeight:{type:R([Number,Array]),default:50},rowWidth:ol,rowHeight:{type:Number,default:50},height:ol,width:ol}),nl=i({columns:Yt,data:Xt,fixedData:_t,estimatedRowHeight:ll.estimatedRowHeight,width:Jt,height:Jt,headerWidth:Jt,headerHeight:rl.headerHeight,bodyWidth:Jt,rowHeight:Jt,cache:st.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:ut.scrollbarAlwaysOn,scrollbarStartGap:ut.scrollbarStartGap,scrollbarEndGap:ut.scrollbarEndGap,class:Ut,style:tl,containerStyle:tl,getRowHeight:{type:R(Function),required:!0},rowKey:ll.rowKey,onRowsRendered:{type:R(Function)},onScroll:{type:R(Function)}}),al=i({cache:nl.cache,estimatedRowHeight:ll.estimatedRowHeight,rowKey:el,headerClass:{type:R([String,Function])},headerProps:{type:R([Object,Function])},headerCellProps:{type:R([Object,Function])},headerHeight:rl.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:R([String,Function])},rowProps:{type:R([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:R([Object,Function])},columns:Yt,data:Xt,dataGetter:{type:R(Function)},fixedData:_t,expandColumnKey:ll.expandColumnKey,expandedRowKeys:Qt,defaultExpandedRowKeys:Qt,class:Ut,fixed:Boolean,style:{type:R(Object)},width:Jt,height:Jt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:ut.hScrollbarSize,vScrollbarSize:ut.vScrollbarSize,scrollbarAlwaysOn:ht.alwaysOn,sortBy:{type:R(Object),default:()=>({})},sortState:{type:R(Object),default:void 0},onColumnSort:{type:R(Function)},onExpandedRowsChange:{type:R(Function)},onEndReached:{type:R(Function)},onRowExpand:ll.onRowExpand,onScroll:nl.onScroll,onRowsRendered:nl.onRowsRendered,rowEventHandlers:ll.rowEventHandlers}),sl=(e,{slots:t})=>{var l;const{cellData:o,style:r}=e,n=(null==(l=null==o?void 0:o.toString)?void 0:l.call(o))||"";return m("div",{class:e.class,title:n,style:r},[t.default?t.default(e):n])};sl.displayName="ElTableV2Cell",sl.inheritAttrs=!1;const il=(e,{slots:t})=>{var l,o;return t.default?t.default(e):m("div",{class:e.class,title:null==(l=e.column)?void 0:l.title},[null==(o=e.column)?void 0:o.title])};il.displayName="ElTableV2HeaderCell",il.inheritAttrs=!1;const cl=i({class:String,columns:Yt,columnsStyles:{type:R(Object),required:!0},headerIndex:Number,style:{type:R(Object)}}),dl=t({name:"ElTableV2HeaderRow",props:cl,setup:(e,{slots:t})=>()=>{const{columns:l,columnsStyles:o,headerIndex:r,style:n}=e;let a=l.map(((e,n)=>t.cell({columns:l,column:e,columnIndex:n,headerIndex:r,style:o[e.key]})));return t.header&&(a=t.header({cells:a.map((e=>L(e)&&1===e.length?e[0]:e)),columns:l,headerIndex:r})),m("div",{class:e.class,style:n,role:"row"},[a])}}),ul=t({name:"ElTableV2Header",props:rl,setup(e,{slots:t,expose:o}){const r=l("table-v2"),n=S(),s=d((()=>jt({width:e.width,height:e.height}))),i=d((()=>jt({width:e.rowWidth,height:e.height}))),c=d((()=>te(a(e.headerHeight)))),u=()=>{const l=r.e("fixed-header-row"),{columns:o,fixedHeaderData:n,rowHeight:a}=e;return null==n?void 0:n.map(((e,r)=>{var n;const s=jt({height:a,width:"100%"});return null==(n=t.fixed)?void 0:n.call(t,{class:l,columns:o,rowData:e,rowIndex:-(r+1),style:s})}))},h=()=>{const l=r.e("dynamic-header-row"),{columns:o}=e;return a(c).map(((e,r)=>{var n;const a=jt({width:"100%",height:e});return null==(n=t.dynamic)?void 0:n.call(t,{class:l,columns:o,headerIndex:r,style:a})}))};return o({scrollToLeft:e=>{const t=a(n);W((()=>{(null==t?void 0:t.scroll)&&t.scroll({left:e})}))}}),()=>{if(!(e.height<=0))return m("div",{ref:n,class:e.class,style:a(s),role:"rowgroup"},[m("div",{style:a(i),class:r.e("header")},[h(),u()])])}}}),hl=e=>{const{isScrolling:t}=B(qt),l=S(!1),o=S(),r=d((()=>M(e.estimatedRowHeight)&&e.rowIndex>=0)),n=d((()=>{const{rowData:t,rowIndex:l,rowKey:o,onRowHover:r}=e,n=e.rowEventHandlers||{},a={};return Object.entries(n).forEach((([e,r])=>{$(r)&&(a[e]=e=>{r({event:e,rowData:t,rowIndex:l,rowKey:o})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:e,hovered:n})=>{const s=a[e];a[e]=e=>{r({event:e,hovered:n,rowData:t,rowIndex:l,rowKey:o}),null==s||s(e)}})),a}));return O((()=>{a(r)&&((t=!1)=>{const r=a(o);if(!r)return;const{columns:n,onRowHeightChange:s,rowKey:i,rowIndex:c,style:d}=e,{height:u}=r.getBoundingClientRect();l.value=!0,W((()=>{if(t||u!==Number.parseInt(d.height)){const e=n[0],t=(null==e?void 0:e.placeholderSign)===kt;null==s||s({rowKey:i,height:u,rowIndex:c},e&&!t&&e.fixed)}}))})(!0)})),{isScrolling:t,measurable:r,measured:l,rowRef:o,eventHandlers:n,onExpand:t=>{const{onRowExpand:l,rowData:o,rowIndex:r,rowKey:n}=e;null==l||l({expanded:t,rowData:o,rowIndex:r,rowKey:n})}}},ml=t({name:"ElTableV2TableRow",props:ll,setup(e,{expose:t,slots:l,attrs:o}){const{eventHandlers:r,isScrolling:n,measurable:s,measured:i,rowRef:c,onExpand:d}=hl(e);return t({onExpand:d}),()=>{const{columns:t,columnsStyles:u,expandColumnKey:h,depth:f,rowData:p,rowIndex:g,style:w}=e;let y=t.map(((e,o)=>{const r=L(p.children)&&p.children.length>0&&e.key===h;return l.cell({column:e,columns:t,columnIndex:o,depth:f,style:u[e.key],rowData:p,rowIndex:g,isScrolling:a(n),expandIconProps:r?{rowData:p,rowIndex:g,onExpand:d}:void 0})}));if(l.row&&(y=l.row({cells:y.map((e=>L(e)&&1===e.length?e[0]:e)),style:w,columns:t,depth:f,rowData:p,rowIndex:g,isScrolling:a(n)})),a(s)){const{height:t,...l}=w||{},n=a(i);return m("div",j({ref:c,class:e.class,style:n?w:l,role:"row"},o,a(r)),[y])}return m("div",j(o,{ref:c,class:e.class,style:w,role:"row"},a(r)),[y])}}}),fl=e=>{const{sortOrder:t}=e;return m(U,{size:14,class:e.class},{default:()=>[t===zt.ASC?m(P,null,null):m(q,null,null)]})},pl=e=>{const{expanded:t,expandable:l,onExpand:o,style:r,size:n}=e,a={onClick:l?()=>o(!t):void 0,class:e.class};return m(U,j(a,{size:n,style:r}),{default:()=>[m(Y,null,null)]})},gl=t({name:"ElTableV2Grid",props:nl,setup(e,{slots:t,expose:l}){const{ns:o}=B(qt),{bodyRef:r,fixedRowHeight:n,gridHeight:s,hasHeader:i,headerRef:c,headerHeight:u,totalHeight:h,forceUpdate:f,itemKey:p,onItemRendered:g,resetAfterRowIndex:w,scrollTo:y,scrollToTop:x,scrollToRow:v}=(e=>{const t=S(),l=S(),o=d((()=>{const{data:t,rowHeight:l,estimatedRowHeight:o}=e;if(!o)return t.length*l})),r=d((()=>{const{fixedData:t,rowHeight:l}=e;return((null==t?void 0:t.length)||0)*l})),n=d((()=>Ft(e.headerHeight))),s=d((()=>{const{height:t}=e;return Math.max(0,t-a(n)-a(r))})),i=d((()=>a(n)+a(r)>0));return{bodyRef:l,forceUpdate:function(){var e,o;null==(e=a(l))||e.$forceUpdate(),null==(o=a(t))||o.$forceUpdate()},fixedRowHeight:r,gridHeight:s,hasHeader:i,headerHeight:n,headerRef:t,totalHeight:o,itemKey:({data:t,rowIndex:l})=>t[l][e.rowKey],onItemRendered:function({rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r}){var n;null==(n=e.onRowsRendered)||n.call(e,{rowCacheStart:t,rowCacheEnd:l,rowVisibleStart:o,rowVisibleEnd:r})},resetAfterRowIndex:function(e,t){var o;null==(o=l.value)||o.resetAfterRowIndex(e,t)},scrollTo:function(e,o){const r=a(t),n=a(l);r&&n&&(D(e)?(r.scrollToLeft(e.scrollLeft),n.scrollTo(e)):(r.scrollToLeft(e),n.scrollTo({scrollLeft:e,scrollTop:o})))},scrollToTop:function(e){var t;null==(t=a(l))||t.scrollTo({scrollTop:e})},scrollToRow:function(e,t){var o;null==(o=a(l))||o.scrollToItem(e,1,t)}}})(e);l({forceUpdate:f,totalHeight:h,scrollTo:y,scrollToTop:x,scrollToRow:v,resetAfterRowIndex:w});const b=()=>e.bodyWidth;return()=>{const{cache:l,columns:d,data:h,fixedData:f,useIsScrolling:w,scrollbarAlwaysOn:y,scrollbarEndGap:x,scrollbarStartGap:v,style:R,rowHeight:S,bodyWidth:T,estimatedRowHeight:C,headerWidth:H,height:I,width:E,getRowHeight:O,onScroll:W}=e,K=M(C),z=K?Kt:xt,A=a(u);return m("div",{role:"table",class:[o.e("table"),e.class],style:R},[m(z,{ref:r,data:h,useIsScrolling:w,itemKey:p,columnCache:0,columnWidth:K?b:T,totalColumn:1,totalRow:h.length,rowCache:l,rowHeight:K?O:S,width:E,height:a(s),class:o.e("body"),role:"rowgroup",scrollbarStartGap:v,scrollbarEndGap:x,scrollbarAlwaysOn:y,onScroll:W,onItemRendered:g,perfMode:!1},{default:e=>{var l;const o=h[e.rowIndex];return null==(l=t.row)?void 0:l.call(t,{...e,columns:d,rowData:o})}}),a(i)&&m(ul,{ref:c,class:o.e("header-wrapper"),columns:d,headerData:h,headerHeight:e.headerHeight,fixedHeaderData:f,rowWidth:H,rowHeight:S,width:E,height:Math.min(A+a(n),I)},{dynamic:t.header,fixed:t.row})])}}});const wl=(e,{slots:t})=>{const{mainTableRef:l,...o}=e;return m(gl,j({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!V(r)?t:{default:()=>[t]});var r};const yl=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:l,...o}=e;return m(gl,j({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!V(r)?t:{default:()=>[t]});var r};const xl=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:l,...o}=e;return m(gl,j({ref:l},o),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!V(r)?t:{default:()=>[t]});var r};const vl=(e,{slots:t})=>{const{columns:l,columnsStyles:o,depthMap:r,expandColumnKey:n,expandedRowKeys:a,estimatedRowHeight:s,hasFixedColumns:i,hoveringRowKey:c,rowData:d,rowIndex:u,style:h,isScrolling:f,rowProps:p,rowClass:g,rowKey:w,rowEventHandlers:y,ns:x,onRowHovered:v,onRowExpanded:b}=e,R=Gt(g,{columns:l,rowData:d,rowIndex:u},""),S=Gt(p,{columns:l,rowData:d,rowIndex:u}),T=d[w],C=r[T]||0,H=Boolean(n),I=u<0,E={...S,columns:l,columnsStyles:o,class:[x.e("row"),R,{[x.e(`row-depth-${C}`)]:H&&u>=0,[x.is("expanded")]:H&&a.includes(T),[x.is("hovered")]:!f&&T===c,[x.is("fixed")]:!C&&I,[x.is("customized")]:Boolean(t.row)}],depth:C,expandColumnKey:n,estimatedRowHeight:I?void 0:s,isScrolling:f,rowIndex:u,rowData:d,rowKey:T,rowEventHandlers:y,style:h};return m(ml,j(E,{onRowHover:i?v:void 0,onRowExpand:b}),"function"==typeof(M=t)||"[object Object]"===Object.prototype.toString.call(M)&&!V(M)?t:{default:()=>[t]});var M},bl=({columns:e,column:t,columnIndex:l,depth:o,expandIconProps:r,isScrolling:n,rowData:a,rowIndex:s,style:i,expandedRowKeys:c,ns:d,cellProps:u,expandColumnKey:h,indentSize:f,iconSize:p,rowKey:g},{slots:w})=>{const y=jt(i);if(t.placeholderSign===kt)return m("div",{class:d.em("row-cell","placeholder"),style:y},null);const{cellRenderer:x,dataKey:v,dataGetter:b}=t,R=Bt(x)||w.default||(e=>m(sl,e,null)),S=$(b)?b({columns:e,column:t,columnIndex:l,rowData:a,rowIndex:s}):_(a,null!=v?v:""),T=Gt(u,{cellData:S,columns:e,column:t,columnIndex:l,rowIndex:s,rowData:a}),C=R({class:d.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:S,isScrolling:n,rowData:a,rowIndex:s}),H=[d.e("row-cell"),t.class,t.align===At.CENTER&&d.is("align-center"),t.align===At.RIGHT&&d.is("align-right")],I=s>=0&&t.key===h,E=s>=0&&c.includes(a[g]);let M;const O=`margin-inline-start: ${o*f}px;`;return I&&(M=D(r)?m(pl,j(r,{class:[d.e("expand-icon"),d.is("expanded",E)],size:p,expanded:E,style:O,expandable:!0}),null):m("div",{style:[O,`width: ${p}px; height: ${p}px;`].join(" ")},null)),m("div",j({class:H,style:y},T,{role:"cell"}),[M,C])};bl.inheritAttrs=!1;const Rl=({columns:e,columnsStyles:t,headerIndex:l,style:o,headerClass:r,headerProps:n,ns:a},{slots:s})=>{const i={columns:e,headerIndex:l},c=[a.e("header-row"),Gt(r,i,""),{[a.is("customized")]:Boolean(s.header)}],d={...Gt(n,i),columnsStyles:t,class:c,columns:e,headerIndex:l,style:o};return m(dl,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!V(u)?s:{default:()=>[s]});var u},Sl=(e,{slots:t})=>{const{column:l,ns:o,style:r,onColumnSorted:n}=e,a=jt(r);if(l.placeholderSign===kt)return m("div",{class:o.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=l,d={...e,class:o.e("header-cell-text")},u=(Bt(s)||t.default||(e=>m(il,e,null)))(d),{sortBy:h,sortState:f,headerCellProps:p}=e;let g,w;if(f){const e=f[l.key];g=Boolean(Dt[e]),w=g?e:zt.ASC}else g=l.key===h.key,w=g?h.order:zt.ASC;const y=[o.e("header-cell"),Gt(i,e,""),l.align===At.CENTER&&o.is("align-center"),l.align===At.RIGHT&&o.is("align-right"),c&&o.is("sortable")],x={...Gt(p,e),onClick:l.sortable?n:void 0,class:y,style:a,"data-key":l.key};return m("div",j(x,{role:"columnheader"}),[u,c&&m(fl,{class:[o.e("sort-icon"),g&&o.is("sorting")],sortOrder:w},null)])},Tl=(e,{slots:t})=>{var l;return m("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};Tl.displayName="ElTableV2Footer";const Cl=(e,{slots:t})=>m("div",{class:e.class,style:e.style},[t.default?t.default():m(Ae,null,null)]);Cl.displayName="ElTableV2Empty";const Hl=(e,{slots:t})=>{var l;return m("div",{class:e.class,style:e.style},[null==(l=t.default)?void 0:l.call(t)])};function Il(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!V(e)}Hl.displayName="ElTableV2Overlay";const El=t({name:"ElTableV2",props:al,setup(e,{slots:t,expose:o}){const r=l("table-v2"),{columnsStyles:n,fixedColumnsOnLeft:s,fixedColumnsOnRight:i,mainColumns:c,mainTableHeight:d,fixedTableHeight:u,leftTableWidth:h,rightTableWidth:f,data:p,depthMap:g,expandedRowKeys:w,hasFixedColumns:y,hoveringRowKey:x,mainTableRef:v,leftTableRef:b,rightTableRef:R,isDynamic:S,isResetting:T,isScrolling:C,bodyWidth:H,emptyStyle:I,rootStyle:E,headerWidth:M,footerHeight:O,showEmpty:W,scrollTo:K,scrollToLeft:z,scrollToTop:A,scrollToRow:N,getRowHeight:D,onColumnSorted:k,onRowHeightChange:L,onRowHovered:$,onRowExpanded:V,onRowsRendered:F,onScroll:G,onVerticalScroll:B}=Pt(e);return o({scrollTo:K,scrollToLeft:z,scrollToTop:A,scrollToRow:N}),X(qt,{ns:r,isResetting:T,hoveringRowKey:x,isScrolling:C}),()=>{const{cache:l,cellProps:o,estimatedRowHeight:T,expandColumnKey:C,fixedData:K,headerHeight:z,headerClass:A,headerProps:N,headerCellProps:P,sortBy:q,sortState:U,rowHeight:Y,rowClass:_,rowEventHandlers:X,rowKey:Z,rowProps:Q,scrollbarAlwaysOn:J,indentSize:ee,iconSize:te,useIsScrolling:le,vScrollbarSize:oe,width:re}=e,ne=a(p),ae={cache:l,class:r.e("main"),columns:a(c),data:ne,fixedData:K,estimatedRowHeight:T,bodyWidth:a(H),headerHeight:z,headerWidth:a(M),height:a(d),mainTableRef:v,rowKey:Z,rowHeight:Y,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:oe,useIsScrolling:le,width:re,getRowHeight:D,onRowsRendered:F,onScroll:G},se=a(h),ie=a(u),ce={cache:l,class:r.e("left"),columns:a(s),data:ne,estimatedRowHeight:T,leftTableRef:b,rowHeight:Y,bodyWidth:se,headerWidth:se,headerHeight:z,height:ie,rowKey:Z,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:oe,useIsScrolling:le,width:se,getRowHeight:D,onScroll:B},de=a(f)+oe,ue={cache:l,class:r.e("right"),columns:a(i),data:ne,estimatedRowHeight:T,rightTableRef:R,rowHeight:Y,bodyWidth:de,headerWidth:de,headerHeight:z,height:ie,rowKey:Z,scrollbarAlwaysOn:J,scrollbarStartGap:2,scrollbarEndGap:oe,width:de,style:`--${a(r.namespace)}-table-scrollbar-size: ${oe}px`,useIsScrolling:le,getRowHeight:D,onScroll:B},he=a(n),me={ns:r,depthMap:a(g),columnsStyles:he,expandColumnKey:C,expandedRowKeys:a(w),estimatedRowHeight:T,hasFixedColumns:a(y),hoveringRowKey:a(x),rowProps:Q,rowClass:_,rowKey:Z,rowEventHandlers:X,onRowHovered:$,onRowExpanded:V,onRowHeightChange:L},fe={cellProps:o,expandColumnKey:C,indentSize:ee,iconSize:te,rowKey:Z,expandedRowKeys:a(w),ns:r},pe={ns:r,headerClass:A,headerProps:N,columnsStyles:he},ge={ns:r,sortBy:q,sortState:U,headerCellProps:P,onColumnSorted:k},we={row:e=>m(vl,j(e,me),{row:t.row,cell:e=>{let l;return t.cell?m(bl,j(e,fe,{style:he[e.column.key]}),Il(l=t.cell(e))?l:{default:()=>[l]}):m(bl,j(e,fe,{style:he[e.column.key]}),null)}}),header:e=>m(Rl,j(e,pe),{header:t.header,cell:e=>{let l;return t["header-cell"]?m(Sl,j(e,ge,{style:he[e.column.key]}),Il(l=t["header-cell"](e))?l:{default:()=>[l]}):m(Sl,j(e,ge,{style:he[e.column.key]}),null)}})},ye=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:a(S)}],xe={class:r.e("footer"),style:a(O)};return m("div",{class:ye,style:a(E)},[m(wl,ae,Il(we)?we:{default:()=>[we]}),m(yl,ce,Il(we)?we:{default:()=>[we]}),m(xl,ue,Il(we)?we:{default:()=>[we]}),t.footer&&m(Tl,xe,{default:t.footer}),a(W)&&m(Cl,{class:r.e("empty"),style:a(I)},{default:t.empty}),t.overlay&&m(Hl,{class:r.e("overlay")},{default:t.overlay})])}}}),Ml=i({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:R(Function)}}),Ol=t({name:"ElAutoResizer",props:Ml,setup(e,{slots:t}){const o=l("auto-resizer"),{height:r,width:n,sizer:a}=(e=>{const t=S(),l=S(0),o=S(0);let r;return O((()=>{r=F(t,(([e])=>{const{width:t,height:r}=e.contentRect,{paddingLeft:n,paddingRight:a,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(n)||0,d=Number.parseInt(a)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;l.value=t-c-d,o.value=r-u-h})).stop})),H((()=>{null==r||r()})),C([l,o],(([t,l])=>{var o;null==(o=e.onResize)||o.call(e,{width:t,height:l})})),{sizer:t,width:l,height:o}})(e),s={width:"100%",height:"100%"};return()=>{var e;return m("div",{ref:a,class:o.b(),style:s},[null==(e=t.default)?void 0:e.call(t,{height:r.value,width:n.value})])}}}),Wl=y(El),Kl=y(Ol);export{Wl as E,Kl as a};
