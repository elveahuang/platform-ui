var i=(t,u,n)=>new Promise((r,l)=>{var p=e=>{try{s(n.next(e))}catch(a){l(a)}},c=e=>{try{s(n.throw(e))}catch(a){l(a)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(p,c);s((n=n.apply(t,u)).next())});import{S as y,i as _}from"./index.min-6ZF2XBhi.js";import{a$ as d,d as O,q as k,c as m,r as w,ah as T,Y as h,a1 as g,b0 as B,b1 as C,o as A,l as b,am as K,b as S,f as q,k as x}from"./index-C_ikakZ-.js";const H=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],L=()=>H,N={element:"",content:"",toolbarKeys:L()},R=t=>d(N,t),j={modules:{toolbar:!0},theme:"snow"},Y=t=>d(j,t),z={content:"",extensions:[y]},Z=(t={})=>d(z,t),Q={class:"editor"},$=O({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(t,{emit:u}){const n=u,r=t,{locale:l}=k(),p=m(()=>l),c=w(),s=m(()=>r.value),e=T(),a=o=>i(this,null,function*(){const f={element:c.value,content:s.value,onChange:E=>{n("update:value",E.getHtml())}};e.value=new _(R(d(f,o)))}),v=()=>i(this,null,function*(){g(e.value)||e.value.destroy()});return h(s,o=>{!g(e.value)&&!B(e.value.getHtml(),o)&&(e.value.clear(),e.value.focus().insert(o))}),h(p,o=>{e.value.changeLang(o===C.ZH_CN?"zh":"en")}),A(()=>i(this,null,function*(){b("Component <<AiEditor>> mounted."),yield a(r.options).then()})),K(()=>i(this,null,function*(){b("Component <<AiEditor>> onBeforeUnmount."),yield v().then()})),(o,f)=>(S(),q("div",Q,[x("div",{ref_key:"editorRef",ref:c,class:"ai-editor"},null,512)]))}});export{$ as _,Z as a,Y as g};
