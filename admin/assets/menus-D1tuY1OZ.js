import{d as x,a as A,aO as w,o as z,l as v,b as g,e as _,w as a,h as i,i as o,j as r,t as c,C,v as L,G as S,O as N,bt as O}from"./index-CIiagBi8.js";import"./ThemeDropdown.vue_vue_type_style_index_0_scoped_8799785f_lang-iZ5X_zze.js";import{_ as u}from"./AppIcon.vue_vue_type_script_setup_true_lang-CN48qx9H.js";import{f as $,d as B,_ as D,M as U}from"./index-DkJwZ01C.js";import"./index-BXJHZmsJ.js";import{D as V}from"./dropdown-RihxqHth.js";function I(e){return e===void 0}const R={class:"!my-2 inline-block"},T={class:"ml-2"},G={class:"ml-2"},W=x({__name:"avatar-dropdown",setup(e){const t=A(),{isAuthenticated:n,user:s,logout:l}=w(),b=()=>{l().then(()=>{t.push(L.app.getLogoutSuccessUrl())})};return z(()=>{v("Component - <<AvatarDropdown>> is mounted.")}),(m,d)=>{const y=S,k=$,p=B,h=D,f=U,M=V;return g(),_(M,{placement:"bottomRight"},{overlay:a(()=>[i(f,{style:{width:"250px"}},{default:a(()=>[o(n)?(g(),_(k,{key:0},{default:a(()=>[r("span",R,c(o(s).displayName),1)]),_:1})):C("",!0),i(p),i(h,{class:"!p-2",onClick:d[0]||(d[0]=K=>o(t).push("/user-center"))},{default:a(()=>[i(o(u),{icon:"mdi:account-circle-outline"}),r("span",T,c(m.$t("common.label_user_center")),1)]),_:1}),i(p),i(h,{class:"!p-2",onClick:b},{default:a(()=>[i(o(u),{icon:"mdi:logout"}),r("span",G,c(m.$t("common.label_logout")),1)]),_:1})]),_:1})]),default:a(()=>[i(y,{shape:"circle"},{icon:a(()=>[i(o(u),{icon:"mdi:account-outline"})]),_:1})]),_:1})}}}),j=e=>e.filter(t=>I(t.enabled)||N(t.enabled)||t.enabled).map(t=>E(t));function E(e){var n;const{t}=O();return e.title=(n=e==null?void 0:e.title)!=null?n:t(e.label),e.items&&e.items.length&&e.items.length>0&&(e.items=j(e.items)),e}const X=(e,t)=>e.filter(n=>{var s;return(s=n==null?void 0:n.items)==null?void 0:s.find(l=>l.path===t)}).map(n=>n.key),Y=[{key:"workbench",label:"common.label_workbench",icon:"mdi:view-dashboard-outline",authorities:["workbench"],path:"/workbench"},{key:"dashboard",label:"common.label_dashboard",icon:"mdi:view-dashboard-outline",authorities:["dashboard"],path:"/dashboard"},{key:"home",label:"common.site_management",icon:"mdi:apps",authorities:["site"],enabled:!0,items:[{key:"announcement-management",label:"common.announcement_management",icon:"mdi:bullhorn-outline",authorities:["site:announcement"],enabled:!0,path:"/announcement/index"},{key:"poster-management",label:"common.banner_management",icon:"mdi:bullhorn-outline",authorities:["site:poster"],enabled:!0,path:"/poster/index"},{key:"product-management",label:"common.product_management",icon:"mdi:map-outline",authorities:["site:product"],enabled:!1,path:"/product/index"}]},{key:"organization",label:"common.organization_management",icon:"mdi:account-group-outline",authorities:["organization"],items:[{key:"organization-organization",title:"Organization",icon:"mdiAccountMultiple",authorities:["organization:organization"],enabled:!1,path:"/organization/index"},{key:"organization-position",title:"Position",icon:"mdiAccountMultiple",authorities:["organization:position"],enabled:!1,path:"/position/index"},{key:"organization-user",label:"common.user_management",icon:"mdiAccountMultiple",authorities:["organization:user"],enabled:!0,path:"/user/index"},{key:"organization-vip",label:"common.vip_management",icon:"mdiAccountMultiple",authorities:["organization:user"],enabled:!0,path:"/account/index"},{key:"organization-group",title:"Group",icon:"mdiAccountMultiple",authorities:["organization:group"],enabled:!1,path:"/group/index"}]},{key:"resource",label:"common.resource_management",icon:"mdi:view-dashboard-outline",authorities:["resource"],enabled:!0,items:[{key:"resource-dict",label:"common.dict_management",icon:"mdiAccountMultiple",authorities:["resource:dict"],enabled:!0,path:"/dict/index"},{key:"resource-tag",label:"标签管理",icon:"mdiAccountMultiple",authorities:["resource:tag"],enabled:!0,path:"/tag/index"},{key:"resource:area",title:"Area",icon:"mdiAccountMultiple",authorities:["resource:area"],enabled:!1,path:"/admin/area/index"},{key:"resource-attachment",title:"Attachment",icon:"mdiAccountMultiple",authorities:["resource:attachment"],enabled:!1,path:"/admin/attachment/index"},{key:"resource-label",title:"Label",icon:"mdiAccountMultiple",authorities:["resource:label"],enabled:!1,path:"/admin/label/index"},{key:"resource-message",title:"Message",icon:"mdiAccountMultiple",authorities:["resource:message"],enabled:!1,path:"/admin/message/index"}]},{key:"system",title:"系统设置",icon:"mdi:cog-outline",authorities:["system"],enabled:!0,items:[{key:"system-authority",title:"AuthorityMiddleware",icon:"mdiAccountMultiple",authorities:["system:authority"],enabled:!1,path:"/admin/authority/index"},{key:"system-role",title:"RoleModel",icon:"mdiAccountMultiple",authorities:["system:role"],enabled:!1,path:"/admin/role/index"},{key:"system-setting",title:"System Settings",icon:"mdiAccountMultiple",authorities:["system:setting"],enabled:!1,path:"/admin/system/settings"},{key:"system-user",title:"On-Line UserModel",icon:"mdiAccountMultiple",authorities:["system:user"],enabled:!1,path:"/admin/on-line-user/index"},{key:"system-logging",title:"Logging",icon:"mdiAccountMultiple",authorities:["system:logging"],enabled:!1,path:"/admin/logging/index"},{key:"system-task",title:"Task",icon:"mdiAccountMultiple",authorities:["system:task"],enabled:!1,path:"/admin/task/index"},{key:"system-application",title:"ApplicationMiddleware",icon:"mdiAccountMultiple",authorities:["system:application"],enabled:!1,path:"/admin/application/index"},{key:"system-message",title:"消息管理",authorities:["system:message"],enabled:!0,path:"/message/notice/index"},{key:"system-online-users",title:"在线用户管理",authorities:["system:online-users"],enabled:!0,path:"/online/users/index"}]},{key:"tenant",title:"Tenant",icon:"mdiSitemap",authorities:["tenant"],enabled:!1,items:[{key:"tenant-tenant",title:"Tenant",icon:"mdiViewList",authorities:["tenant:tenant"],enabled:!1,path:"/admin/tenant/index"}]}],Z=[{key:"user-center",label:"common.user_pages_user_center_title",icon:"mdi:shield-account-outline",path:"/user-center"},{key:"user-notice",label:"common.user_label_my_notice",icon:"mdi:message-outline",path:"/user-center/notice"},{key:"user-profile",label:"common.user_label_my_profile",icon:"mdi:information-outline",path:"/user-center/account"},{key:"user-password",label:"common.user_pages_change_password_title",icon:"mdi:lock-outline",path:"/user-center/password"},{key:"user-email",label:"common.user_pages_change_email_title",icon:"ant-design:mail-twotone",path:"/user-center/email"}];export{W as _,X as a,j as g,Y as m,Z as u};
