var dEe=Object.defineProperty,fEe=Object.defineProperties;var pEe=Object.getOwnPropertyDescriptors;var Iye=Object.getOwnPropertySymbols;var Rbe=Object.prototype.hasOwnProperty,Lbe=Object.prototype.propertyIsEnumerable;var Vye=(kh,Ff)=>(Ff=Symbol[kh])?Ff:Symbol.for("Symbol."+kh);var Bbe=(kh,Ff,x_)=>Ff in kh?dEe(kh,Ff,{enumerable:!0,configurable:!0,writable:!0,value:x_}):kh[Ff]=x_,qme=(kh,Ff)=>{for(var x_ in Ff||(Ff={}))Rbe.call(Ff,x_)&&Bbe(kh,x_,Ff[x_]);if(Iye)for(var x_ of Iye(Ff))Lbe.call(Ff,x_)&&Bbe(kh,x_,Ff[x_]);return kh},b_e=(kh,Ff)=>fEe(kh,pEe(Ff));var Nbe=(kh,Ff)=>{var x_={};for(var $P in kh)Rbe.call(kh,$P)&&Ff.indexOf($P)<0&&(x_[$P]=kh[$P]);if(kh!=null&&Iye)for(var $P of Iye(kh))Ff.indexOf($P)<0&&Lbe.call(kh,$P)&&(x_[$P]=kh[$P]);return x_};var o0e=(kh,Ff,x_)=>new Promise(($P,zP)=>{var eme=rme=>{try{nme(x_.next(rme))}catch(ime){zP(ime)}},tme=rme=>{try{nme(x_.throw(rme))}catch(ime){zP(ime)}},nme=rme=>rme.done?$P(rme.value):Promise.resolve(rme.value).then(eme,tme);nme((x_=x_.apply(kh,Ff)).next())}),hEe=function(kh,Ff){this[0]=kh,this[1]=Ff};var zye=kh=>{var Ff=kh[Vye("asyncIterator")],x_=!1,$P,zP={};return Ff==null?(Ff=kh[Vye("iterator")](),$P=eme=>zP[eme]=tme=>Ff[eme](tme)):(Ff=Ff.call(kh),$P=eme=>zP[eme]=tme=>{if(x_){if(x_=!1,eme==="throw")throw tme;return tme}return x_=!0,{done:!1,value:new hEe(new Promise(nme=>{var rme=Ff[eme](tme);if(!(rme instanceof Object))throw TypeError("Object expected");nme(rme)}),1)}}),zP[Vye("iterator")]=()=>zP,$P("next"),"throw"in Ff?$P("throw"):zP.throw=eme=>{throw eme},"return"in Ff&&$P("return"),zP};import{ap as merge$3,an as getDefaultExportFromCjs,d as defineComponent,r as ref,o as onMounted,l as log$2,aL as onBeforeUnmount,bI as isNull,e as openBlock,g as createElementBlock,k as createBaseVNode,_ as watch,ak as toRefs,bJ as onActivated,bK as onDeactivated,aB as h$1,$ as nextTick,j as createVNode,i as unref,aD as watchEffect,bA as Teleport,aO as reactive,bp as markRaw,bL as customRef,a0 as getCurrentInstance,bb as shallowRef,a3 as toRaw,bM as commonjsGlobal,bN as require$$0,F as Fragment$1}from"./index-3YfOv0TP.js";function OrderedMap(kh){this.content=kh}OrderedMap.prototype={constructor:OrderedMap,find:function(kh){for(var Ff=0;Ff<this.content.length;Ff+=2)if(this.content[Ff]===kh)return Ff;return-1},get:function(kh){var Ff=this.find(kh);return Ff==-1?void 0:this.content[Ff+1]},update:function(kh,Ff,x_){var $P=x_&&x_!=kh?this.remove(x_):this,zP=$P.find(kh),eme=$P.content.slice();return zP==-1?eme.push(x_||kh,Ff):(eme[zP+1]=Ff,x_&&(eme[zP]=x_)),new OrderedMap(eme)},remove:function(kh){var Ff=this.find(kh);if(Ff==-1)return this;var x_=this.content.slice();return x_.splice(Ff,2),new OrderedMap(x_)},addToStart:function(kh,Ff){return new OrderedMap([kh,Ff].concat(this.remove(kh).content))},addToEnd:function(kh,Ff){var x_=this.remove(kh).content.slice();return x_.push(kh,Ff),new OrderedMap(x_)},addBefore:function(kh,Ff,x_){var $P=this.remove(Ff),zP=$P.content.slice(),eme=$P.find(kh);return zP.splice(eme==-1?zP.length:eme,0,Ff,x_),new OrderedMap(zP)},forEach:function(kh){for(var Ff=0;Ff<this.content.length;Ff+=2)kh(this.content[Ff],this.content[Ff+1])},prepend:function(kh){return kh=OrderedMap.from(kh),kh.size?new OrderedMap(kh.content.concat(this.subtract(kh).content)):this},append:function(kh){return kh=OrderedMap.from(kh),kh.size?new OrderedMap(this.subtract(kh).content.concat(kh.content)):this},subtract:function(kh){var Ff=this;kh=OrderedMap.from(kh);for(var x_=0;x_<kh.content.length;x_+=2)Ff=Ff.remove(kh.content[x_]);return Ff},toObject:function(){var kh={};return this.forEach(function(Ff,x_){kh[Ff]=x_}),kh},get size(){return this.content.length>>1}};OrderedMap.from=function(kh){if(kh instanceof OrderedMap)return kh;var Ff=[];if(kh)for(var x_ in kh)Ff.push(x_,kh[x_]);return new OrderedMap(Ff)};function findDiffStart(kh,Ff,x_){for(let $P=0;;$P++){if($P==kh.childCount||$P==Ff.childCount)return kh.childCount==Ff.childCount?null:x_;let zP=kh.child($P),eme=Ff.child($P);if(zP==eme){x_+=zP.nodeSize;continue}if(!zP.sameMarkup(eme))return x_;if(zP.isText&&zP.text!=eme.text){for(let tme=0;zP.text[tme]==eme.text[tme];tme++)x_++;return x_}if(zP.content.size||eme.content.size){let tme=findDiffStart(zP.content,eme.content,x_+1);if(tme!=null)return tme}x_+=zP.nodeSize}}function findDiffEnd(kh,Ff,x_,$P){for(let zP=kh.childCount,eme=Ff.childCount;;){if(zP==0||eme==0)return zP==eme?null:{a:x_,b:$P};let tme=kh.child(--zP),nme=Ff.child(--eme),rme=tme.nodeSize;if(tme==nme){x_-=rme,$P-=rme;continue}if(!tme.sameMarkup(nme))return{a:x_,b:$P};if(tme.isText&&tme.text!=nme.text){let ime=0,ome=Math.min(tme.text.length,nme.text.length);for(;ime<ome&&tme.text[tme.text.length-ime-1]==nme.text[nme.text.length-ime-1];)ime++,x_--,$P--;return{a:x_,b:$P}}if(tme.content.size||nme.content.size){let ime=findDiffEnd(tme.content,nme.content,x_-1,$P-1);if(ime)return ime}x_-=rme,$P-=rme}}class Fragment{constructor(Ff,x_){if(this.content=Ff,this.size=x_||0,x_==null)for(let $P=0;$P<Ff.length;$P++)this.size+=Ff[$P].nodeSize}nodesBetween(Ff,x_,$P,zP=0,eme){for(let tme=0,nme=0;nme<x_;tme++){let rme=this.content[tme],ime=nme+rme.nodeSize;if(ime>Ff&&$P(rme,zP+nme,eme||null,tme)!==!1&&rme.content.size){let ome=nme+1;rme.nodesBetween(Math.max(0,Ff-ome),Math.min(rme.content.size,x_-ome),$P,zP+ome)}nme=ime}}descendants(Ff){this.nodesBetween(0,this.size,Ff)}textBetween(Ff,x_,$P,zP){let eme="",tme=!0;return this.nodesBetween(Ff,x_,(nme,rme)=>{nme.isText?(eme+=nme.text.slice(Math.max(Ff,rme)-rme,x_-rme),tme=!$P):nme.isLeaf?(zP?eme+=typeof zP=="function"?zP(nme):zP:nme.type.spec.leafText&&(eme+=nme.type.spec.leafText(nme)),tme=!$P):!tme&&nme.isBlock&&(eme+=$P,tme=!0)},0),eme}append(Ff){if(!Ff.size)return this;if(!this.size)return Ff;let x_=this.lastChild,$P=Ff.firstChild,zP=this.content.slice(),eme=0;for(x_.isText&&x_.sameMarkup($P)&&(zP[zP.length-1]=x_.withText(x_.text+$P.text),eme=1);eme<Ff.content.length;eme++)zP.push(Ff.content[eme]);return new Fragment(zP,this.size+Ff.size)}cut(Ff,x_=this.size){if(Ff==0&&x_==this.size)return this;let $P=[],zP=0;if(x_>Ff)for(let eme=0,tme=0;tme<x_;eme++){let nme=this.content[eme],rme=tme+nme.nodeSize;rme>Ff&&((tme<Ff||rme>x_)&&(nme.isText?nme=nme.cut(Math.max(0,Ff-tme),Math.min(nme.text.length,x_-tme)):nme=nme.cut(Math.max(0,Ff-tme-1),Math.min(nme.content.size,x_-tme-1))),$P.push(nme),zP+=nme.nodeSize),tme=rme}return new Fragment($P,zP)}cutByIndex(Ff,x_){return Ff==x_?Fragment.empty:Ff==0&&x_==this.content.length?this:new Fragment(this.content.slice(Ff,x_))}replaceChild(Ff,x_){let $P=this.content[Ff];if($P==x_)return this;let zP=this.content.slice(),eme=this.size+x_.nodeSize-$P.nodeSize;return zP[Ff]=x_,new Fragment(zP,eme)}addToStart(Ff){return new Fragment([Ff].concat(this.content),this.size+Ff.nodeSize)}addToEnd(Ff){return new Fragment(this.content.concat(Ff),this.size+Ff.nodeSize)}eq(Ff){if(this.content.length!=Ff.content.length)return!1;for(let x_=0;x_<this.content.length;x_++)if(!this.content[x_].eq(Ff.content[x_]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(Ff){let x_=this.content[Ff];if(!x_)throw new RangeError("Index "+Ff+" out of range for "+this);return x_}maybeChild(Ff){return this.content[Ff]||null}forEach(Ff){for(let x_=0,$P=0;x_<this.content.length;x_++){let zP=this.content[x_];Ff(zP,$P,x_),$P+=zP.nodeSize}}findDiffStart(Ff,x_=0){return findDiffStart(this,Ff,x_)}findDiffEnd(Ff,x_=this.size,$P=Ff.size){return findDiffEnd(this,Ff,x_,$P)}findIndex(Ff,x_=-1){if(Ff==0)return retIndex(0,Ff);if(Ff==this.size)return retIndex(this.content.length,Ff);if(Ff>this.size||Ff<0)throw new RangeError(`Position ${Ff} outside of fragment (${this})`);for(let $P=0,zP=0;;$P++){let eme=this.child($P),tme=zP+eme.nodeSize;if(tme>=Ff)return tme==Ff||x_>0?retIndex($P+1,tme):retIndex($P,zP);zP=tme}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(Ff=>Ff.toJSON()):null}static fromJSON(Ff,x_){if(!x_)return Fragment.empty;if(!Array.isArray(x_))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(x_.map(Ff.nodeFromJSON))}static fromArray(Ff){if(!Ff.length)return Fragment.empty;let x_,$P=0;for(let zP=0;zP<Ff.length;zP++){let eme=Ff[zP];$P+=eme.nodeSize,zP&&eme.isText&&Ff[zP-1].sameMarkup(eme)?(x_||(x_=Ff.slice(0,zP)),x_[x_.length-1]=eme.withText(x_[x_.length-1].text+eme.text)):x_&&x_.push(eme)}return new Fragment(x_||Ff,$P)}static from(Ff){if(!Ff)return Fragment.empty;if(Ff instanceof Fragment)return Ff;if(Array.isArray(Ff))return this.fromArray(Ff);if(Ff.attrs)return new Fragment([Ff],Ff.nodeSize);throw new RangeError("Can not convert "+Ff+" to a Fragment"+(Ff.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(kh,Ff){return found.index=kh,found.offset=Ff,found}function compareDeep(kh,Ff){if(kh===Ff)return!0;if(!(kh&&typeof kh=="object")||!(Ff&&typeof Ff=="object"))return!1;let x_=Array.isArray(kh);if(Array.isArray(Ff)!=x_)return!1;if(x_){if(kh.length!=Ff.length)return!1;for(let $P=0;$P<kh.length;$P++)if(!compareDeep(kh[$P],Ff[$P]))return!1}else{for(let $P in kh)if(!($P in Ff)||!compareDeep(kh[$P],Ff[$P]))return!1;for(let $P in Ff)if(!($P in kh))return!1}return!0}let Mark$1=class Gye{constructor(Ff,x_){this.type=Ff,this.attrs=x_}addToSet(Ff){let x_,$P=!1;for(let zP=0;zP<Ff.length;zP++){let eme=Ff[zP];if(this.eq(eme))return Ff;if(this.type.excludes(eme.type))x_||(x_=Ff.slice(0,zP));else{if(eme.type.excludes(this.type))return Ff;!$P&&eme.type.rank>this.type.rank&&(x_||(x_=Ff.slice(0,zP)),x_.push(this),$P=!0),x_&&x_.push(eme)}}return x_||(x_=Ff.slice()),$P||x_.push(this),x_}removeFromSet(Ff){for(let x_=0;x_<Ff.length;x_++)if(this.eq(Ff[x_]))return Ff.slice(0,x_).concat(Ff.slice(x_+1));return Ff}isInSet(Ff){for(let x_=0;x_<Ff.length;x_++)if(this.eq(Ff[x_]))return!0;return!1}eq(Ff){return this==Ff||this.type==Ff.type&&compareDeep(this.attrs,Ff.attrs)}toJSON(){let Ff={type:this.type.name};for(let x_ in this.attrs){Ff.attrs=this.attrs;break}return Ff}static fromJSON(Ff,x_){if(!x_)throw new RangeError("Invalid input for Mark.fromJSON");let $P=Ff.marks[x_.type];if(!$P)throw new RangeError(`There is no mark type ${x_.type} in this schema`);return $P.create(x_.attrs)}static sameSet(Ff,x_){if(Ff==x_)return!0;if(Ff.length!=x_.length)return!1;for(let $P=0;$P<Ff.length;$P++)if(!Ff[$P].eq(x_[$P]))return!1;return!0}static setFrom(Ff){if(!Ff||Array.isArray(Ff)&&Ff.length==0)return Gye.none;if(Ff instanceof Gye)return[Ff];let x_=Ff.slice();return x_.sort(($P,zP)=>$P.type.rank-zP.type.rank),x_}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(Ff,x_,$P){this.content=Ff,this.openStart=x_,this.openEnd=$P}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(Ff,x_){let $P=insertInto(this.content,Ff+this.openStart,x_);return $P&&new Slice($P,this.openStart,this.openEnd)}removeBetween(Ff,x_){return new Slice(removeRange(this.content,Ff+this.openStart,x_+this.openStart),this.openStart,this.openEnd)}eq(Ff){return this.content.eq(Ff.content)&&this.openStart==Ff.openStart&&this.openEnd==Ff.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let Ff={content:this.content.toJSON()};return this.openStart>0&&(Ff.openStart=this.openStart),this.openEnd>0&&(Ff.openEnd=this.openEnd),Ff}static fromJSON(Ff,x_){if(!x_)return Slice.empty;let $P=x_.openStart||0,zP=x_.openEnd||0;if(typeof $P!="number"||typeof zP!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(Ff,x_.content),$P,zP)}static maxOpen(Ff,x_=!0){let $P=0,zP=0;for(let eme=Ff.firstChild;eme&&!eme.isLeaf&&(x_||!eme.type.spec.isolating);eme=eme.firstChild)$P++;for(let eme=Ff.lastChild;eme&&!eme.isLeaf&&(x_||!eme.type.spec.isolating);eme=eme.lastChild)zP++;return new Slice(Ff,$P,zP)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(kh,Ff,x_){let{index:$P,offset:zP}=kh.findIndex(Ff),eme=kh.maybeChild($P),{index:tme,offset:nme}=kh.findIndex(x_);if(zP==Ff||eme.isText){if(nme!=x_&&!kh.child(tme).isText)throw new RangeError("Removing non-flat range");return kh.cut(0,Ff).append(kh.cut(x_))}if($P!=tme)throw new RangeError("Removing non-flat range");return kh.replaceChild($P,eme.copy(removeRange(eme.content,Ff-zP-1,x_-zP-1)))}function insertInto(kh,Ff,x_,$P){let{index:zP,offset:eme}=kh.findIndex(Ff),tme=kh.maybeChild(zP);if(eme==Ff||tme.isText)return $P&&!$P.canReplace(zP,zP,x_)?null:kh.cut(0,Ff).append(x_).append(kh.cut(Ff));let nme=insertInto(tme.content,Ff-eme-1,x_);return nme&&kh.replaceChild(zP,tme.copy(nme))}function replace(kh,Ff,x_){if(x_.openStart>kh.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(kh.depth-x_.openStart!=Ff.depth-x_.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(kh,Ff,x_,0)}function replaceOuter(kh,Ff,x_,$P){let zP=kh.index($P),eme=kh.node($P);if(zP==Ff.index($P)&&$P<kh.depth-x_.openStart){let tme=replaceOuter(kh,Ff,x_,$P+1);return eme.copy(eme.content.replaceChild(zP,tme))}else if(x_.content.size)if(!x_.openStart&&!x_.openEnd&&kh.depth==$P&&Ff.depth==$P){let tme=kh.parent,nme=tme.content;return close(tme,nme.cut(0,kh.parentOffset).append(x_.content).append(nme.cut(Ff.parentOffset)))}else{let{start:tme,end:nme}=prepareSliceForReplace(x_,kh);return close(eme,replaceThreeWay(kh,tme,nme,Ff,$P))}else return close(eme,replaceTwoWay(kh,Ff,$P))}function checkJoin(kh,Ff){if(!Ff.type.compatibleContent(kh.type))throw new ReplaceError("Cannot join "+Ff.type.name+" onto "+kh.type.name)}function joinable$1(kh,Ff,x_){let $P=kh.node(x_);return checkJoin($P,Ff.node(x_)),$P}function addNode(kh,Ff){let x_=Ff.length-1;x_>=0&&kh.isText&&kh.sameMarkup(Ff[x_])?Ff[x_]=kh.withText(Ff[x_].text+kh.text):Ff.push(kh)}function addRange(kh,Ff,x_,$P){let zP=(Ff||kh).node(x_),eme=0,tme=Ff?Ff.index(x_):zP.childCount;kh&&(eme=kh.index(x_),kh.depth>x_?eme++:kh.textOffset&&(addNode(kh.nodeAfter,$P),eme++));for(let nme=eme;nme<tme;nme++)addNode(zP.child(nme),$P);Ff&&Ff.depth==x_&&Ff.textOffset&&addNode(Ff.nodeBefore,$P)}function close(kh,Ff){return kh.type.checkContent(Ff),kh.copy(Ff)}function replaceThreeWay(kh,Ff,x_,$P,zP){let eme=kh.depth>zP&&joinable$1(kh,Ff,zP+1),tme=$P.depth>zP&&joinable$1(x_,$P,zP+1),nme=[];return addRange(null,kh,zP,nme),eme&&tme&&Ff.index(zP)==x_.index(zP)?(checkJoin(eme,tme),addNode(close(eme,replaceThreeWay(kh,Ff,x_,$P,zP+1)),nme)):(eme&&addNode(close(eme,replaceTwoWay(kh,Ff,zP+1)),nme),addRange(Ff,x_,zP,nme),tme&&addNode(close(tme,replaceTwoWay(x_,$P,zP+1)),nme)),addRange($P,null,zP,nme),new Fragment(nme)}function replaceTwoWay(kh,Ff,x_){let $P=[];if(addRange(null,kh,x_,$P),kh.depth>x_){let zP=joinable$1(kh,Ff,x_+1);addNode(close(zP,replaceTwoWay(kh,Ff,x_+1)),$P)}return addRange(Ff,null,x_,$P),new Fragment($P)}function prepareSliceForReplace(kh,Ff){let x_=Ff.depth-kh.openStart,zP=Ff.node(x_).copy(kh.content);for(let eme=x_-1;eme>=0;eme--)zP=Ff.node(eme).copy(Fragment.from(zP));return{start:zP.resolveNoCache(kh.openStart+x_),end:zP.resolveNoCache(zP.content.size-kh.openEnd-x_)}}class ResolvedPos{constructor(Ff,x_,$P){this.pos=Ff,this.path=x_,this.parentOffset=$P,this.depth=x_.length/3-1}resolveDepth(Ff){return Ff==null?this.depth:Ff<0?this.depth+Ff:Ff}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(Ff){return this.path[this.resolveDepth(Ff)*3]}index(Ff){return this.path[this.resolveDepth(Ff)*3+1]}indexAfter(Ff){return Ff=this.resolveDepth(Ff),this.index(Ff)+(Ff==this.depth&&!this.textOffset?0:1)}start(Ff){return Ff=this.resolveDepth(Ff),Ff==0?0:this.path[Ff*3-1]+1}end(Ff){return Ff=this.resolveDepth(Ff),this.start(Ff)+this.node(Ff).content.size}before(Ff){if(Ff=this.resolveDepth(Ff),!Ff)throw new RangeError("There is no position before the top-level node");return Ff==this.depth+1?this.pos:this.path[Ff*3-1]}after(Ff){if(Ff=this.resolveDepth(Ff),!Ff)throw new RangeError("There is no position after the top-level node");return Ff==this.depth+1?this.pos:this.path[Ff*3-1]+this.path[Ff*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let Ff=this.parent,x_=this.index(this.depth);if(x_==Ff.childCount)return null;let $P=this.pos-this.path[this.path.length-1],zP=Ff.child(x_);return $P?Ff.child(x_).cut($P):zP}get nodeBefore(){let Ff=this.index(this.depth),x_=this.pos-this.path[this.path.length-1];return x_?this.parent.child(Ff).cut(0,x_):Ff==0?null:this.parent.child(Ff-1)}posAtIndex(Ff,x_){x_=this.resolveDepth(x_);let $P=this.path[x_*3],zP=x_==0?0:this.path[x_*3-1]+1;for(let eme=0;eme<Ff;eme++)zP+=$P.child(eme).nodeSize;return zP}marks(){let Ff=this.parent,x_=this.index();if(Ff.content.size==0)return Mark$1.none;if(this.textOffset)return Ff.child(x_).marks;let $P=Ff.maybeChild(x_-1),zP=Ff.maybeChild(x_);if(!$P){let nme=$P;$P=zP,zP=nme}let eme=$P.marks;for(var tme=0;tme<eme.length;tme++)eme[tme].type.spec.inclusive===!1&&(!zP||!eme[tme].isInSet(zP.marks))&&(eme=eme[tme--].removeFromSet(eme));return eme}marksAcross(Ff){let x_=this.parent.maybeChild(this.index());if(!x_||!x_.isInline)return null;let $P=x_.marks,zP=Ff.parent.maybeChild(Ff.index());for(var eme=0;eme<$P.length;eme++)$P[eme].type.spec.inclusive===!1&&(!zP||!$P[eme].isInSet(zP.marks))&&($P=$P[eme--].removeFromSet($P));return $P}sharedDepth(Ff){for(let x_=this.depth;x_>0;x_--)if(this.start(x_)<=Ff&&this.end(x_)>=Ff)return x_;return 0}blockRange(Ff=this,x_){if(Ff.pos<this.pos)return Ff.blockRange(this);for(let $P=this.depth-(this.parent.inlineContent||this.pos==Ff.pos?1:0);$P>=0;$P--)if(Ff.pos<=this.end($P)&&(!x_||x_(this.node($P))))return new NodeRange(this,Ff,$P);return null}sameParent(Ff){return this.pos-this.parentOffset==Ff.pos-Ff.parentOffset}max(Ff){return Ff.pos>this.pos?Ff:this}min(Ff){return Ff.pos<this.pos?Ff:this}toString(){let Ff="";for(let x_=1;x_<=this.depth;x_++)Ff+=(Ff?"/":"")+this.node(x_).type.name+"_"+this.index(x_-1);return Ff+":"+this.parentOffset}static resolve(Ff,x_){if(!(x_>=0&&x_<=Ff.content.size))throw new RangeError("Position "+x_+" out of range");let $P=[],zP=0,eme=x_;for(let tme=Ff;;){let{index:nme,offset:rme}=tme.content.findIndex(eme),ime=eme-rme;if($P.push(tme,nme,zP+rme),!ime||(tme=tme.child(nme),tme.isText))break;eme=ime-1,zP+=rme+1}return new ResolvedPos(x_,$P,eme)}static resolveCached(Ff,x_){for(let zP=0;zP<resolveCache.length;zP++){let eme=resolveCache[zP];if(eme.pos==x_&&eme.doc==Ff)return eme}let $P=resolveCache[resolveCachePos]=ResolvedPos.resolve(Ff,x_);return resolveCachePos=(resolveCachePos+1)%resolveCacheSize,$P}}let resolveCache=[],resolveCachePos=0,resolveCacheSize=12;class NodeRange{constructor(Ff,x_,$P){this.$from=Ff,this.$to=x_,this.depth=$P}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$3=class Qye{constructor(Ff,x_,$P,zP=Mark$1.none){this.type=Ff,this.attrs=x_,this.marks=zP,this.content=$P||Fragment.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(Ff){return this.content.child(Ff)}maybeChild(Ff){return this.content.maybeChild(Ff)}forEach(Ff){this.content.forEach(Ff)}nodesBetween(Ff,x_,$P,zP=0){this.content.nodesBetween(Ff,x_,$P,zP,this)}descendants(Ff){this.nodesBetween(0,this.content.size,Ff)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(Ff,x_,$P,zP){return this.content.textBetween(Ff,x_,$P,zP)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(Ff){return this==Ff||this.sameMarkup(Ff)&&this.content.eq(Ff.content)}sameMarkup(Ff){return this.hasMarkup(Ff.type,Ff.attrs,Ff.marks)}hasMarkup(Ff,x_,$P){return this.type==Ff&&compareDeep(this.attrs,x_||Ff.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,$P||Mark$1.none)}copy(Ff=null){return Ff==this.content?this:new Qye(this.type,this.attrs,Ff,this.marks)}mark(Ff){return Ff==this.marks?this:new Qye(this.type,this.attrs,this.content,Ff)}cut(Ff,x_=this.content.size){return Ff==0&&x_==this.content.size?this:this.copy(this.content.cut(Ff,x_))}slice(Ff,x_=this.content.size,$P=!1){if(Ff==x_)return Slice.empty;let zP=this.resolve(Ff),eme=this.resolve(x_),tme=$P?0:zP.sharedDepth(x_),nme=zP.start(tme),ime=zP.node(tme).content.cut(zP.pos-nme,eme.pos-nme);return new Slice(ime,zP.depth-tme,eme.depth-tme)}replace(Ff,x_,$P){return replace(this.resolve(Ff),this.resolve(x_),$P)}nodeAt(Ff){for(let x_=this;;){let{index:$P,offset:zP}=x_.content.findIndex(Ff);if(x_=x_.maybeChild($P),!x_)return null;if(zP==Ff||x_.isText)return x_;Ff-=zP+1}}childAfter(Ff){let{index:x_,offset:$P}=this.content.findIndex(Ff);return{node:this.content.maybeChild(x_),index:x_,offset:$P}}childBefore(Ff){if(Ff==0)return{node:null,index:0,offset:0};let{index:x_,offset:$P}=this.content.findIndex(Ff);if($P<Ff)return{node:this.content.child(x_),index:x_,offset:$P};let zP=this.content.child(x_-1);return{node:zP,index:x_-1,offset:$P-zP.nodeSize}}resolve(Ff){return ResolvedPos.resolveCached(this,Ff)}resolveNoCache(Ff){return ResolvedPos.resolve(this,Ff)}rangeHasMark(Ff,x_,$P){let zP=!1;return x_>Ff&&this.nodesBetween(Ff,x_,eme=>($P.isInSet(eme.marks)&&(zP=!0),!zP)),zP}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let Ff=this.type.name;return this.content.size&&(Ff+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,Ff)}contentMatchAt(Ff){let x_=this.type.contentMatch.matchFragment(this.content,0,Ff);if(!x_)throw new Error("Called contentMatchAt on a node with invalid content");return x_}canReplace(Ff,x_,$P=Fragment.empty,zP=0,eme=$P.childCount){let tme=this.contentMatchAt(Ff).matchFragment($P,zP,eme),nme=tme&&tme.matchFragment(this.content,x_);if(!nme||!nme.validEnd)return!1;for(let rme=zP;rme<eme;rme++)if(!this.type.allowsMarks($P.child(rme).marks))return!1;return!0}canReplaceWith(Ff,x_,$P,zP){if(zP&&!this.type.allowsMarks(zP))return!1;let eme=this.contentMatchAt(Ff).matchType($P),tme=eme&&eme.matchFragment(this.content,x_);return tme?tme.validEnd:!1}canAppend(Ff){return Ff.content.size?this.canReplace(this.childCount,this.childCount,Ff.content):this.type.compatibleContent(Ff.type)}check(){this.type.checkContent(this.content);let Ff=Mark$1.none;for(let x_=0;x_<this.marks.length;x_++)Ff=this.marks[x_].addToSet(Ff);if(!Mark$1.sameSet(Ff,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(x_=>x_.type.name)}`);this.content.forEach(x_=>x_.check())}toJSON(){let Ff={type:this.type.name};for(let x_ in this.attrs){Ff.attrs=this.attrs;break}return this.content.size&&(Ff.content=this.content.toJSON()),this.marks.length&&(Ff.marks=this.marks.map(x_=>x_.toJSON())),Ff}static fromJSON(Ff,x_){if(!x_)throw new RangeError("Invalid input for Node.fromJSON");let $P=null;if(x_.marks){if(!Array.isArray(x_.marks))throw new RangeError("Invalid mark data for Node.fromJSON");$P=x_.marks.map(Ff.markFromJSON)}if(x_.type=="text"){if(typeof x_.text!="string")throw new RangeError("Invalid text node in JSON");return Ff.text(x_.text,$P)}let zP=Fragment.fromJSON(Ff,x_.content);return Ff.nodeType(x_.type).create(x_.attrs,zP,$P)}};Node$3.prototype.text=void 0;class TextNode extends Node$3{constructor(Ff,x_,$P,zP){if(super(Ff,x_,null,zP),!$P)throw new RangeError("Empty text nodes are not allowed");this.text=$P}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(Ff,x_){return this.text.slice(Ff,x_)}get nodeSize(){return this.text.length}mark(Ff){return Ff==this.marks?this:new TextNode(this.type,this.attrs,this.text,Ff)}withText(Ff){return Ff==this.text?this:new TextNode(this.type,this.attrs,Ff,this.marks)}cut(Ff=0,x_=this.text.length){return Ff==0&&x_==this.text.length?this:this.withText(this.text.slice(Ff,x_))}eq(Ff){return this.sameMarkup(Ff)&&this.text==Ff.text}toJSON(){let Ff=super.toJSON();return Ff.text=this.text,Ff}}function wrapMarks(kh,Ff){for(let x_=kh.length-1;x_>=0;x_--)Ff=kh[x_].type.name+"("+Ff+")";return Ff}class ContentMatch{constructor(Ff){this.validEnd=Ff,this.next=[],this.wrapCache=[]}static parse(Ff,x_){let $P=new TokenStream(Ff,x_);if($P.next==null)return ContentMatch.empty;let zP=parseExpr($P);$P.next&&$P.err("Unexpected trailing text");let eme=dfa(nfa(zP));return checkForDeadEnds(eme,$P),eme}matchType(Ff){for(let x_=0;x_<this.next.length;x_++)if(this.next[x_].type==Ff)return this.next[x_].next;return null}matchFragment(Ff,x_=0,$P=Ff.childCount){let zP=this;for(let eme=x_;zP&&eme<$P;eme++)zP=zP.matchType(Ff.child(eme).type);return zP}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let Ff=0;Ff<this.next.length;Ff++){let{type:x_}=this.next[Ff];if(!(x_.isText||x_.hasRequiredAttrs()))return x_}return null}compatible(Ff){for(let x_=0;x_<this.next.length;x_++)for(let $P=0;$P<Ff.next.length;$P++)if(this.next[x_].type==Ff.next[$P].type)return!0;return!1}fillBefore(Ff,x_=!1,$P=0){let zP=[this];function eme(tme,nme){let rme=tme.matchFragment(Ff,$P);if(rme&&(!x_||rme.validEnd))return Fragment.from(nme.map(ime=>ime.createAndFill()));for(let ime=0;ime<tme.next.length;ime++){let{type:ome,next:sme}=tme.next[ime];if(!(ome.isText||ome.hasRequiredAttrs())&&zP.indexOf(sme)==-1){zP.push(sme);let ame=eme(sme,nme.concat(ome));if(ame)return ame}}return null}return eme(this,[])}findWrapping(Ff){for(let $P=0;$P<this.wrapCache.length;$P+=2)if(this.wrapCache[$P]==Ff)return this.wrapCache[$P+1];let x_=this.computeWrapping(Ff);return this.wrapCache.push(Ff,x_),x_}computeWrapping(Ff){let x_=Object.create(null),$P=[{match:this,type:null,via:null}];for(;$P.length;){let zP=$P.shift(),eme=zP.match;if(eme.matchType(Ff)){let tme=[];for(let nme=zP;nme.type;nme=nme.via)tme.push(nme.type);return tme.reverse()}for(let tme=0;tme<eme.next.length;tme++){let{type:nme,next:rme}=eme.next[tme];!nme.isLeaf&&!nme.hasRequiredAttrs()&&!(nme.name in x_)&&(!zP.type||rme.validEnd)&&($P.push({match:nme.contentMatch,type:nme,via:zP}),x_[nme.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(Ff){if(Ff>=this.next.length)throw new RangeError(`There's no ${Ff}th edge in this content match`);return this.next[Ff]}toString(){let Ff=[];function x_($P){Ff.push($P);for(let zP=0;zP<$P.next.length;zP++)Ff.indexOf($P.next[zP].next)==-1&&x_($P.next[zP].next)}return x_(this),Ff.map(($P,zP)=>{let eme=zP+($P.validEnd?"*":" ")+" ";for(let tme=0;tme<$P.next.length;tme++)eme+=(tme?", ":"")+$P.next[tme].type.name+"->"+Ff.indexOf($P.next[tme].next);return eme}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(Ff,x_){this.string=Ff,this.nodeTypes=x_,this.inline=null,this.pos=0,this.tokens=Ff.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(Ff){return this.next==Ff&&(this.pos++||!0)}err(Ff){throw new SyntaxError(Ff+" (in content expression '"+this.string+"')")}}function parseExpr(kh){let Ff=[];do Ff.push(parseExprSeq(kh));while(kh.eat("|"));return Ff.length==1?Ff[0]:{type:"choice",exprs:Ff}}function parseExprSeq(kh){let Ff=[];do Ff.push(parseExprSubscript(kh));while(kh.next&&kh.next!=")"&&kh.next!="|");return Ff.length==1?Ff[0]:{type:"seq",exprs:Ff}}function parseExprSubscript(kh){let Ff=parseExprAtom(kh);for(;;)if(kh.eat("+"))Ff={type:"plus",expr:Ff};else if(kh.eat("*"))Ff={type:"star",expr:Ff};else if(kh.eat("?"))Ff={type:"opt",expr:Ff};else if(kh.eat("{"))Ff=parseExprRange(kh,Ff);else break;return Ff}function parseNum(kh){/\D/.test(kh.next)&&kh.err("Expected number, got '"+kh.next+"'");let Ff=Number(kh.next);return kh.pos++,Ff}function parseExprRange(kh,Ff){let x_=parseNum(kh),$P=x_;return kh.eat(",")&&(kh.next!="}"?$P=parseNum(kh):$P=-1),kh.eat("}")||kh.err("Unclosed braced range"),{type:"range",min:x_,max:$P,expr:Ff}}function resolveName(kh,Ff){let x_=kh.nodeTypes,$P=x_[Ff];if($P)return[$P];let zP=[];for(let eme in x_){let tme=x_[eme];tme.groups.indexOf(Ff)>-1&&zP.push(tme)}return zP.length==0&&kh.err("No node type or group '"+Ff+"' found"),zP}function parseExprAtom(kh){if(kh.eat("(")){let Ff=parseExpr(kh);return kh.eat(")")||kh.err("Missing closing paren"),Ff}else if(/\W/.test(kh.next))kh.err("Unexpected token '"+kh.next+"'");else{let Ff=resolveName(kh,kh.next).map(x_=>(kh.inline==null?kh.inline=x_.isInline:kh.inline!=x_.isInline&&kh.err("Mixing inline and block content"),{type:"name",value:x_}));return kh.pos++,Ff.length==1?Ff[0]:{type:"choice",exprs:Ff}}}function nfa(kh){let Ff=[[]];return zP(eme(kh,0),x_()),Ff;function x_(){return Ff.push([])-1}function $P(tme,nme,rme){let ime={term:rme,to:nme};return Ff[tme].push(ime),ime}function zP(tme,nme){tme.forEach(rme=>rme.to=nme)}function eme(tme,nme){if(tme.type=="choice")return tme.exprs.reduce((rme,ime)=>rme.concat(eme(ime,nme)),[]);if(tme.type=="seq")for(let rme=0;;rme++){let ime=eme(tme.exprs[rme],nme);if(rme==tme.exprs.length-1)return ime;zP(ime,nme=x_())}else if(tme.type=="star"){let rme=x_();return $P(nme,rme),zP(eme(tme.expr,rme),rme),[$P(rme)]}else if(tme.type=="plus"){let rme=x_();return zP(eme(tme.expr,nme),rme),zP(eme(tme.expr,rme),rme),[$P(rme)]}else{if(tme.type=="opt")return[$P(nme)].concat(eme(tme.expr,nme));if(tme.type=="range"){let rme=nme;for(let ime=0;ime<tme.min;ime++){let ome=x_();zP(eme(tme.expr,rme),ome),rme=ome}if(tme.max==-1)zP(eme(tme.expr,rme),rme);else for(let ime=tme.min;ime<tme.max;ime++){let ome=x_();$P(rme,ome),zP(eme(tme.expr,rme),ome),rme=ome}return[$P(rme)]}else{if(tme.type=="name")return[$P(nme,void 0,tme.value)];throw new Error("Unknown expr type")}}}}function cmp(kh,Ff){return Ff-kh}function nullFrom(kh,Ff){let x_=[];return $P(Ff),x_.sort(cmp);function $P(zP){let eme=kh[zP];if(eme.length==1&&!eme[0].term)return $P(eme[0].to);x_.push(zP);for(let tme=0;tme<eme.length;tme++){let{term:nme,to:rme}=eme[tme];!nme&&x_.indexOf(rme)==-1&&$P(rme)}}}function dfa(kh){let Ff=Object.create(null);return x_(nullFrom(kh,0));function x_($P){let zP=[];$P.forEach(tme=>{kh[tme].forEach(({term:nme,to:rme})=>{if(!nme)return;let ime;for(let ome=0;ome<zP.length;ome++)zP[ome][0]==nme&&(ime=zP[ome][1]);nullFrom(kh,rme).forEach(ome=>{ime||zP.push([nme,ime=[]]),ime.indexOf(ome)==-1&&ime.push(ome)})})});let eme=Ff[$P.join(",")]=new ContentMatch($P.indexOf(kh.length-1)>-1);for(let tme=0;tme<zP.length;tme++){let nme=zP[tme][1].sort(cmp);eme.next.push({type:zP[tme][0],next:Ff[nme.join(",")]||x_(nme)})}return eme}}function checkForDeadEnds(kh,Ff){for(let x_=0,$P=[kh];x_<$P.length;x_++){let zP=$P[x_],eme=!zP.validEnd,tme=[];for(let nme=0;nme<zP.next.length;nme++){let{type:rme,next:ime}=zP.next[nme];tme.push(rme.name),eme&&!(rme.isText||rme.hasRequiredAttrs())&&(eme=!1),$P.indexOf(ime)==-1&&$P.push(ime)}eme&&Ff.err("Only non-generatable nodes ("+tme.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(kh){let Ff=Object.create(null);for(let x_ in kh){let $P=kh[x_];if(!$P.hasDefault)return null;Ff[x_]=$P.default}return Ff}function computeAttrs(kh,Ff){let x_=Object.create(null);for(let $P in kh){let zP=Ff&&Ff[$P];if(zP===void 0){let eme=kh[$P];if(eme.hasDefault)zP=eme.default;else throw new RangeError("No value supplied for attribute "+$P)}x_[$P]=zP}return x_}function initAttrs(kh){let Ff=Object.create(null);if(kh)for(let x_ in kh)Ff[x_]=new Attribute(kh[x_]);return Ff}let NodeType$2=class Fbe{constructor(Ff,x_,$P){this.name=Ff,this.schema=x_,this.spec=$P,this.markSet=null,this.groups=$P.group?$P.group.split(" "):[],this.attrs=initAttrs($P.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!($P.inline||Ff=="text"),this.isText=Ff=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let Ff in this.attrs)if(this.attrs[Ff].isRequired)return!0;return!1}compatibleContent(Ff){return this==Ff||this.contentMatch.compatible(Ff.contentMatch)}computeAttrs(Ff){return!Ff&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,Ff)}create(Ff=null,x_,$P){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$3(this,this.computeAttrs(Ff),Fragment.from(x_),Mark$1.setFrom($P))}createChecked(Ff=null,x_,$P){return x_=Fragment.from(x_),this.checkContent(x_),new Node$3(this,this.computeAttrs(Ff),x_,Mark$1.setFrom($P))}createAndFill(Ff=null,x_,$P){if(Ff=this.computeAttrs(Ff),x_=Fragment.from(x_),x_.size){let tme=this.contentMatch.fillBefore(x_);if(!tme)return null;x_=tme.append(x_)}let zP=this.contentMatch.matchFragment(x_),eme=zP&&zP.fillBefore(Fragment.empty,!0);return eme?new Node$3(this,Ff,x_.append(eme),Mark$1.setFrom($P)):null}validContent(Ff){let x_=this.contentMatch.matchFragment(Ff);if(!x_||!x_.validEnd)return!1;for(let $P=0;$P<Ff.childCount;$P++)if(!this.allowsMarks(Ff.child($P).marks))return!1;return!0}checkContent(Ff){if(!this.validContent(Ff))throw new RangeError(`Invalid content for node ${this.name}: ${Ff.toString().slice(0,50)}`)}allowsMarkType(Ff){return this.markSet==null||this.markSet.indexOf(Ff)>-1}allowsMarks(Ff){if(this.markSet==null)return!0;for(let x_=0;x_<Ff.length;x_++)if(!this.allowsMarkType(Ff[x_].type))return!1;return!0}allowedMarks(Ff){if(this.markSet==null)return Ff;let x_;for(let $P=0;$P<Ff.length;$P++)this.allowsMarkType(Ff[$P].type)?x_&&x_.push(Ff[$P]):x_||(x_=Ff.slice(0,$P));return x_?x_.length?x_:Mark$1.none:Ff}static compile(Ff,x_){let $P=Object.create(null);Ff.forEach((eme,tme)=>$P[eme]=new Fbe(eme,x_,tme));let zP=x_.spec.topNode||"doc";if(!$P[zP])throw new RangeError("Schema is missing its top node type ('"+zP+"')");if(!$P.text)throw new RangeError("Every schema needs a 'text' type");for(let eme in $P.text.attrs)throw new RangeError("The text node type should not have attributes");return $P}};class Attribute{constructor(Ff){this.hasDefault=Object.prototype.hasOwnProperty.call(Ff,"default"),this.default=Ff.default}get isRequired(){return!this.hasDefault}}class MarkType{constructor(Ff,x_,$P,zP){this.name=Ff,this.rank=x_,this.schema=$P,this.spec=zP,this.attrs=initAttrs(zP.attrs),this.excluded=null;let eme=defaultAttrs(this.attrs);this.instance=eme?new Mark$1(this,eme):null}create(Ff=null){return!Ff&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,Ff))}static compile(Ff,x_){let $P=Object.create(null),zP=0;return Ff.forEach((eme,tme)=>$P[eme]=new MarkType(eme,zP++,x_,tme)),$P}removeFromSet(Ff){for(var x_=0;x_<Ff.length;x_++)Ff[x_].type==this&&(Ff=Ff.slice(0,x_).concat(Ff.slice(x_+1)),x_--);return Ff}isInSet(Ff){for(let x_=0;x_<Ff.length;x_++)if(Ff[x_].type==this)return Ff[x_]}excludes(Ff){return this.excluded.indexOf(Ff)>-1}}class Schema{constructor(Ff){this.cached=Object.create(null);let x_=this.spec={};for(let zP in Ff)x_[zP]=Ff[zP];x_.nodes=OrderedMap.from(Ff.nodes),x_.marks=OrderedMap.from(Ff.marks||{}),this.nodes=NodeType$2.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let $P=Object.create(null);for(let zP in this.nodes){if(zP in this.marks)throw new RangeError(zP+" can not be both a node and a mark");let eme=this.nodes[zP],tme=eme.spec.content||"",nme=eme.spec.marks;eme.contentMatch=$P[tme]||($P[tme]=ContentMatch.parse(tme,this.nodes)),eme.inlineContent=eme.contentMatch.inlineContent,eme.markSet=nme=="_"?null:nme?gatherMarks(this,nme.split(" ")):nme==""||!eme.inlineContent?[]:null}for(let zP in this.marks){let eme=this.marks[zP],tme=eme.spec.excludes;eme.excluded=tme==null?[eme]:tme==""?[]:gatherMarks(this,tme.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(Ff,x_=null,$P,zP){if(typeof Ff=="string")Ff=this.nodeType(Ff);else if(Ff instanceof NodeType$2){if(Ff.schema!=this)throw new RangeError("Node type from different schema used ("+Ff.name+")")}else throw new RangeError("Invalid node type: "+Ff);return Ff.createChecked(x_,$P,zP)}text(Ff,x_){let $P=this.nodes.text;return new TextNode($P,$P.defaultAttrs,Ff,Mark$1.setFrom(x_))}mark(Ff,x_){return typeof Ff=="string"&&(Ff=this.marks[Ff]),Ff.create(x_)}nodeFromJSON(Ff){return Node$3.fromJSON(this,Ff)}markFromJSON(Ff){return Mark$1.fromJSON(this,Ff)}nodeType(Ff){let x_=this.nodes[Ff];if(!x_)throw new RangeError("Unknown node type: "+Ff);return x_}}function gatherMarks(kh,Ff){let x_=[];for(let $P=0;$P<Ff.length;$P++){let zP=Ff[$P],eme=kh.marks[zP],tme=eme;if(eme)x_.push(eme);else for(let nme in kh.marks){let rme=kh.marks[nme];(zP=="_"||rme.spec.group&&rme.spec.group.split(" ").indexOf(zP)>-1)&&x_.push(tme=rme)}if(!tme)throw new SyntaxError("Unknown mark type: '"+Ff[$P]+"'")}return x_}let DOMParser$2=class Xye{constructor(Ff,x_){this.schema=Ff,this.rules=x_,this.tags=[],this.styles=[],x_.forEach($P=>{$P.tag?this.tags.push($P):$P.style&&this.styles.push($P)}),this.normalizeLists=!this.tags.some($P=>{if(!/^(ul|ol)\b/.test($P.tag)||!$P.node)return!1;let zP=Ff.nodes[$P.node];return zP.contentMatch.matchType(zP)})}parse(Ff,x_={}){let $P=new ParseContext(this,x_,!1);return $P.addAll(Ff,x_.from,x_.to),$P.finish()}parseSlice(Ff,x_={}){let $P=new ParseContext(this,x_,!0);return $P.addAll(Ff,x_.from,x_.to),Slice.maxOpen($P.finish())}matchTag(Ff,x_,$P){for(let zP=$P?this.tags.indexOf($P)+1:0;zP<this.tags.length;zP++){let eme=this.tags[zP];if(matches(Ff,eme.tag)&&(eme.namespace===void 0||Ff.namespaceURI==eme.namespace)&&(!eme.context||x_.matchesContext(eme.context))){if(eme.getAttrs){let tme=eme.getAttrs(Ff);if(tme===!1)continue;eme.attrs=tme||void 0}return eme}}}matchStyle(Ff,x_,$P,zP){for(let eme=zP?this.styles.indexOf(zP)+1:0;eme<this.styles.length;eme++){let tme=this.styles[eme],nme=tme.style;if(!(nme.indexOf(Ff)!=0||tme.context&&!$P.matchesContext(tme.context)||nme.length>Ff.length&&(nme.charCodeAt(Ff.length)!=61||nme.slice(Ff.length+1)!=x_))){if(tme.getAttrs){let rme=tme.getAttrs(x_);if(rme===!1)continue;tme.attrs=rme||void 0}return tme}}}static schemaRules(Ff){let x_=[];function $P(zP){let eme=zP.priority==null?50:zP.priority,tme=0;for(;tme<x_.length;tme++){let nme=x_[tme];if((nme.priority==null?50:nme.priority)<eme)break}x_.splice(tme,0,zP)}for(let zP in Ff.marks){let eme=Ff.marks[zP].spec.parseDOM;eme&&eme.forEach(tme=>{$P(tme=copy$1(tme)),tme.mark||tme.ignore||tme.clearMark||(tme.mark=zP)})}for(let zP in Ff.nodes){let eme=Ff.nodes[zP].spec.parseDOM;eme&&eme.forEach(tme=>{$P(tme=copy$1(tme)),tme.node||tme.ignore||tme.mark||(tme.node=zP)})}return x_}static fromSchema(Ff){return Ff.cached.domParser||(Ff.cached.domParser=new Xye(Ff,Xye.schemaRules(Ff)))}};const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(kh,Ff,x_){return Ff!=null?(Ff?OPT_PRESERVE_WS:0)|(Ff==="full"?OPT_PRESERVE_WS_FULL:0):kh&&kh.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:x_&~OPT_OPEN_LEFT}class NodeContext{constructor(Ff,x_,$P,zP,eme,tme,nme){this.type=Ff,this.attrs=x_,this.marks=$P,this.pendingMarks=zP,this.solid=eme,this.options=nme,this.content=[],this.activeMarks=Mark$1.none,this.stashMarks=[],this.match=tme||(nme&OPT_OPEN_LEFT?null:Ff.contentMatch)}findWrapping(Ff){if(!this.match){if(!this.type)return[];let x_=this.type.contentMatch.fillBefore(Fragment.from(Ff));if(x_)this.match=this.type.contentMatch.matchFragment(x_);else{let $P=this.type.contentMatch,zP;return(zP=$P.findWrapping(Ff.type))?(this.match=$P,zP):null}}return this.match.findWrapping(Ff.type)}finish(Ff){if(!(this.options&OPT_PRESERVE_WS)){let $P=this.content[this.content.length-1],zP;if($P&&$P.isText&&(zP=/[ \t\r\n\u000c]+$/.exec($P.text))){let eme=$P;$P.text.length==zP[0].length?this.content.pop():this.content[this.content.length-1]=eme.withText(eme.text.slice(0,eme.text.length-zP[0].length))}}let x_=Fragment.from(this.content);return!Ff&&this.match&&(x_=x_.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,x_,this.marks):x_}popFromStashMark(Ff){for(let x_=this.stashMarks.length-1;x_>=0;x_--)if(Ff.eq(this.stashMarks[x_]))return this.stashMarks.splice(x_,1)[0]}applyPending(Ff){for(let x_=0,$P=this.pendingMarks;x_<$P.length;x_++){let zP=$P[x_];(this.type?this.type.allowsMarkType(zP.type):markMayApply(zP.type,Ff))&&!zP.isInSet(this.activeMarks)&&(this.activeMarks=zP.addToSet(this.activeMarks),this.pendingMarks=zP.removeFromSet(this.pendingMarks))}}inlineContext(Ff){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:Ff.parentNode&&!blockTags.hasOwnProperty(Ff.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(Ff,x_,$P){this.parser=Ff,this.options=x_,this.isOpen=$P,this.open=0;let zP=x_.topNode,eme,tme=wsOptionsFor(null,x_.preserveWhitespace,0)|($P?OPT_OPEN_LEFT:0);zP?eme=new NodeContext(zP.type,zP.attrs,Mark$1.none,Mark$1.none,!0,x_.topMatch||zP.type.contentMatch,tme):$P?eme=new NodeContext(null,null,Mark$1.none,Mark$1.none,!0,null,tme):eme=new NodeContext(Ff.schema.topNodeType,null,Mark$1.none,Mark$1.none,!0,null,tme),this.nodes=[eme],this.find=x_.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(Ff){Ff.nodeType==3?this.addTextNode(Ff):Ff.nodeType==1&&this.addElement(Ff)}withStyleRules(Ff,x_){let $P=Ff.getAttribute("style");if(!$P)return x_();let zP=this.readStyles(parseStyles($P));if(!zP)return;let[eme,tme]=zP,nme=this.top;for(let rme=0;rme<tme.length;rme++)this.removePendingMark(tme[rme],nme);for(let rme=0;rme<eme.length;rme++)this.addPendingMark(eme[rme]);x_();for(let rme=0;rme<eme.length;rme++)this.removePendingMark(eme[rme],nme);for(let rme=0;rme<tme.length;rme++)this.addPendingMark(tme[rme])}addTextNode(Ff){let x_=Ff.nodeValue,$P=this.top;if($P.options&OPT_PRESERVE_WS_FULL||$P.inlineContext(Ff)||/[^ \t\r\n\u000c]/.test(x_)){if($P.options&OPT_PRESERVE_WS)$P.options&OPT_PRESERVE_WS_FULL?x_=x_.replace(/\r\n?/g,`
`):x_=x_.replace(/\r?\n|\r/g," ");else if(x_=x_.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(x_)&&this.open==this.nodes.length-1){let zP=$P.content[$P.content.length-1],eme=Ff.previousSibling;(!zP||eme&&eme.nodeName=="BR"||zP.isText&&/[ \t\r\n\u000c]$/.test(zP.text))&&(x_=x_.slice(1))}x_&&this.insertNode(this.parser.schema.text(x_)),this.findInText(Ff)}else this.findInside(Ff)}addElement(Ff,x_){let $P=Ff.nodeName.toLowerCase(),zP;listTags.hasOwnProperty($P)&&this.parser.normalizeLists&&normalizeList(Ff);let eme=this.options.ruleFromNode&&this.options.ruleFromNode(Ff)||(zP=this.parser.matchTag(Ff,this,x_));if(eme?eme.ignore:ignoreTags.hasOwnProperty($P))this.findInside(Ff),this.ignoreFallback(Ff);else if(!eme||eme.skip||eme.closeParent){eme&&eme.closeParent?this.open=Math.max(0,this.open-1):eme&&eme.skip.nodeType&&(Ff=eme.skip);let tme,nme=this.top,rme=this.needsBlock;if(blockTags.hasOwnProperty($P))nme.content.length&&nme.content[0].isInline&&this.open&&(this.open--,nme=this.top),tme=!0,nme.type||(this.needsBlock=!0);else if(!Ff.firstChild){this.leafFallback(Ff);return}eme&&eme.skip?this.addAll(Ff):this.withStyleRules(Ff,()=>this.addAll(Ff)),tme&&this.sync(nme),this.needsBlock=rme}else this.withStyleRules(Ff,()=>{this.addElementByRule(Ff,eme,eme.consuming===!1?zP:void 0)})}leafFallback(Ff){Ff.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(Ff.ownerDocument.createTextNode(`
`))}ignoreFallback(Ff){Ff.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(Ff){let x_=Mark$1.none,$P=Mark$1.none;for(let zP=0;zP<Ff.length;zP+=2)for(let eme=void 0;;){let tme=this.parser.matchStyle(Ff[zP],Ff[zP+1],this,eme);if(!tme)break;if(tme.ignore)return null;if(tme.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(nme=>{tme.clearMark(nme)&&($P=nme.addToSet($P))}):x_=this.parser.schema.marks[tme.mark].create(tme.attrs).addToSet(x_),tme.consuming===!1)eme=tme;else break}return[x_,$P]}addElementByRule(Ff,x_,$P){let zP,eme,tme;x_.node?(eme=this.parser.schema.nodes[x_.node],eme.isLeaf?this.insertNode(eme.create(x_.attrs))||this.leafFallback(Ff):zP=this.enter(eme,x_.attrs||null,x_.preserveWhitespace)):(tme=this.parser.schema.marks[x_.mark].create(x_.attrs),this.addPendingMark(tme));let nme=this.top;if(eme&&eme.isLeaf)this.findInside(Ff);else if($P)this.addElement(Ff,$P);else if(x_.getContent)this.findInside(Ff),x_.getContent(Ff,this.parser.schema).forEach(rme=>this.insertNode(rme));else{let rme=Ff;typeof x_.contentElement=="string"?rme=Ff.querySelector(x_.contentElement):typeof x_.contentElement=="function"?rme=x_.contentElement(Ff):x_.contentElement&&(rme=x_.contentElement),this.findAround(Ff,rme,!0),this.addAll(rme)}zP&&this.sync(nme)&&this.open--,tme&&this.removePendingMark(tme,nme)}addAll(Ff,x_,$P){let zP=x_||0;for(let eme=x_?Ff.childNodes[x_]:Ff.firstChild,tme=$P==null?null:Ff.childNodes[$P];eme!=tme;eme=eme.nextSibling,++zP)this.findAtPoint(Ff,zP),this.addDOM(eme);this.findAtPoint(Ff,zP)}findPlace(Ff){let x_,$P;for(let zP=this.open;zP>=0;zP--){let eme=this.nodes[zP],tme=eme.findWrapping(Ff);if(tme&&(!x_||x_.length>tme.length)&&(x_=tme,$P=eme,!tme.length)||eme.solid)break}if(!x_)return!1;this.sync($P);for(let zP=0;zP<x_.length;zP++)this.enterInner(x_[zP],null,!1);return!0}insertNode(Ff){if(Ff.isInline&&this.needsBlock&&!this.top.type){let x_=this.textblockFromContext();x_&&this.enterInner(x_)}if(this.findPlace(Ff)){this.closeExtra();let x_=this.top;x_.applyPending(Ff.type),x_.match&&(x_.match=x_.match.matchType(Ff.type));let $P=x_.activeMarks;for(let zP=0;zP<Ff.marks.length;zP++)(!x_.type||x_.type.allowsMarkType(Ff.marks[zP].type))&&($P=Ff.marks[zP].addToSet($P));return x_.content.push(Ff.mark($P)),!0}return!1}enter(Ff,x_,$P){let zP=this.findPlace(Ff.create(x_));return zP&&this.enterInner(Ff,x_,!0,$P),zP}enterInner(Ff,x_=null,$P=!1,zP){this.closeExtra();let eme=this.top;eme.applyPending(Ff),eme.match=eme.match&&eme.match.matchType(Ff);let tme=wsOptionsFor(Ff,zP,eme.options);eme.options&OPT_OPEN_LEFT&&eme.content.length==0&&(tme|=OPT_OPEN_LEFT),this.nodes.push(new NodeContext(Ff,x_,eme.activeMarks,eme.pendingMarks,$P,null,tme)),this.open++}closeExtra(Ff=!1){let x_=this.nodes.length-1;if(x_>this.open){for(;x_>this.open;x_--)this.nodes[x_-1].content.push(this.nodes[x_].finish(Ff));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(Ff){for(let x_=this.open;x_>=0;x_--)if(this.nodes[x_]==Ff)return this.open=x_,!0;return!1}get currentPos(){this.closeExtra();let Ff=0;for(let x_=this.open;x_>=0;x_--){let $P=this.nodes[x_].content;for(let zP=$P.length-1;zP>=0;zP--)Ff+=$P[zP].nodeSize;x_&&Ff++}return Ff}findAtPoint(Ff,x_){if(this.find)for(let $P=0;$P<this.find.length;$P++)this.find[$P].node==Ff&&this.find[$P].offset==x_&&(this.find[$P].pos=this.currentPos)}findInside(Ff){if(this.find)for(let x_=0;x_<this.find.length;x_++)this.find[x_].pos==null&&Ff.nodeType==1&&Ff.contains(this.find[x_].node)&&(this.find[x_].pos=this.currentPos)}findAround(Ff,x_,$P){if(Ff!=x_&&this.find)for(let zP=0;zP<this.find.length;zP++)this.find[zP].pos==null&&Ff.nodeType==1&&Ff.contains(this.find[zP].node)&&x_.compareDocumentPosition(this.find[zP].node)&($P?2:4)&&(this.find[zP].pos=this.currentPos)}findInText(Ff){if(this.find)for(let x_=0;x_<this.find.length;x_++)this.find[x_].node==Ff&&(this.find[x_].pos=this.currentPos-(Ff.nodeValue.length-this.find[x_].offset))}matchesContext(Ff){if(Ff.indexOf("|")>-1)return Ff.split(/\s*\|\s*/).some(this.matchesContext,this);let x_=Ff.split("/"),$P=this.options.context,zP=!this.isOpen&&(!$P||$P.parent.type==this.nodes[0].type),eme=-($P?$P.depth+1:0)+(zP?0:1),tme=(nme,rme)=>{for(;nme>=0;nme--){let ime=x_[nme];if(ime==""){if(nme==x_.length-1||nme==0)continue;for(;rme>=eme;rme--)if(tme(nme-1,rme))return!0;return!1}else{let ome=rme>0||rme==0&&zP?this.nodes[rme].type:$P&&rme>=eme?$P.node(rme-eme).type:null;if(!ome||ome.name!=ime&&ome.groups.indexOf(ime)==-1)return!1;rme--}}return!0};return tme(x_.length-1,this.open)}textblockFromContext(){let Ff=this.options.context;if(Ff)for(let x_=Ff.depth;x_>=0;x_--){let $P=Ff.node(x_).contentMatchAt(Ff.indexAfter(x_)).defaultType;if($P&&$P.isTextblock&&$P.defaultAttrs)return $P}for(let x_ in this.parser.schema.nodes){let $P=this.parser.schema.nodes[x_];if($P.isTextblock&&$P.defaultAttrs)return $P}}addPendingMark(Ff){let x_=findSameMarkInSet(Ff,this.top.pendingMarks);x_&&this.top.stashMarks.push(x_),this.top.pendingMarks=Ff.addToSet(this.top.pendingMarks)}removePendingMark(Ff,x_){for(let $P=this.open;$P>=0;$P--){let zP=this.nodes[$P];if(zP.pendingMarks.lastIndexOf(Ff)>-1)zP.pendingMarks=Ff.removeFromSet(zP.pendingMarks);else{zP.activeMarks=Ff.removeFromSet(zP.activeMarks);let tme=zP.popFromStashMark(Ff);tme&&zP.type&&zP.type.allowsMarkType(tme.type)&&(zP.activeMarks=tme.addToSet(zP.activeMarks))}if(zP==x_)break}}}function normalizeList(kh){for(let Ff=kh.firstChild,x_=null;Ff;Ff=Ff.nextSibling){let $P=Ff.nodeType==1?Ff.nodeName.toLowerCase():null;$P&&listTags.hasOwnProperty($P)&&x_?(x_.appendChild(Ff),Ff=x_):$P=="li"?x_=Ff:$P&&(x_=null)}}function matches(kh,Ff){return(kh.matches||kh.msMatchesSelector||kh.webkitMatchesSelector||kh.mozMatchesSelector).call(kh,Ff)}function parseStyles(kh){let Ff=/\s*([\w-]+)\s*:\s*([^;]+)/g,x_,$P=[];for(;x_=Ff.exec(kh);)$P.push(x_[1],x_[2].trim());return $P}function copy$1(kh){let Ff={};for(let x_ in kh)Ff[x_]=kh[x_];return Ff}function markMayApply(kh,Ff){let x_=Ff.schema.nodes;for(let $P in x_){let zP=x_[$P];if(!zP.allowsMarkType(kh))continue;let eme=[],tme=nme=>{eme.push(nme);for(let rme=0;rme<nme.edgeCount;rme++){let{type:ime,next:ome}=nme.edge(rme);if(ime==Ff||eme.indexOf(ome)<0&&tme(ome))return!0}};if(tme(zP.contentMatch))return!0}}function findSameMarkInSet(kh,Ff){for(let x_=0;x_<Ff.length;x_++)if(kh.eq(Ff[x_]))return Ff[x_]}class DOMSerializer{constructor(Ff,x_){this.nodes=Ff,this.marks=x_}serializeFragment(Ff,x_={},$P){$P||($P=doc$1(x_).createDocumentFragment());let zP=$P,eme=[];return Ff.forEach(tme=>{if(eme.length||tme.marks.length){let nme=0,rme=0;for(;nme<eme.length&&rme<tme.marks.length;){let ime=tme.marks[rme];if(!this.marks[ime.type.name]){rme++;continue}if(!ime.eq(eme[nme][0])||ime.type.spec.spanning===!1)break;nme++,rme++}for(;nme<eme.length;)zP=eme.pop()[1];for(;rme<tme.marks.length;){let ime=tme.marks[rme++],ome=this.serializeMark(ime,tme.isInline,x_);ome&&(eme.push([ime,zP]),zP.appendChild(ome.dom),zP=ome.contentDOM||ome.dom)}}zP.appendChild(this.serializeNodeInner(tme,x_))}),$P}serializeNodeInner(Ff,x_){let{dom:$P,contentDOM:zP}=DOMSerializer.renderSpec(doc$1(x_),this.nodes[Ff.type.name](Ff));if(zP){if(Ff.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(Ff.content,x_,zP)}return $P}serializeNode(Ff,x_={}){let $P=this.serializeNodeInner(Ff,x_);for(let zP=Ff.marks.length-1;zP>=0;zP--){let eme=this.serializeMark(Ff.marks[zP],Ff.isInline,x_);eme&&((eme.contentDOM||eme.dom).appendChild($P),$P=eme.dom)}return $P}serializeMark(Ff,x_,$P={}){let zP=this.marks[Ff.type.name];return zP&&DOMSerializer.renderSpec(doc$1($P),zP(Ff,x_))}static renderSpec(Ff,x_,$P=null){if(typeof x_=="string")return{dom:Ff.createTextNode(x_)};if(x_.nodeType!=null)return{dom:x_};if(x_.dom&&x_.dom.nodeType!=null)return x_;let zP=x_[0],eme=zP.indexOf(" ");eme>0&&($P=zP.slice(0,eme),zP=zP.slice(eme+1));let tme,nme=$P?Ff.createElementNS($P,zP):Ff.createElement(zP),rme=x_[1],ime=1;if(rme&&typeof rme=="object"&&rme.nodeType==null&&!Array.isArray(rme)){ime=2;for(let ome in rme)if(rme[ome]!=null){let sme=ome.indexOf(" ");sme>0?nme.setAttributeNS(ome.slice(0,sme),ome.slice(sme+1),rme[ome]):nme.setAttribute(ome,rme[ome])}}for(let ome=ime;ome<x_.length;ome++){let sme=x_[ome];if(sme===0){if(ome<x_.length-1||ome>ime)throw new RangeError("Content hole must be the only child of its parent node");return{dom:nme,contentDOM:nme}}else{let{dom:ame,contentDOM:lme}=DOMSerializer.renderSpec(Ff,sme,$P);if(nme.appendChild(ame),lme){if(tme)throw new RangeError("Multiple content holes");tme=lme}}}return{dom:nme,contentDOM:tme}}static fromSchema(Ff){return Ff.cached.domSerializer||(Ff.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(Ff),this.marksFromSchema(Ff)))}static nodesFromSchema(Ff){let x_=gatherToDOM(Ff.nodes);return x_.text||(x_.text=$P=>$P.text),x_}static marksFromSchema(Ff){return gatherToDOM(Ff.marks)}}function gatherToDOM(kh){let Ff={};for(let x_ in kh){let $P=kh[x_].spec.toDOM;$P&&(Ff[x_]=$P)}return Ff}function doc$1(kh){return kh.document||window.document}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(kh,Ff){return kh+Ff*factor16}function recoverIndex(kh){return kh&lower16}function recoverOffset(kh){return(kh-(kh&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(Ff,x_,$P){this.pos=Ff,this.delInfo=x_,this.recover=$P}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(Ff,x_=!1){if(this.ranges=Ff,this.inverted=x_,!Ff.length&&StepMap.empty)return StepMap.empty}recover(Ff){let x_=0,$P=recoverIndex(Ff);if(!this.inverted)for(let zP=0;zP<$P;zP++)x_+=this.ranges[zP*3+2]-this.ranges[zP*3+1];return this.ranges[$P*3]+x_+recoverOffset(Ff)}mapResult(Ff,x_=1){return this._map(Ff,x_,!1)}map(Ff,x_=1){return this._map(Ff,x_,!0)}_map(Ff,x_,$P){let zP=0,eme=this.inverted?2:1,tme=this.inverted?1:2;for(let nme=0;nme<this.ranges.length;nme+=3){let rme=this.ranges[nme]-(this.inverted?zP:0);if(rme>Ff)break;let ime=this.ranges[nme+eme],ome=this.ranges[nme+tme],sme=rme+ime;if(Ff<=sme){let ame=ime?Ff==rme?-1:Ff==sme?1:x_:x_,lme=rme+zP+(ame<0?0:ome);if($P)return lme;let ume=Ff==(x_<0?rme:sme)?null:makeRecover(nme/3,Ff-rme),dme=Ff==rme?DEL_AFTER:Ff==sme?DEL_BEFORE:DEL_ACROSS;return(x_<0?Ff!=rme:Ff!=sme)&&(dme|=DEL_SIDE),new MapResult(lme,dme,ume)}zP+=ome-ime}return $P?Ff+zP:new MapResult(Ff+zP,0,null)}touches(Ff,x_){let $P=0,zP=recoverIndex(x_),eme=this.inverted?2:1,tme=this.inverted?1:2;for(let nme=0;nme<this.ranges.length;nme+=3){let rme=this.ranges[nme]-(this.inverted?$P:0);if(rme>Ff)break;let ime=this.ranges[nme+eme],ome=rme+ime;if(Ff<=ome&&nme==zP*3)return!0;$P+=this.ranges[nme+tme]-ime}return!1}forEach(Ff){let x_=this.inverted?2:1,$P=this.inverted?1:2;for(let zP=0,eme=0;zP<this.ranges.length;zP+=3){let tme=this.ranges[zP],nme=tme-(this.inverted?eme:0),rme=tme+(this.inverted?0:eme),ime=this.ranges[zP+x_],ome=this.ranges[zP+$P];Ff(nme,nme+ime,rme,rme+ome),eme+=ome-ime}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Ff){return Ff==0?StepMap.empty:new StepMap(Ff<0?[0,-Ff,0]:[0,0,Ff])}}StepMap.empty=new StepMap([]);class Mapping{constructor(Ff=[],x_,$P=0,zP=Ff.length){this.maps=Ff,this.mirror=x_,this.from=$P,this.to=zP}slice(Ff=0,x_=this.maps.length){return new Mapping(this.maps,this.mirror,Ff,x_)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Ff,x_){this.to=this.maps.push(Ff),x_!=null&&this.setMirror(this.maps.length-1,x_)}appendMapping(Ff){for(let x_=0,$P=this.maps.length;x_<Ff.maps.length;x_++){let zP=Ff.getMirror(x_);this.appendMap(Ff.maps[x_],zP!=null&&zP<x_?$P+zP:void 0)}}getMirror(Ff){if(this.mirror){for(let x_=0;x_<this.mirror.length;x_++)if(this.mirror[x_]==Ff)return this.mirror[x_+(x_%2?-1:1)]}}setMirror(Ff,x_){this.mirror||(this.mirror=[]),this.mirror.push(Ff,x_)}appendMappingInverted(Ff){for(let x_=Ff.maps.length-1,$P=this.maps.length+Ff.maps.length;x_>=0;x_--){let zP=Ff.getMirror(x_);this.appendMap(Ff.maps[x_].invert(),zP!=null&&zP>x_?$P-zP-1:void 0)}}invert(){let Ff=new Mapping;return Ff.appendMappingInverted(this),Ff}map(Ff,x_=1){if(this.mirror)return this._map(Ff,x_,!0);for(let $P=this.from;$P<this.to;$P++)Ff=this.maps[$P].map(Ff,x_);return Ff}mapResult(Ff,x_=1){return this._map(Ff,x_,!1)}_map(Ff,x_,$P){let zP=0;for(let eme=this.from;eme<this.to;eme++){let tme=this.maps[eme],nme=tme.mapResult(Ff,x_);if(nme.recover!=null){let rme=this.getMirror(eme);if(rme!=null&&rme>eme&&rme<this.to){eme=rme,Ff=this.maps[rme].recover(nme.recover);continue}}zP|=nme.delInfo,Ff=nme.pos}return $P?Ff:new MapResult(Ff,zP,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(Ff){return null}static fromJSON(Ff,x_){if(!x_||!x_.stepType)throw new RangeError("Invalid input for Step.fromJSON");let $P=stepsByID[x_.stepType];if(!$P)throw new RangeError(`No step type ${x_.stepType} defined`);return $P.fromJSON(Ff,x_)}static jsonID(Ff,x_){if(Ff in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+Ff);return stepsByID[Ff]=x_,x_.prototype.jsonID=Ff,x_}}class StepResult{constructor(Ff,x_){this.doc=Ff,this.failed=x_}static ok(Ff){return new StepResult(Ff,null)}static fail(Ff){return new StepResult(null,Ff)}static fromReplace(Ff,x_,$P,zP){try{return StepResult.ok(Ff.replace(x_,$P,zP))}catch(eme){if(eme instanceof ReplaceError)return StepResult.fail(eme.message);throw eme}}}function mapFragment(kh,Ff,x_){let $P=[];for(let zP=0;zP<kh.childCount;zP++){let eme=kh.child(zP);eme.content.size&&(eme=eme.copy(mapFragment(eme.content,Ff,eme))),eme.isInline&&(eme=Ff(eme,x_,zP)),$P.push(eme)}return Fragment.fromArray($P)}class AddMarkStep extends Step{constructor(Ff,x_,$P){super(),this.from=Ff,this.to=x_,this.mark=$P}apply(Ff){let x_=Ff.slice(this.from,this.to),$P=Ff.resolve(this.from),zP=$P.node($P.sharedDepth(this.to)),eme=new Slice(mapFragment(x_.content,(tme,nme)=>!tme.isAtom||!nme.type.allowsMarkType(this.mark.type)?tme:tme.mark(this.mark.addToSet(tme.marks)),zP),x_.openStart,x_.openEnd);return StepResult.fromReplace(Ff,this.from,this.to,eme)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(Ff){let x_=Ff.mapResult(this.from,1),$P=Ff.mapResult(this.to,-1);return x_.deleted&&$P.deleted||x_.pos>=$P.pos?null:new AddMarkStep(x_.pos,$P.pos,this.mark)}merge(Ff){return Ff instanceof AddMarkStep&&Ff.mark.eq(this.mark)&&this.from<=Ff.to&&this.to>=Ff.from?new AddMarkStep(Math.min(this.from,Ff.from),Math.max(this.to,Ff.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Ff,x_){if(typeof x_.from!="number"||typeof x_.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(x_.from,x_.to,Ff.markFromJSON(x_.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(Ff,x_,$P){super(),this.from=Ff,this.to=x_,this.mark=$P}apply(Ff){let x_=Ff.slice(this.from,this.to),$P=new Slice(mapFragment(x_.content,zP=>zP.mark(this.mark.removeFromSet(zP.marks)),Ff),x_.openStart,x_.openEnd);return StepResult.fromReplace(Ff,this.from,this.to,$P)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(Ff){let x_=Ff.mapResult(this.from,1),$P=Ff.mapResult(this.to,-1);return x_.deleted&&$P.deleted||x_.pos>=$P.pos?null:new RemoveMarkStep(x_.pos,$P.pos,this.mark)}merge(Ff){return Ff instanceof RemoveMarkStep&&Ff.mark.eq(this.mark)&&this.from<=Ff.to&&this.to>=Ff.from?new RemoveMarkStep(Math.min(this.from,Ff.from),Math.max(this.to,Ff.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Ff,x_){if(typeof x_.from!="number"||typeof x_.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(x_.from,x_.to,Ff.markFromJSON(x_.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(Ff,x_){super(),this.pos=Ff,this.mark=x_}apply(Ff){let x_=Ff.nodeAt(this.pos);if(!x_)return StepResult.fail("No node at mark step's position");let $P=x_.type.create(x_.attrs,null,this.mark.addToSet(x_.marks));return StepResult.fromReplace(Ff,this.pos,this.pos+1,new Slice(Fragment.from($P),0,x_.isLeaf?0:1))}invert(Ff){let x_=Ff.nodeAt(this.pos);if(x_){let $P=this.mark.addToSet(x_.marks);if($P.length==x_.marks.length){for(let zP=0;zP<x_.marks.length;zP++)if(!x_.marks[zP].isInSet($P))return new AddNodeMarkStep(this.pos,x_.marks[zP]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(Ff){let x_=Ff.mapResult(this.pos,1);return x_.deletedAfter?null:new AddNodeMarkStep(x_.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Ff,x_){if(typeof x_.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(x_.pos,Ff.markFromJSON(x_.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(Ff,x_){super(),this.pos=Ff,this.mark=x_}apply(Ff){let x_=Ff.nodeAt(this.pos);if(!x_)return StepResult.fail("No node at mark step's position");let $P=x_.type.create(x_.attrs,null,this.mark.removeFromSet(x_.marks));return StepResult.fromReplace(Ff,this.pos,this.pos+1,new Slice(Fragment.from($P),0,x_.isLeaf?0:1))}invert(Ff){let x_=Ff.nodeAt(this.pos);return!x_||!this.mark.isInSet(x_.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(Ff){let x_=Ff.mapResult(this.pos,1);return x_.deletedAfter?null:new RemoveNodeMarkStep(x_.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Ff,x_){if(typeof x_.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(x_.pos,Ff.markFromJSON(x_.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(Ff,x_,$P,zP=!1){super(),this.from=Ff,this.to=x_,this.slice=$P,this.structure=zP}apply(Ff){return this.structure&&contentBetween(Ff,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(Ff,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(Ff){return new ReplaceStep(this.from,this.from+this.slice.size,Ff.slice(this.from,this.to))}map(Ff){let x_=Ff.mapResult(this.from,1),$P=Ff.mapResult(this.to,-1);return x_.deletedAcross&&$P.deletedAcross?null:new ReplaceStep(x_.pos,Math.max(x_.pos,$P.pos),this.slice)}merge(Ff){if(!(Ff instanceof ReplaceStep)||Ff.structure||this.structure)return null;if(this.from+this.slice.size==Ff.from&&!this.slice.openEnd&&!Ff.slice.openStart){let x_=this.slice.size+Ff.slice.size==0?Slice.empty:new Slice(this.slice.content.append(Ff.slice.content),this.slice.openStart,Ff.slice.openEnd);return new ReplaceStep(this.from,this.to+(Ff.to-Ff.from),x_,this.structure)}else if(Ff.to==this.from&&!this.slice.openStart&&!Ff.slice.openEnd){let x_=this.slice.size+Ff.slice.size==0?Slice.empty:new Slice(Ff.slice.content.append(this.slice.content),Ff.slice.openStart,this.slice.openEnd);return new ReplaceStep(Ff.from,this.to,x_,this.structure)}else return null}toJSON(){let Ff={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Ff.slice=this.slice.toJSON()),this.structure&&(Ff.structure=!0),Ff}static fromJSON(Ff,x_){if(typeof x_.from!="number"||typeof x_.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(x_.from,x_.to,Slice.fromJSON(Ff,x_.slice),!!x_.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(Ff,x_,$P,zP,eme,tme,nme=!1){super(),this.from=Ff,this.to=x_,this.gapFrom=$P,this.gapTo=zP,this.slice=eme,this.insert=tme,this.structure=nme}apply(Ff){if(this.structure&&(contentBetween(Ff,this.from,this.gapFrom)||contentBetween(Ff,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let x_=Ff.slice(this.gapFrom,this.gapTo);if(x_.openStart||x_.openEnd)return StepResult.fail("Gap is not a flat range");let $P=this.slice.insertAt(this.insert,x_.content);return $P?StepResult.fromReplace(Ff,this.from,this.to,$P):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Ff){let x_=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+x_,this.from+this.insert,this.from+this.insert+x_,Ff.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Ff){let x_=Ff.mapResult(this.from,1),$P=Ff.mapResult(this.to,-1),zP=Ff.map(this.gapFrom,-1),eme=Ff.map(this.gapTo,1);return x_.deletedAcross&&$P.deletedAcross||zP<x_.pos||eme>$P.pos?null:new ReplaceAroundStep(x_.pos,$P.pos,zP,eme,this.slice,this.insert,this.structure)}toJSON(){let Ff={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Ff.slice=this.slice.toJSON()),this.structure&&(Ff.structure=!0),Ff}static fromJSON(Ff,x_){if(typeof x_.from!="number"||typeof x_.to!="number"||typeof x_.gapFrom!="number"||typeof x_.gapTo!="number"||typeof x_.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(x_.from,x_.to,x_.gapFrom,x_.gapTo,Slice.fromJSON(Ff,x_.slice),x_.insert,!!x_.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(kh,Ff,x_){let $P=kh.resolve(Ff),zP=x_-Ff,eme=$P.depth;for(;zP>0&&eme>0&&$P.indexAfter(eme)==$P.node(eme).childCount;)eme--,zP--;if(zP>0){let tme=$P.node(eme).maybeChild($P.indexAfter(eme));for(;zP>0;){if(!tme||tme.isLeaf)return!0;tme=tme.firstChild,zP--}}return!1}function addMark(kh,Ff,x_,$P){let zP=[],eme=[],tme,nme;kh.doc.nodesBetween(Ff,x_,(rme,ime,ome)=>{if(!rme.isInline)return;let sme=rme.marks;if(!$P.isInSet(sme)&&ome.type.allowsMarkType($P.type)){let ame=Math.max(ime,Ff),lme=Math.min(ime+rme.nodeSize,x_),ume=$P.addToSet(sme);for(let dme=0;dme<sme.length;dme++)sme[dme].isInSet(ume)||(tme&&tme.to==ame&&tme.mark.eq(sme[dme])?tme.to=lme:zP.push(tme=new RemoveMarkStep(ame,lme,sme[dme])));nme&&nme.to==ame?nme.to=lme:eme.push(nme=new AddMarkStep(ame,lme,$P))}}),zP.forEach(rme=>kh.step(rme)),eme.forEach(rme=>kh.step(rme))}function removeMark(kh,Ff,x_,$P){let zP=[],eme=0;kh.doc.nodesBetween(Ff,x_,(tme,nme)=>{if(!tme.isInline)return;eme++;let rme=null;if($P instanceof MarkType){let ime=tme.marks,ome;for(;ome=$P.isInSet(ime);)(rme||(rme=[])).push(ome),ime=ome.removeFromSet(ime)}else $P?$P.isInSet(tme.marks)&&(rme=[$P]):rme=tme.marks;if(rme&&rme.length){let ime=Math.min(nme+tme.nodeSize,x_);for(let ome=0;ome<rme.length;ome++){let sme=rme[ome],ame;for(let lme=0;lme<zP.length;lme++){let ume=zP[lme];ume.step==eme-1&&sme.eq(zP[lme].style)&&(ame=ume)}ame?(ame.to=ime,ame.step=eme):zP.push({style:sme,from:Math.max(nme,Ff),to:ime,step:eme})}}}),zP.forEach(tme=>kh.step(new RemoveMarkStep(tme.from,tme.to,tme.style)))}function clearIncompatible(kh,Ff,x_,$P=x_.contentMatch){let zP=kh.doc.nodeAt(Ff),eme=[],tme=Ff+1;for(let nme=0;nme<zP.childCount;nme++){let rme=zP.child(nme),ime=tme+rme.nodeSize,ome=$P.matchType(rme.type);if(!ome)eme.push(new ReplaceStep(tme,ime,Slice.empty));else{$P=ome;for(let sme=0;sme<rme.marks.length;sme++)x_.allowsMarkType(rme.marks[sme].type)||kh.step(new RemoveMarkStep(tme,ime,rme.marks[sme]));if(rme.isText&&!x_.spec.code){let sme,ame=/\r?\n|\r/g,lme;for(;sme=ame.exec(rme.text);)lme||(lme=new Slice(Fragment.from(x_.schema.text(" ",x_.allowedMarks(rme.marks))),0,0)),eme.push(new ReplaceStep(tme+sme.index,tme+sme.index+sme[0].length,lme))}}tme=ime}if(!$P.validEnd){let nme=$P.fillBefore(Fragment.empty,!0);kh.replace(tme,tme,new Slice(nme,0,0))}for(let nme=eme.length-1;nme>=0;nme--)kh.step(eme[nme])}function canCut(kh,Ff,x_){return(Ff==0||kh.canReplace(Ff,kh.childCount))&&(x_==kh.childCount||kh.canReplace(0,x_))}function liftTarget(kh){let x_=kh.parent.content.cutByIndex(kh.startIndex,kh.endIndex);for(let $P=kh.depth;;--$P){let zP=kh.$from.node($P),eme=kh.$from.index($P),tme=kh.$to.indexAfter($P);if($P<kh.depth&&zP.canReplace(eme,tme,x_))return $P;if($P==0||zP.type.spec.isolating||!canCut(zP,eme,tme))break}return null}function lift$2(kh,Ff,x_){let{$from:$P,$to:zP,depth:eme}=Ff,tme=$P.before(eme+1),nme=zP.after(eme+1),rme=tme,ime=nme,ome=Fragment.empty,sme=0;for(let ume=eme,dme=!1;ume>x_;ume--)dme||$P.index(ume)>0?(dme=!0,ome=Fragment.from($P.node(ume).copy(ome)),sme++):rme--;let ame=Fragment.empty,lme=0;for(let ume=eme,dme=!1;ume>x_;ume--)dme||zP.after(ume+1)<zP.end(ume)?(dme=!0,ame=Fragment.from(zP.node(ume).copy(ame)),lme++):ime++;kh.step(new ReplaceAroundStep(rme,ime,tme,nme,new Slice(ome.append(ame),sme,lme),ome.size-sme,!0))}function findWrapping(kh,Ff,x_=null,$P=kh){let zP=findWrappingOutside(kh,Ff),eme=zP&&findWrappingInside($P,Ff);return eme?zP.map(withAttrs).concat({type:Ff,attrs:x_}).concat(eme.map(withAttrs)):null}function withAttrs(kh){return{type:kh,attrs:null}}function findWrappingOutside(kh,Ff){let{parent:x_,startIndex:$P,endIndex:zP}=kh,eme=x_.contentMatchAt($P).findWrapping(Ff);if(!eme)return null;let tme=eme.length?eme[0]:Ff;return x_.canReplaceWith($P,zP,tme)?eme:null}function findWrappingInside(kh,Ff){let{parent:x_,startIndex:$P,endIndex:zP}=kh,eme=x_.child($P),tme=Ff.contentMatch.findWrapping(eme.type);if(!tme)return null;let rme=(tme.length?tme[tme.length-1]:Ff).contentMatch;for(let ime=$P;rme&&ime<zP;ime++)rme=rme.matchType(x_.child(ime).type);return!rme||!rme.validEnd?null:tme}function wrap(kh,Ff,x_){let $P=Fragment.empty;for(let tme=x_.length-1;tme>=0;tme--){if($P.size){let nme=x_[tme].type.contentMatch.matchFragment($P);if(!nme||!nme.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}$P=Fragment.from(x_[tme].type.create(x_[tme].attrs,$P))}let zP=Ff.start,eme=Ff.end;kh.step(new ReplaceAroundStep(zP,eme,zP,eme,new Slice($P,0,0),x_.length,!0))}function setBlockType$1(kh,Ff,x_,$P,zP){if(!$P.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let eme=kh.steps.length;kh.doc.nodesBetween(Ff,x_,(tme,nme)=>{if(tme.isTextblock&&!tme.hasMarkup($P,zP)&&canChangeType(kh.doc,kh.mapping.slice(eme).map(nme),$P)){kh.clearIncompatible(kh.mapping.slice(eme).map(nme,1),$P);let rme=kh.mapping.slice(eme),ime=rme.map(nme,1),ome=rme.map(nme+tme.nodeSize,1);return kh.step(new ReplaceAroundStep(ime,ome,ime+1,ome-1,new Slice(Fragment.from($P.create(zP,null,tme.marks)),0,0),1,!0)),!1}})}function canChangeType(kh,Ff,x_){let $P=kh.resolve(Ff),zP=$P.index();return $P.parent.canReplaceWith(zP,zP+1,x_)}function setNodeMarkup(kh,Ff,x_,$P,zP){let eme=kh.doc.nodeAt(Ff);if(!eme)throw new RangeError("No node at given position");x_||(x_=eme.type);let tme=x_.create($P,null,zP||eme.marks);if(eme.isLeaf)return kh.replaceWith(Ff,Ff+eme.nodeSize,tme);if(!x_.validContent(eme.content))throw new RangeError("Invalid content for node type "+x_.name);kh.step(new ReplaceAroundStep(Ff,Ff+eme.nodeSize,Ff+1,Ff+eme.nodeSize-1,new Slice(Fragment.from(tme),0,0),1,!0))}function canSplit(kh,Ff,x_=1,$P){let zP=kh.resolve(Ff),eme=zP.depth-x_,tme=$P&&$P[$P.length-1]||zP.parent;if(eme<0||zP.parent.type.spec.isolating||!zP.parent.canReplace(zP.index(),zP.parent.childCount)||!tme.type.validContent(zP.parent.content.cutByIndex(zP.index(),zP.parent.childCount)))return!1;for(let ime=zP.depth-1,ome=x_-2;ime>eme;ime--,ome--){let sme=zP.node(ime),ame=zP.index(ime);if(sme.type.spec.isolating)return!1;let lme=sme.content.cutByIndex(ame,sme.childCount),ume=$P&&$P[ome+1];ume&&(lme=lme.replaceChild(0,ume.type.create(ume.attrs)));let dme=$P&&$P[ome]||sme;if(!sme.canReplace(ame+1,sme.childCount)||!dme.type.validContent(lme))return!1}let nme=zP.indexAfter(eme),rme=$P&&$P[0];return zP.node(eme).canReplaceWith(nme,nme,rme?rme.type:zP.node(eme+1).type)}function split$1(kh,Ff,x_=1,$P){let zP=kh.doc.resolve(Ff),eme=Fragment.empty,tme=Fragment.empty;for(let nme=zP.depth,rme=zP.depth-x_,ime=x_-1;nme>rme;nme--,ime--){eme=Fragment.from(zP.node(nme).copy(eme));let ome=$P&&$P[ime];tme=Fragment.from(ome?ome.type.create(ome.attrs,tme):zP.node(nme).copy(tme))}kh.step(new ReplaceStep(Ff,Ff,new Slice(eme.append(tme),x_,x_),!0))}function canJoin(kh,Ff){let x_=kh.resolve(Ff),$P=x_.index();return joinable(x_.nodeBefore,x_.nodeAfter)&&x_.parent.canReplace($P,$P+1)}function joinable(kh,Ff){return!!(kh&&Ff&&!kh.isLeaf&&kh.canAppend(Ff))}function joinPoint(kh,Ff,x_=-1){let $P=kh.resolve(Ff);for(let zP=$P.depth;;zP--){let eme,tme,nme=$P.index(zP);if(zP==$P.depth?(eme=$P.nodeBefore,tme=$P.nodeAfter):x_>0?(eme=$P.node(zP+1),nme++,tme=$P.node(zP).maybeChild(nme)):(eme=$P.node(zP).maybeChild(nme-1),tme=$P.node(zP+1)),eme&&!eme.isTextblock&&joinable(eme,tme)&&$P.node(zP).canReplace(nme,nme+1))return Ff;if(zP==0)break;Ff=x_<0?$P.before(zP):$P.after(zP)}}function join(kh,Ff,x_){let $P=new ReplaceStep(Ff-x_,Ff+x_,Slice.empty,!0);kh.step($P)}function insertPoint(kh,Ff,x_){let $P=kh.resolve(Ff);if($P.parent.canReplaceWith($P.index(),$P.index(),x_))return Ff;if($P.parentOffset==0)for(let zP=$P.depth-1;zP>=0;zP--){let eme=$P.index(zP);if($P.node(zP).canReplaceWith(eme,eme,x_))return $P.before(zP+1);if(eme>0)return null}if($P.parentOffset==$P.parent.content.size)for(let zP=$P.depth-1;zP>=0;zP--){let eme=$P.indexAfter(zP);if($P.node(zP).canReplaceWith(eme,eme,x_))return $P.after(zP+1);if(eme<$P.node(zP).childCount)return null}return null}function dropPoint(kh,Ff,x_){let $P=kh.resolve(Ff);if(!x_.content.size)return Ff;let zP=x_.content;for(let eme=0;eme<x_.openStart;eme++)zP=zP.firstChild.content;for(let eme=1;eme<=(x_.openStart==0&&x_.size?2:1);eme++)for(let tme=$P.depth;tme>=0;tme--){let nme=tme==$P.depth?0:$P.pos<=($P.start(tme+1)+$P.end(tme+1))/2?-1:1,rme=$P.index(tme)+(nme>0?1:0),ime=$P.node(tme),ome=!1;if(eme==1)ome=ime.canReplace(rme,rme,zP);else{let sme=ime.contentMatchAt(rme).findWrapping(zP.firstChild.type);ome=sme&&ime.canReplaceWith(rme,rme,sme[0])}if(ome)return nme==0?$P.pos:nme<0?$P.before(tme+1):$P.after(tme+1)}return null}function replaceStep(kh,Ff,x_=Ff,$P=Slice.empty){if(Ff==x_&&!$P.size)return null;let zP=kh.resolve(Ff),eme=kh.resolve(x_);return fitsTrivially(zP,eme,$P)?new ReplaceStep(Ff,x_,$P):new Fitter(zP,eme,$P).fit()}function fitsTrivially(kh,Ff,x_){return!x_.openStart&&!x_.openEnd&&kh.start()==Ff.start()&&kh.parent.canReplace(kh.index(),Ff.index(),x_.content)}class Fitter{constructor(Ff,x_,$P){this.$from=Ff,this.$to=x_,this.unplaced=$P,this.frontier=[],this.placed=Fragment.empty;for(let zP=0;zP<=Ff.depth;zP++){let eme=Ff.node(zP);this.frontier.push({type:eme.type,match:eme.contentMatchAt(Ff.indexAfter(zP))})}for(let zP=Ff.depth;zP>0;zP--)this.placed=Fragment.from(Ff.node(zP).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let ime=this.findFittable();ime?this.placeNodes(ime):this.openMore()||this.dropNode()}let Ff=this.mustMoveInline(),x_=this.placed.size-this.depth-this.$from.depth,$P=this.$from,zP=this.close(Ff<0?this.$to:$P.doc.resolve(Ff));if(!zP)return null;let eme=this.placed,tme=$P.depth,nme=zP.depth;for(;tme&&nme&&eme.childCount==1;)eme=eme.firstChild.content,tme--,nme--;let rme=new Slice(eme,tme,nme);return Ff>-1?new ReplaceAroundStep($P.pos,Ff,this.$to.pos,this.$to.end(),rme,x_):rme.size||$P.pos!=this.$to.pos?new ReplaceStep($P.pos,zP.pos,rme):null}findFittable(){let Ff=this.unplaced.openStart;for(let x_=this.unplaced.content,$P=0,zP=this.unplaced.openEnd;$P<Ff;$P++){let eme=x_.firstChild;if(x_.childCount>1&&(zP=0),eme.type.spec.isolating&&zP<=$P){Ff=$P;break}x_=eme.content}for(let x_=1;x_<=2;x_++)for(let $P=x_==1?Ff:this.unplaced.openStart;$P>=0;$P--){let zP,eme=null;$P?(eme=contentAt(this.unplaced.content,$P-1).firstChild,zP=eme.content):zP=this.unplaced.content;let tme=zP.firstChild;for(let nme=this.depth;nme>=0;nme--){let{type:rme,match:ime}=this.frontier[nme],ome,sme=null;if(x_==1&&(tme?ime.matchType(tme.type)||(sme=ime.fillBefore(Fragment.from(tme),!1)):eme&&rme.compatibleContent(eme.type)))return{sliceDepth:$P,frontierDepth:nme,parent:eme,inject:sme};if(x_==2&&tme&&(ome=ime.findWrapping(tme.type)))return{sliceDepth:$P,frontierDepth:nme,parent:eme,wrap:ome};if(eme&&ime.matchType(eme.type))break}}}openMore(){let{content:Ff,openStart:x_,openEnd:$P}=this.unplaced,zP=contentAt(Ff,x_);return!zP.childCount||zP.firstChild.isLeaf?!1:(this.unplaced=new Slice(Ff,x_+1,Math.max($P,zP.size+x_>=Ff.size-$P?x_+1:0)),!0)}dropNode(){let{content:Ff,openStart:x_,openEnd:$P}=this.unplaced,zP=contentAt(Ff,x_);if(zP.childCount<=1&&x_>0){let eme=Ff.size-x_<=x_+zP.size;this.unplaced=new Slice(dropFromFragment(Ff,x_-1,1),x_-1,eme?x_-1:$P)}else this.unplaced=new Slice(dropFromFragment(Ff,x_,1),x_,$P)}placeNodes({sliceDepth:Ff,frontierDepth:x_,parent:$P,inject:zP,wrap:eme}){for(;this.depth>x_;)this.closeFrontierNode();if(eme)for(let dme=0;dme<eme.length;dme++)this.openFrontierNode(eme[dme]);let tme=this.unplaced,nme=$P?$P.content:tme.content,rme=tme.openStart-Ff,ime=0,ome=[],{match:sme,type:ame}=this.frontier[x_];if(zP){for(let dme=0;dme<zP.childCount;dme++)ome.push(zP.child(dme));sme=sme.matchFragment(zP)}let lme=nme.size+Ff-(tme.content.size-tme.openEnd);for(;ime<nme.childCount;){let dme=nme.child(ime),pme=sme.matchType(dme.type);if(!pme)break;ime++,(ime>1||rme==0||dme.content.size)&&(sme=pme,ome.push(closeNodeStart(dme.mark(ame.allowedMarks(dme.marks)),ime==1?rme:0,ime==nme.childCount?lme:-1)))}let ume=ime==nme.childCount;ume||(lme=-1),this.placed=addToFragment(this.placed,x_,Fragment.from(ome)),this.frontier[x_].match=sme,ume&&lme<0&&$P&&$P.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let dme=0,pme=nme;dme<lme;dme++){let hme=pme.lastChild;this.frontier.push({type:hme.type,match:hme.contentMatchAt(hme.childCount)}),pme=hme.content}this.unplaced=ume?Ff==0?Slice.empty:new Slice(dropFromFragment(tme.content,Ff-1,1),Ff-1,lme<0?tme.openEnd:Ff-1):new Slice(dropFromFragment(tme.content,Ff,ime),tme.openStart,tme.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Ff=this.frontier[this.depth],x_;if(!Ff.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,Ff.type,Ff.match,!1)||this.$to.depth==this.depth&&(x_=this.findCloseLevel(this.$to))&&x_.depth==this.depth)return-1;let{depth:$P}=this.$to,zP=this.$to.after($P);for(;$P>1&&zP==this.$to.end(--$P);)++zP;return zP}findCloseLevel(Ff){e:for(let x_=Math.min(this.depth,Ff.depth);x_>=0;x_--){let{match:$P,type:zP}=this.frontier[x_],eme=x_<Ff.depth&&Ff.end(x_+1)==Ff.pos+(Ff.depth-(x_+1)),tme=contentAfterFits(Ff,x_,zP,$P,eme);if(tme){for(let nme=x_-1;nme>=0;nme--){let{match:rme,type:ime}=this.frontier[nme],ome=contentAfterFits(Ff,nme,ime,rme,!0);if(!ome||ome.childCount)continue e}return{depth:x_,fit:tme,move:eme?Ff.doc.resolve(Ff.after(x_+1)):Ff}}}}close(Ff){let x_=this.findCloseLevel(Ff);if(!x_)return null;for(;this.depth>x_.depth;)this.closeFrontierNode();x_.fit.childCount&&(this.placed=addToFragment(this.placed,x_.depth,x_.fit)),Ff=x_.move;for(let $P=x_.depth+1;$P<=Ff.depth;$P++){let zP=Ff.node($P),eme=zP.type.contentMatch.fillBefore(zP.content,!0,Ff.index($P));this.openFrontierNode(zP.type,zP.attrs,eme)}return Ff}openFrontierNode(Ff,x_=null,$P){let zP=this.frontier[this.depth];zP.match=zP.match.matchType(Ff),this.placed=addToFragment(this.placed,this.depth,Fragment.from(Ff.create(x_,$P))),this.frontier.push({type:Ff,match:Ff.contentMatch})}closeFrontierNode(){let x_=this.frontier.pop().match.fillBefore(Fragment.empty,!0);x_.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,x_))}}function dropFromFragment(kh,Ff,x_){return Ff==0?kh.cutByIndex(x_,kh.childCount):kh.replaceChild(0,kh.firstChild.copy(dropFromFragment(kh.firstChild.content,Ff-1,x_)))}function addToFragment(kh,Ff,x_){return Ff==0?kh.append(x_):kh.replaceChild(kh.childCount-1,kh.lastChild.copy(addToFragment(kh.lastChild.content,Ff-1,x_)))}function contentAt(kh,Ff){for(let x_=0;x_<Ff;x_++)kh=kh.firstChild.content;return kh}function closeNodeStart(kh,Ff,x_){if(Ff<=0)return kh;let $P=kh.content;return Ff>1&&($P=$P.replaceChild(0,closeNodeStart($P.firstChild,Ff-1,$P.childCount==1?x_-1:0))),Ff>0&&($P=kh.type.contentMatch.fillBefore($P).append($P),x_<=0&&($P=$P.append(kh.type.contentMatch.matchFragment($P).fillBefore(Fragment.empty,!0)))),kh.copy($P)}function contentAfterFits(kh,Ff,x_,$P,zP){let eme=kh.node(Ff),tme=zP?kh.indexAfter(Ff):kh.index(Ff);if(tme==eme.childCount&&!x_.compatibleContent(eme.type))return null;let nme=$P.fillBefore(eme.content,!0,tme);return nme&&!invalidMarks(x_,eme.content,tme)?nme:null}function invalidMarks(kh,Ff,x_){for(let $P=x_;$P<Ff.childCount;$P++)if(!kh.allowsMarks(Ff.child($P).marks))return!0;return!1}function definesContent(kh){return kh.spec.defining||kh.spec.definingForContent}function replaceRange(kh,Ff,x_,$P){if(!$P.size)return kh.deleteRange(Ff,x_);let zP=kh.doc.resolve(Ff),eme=kh.doc.resolve(x_);if(fitsTrivially(zP,eme,$P))return kh.step(new ReplaceStep(Ff,x_,$P));let tme=coveredDepths(zP,kh.doc.resolve(x_));tme[tme.length-1]==0&&tme.pop();let nme=-(zP.depth+1);tme.unshift(nme);for(let ame=zP.depth,lme=zP.pos-1;ame>0;ame--,lme--){let ume=zP.node(ame).type.spec;if(ume.defining||ume.definingAsContext||ume.isolating)break;tme.indexOf(ame)>-1?nme=ame:zP.before(ame)==lme&&tme.splice(1,0,-ame)}let rme=tme.indexOf(nme),ime=[],ome=$P.openStart;for(let ame=$P.content,lme=0;;lme++){let ume=ame.firstChild;if(ime.push(ume),lme==$P.openStart)break;ame=ume.content}for(let ame=ome-1;ame>=0;ame--){let lme=ime[ame],ume=definesContent(lme.type);if(ume&&!lme.sameMarkup(zP.node(Math.abs(nme)-1)))ome=ame;else if(ume||!lme.type.isTextblock)break}for(let ame=$P.openStart;ame>=0;ame--){let lme=(ame+ome+1)%($P.openStart+1),ume=ime[lme];if(ume)for(let dme=0;dme<tme.length;dme++){let pme=tme[(dme+rme)%tme.length],hme=!0;pme<0&&(hme=!1,pme=-pme);let cme=zP.node(pme-1),_me=zP.index(pme-1);if(cme.canReplaceWith(_me,_me,ume.type,ume.marks))return kh.replace(zP.before(pme),hme?eme.after(pme):x_,new Slice(closeFragment($P.content,0,$P.openStart,lme),lme,$P.openEnd))}}let sme=kh.steps.length;for(let ame=tme.length-1;ame>=0&&(kh.replace(Ff,x_,$P),!(kh.steps.length>sme));ame--){let lme=tme[ame];lme<0||(Ff=zP.before(lme),x_=eme.after(lme))}}function closeFragment(kh,Ff,x_,$P,zP){if(Ff<x_){let eme=kh.firstChild;kh=kh.replaceChild(0,eme.copy(closeFragment(eme.content,Ff+1,x_,$P,eme)))}if(Ff>$P){let eme=zP.contentMatchAt(0),tme=eme.fillBefore(kh).append(kh);kh=tme.append(eme.matchFragment(tme).fillBefore(Fragment.empty,!0))}return kh}function replaceRangeWith(kh,Ff,x_,$P){if(!$P.isInline&&Ff==x_&&kh.doc.resolve(Ff).parent.content.size){let zP=insertPoint(kh.doc,Ff,$P.type);zP!=null&&(Ff=x_=zP)}kh.replaceRange(Ff,x_,new Slice(Fragment.from($P),0,0))}function deleteRange$1(kh,Ff,x_){let $P=kh.doc.resolve(Ff),zP=kh.doc.resolve(x_),eme=coveredDepths($P,zP);for(let tme=0;tme<eme.length;tme++){let nme=eme[tme],rme=tme==eme.length-1;if(rme&&nme==0||$P.node(nme).type.contentMatch.validEnd)return kh.delete($P.start(nme),zP.end(nme));if(nme>0&&(rme||$P.node(nme-1).canReplace($P.index(nme-1),zP.indexAfter(nme-1))))return kh.delete($P.before(nme),zP.after(nme))}for(let tme=1;tme<=$P.depth&&tme<=zP.depth;tme++)if(Ff-$P.start(tme)==$P.depth-tme&&x_>$P.end(tme)&&zP.end(tme)-x_!=zP.depth-tme)return kh.delete($P.before(tme),x_);kh.delete(Ff,x_)}function coveredDepths(kh,Ff){let x_=[],$P=Math.min(kh.depth,Ff.depth);for(let zP=$P;zP>=0;zP--){let eme=kh.start(zP);if(eme<kh.pos-(kh.depth-zP)||Ff.end(zP)>Ff.pos+(Ff.depth-zP)||kh.node(zP).type.spec.isolating||Ff.node(zP).type.spec.isolating)break;(eme==Ff.start(zP)||zP==kh.depth&&zP==Ff.depth&&kh.parent.inlineContent&&Ff.parent.inlineContent&&zP&&Ff.start(zP-1)==eme-1)&&x_.push(zP)}return x_}class AttrStep extends Step{constructor(Ff,x_,$P){super(),this.pos=Ff,this.attr=x_,this.value=$P}apply(Ff){let x_=Ff.nodeAt(this.pos);if(!x_)return StepResult.fail("No node at attribute step's position");let $P=Object.create(null);for(let eme in x_.attrs)$P[eme]=x_.attrs[eme];$P[this.attr]=this.value;let zP=x_.type.create($P,null,x_.marks);return StepResult.fromReplace(Ff,this.pos,this.pos+1,new Slice(Fragment.from(zP),0,x_.isLeaf?0:1))}getMap(){return StepMap.empty}invert(Ff){return new AttrStep(this.pos,this.attr,Ff.nodeAt(this.pos).attrs[this.attr])}map(Ff){let x_=Ff.mapResult(this.pos,1);return x_.deletedAfter?null:new AttrStep(x_.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Ff,x_){if(typeof x_.pos!="number"||typeof x_.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(x_.pos,x_.attr,x_.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(Ff,x_){super(),this.attr=Ff,this.value=x_}apply(Ff){let x_=Object.create(null);for(let zP in Ff.attrs)x_[zP]=Ff.attrs[zP];x_[this.attr]=this.value;let $P=Ff.type.create(x_,Ff.content,Ff.marks);return StepResult.ok($P)}getMap(){return StepMap.empty}invert(Ff){return new DocAttrStep(this.attr,Ff.attrs[this.attr])}map(Ff){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(Ff,x_){if(typeof x_.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(x_.attr,x_.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function kh(Ff){let x_=Error.call(this,Ff);return x_.__proto__=kh.prototype,x_};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(Ff){this.doc=Ff,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(Ff){let x_=this.maybeStep(Ff);if(x_.failed)throw new TransformError(x_.failed);return this}maybeStep(Ff){let x_=Ff.apply(this.doc);return x_.failed||this.addStep(Ff,x_.doc),x_}get docChanged(){return this.steps.length>0}addStep(Ff,x_){this.docs.push(this.doc),this.steps.push(Ff),this.mapping.appendMap(Ff.getMap()),this.doc=x_}replace(Ff,x_=Ff,$P=Slice.empty){let zP=replaceStep(this.doc,Ff,x_,$P);return zP&&this.step(zP),this}replaceWith(Ff,x_,$P){return this.replace(Ff,x_,new Slice(Fragment.from($P),0,0))}delete(Ff,x_){return this.replace(Ff,x_,Slice.empty)}insert(Ff,x_){return this.replaceWith(Ff,Ff,x_)}replaceRange(Ff,x_,$P){return replaceRange(this,Ff,x_,$P),this}replaceRangeWith(Ff,x_,$P){return replaceRangeWith(this,Ff,x_,$P),this}deleteRange(Ff,x_){return deleteRange$1(this,Ff,x_),this}lift(Ff,x_){return lift$2(this,Ff,x_),this}join(Ff,x_=1){return join(this,Ff,x_),this}wrap(Ff,x_){return wrap(this,Ff,x_),this}setBlockType(Ff,x_=Ff,$P,zP=null){return setBlockType$1(this,Ff,x_,$P,zP),this}setNodeMarkup(Ff,x_,$P=null,zP){return setNodeMarkup(this,Ff,x_,$P,zP),this}setNodeAttribute(Ff,x_,$P){return this.step(new AttrStep(Ff,x_,$P)),this}setDocAttribute(Ff,x_){return this.step(new DocAttrStep(Ff,x_)),this}addNodeMark(Ff,x_){return this.step(new AddNodeMarkStep(Ff,x_)),this}removeNodeMark(Ff,x_){if(!(x_ instanceof Mark$1)){let $P=this.doc.nodeAt(Ff);if(!$P)throw new RangeError("No node at position "+Ff);if(x_=x_.isInSet($P.marks),!x_)return this}return this.step(new RemoveNodeMarkStep(Ff,x_)),this}split(Ff,x_=1,$P){return split$1(this,Ff,x_,$P),this}addMark(Ff,x_,$P){return addMark(this,Ff,x_,$P),this}removeMark(Ff,x_,$P){return removeMark(this,Ff,x_,$P),this}clearIncompatible(Ff,x_,$P){return clearIncompatible(this,Ff,x_,$P),this}}const classesById=Object.create(null);class Selection{constructor(Ff,x_,$P){this.$anchor=Ff,this.$head=x_,this.ranges=$P||[new SelectionRange(Ff.min(x_),Ff.max(x_))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let Ff=this.ranges;for(let x_=0;x_<Ff.length;x_++)if(Ff[x_].$from.pos!=Ff[x_].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(Ff,x_=Slice.empty){let $P=x_.content.lastChild,zP=null;for(let nme=0;nme<x_.openEnd;nme++)zP=$P,$P=$P.lastChild;let eme=Ff.steps.length,tme=this.ranges;for(let nme=0;nme<tme.length;nme++){let{$from:rme,$to:ime}=tme[nme],ome=Ff.mapping.slice(eme);Ff.replaceRange(ome.map(rme.pos),ome.map(ime.pos),nme?Slice.empty:x_),nme==0&&selectionToInsertionEnd$1(Ff,eme,($P?$P.isInline:zP&&zP.isTextblock)?-1:1)}}replaceWith(Ff,x_){let $P=Ff.steps.length,zP=this.ranges;for(let eme=0;eme<zP.length;eme++){let{$from:tme,$to:nme}=zP[eme],rme=Ff.mapping.slice($P),ime=rme.map(tme.pos),ome=rme.map(nme.pos);eme?Ff.deleteRange(ime,ome):(Ff.replaceRangeWith(ime,ome,x_),selectionToInsertionEnd$1(Ff,$P,x_.isInline?-1:1))}}static findFrom(Ff,x_,$P=!1){let zP=Ff.parent.inlineContent?new TextSelection(Ff):findSelectionIn(Ff.node(0),Ff.parent,Ff.pos,Ff.index(),x_,$P);if(zP)return zP;for(let eme=Ff.depth-1;eme>=0;eme--){let tme=x_<0?findSelectionIn(Ff.node(0),Ff.node(eme),Ff.before(eme+1),Ff.index(eme),x_,$P):findSelectionIn(Ff.node(0),Ff.node(eme),Ff.after(eme+1),Ff.index(eme)+1,x_,$P);if(tme)return tme}return null}static near(Ff,x_=1){return this.findFrom(Ff,x_)||this.findFrom(Ff,-x_)||new AllSelection(Ff.node(0))}static atStart(Ff){return findSelectionIn(Ff,Ff,0,0,1)||new AllSelection(Ff)}static atEnd(Ff){return findSelectionIn(Ff,Ff,Ff.content.size,Ff.childCount,-1)||new AllSelection(Ff)}static fromJSON(Ff,x_){if(!x_||!x_.type)throw new RangeError("Invalid input for Selection.fromJSON");let $P=classesById[x_.type];if(!$P)throw new RangeError(`No selection type ${x_.type} defined`);return $P.fromJSON(Ff,x_)}static jsonID(Ff,x_){if(Ff in classesById)throw new RangeError("Duplicate use of selection JSON ID "+Ff);return classesById[Ff]=x_,x_.prototype.jsonID=Ff,x_}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(Ff,x_){this.$from=Ff,this.$to=x_}}let warnedAboutTextSelection=!1;function checkTextSelection(kh){!warnedAboutTextSelection&&!kh.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+kh.parent.type.name+")"))}class TextSelection extends Selection{constructor(Ff,x_=Ff){checkTextSelection(Ff),checkTextSelection(x_),super(Ff,x_)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(Ff,x_){let $P=Ff.resolve(x_.map(this.head));if(!$P.parent.inlineContent)return Selection.near($P);let zP=Ff.resolve(x_.map(this.anchor));return new TextSelection(zP.parent.inlineContent?zP:$P,$P)}replace(Ff,x_=Slice.empty){if(super.replace(Ff,x_),x_==Slice.empty){let $P=this.$from.marksAcross(this.$to);$P&&Ff.ensureMarks($P)}}eq(Ff){return Ff instanceof TextSelection&&Ff.anchor==this.anchor&&Ff.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(Ff,x_){if(typeof x_.anchor!="number"||typeof x_.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(Ff.resolve(x_.anchor),Ff.resolve(x_.head))}static create(Ff,x_,$P=x_){let zP=Ff.resolve(x_);return new this(zP,$P==x_?zP:Ff.resolve($P))}static between(Ff,x_,$P){let zP=Ff.pos-x_.pos;if((!$P||zP)&&($P=zP>=0?1:-1),!x_.parent.inlineContent){let eme=Selection.findFrom(x_,$P,!0)||Selection.findFrom(x_,-$P,!0);if(eme)x_=eme.$head;else return Selection.near(x_,$P)}return Ff.parent.inlineContent||(zP==0?Ff=x_:(Ff=(Selection.findFrom(Ff,-$P,!0)||Selection.findFrom(Ff,$P,!0)).$anchor,Ff.pos<x_.pos!=zP<0&&(Ff=x_))),new TextSelection(Ff,x_)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(Ff,x_){this.anchor=Ff,this.head=x_}map(Ff){return new TextBookmark(Ff.map(this.anchor),Ff.map(this.head))}resolve(Ff){return TextSelection.between(Ff.resolve(this.anchor),Ff.resolve(this.head))}}class NodeSelection extends Selection{constructor(Ff){let x_=Ff.nodeAfter,$P=Ff.node(0).resolve(Ff.pos+x_.nodeSize);super(Ff,$P),this.node=x_}map(Ff,x_){let{deleted:$P,pos:zP}=x_.mapResult(this.anchor),eme=Ff.resolve(zP);return $P?Selection.near(eme):new NodeSelection(eme)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(Ff){return Ff instanceof NodeSelection&&Ff.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(Ff,x_){if(typeof x_.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(Ff.resolve(x_.anchor))}static create(Ff,x_){return new NodeSelection(Ff.resolve(x_))}static isSelectable(Ff){return!Ff.isText&&Ff.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(Ff){this.anchor=Ff}map(Ff){let{deleted:x_,pos:$P}=Ff.mapResult(this.anchor);return x_?new TextBookmark($P,$P):new NodeBookmark($P)}resolve(Ff){let x_=Ff.resolve(this.anchor),$P=x_.nodeAfter;return $P&&NodeSelection.isSelectable($P)?new NodeSelection(x_):Selection.near(x_)}}class AllSelection extends Selection{constructor(Ff){super(Ff.resolve(0),Ff.resolve(Ff.content.size))}replace(Ff,x_=Slice.empty){if(x_==Slice.empty){Ff.delete(0,Ff.doc.content.size);let $P=Selection.atStart(Ff.doc);$P.eq(Ff.selection)||Ff.setSelection($P)}else super.replace(Ff,x_)}toJSON(){return{type:"all"}}static fromJSON(Ff){return new AllSelection(Ff)}map(Ff){return new AllSelection(Ff)}eq(Ff){return Ff instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(kh){return new AllSelection(kh)}};function findSelectionIn(kh,Ff,x_,$P,zP,eme=!1){if(Ff.inlineContent)return TextSelection.create(kh,x_);for(let tme=$P-(zP>0?0:1);zP>0?tme<Ff.childCount:tme>=0;tme+=zP){let nme=Ff.child(tme);if(nme.isAtom){if(!eme&&NodeSelection.isSelectable(nme))return NodeSelection.create(kh,x_-(zP<0?nme.nodeSize:0))}else{let rme=findSelectionIn(kh,nme,x_+zP,zP<0?nme.childCount:0,zP,eme);if(rme)return rme}x_+=nme.nodeSize*zP}return null}function selectionToInsertionEnd$1(kh,Ff,x_){let $P=kh.steps.length-1;if($P<Ff)return;let zP=kh.steps[$P];if(!(zP instanceof ReplaceStep||zP instanceof ReplaceAroundStep))return;let eme=kh.mapping.maps[$P],tme;eme.forEach((nme,rme,ime,ome)=>{tme==null&&(tme=ome)}),kh.setSelection(Selection.near(kh.doc.resolve(tme),x_))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(Ff){super(Ff.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=Ff.selection,this.storedMarks=Ff.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(Ff){if(Ff.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=Ff,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(Ff){return this.storedMarks=Ff,this.updated|=UPDATED_MARKS,this}ensureMarks(Ff){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),Ff)||this.setStoredMarks(Ff),this}addStoredMark(Ff){return this.ensureMarks(Ff.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(Ff){return this.ensureMarks(Ff.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(Ff,x_){super.addStep(Ff,x_),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(Ff){return this.time=Ff,this}replaceSelection(Ff){return this.selection.replace(this,Ff),this}replaceSelectionWith(Ff,x_=!0){let $P=this.selection;return x_&&(Ff=Ff.mark(this.storedMarks||($P.empty?$P.$from.marks():$P.$from.marksAcross($P.$to)||Mark$1.none))),$P.replaceWith(this,Ff),this}deleteSelection(){return this.selection.replace(this),this}insertText(Ff,x_,$P){let zP=this.doc.type.schema;if(x_==null)return Ff?this.replaceSelectionWith(zP.text(Ff),!0):this.deleteSelection();{if($P==null&&($P=x_),$P=$P==null?x_:$P,!Ff)return this.deleteRange(x_,$P);let eme=this.storedMarks;if(!eme){let tme=this.doc.resolve(x_);eme=$P==x_?tme.marks():tme.marksAcross(this.doc.resolve($P))}return this.replaceRangeWith(x_,$P,zP.text(Ff,eme)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(Ff,x_){return this.meta[typeof Ff=="string"?Ff:Ff.key]=x_,this}getMeta(Ff){return this.meta[typeof Ff=="string"?Ff:Ff.key]}get isGeneric(){for(let Ff in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(kh,Ff){return!Ff||!kh?kh:kh.bind(Ff)}class FieldDesc{constructor(Ff,x_,$P){this.name=Ff,this.init=bind(x_.init,$P),this.apply=bind(x_.apply,$P)}}const baseFields=[new FieldDesc("doc",{init(kh){return kh.doc||kh.schema.topNodeType.createAndFill()},apply(kh){return kh.doc}}),new FieldDesc("selection",{init(kh,Ff){return kh.selection||Selection.atStart(Ff.doc)},apply(kh){return kh.selection}}),new FieldDesc("storedMarks",{init(kh){return kh.storedMarks||null},apply(kh,Ff,x_,$P){return $P.selection.$cursor?kh.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(kh,Ff){return kh.scrolledIntoView?Ff+1:Ff}})];class Configuration{constructor(Ff,x_){this.schema=Ff,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),x_&&x_.forEach($P=>{if(this.pluginsByKey[$P.key])throw new RangeError("Adding different instances of a keyed plugin ("+$P.key+")");this.plugins.push($P),this.pluginsByKey[$P.key]=$P,$P.spec.state&&this.fields.push(new FieldDesc($P.key,$P.spec.state,$P))})}}class EditorState{constructor(Ff){this.config=Ff}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(Ff){return this.applyTransaction(Ff).state}filterTransaction(Ff,x_=-1){for(let $P=0;$P<this.config.plugins.length;$P++)if($P!=x_){let zP=this.config.plugins[$P];if(zP.spec.filterTransaction&&!zP.spec.filterTransaction.call(zP,Ff,this))return!1}return!0}applyTransaction(Ff){if(!this.filterTransaction(Ff))return{state:this,transactions:[]};let x_=[Ff],$P=this.applyInner(Ff),zP=null;for(;;){let eme=!1;for(let tme=0;tme<this.config.plugins.length;tme++){let nme=this.config.plugins[tme];if(nme.spec.appendTransaction){let rme=zP?zP[tme].n:0,ime=zP?zP[tme].state:this,ome=rme<x_.length&&nme.spec.appendTransaction.call(nme,rme?x_.slice(rme):x_,ime,$P);if(ome&&$P.filterTransaction(ome,tme)){if(ome.setMeta("appendedTransaction",Ff),!zP){zP=[];for(let sme=0;sme<this.config.plugins.length;sme++)zP.push(sme<tme?{state:$P,n:x_.length}:{state:this,n:0})}x_.push(ome),$P=$P.applyInner(ome),eme=!0}zP&&(zP[tme]={state:$P,n:x_.length})}}if(!eme)return{state:$P,transactions:x_}}}applyInner(Ff){if(!Ff.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let x_=new EditorState(this.config),$P=this.config.fields;for(let zP=0;zP<$P.length;zP++){let eme=$P[zP];x_[eme.name]=eme.apply(Ff,this[eme.name],this,x_)}return x_}get tr(){return new Transaction(this)}static create(Ff){let x_=new Configuration(Ff.doc?Ff.doc.type.schema:Ff.schema,Ff.plugins),$P=new EditorState(x_);for(let zP=0;zP<x_.fields.length;zP++)$P[x_.fields[zP].name]=x_.fields[zP].init(Ff,$P);return $P}reconfigure(Ff){let x_=new Configuration(this.schema,Ff.plugins),$P=x_.fields,zP=new EditorState(x_);for(let eme=0;eme<$P.length;eme++){let tme=$P[eme].name;zP[tme]=this.hasOwnProperty(tme)?this[tme]:$P[eme].init(Ff,zP)}return zP}toJSON(Ff){let x_={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(x_.storedMarks=this.storedMarks.map($P=>$P.toJSON())),Ff&&typeof Ff=="object")for(let $P in Ff){if($P=="doc"||$P=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let zP=Ff[$P],eme=zP.spec.state;eme&&eme.toJSON&&(x_[$P]=eme.toJSON.call(zP,this[zP.key]))}return x_}static fromJSON(Ff,x_,$P){if(!x_)throw new RangeError("Invalid input for EditorState.fromJSON");if(!Ff.schema)throw new RangeError("Required config field 'schema' missing");let zP=new Configuration(Ff.schema,Ff.plugins),eme=new EditorState(zP);return zP.fields.forEach(tme=>{if(tme.name=="doc")eme.doc=Node$3.fromJSON(Ff.schema,x_.doc);else if(tme.name=="selection")eme.selection=Selection.fromJSON(eme.doc,x_.selection);else if(tme.name=="storedMarks")x_.storedMarks&&(eme.storedMarks=x_.storedMarks.map(Ff.schema.markFromJSON));else{if($P)for(let nme in $P){let rme=$P[nme],ime=rme.spec.state;if(rme.key==tme.name&&ime&&ime.fromJSON&&Object.prototype.hasOwnProperty.call(x_,nme)){eme[tme.name]=ime.fromJSON.call(rme,Ff,x_[nme],eme);return}}eme[tme.name]=tme.init(Ff,eme)}}),eme}}function bindProps(kh,Ff,x_){for(let $P in kh){let zP=kh[$P];zP instanceof Function?zP=zP.bind(Ff):$P=="handleDOMEvents"&&(zP=bindProps(zP,Ff,{})),x_[$P]=zP}return x_}let Plugin$1=class{constructor(Ff){this.spec=Ff,this.props={},Ff.props&&bindProps(Ff.props,this,this.props),this.key=Ff.key?Ff.key.key:createKey("plugin")}getState(Ff){return Ff[this.key]}};const keys$1=Object.create(null);function createKey(kh){return kh in keys$1?kh+"$"+ ++keys$1[kh]:(keys$1[kh]=0,kh+"$")}class PluginKey{constructor(Ff="key"){this.key=createKey(Ff)}get(Ff){return Ff.config.pluginsByKey[this.key]}getState(Ff){return Ff[this.key]}}const domIndex=function(kh){for(var Ff=0;;Ff++)if(kh=kh.previousSibling,!kh)return Ff},parentNode=function(kh){let Ff=kh.assignedSlot||kh.parentNode;return Ff&&Ff.nodeType==11?Ff.host:Ff};let reusedRange=null;const textRange$1=function(kh,Ff,x_){let $P=reusedRange||(reusedRange=document.createRange());return $P.setEnd(kh,x_==null?kh.nodeValue.length:x_),$P.setStart(kh,Ff||0),$P},isEquivalentPosition=function(kh,Ff,x_,$P){return x_&&(scanFor(kh,Ff,x_,$P,-1)||scanFor(kh,Ff,x_,$P,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(kh,Ff,x_,$P,zP){for(;;){if(kh==x_&&Ff==$P)return!0;if(Ff==(zP<0?0:nodeSize(kh))){let eme=kh.parentNode;if(!eme||eme.nodeType!=1||hasBlockDesc(kh)||atomElements.test(kh.nodeName)||kh.contentEditable=="false")return!1;Ff=domIndex(kh)+(zP<0?0:1),kh=eme}else if(kh.nodeType==1){if(kh=kh.childNodes[Ff+(zP<0?-1:0)],kh.contentEditable=="false")return!1;Ff=zP<0?nodeSize(kh):0}else return!1}}function nodeSize(kh){return kh.nodeType==3?kh.nodeValue.length:kh.childNodes.length}function isOnEdge(kh,Ff,x_){for(let $P=Ff==0,zP=Ff==nodeSize(kh);$P||zP;){if(kh==x_)return!0;let eme=domIndex(kh);if(kh=kh.parentNode,!kh)return!1;$P=$P&&eme==0,zP=zP&&eme==nodeSize(kh)}}function hasBlockDesc(kh){let Ff;for(let x_=kh;x_&&!(Ff=x_.pmViewDesc);x_=x_.parentNode);return Ff&&Ff.node&&Ff.node.isBlock&&(Ff.dom==kh||Ff.contentDOM==kh)}const selectionCollapsed=function(kh){return kh.focusNode&&isEquivalentPosition(kh.focusNode,kh.focusOffset,kh.anchorNode,kh.anchorOffset)};function keyEvent(kh,Ff){let x_=document.createEvent("Event");return x_.initEvent("keydown",!0,!0),x_.keyCode=kh,x_.key=x_.code=Ff,x_}function deepActiveElement(kh){let Ff=kh.activeElement;for(;Ff&&Ff.shadowRoot;)Ff=Ff.shadowRoot.activeElement;return Ff}function caretFromPoint(kh,Ff,x_){if(kh.caretPositionFromPoint)try{let $P=kh.caretPositionFromPoint(Ff,x_);if($P)return{node:$P.offsetNode,offset:$P.offset}}catch($P){}if(kh.caretRangeFromPoint){let $P=kh.caretRangeFromPoint(Ff,x_);if($P)return{node:$P.startContainer,offset:$P.startOffset}}}const nav=typeof navigator!="undefined"?navigator:null,doc=typeof document!="undefined"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$2=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$2&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$2&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$2&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(kh){return{left:0,right:kh.documentElement.clientWidth,top:0,bottom:kh.documentElement.clientHeight}}function getSide(kh,Ff){return typeof kh=="number"?kh:kh[Ff]}function clientRect(kh){let Ff=kh.getBoundingClientRect(),x_=Ff.width/kh.offsetWidth||1,$P=Ff.height/kh.offsetHeight||1;return{left:Ff.left,right:Ff.left+kh.clientWidth*x_,top:Ff.top,bottom:Ff.top+kh.clientHeight*$P}}function scrollRectIntoView(kh,Ff,x_){let $P=kh.someProp("scrollThreshold")||0,zP=kh.someProp("scrollMargin")||5,eme=kh.dom.ownerDocument;for(let tme=x_||kh.dom;tme;tme=parentNode(tme)){if(tme.nodeType!=1)continue;let nme=tme,rme=nme==eme.body,ime=rme?windowRect(eme):clientRect(nme),ome=0,sme=0;if(Ff.top<ime.top+getSide($P,"top")?sme=-(ime.top-Ff.top+getSide(zP,"top")):Ff.bottom>ime.bottom-getSide($P,"bottom")&&(sme=Ff.bottom-Ff.top>ime.bottom-ime.top?Ff.top+getSide(zP,"top")-ime.top:Ff.bottom-ime.bottom+getSide(zP,"bottom")),Ff.left<ime.left+getSide($P,"left")?ome=-(ime.left-Ff.left+getSide(zP,"left")):Ff.right>ime.right-getSide($P,"right")&&(ome=Ff.right-ime.right+getSide(zP,"right")),ome||sme)if(rme)eme.defaultView.scrollBy(ome,sme);else{let ame=nme.scrollLeft,lme=nme.scrollTop;sme&&(nme.scrollTop+=sme),ome&&(nme.scrollLeft+=ome);let ume=nme.scrollLeft-ame,dme=nme.scrollTop-lme;Ff={left:Ff.left-ume,top:Ff.top-dme,right:Ff.right-ume,bottom:Ff.bottom-dme}}if(rme||/^(fixed|sticky)$/.test(getComputedStyle(tme).position))break}}function storeScrollPos(kh){let Ff=kh.dom.getBoundingClientRect(),x_=Math.max(0,Ff.top),$P,zP;for(let eme=(Ff.left+Ff.right)/2,tme=x_+1;tme<Math.min(innerHeight,Ff.bottom);tme+=5){let nme=kh.root.elementFromPoint(eme,tme);if(!nme||nme==kh.dom||!kh.dom.contains(nme))continue;let rme=nme.getBoundingClientRect();if(rme.top>=x_-20){$P=nme,zP=rme.top;break}}return{refDOM:$P,refTop:zP,stack:scrollStack(kh.dom)}}function scrollStack(kh){let Ff=[],x_=kh.ownerDocument;for(let $P=kh;$P&&(Ff.push({dom:$P,top:$P.scrollTop,left:$P.scrollLeft}),kh!=x_);$P=parentNode($P));return Ff}function resetScrollPos({refDOM:kh,refTop:Ff,stack:x_}){let $P=kh?kh.getBoundingClientRect().top:0;restoreScrollStack(x_,$P==0?0:$P-Ff)}function restoreScrollStack(kh,Ff){for(let x_=0;x_<kh.length;x_++){let{dom:$P,top:zP,left:eme}=kh[x_];$P.scrollTop!=zP+Ff&&($P.scrollTop=zP+Ff),$P.scrollLeft!=eme&&($P.scrollLeft=eme)}}let preventScrollSupported=null;function focusPreventScroll(kh){if(kh.setActive)return kh.setActive();if(preventScrollSupported)return kh.focus(preventScrollSupported);let Ff=scrollStack(kh);kh.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(Ff,0))}function findOffsetInNode(kh,Ff){let x_,$P=2e8,zP,eme=0,tme=Ff.top,nme=Ff.top,rme,ime;for(let ome=kh.firstChild,sme=0;ome;ome=ome.nextSibling,sme++){let ame;if(ome.nodeType==1)ame=ome.getClientRects();else if(ome.nodeType==3)ame=textRange$1(ome).getClientRects();else continue;for(let lme=0;lme<ame.length;lme++){let ume=ame[lme];if(ume.top<=tme&&ume.bottom>=nme){tme=Math.max(ume.bottom,tme),nme=Math.min(ume.top,nme);let dme=ume.left>Ff.left?ume.left-Ff.left:ume.right<Ff.left?Ff.left-ume.right:0;if(dme<$P){x_=ome,$P=dme,zP=dme&&x_.nodeType==3?{left:ume.right<Ff.left?ume.right:ume.left,top:Ff.top}:Ff,ome.nodeType==1&&dme&&(eme=sme+(Ff.left>=(ume.left+ume.right)/2?1:0));continue}}else ume.top>Ff.top&&!rme&&ume.left<=Ff.left&&ume.right>=Ff.left&&(rme=ome,ime={left:Math.max(ume.left,Math.min(ume.right,Ff.left)),top:ume.top});!x_&&(Ff.left>=ume.right&&Ff.top>=ume.top||Ff.left>=ume.left&&Ff.top>=ume.bottom)&&(eme=sme+1)}}return!x_&&rme&&(x_=rme,zP=ime,$P=0),x_&&x_.nodeType==3?findOffsetInText(x_,zP):!x_||$P&&x_.nodeType==1?{node:kh,offset:eme}:findOffsetInNode(x_,zP)}function findOffsetInText(kh,Ff){let x_=kh.nodeValue.length,$P=document.createRange();for(let zP=0;zP<x_;zP++){$P.setEnd(kh,zP+1),$P.setStart(kh,zP);let eme=singleRect($P,1);if(eme.top!=eme.bottom&&inRect(Ff,eme))return{node:kh,offset:zP+(Ff.left>=(eme.left+eme.right)/2?1:0)}}return{node:kh,offset:0}}function inRect(kh,Ff){return kh.left>=Ff.left-1&&kh.left<=Ff.right+1&&kh.top>=Ff.top-1&&kh.top<=Ff.bottom+1}function targetKludge(kh,Ff){let x_=kh.parentNode;return x_&&/^li$/i.test(x_.nodeName)&&Ff.left<kh.getBoundingClientRect().left?x_:kh}function posFromElement(kh,Ff,x_){let{node:$P,offset:zP}=findOffsetInNode(Ff,x_),eme=-1;if($P.nodeType==1&&!$P.firstChild){let tme=$P.getBoundingClientRect();eme=tme.left!=tme.right&&x_.left>(tme.left+tme.right)/2?1:-1}return kh.docView.posFromDOM($P,zP,eme)}function posFromCaret(kh,Ff,x_,$P){let zP=-1;for(let eme=Ff,tme=!1;eme!=kh.dom;){let nme=kh.docView.nearestDesc(eme,!0);if(!nme)return null;if(nme.dom.nodeType==1&&(nme.node.isBlock&&nme.parent&&!tme||!nme.contentDOM)){let rme=nme.dom.getBoundingClientRect();if(nme.node.isBlock&&nme.parent&&!tme&&(tme=!0,rme.left>$P.left||rme.top>$P.top?zP=nme.posBefore:(rme.right<$P.left||rme.bottom<$P.top)&&(zP=nme.posAfter)),!nme.contentDOM&&zP<0&&!nme.node.isText)return(nme.node.isBlock?$P.top<(rme.top+rme.bottom)/2:$P.left<(rme.left+rme.right)/2)?nme.posBefore:nme.posAfter}eme=nme.dom.parentNode}return zP>-1?zP:kh.docView.posFromDOM(Ff,x_,-1)}function elementFromPoint(kh,Ff,x_){let $P=kh.childNodes.length;if($P&&x_.top<x_.bottom)for(let zP=Math.max(0,Math.min($P-1,Math.floor($P*(Ff.top-x_.top)/(x_.bottom-x_.top))-2)),eme=zP;;){let tme=kh.childNodes[eme];if(tme.nodeType==1){let nme=tme.getClientRects();for(let rme=0;rme<nme.length;rme++){let ime=nme[rme];if(inRect(Ff,ime))return elementFromPoint(tme,Ff,ime)}}if((eme=(eme+1)%$P)==zP)break}return kh}function posAtCoords(kh,Ff){let x_=kh.dom.ownerDocument,$P,zP=0,eme=caretFromPoint(x_,Ff.left,Ff.top);eme&&({node:$P,offset:zP}=eme);let tme=(kh.root.elementFromPoint?kh.root:x_).elementFromPoint(Ff.left,Ff.top),nme;if(!tme||!kh.dom.contains(tme.nodeType!=1?tme.parentNode:tme)){let ime=kh.dom.getBoundingClientRect();if(!inRect(Ff,ime)||(tme=elementFromPoint(kh.dom,Ff,ime),!tme))return null}if(safari)for(let ime=tme;$P&&ime;ime=parentNode(ime))ime.draggable&&($P=void 0);if(tme=targetKludge(tme,Ff),$P){if(gecko&&$P.nodeType==1&&(zP=Math.min(zP,$P.childNodes.length),zP<$P.childNodes.length)){let ome=$P.childNodes[zP],sme;ome.nodeName=="IMG"&&(sme=ome.getBoundingClientRect()).right<=Ff.left&&sme.bottom>Ff.top&&zP++}let ime;webkit&&zP&&$P.nodeType==1&&(ime=$P.childNodes[zP-1]).nodeType==1&&ime.contentEditable=="false"&&ime.getBoundingClientRect().top>=Ff.top&&zP--,$P==kh.dom&&zP==$P.childNodes.length-1&&$P.lastChild.nodeType==1&&Ff.top>$P.lastChild.getBoundingClientRect().bottom?nme=kh.state.doc.content.size:(zP==0||$P.nodeType!=1||$P.childNodes[zP-1].nodeName!="BR")&&(nme=posFromCaret(kh,$P,zP,Ff))}nme==null&&(nme=posFromElement(kh,tme,Ff));let rme=kh.docView.nearestDesc(tme,!0);return{pos:nme,inside:rme?rme.posAtStart-rme.border:-1}}function nonZero(kh){return kh.top<kh.bottom||kh.left<kh.right}function singleRect(kh,Ff){let x_=kh.getClientRects();if(x_.length){let $P=x_[Ff<0?0:x_.length-1];if(nonZero($P))return $P}return Array.prototype.find.call(x_,nonZero)||kh.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(kh,Ff,x_){let{node:$P,offset:zP,atom:eme}=kh.docView.domFromPos(Ff,x_<0?-1:1),tme=webkit||gecko;if($P.nodeType==3)if(tme&&(BIDI.test($P.nodeValue)||(x_<0?!zP:zP==$P.nodeValue.length))){let rme=singleRect(textRange$1($P,zP,zP),x_);if(gecko&&zP&&/\s/.test($P.nodeValue[zP-1])&&zP<$P.nodeValue.length){let ime=singleRect(textRange$1($P,zP-1,zP-1),-1);if(ime.top==rme.top){let ome=singleRect(textRange$1($P,zP,zP+1),-1);if(ome.top!=rme.top)return flattenV(ome,ome.left<ime.left)}}return rme}else{let rme=zP,ime=zP,ome=x_<0?1:-1;return x_<0&&!zP?(ime++,ome=-1):x_>=0&&zP==$P.nodeValue.length?(rme--,ome=1):x_<0?rme--:ime++,flattenV(singleRect(textRange$1($P,rme,ime),ome),ome<0)}if(!kh.state.doc.resolve(Ff-(eme||0)).parent.inlineContent){if(eme==null&&zP&&(x_<0||zP==nodeSize($P))){let rme=$P.childNodes[zP-1];if(rme.nodeType==1)return flattenH(rme.getBoundingClientRect(),!1)}if(eme==null&&zP<nodeSize($P)){let rme=$P.childNodes[zP];if(rme.nodeType==1)return flattenH(rme.getBoundingClientRect(),!0)}return flattenH($P.getBoundingClientRect(),x_>=0)}if(eme==null&&zP&&(x_<0||zP==nodeSize($P))){let rme=$P.childNodes[zP-1],ime=rme.nodeType==3?textRange$1(rme,nodeSize(rme)-(tme?0:1)):rme.nodeType==1&&(rme.nodeName!="BR"||!rme.nextSibling)?rme:null;if(ime)return flattenV(singleRect(ime,1),!1)}if(eme==null&&zP<nodeSize($P)){let rme=$P.childNodes[zP];for(;rme.pmViewDesc&&rme.pmViewDesc.ignoreForCoords;)rme=rme.nextSibling;let ime=rme?rme.nodeType==3?textRange$1(rme,0,tme?0:1):rme.nodeType==1?rme:null:null;if(ime)return flattenV(singleRect(ime,-1),!0)}return flattenV(singleRect($P.nodeType==3?textRange$1($P):$P,-x_),x_>=0)}function flattenV(kh,Ff){if(kh.width==0)return kh;let x_=Ff?kh.left:kh.right;return{top:kh.top,bottom:kh.bottom,left:x_,right:x_}}function flattenH(kh,Ff){if(kh.height==0)return kh;let x_=Ff?kh.top:kh.bottom;return{top:x_,bottom:x_,left:kh.left,right:kh.right}}function withFlushedState(kh,Ff,x_){let $P=kh.state,zP=kh.root.activeElement;$P!=Ff&&kh.updateState(Ff),zP!=kh.dom&&kh.focus();try{return x_()}finally{$P!=Ff&&kh.updateState($P),zP!=kh.dom&&zP&&zP.focus()}}function endOfTextblockVertical(kh,Ff,x_){let $P=Ff.selection,zP=x_=="up"?$P.$from:$P.$to;return withFlushedState(kh,Ff,()=>{let{node:eme}=kh.docView.domFromPos(zP.pos,x_=="up"?-1:1);for(;;){let nme=kh.docView.nearestDesc(eme,!0);if(!nme)break;if(nme.node.isBlock){eme=nme.contentDOM||nme.dom;break}eme=nme.dom.parentNode}let tme=coordsAtPos(kh,zP.pos,1);for(let nme=eme.firstChild;nme;nme=nme.nextSibling){let rme;if(nme.nodeType==1)rme=nme.getClientRects();else if(nme.nodeType==3)rme=textRange$1(nme,0,nme.nodeValue.length).getClientRects();else continue;for(let ime=0;ime<rme.length;ime++){let ome=rme[ime];if(ome.bottom>ome.top+1&&(x_=="up"?tme.top-ome.top>(ome.bottom-tme.top)*2:ome.bottom-tme.bottom>(tme.bottom-ome.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(kh,Ff,x_){let{$head:$P}=Ff.selection;if(!$P.parent.isTextblock)return!1;let zP=$P.parentOffset,eme=!zP,tme=zP==$P.parent.content.size,nme=kh.domSelection();return!maybeRTL.test($P.parent.textContent)||!nme.modify?x_=="left"||x_=="backward"?eme:tme:withFlushedState(kh,Ff,()=>{let{focusNode:rme,focusOffset:ime,anchorNode:ome,anchorOffset:sme}=kh.domSelectionRange(),ame=nme.caretBidiLevel;nme.modify("move",x_,"character");let lme=$P.depth?kh.docView.domAfterPos($P.before()):kh.dom,{focusNode:ume,focusOffset:dme}=kh.domSelectionRange(),pme=ume&&!lme.contains(ume.nodeType==1?ume:ume.parentNode)||rme==ume&&ime==dme;try{nme.collapse(ome,sme),rme&&(rme!=ome||ime!=sme)&&nme.extend&&nme.extend(rme,ime)}catch(hme){}return ame!=null&&(nme.caretBidiLevel=ame),pme})}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(kh,Ff,x_){return cachedState==Ff&&cachedDir==x_?cachedResult:(cachedState=Ff,cachedDir=x_,cachedResult=x_=="up"||x_=="down"?endOfTextblockVertical(kh,Ff,x_):endOfTextblockHorizontal(kh,Ff,x_))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(Ff,x_,$P,zP){this.parent=Ff,this.children=x_,this.dom=$P,this.contentDOM=zP,this.dirty=NOT_DIRTY,$P.pmViewDesc=this}matchesWidget(Ff){return!1}matchesMark(Ff){return!1}matchesNode(Ff,x_,$P){return!1}matchesHack(Ff){return!1}parseRule(){return null}stopEvent(Ff){return!1}get size(){let Ff=0;for(let x_=0;x_<this.children.length;x_++)Ff+=this.children[x_].size;return Ff}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let Ff=0;Ff<this.children.length;Ff++)this.children[Ff].destroy()}posBeforeChild(Ff){for(let x_=0,$P=this.posAtStart;;x_++){let zP=this.children[x_];if(zP==Ff)return $P;$P+=zP.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(Ff,x_,$P){if(this.contentDOM&&this.contentDOM.contains(Ff.nodeType==1?Ff:Ff.parentNode))if($P<0){let eme,tme;if(Ff==this.contentDOM)eme=Ff.childNodes[x_-1];else{for(;Ff.parentNode!=this.contentDOM;)Ff=Ff.parentNode;eme=Ff.previousSibling}for(;eme&&!((tme=eme.pmViewDesc)&&tme.parent==this);)eme=eme.previousSibling;return eme?this.posBeforeChild(tme)+tme.size:this.posAtStart}else{let eme,tme;if(Ff==this.contentDOM)eme=Ff.childNodes[x_];else{for(;Ff.parentNode!=this.contentDOM;)Ff=Ff.parentNode;eme=Ff.nextSibling}for(;eme&&!((tme=eme.pmViewDesc)&&tme.parent==this);)eme=eme.nextSibling;return eme?this.posBeforeChild(tme):this.posAtEnd}let zP;if(Ff==this.dom&&this.contentDOM)zP=x_>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))zP=Ff.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(x_==0)for(let eme=Ff;;eme=eme.parentNode){if(eme==this.dom){zP=!1;break}if(eme.previousSibling)break}if(zP==null&&x_==Ff.childNodes.length)for(let eme=Ff;;eme=eme.parentNode){if(eme==this.dom){zP=!0;break}if(eme.nextSibling)break}}return(zP==null?$P>0:zP)?this.posAtEnd:this.posAtStart}nearestDesc(Ff,x_=!1){for(let $P=!0,zP=Ff;zP;zP=zP.parentNode){let eme=this.getDesc(zP),tme;if(eme&&(!x_||eme.node))if($P&&(tme=eme.nodeDOM)&&!(tme.nodeType==1?tme.contains(Ff.nodeType==1?Ff:Ff.parentNode):tme==Ff))$P=!1;else return eme}}getDesc(Ff){let x_=Ff.pmViewDesc;for(let $P=x_;$P;$P=$P.parent)if($P==this)return x_}posFromDOM(Ff,x_,$P){for(let zP=Ff;zP;zP=zP.parentNode){let eme=this.getDesc(zP);if(eme)return eme.localPosFromDOM(Ff,x_,$P)}return-1}descAt(Ff){for(let x_=0,$P=0;x_<this.children.length;x_++){let zP=this.children[x_],eme=$P+zP.size;if($P==Ff&&eme!=$P){for(;!zP.border&&zP.children.length;)zP=zP.children[0];return zP}if(Ff<eme)return zP.descAt(Ff-$P-zP.border);$P=eme}}domFromPos(Ff,x_){if(!this.contentDOM)return{node:this.dom,offset:0,atom:Ff+1};let $P=0,zP=0;for(let eme=0;$P<this.children.length;$P++){let tme=this.children[$P],nme=eme+tme.size;if(nme>Ff||tme instanceof TrailingHackViewDesc){zP=Ff-eme;break}eme=nme}if(zP)return this.children[$P].domFromPos(zP-this.children[$P].border,x_);for(let eme;$P&&!(eme=this.children[$P-1]).size&&eme instanceof WidgetViewDesc&&eme.side>=0;$P--);if(x_<=0){let eme,tme=!0;for(;eme=$P?this.children[$P-1]:null,!(!eme||eme.dom.parentNode==this.contentDOM);$P--,tme=!1);return eme&&x_&&tme&&!eme.border&&!eme.domAtom?eme.domFromPos(eme.size,x_):{node:this.contentDOM,offset:eme?domIndex(eme.dom)+1:0}}else{let eme,tme=!0;for(;eme=$P<this.children.length?this.children[$P]:null,!(!eme||eme.dom.parentNode==this.contentDOM);$P++,tme=!1);return eme&&tme&&!eme.border&&!eme.domAtom?eme.domFromPos(0,x_):{node:this.contentDOM,offset:eme?domIndex(eme.dom):this.contentDOM.childNodes.length}}}parseRange(Ff,x_,$P=0){if(this.children.length==0)return{node:this.contentDOM,from:Ff,to:x_,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let zP=-1,eme=-1;for(let tme=$P,nme=0;;nme++){let rme=this.children[nme],ime=tme+rme.size;if(zP==-1&&Ff<=ime){let ome=tme+rme.border;if(Ff>=ome&&x_<=ime-rme.border&&rme.node&&rme.contentDOM&&this.contentDOM.contains(rme.contentDOM))return rme.parseRange(Ff,x_,ome);Ff=tme;for(let sme=nme;sme>0;sme--){let ame=this.children[sme-1];if(ame.size&&ame.dom.parentNode==this.contentDOM&&!ame.emptyChildAt(1)){zP=domIndex(ame.dom)+1;break}Ff-=ame.size}zP==-1&&(zP=0)}if(zP>-1&&(ime>x_||nme==this.children.length-1)){x_=ime;for(let ome=nme+1;ome<this.children.length;ome++){let sme=this.children[ome];if(sme.size&&sme.dom.parentNode==this.contentDOM&&!sme.emptyChildAt(-1)){eme=domIndex(sme.dom);break}x_+=sme.size}eme==-1&&(eme=this.contentDOM.childNodes.length);break}tme=ime}return{node:this.contentDOM,from:Ff,to:x_,fromOffset:zP,toOffset:eme}}emptyChildAt(Ff){if(this.border||!this.contentDOM||!this.children.length)return!1;let x_=this.children[Ff<0?0:this.children.length-1];return x_.size==0||x_.emptyChildAt(Ff)}domAfterPos(Ff){let{node:x_,offset:$P}=this.domFromPos(Ff,0);if(x_.nodeType!=1||$P==x_.childNodes.length)throw new RangeError("No node after pos "+Ff);return x_.childNodes[$P]}setSelection(Ff,x_,$P,zP=!1){let eme=Math.min(Ff,x_),tme=Math.max(Ff,x_);for(let ame=0,lme=0;ame<this.children.length;ame++){let ume=this.children[ame],dme=lme+ume.size;if(eme>lme&&tme<dme)return ume.setSelection(Ff-lme-ume.border,x_-lme-ume.border,$P,zP);lme=dme}let nme=this.domFromPos(Ff,Ff?-1:1),rme=x_==Ff?nme:this.domFromPos(x_,x_?-1:1),ime=$P.getSelection(),ome=!1;if((gecko||safari)&&Ff==x_){let{node:ame,offset:lme}=nme;if(ame.nodeType==3){if(ome=!!(lme&&ame.nodeValue[lme-1]==`
`),ome&&lme==ame.nodeValue.length)for(let ume=ame,dme;ume;ume=ume.parentNode){if(dme=ume.nextSibling){dme.nodeName=="BR"&&(nme=rme={node:dme.parentNode,offset:domIndex(dme)+1});break}let pme=ume.pmViewDesc;if(pme&&pme.node&&pme.node.isBlock)break}}else{let ume=ame.childNodes[lme-1];ome=ume&&(ume.nodeName=="BR"||ume.contentEditable=="false")}}if(gecko&&ime.focusNode&&ime.focusNode!=rme.node&&ime.focusNode.nodeType==1){let ame=ime.focusNode.childNodes[ime.focusOffset];ame&&ame.contentEditable=="false"&&(zP=!0)}if(!(zP||ome&&safari)&&isEquivalentPosition(nme.node,nme.offset,ime.anchorNode,ime.anchorOffset)&&isEquivalentPosition(rme.node,rme.offset,ime.focusNode,ime.focusOffset))return;let sme=!1;if((ime.extend||Ff==x_)&&!ome){ime.collapse(nme.node,nme.offset);try{Ff!=x_&&ime.extend(rme.node,rme.offset),sme=!0}catch(ame){}}if(!sme){if(Ff>x_){let lme=nme;nme=rme,rme=lme}let ame=document.createRange();ame.setEnd(rme.node,rme.offset),ame.setStart(nme.node,nme.offset),ime.removeAllRanges(),ime.addRange(ame)}}ignoreMutation(Ff){return!this.contentDOM&&Ff.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(Ff,x_){for(let $P=0,zP=0;zP<this.children.length;zP++){let eme=this.children[zP],tme=$P+eme.size;if($P==tme?Ff<=tme&&x_>=$P:Ff<tme&&x_>$P){let nme=$P+eme.border,rme=tme-eme.border;if(Ff>=nme&&x_<=rme){this.dirty=Ff==$P||x_==tme?CONTENT_DIRTY:CHILD_DIRTY,Ff==nme&&x_==rme&&(eme.contentLost||eme.dom.parentNode!=this.contentDOM)?eme.dirty=NODE_DIRTY:eme.markDirty(Ff-nme,x_-nme);return}else eme.dirty=eme.dom==eme.contentDOM&&eme.dom.parentNode==this.contentDOM&&!eme.children.length?CONTENT_DIRTY:NODE_DIRTY}$P=tme}this.dirty=CONTENT_DIRTY}markParentsDirty(){let Ff=1;for(let x_=this.parent;x_;x_=x_.parent,Ff++){let $P=Ff==1?CONTENT_DIRTY:CHILD_DIRTY;x_.dirty<$P&&(x_.dirty=$P)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WidgetViewDesc extends ViewDesc{constructor(Ff,x_,$P,zP){let eme,tme=x_.type.toDOM;if(typeof tme=="function"&&(tme=tme($P,()=>{if(!eme)return zP;if(eme.parent)return eme.parent.posBeforeChild(eme)})),!x_.type.spec.raw){if(tme.nodeType!=1){let nme=document.createElement("span");nme.appendChild(tme),tme=nme}tme.contentEditable="false",tme.classList.add("ProseMirror-widget")}super(Ff,[],tme,null),this.widget=x_,this.widget=x_,eme=this}matchesWidget(Ff){return this.dirty==NOT_DIRTY&&Ff.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(Ff){let x_=this.widget.spec.stopEvent;return x_?x_(Ff):!1}ignoreMutation(Ff){return Ff.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(Ff,x_,$P,zP){super(Ff,[],x_,null),this.textDOM=$P,this.text=zP}get size(){return this.text.length}localPosFromDOM(Ff,x_){return Ff!=this.textDOM?this.posAtStart+(x_?this.size:0):this.posAtStart+x_}domFromPos(Ff){return{node:this.textDOM,offset:Ff}}ignoreMutation(Ff){return Ff.type==="characterData"&&Ff.target.nodeValue==Ff.oldValue}}class MarkViewDesc extends ViewDesc{constructor(Ff,x_,$P,zP){super(Ff,[],$P,zP),this.mark=x_}static create(Ff,x_,$P,zP){let eme=zP.nodeViews[x_.type.name],tme=eme&&eme(x_,zP,$P);return(!tme||!tme.dom)&&(tme=DOMSerializer.renderSpec(document,x_.type.spec.toDOM(x_,$P))),new MarkViewDesc(Ff,x_,tme.dom,tme.contentDOM||tme.dom)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(Ff){return this.dirty!=NODE_DIRTY&&this.mark.eq(Ff)}markDirty(Ff,x_){if(super.markDirty(Ff,x_),this.dirty!=NOT_DIRTY){let $P=this.parent;for(;!$P.node;)$P=$P.parent;$P.dirty<this.dirty&&($P.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(Ff,x_,$P){let zP=MarkViewDesc.create(this.parent,this.mark,!0,$P),eme=this.children,tme=this.size;x_<tme&&(eme=replaceNodes(eme,x_,tme,$P)),Ff>0&&(eme=replaceNodes(eme,0,Ff,$P));for(let nme=0;nme<eme.length;nme++)eme[nme].parent=zP;return zP.children=eme,zP}}class NodeViewDesc extends ViewDesc{constructor(Ff,x_,$P,zP,eme,tme,nme,rme,ime){super(Ff,[],eme,tme),this.node=x_,this.outerDeco=$P,this.innerDeco=zP,this.nodeDOM=nme}static create(Ff,x_,$P,zP,eme,tme){let nme=eme.nodeViews[x_.type.name],rme,ime=nme&&nme(x_,eme,()=>{if(!rme)return tme;if(rme.parent)return rme.parent.posBeforeChild(rme)},$P,zP),ome=ime&&ime.dom,sme=ime&&ime.contentDOM;if(x_.isText){if(!ome)ome=document.createTextNode(x_.text);else if(ome.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else ome||({dom:ome,contentDOM:sme}=DOMSerializer.renderSpec(document,x_.type.spec.toDOM(x_)));!sme&&!x_.isText&&ome.nodeName!="BR"&&(ome.hasAttribute("contenteditable")||(ome.contentEditable="false"),x_.type.spec.draggable&&(ome.draggable=!0));let ame=ome;return ome=applyOuterDeco(ome,$P,x_),ime?rme=new CustomNodeViewDesc(Ff,x_,$P,zP,ome,sme||null,ame,ime,eme,tme+1):x_.isText?new TextViewDesc(Ff,x_,$P,zP,ome,ame,eme):new NodeViewDesc(Ff,x_,$P,zP,ome,sme||null,ame,eme,tme+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let Ff={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(Ff.preserveWhitespace="full"),!this.contentDOM)Ff.getContent=()=>this.node.content;else if(!this.contentLost)Ff.contentElement=this.contentDOM;else{for(let x_=this.children.length-1;x_>=0;x_--){let $P=this.children[x_];if(this.dom.contains($P.dom.parentNode)){Ff.contentElement=$P.dom.parentNode;break}}Ff.contentElement||(Ff.getContent=()=>Fragment.empty)}return Ff}matchesNode(Ff,x_,$P){return this.dirty==NOT_DIRTY&&Ff.eq(this.node)&&sameOuterDeco(x_,this.outerDeco)&&$P.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(Ff,x_){let $P=this.node.inlineContent,zP=x_,eme=Ff.composing?this.localCompositionInfo(Ff,x_):null,tme=eme&&eme.pos>-1?eme:null,nme=eme&&eme.pos<0,rme=new ViewTreeUpdater(this,tme&&tme.node,Ff);iterDeco(this.node,this.innerDeco,(ime,ome,sme)=>{ime.spec.marks?rme.syncToMarks(ime.spec.marks,$P,Ff):ime.type.side>=0&&!sme&&rme.syncToMarks(ome==this.node.childCount?Mark$1.none:this.node.child(ome).marks,$P,Ff),rme.placeWidget(ime,Ff,zP)},(ime,ome,sme,ame)=>{rme.syncToMarks(ime.marks,$P,Ff);let lme;rme.findNodeMatch(ime,ome,sme,ame)||nme&&Ff.state.selection.from>zP&&Ff.state.selection.to<zP+ime.nodeSize&&(lme=rme.findIndexWithChild(eme.node))>-1&&rme.updateNodeAt(ime,ome,sme,lme,Ff)||rme.updateNextNode(ime,ome,sme,Ff,ame,zP)||rme.addNode(ime,ome,sme,Ff,zP),zP+=ime.nodeSize}),rme.syncToMarks([],$P,Ff),this.node.isTextblock&&rme.addTextblockHacks(),rme.destroyRest(),(rme.changed||this.dirty==CONTENT_DIRTY)&&(tme&&this.protectLocalComposition(Ff,tme),renderDescs(this.contentDOM,this.children,Ff),ios&&iosHacks(this.dom))}localCompositionInfo(Ff,x_){let{from:$P,to:zP}=Ff.state.selection;if(!(Ff.state.selection instanceof TextSelection)||$P<x_||zP>x_+this.node.content.size)return null;let eme=Ff.domSelectionRange(),tme=nearbyTextNode(eme.focusNode,eme.focusOffset);if(!tme||!this.dom.contains(tme.parentNode))return null;if(this.node.inlineContent){let nme=tme.nodeValue,rme=findTextInFragment(this.node.content,nme,$P-x_,zP-x_);return rme<0?null:{node:tme,pos:rme,text:nme}}else return{node:tme,pos:-1,text:""}}protectLocalComposition(Ff,{node:x_,pos:$P,text:zP}){if(this.getDesc(x_))return;let eme=x_;for(;eme.parentNode!=this.contentDOM;eme=eme.parentNode){for(;eme.previousSibling;)eme.parentNode.removeChild(eme.previousSibling);for(;eme.nextSibling;)eme.parentNode.removeChild(eme.nextSibling);eme.pmViewDesc&&(eme.pmViewDesc=void 0)}let tme=new CompositionViewDesc(this,eme,x_,zP);Ff.input.compositionNodes.push(tme),this.children=replaceNodes(this.children,$P,$P+zP.length,Ff,tme)}update(Ff,x_,$P,zP){return this.dirty==NODE_DIRTY||!Ff.sameMarkup(this.node)?!1:(this.updateInner(Ff,x_,$P,zP),!0)}updateInner(Ff,x_,$P,zP){this.updateOuterDeco(x_),this.node=Ff,this.innerDeco=$P,this.contentDOM&&this.updateChildren(zP,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(Ff){if(sameOuterDeco(Ff,this.outerDeco))return;let x_=this.nodeDOM.nodeType!=1,$P=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,x_),computeOuterDeco(Ff,this.node,x_)),this.dom!=$P&&($P.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=Ff}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function docViewDesc(kh,Ff,x_,$P,zP){applyOuterDeco($P,Ff,kh);let eme=new NodeViewDesc(void 0,kh,Ff,x_,$P,$P,$P,zP,0);return eme.contentDOM&&eme.updateChildren(zP,0),eme}class TextViewDesc extends NodeViewDesc{constructor(Ff,x_,$P,zP,eme,tme,nme){super(Ff,x_,$P,zP,eme,null,tme,nme,0)}parseRule(){let Ff=this.nodeDOM.parentNode;for(;Ff&&Ff!=this.dom&&!Ff.pmIsDeco;)Ff=Ff.parentNode;return{skip:Ff||!0}}update(Ff,x_,$P,zP){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!Ff.sameMarkup(this.node)?!1:(this.updateOuterDeco(x_),(this.dirty!=NOT_DIRTY||Ff.text!=this.node.text)&&Ff.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=Ff.text,zP.trackWrites==this.nodeDOM&&(zP.trackWrites=null)),this.node=Ff,this.dirty=NOT_DIRTY,!0)}inParent(){let Ff=this.parent.contentDOM;for(let x_=this.nodeDOM;x_;x_=x_.parentNode)if(x_==Ff)return!0;return!1}domFromPos(Ff){return{node:this.nodeDOM,offset:Ff}}localPosFromDOM(Ff,x_,$P){return Ff==this.nodeDOM?this.posAtStart+Math.min(x_,this.node.text.length):super.localPosFromDOM(Ff,x_,$P)}ignoreMutation(Ff){return Ff.type!="characterData"&&Ff.type!="selection"}slice(Ff,x_,$P){let zP=this.node.cut(Ff,x_),eme=document.createTextNode(zP.text);return new TextViewDesc(this.parent,zP,this.outerDeco,this.innerDeco,eme,eme,$P)}markDirty(Ff,x_){super.markDirty(Ff,x_),this.dom!=this.nodeDOM&&(Ff==0||x_==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(Ff){return this.dirty==NOT_DIRTY&&this.dom.nodeName==Ff}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(Ff,x_,$P,zP,eme,tme,nme,rme,ime,ome){super(Ff,x_,$P,zP,eme,tme,nme,ime,ome),this.spec=rme}update(Ff,x_,$P,zP){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update){let eme=this.spec.update(Ff,x_,$P);return eme&&this.updateInner(Ff,x_,$P,zP),eme}else return!this.contentDOM&&!Ff.isLeaf?!1:super.update(Ff,x_,$P,zP)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(Ff,x_,$P,zP){this.spec.setSelection?this.spec.setSelection(Ff,x_,$P):super.setSelection(Ff,x_,$P,zP)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(Ff){return this.spec.stopEvent?this.spec.stopEvent(Ff):!1}ignoreMutation(Ff){return this.spec.ignoreMutation?this.spec.ignoreMutation(Ff):super.ignoreMutation(Ff)}}function renderDescs(kh,Ff,x_){let $P=kh.firstChild,zP=!1;for(let eme=0;eme<Ff.length;eme++){let tme=Ff[eme],nme=tme.dom;if(nme.parentNode==kh){for(;nme!=$P;)$P=rm$1($P),zP=!0;$P=$P.nextSibling}else zP=!0,kh.insertBefore(nme,$P);if(tme instanceof MarkViewDesc){let rme=$P?$P.previousSibling:kh.lastChild;renderDescs(tme.contentDOM,tme.children,x_),$P=rme?rme.nextSibling:kh.firstChild}}for(;$P;)$P=rm$1($P),zP=!0;zP&&x_.trackWrites==kh&&(x_.trackWrites=null)}const OuterDecoLevel=function(kh){kh&&(this.nodeName=kh)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(kh,Ff,x_){if(kh.length==0)return noDeco;let $P=x_?noDeco[0]:new OuterDecoLevel,zP=[$P];for(let eme=0;eme<kh.length;eme++){let tme=kh[eme].type.attrs;if(tme){tme.nodeName&&zP.push($P=new OuterDecoLevel(tme.nodeName));for(let nme in tme){let rme=tme[nme];rme!=null&&(x_&&zP.length==1&&zP.push($P=new OuterDecoLevel(Ff.isInline?"span":"div")),nme=="class"?$P.class=($P.class?$P.class+" ":"")+rme:nme=="style"?$P.style=($P.style?$P.style+";":"")+rme:nme!="nodeName"&&($P[nme]=rme))}}}return zP}function patchOuterDeco(kh,Ff,x_,$P){if(x_==noDeco&&$P==noDeco)return Ff;let zP=Ff;for(let eme=0;eme<$P.length;eme++){let tme=$P[eme],nme=x_[eme];if(eme){let rme;nme&&nme.nodeName==tme.nodeName&&zP!=kh&&(rme=zP.parentNode)&&rme.nodeName.toLowerCase()==tme.nodeName||(rme=document.createElement(tme.nodeName),rme.pmIsDeco=!0,rme.appendChild(zP),nme=noDeco[0]),zP=rme}patchAttributes(zP,nme||noDeco[0],tme)}return zP}function patchAttributes(kh,Ff,x_){for(let $P in Ff)$P!="class"&&$P!="style"&&$P!="nodeName"&&!($P in x_)&&kh.removeAttribute($P);for(let $P in x_)$P!="class"&&$P!="style"&&$P!="nodeName"&&x_[$P]!=Ff[$P]&&kh.setAttribute($P,x_[$P]);if(Ff.class!=x_.class){let $P=Ff.class?Ff.class.split(" ").filter(Boolean):[],zP=x_.class?x_.class.split(" ").filter(Boolean):[];for(let eme=0;eme<$P.length;eme++)zP.indexOf($P[eme])==-1&&kh.classList.remove($P[eme]);for(let eme=0;eme<zP.length;eme++)$P.indexOf(zP[eme])==-1&&kh.classList.add(zP[eme]);kh.classList.length==0&&kh.removeAttribute("class")}if(Ff.style!=x_.style){if(Ff.style){let $P=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,zP;for(;zP=$P.exec(Ff.style);)kh.style.removeProperty(zP[1])}x_.style&&(kh.style.cssText+=x_.style)}}function applyOuterDeco(kh,Ff,x_){return patchOuterDeco(kh,kh,noDeco,computeOuterDeco(Ff,x_,kh.nodeType!=1))}function sameOuterDeco(kh,Ff){if(kh.length!=Ff.length)return!1;for(let x_=0;x_<kh.length;x_++)if(!kh[x_].type.eq(Ff[x_].type))return!1;return!0}function rm$1(kh){let Ff=kh.nextSibling;return kh.parentNode.removeChild(kh),Ff}class ViewTreeUpdater{constructor(Ff,x_,$P){this.lock=x_,this.view=$P,this.index=0,this.stack=[],this.changed=!1,this.top=Ff,this.preMatch=preMatch(Ff.node.content,Ff)}destroyBetween(Ff,x_){if(Ff!=x_){for(let $P=Ff;$P<x_;$P++)this.top.children[$P].destroy();this.top.children.splice(Ff,x_-Ff),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(Ff,x_,$P){let zP=0,eme=this.stack.length>>1,tme=Math.min(eme,Ff.length);for(;zP<tme&&(zP==eme-1?this.top:this.stack[zP+1<<1]).matchesMark(Ff[zP])&&Ff[zP].type.spec.spanning!==!1;)zP++;for(;zP<eme;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),eme--;for(;eme<Ff.length;){this.stack.push(this.top,this.index+1);let nme=-1;for(let rme=this.index;rme<Math.min(this.index+3,this.top.children.length);rme++){let ime=this.top.children[rme];if(ime.matchesMark(Ff[eme])&&!this.isLocked(ime.dom)){nme=rme;break}}if(nme>-1)nme>this.index&&(this.changed=!0,this.destroyBetween(this.index,nme)),this.top=this.top.children[this.index];else{let rme=MarkViewDesc.create(this.top,Ff[eme],x_,$P);this.top.children.splice(this.index,0,rme),this.top=rme,this.changed=!0}this.index=0,eme++}}findNodeMatch(Ff,x_,$P,zP){let eme=-1,tme;if(zP>=this.preMatch.index&&(tme=this.preMatch.matches[zP-this.preMatch.index]).parent==this.top&&tme.matchesNode(Ff,x_,$P))eme=this.top.children.indexOf(tme,this.index);else for(let nme=this.index,rme=Math.min(this.top.children.length,nme+5);nme<rme;nme++){let ime=this.top.children[nme];if(ime.matchesNode(Ff,x_,$P)&&!this.preMatch.matched.has(ime)){eme=nme;break}}return eme<0?!1:(this.destroyBetween(this.index,eme),this.index++,!0)}updateNodeAt(Ff,x_,$P,zP,eme){let tme=this.top.children[zP];return tme.dirty==NODE_DIRTY&&tme.dom==tme.contentDOM&&(tme.dirty=CONTENT_DIRTY),tme.update(Ff,x_,$P,eme)?(this.destroyBetween(this.index,zP),this.index++,!0):!1}findIndexWithChild(Ff){for(;;){let x_=Ff.parentNode;if(!x_)return-1;if(x_==this.top.contentDOM){let $P=Ff.pmViewDesc;if($P){for(let zP=this.index;zP<this.top.children.length;zP++)if(this.top.children[zP]==$P)return zP}return-1}Ff=x_}}updateNextNode(Ff,x_,$P,zP,eme,tme){for(let nme=this.index;nme<this.top.children.length;nme++){let rme=this.top.children[nme];if(rme instanceof NodeViewDesc){let ime=this.preMatch.matched.get(rme);if(ime!=null&&ime!=eme)return!1;let ome=rme.dom,sme,ame=this.isLocked(ome)&&!(Ff.isText&&rme.node&&rme.node.isText&&rme.nodeDOM.nodeValue==Ff.text&&rme.dirty!=NODE_DIRTY&&sameOuterDeco(x_,rme.outerDeco));if(!ame&&rme.update(Ff,x_,$P,zP))return this.destroyBetween(this.index,nme),rme.dom!=ome&&(this.changed=!0),this.index++,!0;if(!ame&&(sme=this.recreateWrapper(rme,Ff,x_,$P,zP,tme)))return this.top.children[this.index]=sme,sme.contentDOM&&(sme.dirty=CONTENT_DIRTY,sme.updateChildren(zP,tme+1),sme.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(Ff,x_,$P,zP,eme,tme){if(Ff.dirty||x_.isAtom||!Ff.children.length||!Ff.node.content.eq(x_.content))return null;let nme=NodeViewDesc.create(this.top,x_,$P,zP,eme,tme);if(nme.contentDOM){nme.children=Ff.children,Ff.children=[];for(let rme of nme.children)rme.parent=nme}return Ff.destroy(),nme}addNode(Ff,x_,$P,zP,eme){let tme=NodeViewDesc.create(this.top,Ff,x_,$P,zP,eme);tme.contentDOM&&tme.updateChildren(zP,eme+1),this.top.children.splice(this.index++,0,tme),this.changed=!0}placeWidget(Ff,x_,$P){let zP=this.index<this.top.children.length?this.top.children[this.index]:null;if(zP&&zP.matchesWidget(Ff)&&(Ff==zP.widget||!zP.widget.type.toDOM.parentNode))this.index++;else{let eme=new WidgetViewDesc(this.top,Ff,x_,$P);this.top.children.splice(this.index++,0,eme),this.changed=!0}}addTextblockHacks(){let Ff=this.top.children[this.index-1],x_=this.top;for(;Ff instanceof MarkViewDesc;)x_=Ff,Ff=x_.children[x_.children.length-1];(!Ff||!(Ff instanceof TextViewDesc)||/\n$/.test(Ff.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(Ff.node.text))&&((safari||chrome)&&Ff&&Ff.dom.contentEditable=="false"&&this.addHackNode("IMG",x_),this.addHackNode("BR",this.top))}addHackNode(Ff,x_){if(x_==this.top&&this.index<x_.children.length&&x_.children[this.index].matchesHack(Ff))this.index++;else{let $P=document.createElement(Ff);Ff=="IMG"&&($P.className="ProseMirror-separator",$P.alt=""),Ff=="BR"&&($P.className="ProseMirror-trailingBreak");let zP=new TrailingHackViewDesc(this.top,[],$P,null);x_!=this.top?x_.children.push(zP):x_.children.splice(this.index++,0,zP),this.changed=!0}}isLocked(Ff){return this.lock&&(Ff==this.lock||Ff.nodeType==1&&Ff.contains(this.lock.parentNode))}}function preMatch(kh,Ff){let x_=Ff,$P=x_.children.length,zP=kh.childCount,eme=new Map,tme=[];e:for(;zP>0;){let nme;for(;;)if($P){let ime=x_.children[$P-1];if(ime instanceof MarkViewDesc)x_=ime,$P=ime.children.length;else{nme=ime,$P--;break}}else{if(x_==Ff)break e;$P=x_.parent.children.indexOf(x_),x_=x_.parent}let rme=nme.node;if(rme){if(rme!=kh.child(zP-1))break;--zP,eme.set(nme,zP),tme.push(nme)}}return{index:zP,matched:eme,matches:tme.reverse()}}function compareSide(kh,Ff){return kh.type.side-Ff.type.side}function iterDeco(kh,Ff,x_,$P){let zP=Ff.locals(kh),eme=0;if(zP.length==0){for(let ime=0;ime<kh.childCount;ime++){let ome=kh.child(ime);$P(ome,zP,Ff.forChild(eme,ome),ime),eme+=ome.nodeSize}return}let tme=0,nme=[],rme=null;for(let ime=0;;){let ome,sme;for(;tme<zP.length&&zP[tme].to==eme;){let pme=zP[tme++];pme.widget&&(ome?(sme||(sme=[ome])).push(pme):ome=pme)}if(ome)if(sme){sme.sort(compareSide);for(let pme=0;pme<sme.length;pme++)x_(sme[pme],ime,!!rme)}else x_(ome,ime,!!rme);let ame,lme;if(rme)lme=-1,ame=rme,rme=null;else if(ime<kh.childCount)lme=ime,ame=kh.child(ime++);else break;for(let pme=0;pme<nme.length;pme++)nme[pme].to<=eme&&nme.splice(pme--,1);for(;tme<zP.length&&zP[tme].from<=eme&&zP[tme].to>eme;)nme.push(zP[tme++]);let ume=eme+ame.nodeSize;if(ame.isText){let pme=ume;tme<zP.length&&zP[tme].from<pme&&(pme=zP[tme].from);for(let hme=0;hme<nme.length;hme++)nme[hme].to<pme&&(pme=nme[hme].to);pme<ume&&(rme=ame.cut(pme-eme),ame=ame.cut(0,pme-eme),ume=pme,lme=-1)}let dme=ame.isInline&&!ame.isLeaf?nme.filter(pme=>!pme.inline):nme.slice();$P(ame,dme,Ff.forChild(eme,ame),lme),eme=ume}}function iosHacks(kh){if(kh.nodeName=="UL"||kh.nodeName=="OL"){let Ff=kh.style.cssText;kh.style.cssText=Ff+"; list-style: square !important",window.getComputedStyle(kh).listStyle,kh.style.cssText=Ff}}function nearbyTextNode(kh,Ff){for(;;){if(kh.nodeType==3)return kh;if(kh.nodeType==1&&Ff>0){if(kh.childNodes.length>Ff&&kh.childNodes[Ff].nodeType==3)return kh.childNodes[Ff];kh=kh.childNodes[Ff-1],Ff=nodeSize(kh)}else if(kh.nodeType==1&&Ff<kh.childNodes.length)kh=kh.childNodes[Ff],Ff=0;else return null}}function findTextInFragment(kh,Ff,x_,$P){for(let zP=0,eme=0;zP<kh.childCount&&eme<=$P;){let tme=kh.child(zP++),nme=eme;if(eme+=tme.nodeSize,!tme.isText)continue;let rme=tme.text;for(;zP<kh.childCount;){let ime=kh.child(zP++);if(eme+=ime.nodeSize,!ime.isText)break;rme+=ime.text}if(eme>=x_){if(eme>=$P&&rme.slice($P-Ff.length-nme,$P-nme)==Ff)return $P-Ff.length;let ime=nme<$P?rme.lastIndexOf(Ff,$P-nme-1):-1;if(ime>=0&&ime+Ff.length+nme>=x_)return nme+ime;if(x_==$P&&rme.length>=$P+Ff.length-nme&&rme.slice($P-nme,$P-nme+Ff.length)==Ff)return $P}}return-1}function replaceNodes(kh,Ff,x_,$P,zP){let eme=[];for(let tme=0,nme=0;tme<kh.length;tme++){let rme=kh[tme],ime=nme,ome=nme+=rme.size;ime>=x_||ome<=Ff?eme.push(rme):(ime<Ff&&eme.push(rme.slice(0,Ff-ime,$P)),zP&&(eme.push(zP),zP=void 0),ome>x_&&eme.push(rme.slice(x_-ime,rme.size,$P)))}return eme}function selectionFromDOM(kh,Ff=null){let x_=kh.domSelectionRange(),$P=kh.state.doc;if(!x_.focusNode)return null;let zP=kh.docView.nearestDesc(x_.focusNode),eme=zP&&zP.size==0,tme=kh.docView.posFromDOM(x_.focusNode,x_.focusOffset,1);if(tme<0)return null;let nme=$P.resolve(tme),rme,ime;if(selectionCollapsed(x_)){for(rme=nme;zP&&!zP.node;)zP=zP.parent;let ome=zP.node;if(zP&&ome.isAtom&&NodeSelection.isSelectable(ome)&&zP.parent&&!(ome.isInline&&isOnEdge(x_.focusNode,x_.focusOffset,zP.dom))){let sme=zP.posBefore;ime=new NodeSelection(tme==sme?nme:$P.resolve(sme))}}else{let ome=kh.docView.posFromDOM(x_.anchorNode,x_.anchorOffset,1);if(ome<0)return null;rme=$P.resolve(ome)}if(!ime){let ome=Ff=="pointer"||kh.state.selection.head<nme.pos&&!eme?1:-1;ime=selectionBetween(kh,rme,nme,ome)}return ime}function editorOwnsSelection(kh){return kh.editable?kh.hasFocus():hasSelection(kh)&&document.activeElement&&document.activeElement.contains(kh.dom)}function selectionToDOM(kh,Ff=!1){let x_=kh.state.selection;if(syncNodeSelection(kh,x_),!!editorOwnsSelection(kh)){if(!Ff&&kh.input.mouseDown&&kh.input.mouseDown.allowDefault&&chrome){let $P=kh.domSelectionRange(),zP=kh.domObserver.currentSelection;if($P.anchorNode&&zP.anchorNode&&isEquivalentPosition($P.anchorNode,$P.anchorOffset,zP.anchorNode,zP.anchorOffset)){kh.input.mouseDown.delayedSelectionSync=!0,kh.domObserver.setCurSelection();return}}if(kh.domObserver.disconnectSelection(),kh.cursorWrapper)selectCursorWrapper(kh);else{let{anchor:$P,head:zP}=x_,eme,tme;brokenSelectBetweenUneditable&&!(x_ instanceof TextSelection)&&(x_.$from.parent.inlineContent||(eme=temporarilyEditableNear(kh,x_.from)),!x_.empty&&!x_.$from.parent.inlineContent&&(tme=temporarilyEditableNear(kh,x_.to))),kh.docView.setSelection($P,zP,kh.root,Ff),brokenSelectBetweenUneditable&&(eme&&resetEditable(eme),tme&&resetEditable(tme)),x_.visible?kh.dom.classList.remove("ProseMirror-hideselection"):(kh.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(kh))}kh.domObserver.setCurSelection(),kh.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(kh,Ff){let{node:x_,offset:$P}=kh.docView.domFromPos(Ff,0),zP=$P<x_.childNodes.length?x_.childNodes[$P]:null,eme=$P?x_.childNodes[$P-1]:null;if(safari&&zP&&zP.contentEditable=="false")return setEditable(zP);if((!zP||zP.contentEditable=="false")&&(!eme||eme.contentEditable=="false")){if(zP)return setEditable(zP);if(eme)return setEditable(eme)}}function setEditable(kh){return kh.contentEditable="true",safari&&kh.draggable&&(kh.draggable=!1,kh.wasDraggable=!0),kh}function resetEditable(kh){kh.contentEditable="false",kh.wasDraggable&&(kh.draggable=!0,kh.wasDraggable=null)}function removeClassOnSelectionChange(kh){let Ff=kh.dom.ownerDocument;Ff.removeEventListener("selectionchange",kh.input.hideSelectionGuard);let x_=kh.domSelectionRange(),$P=x_.anchorNode,zP=x_.anchorOffset;Ff.addEventListener("selectionchange",kh.input.hideSelectionGuard=()=>{(x_.anchorNode!=$P||x_.anchorOffset!=zP)&&(Ff.removeEventListener("selectionchange",kh.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(kh)||kh.state.selection.visible)&&kh.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(kh){let Ff=kh.domSelection(),x_=document.createRange(),$P=kh.cursorWrapper.dom,zP=$P.nodeName=="IMG";zP?x_.setEnd($P.parentNode,domIndex($P)+1):x_.setEnd($P,0),x_.collapse(!1),Ff.removeAllRanges(),Ff.addRange(x_),!zP&&!kh.state.selection.visible&&ie$2&&ie_version<=11&&($P.disabled=!0,$P.disabled=!1)}function syncNodeSelection(kh,Ff){if(Ff instanceof NodeSelection){let x_=kh.docView.descAt(Ff.from);x_!=kh.lastSelectedViewDesc&&(clearNodeSelection(kh),x_&&x_.selectNode(),kh.lastSelectedViewDesc=x_)}else clearNodeSelection(kh)}function clearNodeSelection(kh){kh.lastSelectedViewDesc&&(kh.lastSelectedViewDesc.parent&&kh.lastSelectedViewDesc.deselectNode(),kh.lastSelectedViewDesc=void 0)}function selectionBetween(kh,Ff,x_,$P){return kh.someProp("createSelectionBetween",zP=>zP(kh,Ff,x_))||TextSelection.between(Ff,x_,$P)}function hasFocusAndSelection(kh){return kh.editable&&!kh.hasFocus()?!1:hasSelection(kh)}function hasSelection(kh){let Ff=kh.domSelectionRange();if(!Ff.anchorNode)return!1;try{return kh.dom.contains(Ff.anchorNode.nodeType==3?Ff.anchorNode.parentNode:Ff.anchorNode)&&(kh.editable||kh.dom.contains(Ff.focusNode.nodeType==3?Ff.focusNode.parentNode:Ff.focusNode))}catch(x_){return!1}}function anchorInRightPlace(kh){let Ff=kh.docView.domFromPos(kh.state.selection.anchor,0),x_=kh.domSelectionRange();return isEquivalentPosition(Ff.node,Ff.offset,x_.anchorNode,x_.anchorOffset)}function moveSelectionBlock(kh,Ff){let{$anchor:x_,$head:$P}=kh.selection,zP=Ff>0?x_.max($P):x_.min($P),eme=zP.parent.inlineContent?zP.depth?kh.doc.resolve(Ff>0?zP.after():zP.before()):null:zP;return eme&&Selection.findFrom(eme,Ff)}function apply(kh,Ff){return kh.dispatch(kh.state.tr.setSelection(Ff).scrollIntoView()),!0}function selectHorizontally(kh,Ff,x_){let $P=kh.state.selection;if($P instanceof TextSelection)if(x_.indexOf("s")>-1){let{$head:zP}=$P,eme=zP.textOffset?null:Ff<0?zP.nodeBefore:zP.nodeAfter;if(!eme||eme.isText||!eme.isLeaf)return!1;let tme=kh.state.doc.resolve(zP.pos+eme.nodeSize*(Ff<0?-1:1));return apply(kh,new TextSelection($P.$anchor,tme))}else if($P.empty){if(kh.endOfTextblock(Ff>0?"forward":"backward")){let zP=moveSelectionBlock(kh.state,Ff);return zP&&zP instanceof NodeSelection?apply(kh,zP):!1}else if(!(mac$2&&x_.indexOf("m")>-1)){let zP=$P.$head,eme=zP.textOffset?null:Ff<0?zP.nodeBefore:zP.nodeAfter,tme;if(!eme||eme.isText)return!1;let nme=Ff<0?zP.pos-eme.nodeSize:zP.pos;return eme.isAtom||(tme=kh.docView.descAt(nme))&&!tme.contentDOM?NodeSelection.isSelectable(eme)?apply(kh,new NodeSelection(Ff<0?kh.state.doc.resolve(zP.pos-eme.nodeSize):zP)):webkit?apply(kh,new TextSelection(kh.state.doc.resolve(Ff<0?nme:nme+eme.nodeSize))):!1:!1}}else return!1;else{if($P instanceof NodeSelection&&$P.node.isInline)return apply(kh,new TextSelection(Ff>0?$P.$to:$P.$from));{let zP=moveSelectionBlock(kh.state,Ff);return zP?apply(kh,zP):!1}}}function nodeLen(kh){return kh.nodeType==3?kh.nodeValue.length:kh.childNodes.length}function isIgnorable(kh,Ff){let x_=kh.pmViewDesc;return x_&&x_.size==0&&(Ff<0||kh.nextSibling||kh.nodeName!="BR")}function skipIgnoredNodes(kh,Ff){return Ff<0?skipIgnoredNodesBefore(kh):skipIgnoredNodesAfter(kh)}function skipIgnoredNodesBefore(kh){let Ff=kh.domSelectionRange(),x_=Ff.focusNode,$P=Ff.focusOffset;if(!x_)return;let zP,eme,tme=!1;for(gecko&&x_.nodeType==1&&$P<nodeLen(x_)&&isIgnorable(x_.childNodes[$P],-1)&&(tme=!0);;)if($P>0){if(x_.nodeType!=1)break;{let nme=x_.childNodes[$P-1];if(isIgnorable(nme,-1))zP=x_,eme=--$P;else if(nme.nodeType==3)x_=nme,$P=x_.nodeValue.length;else break}}else{if(isBlockNode(x_))break;{let nme=x_.previousSibling;for(;nme&&isIgnorable(nme,-1);)zP=x_.parentNode,eme=domIndex(nme),nme=nme.previousSibling;if(nme)x_=nme,$P=nodeLen(x_);else{if(x_=x_.parentNode,x_==kh.dom)break;$P=0}}}tme?setSelFocus(kh,x_,$P):zP&&setSelFocus(kh,zP,eme)}function skipIgnoredNodesAfter(kh){let Ff=kh.domSelectionRange(),x_=Ff.focusNode,$P=Ff.focusOffset;if(!x_)return;let zP=nodeLen(x_),eme,tme;for(;;)if($P<zP){if(x_.nodeType!=1)break;let nme=x_.childNodes[$P];if(isIgnorable(nme,1))eme=x_,tme=++$P;else break}else{if(isBlockNode(x_))break;{let nme=x_.nextSibling;for(;nme&&isIgnorable(nme,1);)eme=nme.parentNode,tme=domIndex(nme)+1,nme=nme.nextSibling;if(nme)x_=nme,$P=0,zP=nodeLen(x_);else{if(x_=x_.parentNode,x_==kh.dom)break;$P=zP=0}}}eme&&setSelFocus(kh,eme,tme)}function isBlockNode(kh){let Ff=kh.pmViewDesc;return Ff&&Ff.node&&Ff.node.isBlock}function textNodeAfter(kh,Ff){for(;kh&&Ff==kh.childNodes.length&&!hasBlockDesc(kh);)Ff=domIndex(kh)+1,kh=kh.parentNode;for(;kh&&Ff<kh.childNodes.length;){let x_=kh.childNodes[Ff];if(x_.nodeType==3)return x_;if(x_.nodeType==1&&x_.contentEditable=="false")break;kh=x_,Ff=0}}function textNodeBefore(kh,Ff){for(;kh&&!Ff&&!hasBlockDesc(kh);)Ff=domIndex(kh),kh=kh.parentNode;for(;kh&&Ff;){let x_=kh.childNodes[Ff-1];if(x_.nodeType==3)return x_;if(x_.nodeType==1&&x_.contentEditable=="false")break;kh=x_,Ff=kh.childNodes.length}}function setSelFocus(kh,Ff,x_){if(Ff.nodeType!=3){let eme,tme;(tme=textNodeAfter(Ff,x_))?(Ff=tme,x_=0):(eme=textNodeBefore(Ff,x_))&&(Ff=eme,x_=eme.nodeValue.length)}let $P=kh.domSelection();if(selectionCollapsed($P)){let eme=document.createRange();eme.setEnd(Ff,x_),eme.setStart(Ff,x_),$P.removeAllRanges(),$P.addRange(eme)}else $P.extend&&$P.extend(Ff,x_);kh.domObserver.setCurSelection();let{state:zP}=kh;setTimeout(()=>{kh.state==zP&&selectionToDOM(kh)},50)}function findDirection(kh,Ff){let x_=kh.state.doc.resolve(Ff);if(!(chrome||windows)&&x_.parent.inlineContent){let zP=kh.coordsAtPos(Ff);if(Ff>x_.start()){let eme=kh.coordsAtPos(Ff-1),tme=(eme.top+eme.bottom)/2;if(tme>zP.top&&tme<zP.bottom&&Math.abs(eme.left-zP.left)>1)return eme.left<zP.left?"ltr":"rtl"}if(Ff<x_.end()){let eme=kh.coordsAtPos(Ff+1),tme=(eme.top+eme.bottom)/2;if(tme>zP.top&&tme<zP.bottom&&Math.abs(eme.left-zP.left)>1)return eme.left>zP.left?"ltr":"rtl"}}return getComputedStyle(kh.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(kh,Ff,x_){let $P=kh.state.selection;if($P instanceof TextSelection&&!$P.empty||x_.indexOf("s")>-1||mac$2&&x_.indexOf("m")>-1)return!1;let{$from:zP,$to:eme}=$P;if(!zP.parent.inlineContent||kh.endOfTextblock(Ff<0?"up":"down")){let tme=moveSelectionBlock(kh.state,Ff);if(tme&&tme instanceof NodeSelection)return apply(kh,tme)}if(!zP.parent.inlineContent){let tme=Ff<0?zP:eme,nme=$P instanceof AllSelection?Selection.near(tme,Ff):Selection.findFrom(tme,Ff);return nme?apply(kh,nme):!1}return!1}function stopNativeHorizontalDelete(kh,Ff){if(!(kh.state.selection instanceof TextSelection))return!0;let{$head:x_,$anchor:$P,empty:zP}=kh.state.selection;if(!x_.sameParent($P))return!0;if(!zP)return!1;if(kh.endOfTextblock(Ff>0?"forward":"backward"))return!0;let eme=!x_.textOffset&&(Ff<0?x_.nodeBefore:x_.nodeAfter);if(eme&&!eme.isText){let tme=kh.state.tr;return Ff<0?tme.delete(x_.pos-eme.nodeSize,x_.pos):tme.delete(x_.pos,x_.pos+eme.nodeSize),kh.dispatch(tme),!0}return!1}function switchEditable(kh,Ff,x_){kh.domObserver.stop(),Ff.contentEditable=x_,kh.domObserver.start()}function safariDownArrowBug(kh){if(!safari||kh.state.selection.$head.parentOffset>0)return!1;let{focusNode:Ff,focusOffset:x_}=kh.domSelectionRange();if(Ff&&Ff.nodeType==1&&x_==0&&Ff.firstChild&&Ff.firstChild.contentEditable=="false"){let $P=Ff.firstChild;switchEditable(kh,$P,"true"),setTimeout(()=>switchEditable(kh,$P,"false"),20)}return!1}function getMods(kh){let Ff="";return kh.ctrlKey&&(Ff+="c"),kh.metaKey&&(Ff+="m"),kh.altKey&&(Ff+="a"),kh.shiftKey&&(Ff+="s"),Ff}function captureKeyDown(kh,Ff){let x_=Ff.keyCode,$P=getMods(Ff);if(x_==8||mac$2&&x_==72&&$P=="c")return stopNativeHorizontalDelete(kh,-1)||skipIgnoredNodes(kh,-1);if(x_==46&&!Ff.shiftKey||mac$2&&x_==68&&$P=="c")return stopNativeHorizontalDelete(kh,1)||skipIgnoredNodes(kh,1);if(x_==13||x_==27)return!0;if(x_==37||mac$2&&x_==66&&$P=="c"){let zP=x_==37?findDirection(kh,kh.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(kh,zP,$P)||skipIgnoredNodes(kh,zP)}else if(x_==39||mac$2&&x_==70&&$P=="c"){let zP=x_==39?findDirection(kh,kh.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(kh,zP,$P)||skipIgnoredNodes(kh,zP)}else{if(x_==38||mac$2&&x_==80&&$P=="c")return selectVertically(kh,-1,$P)||skipIgnoredNodes(kh,-1);if(x_==40||mac$2&&x_==78&&$P=="c")return safariDownArrowBug(kh)||selectVertically(kh,1,$P)||skipIgnoredNodes(kh,1);if($P==(mac$2?"m":"c")&&(x_==66||x_==73||x_==89||x_==90))return!0}return!1}function serializeForClipboard(kh,Ff){kh.someProp("transformCopied",lme=>{Ff=lme(Ff,kh)});let x_=[],{content:$P,openStart:zP,openEnd:eme}=Ff;for(;zP>1&&eme>1&&$P.childCount==1&&$P.firstChild.childCount==1;){zP--,eme--;let lme=$P.firstChild;x_.push(lme.type.name,lme.attrs!=lme.type.defaultAttrs?lme.attrs:null),$P=lme.content}let tme=kh.someProp("clipboardSerializer")||DOMSerializer.fromSchema(kh.state.schema),nme=detachedDoc(),rme=nme.createElement("div");rme.appendChild(tme.serializeFragment($P,{document:nme}));let ime=rme.firstChild,ome,sme=0;for(;ime&&ime.nodeType==1&&(ome=wrapMap[ime.nodeName.toLowerCase()]);){for(let lme=ome.length-1;lme>=0;lme--){let ume=nme.createElement(ome[lme]);for(;rme.firstChild;)ume.appendChild(rme.firstChild);rme.appendChild(ume),sme++}ime=rme.firstChild}ime&&ime.nodeType==1&&ime.setAttribute("data-pm-slice",`${zP} ${eme}${sme?` -${sme}`:""} ${JSON.stringify(x_)}`);let ame=kh.someProp("clipboardTextSerializer",lme=>lme(Ff,kh))||Ff.content.textBetween(0,Ff.content.size,`

`);return{dom:rme,text:ame}}function parseFromClipboard(kh,Ff,x_,$P,zP){let eme=zP.parent.type.spec.code,tme,nme;if(!x_&&!Ff)return null;let rme=Ff&&($P||eme||!x_);if(rme){if(kh.someProp("transformPastedText",ame=>{Ff=ame(Ff,eme||$P,kh)}),eme)return Ff?new Slice(Fragment.from(kh.state.schema.text(Ff.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let sme=kh.someProp("clipboardTextParser",ame=>ame(Ff,zP,$P,kh));if(sme)nme=sme;else{let ame=zP.marks(),{schema:lme}=kh.state,ume=DOMSerializer.fromSchema(lme);tme=document.createElement("div"),Ff.split(/(?:\r\n?|\n)+/).forEach(dme=>{let pme=tme.appendChild(document.createElement("p"));dme&&pme.appendChild(ume.serializeNode(lme.text(dme,ame)))})}}else kh.someProp("transformPastedHTML",sme=>{x_=sme(x_,kh)}),tme=readHTML(x_),webkit&&restoreReplacedSpaces(tme);let ime=tme&&tme.querySelector("[data-pm-slice]"),ome=ime&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(ime.getAttribute("data-pm-slice")||"");if(ome&&ome[3])for(let sme=+ome[3];sme>0;sme--){let ame=tme.firstChild;for(;ame&&ame.nodeType!=1;)ame=ame.nextSibling;if(!ame)break;tme=ame}if(nme||(nme=(kh.someProp("clipboardParser")||kh.someProp("domParser")||DOMParser$2.fromSchema(kh.state.schema)).parseSlice(tme,{preserveWhitespace:!!(rme||ome),context:zP,ruleFromNode(ame){return ame.nodeName=="BR"&&!ame.nextSibling&&ame.parentNode&&!inlineParents.test(ame.parentNode.nodeName)?{ignore:!0}:null}})),ome)nme=addContext(closeSlice(nme,+ome[1],+ome[2]),ome[4]);else if(nme=Slice.maxOpen(normalizeSiblings(nme.content,zP),!0),nme.openStart||nme.openEnd){let sme=0,ame=0;for(let lme=nme.content.firstChild;sme<nme.openStart&&!lme.type.spec.isolating;sme++,lme=lme.firstChild);for(let lme=nme.content.lastChild;ame<nme.openEnd&&!lme.type.spec.isolating;ame++,lme=lme.lastChild);nme=closeSlice(nme,sme,ame)}return kh.someProp("transformPasted",sme=>{nme=sme(nme,kh)}),nme}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(kh,Ff){if(kh.childCount<2)return kh;for(let x_=Ff.depth;x_>=0;x_--){let zP=Ff.node(x_).contentMatchAt(Ff.index(x_)),eme,tme=[];if(kh.forEach(nme=>{if(!tme)return;let rme=zP.findWrapping(nme.type),ime;if(!rme)return tme=null;if(ime=tme.length&&eme.length&&addToSibling(rme,eme,nme,tme[tme.length-1],0))tme[tme.length-1]=ime;else{tme.length&&(tme[tme.length-1]=closeRight(tme[tme.length-1],eme.length));let ome=withWrappers(nme,rme);tme.push(ome),zP=zP.matchType(ome.type),eme=rme}}),tme)return Fragment.from(tme)}return kh}function withWrappers(kh,Ff,x_=0){for(let $P=Ff.length-1;$P>=x_;$P--)kh=Ff[$P].create(null,Fragment.from(kh));return kh}function addToSibling(kh,Ff,x_,$P,zP){if(zP<kh.length&&zP<Ff.length&&kh[zP]==Ff[zP]){let eme=addToSibling(kh,Ff,x_,$P.lastChild,zP+1);if(eme)return $P.copy($P.content.replaceChild($P.childCount-1,eme));if($P.contentMatchAt($P.childCount).matchType(zP==kh.length-1?x_.type:kh[zP+1]))return $P.copy($P.content.append(Fragment.from(withWrappers(x_,kh,zP+1))))}}function closeRight(kh,Ff){if(Ff==0)return kh;let x_=kh.content.replaceChild(kh.childCount-1,closeRight(kh.lastChild,Ff-1)),$P=kh.contentMatchAt(kh.childCount).fillBefore(Fragment.empty,!0);return kh.copy(x_.append($P))}function closeRange(kh,Ff,x_,$P,zP,eme){let tme=Ff<0?kh.firstChild:kh.lastChild,nme=tme.content;return kh.childCount>1&&(eme=0),zP<$P-1&&(nme=closeRange(nme,Ff,x_,$P,zP+1,eme)),zP>=x_&&(nme=Ff<0?tme.contentMatchAt(0).fillBefore(nme,eme<=zP).append(nme):nme.append(tme.contentMatchAt(tme.childCount).fillBefore(Fragment.empty,!0))),kh.replaceChild(Ff<0?0:kh.childCount-1,tme.copy(nme))}function closeSlice(kh,Ff,x_){return Ff<kh.openStart&&(kh=new Slice(closeRange(kh.content,-1,Ff,kh.openStart,0,kh.openEnd),Ff,kh.openEnd)),x_<kh.openEnd&&(kh=new Slice(closeRange(kh.content,1,x_,kh.openEnd,0,0),kh.openStart,x_)),kh}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}function readHTML(kh){let Ff=/^(\s*<meta [^>]*>)*/.exec(kh);Ff&&(kh=kh.slice(Ff[0].length));let x_=detachedDoc().createElement("div"),$P=/<([a-z][^>\s]+)/i.exec(kh),zP;if((zP=$P&&wrapMap[$P[1].toLowerCase()])&&(kh=zP.map(eme=>"<"+eme+">").join("")+kh+zP.map(eme=>"</"+eme+">").reverse().join("")),x_.innerHTML=kh,zP)for(let eme=0;eme<zP.length;eme++)x_=x_.querySelector(zP[eme])||x_;return x_}function restoreReplacedSpaces(kh){let Ff=kh.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let x_=0;x_<Ff.length;x_++){let $P=Ff[x_];$P.childNodes.length==1&&$P.textContent==" "&&$P.parentNode&&$P.parentNode.replaceChild(kh.ownerDocument.createTextNode(" "),$P)}}function addContext(kh,Ff){if(!kh.size)return kh;let x_=kh.content.firstChild.type.schema,$P;try{$P=JSON.parse(Ff)}catch(nme){return kh}let{content:zP,openStart:eme,openEnd:tme}=kh;for(let nme=$P.length-2;nme>=0;nme-=2){let rme=x_.nodes[$P[nme]];if(!rme||rme.hasRequiredAttrs())break;zP=Fragment.from(rme.create($P[nme+1],zP)),eme++,tme++}return new Slice(zP,eme,tme)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(kh){for(let Ff in handlers){let x_=handlers[Ff];kh.dom.addEventListener(Ff,kh.input.eventHandlers[Ff]=$P=>{eventBelongsToView(kh,$P)&&!runCustomHandler(kh,$P)&&(kh.editable||!($P.type in editHandlers))&&x_(kh,$P)},passiveHandlers[Ff]?{passive:!0}:void 0)}safari&&kh.dom.addEventListener("input",()=>null),ensureListeners(kh)}function setSelectionOrigin(kh,Ff){kh.input.lastSelectionOrigin=Ff,kh.input.lastSelectionTime=Date.now()}function destroyInput(kh){kh.domObserver.stop();for(let Ff in kh.input.eventHandlers)kh.dom.removeEventListener(Ff,kh.input.eventHandlers[Ff]);clearTimeout(kh.input.composingTimeout),clearTimeout(kh.input.lastIOSEnterFallbackTimeout)}function ensureListeners(kh){kh.someProp("handleDOMEvents",Ff=>{for(let x_ in Ff)kh.input.eventHandlers[x_]||kh.dom.addEventListener(x_,kh.input.eventHandlers[x_]=$P=>runCustomHandler(kh,$P))})}function runCustomHandler(kh,Ff){return kh.someProp("handleDOMEvents",x_=>{let $P=x_[Ff.type];return $P?$P(kh,Ff)||Ff.defaultPrevented:!1})}function eventBelongsToView(kh,Ff){if(!Ff.bubbles)return!0;if(Ff.defaultPrevented)return!1;for(let x_=Ff.target;x_!=kh.dom;x_=x_.parentNode)if(!x_||x_.nodeType==11||x_.pmViewDesc&&x_.pmViewDesc.stopEvent(Ff))return!1;return!0}function dispatchEvent(kh,Ff){!runCustomHandler(kh,Ff)&&handlers[Ff.type]&&(kh.editable||!(Ff.type in editHandlers))&&handlers[Ff.type](kh,Ff)}editHandlers.keydown=(kh,Ff)=>{let x_=Ff;if(kh.input.shiftKey=x_.keyCode==16||x_.shiftKey,!inOrNearComposition(kh,x_)&&(kh.input.lastKeyCode=x_.keyCode,kh.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&x_.keyCode==13)))if(x_.keyCode!=229&&kh.domObserver.forceFlush(),ios&&x_.keyCode==13&&!x_.ctrlKey&&!x_.altKey&&!x_.metaKey){let $P=Date.now();kh.input.lastIOSEnter=$P,kh.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{kh.input.lastIOSEnter==$P&&(kh.someProp("handleKeyDown",zP=>zP(kh,keyEvent(13,"Enter"))),kh.input.lastIOSEnter=0)},200)}else kh.someProp("handleKeyDown",$P=>$P(kh,x_))||captureKeyDown(kh,x_)?x_.preventDefault():setSelectionOrigin(kh,"key")};editHandlers.keyup=(kh,Ff)=>{Ff.keyCode==16&&(kh.input.shiftKey=!1)};editHandlers.keypress=(kh,Ff)=>{let x_=Ff;if(inOrNearComposition(kh,x_)||!x_.charCode||x_.ctrlKey&&!x_.altKey||mac$2&&x_.metaKey)return;if(kh.someProp("handleKeyPress",zP=>zP(kh,x_))){x_.preventDefault();return}let $P=kh.state.selection;if(!($P instanceof TextSelection)||!$P.$from.sameParent($P.$to)){let zP=String.fromCharCode(x_.charCode);!/[\r\n]/.test(zP)&&!kh.someProp("handleTextInput",eme=>eme(kh,$P.$from.pos,$P.$to.pos,zP))&&kh.dispatch(kh.state.tr.insertText(zP).scrollIntoView()),x_.preventDefault()}};function eventCoords(kh){return{left:kh.clientX,top:kh.clientY}}function isNear(kh,Ff){let x_=Ff.x-kh.clientX,$P=Ff.y-kh.clientY;return x_*x_+$P*$P<100}function runHandlerOnContext(kh,Ff,x_,$P,zP){if($P==-1)return!1;let eme=kh.state.doc.resolve($P);for(let tme=eme.depth+1;tme>0;tme--)if(kh.someProp(Ff,nme=>tme>eme.depth?nme(kh,x_,eme.nodeAfter,eme.before(tme),zP,!0):nme(kh,x_,eme.node(tme),eme.before(tme),zP,!1)))return!0;return!1}function updateSelection(kh,Ff,x_){kh.focused||kh.focus();let $P=kh.state.tr.setSelection(Ff);x_=="pointer"&&$P.setMeta("pointer",!0),kh.dispatch($P)}function selectClickedLeaf(kh,Ff){if(Ff==-1)return!1;let x_=kh.state.doc.resolve(Ff),$P=x_.nodeAfter;return $P&&$P.isAtom&&NodeSelection.isSelectable($P)?(updateSelection(kh,new NodeSelection(x_),"pointer"),!0):!1}function selectClickedNode(kh,Ff){if(Ff==-1)return!1;let x_=kh.state.selection,$P,zP;x_ instanceof NodeSelection&&($P=x_.node);let eme=kh.state.doc.resolve(Ff);for(let tme=eme.depth+1;tme>0;tme--){let nme=tme>eme.depth?eme.nodeAfter:eme.node(tme);if(NodeSelection.isSelectable(nme)){$P&&x_.$from.depth>0&&tme>=x_.$from.depth&&eme.before(x_.$from.depth+1)==x_.$from.pos?zP=eme.before(x_.$from.depth):zP=eme.before(tme);break}}return zP!=null?(updateSelection(kh,NodeSelection.create(kh.state.doc,zP),"pointer"),!0):!1}function handleSingleClick(kh,Ff,x_,$P,zP){return runHandlerOnContext(kh,"handleClickOn",Ff,x_,$P)||kh.someProp("handleClick",eme=>eme(kh,Ff,$P))||(zP?selectClickedNode(kh,x_):selectClickedLeaf(kh,x_))}function handleDoubleClick(kh,Ff,x_,$P){return runHandlerOnContext(kh,"handleDoubleClickOn",Ff,x_,$P)||kh.someProp("handleDoubleClick",zP=>zP(kh,Ff,$P))}function handleTripleClick(kh,Ff,x_,$P){return runHandlerOnContext(kh,"handleTripleClickOn",Ff,x_,$P)||kh.someProp("handleTripleClick",zP=>zP(kh,Ff,$P))||defaultTripleClick(kh,x_,$P)}function defaultTripleClick(kh,Ff,x_){if(x_.button!=0)return!1;let $P=kh.state.doc;if(Ff==-1)return $P.inlineContent?(updateSelection(kh,TextSelection.create($P,0,$P.content.size),"pointer"),!0):!1;let zP=$P.resolve(Ff);for(let eme=zP.depth+1;eme>0;eme--){let tme=eme>zP.depth?zP.nodeAfter:zP.node(eme),nme=zP.before(eme);if(tme.inlineContent)updateSelection(kh,TextSelection.create($P,nme+1,nme+1+tme.content.size),"pointer");else if(NodeSelection.isSelectable(tme))updateSelection(kh,NodeSelection.create($P,nme),"pointer");else continue;return!0}}function forceDOMFlush(kh){return endComposition(kh)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(kh,Ff)=>{let x_=Ff;kh.input.shiftKey=x_.shiftKey;let $P=forceDOMFlush(kh),zP=Date.now(),eme="singleClick";zP-kh.input.lastClick.time<500&&isNear(x_,kh.input.lastClick)&&!x_[selectNodeModifier]&&(kh.input.lastClick.type=="singleClick"?eme="doubleClick":kh.input.lastClick.type=="doubleClick"&&(eme="tripleClick")),kh.input.lastClick={time:zP,x:x_.clientX,y:x_.clientY,type:eme};let tme=kh.posAtCoords(eventCoords(x_));tme&&(eme=="singleClick"?(kh.input.mouseDown&&kh.input.mouseDown.done(),kh.input.mouseDown=new MouseDown(kh,tme,x_,!!$P)):(eme=="doubleClick"?handleDoubleClick:handleTripleClick)(kh,tme.pos,tme.inside,x_)?x_.preventDefault():setSelectionOrigin(kh,"pointer"))};class MouseDown{constructor(Ff,x_,$P,zP){this.view=Ff,this.pos=x_,this.event=$P,this.flushed=zP,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=Ff.state.doc,this.selectNode=!!$P[selectNodeModifier],this.allowDefault=$P.shiftKey;let eme,tme;if(x_.inside>-1)eme=Ff.state.doc.nodeAt(x_.inside),tme=x_.inside;else{let ome=Ff.state.doc.resolve(x_.pos);eme=ome.parent,tme=ome.depth?ome.before():0}const nme=zP?null:$P.target,rme=nme?Ff.docView.nearestDesc(nme,!0):null;this.target=rme?rme.dom:null;let{selection:ime}=Ff.state;($P.button==0&&eme.type.spec.draggable&&eme.type.spec.selectable!==!1||ime instanceof NodeSelection&&ime.from<=tme&&ime.to>tme)&&(this.mightDrag={node:eme,pos:tme,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),Ff.root.addEventListener("mouseup",this.up=this.up.bind(this)),Ff.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(Ff,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(Ff){if(this.done(),!this.view.dom.contains(Ff.target))return;let x_=this.pos;this.view.state.doc!=this.startDoc&&(x_=this.view.posAtCoords(eventCoords(Ff))),this.updateAllowDefault(Ff),this.allowDefault||!x_?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,x_.pos,x_.inside,Ff,this.selectNode)?Ff.preventDefault():Ff.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(x_.pos-this.view.state.selection.from),Math.abs(x_.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(x_.pos)),"pointer"),Ff.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(Ff){this.updateAllowDefault(Ff),setSelectionOrigin(this.view,"pointer"),Ff.buttons==0&&this.done()}updateAllowDefault(Ff){!this.allowDefault&&(Math.abs(this.event.x-Ff.clientX)>4||Math.abs(this.event.y-Ff.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=kh=>{kh.input.lastTouch=Date.now(),forceDOMFlush(kh),setSelectionOrigin(kh,"pointer")};handlers.touchmove=kh=>{kh.input.lastTouch=Date.now(),setSelectionOrigin(kh,"pointer")};handlers.contextmenu=kh=>forceDOMFlush(kh);function inOrNearComposition(kh,Ff){return kh.composing?!0:safari&&Math.abs(Ff.timeStamp-kh.input.compositionEndedAt)<500?(kh.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=kh=>{if(!kh.composing){kh.domObserver.flush();let{state:Ff}=kh,x_=Ff.selection.$from;if(Ff.selection.empty&&(Ff.storedMarks||!x_.textOffset&&x_.parentOffset&&x_.nodeBefore.marks.some($P=>$P.type.spec.inclusive===!1)))kh.markCursor=kh.state.storedMarks||x_.marks(),endComposition(kh,!0),kh.markCursor=null;else if(endComposition(kh),gecko&&Ff.selection.empty&&x_.parentOffset&&!x_.textOffset&&x_.nodeBefore.marks.length){let $P=kh.domSelectionRange();for(let zP=$P.focusNode,eme=$P.focusOffset;zP&&zP.nodeType==1&&eme!=0;){let tme=eme<0?zP.lastChild:zP.childNodes[eme-1];if(!tme)break;if(tme.nodeType==3){kh.domSelection().collapse(tme,tme.nodeValue.length);break}else zP=tme,eme=-1}}kh.input.composing=!0}scheduleComposeEnd(kh,timeoutComposition)};editHandlers.compositionend=(kh,Ff)=>{kh.composing&&(kh.input.composing=!1,kh.input.compositionEndedAt=Ff.timeStamp,kh.input.compositionPendingChanges=kh.domObserver.pendingRecords().length?kh.input.compositionID:0,kh.input.compositionPendingChanges&&Promise.resolve().then(()=>kh.domObserver.flush()),kh.input.compositionID++,scheduleComposeEnd(kh,20))};function scheduleComposeEnd(kh,Ff){clearTimeout(kh.input.composingTimeout),Ff>-1&&(kh.input.composingTimeout=setTimeout(()=>endComposition(kh),Ff))}function clearComposition(kh){for(kh.composing&&(kh.input.composing=!1,kh.input.compositionEndedAt=timestampFromCustomEvent());kh.input.compositionNodes.length>0;)kh.input.compositionNodes.pop().markParentsDirty()}function timestampFromCustomEvent(){let kh=document.createEvent("Event");return kh.initEvent("event",!0,!0),kh.timeStamp}function endComposition(kh,Ff=!1){if(!(android&&kh.domObserver.flushingSoon>=0)){if(kh.domObserver.forceFlush(),clearComposition(kh),Ff||kh.docView&&kh.docView.dirty){let x_=selectionFromDOM(kh);return x_&&!x_.eq(kh.state.selection)?kh.dispatch(kh.state.tr.setSelection(x_)):kh.updateState(kh.state),!0}return!1}}function captureCopy(kh,Ff){if(!kh.dom.parentNode)return;let x_=kh.dom.parentNode.appendChild(document.createElement("div"));x_.appendChild(Ff),x_.style.cssText="position: fixed; left: -10000px; top: 10px";let $P=getSelection(),zP=document.createRange();zP.selectNodeContents(Ff),kh.dom.blur(),$P.removeAllRanges(),$P.addRange(zP),setTimeout(()=>{x_.parentNode&&x_.parentNode.removeChild(x_),kh.focus()},50)}const brokenClipboardAPI=ie$2&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(kh,Ff)=>{let x_=Ff,$P=kh.state.selection,zP=x_.type=="cut";if($P.empty)return;let eme=brokenClipboardAPI?null:x_.clipboardData,tme=$P.content(),{dom:nme,text:rme}=serializeForClipboard(kh,tme);eme?(x_.preventDefault(),eme.clearData(),eme.setData("text/html",nme.innerHTML),eme.setData("text/plain",rme)):captureCopy(kh,nme),zP&&kh.dispatch(kh.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(kh){return kh.openStart==0&&kh.openEnd==0&&kh.content.childCount==1?kh.content.firstChild:null}function capturePaste(kh,Ff){if(!kh.dom.parentNode)return;let x_=kh.input.shiftKey||kh.state.selection.$from.parent.type.spec.code,$P=kh.dom.parentNode.appendChild(document.createElement(x_?"textarea":"div"));x_||($P.contentEditable="true"),$P.style.cssText="position: fixed; left: -10000px; top: 10px",$P.focus();let zP=kh.input.shiftKey&&kh.input.lastKeyCode!=45;setTimeout(()=>{kh.focus(),$P.parentNode&&$P.parentNode.removeChild($P),x_?doPaste(kh,$P.value,null,zP,Ff):doPaste(kh,$P.textContent,$P.innerHTML,zP,Ff)},50)}function doPaste(kh,Ff,x_,$P,zP){let eme=parseFromClipboard(kh,Ff,x_,$P,kh.state.selection.$from);if(kh.someProp("handlePaste",rme=>rme(kh,zP,eme||Slice.empty)))return!0;if(!eme)return!1;let tme=sliceSingleNode(eme),nme=tme?kh.state.tr.replaceSelectionWith(tme,$P):kh.state.tr.replaceSelection(eme);return kh.dispatch(nme.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(kh){let Ff=kh.getData("text/plain")||kh.getData("Text");if(Ff)return Ff;let x_=kh.getData("text/uri-list");return x_?x_.replace(/\r?\n/g," "):""}editHandlers.paste=(kh,Ff)=>{let x_=Ff;if(kh.composing&&!android)return;let $P=brokenClipboardAPI?null:x_.clipboardData,zP=kh.input.shiftKey&&kh.input.lastKeyCode!=45;$P&&doPaste(kh,getText$1($P),$P.getData("text/html"),zP,x_)?x_.preventDefault():capturePaste(kh,x_)};class Dragging{constructor(Ff,x_,$P){this.slice=Ff,this.move=x_,this.node=$P}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";handlers.dragstart=(kh,Ff)=>{let x_=Ff,$P=kh.input.mouseDown;if($P&&$P.done(),!x_.dataTransfer)return;let zP=kh.state.selection,eme=zP.empty?null:kh.posAtCoords(eventCoords(x_)),tme;if(!(eme&&eme.pos>=zP.from&&eme.pos<=(zP instanceof NodeSelection?zP.to-1:zP.to))){if($P&&$P.mightDrag)tme=NodeSelection.create(kh.state.doc,$P.mightDrag.pos);else if(x_.target&&x_.target.nodeType==1){let ome=kh.docView.nearestDesc(x_.target,!0);ome&&ome.node.type.spec.draggable&&ome!=kh.docView&&(tme=NodeSelection.create(kh.state.doc,ome.posBefore))}}let nme=(tme||kh.state.selection).content(),{dom:rme,text:ime}=serializeForClipboard(kh,nme);x_.dataTransfer.clearData(),x_.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",rme.innerHTML),x_.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||x_.dataTransfer.setData("text/plain",ime),kh.dragging=new Dragging(nme,!x_[dragCopyModifier],tme)};handlers.dragend=kh=>{let Ff=kh.dragging;window.setTimeout(()=>{kh.dragging==Ff&&(kh.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(kh,Ff)=>Ff.preventDefault();editHandlers.drop=(kh,Ff)=>{let x_=Ff,$P=kh.dragging;if(kh.dragging=null,!x_.dataTransfer)return;let zP=kh.posAtCoords(eventCoords(x_));if(!zP)return;let eme=kh.state.doc.resolve(zP.pos),tme=$P&&$P.slice;tme?kh.someProp("transformPasted",ume=>{tme=ume(tme,kh)}):tme=parseFromClipboard(kh,getText$1(x_.dataTransfer),brokenClipboardAPI?null:x_.dataTransfer.getData("text/html"),!1,eme);let nme=!!($P&&!x_[dragCopyModifier]);if(kh.someProp("handleDrop",ume=>ume(kh,x_,tme||Slice.empty,nme))){x_.preventDefault();return}if(!tme)return;x_.preventDefault();let rme=tme?dropPoint(kh.state.doc,eme.pos,tme):eme.pos;rme==null&&(rme=eme.pos);let ime=kh.state.tr;if(nme){let{node:ume}=$P;ume?ume.replace(ime):ime.deleteSelection()}let ome=ime.mapping.map(rme),sme=tme.openStart==0&&tme.openEnd==0&&tme.content.childCount==1,ame=ime.doc;if(sme?ime.replaceRangeWith(ome,ome,tme.content.firstChild):ime.replaceRange(ome,ome,tme),ime.doc.eq(ame))return;let lme=ime.doc.resolve(ome);if(sme&&NodeSelection.isSelectable(tme.content.firstChild)&&lme.nodeAfter&&lme.nodeAfter.sameMarkup(tme.content.firstChild))ime.setSelection(new NodeSelection(lme));else{let ume=ime.mapping.map(rme);ime.mapping.maps[ime.mapping.maps.length-1].forEach((dme,pme,hme,cme)=>ume=cme),ime.setSelection(selectionBetween(kh,lme,ime.doc.resolve(ume)))}kh.focus(),kh.dispatch(ime.setMeta("uiEvent","drop"))};handlers.focus=kh=>{kh.input.lastFocus=Date.now(),kh.focused||(kh.domObserver.stop(),kh.dom.classList.add("ProseMirror-focused"),kh.domObserver.start(),kh.focused=!0,setTimeout(()=>{kh.docView&&kh.hasFocus()&&!kh.domObserver.currentSelection.eq(kh.domSelectionRange())&&selectionToDOM(kh)},20))};handlers.blur=(kh,Ff)=>{let x_=Ff;kh.focused&&(kh.domObserver.stop(),kh.dom.classList.remove("ProseMirror-focused"),kh.domObserver.start(),x_.relatedTarget&&kh.dom.contains(x_.relatedTarget)&&kh.domObserver.currentSelection.clear(),kh.focused=!1)};handlers.beforeinput=(kh,Ff)=>{if(chrome&&android&&Ff.inputType=="deleteContentBackward"){kh.domObserver.flushSoon();let{domChangeCount:$P}=kh.input;setTimeout(()=>{if(kh.input.domChangeCount!=$P||(kh.dom.blur(),kh.focus(),kh.someProp("handleKeyDown",eme=>eme(kh,keyEvent(8,"Backspace")))))return;let{$cursor:zP}=kh.state.selection;zP&&zP.pos>0&&kh.dispatch(kh.state.tr.delete(zP.pos-1,zP.pos).scrollIntoView())},50)}};for(let kh in editHandlers)handlers[kh]=editHandlers[kh];function compareObjs(kh,Ff){if(kh==Ff)return!0;for(let x_ in kh)if(kh[x_]!==Ff[x_])return!1;for(let x_ in Ff)if(!(x_ in kh))return!1;return!0}class WidgetType{constructor(Ff,x_){this.toDOM=Ff,this.spec=x_||noSpec,this.side=this.spec.side||0}map(Ff,x_,$P,zP){let{pos:eme,deleted:tme}=Ff.mapResult(x_.from+zP,this.side<0?-1:1);return tme?null:new Decoration(eme-$P,eme-$P,this)}valid(){return!0}eq(Ff){return this==Ff||Ff instanceof WidgetType&&(this.spec.key&&this.spec.key==Ff.spec.key||this.toDOM==Ff.toDOM&&compareObjs(this.spec,Ff.spec))}destroy(Ff){this.spec.destroy&&this.spec.destroy(Ff)}}class InlineType{constructor(Ff,x_){this.attrs=Ff,this.spec=x_||noSpec}map(Ff,x_,$P,zP){let eme=Ff.map(x_.from+zP,this.spec.inclusiveStart?-1:1)-$P,tme=Ff.map(x_.to+zP,this.spec.inclusiveEnd?1:-1)-$P;return eme>=tme?null:new Decoration(eme,tme,this)}valid(Ff,x_){return x_.from<x_.to}eq(Ff){return this==Ff||Ff instanceof InlineType&&compareObjs(this.attrs,Ff.attrs)&&compareObjs(this.spec,Ff.spec)}static is(Ff){return Ff.type instanceof InlineType}destroy(){}}let NodeType$1=class jbe{constructor(Ff,x_){this.attrs=Ff,this.spec=x_||noSpec}map(Ff,x_,$P,zP){let eme=Ff.mapResult(x_.from+zP,1);if(eme.deleted)return null;let tme=Ff.mapResult(x_.to+zP,-1);return tme.deleted||tme.pos<=eme.pos?null:new Decoration(eme.pos-$P,tme.pos-$P,this)}valid(Ff,x_){let{index:$P,offset:zP}=Ff.content.findIndex(x_.from),eme;return zP==x_.from&&!(eme=Ff.child($P)).isText&&zP+eme.nodeSize==x_.to}eq(Ff){return this==Ff||Ff instanceof jbe&&compareObjs(this.attrs,Ff.attrs)&&compareObjs(this.spec,Ff.spec)}destroy(){}};class Decoration{constructor(Ff,x_,$P){this.from=Ff,this.to=x_,this.type=$P}copy(Ff,x_){return new Decoration(Ff,x_,this.type)}eq(Ff,x_=0){return this.type.eq(Ff.type)&&this.from+x_==Ff.from&&this.to+x_==Ff.to}map(Ff,x_,$P){return this.type.map(Ff,this,x_,$P)}static widget(Ff,x_,$P){return new Decoration(Ff,Ff,new WidgetType(x_,$P))}static inline(Ff,x_,$P,zP){return new Decoration(Ff,x_,new InlineType($P,zP))}static node(Ff,x_,$P,zP){return new Decoration(Ff,x_,new NodeType$1($P,zP))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(Ff,x_){this.local=Ff.length?Ff:none,this.children=x_.length?x_:none}static create(Ff,x_){return x_.length?buildTree(x_,Ff,0,noSpec):empty}find(Ff,x_,$P){let zP=[];return this.findInner(Ff==null?0:Ff,x_==null?1e9:x_,zP,0,$P),zP}findInner(Ff,x_,$P,zP,eme){for(let tme=0;tme<this.local.length;tme++){let nme=this.local[tme];nme.from<=x_&&nme.to>=Ff&&(!eme||eme(nme.spec))&&$P.push(nme.copy(nme.from+zP,nme.to+zP))}for(let tme=0;tme<this.children.length;tme+=3)if(this.children[tme]<x_&&this.children[tme+1]>Ff){let nme=this.children[tme]+1;this.children[tme+2].findInner(Ff-nme,x_-nme,$P,zP+nme,eme)}}map(Ff,x_,$P){return this==empty||Ff.maps.length==0?this:this.mapInner(Ff,x_,0,0,$P||noSpec)}mapInner(Ff,x_,$P,zP,eme){let tme;for(let nme=0;nme<this.local.length;nme++){let rme=this.local[nme].map(Ff,$P,zP);rme&&rme.type.valid(x_,rme)?(tme||(tme=[])).push(rme):eme.onRemove&&eme.onRemove(this.local[nme].spec)}return this.children.length?mapChildren(this.children,tme||[],Ff,x_,$P,zP,eme):tme?new DecorationSet(tme.sort(byPos),none):empty}add(Ff,x_){return x_.length?this==empty?DecorationSet.create(Ff,x_):this.addInner(Ff,x_,0):this}addInner(Ff,x_,$P){let zP,eme=0;Ff.forEach((nme,rme)=>{let ime=rme+$P,ome;if(ome=takeSpansForNode(x_,nme,ime)){for(zP||(zP=this.children.slice());eme<zP.length&&zP[eme]<rme;)eme+=3;zP[eme]==rme?zP[eme+2]=zP[eme+2].addInner(nme,ome,ime+1):zP.splice(eme,0,rme,rme+nme.nodeSize,buildTree(ome,nme,ime+1,noSpec)),eme+=3}});let tme=moveSpans(eme?withoutNulls(x_):x_,-$P);for(let nme=0;nme<tme.length;nme++)tme[nme].type.valid(Ff,tme[nme])||tme.splice(nme--,1);return new DecorationSet(tme.length?this.local.concat(tme).sort(byPos):this.local,zP||this.children)}remove(Ff){return Ff.length==0||this==empty?this:this.removeInner(Ff,0)}removeInner(Ff,x_){let $P=this.children,zP=this.local;for(let eme=0;eme<$P.length;eme+=3){let tme,nme=$P[eme]+x_,rme=$P[eme+1]+x_;for(let ome=0,sme;ome<Ff.length;ome++)(sme=Ff[ome])&&sme.from>nme&&sme.to<rme&&(Ff[ome]=null,(tme||(tme=[])).push(sme));if(!tme)continue;$P==this.children&&($P=this.children.slice());let ime=$P[eme+2].removeInner(tme,nme+1);ime!=empty?$P[eme+2]=ime:($P.splice(eme,3),eme-=3)}if(zP.length){for(let eme=0,tme;eme<Ff.length;eme++)if(tme=Ff[eme])for(let nme=0;nme<zP.length;nme++)zP[nme].eq(tme,x_)&&(zP==this.local&&(zP=this.local.slice()),zP.splice(nme--,1))}return $P==this.children&&zP==this.local?this:zP.length||$P.length?new DecorationSet(zP,$P):empty}forChild(Ff,x_){if(this==empty)return this;if(x_.isLeaf)return DecorationSet.empty;let $P,zP;for(let nme=0;nme<this.children.length;nme+=3)if(this.children[nme]>=Ff){this.children[nme]==Ff&&($P=this.children[nme+2]);break}let eme=Ff+1,tme=eme+x_.content.size;for(let nme=0;nme<this.local.length;nme++){let rme=this.local[nme];if(rme.from<tme&&rme.to>eme&&rme.type instanceof InlineType){let ime=Math.max(eme,rme.from)-eme,ome=Math.min(tme,rme.to)-eme;ime<ome&&(zP||(zP=[])).push(rme.copy(ime,ome))}}if(zP){let nme=new DecorationSet(zP.sort(byPos),none);return $P?new DecorationGroup([nme,$P]):nme}return $P||empty}eq(Ff){if(this==Ff)return!0;if(!(Ff instanceof DecorationSet)||this.local.length!=Ff.local.length||this.children.length!=Ff.children.length)return!1;for(let x_=0;x_<this.local.length;x_++)if(!this.local[x_].eq(Ff.local[x_]))return!1;for(let x_=0;x_<this.children.length;x_+=3)if(this.children[x_]!=Ff.children[x_]||this.children[x_+1]!=Ff.children[x_+1]||!this.children[x_+2].eq(Ff.children[x_+2]))return!1;return!0}locals(Ff){return removeOverlap(this.localsInner(Ff))}localsInner(Ff){if(this==empty)return none;if(Ff.inlineContent||!this.local.some(InlineType.is))return this.local;let x_=[];for(let $P=0;$P<this.local.length;$P++)this.local[$P].type instanceof InlineType||x_.push(this.local[$P]);return x_}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(Ff){this.members=Ff}map(Ff,x_){const $P=this.members.map(zP=>zP.map(Ff,x_,noSpec));return DecorationGroup.from($P)}forChild(Ff,x_){if(x_.isLeaf)return DecorationSet.empty;let $P=[];for(let zP=0;zP<this.members.length;zP++){let eme=this.members[zP].forChild(Ff,x_);eme!=empty&&(eme instanceof DecorationGroup?$P=$P.concat(eme.members):$P.push(eme))}return DecorationGroup.from($P)}eq(Ff){if(!(Ff instanceof DecorationGroup)||Ff.members.length!=this.members.length)return!1;for(let x_=0;x_<this.members.length;x_++)if(!this.members[x_].eq(Ff.members[x_]))return!1;return!0}locals(Ff){let x_,$P=!0;for(let zP=0;zP<this.members.length;zP++){let eme=this.members[zP].localsInner(Ff);if(eme.length)if(!x_)x_=eme;else{$P&&(x_=x_.slice(),$P=!1);for(let tme=0;tme<eme.length;tme++)x_.push(eme[tme])}}return x_?removeOverlap($P?x_:x_.sort(byPos)):none}static from(Ff){switch(Ff.length){case 0:return empty;case 1:return Ff[0];default:return new DecorationGroup(Ff.every(x_=>x_ instanceof DecorationSet)?Ff:Ff.reduce((x_,$P)=>x_.concat($P instanceof DecorationSet?$P:$P.members),[]))}}}function mapChildren(kh,Ff,x_,$P,zP,eme,tme){let nme=kh.slice();for(let ime=0,ome=eme;ime<x_.maps.length;ime++){let sme=0;x_.maps[ime].forEach((ame,lme,ume,dme)=>{let pme=dme-ume-(lme-ame);for(let hme=0;hme<nme.length;hme+=3){let cme=nme[hme+1];if(cme<0||ame>cme+ome-sme)continue;let _me=nme[hme]+ome-sme;lme>=_me?nme[hme+1]=ame<=_me?-2:-1:ume>=zP&&pme&&(nme[hme]+=pme,nme[hme+1]+=pme)}sme+=pme}),ome=x_.maps[ime].map(ome,-1)}let rme=!1;for(let ime=0;ime<nme.length;ime+=3)if(nme[ime+1]<0){if(nme[ime+1]==-2){rme=!0,nme[ime+1]=-1;continue}let ome=x_.map(kh[ime]+eme),sme=ome-zP;if(sme<0||sme>=$P.content.size){rme=!0;continue}let ame=x_.map(kh[ime+1]+eme,-1),lme=ame-zP,{index:ume,offset:dme}=$P.content.findIndex(sme),pme=$P.maybeChild(ume);if(pme&&dme==sme&&dme+pme.nodeSize==lme){let hme=nme[ime+2].mapInner(x_,pme,ome+1,kh[ime]+eme+1,tme);hme!=empty?(nme[ime]=sme,nme[ime+1]=lme,nme[ime+2]=hme):(nme[ime+1]=-2,rme=!0)}else rme=!0}if(rme){let ime=mapAndGatherRemainingDecorations(nme,kh,Ff,x_,zP,eme,tme),ome=buildTree(ime,$P,0,tme);Ff=ome.local;for(let sme=0;sme<nme.length;sme+=3)nme[sme+1]<0&&(nme.splice(sme,3),sme-=3);for(let sme=0,ame=0;sme<ome.children.length;sme+=3){let lme=ome.children[sme];for(;ame<nme.length&&nme[ame]<lme;)ame+=3;nme.splice(ame,0,ome.children[sme],ome.children[sme+1],ome.children[sme+2])}}return new DecorationSet(Ff.sort(byPos),nme)}function moveSpans(kh,Ff){if(!Ff||!kh.length)return kh;let x_=[];for(let $P=0;$P<kh.length;$P++){let zP=kh[$P];x_.push(new Decoration(zP.from+Ff,zP.to+Ff,zP.type))}return x_}function mapAndGatherRemainingDecorations(kh,Ff,x_,$P,zP,eme,tme){function nme(rme,ime){for(let ome=0;ome<rme.local.length;ome++){let sme=rme.local[ome].map($P,zP,ime);sme?x_.push(sme):tme.onRemove&&tme.onRemove(rme.local[ome].spec)}for(let ome=0;ome<rme.children.length;ome+=3)nme(rme.children[ome+2],rme.children[ome]+ime+1)}for(let rme=0;rme<kh.length;rme+=3)kh[rme+1]==-1&&nme(kh[rme+2],Ff[rme]+eme+1);return x_}function takeSpansForNode(kh,Ff,x_){if(Ff.isLeaf)return null;let $P=x_+Ff.nodeSize,zP=null;for(let eme=0,tme;eme<kh.length;eme++)(tme=kh[eme])&&tme.from>x_&&tme.to<$P&&((zP||(zP=[])).push(tme),kh[eme]=null);return zP}function withoutNulls(kh){let Ff=[];for(let x_=0;x_<kh.length;x_++)kh[x_]!=null&&Ff.push(kh[x_]);return Ff}function buildTree(kh,Ff,x_,$P){let zP=[],eme=!1;Ff.forEach((nme,rme)=>{let ime=takeSpansForNode(kh,nme,rme+x_);if(ime){eme=!0;let ome=buildTree(ime,nme,x_+rme+1,$P);ome!=empty&&zP.push(rme,rme+nme.nodeSize,ome)}});let tme=moveSpans(eme?withoutNulls(kh):kh,-x_).sort(byPos);for(let nme=0;nme<tme.length;nme++)tme[nme].type.valid(Ff,tme[nme])||($P.onRemove&&$P.onRemove(tme[nme].spec),tme.splice(nme--,1));return tme.length||zP.length?new DecorationSet(tme,zP):empty}function byPos(kh,Ff){return kh.from-Ff.from||kh.to-Ff.to}function removeOverlap(kh){let Ff=kh;for(let x_=0;x_<Ff.length-1;x_++){let $P=Ff[x_];if($P.from!=$P.to)for(let zP=x_+1;zP<Ff.length;zP++){let eme=Ff[zP];if(eme.from==$P.from){eme.to!=$P.to&&(Ff==kh&&(Ff=kh.slice()),Ff[zP]=eme.copy(eme.from,$P.to),insertAhead(Ff,zP+1,eme.copy($P.to,eme.to)));continue}else{eme.from<$P.to&&(Ff==kh&&(Ff=kh.slice()),Ff[x_]=$P.copy($P.from,eme.from),insertAhead(Ff,zP,$P.copy(eme.from,$P.to)));break}}}return Ff}function insertAhead(kh,Ff,x_){for(;Ff<kh.length&&byPos(x_,kh[Ff])>0;)Ff++;kh.splice(Ff,0,x_)}function viewDecorations(kh){let Ff=[];return kh.someProp("decorations",x_=>{let $P=x_(kh.state);$P&&$P!=empty&&Ff.push($P)}),kh.cursorWrapper&&Ff.push(DecorationSet.create(kh.state.doc,[kh.cursorWrapper.deco])),DecorationGroup.from(Ff)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$2&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(Ff){this.anchorNode=Ff.anchorNode,this.anchorOffset=Ff.anchorOffset,this.focusNode=Ff.focusNode,this.focusOffset=Ff.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(Ff){return Ff.anchorNode==this.anchorNode&&Ff.anchorOffset==this.anchorOffset&&Ff.focusNode==this.focusNode&&Ff.focusOffset==this.focusOffset}}class DOMObserver{constructor(Ff,x_){this.view=Ff,this.handleDOMChange=x_,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver($P=>{for(let zP=0;zP<$P.length;zP++)this.queue.push($P[zP]);ie$2&&ie_version<=11&&$P.some(zP=>zP.type=="childList"&&zP.removedNodes.length||zP.type=="characterData"&&zP.oldValue.length>zP.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=$P=>{this.queue.push({target:$P.target,type:"characterData",oldValue:$P.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let Ff=this.observer.takeRecords();if(Ff.length){for(let x_=0;x_<Ff.length;x_++)this.queue.push(Ff[x_]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$2&&ie_version<=11&&!this.view.state.selection.empty){let Ff=this.view.domSelectionRange();if(Ff.focusNode&&isEquivalentPosition(Ff.focusNode,Ff.focusOffset,Ff.anchorNode,Ff.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(Ff){if(!Ff.focusNode)return!0;let x_=new Set,$P;for(let eme=Ff.focusNode;eme;eme=parentNode(eme))x_.add(eme);for(let eme=Ff.anchorNode;eme;eme=parentNode(eme))if(x_.has(eme)){$P=eme;break}let zP=$P&&this.view.docView.nearestDesc($P);if(zP&&zP.ignoreMutation({type:"selection",target:$P.nodeType==3?$P.parentNode:$P}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let Ff of this.observer.takeRecords())this.queue.push(Ff);return this.queue}flush(){let{view:Ff}=this;if(!Ff.docView||this.flushingSoon>-1)return;let x_=this.pendingRecords();x_.length&&(this.queue=[]);let $P=Ff.domSelectionRange(),zP=!this.suppressingSelectionUpdates&&!this.currentSelection.eq($P)&&hasFocusAndSelection(Ff)&&!this.ignoreSelectionChange($P),eme=-1,tme=-1,nme=!1,rme=[];if(Ff.editable)for(let ome=0;ome<x_.length;ome++){let sme=this.registerMutation(x_[ome],rme);sme&&(eme=eme<0?sme.from:Math.min(sme.from,eme),tme=tme<0?sme.to:Math.max(sme.to,tme),sme.typeOver&&(nme=!0))}if(gecko&&rme.length>1){let ome=rme.filter(sme=>sme.nodeName=="BR");if(ome.length==2){let sme=ome[0],ame=ome[1];sme.parentNode&&sme.parentNode.parentNode==ame.parentNode?ame.remove():sme.remove()}}let ime=null;eme<0&&zP&&Ff.input.lastFocus>Date.now()-200&&Math.max(Ff.input.lastTouch,Ff.input.lastClick.time)<Date.now()-300&&selectionCollapsed($P)&&(ime=selectionFromDOM(Ff))&&ime.eq(Selection.near(Ff.state.doc.resolve(0),1))?(Ff.input.lastFocus=0,selectionToDOM(Ff),this.currentSelection.set($P),Ff.scrollToSelection()):(eme>-1||zP)&&(eme>-1&&(Ff.docView.markDirty(eme,tme),checkCSS(Ff)),this.handleDOMChange(eme,tme,nme,rme),Ff.docView&&Ff.docView.dirty?Ff.updateState(Ff.state):this.currentSelection.eq($P)||selectionToDOM(Ff),this.currentSelection.set($P))}registerMutation(Ff,x_){if(x_.indexOf(Ff.target)>-1)return null;let $P=this.view.docView.nearestDesc(Ff.target);if(Ff.type=="attributes"&&($P==this.view.docView||Ff.attributeName=="contenteditable"||Ff.attributeName=="style"&&!Ff.oldValue&&!Ff.target.getAttribute("style"))||!$P||$P.ignoreMutation(Ff))return null;if(Ff.type=="childList"){for(let ome=0;ome<Ff.addedNodes.length;ome++)x_.push(Ff.addedNodes[ome]);if($P.contentDOM&&$P.contentDOM!=$P.dom&&!$P.contentDOM.contains(Ff.target))return{from:$P.posBefore,to:$P.posAfter};let zP=Ff.previousSibling,eme=Ff.nextSibling;if(ie$2&&ie_version<=11&&Ff.addedNodes.length)for(let ome=0;ome<Ff.addedNodes.length;ome++){let{previousSibling:sme,nextSibling:ame}=Ff.addedNodes[ome];(!sme||Array.prototype.indexOf.call(Ff.addedNodes,sme)<0)&&(zP=sme),(!ame||Array.prototype.indexOf.call(Ff.addedNodes,ame)<0)&&(eme=ame)}let tme=zP&&zP.parentNode==Ff.target?domIndex(zP)+1:0,nme=$P.localPosFromDOM(Ff.target,tme,-1),rme=eme&&eme.parentNode==Ff.target?domIndex(eme):Ff.target.childNodes.length,ime=$P.localPosFromDOM(Ff.target,rme,1);return{from:nme,to:ime}}else return Ff.type=="attributes"?{from:$P.posAtStart-$P.border,to:$P.posAtEnd+$P.border}:{from:$P.posAtStart,to:$P.posAtEnd,typeOver:Ff.target.nodeValue==Ff.oldValue}}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(kh){if(!cssChecked.has(kh)&&(cssChecked.set(kh,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(kh.dom).whiteSpace)!==-1)){if(kh.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function safariShadowSelectionRange(kh){let Ff;function x_(rme){rme.preventDefault(),rme.stopImmediatePropagation(),Ff=rme.getTargetRanges()[0]}kh.dom.addEventListener("beforeinput",x_,!0),document.execCommand("indent"),kh.dom.removeEventListener("beforeinput",x_,!0);let $P=Ff.startContainer,zP=Ff.startOffset,eme=Ff.endContainer,tme=Ff.endOffset,nme=kh.domAtPos(kh.state.selection.anchor);return isEquivalentPosition(nme.node,nme.offset,eme,tme)&&([$P,zP,eme,tme]=[eme,tme,$P,zP]),{anchorNode:$P,anchorOffset:zP,focusNode:eme,focusOffset:tme}}function parseBetween(kh,Ff,x_){let{node:$P,fromOffset:zP,toOffset:eme,from:tme,to:nme}=kh.docView.parseRange(Ff,x_),rme=kh.domSelectionRange(),ime,ome=rme.anchorNode;if(ome&&kh.dom.contains(ome.nodeType==1?ome:ome.parentNode)&&(ime=[{node:ome,offset:rme.anchorOffset}],selectionCollapsed(rme)||ime.push({node:rme.focusNode,offset:rme.focusOffset})),chrome&&kh.input.lastKeyCode===8)for(let pme=eme;pme>zP;pme--){let hme=$P.childNodes[pme-1],cme=hme.pmViewDesc;if(hme.nodeName=="BR"&&!cme){eme=pme;break}if(!cme||cme.size)break}let sme=kh.state.doc,ame=kh.someProp("domParser")||DOMParser$2.fromSchema(kh.state.schema),lme=sme.resolve(tme),ume=null,dme=ame.parse($P,{topNode:lme.parent,topMatch:lme.parent.contentMatchAt(lme.index()),topOpen:!0,from:zP,to:eme,preserveWhitespace:lme.parent.type.whitespace=="pre"?"full":!0,findPositions:ime,ruleFromNode,context:lme});if(ime&&ime[0].pos!=null){let pme=ime[0].pos,hme=ime[1]&&ime[1].pos;hme==null&&(hme=pme),ume={anchor:pme+tme,head:hme+tme}}return{doc:dme,sel:ume,from:tme,to:nme}}function ruleFromNode(kh){let Ff=kh.pmViewDesc;if(Ff)return Ff.parseRule();if(kh.nodeName=="BR"&&kh.parentNode){if(safari&&/^(ul|ol)$/i.test(kh.parentNode.nodeName)){let x_=document.createElement("div");return x_.appendChild(document.createElement("li")),{skip:x_}}else if(kh.parentNode.lastChild==kh||safari&&/^(tr|table)$/i.test(kh.parentNode.nodeName))return{ignore:!0}}else if(kh.nodeName=="IMG"&&kh.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(kh,Ff,x_,$P,zP){let eme=kh.input.compositionPendingChanges||(kh.composing?kh.input.compositionID:0);if(kh.input.compositionPendingChanges=0,Ff<0){let Ame=kh.input.lastSelectionTime>Date.now()-50?kh.input.lastSelectionOrigin:null,Nme=selectionFromDOM(kh,Ame);if(Nme&&!kh.state.selection.eq(Nme)){if(chrome&&android&&kh.input.lastKeyCode===13&&Date.now()-100<kh.input.lastKeyCodeTime&&kh.someProp("handleKeyDown",jme=>jme(kh,keyEvent(13,"Enter"))))return;let Ume=kh.state.tr.setSelection(Nme);Ame=="pointer"?Ume.setMeta("pointer",!0):Ame=="key"&&Ume.scrollIntoView(),eme&&Ume.setMeta("composition",eme),kh.dispatch(Ume)}return}let tme=kh.state.doc.resolve(Ff),nme=tme.sharedDepth(x_);Ff=tme.before(nme+1),x_=kh.state.doc.resolve(x_).after(nme+1);let rme=kh.state.selection,ime=parseBetween(kh,Ff,x_),ome=kh.state.doc,sme=ome.slice(ime.from,ime.to),ame,lme;kh.input.lastKeyCode===8&&Date.now()-100<kh.input.lastKeyCodeTime?(ame=kh.state.selection.to,lme="end"):(ame=kh.state.selection.from,lme="start"),kh.input.lastKeyCode=null;let ume=findDiff(sme.content,ime.doc.content,ime.from,ame,lme);if((ios&&kh.input.lastIOSEnter>Date.now()-225||android)&&zP.some(Ame=>Ame.nodeType==1&&!isInline.test(Ame.nodeName))&&(!ume||ume.endA>=ume.endB)&&kh.someProp("handleKeyDown",Ame=>Ame(kh,keyEvent(13,"Enter")))){kh.input.lastIOSEnter=0;return}if(!ume)if($P&&rme instanceof TextSelection&&!rme.empty&&rme.$head.sameParent(rme.$anchor)&&!kh.composing&&!(ime.sel&&ime.sel.anchor!=ime.sel.head))ume={start:rme.from,endA:rme.to,endB:rme.to};else{if(ime.sel){let Ame=resolveSelection(kh,kh.state.doc,ime.sel);if(Ame&&!Ame.eq(kh.state.selection)){let Nme=kh.state.tr.setSelection(Ame);eme&&Nme.setMeta("composition",eme),kh.dispatch(Nme)}}return}if(chrome&&kh.cursorWrapper&&ime.sel&&ime.sel.anchor==kh.cursorWrapper.deco.from&&ime.sel.head==ime.sel.anchor){let Ame=ume.endB-ume.start;ime.sel={anchor:ime.sel.anchor+Ame,head:ime.sel.anchor+Ame}}kh.input.domChangeCount++,kh.state.selection.from<kh.state.selection.to&&ume.start==ume.endB&&kh.state.selection instanceof TextSelection&&(ume.start>kh.state.selection.from&&ume.start<=kh.state.selection.from+2&&kh.state.selection.from>=ime.from?ume.start=kh.state.selection.from:ume.endA<kh.state.selection.to&&ume.endA>=kh.state.selection.to-2&&kh.state.selection.to<=ime.to&&(ume.endB+=kh.state.selection.to-ume.endA,ume.endA=kh.state.selection.to)),ie$2&&ie_version<=11&&ume.endB==ume.start+1&&ume.endA==ume.start&&ume.start>ime.from&&ime.doc.textBetween(ume.start-ime.from-1,ume.start-ime.from+1)=="  "&&(ume.start--,ume.endA--,ume.endB--);let dme=ime.doc.resolveNoCache(ume.start-ime.from),pme=ime.doc.resolveNoCache(ume.endB-ime.from),hme=ome.resolve(ume.start),cme=dme.sameParent(pme)&&dme.parent.inlineContent&&hme.end()>=ume.endA,_me;if((ios&&kh.input.lastIOSEnter>Date.now()-225&&(!cme||zP.some(Ame=>Ame.nodeName=="DIV"||Ame.nodeName=="P"))||!cme&&dme.pos<ime.doc.content.size&&!dme.sameParent(pme)&&(_me=Selection.findFrom(ime.doc.resolve(dme.pos+1),1,!0))&&_me.head==pme.pos)&&kh.someProp("handleKeyDown",Ame=>Ame(kh,keyEvent(13,"Enter")))){kh.input.lastIOSEnter=0;return}if(kh.state.selection.anchor>ume.start&&looksLikeJoin(ome,ume.start,ume.endA,dme,pme)&&kh.someProp("handleKeyDown",Ame=>Ame(kh,keyEvent(8,"Backspace")))){android&&chrome&&kh.domObserver.suppressSelectionUpdates();return}chrome&&android&&ume.endB==ume.start&&(kh.input.lastAndroidDelete=Date.now()),android&&!cme&&dme.start()!=pme.start()&&pme.parentOffset==0&&dme.depth==pme.depth&&ime.sel&&ime.sel.anchor==ime.sel.head&&ime.sel.head==ume.endA&&(ume.endB-=2,pme=ime.doc.resolveNoCache(ume.endB-ime.from),setTimeout(()=>{kh.someProp("handleKeyDown",function(Ame){return Ame(kh,keyEvent(13,"Enter"))})},20));let vme=ume.start,Eme=ume.endA,wme,Tme,Dme;if(cme){if(dme.pos==pme.pos)ie$2&&ie_version<=11&&dme.parentOffset==0&&(kh.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(kh),20)),wme=kh.state.tr.delete(vme,Eme),Tme=ome.resolve(ume.start).marksAcross(ome.resolve(ume.endA));else if(ume.endA==ume.endB&&(Dme=isMarkChange(dme.parent.content.cut(dme.parentOffset,pme.parentOffset),hme.parent.content.cut(hme.parentOffset,ume.endA-hme.start()))))wme=kh.state.tr,Dme.type=="add"?wme.addMark(vme,Eme,Dme.mark):wme.removeMark(vme,Eme,Dme.mark);else if(dme.parent.child(dme.index()).isText&&dme.index()==pme.index()-(pme.textOffset?0:1)){let Ame=dme.parent.textBetween(dme.parentOffset,pme.parentOffset);if(kh.someProp("handleTextInput",Nme=>Nme(kh,vme,Eme,Ame)))return;wme=kh.state.tr.insertText(Ame,vme,Eme)}}if(wme||(wme=kh.state.tr.replace(vme,Eme,ime.doc.slice(ume.start-ime.from,ume.endB-ime.from))),ime.sel){let Ame=resolveSelection(kh,wme.doc,ime.sel);Ame&&!(chrome&&android&&kh.composing&&Ame.empty&&(ume.start!=ume.endB||kh.input.lastAndroidDelete<Date.now()-100)&&(Ame.head==vme||Ame.head==wme.mapping.map(Eme)-1)||ie$2&&Ame.empty&&Ame.head==vme)&&wme.setSelection(Ame)}Tme&&wme.ensureMarks(Tme),eme&&wme.setMeta("composition",eme),kh.dispatch(wme.scrollIntoView())}function resolveSelection(kh,Ff,x_){return Math.max(x_.anchor,x_.head)>Ff.content.size?null:selectionBetween(kh,Ff.resolve(x_.anchor),Ff.resolve(x_.head))}function isMarkChange(kh,Ff){let x_=kh.firstChild.marks,$P=Ff.firstChild.marks,zP=x_,eme=$P,tme,nme,rme;for(let ome=0;ome<$P.length;ome++)zP=$P[ome].removeFromSet(zP);for(let ome=0;ome<x_.length;ome++)eme=x_[ome].removeFromSet(eme);if(zP.length==1&&eme.length==0)nme=zP[0],tme="add",rme=ome=>ome.mark(nme.addToSet(ome.marks));else if(zP.length==0&&eme.length==1)nme=eme[0],tme="remove",rme=ome=>ome.mark(nme.removeFromSet(ome.marks));else return null;let ime=[];for(let ome=0;ome<Ff.childCount;ome++)ime.push(rme(Ff.child(ome)));if(Fragment.from(ime).eq(kh))return{mark:nme,type:tme}}function looksLikeJoin(kh,Ff,x_,$P,zP){if(!$P.parent.isTextblock||x_-Ff<=zP.pos-$P.pos||skipClosingAndOpening($P,!0,!1)<zP.pos)return!1;let eme=kh.resolve(Ff);if(eme.parentOffset<eme.parent.content.size||!eme.parent.isTextblock)return!1;let tme=kh.resolve(skipClosingAndOpening(eme,!0,!0));return!tme.parent.isTextblock||tme.pos>x_||skipClosingAndOpening(tme,!0,!1)<x_?!1:$P.parent.content.cut($P.parentOffset).eq(tme.parent.content)}function skipClosingAndOpening(kh,Ff,x_){let $P=kh.depth,zP=Ff?kh.end():kh.pos;for(;$P>0&&(Ff||kh.indexAfter($P)==kh.node($P).childCount);)$P--,zP++,Ff=!1;if(x_){let eme=kh.node($P).maybeChild(kh.indexAfter($P));for(;eme&&!eme.isLeaf;)eme=eme.firstChild,zP++}return zP}function findDiff(kh,Ff,x_,$P,zP){let eme=kh.findDiffStart(Ff,x_);if(eme==null)return null;let{a:tme,b:nme}=kh.findDiffEnd(Ff,x_+kh.size,x_+Ff.size);if(zP=="end"){let rme=Math.max(0,eme-Math.min(tme,nme));$P-=tme+rme-eme}if(tme<eme&&kh.size<Ff.size){let rme=$P<=eme&&$P>=tme?eme-$P:0;eme-=rme,eme&&eme<Ff.size&&isSurrogatePair(Ff.textBetween(eme-1,eme+1))&&(eme+=rme?1:-1),nme=eme+(nme-tme),tme=eme}else if(nme<eme){let rme=$P<=eme&&$P>=nme?eme-$P:0;eme-=rme,eme&&eme<kh.size&&isSurrogatePair(kh.textBetween(eme-1,eme+1))&&(eme+=rme?1:-1),tme=eme+(tme-nme),nme=eme}return{start:eme,endA:tme,endB:nme}}function isSurrogatePair(kh){if(kh.length!=2)return!1;let Ff=kh.charCodeAt(0),x_=kh.charCodeAt(1);return Ff>=56320&&Ff<=57343&&x_>=55296&&x_<=56319}class EditorView{constructor(Ff,x_){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=x_,this.state=x_.state,this.directPlugins=x_.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=Ff&&Ff.mount||document.createElement("div"),Ff&&(Ff.appendChild?Ff.appendChild(this.dom):typeof Ff=="function"?Ff(this.dom):Ff.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,($P,zP,eme,tme)=>readDOMChange(this,$P,zP,eme,tme)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let Ff=this._props;this._props={};for(let x_ in Ff)this._props[x_]=Ff[x_];this._props.state=this.state}return this._props}update(Ff){Ff.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let x_=this._props;this._props=Ff,Ff.plugins&&(Ff.plugins.forEach(checkStateComponent),this.directPlugins=Ff.plugins),this.updateStateInner(Ff.state,x_)}setProps(Ff){let x_={};for(let $P in this._props)x_[$P]=this._props[$P];x_.state=this.state;for(let $P in Ff)x_[$P]=Ff[$P];this.update(x_)}updateState(Ff){this.updateStateInner(Ff,this._props)}updateStateInner(Ff,x_){var $P;let zP=this.state,eme=!1,tme=!1;Ff.storedMarks&&this.composing&&(clearComposition(this),tme=!0),this.state=Ff;let nme=zP.plugins!=Ff.plugins||this._props.plugins!=x_.plugins;if(nme||this._props.plugins!=x_.plugins||this._props.nodeViews!=x_.nodeViews){let lme=buildNodeViews(this);changedNodeViews(lme,this.nodeViews)&&(this.nodeViews=lme,eme=!0)}(nme||x_.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let rme=viewDecorations(this),ime=computeDocDeco(this),ome=zP.plugins!=Ff.plugins&&!zP.doc.eq(Ff.doc)?"reset":Ff.scrollToSelection>zP.scrollToSelection?"to selection":"preserve",sme=eme||!this.docView.matchesNode(Ff.doc,ime,rme);(sme||!Ff.selection.eq(zP.selection))&&(tme=!0);let ame=ome=="preserve"&&tme&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(tme){this.domObserver.stop();let lme=sme&&(ie$2||chrome)&&!this.composing&&!zP.selection.empty&&!Ff.selection.empty&&selectionContextChanged(zP.selection,Ff.selection);if(sme){let ume=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;(eme||!this.docView.update(Ff.doc,ime,rme,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(Ff.doc,ime,rme,this.dom,this)),ume&&!this.trackWrites&&(lme=!0)}lme||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,lme):(syncNodeSelection(this,Ff.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(zP),!(($P=this.dragging)===null||$P===void 0)&&$P.node&&!zP.doc.eq(Ff.doc)&&this.updateDraggedNode(this.dragging,zP),ome=="reset"?this.dom.scrollTop=0:ome=="to selection"?this.scrollToSelection():ame&&resetScrollPos(ame)}scrollToSelection(){let Ff=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",x_=>x_(this)))if(this.state.selection instanceof NodeSelection){let x_=this.docView.domAfterPos(this.state.selection.from);x_.nodeType==1&&scrollRectIntoView(this,x_.getBoundingClientRect(),Ff)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),Ff)}destroyPluginViews(){let Ff;for(;Ff=this.pluginViews.pop();)Ff.destroy&&Ff.destroy()}updatePluginViews(Ff){if(!Ff||Ff.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let x_=0;x_<this.directPlugins.length;x_++){let $P=this.directPlugins[x_];$P.spec.view&&this.pluginViews.push($P.spec.view(this))}for(let x_=0;x_<this.state.plugins.length;x_++){let $P=this.state.plugins[x_];$P.spec.view&&this.pluginViews.push($P.spec.view(this))}}else for(let x_=0;x_<this.pluginViews.length;x_++){let $P=this.pluginViews[x_];$P.update&&$P.update(this,Ff)}}updateDraggedNode(Ff,x_){let $P=Ff.node,zP=-1;if(this.state.doc.nodeAt($P.from)==$P.node)zP=$P.from;else{let eme=$P.from+(this.state.doc.content.size-x_.doc.content.size);(eme>0&&this.state.doc.nodeAt(eme))==$P.node&&(zP=eme)}this.dragging=new Dragging(Ff.slice,Ff.move,zP<0?void 0:NodeSelection.create(this.state.doc,zP))}someProp(Ff,x_){let $P=this._props&&this._props[Ff],zP;if($P!=null&&(zP=x_?x_($P):$P))return zP;for(let tme=0;tme<this.directPlugins.length;tme++){let nme=this.directPlugins[tme].props[Ff];if(nme!=null&&(zP=x_?x_(nme):nme))return zP}let eme=this.state.plugins;if(eme)for(let tme=0;tme<eme.length;tme++){let nme=eme[tme].props[Ff];if(nme!=null&&(zP=x_?x_(nme):nme))return zP}}hasFocus(){if(ie$2){let Ff=this.root.activeElement;if(Ff==this.dom)return!0;if(!Ff||!this.dom.contains(Ff))return!1;for(;Ff&&this.dom!=Ff&&this.dom.contains(Ff);){if(Ff.contentEditable=="false")return!1;Ff=Ff.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let Ff=this._root;if(Ff==null){for(let x_=this.dom.parentNode;x_;x_=x_.parentNode)if(x_.nodeType==9||x_.nodeType==11&&x_.host)return x_.getSelection||(Object.getPrototypeOf(x_).getSelection=()=>x_.ownerDocument.getSelection()),this._root=x_}return Ff||document}updateRoot(){this._root=null}posAtCoords(Ff){return posAtCoords(this,Ff)}coordsAtPos(Ff,x_=1){return coordsAtPos(this,Ff,x_)}domAtPos(Ff,x_=0){return this.docView.domFromPos(Ff,x_)}nodeDOM(Ff){let x_=this.docView.descAt(Ff);return x_?x_.nodeDOM:null}posAtDOM(Ff,x_,$P=-1){let zP=this.docView.posFromDOM(Ff,x_,$P);if(zP==null)throw new RangeError("DOM position not inside the editor");return zP}endOfTextblock(Ff,x_){return endOfTextblock(this,x_||this.state,Ff)}pasteHTML(Ff,x_){return doPaste(this,"",Ff,!1,x_||new ClipboardEvent("paste"))}pasteText(Ff,x_){return doPaste(this,Ff,null,!0,x_||new ClipboardEvent("paste"))}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(Ff){return dispatchEvent(this,Ff)}dispatch(Ff){let x_=this._props.dispatchTransaction;x_?x_.call(this,Ff):this.updateState(this.state.apply(Ff))}domSelectionRange(){return safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom?safariShadowSelectionRange(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function computeDocDeco(kh){let Ff=Object.create(null);return Ff.class="ProseMirror",Ff.contenteditable=String(kh.editable),kh.someProp("attributes",x_=>{if(typeof x_=="function"&&(x_=x_(kh.state)),x_)for(let $P in x_)$P=="class"?Ff.class+=" "+x_[$P]:$P=="style"?Ff.style=(Ff.style?Ff.style+";":"")+x_[$P]:!Ff[$P]&&$P!="contenteditable"&&$P!="nodeName"&&(Ff[$P]=String(x_[$P]))}),Ff.translate||(Ff.translate="no"),[Decoration.node(0,kh.state.doc.content.size,Ff)]}function updateCursorWrapper(kh){if(kh.markCursor){let Ff=document.createElement("img");Ff.className="ProseMirror-separator",Ff.setAttribute("mark-placeholder","true"),Ff.setAttribute("alt",""),kh.cursorWrapper={dom:Ff,deco:Decoration.widget(kh.state.selection.head,Ff,{raw:!0,marks:kh.markCursor})}}else kh.cursorWrapper=null}function getEditable(kh){return!kh.someProp("editable",Ff=>Ff(kh.state)===!1)}function selectionContextChanged(kh,Ff){let x_=Math.min(kh.$anchor.sharedDepth(kh.head),Ff.$anchor.sharedDepth(Ff.head));return kh.$anchor.start(x_)!=Ff.$anchor.start(x_)}function buildNodeViews(kh){let Ff=Object.create(null);function x_($P){for(let zP in $P)Object.prototype.hasOwnProperty.call(Ff,zP)||(Ff[zP]=$P[zP])}return kh.someProp("nodeViews",x_),kh.someProp("markViews",x_),Ff}function changedNodeViews(kh,Ff){let x_=0,$P=0;for(let zP in kh){if(kh[zP]!=Ff[zP])return!0;x_++}for(let zP in Ff)$P++;return x_!=$P}function checkStateComponent(kh){if(kh.spec.state||kh.spec.filterTransaction||kh.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),ie$1=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$1=0;i$1<10;i$1++)base[48+i$1]=base[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(kh){var Ff=mac$1&&kh.metaKey&&kh.shiftKey&&!kh.ctrlKey&&!kh.altKey||ie$1&&kh.shiftKey&&kh.key&&kh.key.length==1||kh.key=="Unidentified",x_=!Ff&&kh.key||(kh.shiftKey?shift:base)[kh.keyCode]||kh.key||"Unidentified";return x_=="Esc"&&(x_="Escape"),x_=="Del"&&(x_="Delete"),x_=="Left"&&(x_="ArrowLeft"),x_=="Up"&&(x_="ArrowUp"),x_=="Right"&&(x_="ArrowRight"),x_=="Down"&&(x_="ArrowDown"),x_}const mac=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function normalizeKeyName$1(kh){let Ff=kh.split(/-(?!$)/),x_=Ff[Ff.length-1];x_=="Space"&&(x_=" ");let $P,zP,eme,tme;for(let nme=0;nme<Ff.length-1;nme++){let rme=Ff[nme];if(/^(cmd|meta|m)$/i.test(rme))tme=!0;else if(/^a(lt)?$/i.test(rme))$P=!0;else if(/^(c|ctrl|control)$/i.test(rme))zP=!0;else if(/^s(hift)?$/i.test(rme))eme=!0;else if(/^mod$/i.test(rme))mac?tme=!0:zP=!0;else throw new Error("Unrecognized modifier name: "+rme)}return $P&&(x_="Alt-"+x_),zP&&(x_="Ctrl-"+x_),tme&&(x_="Meta-"+x_),eme&&(x_="Shift-"+x_),x_}function normalize(kh){let Ff=Object.create(null);for(let x_ in kh)Ff[normalizeKeyName$1(x_)]=kh[x_];return Ff}function modifiers(kh,Ff,x_=!0){return Ff.altKey&&(kh="Alt-"+kh),Ff.ctrlKey&&(kh="Ctrl-"+kh),Ff.metaKey&&(kh="Meta-"+kh),x_&&Ff.shiftKey&&(kh="Shift-"+kh),kh}function keymap(kh){return new Plugin$1({props:{handleKeyDown:keydownHandler(kh)}})}function keydownHandler(kh){let Ff=normalize(kh);return function(x_,$P){let zP=keyName($P),eme,tme=Ff[modifiers(zP,$P)];if(tme&&tme(x_.state,x_.dispatch,x_))return!0;if(zP.length==1&&zP!=" "){if($P.shiftKey){let nme=Ff[modifiers(zP,$P,!1)];if(nme&&nme(x_.state,x_.dispatch,x_))return!0}if(($P.shiftKey||$P.altKey||$P.metaKey||zP.charCodeAt(0)>127)&&(eme=base[$P.keyCode])&&eme!=zP){let nme=Ff[modifiers(eme,$P)];if(nme&&nme(x_.state,x_.dispatch,x_))return!0}}return!1}}const deleteSelection$1=(kh,Ff)=>kh.selection.empty?!1:(Ff&&Ff(kh.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(kh,Ff){let{$cursor:x_}=kh.selection;return!x_||(Ff?!Ff.endOfTextblock("backward",kh):x_.parentOffset>0)?null:x_}const joinBackward$1=(kh,Ff,x_)=>{let $P=atBlockStart(kh,x_);if(!$P)return!1;let zP=findCutBefore($P);if(!zP){let tme=$P.blockRange(),nme=tme&&liftTarget(tme);return nme==null?!1:(Ff&&Ff(kh.tr.lift(tme,nme).scrollIntoView()),!0)}let eme=zP.nodeBefore;if(!eme.type.spec.isolating&&deleteBarrier(kh,zP,Ff))return!0;if($P.parent.content.size==0&&(textblockAt(eme,"end")||NodeSelection.isSelectable(eme))){let tme=replaceStep(kh.doc,$P.before(),$P.after(),Slice.empty);if(tme&&tme.slice.size<tme.to-tme.from){if(Ff){let nme=kh.tr.step(tme);nme.setSelection(textblockAt(eme,"end")?Selection.findFrom(nme.doc.resolve(nme.mapping.map(zP.pos,-1)),-1):NodeSelection.create(nme.doc,zP.pos-eme.nodeSize)),Ff(nme.scrollIntoView())}return!0}}return eme.isAtom&&zP.depth==$P.depth-1?(Ff&&Ff(kh.tr.delete(zP.pos-eme.nodeSize,zP.pos).scrollIntoView()),!0):!1};function textblockAt(kh,Ff,x_=!1){for(let $P=kh;$P;$P=Ff=="start"?$P.firstChild:$P.lastChild){if($P.isTextblock)return!0;if(x_&&$P.childCount!=1)return!1}return!1}const selectNodeBackward$1=(kh,Ff,x_)=>{let{$head:$P,empty:zP}=kh.selection,eme=$P;if(!zP)return!1;if($P.parent.isTextblock){if(x_?!x_.endOfTextblock("backward",kh):$P.parentOffset>0)return!1;eme=findCutBefore($P)}let tme=eme&&eme.nodeBefore;return!tme||!NodeSelection.isSelectable(tme)?!1:(Ff&&Ff(kh.tr.setSelection(NodeSelection.create(kh.doc,eme.pos-tme.nodeSize)).scrollIntoView()),!0)};function findCutBefore(kh){if(!kh.parent.type.spec.isolating)for(let Ff=kh.depth-1;Ff>=0;Ff--){if(kh.index(Ff)>0)return kh.doc.resolve(kh.before(Ff+1));if(kh.node(Ff).type.spec.isolating)break}return null}function atBlockEnd(kh,Ff){let{$cursor:x_}=kh.selection;return!x_||(Ff?!Ff.endOfTextblock("forward",kh):x_.parentOffset<x_.parent.content.size)?null:x_}const joinForward$1=(kh,Ff,x_)=>{let $P=atBlockEnd(kh,x_);if(!$P)return!1;let zP=findCutAfter($P);if(!zP)return!1;let eme=zP.nodeAfter;if(deleteBarrier(kh,zP,Ff))return!0;if($P.parent.content.size==0&&(textblockAt(eme,"start")||NodeSelection.isSelectable(eme))){let tme=replaceStep(kh.doc,$P.before(),$P.after(),Slice.empty);if(tme&&tme.slice.size<tme.to-tme.from){if(Ff){let nme=kh.tr.step(tme);nme.setSelection(textblockAt(eme,"start")?Selection.findFrom(nme.doc.resolve(nme.mapping.map(zP.pos)),1):NodeSelection.create(nme.doc,nme.mapping.map(zP.pos))),Ff(nme.scrollIntoView())}return!0}}return eme.isAtom&&zP.depth==$P.depth-1?(Ff&&Ff(kh.tr.delete(zP.pos,zP.pos+eme.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(kh,Ff,x_)=>{let{$head:$P,empty:zP}=kh.selection,eme=$P;if(!zP)return!1;if($P.parent.isTextblock){if(x_?!x_.endOfTextblock("forward",kh):$P.parentOffset<$P.parent.content.size)return!1;eme=findCutAfter($P)}let tme=eme&&eme.nodeAfter;return!tme||!NodeSelection.isSelectable(tme)?!1:(Ff&&Ff(kh.tr.setSelection(NodeSelection.create(kh.doc,eme.pos)).scrollIntoView()),!0)};function findCutAfter(kh){if(!kh.parent.type.spec.isolating)for(let Ff=kh.depth-1;Ff>=0;Ff--){let x_=kh.node(Ff);if(kh.index(Ff)+1<x_.childCount)return kh.doc.resolve(kh.after(Ff+1));if(x_.type.spec.isolating)break}return null}const joinUp$1=(kh,Ff)=>{let x_=kh.selection,$P=x_ instanceof NodeSelection,zP;if($P){if(x_.node.isTextblock||!canJoin(kh.doc,x_.from))return!1;zP=x_.from}else if(zP=joinPoint(kh.doc,x_.from,-1),zP==null)return!1;if(Ff){let eme=kh.tr.join(zP);$P&&eme.setSelection(NodeSelection.create(eme.doc,zP-kh.doc.resolve(zP).nodeBefore.nodeSize)),Ff(eme.scrollIntoView())}return!0},joinDown$1=(kh,Ff)=>{let x_=kh.selection,$P;if(x_ instanceof NodeSelection){if(x_.node.isTextblock||!canJoin(kh.doc,x_.to))return!1;$P=x_.to}else if($P=joinPoint(kh.doc,x_.to,1),$P==null)return!1;return Ff&&Ff(kh.tr.join($P).scrollIntoView()),!0},lift$1=(kh,Ff)=>{let{$from:x_,$to:$P}=kh.selection,zP=x_.blockRange($P),eme=zP&&liftTarget(zP);return eme==null?!1:(Ff&&Ff(kh.tr.lift(zP,eme).scrollIntoView()),!0)},newlineInCode$1=(kh,Ff)=>{let{$head:x_,$anchor:$P}=kh.selection;return!x_.parent.type.spec.code||!x_.sameParent($P)?!1:(Ff&&Ff(kh.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(kh){for(let Ff=0;Ff<kh.edgeCount;Ff++){let{type:x_}=kh.edge(Ff);if(x_.isTextblock&&!x_.hasRequiredAttrs())return x_}return null}const exitCode$1=(kh,Ff)=>{let{$head:x_,$anchor:$P}=kh.selection;if(!x_.parent.type.spec.code||!x_.sameParent($P))return!1;let zP=x_.node(-1),eme=x_.indexAfter(-1),tme=defaultBlockAt$1(zP.contentMatchAt(eme));if(!tme||!zP.canReplaceWith(eme,eme,tme))return!1;if(Ff){let nme=x_.after(),rme=kh.tr.replaceWith(nme,nme,tme.createAndFill());rme.setSelection(Selection.near(rme.doc.resolve(nme),1)),Ff(rme.scrollIntoView())}return!0},createParagraphNear$1=(kh,Ff)=>{let x_=kh.selection,{$from:$P,$to:zP}=x_;if(x_ instanceof AllSelection||$P.parent.inlineContent||zP.parent.inlineContent)return!1;let eme=defaultBlockAt$1(zP.parent.contentMatchAt(zP.indexAfter()));if(!eme||!eme.isTextblock)return!1;if(Ff){let tme=(!$P.parentOffset&&zP.index()<zP.parent.childCount?$P:zP).pos,nme=kh.tr.insert(tme,eme.createAndFill());nme.setSelection(TextSelection.create(nme.doc,tme+1)),Ff(nme.scrollIntoView())}return!0},liftEmptyBlock$1=(kh,Ff)=>{let{$cursor:x_}=kh.selection;if(!x_||x_.parent.content.size)return!1;if(x_.depth>1&&x_.after()!=x_.end(-1)){let eme=x_.before();if(canSplit(kh.doc,eme))return Ff&&Ff(kh.tr.split(eme).scrollIntoView()),!0}let $P=x_.blockRange(),zP=$P&&liftTarget($P);return zP==null?!1:(Ff&&Ff(kh.tr.lift($P,zP).scrollIntoView()),!0)},selectParentNode$1=(kh,Ff)=>{let{$from:x_,to:$P}=kh.selection,zP,eme=x_.sharedDepth($P);return eme==0?!1:(zP=x_.before(eme),Ff&&Ff(kh.tr.setSelection(NodeSelection.create(kh.doc,zP))),!0)};function joinMaybeClear(kh,Ff,x_){let $P=Ff.nodeBefore,zP=Ff.nodeAfter,eme=Ff.index();return!$P||!zP||!$P.type.compatibleContent(zP.type)?!1:!$P.content.size&&Ff.parent.canReplace(eme-1,eme)?(x_&&x_(kh.tr.delete(Ff.pos-$P.nodeSize,Ff.pos).scrollIntoView()),!0):!Ff.parent.canReplace(eme,eme+1)||!(zP.isTextblock||canJoin(kh.doc,Ff.pos))?!1:(x_&&x_(kh.tr.clearIncompatible(Ff.pos,$P.type,$P.contentMatchAt($P.childCount)).join(Ff.pos).scrollIntoView()),!0)}function deleteBarrier(kh,Ff,x_){let $P=Ff.nodeBefore,zP=Ff.nodeAfter,eme,tme;if($P.type.spec.isolating||zP.type.spec.isolating)return!1;if(joinMaybeClear(kh,Ff,x_))return!0;let nme=Ff.parent.canReplace(Ff.index(),Ff.index()+1);if(nme&&(eme=(tme=$P.contentMatchAt($P.childCount)).findWrapping(zP.type))&&tme.matchType(eme[0]||zP.type).validEnd){if(x_){let sme=Ff.pos+zP.nodeSize,ame=Fragment.empty;for(let dme=eme.length-1;dme>=0;dme--)ame=Fragment.from(eme[dme].create(null,ame));ame=Fragment.from($P.copy(ame));let lme=kh.tr.step(new ReplaceAroundStep(Ff.pos-1,sme,Ff.pos,sme,new Slice(ame,1,0),eme.length,!0)),ume=sme+2*eme.length;canJoin(lme.doc,ume)&&lme.join(ume),x_(lme.scrollIntoView())}return!0}let rme=Selection.findFrom(Ff,1),ime=rme&&rme.$from.blockRange(rme.$to),ome=ime&&liftTarget(ime);if(ome!=null&&ome>=Ff.depth)return x_&&x_(kh.tr.lift(ime,ome).scrollIntoView()),!0;if(nme&&textblockAt(zP,"start",!0)&&textblockAt($P,"end")){let sme=$P,ame=[];for(;ame.push(sme),!sme.isTextblock;)sme=sme.lastChild;let lme=zP,ume=1;for(;!lme.isTextblock;lme=lme.firstChild)ume++;if(sme.canReplace(sme.childCount,sme.childCount,lme.content)){if(x_){let dme=Fragment.empty;for(let hme=ame.length-1;hme>=0;hme--)dme=Fragment.from(ame[hme].copy(dme));let pme=kh.tr.step(new ReplaceAroundStep(Ff.pos-ame.length,Ff.pos+zP.nodeSize,Ff.pos+ume,Ff.pos+zP.nodeSize-ume,new Slice(dme,ame.length,0),0,!0));x_(pme.scrollIntoView())}return!0}}return!1}function selectTextblockSide(kh){return function(Ff,x_){let $P=Ff.selection,zP=kh<0?$P.$from:$P.$to,eme=zP.depth;for(;zP.node(eme).isInline;){if(!eme)return!1;eme--}return zP.node(eme).isTextblock?(x_&&x_(Ff.tr.setSelection(TextSelection.create(Ff.doc,kh<0?zP.start(eme):zP.end(eme)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(kh,Ff=null){return function(x_,$P){let{$from:zP,$to:eme}=x_.selection,tme=zP.blockRange(eme),nme=tme&&findWrapping(tme,kh,Ff);return nme?($P&&$P(x_.tr.wrap(tme,nme).scrollIntoView()),!0):!1}}function setBlockType(kh,Ff=null){return function(x_,$P){let zP=!1;for(let eme=0;eme<x_.selection.ranges.length&&!zP;eme++){let{$from:{pos:tme},$to:{pos:nme}}=x_.selection.ranges[eme];x_.doc.nodesBetween(tme,nme,(rme,ime)=>{if(zP)return!1;if(!(!rme.isTextblock||rme.hasMarkup(kh,Ff)))if(rme.type==kh)zP=!0;else{let ome=x_.doc.resolve(ime),sme=ome.index();zP=ome.parent.canReplaceWith(sme,sme+1,kh)}})}if(!zP)return!1;if($P){let eme=x_.tr;for(let tme=0;tme<x_.selection.ranges.length;tme++){let{$from:{pos:nme},$to:{pos:rme}}=x_.selection.ranges[tme];eme.setBlockType(nme,rme,kh,Ff)}$P(eme.scrollIntoView())}return!0}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function wrapInList$1(kh,Ff=null){return function(x_,$P){let{$from:zP,$to:eme}=x_.selection,tme=zP.blockRange(eme),nme=!1,rme=tme;if(!tme)return!1;if(tme.depth>=2&&zP.node(tme.depth-1).type.compatibleContent(kh)&&tme.startIndex==0){if(zP.index(tme.depth-1)==0)return!1;let ome=x_.doc.resolve(tme.start-2);rme=new NodeRange(ome,ome,tme.depth),tme.endIndex<tme.parent.childCount&&(tme=new NodeRange(zP,x_.doc.resolve(eme.end(tme.depth)),tme.depth)),nme=!0}let ime=findWrapping(rme,kh,Ff,tme);return ime?($P&&$P(doWrapInList(x_.tr,tme,ime,nme,kh).scrollIntoView()),!0):!1}}function doWrapInList(kh,Ff,x_,$P,zP){let eme=Fragment.empty;for(let ome=x_.length-1;ome>=0;ome--)eme=Fragment.from(x_[ome].type.create(x_[ome].attrs,eme));kh.step(new ReplaceAroundStep(Ff.start-($P?2:0),Ff.end,Ff.start,Ff.end,new Slice(eme,0,0),x_.length,!0));let tme=0;for(let ome=0;ome<x_.length;ome++)x_[ome].type==zP&&(tme=ome+1);let nme=x_.length-tme,rme=Ff.start+x_.length-($P?2:0),ime=Ff.parent;for(let ome=Ff.startIndex,sme=Ff.endIndex,ame=!0;ome<sme;ome++,ame=!1)!ame&&canSplit(kh.doc,rme,nme)&&(kh.split(rme,nme),rme+=2*nme),rme+=ime.child(ome).nodeSize;return kh}function liftListItem$1(kh){return function(Ff,x_){let{$from:$P,$to:zP}=Ff.selection,eme=$P.blockRange(zP,tme=>tme.childCount>0&&tme.firstChild.type==kh);return eme?x_?$P.node(eme.depth-1).type==kh?liftToOuterList(Ff,x_,kh,eme):liftOutOfList(Ff,x_,eme):!0:!1}}function liftToOuterList(kh,Ff,x_,$P){let zP=kh.tr,eme=$P.end,tme=$P.$to.end($P.depth);eme<tme&&(zP.step(new ReplaceAroundStep(eme-1,tme,eme,tme,new Slice(Fragment.from(x_.create(null,$P.parent.copy())),1,0),1,!0)),$P=new NodeRange(zP.doc.resolve($P.$from.pos),zP.doc.resolve(tme),$P.depth));const nme=liftTarget($P);if(nme==null)return!1;zP.lift($P,nme);let rme=zP.mapping.map(eme,-1)-1;return canJoin(zP.doc,rme)&&zP.join(rme),Ff(zP.scrollIntoView()),!0}function liftOutOfList(kh,Ff,x_){let $P=kh.tr,zP=x_.parent;for(let lme=x_.end,ume=x_.endIndex-1,dme=x_.startIndex;ume>dme;ume--)lme-=zP.child(ume).nodeSize,$P.delete(lme-1,lme+1);let eme=$P.doc.resolve(x_.start),tme=eme.nodeAfter;if($P.mapping.map(x_.end)!=x_.start+eme.nodeAfter.nodeSize)return!1;let nme=x_.startIndex==0,rme=x_.endIndex==zP.childCount,ime=eme.node(-1),ome=eme.index(-1);if(!ime.canReplace(ome+(nme?0:1),ome+1,tme.content.append(rme?Fragment.empty:Fragment.from(zP))))return!1;let sme=eme.pos,ame=sme+tme.nodeSize;return $P.step(new ReplaceAroundStep(sme-(nme?1:0),ame+(rme?1:0),sme+1,ame-1,new Slice((nme?Fragment.empty:Fragment.from(zP.copy(Fragment.empty))).append(rme?Fragment.empty:Fragment.from(zP.copy(Fragment.empty))),nme?0:1,rme?0:1),nme?0:1)),Ff($P.scrollIntoView()),!0}function sinkListItem$1(kh){return function(Ff,x_){let{$from:$P,$to:zP}=Ff.selection,eme=$P.blockRange(zP,ime=>ime.childCount>0&&ime.firstChild.type==kh);if(!eme)return!1;let tme=eme.startIndex;if(tme==0)return!1;let nme=eme.parent,rme=nme.child(tme-1);if(rme.type!=kh)return!1;if(x_){let ime=rme.lastChild&&rme.lastChild.type==nme.type,ome=Fragment.from(ime?kh.create():null),sme=new Slice(Fragment.from(kh.create(null,Fragment.from(nme.type.create(null,ome)))),ime?3:1,0),ame=eme.start,lme=eme.end;x_(Ff.tr.step(new ReplaceAroundStep(ame-(ime?3:1),lme,ame,lme,sme,1,!0)).scrollIntoView())}return!0}}function createChainableState(kh){const{state:Ff,transaction:x_}=kh;let{selection:$P}=x_,{doc:zP}=x_,{storedMarks:eme}=x_;return b_e(qme({},Ff),{apply:Ff.apply.bind(Ff),applyTransaction:Ff.applyTransaction.bind(Ff),filterTransaction:Ff.filterTransaction,plugins:Ff.plugins,schema:Ff.schema,reconfigure:Ff.reconfigure.bind(Ff),toJSON:Ff.toJSON.bind(Ff),get storedMarks(){return eme},get selection(){return $P},get doc(){return zP},get tr(){return $P=x_.selection,zP=x_.doc,eme=x_.storedMarks,x_}})}class CommandManager{constructor(Ff){this.editor=Ff.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=Ff.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:Ff,editor:x_,state:$P}=this,{view:zP}=x_,{tr:eme}=$P,tme=this.buildProps(eme);return Object.fromEntries(Object.entries(Ff).map(([nme,rme])=>[nme,(...ome)=>{const sme=rme(...ome)(tme);return!eme.getMeta("preventDispatch")&&!this.hasCustomState&&zP.dispatch(eme),sme}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(Ff,x_=!0){const{rawCommands:$P,editor:zP,state:eme}=this,{view:tme}=zP,nme=[],rme=!!Ff,ime=Ff||eme.tr,ome=()=>(!rme&&x_&&!ime.getMeta("preventDispatch")&&!this.hasCustomState&&tme.dispatch(ime),nme.every(ame=>ame===!0)),sme=b_e(qme({},Object.fromEntries(Object.entries($P).map(([ame,lme])=>[ame,(...dme)=>{const pme=this.buildProps(ime,x_),hme=lme(...dme)(pme);return nme.push(hme),sme}]))),{run:ome});return sme}createCan(Ff){const{rawCommands:x_,state:$P}=this,zP=!1,eme=Ff||$P.tr,tme=this.buildProps(eme,zP),nme=Object.fromEntries(Object.entries(x_).map(([rme,ime])=>[rme,(...ome)=>ime(...ome)(b_e(qme({},tme),{dispatch:void 0}))]));return b_e(qme({},nme),{chain:()=>this.createChain(eme,zP)})}buildProps(Ff,x_=!0){const{rawCommands:$P,editor:zP,state:eme}=this,{view:tme}=zP,nme={tr:Ff,editor:zP,view:tme,state:createChainableState({state:eme,transaction:Ff}),dispatch:x_?()=>{}:void 0,chain:()=>this.createChain(Ff,x_),can:()=>this.createCan(Ff),get commands(){return Object.fromEntries(Object.entries($P).map(([rme,ime])=>[rme,(...ome)=>ime(...ome)(nme)]))}};return nme}}class EventEmitter{constructor(){this.callbacks={}}on(Ff,x_){return this.callbacks[Ff]||(this.callbacks[Ff]=[]),this.callbacks[Ff].push(x_),this}emit(Ff,...x_){const $P=this.callbacks[Ff];return $P&&$P.forEach(zP=>zP.apply(this,x_)),this}off(Ff,x_){const $P=this.callbacks[Ff];return $P&&(x_?this.callbacks[Ff]=$P.filter(zP=>zP!==x_):delete this.callbacks[Ff]),this}removeAllListeners(){this.callbacks={}}}function getExtensionField(kh,Ff,x_){return kh.config[Ff]===void 0&&kh.parent?getExtensionField(kh.parent,Ff,x_):typeof kh.config[Ff]=="function"?kh.config[Ff].bind(b_e(qme({},x_),{parent:kh.parent?getExtensionField(kh.parent,Ff,x_):null})):kh.config[Ff]}function splitExtensions(kh){const Ff=kh.filter(zP=>zP.type==="extension"),x_=kh.filter(zP=>zP.type==="node"),$P=kh.filter(zP=>zP.type==="mark");return{baseExtensions:Ff,nodeExtensions:x_,markExtensions:$P}}function getAttributesFromExtensions(kh){const Ff=[],{nodeExtensions:x_,markExtensions:$P}=splitExtensions(kh),zP=[...x_,...$P],eme={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return kh.forEach(tme=>{const nme={name:tme.name,options:tme.options,storage:tme.storage},rme=getExtensionField(tme,"addGlobalAttributes",nme);if(!rme)return;rme().forEach(ome=>{ome.types.forEach(sme=>{Object.entries(ome.attributes).forEach(([ame,lme])=>{Ff.push({type:sme,name:ame,attribute:qme(qme({},eme),lme)})})})})}),zP.forEach(tme=>{const nme={name:tme.name,options:tme.options,storage:tme.storage},rme=getExtensionField(tme,"addAttributes",nme);if(!rme)return;const ime=rme();Object.entries(ime).forEach(([ome,sme])=>{const ame=qme(qme({},eme),sme);typeof(ame==null?void 0:ame.default)=="function"&&(ame.default=ame.default()),ame!=null&&ame.isRequired&&(ame==null?void 0:ame.default)===void 0&&delete ame.default,Ff.push({type:tme.name,name:ome,attribute:ame})})}),Ff}function getNodeType(kh,Ff){if(typeof kh=="string"){if(!Ff.nodes[kh])throw Error(`There is no node type named '${kh}'. Maybe you forgot to add the extension?`);return Ff.nodes[kh]}return kh}function mergeAttributes(...kh){return kh.filter(Ff=>!!Ff).reduce((Ff,x_)=>{const $P=qme({},Ff);return Object.entries(x_).forEach(([zP,eme])=>{if(!$P[zP]){$P[zP]=eme;return}if(zP==="class"){const nme=eme?eme.split(" "):[],rme=$P[zP]?$P[zP].split(" "):[],ime=nme.filter(ome=>!rme.includes(ome));$P[zP]=[...rme,...ime].join(" ")}else zP==="style"?$P[zP]=[$P[zP],eme].join("; "):$P[zP]=eme}),$P},{})}function getRenderedAttributes(kh,Ff){return Ff.filter(x_=>x_.attribute.rendered).map(x_=>x_.attribute.renderHTML?x_.attribute.renderHTML(kh.attrs)||{}:{[x_.name]:kh.attrs[x_.name]}).reduce((x_,$P)=>mergeAttributes(x_,$P),{})}function isFunction$2(kh){return typeof kh=="function"}function callOrReturn(kh,Ff=void 0,...x_){return isFunction$2(kh)?Ff?kh.bind(Ff)(...x_):kh(...x_):kh}function isEmptyObject(kh={}){return Object.keys(kh).length===0&&kh.constructor===Object}function fromString(kh){return typeof kh!="string"?kh:kh.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(kh):kh==="true"?!0:kh==="false"?!1:kh}function injectExtensionAttributesToParseRule(kh,Ff){return kh.style?kh:b_e(qme({},kh),{getAttrs:x_=>{const $P=kh.getAttrs?kh.getAttrs(x_):kh.attrs;if($P===!1)return!1;const zP=Ff.reduce((eme,tme)=>{const nme=tme.attribute.parseHTML?tme.attribute.parseHTML(x_):fromString(x_.getAttribute(tme.name));return nme==null?eme:b_e(qme({},eme),{[tme.name]:nme})},{});return qme(qme({},$P),zP)}})}function cleanUpSchemaItem(kh){return Object.fromEntries(Object.entries(kh).filter(([Ff,x_])=>Ff==="attrs"&&isEmptyObject(x_)?!1:x_!=null))}function getSchemaByResolvedExtensions(kh,Ff){var x_;const $P=getAttributesFromExtensions(kh),{nodeExtensions:zP,markExtensions:eme}=splitExtensions(kh),tme=(x_=zP.find(ime=>getExtensionField(ime,"topNode")))===null||x_===void 0?void 0:x_.name,nme=Object.fromEntries(zP.map(ime=>{const ome=$P.filter(hme=>hme.type===ime.name),sme={name:ime.name,options:ime.options,storage:ime.storage,editor:Ff},ame=kh.reduce((hme,cme)=>{const _me=getExtensionField(cme,"extendNodeSchema",sme);return qme(qme({},hme),_me?_me(ime):{})},{}),lme=cleanUpSchemaItem(b_e(qme({},ame),{content:callOrReturn(getExtensionField(ime,"content",sme)),marks:callOrReturn(getExtensionField(ime,"marks",sme)),group:callOrReturn(getExtensionField(ime,"group",sme)),inline:callOrReturn(getExtensionField(ime,"inline",sme)),atom:callOrReturn(getExtensionField(ime,"atom",sme)),selectable:callOrReturn(getExtensionField(ime,"selectable",sme)),draggable:callOrReturn(getExtensionField(ime,"draggable",sme)),code:callOrReturn(getExtensionField(ime,"code",sme)),defining:callOrReturn(getExtensionField(ime,"defining",sme)),isolating:callOrReturn(getExtensionField(ime,"isolating",sme)),attrs:Object.fromEntries(ome.map(hme=>{var cme;return[hme.name,{default:(cme=hme==null?void 0:hme.attribute)===null||cme===void 0?void 0:cme.default}]}))})),ume=callOrReturn(getExtensionField(ime,"parseHTML",sme));ume&&(lme.parseDOM=ume.map(hme=>injectExtensionAttributesToParseRule(hme,ome)));const dme=getExtensionField(ime,"renderHTML",sme);dme&&(lme.toDOM=hme=>dme({node:hme,HTMLAttributes:getRenderedAttributes(hme,ome)}));const pme=getExtensionField(ime,"renderText",sme);return pme&&(lme.toText=pme),[ime.name,lme]})),rme=Object.fromEntries(eme.map(ime=>{const ome=$P.filter(pme=>pme.type===ime.name),sme={name:ime.name,options:ime.options,storage:ime.storage,editor:Ff},ame=kh.reduce((pme,hme)=>{const cme=getExtensionField(hme,"extendMarkSchema",sme);return qme(qme({},pme),cme?cme(ime):{})},{}),lme=cleanUpSchemaItem(b_e(qme({},ame),{inclusive:callOrReturn(getExtensionField(ime,"inclusive",sme)),excludes:callOrReturn(getExtensionField(ime,"excludes",sme)),group:callOrReturn(getExtensionField(ime,"group",sme)),spanning:callOrReturn(getExtensionField(ime,"spanning",sme)),code:callOrReturn(getExtensionField(ime,"code",sme)),attrs:Object.fromEntries(ome.map(pme=>{var hme;return[pme.name,{default:(hme=pme==null?void 0:pme.attribute)===null||hme===void 0?void 0:hme.default}]}))})),ume=callOrReturn(getExtensionField(ime,"parseHTML",sme));ume&&(lme.parseDOM=ume.map(pme=>injectExtensionAttributesToParseRule(pme,ome)));const dme=getExtensionField(ime,"renderHTML",sme);return dme&&(lme.toDOM=pme=>dme({mark:pme,HTMLAttributes:getRenderedAttributes(pme,ome)})),[ime.name,lme]}));return new Schema({topNode:tme,nodes:nme,marks:rme})}function getSchemaTypeByName(kh,Ff){return Ff.nodes[kh]||Ff.marks[kh]||null}function isExtensionRulesEnabled(kh,Ff){return Array.isArray(Ff)?Ff.some(x_=>(typeof x_=="string"?x_:x_.name)===kh.name):Ff}const getTextContentFromNodes=(kh,Ff=500)=>{let x_="";const $P=kh.parentOffset;return kh.parent.nodesBetween(Math.max(0,$P-Ff),$P,(zP,eme,tme,nme)=>{var rme,ime;const ome=((ime=(rme=zP.type.spec).toText)===null||ime===void 0?void 0:ime.call(rme,{node:zP,pos:eme,parent:tme,index:nme}))||zP.textContent||"%leaf%";x_+=ome.slice(0,Math.max(0,$P-eme))}),x_};function isRegExp(kh){return Object.prototype.toString.call(kh)==="[object RegExp]"}class InputRule{constructor(Ff){this.find=Ff.find,this.handler=Ff.handler}}const inputRuleMatcherHandler=(kh,Ff)=>{if(isRegExp(Ff))return Ff.exec(kh);const x_=Ff(kh);if(!x_)return null;const $P=[x_.text];return $P.index=x_.index,$P.input=kh,$P.data=x_.data,x_.replaceWith&&(x_.text.includes(x_.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),$P.push(x_.replaceWith)),$P};function run$1(kh){var Ff;const{editor:x_,from:$P,to:zP,text:eme,rules:tme,plugin:nme}=kh,{view:rme}=x_;if(rme.composing)return!1;const ime=rme.state.doc.resolve($P);if(ime.parent.type.spec.code||!((Ff=ime.nodeBefore||ime.nodeAfter)===null||Ff===void 0)&&Ff.marks.find(ame=>ame.type.spec.code))return!1;let ome=!1;const sme=getTextContentFromNodes(ime)+eme;return tme.forEach(ame=>{if(ome)return;const lme=inputRuleMatcherHandler(sme,ame.find);if(!lme)return;const ume=rme.state.tr,dme=createChainableState({state:rme.state,transaction:ume}),pme={from:$P-(lme[0].length-eme.length),to:zP},{commands:hme,chain:cme,can:_me}=new CommandManager({editor:x_,state:dme});ame.handler({state:dme,range:pme,match:lme,commands:hme,chain:cme,can:_me})===null||!ume.steps.length||(ume.setMeta(nme,{transform:ume,from:$P,to:zP,text:eme}),rme.dispatch(ume),ome=!0)}),ome}function inputRulesPlugin(kh){const{editor:Ff,rules:x_}=kh,$P=new Plugin$1({state:{init(){return null},apply(zP,eme){const tme=zP.getMeta($P);return tme||(zP.selectionSet||zP.docChanged?null:eme)}},props:{handleTextInput(zP,eme,tme,nme){return run$1({editor:Ff,from:eme,to:tme,text:nme,rules:x_,plugin:$P})},handleDOMEvents:{compositionend:zP=>(setTimeout(()=>{const{$cursor:eme}=zP.state.selection;eme&&run$1({editor:Ff,from:eme.pos,to:eme.pos,text:"",rules:x_,plugin:$P})}),!1)},handleKeyDown(zP,eme){if(eme.key!=="Enter")return!1;const{$cursor:tme}=zP.state.selection;return tme?run$1({editor:Ff,from:tme.pos,to:tme.pos,text:`
`,rules:x_,plugin:$P}):!1}},isInputRules:!0});return $P}function isNumber(kh){return typeof kh=="number"}class PasteRule{constructor(Ff){this.find=Ff.find,this.handler=Ff.handler}}const pasteRuleMatcherHandler=(kh,Ff)=>{if(isRegExp(Ff))return[...kh.matchAll(Ff)];const x_=Ff(kh);return x_?x_.map($P=>{const zP=[$P.text];return zP.index=$P.index,zP.input=kh,zP.data=$P.data,$P.replaceWith&&($P.text.includes($P.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),zP.push($P.replaceWith)),zP}):[]};function run(kh){const{editor:Ff,state:x_,from:$P,to:zP,rule:eme,pasteEvent:tme,dropEvent:nme}=kh,{commands:rme,chain:ime,can:ome}=new CommandManager({editor:Ff,state:x_}),sme=[];return x_.doc.nodesBetween($P,zP,(lme,ume)=>{if(!lme.isTextblock||lme.type.spec.code)return;const dme=Math.max($P,ume),pme=Math.min(zP,ume+lme.content.size),hme=lme.textBetween(dme-ume,pme-ume,void 0,"￼");pasteRuleMatcherHandler(hme,eme.find).forEach(_me=>{if(_me.index===void 0)return;const vme=dme+_me.index+1,Eme=vme+_me[0].length,wme={from:x_.tr.mapping.map(vme),to:x_.tr.mapping.map(Eme)},Tme=eme.handler({state:x_,range:wme,match:_me,commands:rme,chain:ime,can:ome,pasteEvent:tme,dropEvent:nme});sme.push(Tme)})}),sme.every(lme=>lme!==null)}function pasteRulesPlugin(kh){const{editor:Ff,rules:x_}=kh;let $P=null,zP=!1,eme=!1,tme=new ClipboardEvent("paste"),nme=new DragEvent("drop");return x_.map(ime=>new Plugin$1({view(ome){const sme=ame=>{var lme;$P=!((lme=ome.dom.parentElement)===null||lme===void 0)&&lme.contains(ame.target)?ome.dom.parentElement:null};return window.addEventListener("dragstart",sme),{destroy(){window.removeEventListener("dragstart",sme)}}},props:{handleDOMEvents:{drop:(ome,sme)=>(eme=$P===ome.dom.parentElement,nme=sme,!1),paste:(ome,sme)=>{var ame;const lme=(ame=sme.clipboardData)===null||ame===void 0?void 0:ame.getData("text/html");return tme=sme,zP=!!(lme!=null&&lme.includes("data-pm-slice")),!1}}},appendTransaction:(ome,sme,ame)=>{const lme=ome[0],ume=lme.getMeta("uiEvent")==="paste"&&!zP,dme=lme.getMeta("uiEvent")==="drop"&&!eme;if(!ume&&!dme)return;const pme=sme.doc.content.findDiffStart(ame.doc.content),hme=sme.doc.content.findDiffEnd(ame.doc.content);if(!isNumber(pme)||!hme||pme===hme.b)return;const cme=ame.tr,_me=createChainableState({state:ame,transaction:cme});if(!(!run({editor:Ff,state:_me,from:Math.max(pme-1,0),to:hme.b-1,rule:ime,pasteEvent:tme,dropEvent:nme})||!cme.steps.length))return nme=new DragEvent("drop"),tme=new ClipboardEvent("paste"),cme}}))}function findDuplicates(kh){const Ff=kh.filter((x_,$P)=>kh.indexOf(x_)!==$P);return[...new Set(Ff)]}class ExtensionManager{constructor(Ff,x_){this.splittableMarks=[],this.editor=x_,this.extensions=ExtensionManager.resolve(Ff),this.schema=getSchemaByResolvedExtensions(this.extensions,x_),this.extensions.forEach($P=>{var zP;this.editor.extensionStorage[$P.name]=$P.storage;const eme={name:$P.name,options:$P.options,storage:$P.storage,editor:this.editor,type:getSchemaTypeByName($P.name,this.schema)};$P.type==="mark"&&(!((zP=callOrReturn(getExtensionField($P,"keepOnSplit",eme)))!==null&&zP!==void 0)||zP)&&this.splittableMarks.push($P.name);const tme=getExtensionField($P,"onBeforeCreate",eme);tme&&this.editor.on("beforeCreate",tme);const nme=getExtensionField($P,"onCreate",eme);nme&&this.editor.on("create",nme);const rme=getExtensionField($P,"onUpdate",eme);rme&&this.editor.on("update",rme);const ime=getExtensionField($P,"onSelectionUpdate",eme);ime&&this.editor.on("selectionUpdate",ime);const ome=getExtensionField($P,"onTransaction",eme);ome&&this.editor.on("transaction",ome);const sme=getExtensionField($P,"onFocus",eme);sme&&this.editor.on("focus",sme);const ame=getExtensionField($P,"onBlur",eme);ame&&this.editor.on("blur",ame);const lme=getExtensionField($P,"onDestroy",eme);lme&&this.editor.on("destroy",lme)})}static resolve(Ff){const x_=ExtensionManager.sort(ExtensionManager.flatten(Ff)),$P=findDuplicates(x_.map(zP=>zP.name));return $P.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${$P.map(zP=>`'${zP}'`).join(", ")}]. This can lead to issues.`),x_}static flatten(Ff){return Ff.map(x_=>{const $P={name:x_.name,options:x_.options,storage:x_.storage},zP=getExtensionField(x_,"addExtensions",$P);return zP?[x_,...this.flatten(zP())]:x_}).flat(10)}static sort(Ff){return Ff.sort(($P,zP)=>{const eme=getExtensionField($P,"priority")||100,tme=getExtensionField(zP,"priority")||100;return eme>tme?-1:eme<tme?1:0})}get commands(){return this.extensions.reduce((Ff,x_)=>{const $P={name:x_.name,options:x_.options,storage:x_.storage,editor:this.editor,type:getSchemaTypeByName(x_.name,this.schema)},zP=getExtensionField(x_,"addCommands",$P);return zP?qme(qme({},Ff),zP()):Ff},{})}get plugins(){const{editor:Ff}=this,x_=ExtensionManager.sort([...this.extensions].reverse()),$P=[],zP=[],eme=x_.map(tme=>{const nme={name:tme.name,options:tme.options,storage:tme.storage,editor:Ff,type:getSchemaTypeByName(tme.name,this.schema)},rme=[],ime=getExtensionField(tme,"addKeyboardShortcuts",nme);let ome={};if(tme.type==="mark"&&tme.config.exitable&&(ome.ArrowRight=()=>Mark.handleExit({editor:Ff,mark:tme})),ime){const dme=Object.fromEntries(Object.entries(ime()).map(([pme,hme])=>[pme,()=>hme({editor:Ff})]));ome=qme(qme({},ome),dme)}const sme=keymap(ome);rme.push(sme);const ame=getExtensionField(tme,"addInputRules",nme);isExtensionRulesEnabled(tme,Ff.options.enableInputRules)&&ame&&$P.push(...ame());const lme=getExtensionField(tme,"addPasteRules",nme);isExtensionRulesEnabled(tme,Ff.options.enablePasteRules)&&lme&&zP.push(...lme());const ume=getExtensionField(tme,"addProseMirrorPlugins",nme);if(ume){const dme=ume();rme.push(...dme)}return rme}).flat();return[inputRulesPlugin({editor:Ff,rules:$P}),...pasteRulesPlugin({editor:Ff,rules:zP}),...eme]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:Ff}=this,{nodeExtensions:x_}=splitExtensions(this.extensions);return Object.fromEntries(x_.filter($P=>!!getExtensionField($P,"addNodeView")).map($P=>{const zP=this.attributes.filter(rme=>rme.type===$P.name),eme={name:$P.name,options:$P.options,storage:$P.storage,editor:Ff,type:getNodeType($P.name,this.schema)},tme=getExtensionField($P,"addNodeView",eme);if(!tme)return[];const nme=(rme,ime,ome,sme)=>{const ame=getRenderedAttributes(rme,zP);return tme()({editor:Ff,node:rme,getPos:ome,decorations:sme,HTMLAttributes:ame,extension:$P})};return[$P.name,nme]}))}}function getType(kh){return Object.prototype.toString.call(kh).slice(8,-1)}function isPlainObject(kh){return getType(kh)!=="Object"?!1:kh.constructor===Object&&Object.getPrototypeOf(kh)===Object.prototype}function mergeDeep(kh,Ff){const x_=qme({},kh);return isPlainObject(kh)&&isPlainObject(Ff)&&Object.keys(Ff).forEach($P=>{isPlainObject(Ff[$P])?$P in kh?x_[$P]=mergeDeep(kh[$P],Ff[$P]):Object.assign(x_,{[$P]:Ff[$P]}):Object.assign(x_,{[$P]:Ff[$P]})}),x_}class Extension{constructor(Ff={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=qme(qme({},this.config),Ff),this.name=this.config.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ff={}){return new Extension(Ff)}configure(Ff={}){const x_=this.extend();return x_.options=mergeDeep(this.options,Ff),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}extend(Ff={}){const x_=new Extension(Ff);return x_.parent=this,this.child=x_,x_.name=Ff.name?Ff.name:x_.parent.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${x_.name}".`),x_.options=callOrReturn(getExtensionField(x_,"addOptions",{name:x_.name})),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}}function getTextBetween(kh,Ff,x_){const{from:$P,to:zP}=Ff,{blockSeparator:eme=`

`,textSerializers:tme={}}=x_||{};let nme="",rme=!0;return kh.nodesBetween($P,zP,(ime,ome,sme,ame)=>{var lme;const ume=tme==null?void 0:tme[ime.type.name];ume?(ime.isBlock&&!rme&&(nme+=eme,rme=!0),sme&&(nme+=ume({node:ime,pos:ome,parent:sme,index:ame,range:Ff}))):ime.isText?(nme+=(lme=ime==null?void 0:ime.text)===null||lme===void 0?void 0:lme.slice(Math.max($P,ome)-ome,zP-ome),rme=!1):ime.isBlock&&!rme&&(nme+=eme,rme=!0)}),nme}function getTextSerializersFromSchema(kh){return Object.fromEntries(Object.entries(kh.nodes).filter(([,Ff])=>Ff.spec.toText).map(([Ff,x_])=>[Ff,x_.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Plugin$1({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:kh}=this,{state:Ff,schema:x_}=kh,{doc:$P,selection:zP}=Ff,{ranges:eme}=zP,tme=Math.min(...eme.map(ome=>ome.$from.pos)),nme=Math.max(...eme.map(ome=>ome.$to.pos)),rme=getTextSerializersFromSchema(x_);return getTextBetween($P,{from:tme,to:nme},{textSerializers:rme})}}})]}}),blur=()=>({editor:kh,view:Ff})=>(requestAnimationFrame(()=>{var x_;kh.isDestroyed||(Ff.dom.blur(),(x_=window==null?void 0:window.getSelection())===null||x_===void 0||x_.removeAllRanges())}),!0),clearContent=(kh=!1)=>({commands:Ff})=>Ff.setContent("",kh),clearNodes=()=>({state:kh,tr:Ff,dispatch:x_})=>{const{selection:$P}=Ff,{ranges:zP}=$P;return x_&&zP.forEach(({$from:eme,$to:tme})=>{kh.doc.nodesBetween(eme.pos,tme.pos,(nme,rme)=>{if(nme.type.isText)return;const{doc:ime,mapping:ome}=Ff,sme=ime.resolve(ome.map(rme)),ame=ime.resolve(ome.map(rme+nme.nodeSize)),lme=sme.blockRange(ame);if(!lme)return;const ume=liftTarget(lme);if(nme.type.isTextblock){const{defaultType:dme}=sme.parent.contentMatchAt(sme.index());Ff.setNodeMarkup(lme.start,dme)}(ume||ume===0)&&Ff.lift(lme,ume)})}),!0},command=kh=>Ff=>kh(Ff),createParagraphNear=()=>({state:kh,dispatch:Ff})=>createParagraphNear$1(kh,Ff),cut=(kh,Ff)=>({editor:x_,tr:$P})=>{const{state:zP}=x_,eme=zP.doc.slice(kh.from,kh.to);$P.deleteRange(kh.from,kh.to);const tme=$P.mapping.map(Ff);return $P.insert(tme,eme.content),$P.setSelection(new TextSelection($P.doc.resolve(tme-1))),!0},deleteCurrentNode=()=>({tr:kh,dispatch:Ff})=>{const{selection:x_}=kh,$P=x_.$anchor.node();if($P.content.size>0)return!1;const zP=kh.selection.$anchor;for(let eme=zP.depth;eme>0;eme-=1)if(zP.node(eme).type===$P.type){if(Ff){const nme=zP.before(eme),rme=zP.after(eme);kh.delete(nme,rme).scrollIntoView()}return!0}return!1},deleteNode=kh=>({tr:Ff,state:x_,dispatch:$P})=>{const zP=getNodeType(kh,x_.schema),eme=Ff.selection.$anchor;for(let tme=eme.depth;tme>0;tme-=1)if(eme.node(tme).type===zP){if($P){const rme=eme.before(tme),ime=eme.after(tme);Ff.delete(rme,ime).scrollIntoView()}return!0}return!1},deleteRange=kh=>({tr:Ff,dispatch:x_})=>{const{from:$P,to:zP}=kh;return x_&&Ff.delete($P,zP),!0},deleteSelection=()=>({state:kh,dispatch:Ff})=>deleteSelection$1(kh,Ff),enter=()=>({commands:kh})=>kh.keyboardShortcut("Enter"),exitCode=()=>({state:kh,dispatch:Ff})=>exitCode$1(kh,Ff);function objectIncludes(kh,Ff,x_={strict:!0}){const $P=Object.keys(Ff);return $P.length?$P.every(zP=>x_.strict?Ff[zP]===kh[zP]:isRegExp(Ff[zP])?Ff[zP].test(kh[zP]):Ff[zP]===kh[zP]):!0}function findMarkInSet(kh,Ff,x_={}){return kh.find($P=>$P.type===Ff&&objectIncludes($P.attrs,x_))}function isMarkInSet(kh,Ff,x_={}){return!!findMarkInSet(kh,Ff,x_)}function getMarkRange(kh,Ff,x_={}){if(!kh||!Ff)return;let $P=kh.parent.childAfter(kh.parentOffset);if(kh.parentOffset===$P.offset&&$P.offset!==0&&($P=kh.parent.childBefore(kh.parentOffset)),!$P.node)return;const zP=findMarkInSet([...$P.node.marks],Ff,x_);if(!zP)return;let eme=$P.index,tme=kh.start()+$P.offset,nme=eme+1,rme=tme+$P.node.nodeSize;for(findMarkInSet([...$P.node.marks],Ff,x_);eme>0&&zP.isInSet(kh.parent.child(eme-1).marks);)eme-=1,tme-=kh.parent.child(eme).nodeSize;for(;nme<kh.parent.childCount&&isMarkInSet([...kh.parent.child(nme).marks],Ff,x_);)rme+=kh.parent.child(nme).nodeSize,nme+=1;return{from:tme,to:rme}}function getMarkType(kh,Ff){if(typeof kh=="string"){if(!Ff.marks[kh])throw Error(`There is no mark type named '${kh}'. Maybe you forgot to add the extension?`);return Ff.marks[kh]}return kh}const extendMarkRange=(kh,Ff={})=>({tr:x_,state:$P,dispatch:zP})=>{const eme=getMarkType(kh,$P.schema),{doc:tme,selection:nme}=x_,{$from:rme,from:ime,to:ome}=nme;if(zP){const sme=getMarkRange(rme,eme,Ff);if(sme&&sme.from<=ime&&sme.to>=ome){const ame=TextSelection.create(tme,sme.from,sme.to);x_.setSelection(ame)}}return!0},first=kh=>Ff=>{const x_=typeof kh=="function"?kh(Ff):kh;for(let $P=0;$P<x_.length;$P+=1)if(x_[$P](Ff))return!0;return!1};function isTextSelection(kh){return kh instanceof TextSelection}function minMax(kh=0,Ff=0,x_=0){return Math.min(Math.max(kh,Ff),x_)}function resolveFocusPosition(kh,Ff=null){if(!Ff)return null;const x_=Selection.atStart(kh),$P=Selection.atEnd(kh);if(Ff==="start"||Ff===!0)return x_;if(Ff==="end")return $P;const zP=x_.from,eme=$P.to;return Ff==="all"?TextSelection.create(kh,minMax(0,zP,eme),minMax(kh.content.size,zP,eme)):TextSelection.create(kh,minMax(Ff,zP,eme),minMax(Ff,zP,eme))}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus=(kh=null,Ff={})=>({editor:x_,view:$P,tr:zP,dispatch:eme})=>{Ff=qme({scrollIntoView:!0},Ff);const tme=()=>{isiOS()&&$P.dom.focus(),requestAnimationFrame(()=>{x_.isDestroyed||($P.focus(),Ff!=null&&Ff.scrollIntoView&&x_.commands.scrollIntoView())})};if($P.hasFocus()&&kh===null||kh===!1)return!0;if(eme&&kh===null&&!isTextSelection(x_.state.selection))return tme(),!0;const nme=resolveFocusPosition(zP.doc,kh)||x_.state.selection,rme=x_.state.selection.eq(nme);return eme&&(rme||zP.setSelection(nme),rme&&zP.storedMarks&&zP.setStoredMarks(zP.storedMarks),tme()),!0},forEach=(kh,Ff)=>x_=>kh.every(($P,zP)=>Ff($P,b_e(qme({},x_),{index:zP}))),insertContent$1=(kh,Ff)=>({tr:x_,commands:$P})=>$P.insertContentAt({from:x_.selection.from,to:x_.selection.to},kh,Ff);function elementFromString(kh){const Ff=`<body>${kh}</body>`;return new window.DOMParser().parseFromString(Ff,"text/html").body}function createNodeFromContent(kh,Ff,x_){if(x_=qme({slice:!0,parseOptions:{}},x_),typeof kh=="object"&&kh!==null)try{return Array.isArray(kh)&&kh.length>0?Fragment.fromArray(kh.map($P=>Ff.nodeFromJSON($P))):Ff.nodeFromJSON(kh)}catch($P){return console.warn("[tiptap warn]: Invalid content.","Passed value:",kh,"Error:",$P),createNodeFromContent("",Ff,x_)}if(typeof kh=="string"){const $P=DOMParser$2.fromSchema(Ff);return x_.slice?$P.parseSlice(elementFromString(kh),x_.parseOptions).content:$P.parse(elementFromString(kh),x_.parseOptions)}return createNodeFromContent("",Ff,x_)}function selectionToInsertionEnd(kh,Ff,x_){const $P=kh.steps.length-1;if($P<Ff)return;const zP=kh.steps[$P];if(!(zP instanceof ReplaceStep||zP instanceof ReplaceAroundStep))return;const eme=kh.mapping.maps[$P];let tme=0;eme.forEach((nme,rme,ime,ome)=>{tme===0&&(tme=ome)}),kh.setSelection(Selection.near(kh.doc.resolve(tme),x_))}const isFragment=kh=>kh.toString().startsWith("<"),insertContentAt=(kh,Ff,x_)=>({tr:$P,dispatch:zP,editor:eme})=>{if(zP){x_=qme({parseOptions:{},updateSelection:!0},x_);const tme=createNodeFromContent(Ff,eme.schema,{parseOptions:qme({preserveWhitespace:"full"},x_.parseOptions)});if(tme.toString()==="<>")return!0;let{from:nme,to:rme}=typeof kh=="number"?{from:kh,to:kh}:{from:kh.from,to:kh.to},ime=!0,ome=!0;if((isFragment(tme)?tme:[tme]).forEach(ame=>{ame.check(),ime=ime?ame.isText&&ame.marks.length===0:!1,ome=ome?ame.isBlock:!1}),nme===rme&&ome){const{parent:ame}=$P.doc.resolve(nme);ame.isTextblock&&!ame.type.spec.code&&!ame.childCount&&(nme-=1,rme+=1)}ime?Array.isArray(Ff)?$P.insertText(Ff.map(ame=>ame.text||"").join(""),nme,rme):typeof Ff=="object"&&Ff&&Ff.text?$P.insertText(Ff.text,nme,rme):$P.insertText(Ff,nme,rme):$P.replaceWith(nme,rme,tme),x_.updateSelection&&selectionToInsertionEnd($P,$P.steps.length-1,-1)}return!0},joinUp=()=>({state:kh,dispatch:Ff})=>joinUp$1(kh,Ff),joinDown=()=>({state:kh,dispatch:Ff})=>joinDown$1(kh,Ff),joinBackward=()=>({state:kh,dispatch:Ff})=>joinBackward$1(kh,Ff),joinForward=()=>({state:kh,dispatch:Ff})=>joinForward$1(kh,Ff),joinItemBackward=()=>({tr:kh,state:Ff,dispatch:x_})=>{try{const $P=joinPoint(Ff.doc,Ff.selection.$from.pos,-1);return $P==null?!1:(kh.join($P,2),x_&&x_(kh),!0)}catch($P){return!1}},joinItemForward=()=>({state:kh,dispatch:Ff,tr:x_})=>{try{const $P=joinPoint(kh.doc,kh.selection.$from.pos,1);return $P==null?!1:(x_.join($P,2),Ff&&Ff(x_),!0)}catch($P){return!1}};function isMacOS(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(kh){const Ff=kh.split(/-(?!$)/);let x_=Ff[Ff.length-1];x_==="Space"&&(x_=" ");let $P,zP,eme,tme;for(let nme=0;nme<Ff.length-1;nme+=1){const rme=Ff[nme];if(/^(cmd|meta|m)$/i.test(rme))tme=!0;else if(/^a(lt)?$/i.test(rme))$P=!0;else if(/^(c|ctrl|control)$/i.test(rme))zP=!0;else if(/^s(hift)?$/i.test(rme))eme=!0;else if(/^mod$/i.test(rme))isiOS()||isMacOS()?tme=!0:zP=!0;else throw new Error(`Unrecognized modifier name: ${rme}`)}return $P&&(x_=`Alt-${x_}`),zP&&(x_=`Ctrl-${x_}`),tme&&(x_=`Meta-${x_}`),eme&&(x_=`Shift-${x_}`),x_}const keyboardShortcut=kh=>({editor:Ff,view:x_,tr:$P,dispatch:zP})=>{const eme=normalizeKeyName(kh).split(/-(?!$)/),tme=eme.find(ime=>!["Alt","Ctrl","Meta","Shift"].includes(ime)),nme=new KeyboardEvent("keydown",{key:tme==="Space"?" ":tme,altKey:eme.includes("Alt"),ctrlKey:eme.includes("Ctrl"),metaKey:eme.includes("Meta"),shiftKey:eme.includes("Shift"),bubbles:!0,cancelable:!0}),rme=Ff.captureTransaction(()=>{x_.someProp("handleKeyDown",ime=>ime(x_,nme))});return rme==null||rme.steps.forEach(ime=>{const ome=ime.map($P.mapping);ome&&zP&&$P.maybeStep(ome)}),!0};function isNodeActive(kh,Ff,x_={}){const{from:$P,to:zP,empty:eme}=kh.selection,tme=Ff?getNodeType(Ff,kh.schema):null,nme=[];kh.doc.nodesBetween($P,zP,(sme,ame)=>{if(sme.isText)return;const lme=Math.max($P,ame),ume=Math.min(zP,ame+sme.nodeSize);nme.push({node:sme,from:lme,to:ume})});const rme=zP-$P,ime=nme.filter(sme=>tme?tme.name===sme.node.type.name:!0).filter(sme=>objectIncludes(sme.node.attrs,x_,{strict:!1}));return eme?!!ime.length:ime.reduce((sme,ame)=>sme+ame.to-ame.from,0)>=rme}const lift=(kh,Ff={})=>({state:x_,dispatch:$P})=>{const zP=getNodeType(kh,x_.schema);return isNodeActive(x_,zP,Ff)?lift$1(x_,$P):!1},liftEmptyBlock=()=>({state:kh,dispatch:Ff})=>liftEmptyBlock$1(kh,Ff),liftListItem=kh=>({state:Ff,dispatch:x_})=>{const $P=getNodeType(kh,Ff.schema);return liftListItem$1($P)(Ff,x_)},newlineInCode=()=>({state:kh,dispatch:Ff})=>newlineInCode$1(kh,Ff);function getSchemaTypeNameByName(kh,Ff){return Ff.nodes[kh]?"node":Ff.marks[kh]?"mark":null}function deleteProps(kh,Ff){const x_=typeof Ff=="string"?[Ff]:Ff;return Object.keys(kh).reduce(($P,zP)=>(x_.includes(zP)||($P[zP]=kh[zP]),$P),{})}const resetAttributes=(kh,Ff)=>({tr:x_,state:$P,dispatch:zP})=>{let eme=null,tme=null;const nme=getSchemaTypeNameByName(typeof kh=="string"?kh:kh.name,$P.schema);return nme?(nme==="node"&&(eme=getNodeType(kh,$P.schema)),nme==="mark"&&(tme=getMarkType(kh,$P.schema)),zP&&x_.selection.ranges.forEach(rme=>{$P.doc.nodesBetween(rme.$from.pos,rme.$to.pos,(ime,ome)=>{eme&&eme===ime.type&&x_.setNodeMarkup(ome,void 0,deleteProps(ime.attrs,Ff)),tme&&ime.marks.length&&ime.marks.forEach(sme=>{tme===sme.type&&x_.addMark(ome,ome+ime.nodeSize,tme.create(deleteProps(sme.attrs,Ff)))})})}),!0):!1},scrollIntoView=()=>({tr:kh,dispatch:Ff})=>(Ff&&kh.scrollIntoView(),!0),selectAll=()=>({tr:kh,commands:Ff})=>Ff.setTextSelection({from:0,to:kh.doc.content.size}),selectNodeBackward=()=>({state:kh,dispatch:Ff})=>selectNodeBackward$1(kh,Ff),selectNodeForward=()=>({state:kh,dispatch:Ff})=>selectNodeForward$1(kh,Ff),selectParentNode=()=>({state:kh,dispatch:Ff})=>selectParentNode$1(kh,Ff),selectTextblockEnd=()=>({state:kh,dispatch:Ff})=>selectTextblockEnd$1(kh,Ff),selectTextblockStart=()=>({state:kh,dispatch:Ff})=>selectTextblockStart$1(kh,Ff);function createDocument(kh,Ff,x_={}){return createNodeFromContent(kh,Ff,{slice:!1,parseOptions:x_})}const setContent=(kh,Ff=!1,x_={})=>({tr:$P,editor:zP,dispatch:eme})=>{const{doc:tme}=$P,nme=createDocument(kh,zP.schema,x_);return eme&&$P.replaceWith(0,tme.content.size,nme).setMeta("preventUpdate",!Ff),!0};function getMarkAttributes(kh,Ff){const x_=getMarkType(Ff,kh.schema),{from:$P,to:zP,empty:eme}=kh.selection,tme=[];eme?(kh.storedMarks&&tme.push(...kh.storedMarks),tme.push(...kh.selection.$head.marks())):kh.doc.nodesBetween($P,zP,rme=>{tme.push(...rme.marks)});const nme=tme.find(rme=>rme.type.name===x_.name);return nme?qme({},nme.attrs):{}}function defaultBlockAt(kh){for(let Ff=0;Ff<kh.edgeCount;Ff+=1){const{type:x_}=kh.edge(Ff);if(x_.isTextblock&&!x_.hasRequiredAttrs())return x_}return null}function findParentNodeClosestToPos(kh,Ff){for(let x_=kh.depth;x_>0;x_-=1){const $P=kh.node(x_);if(Ff($P))return{pos:x_>0?kh.before(x_):0,start:kh.start(x_),depth:x_,node:$P}}}function findParentNode(kh){return Ff=>findParentNodeClosestToPos(Ff.$from,kh)}function getHTMLFromFragment(kh,Ff){const x_=DOMSerializer.fromSchema(Ff).serializeFragment(kh),zP=document.implementation.createHTMLDocument().createElement("div");return zP.appendChild(x_),zP.innerHTML}function getText(kh,Ff){const x_={from:0,to:kh.content.size};return getTextBetween(kh,x_,Ff)}function getNodeAttributes(kh,Ff){const x_=getNodeType(Ff,kh.schema),{from:$P,to:zP}=kh.selection,eme=[];kh.doc.nodesBetween($P,zP,nme=>{eme.push(nme)});const tme=eme.reverse().find(nme=>nme.type.name===x_.name);return tme?qme({},tme.attrs):{}}function getAttributes$1(kh,Ff){const x_=getSchemaTypeNameByName(typeof Ff=="string"?Ff:Ff.name,kh.schema);return x_==="node"?getNodeAttributes(kh,Ff):x_==="mark"?getMarkAttributes(kh,Ff):{}}function getMarksBetween(kh,Ff,x_){const $P=[];return kh===Ff?x_.resolve(kh).marks().forEach(zP=>{const eme=x_.resolve(kh-1),tme=getMarkRange(eme,zP.type);tme&&$P.push(qme({mark:zP},tme))}):x_.nodesBetween(kh,Ff,(zP,eme)=>{$P.push(...zP.marks.map(tme=>({from:eme,to:eme+zP.nodeSize,mark:tme})))}),$P}function getSplittedAttributes(kh,Ff,x_){return Object.fromEntries(Object.entries(x_).filter(([$P])=>{const zP=kh.find(eme=>eme.type===Ff&&eme.name===$P);return zP?zP.attribute.keepOnSplit:!1}))}function isMarkActive(kh,Ff,x_={}){const{empty:$P,ranges:zP}=kh.selection,eme=Ff?getMarkType(Ff,kh.schema):null;if($P)return!!(kh.storedMarks||kh.selection.$from.marks()).filter(sme=>eme?eme.name===sme.type.name:!0).find(sme=>objectIncludes(sme.attrs,x_,{strict:!1}));let tme=0;const nme=[];if(zP.forEach(({$from:sme,$to:ame})=>{const lme=sme.pos,ume=ame.pos;kh.doc.nodesBetween(lme,ume,(dme,pme)=>{if(!dme.isText&&!dme.marks.length)return;const hme=Math.max(lme,pme),cme=Math.min(ume,pme+dme.nodeSize),_me=cme-hme;tme+=_me,nme.push(...dme.marks.map(vme=>({mark:vme,from:hme,to:cme})))})}),tme===0)return!1;const rme=nme.filter(sme=>eme?eme.name===sme.mark.type.name:!0).filter(sme=>objectIncludes(sme.mark.attrs,x_,{strict:!1})).reduce((sme,ame)=>sme+ame.to-ame.from,0),ime=nme.filter(sme=>eme?sme.mark.type!==eme&&sme.mark.type.excludes(eme):!0).reduce((sme,ame)=>sme+ame.to-ame.from,0);return(rme>0?rme+ime:rme)>=tme}function isActive(kh,Ff,x_={}){if(!Ff)return isNodeActive(kh,null,x_)||isMarkActive(kh,null,x_);const $P=getSchemaTypeNameByName(Ff,kh.schema);return $P==="node"?isNodeActive(kh,Ff,x_):$P==="mark"?isMarkActive(kh,Ff,x_):!1}function isList(kh,Ff){const{nodeExtensions:x_}=splitExtensions(Ff),$P=x_.find(tme=>tme.name===kh);if(!$P)return!1;const zP={name:$P.name,options:$P.options,storage:$P.storage},eme=callOrReturn(getExtensionField($P,"group",zP));return typeof eme!="string"?!1:eme.split(" ").includes("list")}function isNodeEmpty(kh){var Ff;const x_=(Ff=kh.type.createAndFill())===null||Ff===void 0?void 0:Ff.toJSON(),$P=kh.toJSON();return JSON.stringify(x_)===JSON.stringify($P)}function canSetMark(kh,Ff,x_){var $P;const{selection:zP}=Ff;let eme=null;if(isTextSelection(zP)&&(eme=zP.$cursor),eme){const nme=($P=kh.storedMarks)!==null&&$P!==void 0?$P:eme.marks();return!!x_.isInSet(nme)||!nme.some(rme=>rme.type.excludes(x_))}const{ranges:tme}=zP;return tme.some(({$from:nme,$to:rme})=>{let ime=nme.depth===0?kh.doc.inlineContent&&kh.doc.type.allowsMarkType(x_):!1;return kh.doc.nodesBetween(nme.pos,rme.pos,(ome,sme,ame)=>{if(ime)return!1;if(ome.isInline){const lme=!ame||ame.type.allowsMarkType(x_),ume=!!x_.isInSet(ome.marks)||!ome.marks.some(dme=>dme.type.excludes(x_));ime=lme&&ume}return!ime}),ime})}const setMark=(kh,Ff={})=>({tr:x_,state:$P,dispatch:zP})=>{const{selection:eme}=x_,{empty:tme,ranges:nme}=eme,rme=getMarkType(kh,$P.schema);if(zP)if(tme){const ime=getMarkAttributes($P,rme);x_.addStoredMark(rme.create(qme(qme({},ime),Ff)))}else nme.forEach(ime=>{const ome=ime.$from.pos,sme=ime.$to.pos;$P.doc.nodesBetween(ome,sme,(ame,lme)=>{const ume=Math.max(lme,ome),dme=Math.min(lme+ame.nodeSize,sme);ame.marks.find(hme=>hme.type===rme)?ame.marks.forEach(hme=>{rme===hme.type&&x_.addMark(ume,dme,rme.create(qme(qme({},hme.attrs),Ff)))}):x_.addMark(ume,dme,rme.create(Ff))})});return canSetMark($P,x_,rme)},setMeta=(kh,Ff)=>({tr:x_})=>(x_.setMeta(kh,Ff),!0),setNode=(kh,Ff={})=>({state:x_,dispatch:$P,chain:zP})=>{const eme=getNodeType(kh,x_.schema);return eme.isTextblock?zP().command(({commands:tme})=>setBlockType(eme,Ff)(x_)?!0:tme.clearNodes()).command(({state:tme})=>setBlockType(eme,Ff)(tme,$P)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=kh=>({tr:Ff,dispatch:x_})=>{if(x_){const{doc:$P}=Ff,zP=minMax(kh,0,$P.content.size),eme=NodeSelection.create($P,zP);Ff.setSelection(eme)}return!0},setTextSelection=kh=>({tr:Ff,dispatch:x_})=>{if(x_){const{doc:$P}=Ff,{from:zP,to:eme}=typeof kh=="number"?{from:kh,to:kh}:kh,tme=TextSelection.atStart($P).from,nme=TextSelection.atEnd($P).to,rme=minMax(zP,tme,nme),ime=minMax(eme,tme,nme),ome=TextSelection.create($P,rme,ime);Ff.setSelection(ome)}return!0},sinkListItem=kh=>({state:Ff,dispatch:x_})=>{const $P=getNodeType(kh,Ff.schema);return sinkListItem$1($P)(Ff,x_)};function ensureMarks(kh,Ff){const x_=kh.storedMarks||kh.selection.$to.parentOffset&&kh.selection.$from.marks();if(x_){const $P=x_.filter(zP=>Ff==null?void 0:Ff.includes(zP.type.name));kh.tr.ensureMarks($P)}}const splitBlock=({keepMarks:kh=!0}={})=>({tr:Ff,state:x_,dispatch:$P,editor:zP})=>{const{selection:eme,doc:tme}=Ff,{$from:nme,$to:rme}=eme,ime=zP.extensionManager.attributes,ome=getSplittedAttributes(ime,nme.node().type.name,nme.node().attrs);if(eme instanceof NodeSelection&&eme.node.isBlock)return!nme.parentOffset||!canSplit(tme,nme.pos)?!1:($P&&(kh&&ensureMarks(x_,zP.extensionManager.splittableMarks),Ff.split(nme.pos).scrollIntoView()),!0);if(!nme.parent.isBlock)return!1;if($P){const sme=rme.parentOffset===rme.parent.content.size;eme instanceof TextSelection&&Ff.deleteSelection();const ame=nme.depth===0?void 0:defaultBlockAt(nme.node(-1).contentMatchAt(nme.indexAfter(-1)));let lme=sme&&ame?[{type:ame,attrs:ome}]:void 0,ume=canSplit(Ff.doc,Ff.mapping.map(nme.pos),1,lme);if(!lme&&!ume&&canSplit(Ff.doc,Ff.mapping.map(nme.pos),1,ame?[{type:ame}]:void 0)&&(ume=!0,lme=ame?[{type:ame,attrs:ome}]:void 0),ume&&(Ff.split(Ff.mapping.map(nme.pos),1,lme),ame&&!sme&&!nme.parentOffset&&nme.parent.type!==ame)){const dme=Ff.mapping.map(nme.before()),pme=Ff.doc.resolve(dme);nme.node(-1).canReplaceWith(pme.index(),pme.index()+1,ame)&&Ff.setNodeMarkup(Ff.mapping.map(nme.before()),ame)}kh&&ensureMarks(x_,zP.extensionManager.splittableMarks),Ff.scrollIntoView()}return!0},splitListItem=kh=>({tr:Ff,state:x_,dispatch:$P,editor:zP})=>{var eme;const tme=getNodeType(kh,x_.schema),{$from:nme,$to:rme}=x_.selection,ime=x_.selection.node;if(ime&&ime.isBlock||nme.depth<2||!nme.sameParent(rme))return!1;const ome=nme.node(-1);if(ome.type!==tme)return!1;const sme=zP.extensionManager.attributes;if(nme.parent.content.size===0&&nme.node(-1).childCount===nme.indexAfter(-1)){if(nme.depth===2||nme.node(-3).type!==tme||nme.index(-2)!==nme.node(-2).childCount-1)return!1;if($P){let pme=Fragment.empty;const hme=nme.index(-1)?1:nme.index(-2)?2:3;for(let Tme=nme.depth-hme;Tme>=nme.depth-3;Tme-=1)pme=Fragment.from(nme.node(Tme).copy(pme));const cme=nme.indexAfter(-1)<nme.node(-2).childCount?1:nme.indexAfter(-2)<nme.node(-3).childCount?2:3,_me=getSplittedAttributes(sme,nme.node().type.name,nme.node().attrs),vme=((eme=tme.contentMatch.defaultType)===null||eme===void 0?void 0:eme.createAndFill(_me))||void 0;pme=pme.append(Fragment.from(tme.createAndFill(null,vme)||void 0));const Eme=nme.before(nme.depth-(hme-1));Ff.replace(Eme,nme.after(-cme),new Slice(pme,4-hme,0));let wme=-1;Ff.doc.nodesBetween(Eme,Ff.doc.content.size,(Tme,Dme)=>{if(wme>-1)return!1;Tme.isTextblock&&Tme.content.size===0&&(wme=Dme+1)}),wme>-1&&Ff.setSelection(TextSelection.near(Ff.doc.resolve(wme))),Ff.scrollIntoView()}return!0}const ame=rme.pos===nme.end()?ome.contentMatchAt(0).defaultType:null,lme=getSplittedAttributes(sme,ome.type.name,ome.attrs),ume=getSplittedAttributes(sme,nme.node().type.name,nme.node().attrs);Ff.delete(nme.pos,rme.pos);const dme=ame?[{type:tme,attrs:lme},{type:ame,attrs:ume}]:[{type:tme,attrs:lme}];if(!canSplit(Ff.doc,nme.pos,2))return!1;if($P){const{selection:pme,storedMarks:hme}=x_,{splittableMarks:cme}=zP.extensionManager,_me=hme||pme.$to.parentOffset&&pme.$from.marks();if(Ff.split(nme.pos,2,dme).scrollIntoView(),!_me||!$P)return!0;const vme=_me.filter(Eme=>cme.includes(Eme.type.name));Ff.ensureMarks(vme)}return!0},joinListBackwards=(kh,Ff)=>{const x_=findParentNode(tme=>tme.type===Ff)(kh.selection);if(!x_)return!0;const $P=kh.doc.resolve(Math.max(0,x_.pos-1)).before(x_.depth);if($P===void 0)return!0;const zP=kh.doc.nodeAt($P);return x_.node.type===(zP==null?void 0:zP.type)&&canJoin(kh.doc,x_.pos)&&kh.join(x_.pos),!0},joinListForwards=(kh,Ff)=>{const x_=findParentNode(tme=>tme.type===Ff)(kh.selection);if(!x_)return!0;const $P=kh.doc.resolve(x_.start).after(x_.depth);if($P===void 0)return!0;const zP=kh.doc.nodeAt($P);return x_.node.type===(zP==null?void 0:zP.type)&&canJoin(kh.doc,$P)&&kh.join($P),!0},toggleList=(kh,Ff,x_,$P={})=>({editor:zP,tr:eme,state:tme,dispatch:nme,chain:rme,commands:ime,can:ome})=>{const{extensions:sme,splittableMarks:ame}=zP.extensionManager,lme=getNodeType(kh,tme.schema),ume=getNodeType(Ff,tme.schema),{selection:dme,storedMarks:pme}=tme,{$from:hme,$to:cme}=dme,_me=hme.blockRange(cme),vme=pme||dme.$to.parentOffset&&dme.$from.marks();if(!_me)return!1;const Eme=findParentNode(wme=>isList(wme.type.name,sme))(dme);if(_me.depth>=1&&Eme&&_me.depth-Eme.depth<=1){if(Eme.node.type===lme)return ime.liftListItem(ume);if(isList(Eme.node.type.name,sme)&&lme.validContent(Eme.node.content)&&nme)return rme().command(()=>(eme.setNodeMarkup(Eme.pos,lme),!0)).command(()=>joinListBackwards(eme,lme)).command(()=>joinListForwards(eme,lme)).run()}return!x_||!vme||!nme?rme().command(()=>ome().wrapInList(lme,$P)?!0:ime.clearNodes()).wrapInList(lme,$P).command(()=>joinListBackwards(eme,lme)).command(()=>joinListForwards(eme,lme)).run():rme().command(()=>{const wme=ome().wrapInList(lme,$P),Tme=vme.filter(Dme=>ame.includes(Dme.type.name));return eme.ensureMarks(Tme),wme?!0:ime.clearNodes()}).wrapInList(lme,$P).command(()=>joinListBackwards(eme,lme)).command(()=>joinListForwards(eme,lme)).run()},toggleMark=(kh,Ff={},x_={})=>({state:$P,commands:zP})=>{const{extendEmptyMarkRange:eme=!1}=x_,tme=getMarkType(kh,$P.schema);return isMarkActive($P,tme,Ff)?zP.unsetMark(tme,{extendEmptyMarkRange:eme}):zP.setMark(tme,Ff)},toggleNode=(kh,Ff,x_={})=>({state:$P,commands:zP})=>{const eme=getNodeType(kh,$P.schema),tme=getNodeType(Ff,$P.schema);return isNodeActive($P,eme,x_)?zP.setNode(tme):zP.setNode(eme,x_)},toggleWrap=(kh,Ff={})=>({state:x_,commands:$P})=>{const zP=getNodeType(kh,x_.schema);return isNodeActive(x_,zP,Ff)?$P.lift(zP):$P.wrapIn(zP,Ff)},undoInputRule=()=>({state:kh,dispatch:Ff})=>{const x_=kh.plugins;for(let $P=0;$P<x_.length;$P+=1){const zP=x_[$P];let eme;if(zP.spec.isInputRules&&(eme=zP.getState(kh))){if(Ff){const tme=kh.tr,nme=eme.transform;for(let rme=nme.steps.length-1;rme>=0;rme-=1)tme.step(nme.steps[rme].invert(nme.docs[rme]));if(eme.text){const rme=tme.doc.resolve(eme.from).marks();tme.replaceWith(eme.from,eme.to,kh.schema.text(eme.text,rme))}else tme.delete(eme.from,eme.to)}return!0}}return!1},unsetAllMarks=()=>({tr:kh,dispatch:Ff})=>{const{selection:x_}=kh,{empty:$P,ranges:zP}=x_;return $P||Ff&&zP.forEach(eme=>{kh.removeMark(eme.$from.pos,eme.$to.pos)}),!0},unsetMark=(kh,Ff={})=>({tr:x_,state:$P,dispatch:zP})=>{var eme;const{extendEmptyMarkRange:tme=!1}=Ff,{selection:nme}=x_,rme=getMarkType(kh,$P.schema),{$from:ime,empty:ome,ranges:sme}=nme;if(!zP)return!0;if(ome&&tme){let{from:ame,to:lme}=nme;const ume=(eme=ime.marks().find(pme=>pme.type===rme))===null||eme===void 0?void 0:eme.attrs,dme=getMarkRange(ime,rme,ume);dme&&(ame=dme.from,lme=dme.to),x_.removeMark(ame,lme,rme)}else sme.forEach(ame=>{x_.removeMark(ame.$from.pos,ame.$to.pos,rme)});return x_.removeStoredMark(rme),!0},updateAttributes=(kh,Ff={})=>({tr:x_,state:$P,dispatch:zP})=>{let eme=null,tme=null;const nme=getSchemaTypeNameByName(typeof kh=="string"?kh:kh.name,$P.schema);return nme?(nme==="node"&&(eme=getNodeType(kh,$P.schema)),nme==="mark"&&(tme=getMarkType(kh,$P.schema)),zP&&x_.selection.ranges.forEach(rme=>{const ime=rme.$from.pos,ome=rme.$to.pos;$P.doc.nodesBetween(ime,ome,(sme,ame)=>{eme&&eme===sme.type&&x_.setNodeMarkup(ame,void 0,qme(qme({},sme.attrs),Ff)),tme&&sme.marks.length&&sme.marks.forEach(lme=>{if(tme===lme.type){const ume=Math.max(ame,ime),dme=Math.min(ame+sme.nodeSize,ome);x_.addMark(ume,dme,tme.create(qme(qme({},lme.attrs),Ff)))}})})}),!0):!1},wrapIn=(kh,Ff={})=>({state:x_,dispatch:$P})=>{const zP=getNodeType(kh,x_.schema);return wrapIn$1(zP,Ff)(x_,$P)},wrapInList=(kh,Ff={})=>({state:x_,dispatch:$P})=>{const zP=getNodeType(kh,x_.schema);return wrapInList$1(zP,Ff)(x_,$P)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach,insertContent:insertContent$1,insertContentAt,joinUp,joinDown,joinBackward,joinForward,joinItemBackward,joinItemForward,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList,toggleMark,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return qme({},commands)}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin$1({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:kh}=this;return[new Plugin$1({key:new PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(Ff,x_)=>{kh.isFocused=!0;const $P=kh.state.tr.setMeta("focus",{event:x_}).setMeta("addToHistory",!1);return Ff.dispatch($P),!1},blur:(Ff,x_)=>{kh.isFocused=!1;const $P=kh.state.tr.setMeta("blur",{event:x_}).setMeta("addToHistory",!1);return Ff.dispatch($P),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const kh=()=>this.editor.commands.first(({commands:tme})=>[()=>tme.undoInputRule(),()=>tme.command(({tr:nme})=>{const{selection:rme,doc:ime}=nme,{empty:ome,$anchor:sme}=rme,{pos:ame,parent:lme}=sme,ume=sme.parent.isTextblock?nme.doc.resolve(ame-1):sme,dme=ume.parent.type.spec.isolating,pme=sme.pos-sme.parentOffset,hme=dme&&ume.parent.childCount===1?pme===sme.pos:Selection.atStart(ime).from===ame;return!ome||!hme||!lme.type.isTextblock||lme.textContent.length?!1:tme.clearNodes()}),()=>tme.deleteSelection(),()=>tme.joinBackward(),()=>tme.selectNodeBackward()]),Ff=()=>this.editor.commands.first(({commands:tme})=>[()=>tme.deleteSelection(),()=>tme.deleteCurrentNode(),()=>tme.joinForward(),()=>tme.selectNodeForward()]),$P={Enter:()=>this.editor.commands.first(({commands:tme})=>[()=>tme.newlineInCode(),()=>tme.createParagraphNear(),()=>tme.liftEmptyBlock(),()=>tme.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:kh,"Mod-Backspace":kh,"Shift-Backspace":kh,Delete:Ff,"Mod-Delete":Ff,"Mod-a":()=>this.editor.commands.selectAll()},zP=qme({},$P),eme=b_e(qme({},$P),{"Ctrl-h":kh,"Alt-Backspace":kh,"Ctrl-d":Ff,"Ctrl-Alt-Backspace":Ff,"Alt-Delete":Ff,"Alt-d":Ff,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return isiOS()||isMacOS()?eme:zP},addProseMirrorPlugins(){return[new Plugin$1({key:new PluginKey("clearDocument"),appendTransaction:(kh,Ff,x_)=>{if(!(kh.some(ume=>ume.docChanged)&&!Ff.doc.eq(x_.doc)))return;const{empty:zP,from:eme,to:tme}=Ff.selection,nme=Selection.atStart(Ff.doc).from,rme=Selection.atEnd(Ff.doc).to;if(zP||!(eme===nme&&tme===rme)||!(x_.doc.textBetween(0,x_.doc.content.size," "," ").length===0))return;const sme=x_.tr,ame=createChainableState({state:x_,transaction:sme}),{commands:lme}=new CommandManager({editor:this.editor,state:ame});if(lme.clearNodes(),!!sme.steps.length)return sme}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin$1({key:new PluginKey("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var extensions=Object.freeze({__proto__:null,ClipboardTextSerializer,Commands,Editable,FocusEvents,Keymap,Tabindex});const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(kh,Ff,x_){const $P=document.querySelector(`style[data-tiptap-style${x_?`-${x_}`:""}]`);if($P!==null)return $P;const zP=document.createElement("style");return Ff&&zP.setAttribute("nonce",Ff),zP.setAttribute(`data-tiptap-style${x_?`-${x_}`:""}`,""),zP.innerHTML=kh,document.getElementsByTagName("head")[0].appendChild(zP),zP}let Editor$3=class extends EventEmitter{constructor(Ff={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(Ff),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(Ff={}){this.options=qme(qme({},this.options),Ff),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(Ff,x_=!0){this.setOptions({editable:Ff}),x_&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(Ff,x_){const $P=isFunction$2(x_)?x_(Ff,[...this.state.plugins]):[...this.state.plugins,Ff],zP=this.state.reconfigure({plugins:$P});this.view.updateState(zP)}unregisterPlugin(Ff){if(this.isDestroyed)return;const x_=typeof Ff=="string"?`${Ff}$`:Ff.key,$P=this.state.reconfigure({plugins:this.state.plugins.filter(zP=>!zP.key.startsWith(x_))});this.view.updateState($P)}createExtensionManager(){const x_=[...this.options.enableCoreExtensions?Object.values(extensions):[],...this.options.extensions].filter($P=>["extension","node","mark"].includes($P==null?void 0:$P.type));this.extensionManager=new ExtensionManager(x_,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const Ff=createDocument(this.options.content,this.schema,this.options.parseOptions),x_=resolveFocusPosition(Ff,this.options.autofocus);this.view=new EditorView(this.options.element,b_e(qme({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:Ff,selection:x_||void 0})}));const $P=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState($P),this.createNodeViews(),this.prependClass();const zP=this.view.dom;zP.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(Ff){this.isCapturingTransaction=!0,Ff(),this.isCapturingTransaction=!1;const x_=this.capturedTransaction;return this.capturedTransaction=null,x_}dispatchTransaction(Ff){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=Ff;return}Ff.steps.forEach(tme=>{var nme;return(nme=this.capturedTransaction)===null||nme===void 0?void 0:nme.step(tme)});return}const x_=this.state.apply(Ff),$P=!this.state.selection.eq(x_.selection);this.view.updateState(x_),this.emit("transaction",{editor:this,transaction:Ff}),$P&&this.emit("selectionUpdate",{editor:this,transaction:Ff});const zP=Ff.getMeta("focus"),eme=Ff.getMeta("blur");zP&&this.emit("focus",{editor:this,event:zP.event,transaction:Ff}),eme&&this.emit("blur",{editor:this,event:eme.event,transaction:Ff}),!(!Ff.docChanged||Ff.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:Ff})}getAttributes(Ff){return getAttributes$1(this.state,Ff)}isActive(Ff,x_){const $P=typeof Ff=="string"?Ff:null,zP=typeof Ff=="string"?x_:Ff;return isActive(this.state,$P,zP)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(Ff){const{blockSeparator:x_=`

`,textSerializers:$P={}}=Ff||{};return getText(this.state.doc,{blockSeparator:x_,textSerializers:qme(qme({},getTextSerializersFromSchema(this.schema)),$P)})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var Ff;return!(!((Ff=this.view)===null||Ff===void 0)&&Ff.docView)}};function markInputRule(kh){return new InputRule({find:kh.find,handler:({state:Ff,range:x_,match:$P})=>{const zP=callOrReturn(kh.getAttributes,void 0,$P);if(zP===!1||zP===null)return null;const{tr:eme}=Ff,tme=$P[$P.length-1],nme=$P[0];if(tme){const rme=nme.search(/\S/),ime=x_.from+nme.indexOf(tme),ome=ime+tme.length;if(getMarksBetween(x_.from,x_.to,Ff.doc).filter(lme=>lme.mark.type.excluded.find(dme=>dme===kh.type&&dme!==lme.mark.type)).filter(lme=>lme.to>ime).length)return null;ome<x_.to&&eme.delete(ome,x_.to),ime>x_.from&&eme.delete(x_.from+rme,ime);const ame=x_.from+rme+tme.length;eme.addMark(x_.from+rme,ame,kh.type.create(zP||{})),eme.removeStoredMark(kh.type)}}})}function nodeInputRule(kh){return new InputRule({find:kh.find,handler:({state:Ff,range:x_,match:$P})=>{const zP=callOrReturn(kh.getAttributes,void 0,$P)||{},{tr:eme}=Ff,tme=x_.from;let nme=x_.to;const rme=kh.type.create(zP);if($P[1]){const ime=$P[0].lastIndexOf($P[1]);let ome=tme+ime;ome>nme?ome=nme:nme=ome+$P[1].length;const sme=$P[0][$P[0].length-1];eme.insertText(sme,tme+$P[0].length-1),eme.replaceWith(ome,nme,rme)}else $P[0]&&eme.insert(tme-1,kh.type.create(zP)).delete(eme.mapping.map(tme),eme.mapping.map(nme));eme.scrollIntoView()}})}function textblockTypeInputRule(kh){return new InputRule({find:kh.find,handler:({state:Ff,range:x_,match:$P})=>{const zP=Ff.doc.resolve(x_.from),eme=callOrReturn(kh.getAttributes,void 0,$P)||{};if(!zP.node(-1).canReplaceWith(zP.index(-1),zP.indexAfter(-1),kh.type))return null;Ff.tr.delete(x_.from,x_.to).setBlockType(x_.from,x_.from,kh.type,eme)}})}function wrappingInputRule(kh){return new InputRule({find:kh.find,handler:({state:Ff,range:x_,match:$P,chain:zP})=>{const eme=callOrReturn(kh.getAttributes,void 0,$P)||{},tme=Ff.tr.delete(x_.from,x_.to),rme=tme.doc.resolve(x_.from).blockRange(),ime=rme&&findWrapping(rme,kh.type,eme);if(!ime)return null;if(tme.wrap(rme,ime),kh.keepMarks&&kh.editor){const{selection:sme,storedMarks:ame}=Ff,{splittableMarks:lme}=kh.editor.extensionManager,ume=ame||sme.$to.parentOffset&&sme.$from.marks();if(ume){const dme=ume.filter(pme=>lme.includes(pme.type.name));tme.ensureMarks(dme)}}if(kh.keepAttributes){const sme=kh.type.name==="bulletList"||kh.type.name==="orderedList"?"listItem":"taskList";zP().updateAttributes(sme,eme).run()}const ome=tme.doc.resolve(x_.from-1).nodeBefore;ome&&ome.type===kh.type&&canJoin(tme.doc,x_.from-1)&&(!kh.joinPredicate||kh.joinPredicate($P,ome))&&tme.join(x_.from-1)}})}class Mark{constructor(Ff={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=qme(qme({},this.config),Ff),this.name=this.config.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ff={}){return new Mark(Ff)}configure(Ff={}){const x_=this.extend();return x_.options=mergeDeep(this.options,Ff),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}extend(Ff={}){const x_=new Mark(Ff);return x_.parent=this,this.child=x_,x_.name=Ff.name?Ff.name:x_.parent.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${x_.name}".`),x_.options=callOrReturn(getExtensionField(x_,"addOptions",{name:x_.name})),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}static handleExit({editor:Ff,mark:x_}){const{tr:$P}=Ff.state,zP=Ff.state.selection.$from;if(zP.pos===zP.end()){const tme=zP.marks();if(!!!tme.find(ime=>(ime==null?void 0:ime.type.name)===x_.name))return!1;const rme=tme.find(ime=>(ime==null?void 0:ime.type.name)===x_.name);return rme&&$P.removeStoredMark(rme),$P.insertText(" ",zP.pos),Ff.view.dispatch($P),!0}return!1}}let Node$2=class Yye{constructor(Ff={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=qme(qme({},this.config),Ff),this.name=this.config.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(Ff={}){return new Yye(Ff)}configure(Ff={}){const x_=this.extend();return x_.options=mergeDeep(this.options,Ff),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}extend(Ff={}){const x_=new Yye(Ff);return x_.parent=this,this.child=x_,x_.name=Ff.name?Ff.name:x_.parent.name,Ff.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${x_.name}".`),x_.options=callOrReturn(getExtensionField(x_,"addOptions",{name:x_.name})),x_.storage=callOrReturn(getExtensionField(x_,"addStorage",{name:x_.name,options:x_.options})),x_}};function markPasteRule(kh){return new PasteRule({find:kh.find,handler:({state:Ff,range:x_,match:$P,pasteEvent:zP})=>{const eme=callOrReturn(kh.getAttributes,void 0,$P,zP);if(eme===!1||eme===null)return null;const{tr:tme}=Ff,nme=$P[$P.length-1],rme=$P[0];let ime=x_.to;if(nme){const ome=rme.search(/\S/),sme=x_.from+rme.indexOf(nme),ame=sme+nme.length;if(getMarksBetween(x_.from,x_.to,Ff.doc).filter(ume=>ume.mark.type.excluded.find(pme=>pme===kh.type&&pme!==ume.mark.type)).filter(ume=>ume.to>sme).length)return null;ame<x_.to&&tme.delete(ame,x_.to),sme>x_.from&&tme.delete(x_.from+ome,sme),ime=x_.from+ome+nme.length,tme.addMark(x_.from+ome,ime,kh.type.create(eme||{})),tme.removeStoredMark(kh.type)}}})}const inputRegex$4=/^\s*>\s$/,Blockquote=Node$2.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:kh}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setBlockquote:()=>({commands:kh})=>kh.wrapIn(this.name),toggleBlockquote:()=>({commands:kh})=>kh.toggleWrap(this.name),unsetBlockquote:()=>({commands:kh})=>kh.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$4,type:this.type})]}}),starInputRegex$1=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,starPasteRegex$1=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,underscoreInputRegex$1=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,underscorePasteRegex$1=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:kh=>kh.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:kh=>/^(bold(er)?|[5-9]\d{2,})$/.test(kh)&&null}]},renderHTML({HTMLAttributes:kh}){return["strong",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setBold:()=>({commands:kh})=>kh.setMark(this.name),toggleBold:()=>({commands:kh})=>kh.toggleMark(this.name),unsetBold:()=>({commands:kh})=>kh.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItem$2=Node$2.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:kh}){return["li",mergeAttributes(this.options.HTMLAttributes,kh),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),TextStyle$1=Mark.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:kh=>kh.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:kh}){return["span",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:kh,commands:Ff})=>{const x_=getMarkAttributes(kh,this.type);return Object.entries(x_).some(([,zP])=>!!zP)?!0:Ff.unsetMark(this.name)}}}}),inputRegex$3=/^\s*([-+*])\s$/,BulletList=Node$2.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:kh}){return["ul",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{toggleBulletList:()=>({commands:kh,chain:Ff})=>this.options.keepAttributes?Ff().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItem$2.name,this.editor.getAttributes(TextStyle$1.name)).run():kh.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let kh=wrappingInputRule({find:inputRegex$3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(kh=wrappingInputRule({find:inputRegex$3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyle$1.name),editor:this.editor})),[kh]}}),inputRegex$2=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,pasteRegex$1=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:kh}){return["code",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setCode:()=>({commands:kh})=>kh.setMark(this.name),toggleCode:()=>({commands:kh})=>kh.toggleMark(this.name),unsetCode:()=>({commands:kh})=>kh.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node$2.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:kh=>{var Ff;const{languageClassPrefix:x_}=this.options,eme=[...((Ff=kh.firstElementChild)===null||Ff===void 0?void 0:Ff.classList)||[]].filter(tme=>tme.startsWith(x_)).map(tme=>tme.replace(x_,""))[0];return eme||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:kh,HTMLAttributes:Ff}){return["pre",mergeAttributes(this.options.HTMLAttributes,Ff),["code",{class:kh.attrs.language?this.options.languageClassPrefix+kh.attrs.language:null},0]]},addCommands(){return{setCodeBlock:kh=>({commands:Ff})=>Ff.setNode(this.name,kh),toggleCodeBlock:kh=>({commands:Ff})=>Ff.toggleNode(this.name,"paragraph",kh)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:kh,$anchor:Ff}=this.editor.state.selection,x_=Ff.pos===1;return!kh||Ff.parent.type.name!==this.name?!1:x_||!Ff.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:kh})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:Ff}=kh,{selection:x_}=Ff,{$from:$P,empty:zP}=x_;if(!zP||$P.parent.type!==this.type)return!1;const eme=$P.parentOffset===$P.parent.nodeSize-2,tme=$P.parent.textContent.endsWith(`

`);return!eme||!tme?!1:kh.chain().command(({tr:nme})=>(nme.delete($P.pos-2,$P.pos),!0)).exitCode().run()},ArrowDown:({editor:kh})=>{if(!this.options.exitOnArrowDown)return!1;const{state:Ff}=kh,{selection:x_,doc:$P}=Ff,{$from:zP,empty:eme}=x_;if(!eme||zP.parent.type!==this.type||!(zP.parentOffset===zP.parent.nodeSize-2))return!1;const nme=zP.after();return nme===void 0||$P.nodeAt(nme)?!1:kh.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:kh=>({language:kh[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:kh=>({language:kh[1]})})]},addProseMirrorPlugins(){return[new Plugin$1({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(kh,Ff)=>{if(!Ff.clipboardData||this.editor.isActive(this.type.name))return!1;const x_=Ff.clipboardData.getData("text/plain"),$P=Ff.clipboardData.getData("vscode-editor-data"),zP=$P?JSON.parse($P):void 0,eme=zP==null?void 0:zP.mode;if(!x_||!eme)return!1;const{tr:tme}=kh.state;return tme.replaceSelectionWith(this.type.create({language:eme})),tme.setSelection(TextSelection.near(tme.doc.resolve(Math.max(0,tme.selection.from-2)))),tme.insertText(x_.replace(/\r\n?/g,`
`)),tme.setMeta("paste",!0),kh.dispatch(tme),!0}}})]}}),Document$2=Node$2.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(kh={}){return new Plugin$1({view(Ff){return new DropCursorView(Ff,kh)}})}class DropCursorView{constructor(Ff,x_){var $P;this.editorView=Ff,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=($P=x_.width)!==null&&$P!==void 0?$P:1,this.color=x_.color===!1?void 0:x_.color||"black",this.class=x_.class,this.handlers=["dragover","dragend","drop","dragleave"].map(zP=>{let eme=tme=>{this[zP](tme)};return Ff.dom.addEventListener(zP,eme),{name:zP,handler:eme}})}destroy(){this.handlers.forEach(({name:Ff,handler:x_})=>this.editorView.dom.removeEventListener(Ff,x_))}update(Ff,x_){this.cursorPos!=null&&x_.doc!=Ff.state.doc&&(this.cursorPos>Ff.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(Ff){Ff!=this.cursorPos&&(this.cursorPos=Ff,Ff==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let Ff=this.editorView.state.doc.resolve(this.cursorPos),x_=!Ff.parent.inlineContent,$P;if(x_){let nme=Ff.nodeBefore,rme=Ff.nodeAfter;if(nme||rme){let ime=this.editorView.nodeDOM(this.cursorPos-(nme?nme.nodeSize:0));if(ime){let ome=ime.getBoundingClientRect(),sme=nme?ome.bottom:ome.top;nme&&rme&&(sme=(sme+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),$P={left:ome.left,right:ome.right,top:sme-this.width/2,bottom:sme+this.width/2}}}}if(!$P){let nme=this.editorView.coordsAtPos(this.cursorPos);$P={left:nme.left-this.width/2,right:nme.left+this.width/2,top:nme.top,bottom:nme.bottom}}let zP=this.editorView.dom.offsetParent;this.element||(this.element=zP.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",x_),this.element.classList.toggle("prosemirror-dropcursor-inline",!x_);let eme,tme;if(!zP||zP==document.body&&getComputedStyle(zP).position=="static")eme=-pageXOffset,tme=-pageYOffset;else{let nme=zP.getBoundingClientRect();eme=nme.left-zP.scrollLeft,tme=nme.top-zP.scrollTop}this.element.style.left=$P.left-eme+"px",this.element.style.top=$P.top-tme+"px",this.element.style.width=$P.right-$P.left+"px",this.element.style.height=$P.bottom-$P.top+"px"}scheduleRemoval(Ff){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),Ff)}dragover(Ff){if(!this.editorView.editable)return;let x_=this.editorView.posAtCoords({left:Ff.clientX,top:Ff.clientY}),$P=x_&&x_.inside>=0&&this.editorView.state.doc.nodeAt(x_.inside),zP=$P&&$P.type.spec.disableDropCursor,eme=typeof zP=="function"?zP(this.editorView,x_,Ff):zP;if(x_&&!eme){let tme=x_.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let nme=dropPoint(this.editorView.state.doc,tme,this.editorView.dragging.slice);nme!=null&&(tme=nme)}this.setCursor(tme),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(Ff){(Ff.target==this.editorView.dom||!this.editorView.dom.contains(Ff.relatedTarget))&&this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(Ff){super(Ff,Ff)}map(Ff,x_){let $P=Ff.resolve(x_.map(this.head));return GapCursor.valid($P)?new GapCursor($P):Selection.near($P)}content(){return Slice.empty}eq(Ff){return Ff instanceof GapCursor&&Ff.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(Ff,x_){if(typeof x_.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(Ff.resolve(x_.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(Ff){let x_=Ff.parent;if(x_.isTextblock||!closedBefore(Ff)||!closedAfter(Ff))return!1;let $P=x_.type.spec.allowGapCursor;if($P!=null)return $P;let zP=x_.contentMatchAt(Ff.index()).defaultType;return zP&&zP.isTextblock}static findGapCursorFrom(Ff,x_,$P=!1){e:for(;;){if(!$P&&GapCursor.valid(Ff))return Ff;let zP=Ff.pos,eme=null;for(let tme=Ff.depth;;tme--){let nme=Ff.node(tme);if(x_>0?Ff.indexAfter(tme)<nme.childCount:Ff.index(tme)>0){eme=nme.child(x_>0?Ff.indexAfter(tme):Ff.index(tme)-1);break}else if(tme==0)return null;zP+=x_;let rme=Ff.doc.resolve(zP);if(GapCursor.valid(rme))return rme}for(;;){let tme=x_>0?eme.firstChild:eme.lastChild;if(!tme){if(eme.isAtom&&!eme.isText&&!NodeSelection.isSelectable(eme)){Ff=Ff.doc.resolve(zP+eme.nodeSize*x_),$P=!1;continue e}break}eme=tme,zP+=x_;let nme=Ff.doc.resolve(zP);if(GapCursor.valid(nme))return nme}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(Ff){this.pos=Ff}map(Ff){return new GapBookmark(Ff.map(this.pos))}resolve(Ff){let x_=Ff.resolve(this.pos);return GapCursor.valid(x_)?new GapCursor(x_):Selection.near(x_)}}function closedBefore(kh){for(let Ff=kh.depth;Ff>=0;Ff--){let x_=kh.index(Ff),$P=kh.node(Ff);if(x_==0){if($P.type.spec.isolating)return!0;continue}for(let zP=$P.child(x_-1);;zP=zP.lastChild){if(zP.childCount==0&&!zP.inlineContent||zP.isAtom||zP.type.spec.isolating)return!0;if(zP.inlineContent)return!1}}return!0}function closedAfter(kh){for(let Ff=kh.depth;Ff>=0;Ff--){let x_=kh.indexAfter(Ff),$P=kh.node(Ff);if(x_==$P.childCount){if($P.type.spec.isolating)return!0;continue}for(let zP=$P.child(x_);;zP=zP.firstChild){if(zP.childCount==0&&!zP.inlineContent||zP.isAtom||zP.type.spec.isolating)return!0;if(zP.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin$1({props:{decorations:drawGapCursor,createSelectionBetween(kh,Ff,x_){return Ff.pos==x_.pos&&GapCursor.valid(x_)?new GapCursor(x_):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(kh,Ff){const x_=kh=="vert"?Ff>0?"down":"up":Ff>0?"right":"left";return function($P,zP,eme){let tme=$P.selection,nme=Ff>0?tme.$to:tme.$from,rme=tme.empty;if(tme instanceof TextSelection){if(!eme.endOfTextblock(x_)||nme.depth==0)return!1;rme=!1,nme=$P.doc.resolve(Ff>0?nme.after():nme.before())}let ime=GapCursor.findGapCursorFrom(nme,Ff,rme);return ime?(zP&&zP($P.tr.setSelection(new GapCursor(ime))),!0):!1}}function handleClick(kh,Ff,x_){if(!kh||!kh.editable)return!1;let $P=kh.state.doc.resolve(Ff);if(!GapCursor.valid($P))return!1;let zP=kh.posAtCoords({left:x_.clientX,top:x_.clientY});return zP&&zP.inside>-1&&NodeSelection.isSelectable(kh.state.doc.nodeAt(zP.inside))?!1:(kh.dispatch(kh.state.tr.setSelection(new GapCursor($P))),!0)}function beforeinput(kh,Ff){if(Ff.inputType!="insertCompositionText"||!(kh.state.selection instanceof GapCursor))return!1;let{$from:x_}=kh.state.selection,$P=x_.parent.contentMatchAt(x_.index()).findWrapping(kh.state.schema.nodes.text);if(!$P)return!1;let zP=Fragment.empty;for(let tme=$P.length-1;tme>=0;tme--)zP=Fragment.from($P[tme].createAndFill(null,zP));let eme=kh.state.tr.replace(x_.pos,x_.pos,new Slice(zP,0,0));return eme.setSelection(TextSelection.near(eme.doc.resolve(x_.pos+1))),kh.dispatch(eme),!1}function drawGapCursor(kh){if(!(kh.selection instanceof GapCursor))return null;let Ff=document.createElement("div");return Ff.className="ProseMirror-gapcursor",DecorationSet.create(kh.doc,[Decoration.widget(kh.selection.head,Ff,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(kh){var Ff;const x_={name:kh.name,options:kh.options,storage:kh.storage};return{allowGapCursor:(Ff=callOrReturn(getExtensionField(kh,"allowGapCursor",x_)))!==null&&Ff!==void 0?Ff:null}}}),HardBreak=Node$2.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:kh}){return["br",mergeAttributes(this.options.HTMLAttributes,kh)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:kh,chain:Ff,state:x_,editor:$P})=>kh.first([()=>kh.exitCode(),()=>kh.command(()=>{const{selection:zP,storedMarks:eme}=x_;if(zP.$from.parent.type.spec.isolating)return!1;const{keepMarks:tme}=this.options,{splittableMarks:nme}=$P.extensionManager,rme=eme||zP.$to.parentOffset&&zP.$from.marks();return Ff().insertContent({type:this.name}).command(({tr:ime,dispatch:ome})=>{if(ome&&rme&&tme){const sme=rme.filter(ame=>nme.includes(ame.type.name));ime.ensureMarks(sme)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node$2.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(kh=>({tag:`h${kh}`,attrs:{level:kh}}))},renderHTML({node:kh,HTMLAttributes:Ff}){return[`h${this.options.levels.includes(kh.attrs.level)?kh.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,Ff),0]},addCommands(){return{setHeading:kh=>({commands:Ff})=>this.options.levels.includes(kh.level)?Ff.setNode(this.name,kh):!1,toggleHeading:kh=>({commands:Ff})=>this.options.levels.includes(kh.level)?Ff.toggleNode(this.name,"paragraph",kh):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((kh,Ff)=>b_e(qme({},kh),{[`Mod-Alt-${Ff}`]:()=>this.editor.commands.toggleHeading({level:Ff})}),{})},addInputRules(){return this.options.levels.map(kh=>textblockTypeInputRule({find:new RegExp(`^(#{1,${kh}})\\s$`),type:this.type,getAttributes:{level:kh}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(Ff){return Ff.length?(Ff=RopeSequence.from(Ff),!this.length&&Ff||Ff.length<GOOD_LEAF_SIZE&&this.leafAppend(Ff)||this.length<GOOD_LEAF_SIZE&&Ff.leafPrepend(this)||this.appendInner(Ff)):this};RopeSequence.prototype.prepend=function(Ff){return Ff.length?RopeSequence.from(Ff).append(this):this};RopeSequence.prototype.appendInner=function(Ff){return new Append(this,Ff)};RopeSequence.prototype.slice=function(Ff,x_){return Ff===void 0&&(Ff=0),x_===void 0&&(x_=this.length),Ff>=x_?RopeSequence.empty:this.sliceInner(Math.max(0,Ff),Math.min(this.length,x_))};RopeSequence.prototype.get=function(Ff){if(!(Ff<0||Ff>=this.length))return this.getInner(Ff)};RopeSequence.prototype.forEach=function(Ff,x_,$P){x_===void 0&&(x_=0),$P===void 0&&($P=this.length),x_<=$P?this.forEachInner(Ff,x_,$P,0):this.forEachInvertedInner(Ff,x_,$P,0)};RopeSequence.prototype.map=function(Ff,x_,$P){x_===void 0&&(x_=0),$P===void 0&&($P=this.length);var zP=[];return this.forEach(function(eme,tme){return zP.push(Ff(eme,tme))},x_,$P),zP};RopeSequence.from=function(Ff){return Ff instanceof RopeSequence?Ff:Ff&&Ff.length?new Leaf(Ff):RopeSequence.empty};var Leaf=function(kh){function Ff($P){kh.call(this),this.values=$P}kh&&(Ff.__proto__=kh),Ff.prototype=Object.create(kh&&kh.prototype),Ff.prototype.constructor=Ff;var x_={length:{configurable:!0},depth:{configurable:!0}};return Ff.prototype.flatten=function(){return this.values},Ff.prototype.sliceInner=function(zP,eme){return zP==0&&eme==this.length?this:new Ff(this.values.slice(zP,eme))},Ff.prototype.getInner=function(zP){return this.values[zP]},Ff.prototype.forEachInner=function(zP,eme,tme,nme){for(var rme=eme;rme<tme;rme++)if(zP(this.values[rme],nme+rme)===!1)return!1},Ff.prototype.forEachInvertedInner=function(zP,eme,tme,nme){for(var rme=eme-1;rme>=tme;rme--)if(zP(this.values[rme],nme+rme)===!1)return!1},Ff.prototype.leafAppend=function(zP){if(this.length+zP.length<=GOOD_LEAF_SIZE)return new Ff(this.values.concat(zP.flatten()))},Ff.prototype.leafPrepend=function(zP){if(this.length+zP.length<=GOOD_LEAF_SIZE)return new Ff(zP.flatten().concat(this.values))},x_.length.get=function(){return this.values.length},x_.depth.get=function(){return 0},Object.defineProperties(Ff.prototype,x_),Ff}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(kh){function Ff(x_,$P){kh.call(this),this.left=x_,this.right=$P,this.length=x_.length+$P.length,this.depth=Math.max(x_.depth,$P.depth)+1}return kh&&(Ff.__proto__=kh),Ff.prototype=Object.create(kh&&kh.prototype),Ff.prototype.constructor=Ff,Ff.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},Ff.prototype.getInner=function($P){return $P<this.left.length?this.left.get($P):this.right.get($P-this.left.length)},Ff.prototype.forEachInner=function($P,zP,eme,tme){var nme=this.left.length;if(zP<nme&&this.left.forEachInner($P,zP,Math.min(eme,nme),tme)===!1||eme>nme&&this.right.forEachInner($P,Math.max(zP-nme,0),Math.min(this.length,eme)-nme,tme+nme)===!1)return!1},Ff.prototype.forEachInvertedInner=function($P,zP,eme,tme){var nme=this.left.length;if(zP>nme&&this.right.forEachInvertedInner($P,zP-nme,Math.max(eme,nme)-nme,tme+nme)===!1||eme<nme&&this.left.forEachInvertedInner($P,Math.min(zP,nme),eme,tme)===!1)return!1},Ff.prototype.sliceInner=function($P,zP){if($P==0&&zP==this.length)return this;var eme=this.left.length;return zP<=eme?this.left.slice($P,zP):$P>=eme?this.right.slice($P-eme,zP-eme):this.left.slice($P,eme).append(this.right.slice(0,zP-eme))},Ff.prototype.leafAppend=function($P){var zP=this.right.leafAppend($P);if(zP)return new Ff(this.left,zP)},Ff.prototype.leafPrepend=function($P){var zP=this.left.leafPrepend($P);if(zP)return new Ff(zP,this.right)},Ff.prototype.appendInner=function($P){return this.left.depth>=Math.max(this.right.depth,$P.depth)+1?new Ff(this.left,new Ff(this.right,$P)):new Ff(this,$P)},Ff}(RopeSequence);const max_empty_items=500;class Branch{constructor(Ff,x_){this.items=Ff,this.eventCount=x_}popEvent(Ff,x_){if(this.eventCount==0)return null;let $P=this.items.length;for(;;$P--)if(this.items.get($P-1).selection){--$P;break}let zP,eme;x_&&(zP=this.remapping($P,this.items.length),eme=zP.maps.length);let tme=Ff.tr,nme,rme,ime=[],ome=[];return this.items.forEach((sme,ame)=>{if(!sme.step){zP||(zP=this.remapping($P,ame+1),eme=zP.maps.length),eme--,ome.push(sme);return}if(zP){ome.push(new Item(sme.map));let lme=sme.step.map(zP.slice(eme)),ume;lme&&tme.maybeStep(lme).doc&&(ume=tme.mapping.maps[tme.mapping.maps.length-1],ime.push(new Item(ume,void 0,void 0,ime.length+ome.length))),eme--,ume&&zP.appendMap(ume,eme)}else tme.maybeStep(sme.step);if(sme.selection)return nme=zP?sme.selection.map(zP.slice(eme)):sme.selection,rme=new Branch(this.items.slice(0,$P).append(ome.reverse().concat(ime)),this.eventCount-1),!1},this.items.length,0),{remaining:rme,transform:tme,selection:nme}}addTransform(Ff,x_,$P,zP){let eme=[],tme=this.eventCount,nme=this.items,rme=!zP&&nme.length?nme.get(nme.length-1):null;for(let ome=0;ome<Ff.steps.length;ome++){let sme=Ff.steps[ome].invert(Ff.docs[ome]),ame=new Item(Ff.mapping.maps[ome],sme,x_),lme;(lme=rme&&rme.merge(ame))&&(ame=lme,ome?eme.pop():nme=nme.slice(0,nme.length-1)),eme.push(ame),x_&&(tme++,x_=void 0),zP||(rme=ame)}let ime=tme-$P.depth;return ime>DEPTH_OVERFLOW&&(nme=cutOffEvents(nme,ime),tme-=ime),new Branch(nme.append(eme),tme)}remapping(Ff,x_){let $P=new Mapping;return this.items.forEach((zP,eme)=>{let tme=zP.mirrorOffset!=null&&eme-zP.mirrorOffset>=Ff?$P.maps.length-zP.mirrorOffset:void 0;$P.appendMap(zP.map,tme)},Ff,x_),$P}addMaps(Ff){return this.eventCount==0?this:new Branch(this.items.append(Ff.map(x_=>new Item(x_))),this.eventCount)}rebased(Ff,x_){if(!this.eventCount)return this;let $P=[],zP=Math.max(0,this.items.length-x_),eme=Ff.mapping,tme=Ff.steps.length,nme=this.eventCount;this.items.forEach(ame=>{ame.selection&&nme--},zP);let rme=x_;this.items.forEach(ame=>{let lme=eme.getMirror(--rme);if(lme==null)return;tme=Math.min(tme,lme);let ume=eme.maps[lme];if(ame.step){let dme=Ff.steps[lme].invert(Ff.docs[lme]),pme=ame.selection&&ame.selection.map(eme.slice(rme+1,lme));pme&&nme++,$P.push(new Item(ume,dme,pme))}else $P.push(new Item(ume))},zP);let ime=[];for(let ame=x_;ame<tme;ame++)ime.push(new Item(eme.maps[ame]));let ome=this.items.slice(0,zP).append(ime).append($P),sme=new Branch(ome,nme);return sme.emptyItemCount()>max_empty_items&&(sme=sme.compress(this.items.length-$P.length)),sme}emptyItemCount(){let Ff=0;return this.items.forEach(x_=>{x_.step||Ff++}),Ff}compress(Ff=this.items.length){let x_=this.remapping(0,Ff),$P=x_.maps.length,zP=[],eme=0;return this.items.forEach((tme,nme)=>{if(nme>=Ff)zP.push(tme),tme.selection&&eme++;else if(tme.step){let rme=tme.step.map(x_.slice($P)),ime=rme&&rme.getMap();if($P--,ime&&x_.appendMap(ime,$P),rme){let ome=tme.selection&&tme.selection.map(x_.slice($P));ome&&eme++;let sme=new Item(ime.invert(),rme,ome),ame,lme=zP.length-1;(ame=zP.length&&zP[lme].merge(sme))?zP[lme]=ame:zP.push(sme)}}else tme.map&&$P--},this.items.length,0),new Branch(RopeSequence.from(zP.reverse()),eme)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(kh,Ff){let x_;return kh.forEach(($P,zP)=>{if($P.selection&&Ff--==0)return x_=zP,!1}),kh.slice(x_)}class Item{constructor(Ff,x_,$P,zP){this.map=Ff,this.step=x_,this.selection=$P,this.mirrorOffset=zP}merge(Ff){if(this.step&&Ff.step&&!Ff.selection){let x_=Ff.step.merge(this.step);if(x_)return new Item(x_.getMap().invert(),x_,this.selection)}}}class HistoryState{constructor(Ff,x_,$P,zP,eme){this.done=Ff,this.undone=x_,this.prevRanges=$P,this.prevTime=zP,this.prevComposition=eme}}const DEPTH_OVERFLOW=20;function applyTransaction(kh,Ff,x_,$P){let zP=x_.getMeta(historyKey),eme;if(zP)return zP.historyState;x_.getMeta(closeHistoryKey)&&(kh=new HistoryState(kh.done,kh.undone,null,0,-1));let tme=x_.getMeta("appendedTransaction");if(x_.steps.length==0)return kh;if(tme&&tme.getMeta(historyKey))return tme.getMeta(historyKey).redo?new HistoryState(kh.done.addTransform(x_,void 0,$P,mustPreserveItems(Ff)),kh.undone,rangesFor(x_.mapping.maps[x_.steps.length-1]),kh.prevTime,kh.prevComposition):new HistoryState(kh.done,kh.undone.addTransform(x_,void 0,$P,mustPreserveItems(Ff)),null,kh.prevTime,kh.prevComposition);if(x_.getMeta("addToHistory")!==!1&&!(tme&&tme.getMeta("addToHistory")===!1)){let nme=x_.getMeta("composition"),rme=kh.prevTime==0||!tme&&kh.prevComposition!=nme&&(kh.prevTime<(x_.time||0)-$P.newGroupDelay||!isAdjacentTo(x_,kh.prevRanges)),ime=tme?mapRanges(kh.prevRanges,x_.mapping):rangesFor(x_.mapping.maps[x_.steps.length-1]);return new HistoryState(kh.done.addTransform(x_,rme?Ff.selection.getBookmark():void 0,$P,mustPreserveItems(Ff)),Branch.empty,ime,x_.time,nme==null?kh.prevComposition:nme)}else return(eme=x_.getMeta("rebased"))?new HistoryState(kh.done.rebased(x_,eme),kh.undone.rebased(x_,eme),mapRanges(kh.prevRanges,x_.mapping),kh.prevTime,kh.prevComposition):new HistoryState(kh.done.addMaps(x_.mapping.maps),kh.undone.addMaps(x_.mapping.maps),mapRanges(kh.prevRanges,x_.mapping),kh.prevTime,kh.prevComposition)}function isAdjacentTo(kh,Ff){if(!Ff)return!1;if(!kh.docChanged)return!0;let x_=!1;return kh.mapping.maps[0].forEach(($P,zP)=>{for(let eme=0;eme<Ff.length;eme+=2)$P<=Ff[eme+1]&&zP>=Ff[eme]&&(x_=!0)}),x_}function rangesFor(kh){let Ff=[];return kh.forEach((x_,$P,zP,eme)=>Ff.push(zP,eme)),Ff}function mapRanges(kh,Ff){if(!kh)return null;let x_=[];for(let $P=0;$P<kh.length;$P+=2){let zP=Ff.map(kh[$P],1),eme=Ff.map(kh[$P+1],-1);zP<=eme&&x_.push(zP,eme)}return x_}function histTransaction(kh,Ff,x_,$P){let zP=mustPreserveItems(Ff),eme=historyKey.get(Ff).spec.config,tme=($P?kh.undone:kh.done).popEvent(Ff,zP);if(!tme)return;let nme=tme.selection.resolve(tme.transform.doc),rme=($P?kh.done:kh.undone).addTransform(tme.transform,Ff.selection.getBookmark(),eme,zP),ime=new HistoryState($P?rme:tme.remaining,$P?tme.remaining:rme,null,0,-1);x_(tme.transform.setSelection(nme).setMeta(historyKey,{redo:$P,historyState:ime}).scrollIntoView())}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(kh){let Ff=kh.plugins;if(cachedPreserveItemsPlugins!=Ff){cachedPreserveItems=!1,cachedPreserveItemsPlugins=Ff;for(let x_=0;x_<Ff.length;x_++)if(Ff[x_].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history$1(kh={}){return kh={depth:kh.depth||100,newGroupDelay:kh.newGroupDelay||500},new Plugin$1({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(Ff,x_,$P){return applyTransaction(x_,$P,Ff,kh)}},config:kh,props:{handleDOMEvents:{beforeinput(Ff,x_){let $P=x_.inputType,zP=$P=="historyUndo"?undo:$P=="historyRedo"?redo:null;return zP?(x_.preventDefault(),zP(Ff.state,Ff.dispatch)):!1}}}})}const undo=(kh,Ff)=>{let x_=historyKey.getState(kh);return!x_||x_.done.eventCount==0?!1:(Ff&&histTransaction(x_,kh,Ff,!1),!0)},redo=(kh,Ff)=>{let x_=historyKey.getState(kh);return!x_||x_.undone.eventCount==0?!1:(Ff&&histTransaction(x_,kh,Ff,!0),!0)},History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:kh,dispatch:Ff})=>undo(kh,Ff),redo:()=>({state:kh,dispatch:Ff})=>redo(kh,Ff)}},addProseMirrorPlugins(){return[history$1(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),HorizontalRule=Node$2.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:kh}){return["hr",mergeAttributes(this.options.HTMLAttributes,kh)]},addCommands(){return{setHorizontalRule:()=>({chain:kh,state:Ff})=>{const{$to:x_}=Ff.selection,$P=kh();return x_.parentOffset===0?$P.insertContentAt(Math.max(x_.pos-2,0),{type:this.name}):$P.insertContent({type:this.name}),$P.command(({tr:zP,dispatch:eme})=>{var tme;if(eme){const{$to:nme}=zP.selection,rme=nme.end();if(nme.nodeAfter)nme.nodeAfter.isTextblock?zP.setSelection(TextSelection.create(zP.doc,nme.pos+1)):nme.nodeAfter.isBlock?zP.setSelection(NodeSelection.create(zP.doc,nme.pos)):zP.setSelection(TextSelection.create(zP.doc,nme.pos));else{const ime=(tme=nme.parent.type.contentMatch.defaultType)===null||tme===void 0?void 0:tme.create();ime&&(zP.insert(rme,ime),zP.setSelection(TextSelection.create(zP.doc,rme+1)))}zP.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,starPasteRegex=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,underscoreInputRegex=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,underscorePasteRegex=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:kh=>kh.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:kh}){return["em",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setItalic:()=>({commands:kh})=>kh.setMark(this.name),toggleItalic:()=>({commands:kh})=>kh.toggleMark(this.name),unsetItalic:()=>({commands:kh})=>kh.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem$1=Node$2.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:kh}){return["li",mergeAttributes(this.options.HTMLAttributes,kh),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItem=Node$2.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:kh}){return["li",mergeAttributes(this.options.HTMLAttributes,kh),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),TextStyle=Mark.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:kh=>kh.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:kh}){return["span",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:kh,commands:Ff})=>{const x_=getMarkAttributes(kh,this.type);return Object.entries(x_).some(([,zP])=>!!zP)?!0:Ff.unsetMark(this.name)}}}}),inputRegex$1=/^(\d+)\.\s$/,OrderedList=Node$2.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:kh=>kh.hasAttribute("start")?parseInt(kh.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:kh}){const $P=kh,{start:Ff}=$P,x_=Nbe($P,["start"]);return Ff===1?["ol",mergeAttributes(this.options.HTMLAttributes,x_),0]:["ol",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{toggleOrderedList:()=>({commands:kh,chain:Ff})=>this.options.keepAttributes?Ff().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItem.name,this.editor.getAttributes(TextStyle.name)).run():kh.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let kh=wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:Ff=>({start:+Ff[1]}),joinPredicate:(Ff,x_)=>x_.childCount+x_.attrs.start===+Ff[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(kh=wrappingInputRule({find:inputRegex$1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:Ff=>qme({start:+Ff[1]},this.editor.getAttributes(TextStyle.name)),joinPredicate:(Ff,x_)=>x_.childCount+x_.attrs.start===+Ff[1],editor:this.editor})),[kh]}}),Paragraph=Node$2.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:kh}){return["p",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setParagraph:()=>({commands:kh})=>kh.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,pasteRegex=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:kh=>kh.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:kh}){return["s",mergeAttributes(this.options.HTMLAttributes,kh),0]},addCommands(){return{setStrike:()=>({commands:kh})=>kh.setMark(this.name),toggleStrike:()=>({commands:kh})=>kh.toggleMark(this.name),unsetStrike:()=>({commands:kh})=>kh.unsetMark(this.name)}},addKeyboardShortcuts(){const kh={};return isMacOS()?kh["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():kh["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),kh},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Text$1=Node$2.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var kh,Ff,x_,$P,zP,eme,tme,nme,rme,ime,ome,sme,ame,lme,ume,dme,pme,hme;const cme=[];return this.options.blockquote!==!1&&cme.push(Blockquote.configure((kh=this.options)===null||kh===void 0?void 0:kh.blockquote)),this.options.bold!==!1&&cme.push(Bold.configure((Ff=this.options)===null||Ff===void 0?void 0:Ff.bold)),this.options.bulletList!==!1&&cme.push(BulletList.configure((x_=this.options)===null||x_===void 0?void 0:x_.bulletList)),this.options.code!==!1&&cme.push(Code.configure(($P=this.options)===null||$P===void 0?void 0:$P.code)),this.options.codeBlock!==!1&&cme.push(CodeBlock.configure((zP=this.options)===null||zP===void 0?void 0:zP.codeBlock)),this.options.document!==!1&&cme.push(Document$2.configure((eme=this.options)===null||eme===void 0?void 0:eme.document)),this.options.dropcursor!==!1&&cme.push(Dropcursor.configure((tme=this.options)===null||tme===void 0?void 0:tme.dropcursor)),this.options.gapcursor!==!1&&cme.push(Gapcursor.configure((nme=this.options)===null||nme===void 0?void 0:nme.gapcursor)),this.options.hardBreak!==!1&&cme.push(HardBreak.configure((rme=this.options)===null||rme===void 0?void 0:rme.hardBreak)),this.options.heading!==!1&&cme.push(Heading.configure((ime=this.options)===null||ime===void 0?void 0:ime.heading)),this.options.history!==!1&&cme.push(History.configure((ome=this.options)===null||ome===void 0?void 0:ome.history)),this.options.horizontalRule!==!1&&cme.push(HorizontalRule.configure((sme=this.options)===null||sme===void 0?void 0:sme.horizontalRule)),this.options.italic!==!1&&cme.push(Italic.configure((ame=this.options)===null||ame===void 0?void 0:ame.italic)),this.options.listItem!==!1&&cme.push(ListItem$1.configure((lme=this.options)===null||lme===void 0?void 0:lme.listItem)),this.options.orderedList!==!1&&cme.push(OrderedList.configure((ume=this.options)===null||ume===void 0?void 0:ume.orderedList)),this.options.paragraph!==!1&&cme.push(Paragraph.configure((dme=this.options)===null||dme===void 0?void 0:dme.paragraph)),this.options.strike!==!1&&cme.push(Strike.configure((pme=this.options)===null||pme===void 0?void 0:pme.strike)),this.options.text!==!1&&cme.push(Text$1.configure((hme=this.options)===null||hme===void 0?void 0:hme.text)),cme}}),getQuillEditorOptions=(kh={})=>merge$3({theme:"snow"},kh),getTinyEditorOptions=(kh={})=>merge$3({theme:"snow"},kh),getTipTapEditorOptions=(kh={})=>merge$3({content:"<p>I’m running Tiptap with Vue.js. 🎉</p>",extensions:[StarterKit]},kh);var quill={exports:{}};/*!
 * Quill Editor v2.0.0-dev.3
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(module,exports){(function(Ff,x_){module.exports=x_()})(window,function(){return function(kh){var Ff={};function x_($P){if(Ff[$P])return Ff[$P].exports;var zP=Ff[$P]={i:$P,l:!1,exports:{}};return kh[$P].call(zP.exports,zP,zP.exports,x_),zP.l=!0,zP.exports}return x_.m=kh,x_.c=Ff,x_.d=function($P,zP,eme){x_.o($P,zP)||Object.defineProperty($P,zP,{enumerable:!0,get:eme})},x_.r=function($P){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty($P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($P,"__esModule",{value:!0})},x_.t=function($P,zP){if(zP&1&&($P=x_($P)),zP&8||zP&4&&typeof $P=="object"&&$P&&$P.__esModule)return $P;var eme=Object.create(null);if(x_.r(eme),Object.defineProperty(eme,"default",{enumerable:!0,value:$P}),zP&2&&typeof $P!="string")for(var tme in $P)x_.d(eme,tme,function(nme){return $P[nme]}.bind(null,tme));return eme},x_.n=function($P){var zP=$P&&$P.__esModule?function(){return $P.default}:function(){return $P};return x_.d(zP,"a",zP),zP},x_.o=function($P,zP){return Object.prototype.hasOwnProperty.call($P,zP)},x_.p="",x_(x_.s=0)}({"./assets/icons/align-center.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/align-center.svg?`)},"./assets/icons/align-justify.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/align-justify.svg?`)},"./assets/icons/align-left.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/align-left.svg?`)},"./assets/icons/align-right.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/align-right.svg?`)},"./assets/icons/background.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <g class=\\"ql-fill ql-color-label\\"> <polygon points=\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\"12 6.868 12 6 11.62 6 12 6.868\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\"5.5 13 9 5 12.5 13\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/background.svg?`)},"./assets/icons/blockquote.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <rect class=\\"ql-fill ql-stroke\\" height=3 width=3 x=4 y=5></rect> <rect class=\\"ql-fill ql-stroke\\" height=3 width=3 x=11 y=5></rect> <path class=\\"ql-even ql-fill ql-stroke\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\"ql-even ql-fill ql-stroke\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/blockquote.svg?`)},"./assets/icons/bold.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/bold.svg?`)},"./assets/icons/clean.svg":function(module,exports){eval(`// Module
var code = "<svg class=\\"\\" viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/clean.svg?`)},"./assets/icons/code.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <polyline class=\\"ql-even ql-stroke\\" points=\\"5 7 3 9 5 11\\"></polyline> <polyline class=\\"ql-even ql-stroke\\" points=\\"13 7 15 9 13 11\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/code.svg?`)},"./assets/icons/color.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=\\"ql-color-label ql-stroke ql-transparent\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\"5.5 11 9 3 12.5 11\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/color.svg?`)},"./assets/icons/direction-ltr.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <polygon class=\\"ql-stroke ql-fill\\" points=\\"3 11 5 9 3 7 3 11\\"></polygon> <line class=\\"ql-stroke ql-fill\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/direction-ltr.svg?`)},"./assets/icons/direction-rtl.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <polygon class=\\"ql-stroke ql-fill\\" points=\\"15 12 13 10 15 8 15 12\\"></polygon> <line class=\\"ql-stroke ql-fill\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/direction-rtl.svg?`)},"./assets/icons/dropdown.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <polygon class=ql-stroke points=\\"7 11 9 13 11 11 7 11\\"></polygon> <polygon class=ql-stroke points=\\"7 7 9 5 11 7 7 7\\"></polygon> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/dropdown.svg?`)},"./assets/icons/formula.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/formula.svg?`)},"./assets/icons/header-2.svg":function(module,exports){eval(`// Module
var code = "<svg viewBox=\\"0 0 18 18\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/header-2.svg?`)},"./assets/icons/header.svg":function(module,exports){eval(`// Module
var code = "<svg viewBox=\\"0 0 18 18\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/header.svg?`)},"./assets/icons/image.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\"ql-even ql-fill\\" points=\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\"></polyline> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/image.svg?`)},"./assets/icons/indent.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\"ql-fill ql-stroke\\" points=\\"3 7 3 11 5 9 3 7\\"></polyline> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/indent.svg?`)},"./assets/icons/italic.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/italic.svg?`)},"./assets/icons/link.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\"ql-even ql-stroke\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\"ql-even ql-stroke\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/link.svg?`)},"./assets/icons/list-bullet.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/list-bullet.svg?`)},"./assets/icons/list-check.svg":function(module,exports){eval(`// Module
var code = "<svg class=\\"\\" viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\"3 4 4 5 6 3\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\"3 14 4 15 6 13\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\"3 9 4 10 6 8\\"></polyline> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/list-check.svg?`)},"./assets/icons/list-ordered.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\"ql-stroke ql-thin\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\"ql-stroke ql-thin\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\"ql-stroke ql-thin\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/list-ordered.svg?`)},"./assets/icons/outdent.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\"5 7 5 11 3 9 5 7\\"></polyline> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/outdent.svg?`)},"./assets/icons/strike.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <line class=\\"ql-stroke ql-thin\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/strike.svg?`)},"./assets/icons/subscript.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/subscript.svg?`)},"./assets/icons/superscript.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/superscript.svg?`)},"./assets/icons/table.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=2 width=3 x=5 y=5></rect> <rect class=ql-fill height=2 width=4 x=9 y=5></rect> <g class=\\"ql-fill ql-transparent\\"> <rect height=2 width=3 x=5 y=8></rect> <rect height=2 width=4 x=9 y=8></rect> <rect height=2 width=3 x=5 y=11></rect> <rect height=2 width=4 x=9 y=11></rect> </g> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/table.svg?`)},"./assets/icons/underline.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/underline.svg?`)},"./assets/icons/video.svg":function(module,exports){eval(`// Module
var code = "<svg viewbox=\\"0 0 18 18\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>";
// Exports
module.exports = code;

//# sourceURL=webpack://Quill/./assets/icons/video.svg?`)},"./blots/block.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "blockDelta", function() { return blockDelta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bubbleFormats", function() { return bubbleFormats; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BlockEmbed", function() { return BlockEmbed; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Block; });
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./break */ "./blots/break.js");
/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inline */ "./blots/inline.js");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./text */ "./blots/text.js");






const NEWLINE_LENGTH = 1;

class Block extends parchment__WEBPACK_IMPORTED_MODULE_2__["BlockBlot"] {
  constructor(scroll, domNode) {
    super(scroll, domNode);
    this.cache = {};
  }

  delta() {
    if (this.cache.delta == null) {
      this.cache.delta = blockDelta(this);
    }

    return this.cache.delta;
  }

  deleteAt(index, length) {
    super.deleteAt(index, length);
    this.cache = {};
  }

  formatAt(index, length, name, value) {
    if (length <= 0) return;

    if (this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__["Scope"].BLOCK)) {
      if (index + length === this.length()) {
        this.format(name, value);
      }
    } else {
      super.formatAt(index, Math.min(length, this.length() - index - 1), name, value);
    }

    this.cache = {};
  }

  insertAt(index, value, def) {
    if (def != null) {
      super.insertAt(index, value, def);
      this.cache = {};
      return;
    }

    if (value.length === 0) return;
    const lines = value.split('\\n');
    const text = lines.shift();

    if (text.length > 0) {
      if (index < this.length() - 1 || this.children.tail == null) {
        super.insertAt(Math.min(index, this.length() - 1), text);
      } else {
        this.children.tail.insertAt(this.children.tail.length(), text);
      }

      this.cache = {};
    }

    let block = this;
    lines.reduce((lineIndex, line) => {
      block = block.split(lineIndex, true);
      block.insertAt(0, line);
      return line.length;
    }, index + text.length);
  }

  insertBefore(blot, ref) {
    const {
      head
    } = this.children;
    super.insertBefore(blot, ref);

    if (head instanceof _break__WEBPACK_IMPORTED_MODULE_3__["default"]) {
      head.remove();
    }

    this.cache = {};
  }

  length() {
    if (this.cache.length == null) {
      this.cache.length = super.length() + NEWLINE_LENGTH;
    }

    return this.cache.length;
  }

  moveChildren(target, ref) {
    super.moveChildren(target, ref);
    this.cache = {};
  }

  optimize(context) {
    super.optimize(context);
    this.cache = {};
  }

  path(index) {
    return super.path(index, true);
  }

  removeChild(child) {
    super.removeChild(child);
    this.cache = {};
  }

  split(index, force = false) {
    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {
      const clone = this.clone();

      if (index === 0) {
        this.parent.insertBefore(clone, this);
        return this;
      }

      this.parent.insertBefore(clone, this.next);
      return clone;
    }

    const next = super.split(index, force);
    this.cache = {};
    return next;
  }

}

Block.blotName = 'block';
Block.tagName = 'P';
Block.defaultChild = _break__WEBPACK_IMPORTED_MODULE_3__["default"];
Block.allowedChildren = [_break__WEBPACK_IMPORTED_MODULE_3__["default"], _inline__WEBPACK_IMPORTED_MODULE_4__["default"], parchment__WEBPACK_IMPORTED_MODULE_2__["EmbedBlot"], _text__WEBPACK_IMPORTED_MODULE_5__["default"]];

class BlockEmbed extends parchment__WEBPACK_IMPORTED_MODULE_2__["EmbedBlot"] {
  attach() {
    super.attach();
    this.attributes = new parchment__WEBPACK_IMPORTED_MODULE_2__["AttributorStore"](this.domNode);
  }

  delta() {
    return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(this.value(), extend__WEBPACK_IMPORTED_MODULE_0___default()(this.formats(), this.attributes.values()));
  }

  format(name, value) {
    const attribute = this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__["Scope"].BLOCK_ATTRIBUTE);

    if (attribute != null) {
      this.attributes.attribute(attribute, value);
    }
  }

  formatAt(index, length, name, value) {
    this.format(name, value);
  }

  insertAt(index, value, def) {
    if (typeof value === 'string' && value.endsWith('\\n')) {
      const block = this.scroll.create(Block.blotName);
      this.parent.insertBefore(block, index === 0 ? this : this.next);
      block.insertAt(0, value.slice(0, -1));
    } else {
      super.insertAt(index, value, def);
    }
  }

}

BlockEmbed.scope = parchment__WEBPACK_IMPORTED_MODULE_2__["Scope"].BLOCK_BLOT; // It is important for cursor behavior BlockEmbeds use tags that are block level elements

function blockDelta(blot, filter = true) {
  return blot.descendants(parchment__WEBPACK_IMPORTED_MODULE_2__["LeafBlot"]).reduce((delta, leaf) => {
    if (leaf.length() === 0) {
      return delta;
    }

    return delta.insert(leaf.value(), bubbleFormats(leaf, {}, filter));
  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a()).insert('\\n', bubbleFormats(blot));
}

function bubbleFormats(blot, formats = {}, filter = true) {
  if (blot == null) return formats;

  if (typeof blot.formats === 'function') {
    formats = extend__WEBPACK_IMPORTED_MODULE_0___default()(formats, blot.formats());

    if (filter) {
      // exclude syntax highlighting from deltas and getFormat()
      delete formats['code-token'];
    }
  }

  if (blot.parent == null || blot.parent.statics.blotName === 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {
    return formats;
  }

  return bubbleFormats(blot.parent, formats, filter);
}



//# sourceURL=webpack://Quill/./blots/block.js?`)},"./blots/break.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");


class Break extends parchment__WEBPACK_IMPORTED_MODULE_0__["EmbedBlot"] {
  static value() {
    return undefined;
  }

  optimize() {
    if (this.prev || this.next) {
      this.remove();
    }
  }

  length() {
    return 0;
  }

  value() {
    return '';
  }

}

Break.blotName = 'break';
Break.tagName = 'BR';
/* harmony default export */ __webpack_exports__["default"] = (Break);

//# sourceURL=webpack://Quill/./blots/break.js?`)},"./blots/container.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");


class Container extends parchment__WEBPACK_IMPORTED_MODULE_0__["ContainerBlot"] {}

/* harmony default export */ __webpack_exports__["default"] = (Container);

//# sourceURL=webpack://Quill/./blots/container.js?`)},"./blots/cursor.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ "./blots/text.js");



class Cursor extends parchment__WEBPACK_IMPORTED_MODULE_0__["EmbedBlot"] {
  static value() {
    return undefined;
  }

  constructor(scroll, domNode, selection) {
    super(scroll, domNode);
    this.selection = selection;
    this.textNode = document.createTextNode(Cursor.CONTENTS);
    this.domNode.appendChild(this.textNode);
    this.savedLength = 0;
  }

  detach() {
    // super.detach() will also clear domNode.__blot
    if (this.parent != null) this.parent.removeChild(this);
  }

  format(name, value) {
    if (this.savedLength !== 0) {
      super.format(name, value);
      return;
    }

    let target = this;
    let index = 0;

    while (target != null && target.statics.scope !== parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK_BLOT) {
      index += target.offset(target.parent);
      target = target.parent;
    }

    if (target != null) {
      this.savedLength = Cursor.CONTENTS.length;
      target.optimize();
      target.formatAt(index, Cursor.CONTENTS.length, name, value);
      this.savedLength = 0;
    }
  }

  index(node, offset) {
    if (node === this.textNode) return 0;
    return super.index(node, offset);
  }

  length() {
    return this.savedLength;
  }

  position() {
    return [this.textNode, this.textNode.data.length];
  }

  remove() {
    super.remove();
    this.parent = null;
  }

  restore() {
    if (this.selection.composing || this.parent == null) return null;
    const range = this.selection.getNativeRange(); // Link format will insert text outside of anchor tag

    while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {
      this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);
    }

    const prevTextBlot = this.prev instanceof _text__WEBPACK_IMPORTED_MODULE_1__["default"] ? this.prev : null;
    const prevTextLength = prevTextBlot ? prevTextBlot.length() : 0;
    const nextTextBlot = this.next instanceof _text__WEBPACK_IMPORTED_MODULE_1__["default"] ? this.next : null;
    const nextText = nextTextBlot ? nextTextBlot.text : '';
    const {
      textNode
    } = this; // take text from inside this blot and reset it

    const newText = textNode.data.split(Cursor.CONTENTS).join('');
    textNode.data = Cursor.CONTENTS; // proactively merge TextBlots around cursor so that optimization
    // doesn't lose the cursor.  the reason we are here in cursor.restore
    // could be that the user clicked in prevTextBlot or nextTextBlot, or
    // the user typed something.

    let mergedTextBlot;

    if (prevTextBlot) {
      mergedTextBlot = prevTextBlot;

      if (newText || nextTextBlot) {
        prevTextBlot.insertAt(prevTextBlot.length(), newText + nextText);

        if (nextTextBlot) {
          nextTextBlot.remove();
        }
      }
    } else if (nextTextBlot) {
      mergedTextBlot = nextTextBlot;
      nextTextBlot.insertAt(0, newText);
    } else {
      const newTextNode = document.createTextNode(newText);
      mergedTextBlot = this.scroll.create(newTextNode);
      this.parent.insertBefore(mergedTextBlot, this);
    }

    this.remove();

    if (range) {
      // calculate selection to restore
      const remapOffset = (node, offset) => {
        if (prevTextBlot && node === prevTextBlot.domNode) {
          return offset;
        }

        if (node === textNode) {
          return prevTextLength + offset - 1;
        }

        if (nextTextBlot && node === nextTextBlot.domNode) {
          return prevTextLength + newText.length + offset;
        }

        return null;
      };

      const start = remapOffset(range.start.node, range.start.offset);
      const end = remapOffset(range.end.node, range.end.offset);

      if (start !== null && end !== null) {
        return {
          startNode: mergedTextBlot.domNode,
          startOffset: start,
          endNode: mergedTextBlot.domNode,
          endOffset: end
        };
      }
    }

    return null;
  }

  update(mutations, context) {
    if (mutations.some(mutation => {
      return mutation.type === 'characterData' && mutation.target === this.textNode;
    })) {
      const range = this.restore();
      if (range) context.range = range;
    }
  }

  value() {
    return '';
  }

}

Cursor.blotName = 'cursor';
Cursor.className = 'ql-cursor';
Cursor.tagName = 'span';
Cursor.CONTENTS = '\\uFEFF'; // Zero width no break space

/* harmony default export */ __webpack_exports__["default"] = (Cursor);

//# sourceURL=webpack://Quill/./blots/cursor.js?`)},"./blots/embed.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ "./blots/text.js");


const GUARD_TEXT = '\\uFEFF';

class Embed extends parchment__WEBPACK_IMPORTED_MODULE_0__["EmbedBlot"] {
  constructor(scroll, node) {
    super(scroll, node);
    this.contentNode = document.createElement('span');
    this.contentNode.setAttribute('contenteditable', false);
    Array.from(this.domNode.childNodes).forEach(childNode => {
      this.contentNode.appendChild(childNode);
    });
    this.leftGuard = document.createTextNode(GUARD_TEXT);
    this.rightGuard = document.createTextNode(GUARD_TEXT);
    this.domNode.appendChild(this.leftGuard);
    this.domNode.appendChild(this.contentNode);
    this.domNode.appendChild(this.rightGuard);
  }

  index(node, offset) {
    if (node === this.leftGuard) return 0;
    if (node === this.rightGuard) return 1;
    return super.index(node, offset);
  }

  restore(node) {
    let range;
    let textNode;
    const text = node.data.split(GUARD_TEXT).join('');

    if (node === this.leftGuard) {
      if (this.prev instanceof _text__WEBPACK_IMPORTED_MODULE_1__["default"]) {
        const prevLength = this.prev.length();
        this.prev.insertAt(prevLength, text);
        range = {
          startNode: this.prev.domNode,
          startOffset: prevLength + text.length
        };
      } else {
        textNode = document.createTextNode(text);
        this.parent.insertBefore(this.scroll.create(textNode), this);
        range = {
          startNode: textNode,
          startOffset: text.length
        };
      }
    } else if (node === this.rightGuard) {
      if (this.next instanceof _text__WEBPACK_IMPORTED_MODULE_1__["default"]) {
        this.next.insertAt(0, text);
        range = {
          startNode: this.next.domNode,
          startOffset: text.length
        };
      } else {
        textNode = document.createTextNode(text);
        this.parent.insertBefore(this.scroll.create(textNode), this.next);
        range = {
          startNode: textNode,
          startOffset: text.length
        };
      }
    }

    node.data = GUARD_TEXT;
    return range;
  }

  update(mutations, context) {
    mutations.forEach(mutation => {
      if (mutation.type === 'characterData' && (mutation.target === this.leftGuard || mutation.target === this.rightGuard)) {
        const range = this.restore(mutation.target);
        if (range) context.range = range;
      }
    });
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Embed);

//# sourceURL=webpack://Quill/./blots/embed.js?`)},"./blots/inline.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./break */ "./blots/break.js");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text */ "./blots/text.js");




class Inline extends parchment__WEBPACK_IMPORTED_MODULE_0__["InlineBlot"] {
  static compare(self, other) {
    const selfIndex = Inline.order.indexOf(self);
    const otherIndex = Inline.order.indexOf(other);

    if (selfIndex >= 0 || otherIndex >= 0) {
      return selfIndex - otherIndex;
    }

    if (self === other) {
      return 0;
    }

    if (self < other) {
      return -1;
    }

    return 1;
  }

  formatAt(index, length, name, value) {
    if (Inline.compare(this.statics.blotName, name) < 0 && this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOT)) {
      const blot = this.isolate(index, length);

      if (value) {
        blot.wrap(name, value);
      }
    } else {
      super.formatAt(index, length, name, value);
    }
  }

  optimize(context) {
    super.optimize(context);

    if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {
      const parent = this.parent.isolate(this.offset(), this.length());
      this.moveChildren(parent);
      parent.wrap(this);
    }
  }

}

Inline.allowedChildren = [Inline, _break__WEBPACK_IMPORTED_MODULE_1__["default"], parchment__WEBPACK_IMPORTED_MODULE_0__["EmbedBlot"], _text__WEBPACK_IMPORTED_MODULE_2__["default"]]; // Lower index means deeper in the DOM tree, since not found (-1) is for embeds

Inline.order = ['cursor', 'inline', // Must be lower
'link', // Chrome wants <a> to be lower
'underline', 'strike', 'italic', 'bold', 'script', 'code' // Must be higher
];
/* harmony default export */ __webpack_exports__["default"] = (Inline);

//# sourceURL=webpack://Quill/./blots/inline.js?`)},"./blots/scroll.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ "./core/emitter.js");
/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block */ "./blots/block.js");
/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./break */ "./blots/break.js");
/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./container */ "./blots/container.js");






function isLine(blot) {
  return blot instanceof _block__WEBPACK_IMPORTED_MODULE_2__["default"] || blot instanceof _block__WEBPACK_IMPORTED_MODULE_2__["BlockEmbed"];
}

class Scroll extends parchment__WEBPACK_IMPORTED_MODULE_0__["ScrollBlot"] {
  constructor(registry, domNode, {
    emitter
  }) {
    super(registry, domNode);
    this.emitter = emitter;
    this.batch = false;
    this.optimize();
    this.enable();
    this.domNode.addEventListener('dragstart', e => this.handleDragStart(e));
  }

  batchStart() {
    if (!Array.isArray(this.batch)) {
      this.batch = [];
    }
  }

  batchEnd() {
    const mutations = this.batch;
    this.batch = false;
    this.update(mutations);
  }

  emitMount(blot) {
    this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_BLOT_MOUNT, blot);
  }

  emitUnmount(blot) {
    this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_BLOT_UNMOUNT, blot);
  }

  deleteAt(index, length) {
    const [first, offset] = this.line(index);
    const [last] = this.line(index + length);
    super.deleteAt(index, length);

    if (last != null && first !== last && offset > 0) {
      if (first instanceof _block__WEBPACK_IMPORTED_MODULE_2__["BlockEmbed"] || last instanceof _block__WEBPACK_IMPORTED_MODULE_2__["BlockEmbed"]) {
        this.optimize();
        return;
      }

      const ref = last.children.head instanceof _break__WEBPACK_IMPORTED_MODULE_3__["default"] ? null : last.children.head;
      first.moveChildren(last, ref);
      first.remove();
    }

    this.optimize();
  }

  enable(enabled = true) {
    this.domNode.setAttribute('contenteditable', enabled);
  }

  formatAt(index, length, format, value) {
    super.formatAt(index, length, format, value);
    this.optimize();
  }

  handleDragStart(event) {
    event.preventDefault();
  }

  insertAt(index, value, def) {
    if (index >= this.length()) {
      if (def == null || this.scroll.query(value, parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK) == null) {
        const blot = this.scroll.create(this.statics.defaultChild.blotName);
        this.appendChild(blot);

        if (def == null && value.endsWith('\\n')) {
          blot.insertAt(0, value.slice(0, -1), def);
        } else {
          blot.insertAt(0, value, def);
        }
      } else {
        const embed = this.scroll.create(value, def);
        this.appendChild(embed);
      }
    } else {
      super.insertAt(index, value, def);
    }

    this.optimize();
  }

  insertBefore(blot, ref) {
    if (blot.statics.scope === parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE_BLOT) {
      const wrapper = this.scroll.create(this.statics.defaultChild.blotName);
      wrapper.appendChild(blot);
      super.insertBefore(wrapper, ref);
    } else {
      super.insertBefore(blot, ref);
    }
  }

  isEnabled() {
    return this.domNode.getAttribute('contenteditable') === 'true';
  }

  leaf(index) {
    return this.path(index).pop() || [null, -1];
  }

  line(index) {
    if (index === this.length()) {
      return this.line(index - 1);
    }

    return this.descendant(isLine, index);
  }

  lines(index = 0, length = Number.MAX_VALUE) {
    const getLines = (blot, blotIndex, blotLength) => {
      let lines = [];
      let lengthLeft = blotLength;
      blot.children.forEachAt(blotIndex, blotLength, (child, childIndex, childLength) => {
        if (isLine(child)) {
          lines.push(child);
        } else if (child instanceof parchment__WEBPACK_IMPORTED_MODULE_0__["ContainerBlot"]) {
          lines = lines.concat(getLines(child, childIndex, lengthLeft));
        }

        lengthLeft -= childLength;
      });
      return lines;
    };

    return getLines(this, index, length);
  }

  optimize(mutations = [], context = {}) {
    if (this.batch) return;
    super.optimize(mutations, context);

    if (mutations.length > 0) {
      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_OPTIMIZE, mutations, context);
    }
  }

  path(index) {
    return super.path(index).slice(1); // Exclude self
  }

  remove() {// Never remove self
  }

  update(mutations) {
    if (this.batch) {
      if (Array.isArray(mutations)) {
        this.batch = this.batch.concat(mutations);
      }

      return;
    }

    let source = _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER;

    if (typeof mutations === 'string') {
      source = mutations;
    }

    if (!Array.isArray(mutations)) {
      mutations = this.observer.takeRecords();
    }

    if (mutations.length > 0) {
      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_BEFORE_UPDATE, source, mutations);
    }

    super.update(mutations.concat([])); // pass copy

    if (mutations.length > 0) {
      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_UPDATE, source, mutations);
    }
  }

}

Scroll.blotName = 'scroll';
Scroll.className = 'ql-editor';
Scroll.tagName = 'DIV';
Scroll.defaultChild = _block__WEBPACK_IMPORTED_MODULE_2__["default"];
Scroll.allowedChildren = [_block__WEBPACK_IMPORTED_MODULE_2__["default"], _block__WEBPACK_IMPORTED_MODULE_2__["BlockEmbed"], _container__WEBPACK_IMPORTED_MODULE_4__["default"]];
/* harmony default export */ __webpack_exports__["default"] = (Scroll);

//# sourceURL=webpack://Quill/./blots/scroll.js?`)},"./blots/text.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Text; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "escapeText", function() { return escapeText; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");


class Text extends parchment__WEBPACK_IMPORTED_MODULE_0__["TextBlot"] {}

function escapeText(text) {
  return text.replace(/[&<>"']/g, s => {
    // https://lodash.com/docs#escape
    const entityMap = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };
    return entityMap[s];
  });
}



//# sourceURL=webpack://Quill/./blots/text.js?`)},"./core.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/quill */ "./core/quill.js");
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blots/block */ "./blots/block.js");
/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blots/break */ "./blots/break.js");
/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blots/container */ "./blots/container.js");
/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blots/cursor */ "./blots/cursor.js");
/* harmony import */ var _blots_embed__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blots/embed */ "./blots/embed.js");
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blots/inline */ "./blots/inline.js");
/* harmony import */ var _blots_scroll__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blots/scroll */ "./blots/scroll.js");
/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./blots/text */ "./blots/text.js");
/* harmony import */ var _modules_clipboard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/clipboard */ "./modules/clipboard.js");
/* harmony import */ var _modules_history__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/history */ "./modules/history.js");
/* harmony import */ var _modules_keyboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/keyboard */ "./modules/keyboard.js");
/* harmony import */ var _modules_uploader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/uploader */ "./modules/uploader.js");













_core_quill__WEBPACK_IMPORTED_MODULE_0__["default"].register({
  'blots/block': _blots_block__WEBPACK_IMPORTED_MODULE_1__["default"],
  'blots/block/embed': _blots_block__WEBPACK_IMPORTED_MODULE_1__["BlockEmbed"],
  'blots/break': _blots_break__WEBPACK_IMPORTED_MODULE_2__["default"],
  'blots/container': _blots_container__WEBPACK_IMPORTED_MODULE_3__["default"],
  'blots/cursor': _blots_cursor__WEBPACK_IMPORTED_MODULE_4__["default"],
  'blots/embed': _blots_embed__WEBPACK_IMPORTED_MODULE_5__["default"],
  'blots/inline': _blots_inline__WEBPACK_IMPORTED_MODULE_6__["default"],
  'blots/scroll': _blots_scroll__WEBPACK_IMPORTED_MODULE_7__["default"],
  'blots/text': _blots_text__WEBPACK_IMPORTED_MODULE_8__["default"],
  'modules/clipboard': _modules_clipboard__WEBPACK_IMPORTED_MODULE_9__["default"],
  'modules/history': _modules_history__WEBPACK_IMPORTED_MODULE_10__["default"],
  'modules/keyboard': _modules_keyboard__WEBPACK_IMPORTED_MODULE_11__["default"],
  'modules/uploader': _modules_uploader__WEBPACK_IMPORTED_MODULE_12__["default"]
});
/* harmony default export */ __webpack_exports__["default"] = (_core_quill__WEBPACK_IMPORTED_MODULE_0__["default"]);

//# sourceURL=webpack://Quill/./core.js?`)},"./core/editor.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clone */ "./node_modules/clone/clone.js");
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deep-equal */ "./node_modules/deep-equal/index.js");
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./selection */ "./core/selection.js");
/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../blots/cursor */ "./blots/cursor.js");
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../blots/break */ "./blots/break.js");
/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../blots/text */ "./blots/text.js");










const ASCII = /^[ -~]*$/;

class Editor {
  constructor(scroll) {
    this.scroll = scroll;
    this.delta = this.getDelta();
  }

  applyDelta(delta) {
    let consumeNextNewline = false;
    this.scroll.update();
    let scrollLength = this.scroll.length();
    this.scroll.batchStart();
    const normalizedDelta = normalizeDelta(delta);
    normalizedDelta.reduce((index, op) => {
      const length = op.retain || op.delete || op.insert.length || 1;
      let attributes = op.attributes || {};

      if (op.insert != null) {
        if (typeof op.insert === 'string') {
          let text = op.insert;

          if (text.endsWith('\\n') && consumeNextNewline) {
            consumeNextNewline = false;
            text = text.slice(0, -1);
          }

          if ((index >= scrollLength || this.scroll.descendant(_blots_block__WEBPACK_IMPORTED_MODULE_7__["BlockEmbed"], index)[0]) && !text.endsWith('\\n')) {
            consumeNextNewline = true;
          }

          this.scroll.insertAt(index, text);
          const [line, offset] = this.scroll.line(index);
          let formats = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__["bubbleFormats"])(line));

          if (line instanceof _blots_block__WEBPACK_IMPORTED_MODULE_7__["default"]) {
            const [leaf] = line.descendant(parchment__WEBPACK_IMPORTED_MODULE_4__["LeafBlot"], offset);
            formats = extend__WEBPACK_IMPORTED_MODULE_2___default()(formats, Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__["bubbleFormats"])(leaf));
          }

          attributes = quill_delta__WEBPACK_IMPORTED_MODULE_3__["AttributeMap"].diff(formats, attributes) || {};
        } else if (typeof op.insert === 'object') {
          const key = Object.keys(op.insert)[0]; // There should only be one key

          if (key == null) return index;
          this.scroll.insertAt(index, key, op.insert[key]);
        }

        scrollLength += length;
      }

      Object.keys(attributes).forEach(name => {
        this.scroll.formatAt(index, length, name, attributes[name]);
      });
      return index + length;
    }, 0);
    normalizedDelta.reduce((index, op) => {
      if (typeof op.delete === 'number') {
        this.scroll.deleteAt(index, op.delete);
        return index;
      }

      return index + (op.retain || op.insert.length || 1);
    }, 0);
    this.scroll.batchEnd();
    this.scroll.optimize();
    return this.update(normalizedDelta);
  }

  deleteText(index, length) {
    this.scroll.deleteAt(index, length);
    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).delete(length));
  }

  formatLine(index, length, formats = {}) {
    this.scroll.update();
    Object.keys(formats).forEach(format => {
      this.scroll.lines(index, Math.max(length, 1)).forEach(line => {
        line.format(format, formats[format]);
      });
    });
    this.scroll.optimize();
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).retain(length, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats));
    return this.update(delta);
  }

  formatText(index, length, formats = {}) {
    Object.keys(formats).forEach(format => {
      this.scroll.formatAt(index, length, format, formats[format]);
    });
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).retain(length, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats));
    return this.update(delta);
  }

  getContents(index, length) {
    return this.delta.slice(index, index + length);
  }

  getDelta() {
    return this.scroll.lines().reduce((delta, line) => {
      return delta.concat(line.delta());
    }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());
  }

  getFormat(index, length = 0) {
    let lines = [];
    let leaves = [];

    if (length === 0) {
      this.scroll.path(index).forEach(path => {
        const [blot] = path;

        if (blot instanceof _blots_block__WEBPACK_IMPORTED_MODULE_7__["default"]) {
          lines.push(blot);
        } else if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_4__["LeafBlot"]) {
          leaves.push(blot);
        }
      });
    } else {
      lines = this.scroll.lines(index, length);
      leaves = this.scroll.descendants(parchment__WEBPACK_IMPORTED_MODULE_4__["LeafBlot"], index, length);
    }

    const formatsArr = [lines, leaves].map(blots => {
      if (blots.length === 0) return {};
      let formats = Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__["bubbleFormats"])(blots.shift());

      while (Object.keys(formats).length > 0) {
        const blot = blots.shift();
        if (blot == null) return formats;
        formats = combineFormats(Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__["bubbleFormats"])(blot), formats);
      }

      return formats;
    });
    return extend__WEBPACK_IMPORTED_MODULE_2___default.a.apply(extend__WEBPACK_IMPORTED_MODULE_2___default.a, formatsArr);
  }

  getHTML(index, length) {
    const [line, lineOffset] = this.scroll.line(index);

    if (line.length() >= lineOffset + length) {
      return convertHTML(line, lineOffset, length, true);
    }

    return convertHTML(this.scroll, index, length, true);
  }

  getText(index, length) {
    return this.getContents(index, length).filter(op => typeof op.insert === 'string').map(op => op.insert).join('');
  }

  insertEmbed(index, embed, value) {
    this.scroll.insertAt(index, embed, value);
    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert({
      [embed]: value
    }));
  }

  insertText(index, text, formats = {}) {
    text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');
    this.scroll.insertAt(index, text);
    Object.keys(formats).forEach(format => {
      this.scroll.formatAt(index, text.length, format, formats[format]);
    });
    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert(text, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats)));
  }

  isBlank() {
    if (this.scroll.children.length === 0) return true;
    if (this.scroll.children.length > 1) return false;
    const block = this.scroll.children.head;
    if (block.statics.blotName !== _blots_block__WEBPACK_IMPORTED_MODULE_7__["default"].blotName) return false;
    if (block.children.length > 1) return false;
    return block.children.head instanceof _blots_break__WEBPACK_IMPORTED_MODULE_8__["default"];
  }

  removeFormat(index, length) {
    const text = this.getText(index, length);
    const [line, offset] = this.scroll.line(index + length);
    let suffixLength = 0;
    let suffix = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a();

    if (line != null) {
      suffixLength = line.length() - offset;
      suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');
    }

    const contents = this.getContents(index, length + suffixLength);
    const diff = contents.diff(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(text).concat(suffix));
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).concat(diff);
    return this.applyDelta(delta);
  }

  update(change, mutations = [], selectionInfo = undefined) {
    const oldDelta = this.delta;

    if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && this.scroll.find(mutations[0].target)) {
      // Optimization for character changes
      const textBlot = this.scroll.find(mutations[0].target);
      const formats = Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__["bubbleFormats"])(textBlot);
      const index = textBlot.offset(this.scroll);
      const oldValue = mutations[0].oldValue.replace(_blots_cursor__WEBPACK_IMPORTED_MODULE_6__["default"].CONTENTS, '');
      const oldText = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(oldValue);
      const newText = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(textBlot.value());
      const relativeSelectionInfo = selectionInfo && {
        oldRange: shiftRange(selectionInfo.oldRange, -index),
        newRange: shiftRange(selectionInfo.newRange, -index)
      };
      const diffDelta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).concat(oldText.diff(newText, relativeSelectionInfo));
      change = diffDelta.reduce((delta, op) => {
        if (op.insert) {
          return delta.insert(op.insert, formats);
        }

        return delta.push(op);
      }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());
      this.delta = oldDelta.compose(change);
    } else {
      this.delta = this.getDelta();

      if (!change || !deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(oldDelta.compose(change), this.delta)) {
        change = oldDelta.diff(this.delta, selectionInfo);
      }
    }

    return change;
  }

}

function convertListHTML(items, lastIndent, types) {
  if (items.length === 0) {
    const [endTag] = getListType(types.pop());

    if (lastIndent <= 0) {
      return "</li></".concat(endTag, ">");
    }

    return "</li></".concat(endTag, ">").concat(convertListHTML([], lastIndent - 1, types));
  }

  const [{
    child,
    offset,
    length,
    indent,
    type
  }, ...rest] = items;
  const [tag, attribute] = getListType(type);

  if (indent > lastIndent) {
    types.push(type);

    if (indent === lastIndent + 1) {
      return "<".concat(tag, "><li").concat(attribute, ">").concat(convertHTML(child, offset, length)).concat(convertListHTML(rest, indent, types));
    }

    return "<".concat(tag, "><li>").concat(convertListHTML(items, lastIndent + 1, types));
  }

  const previousType = types[types.length - 1];

  if (indent === lastIndent && type === previousType) {
    return "</li><li".concat(attribute, ">").concat(convertHTML(child, offset, length)).concat(convertListHTML(rest, indent, types));
  }

  const [endTag] = getListType(types.pop());
  return "</li></".concat(endTag, ">").concat(convertListHTML(items, lastIndent - 1, types));
}

function convertHTML(blot, index, length, isRoot = false) {
  if (typeof blot.html === 'function') {
    return blot.html(index, length);
  }

  if (blot instanceof _blots_text__WEBPACK_IMPORTED_MODULE_9__["default"]) {
    return Object(_blots_text__WEBPACK_IMPORTED_MODULE_9__["escapeText"])(blot.value().slice(index, index + length));
  }

  if (blot.children) {
    // TODO fix API
    if (blot.statics.blotName === 'list-container') {
      const items = [];
      blot.children.forEachAt(index, length, (child, offset, childLength) => {
        const formats = child.formats();
        items.push({
          child,
          offset,
          length: childLength,
          indent: formats.indent || 0,
          type: formats.list
        });
      });
      return convertListHTML(items, -1, []);
    }

    const parts = [];
    blot.children.forEachAt(index, length, (child, offset, childLength) => {
      parts.push(convertHTML(child, offset, childLength));
    });

    if (isRoot || blot.statics.blotName === 'list') {
      return parts.join('');
    }

    const {
      outerHTML,
      innerHTML
    } = blot.domNode;
    const [start, end] = outerHTML.split(">".concat(innerHTML, "<")); // TODO cleanup

    if (start === '<table') {
      return "<table style=\\"border: 1px solid #000;\\">".concat(parts.join(''), "<").concat(end);
    }

    return "".concat(start, ">").concat(parts.join(''), "<").concat(end);
  }

  return blot.domNode.outerHTML;
}

function combineFormats(formats, combined) {
  return Object.keys(combined).reduce((merged, name) => {
    if (formats[name] == null) return merged;

    if (combined[name] === formats[name]) {
      merged[name] = combined[name];
    } else if (Array.isArray(combined[name])) {
      if (combined[name].indexOf(formats[name]) < 0) {
        merged[name] = combined[name].concat([formats[name]]);
      }
    } else {
      merged[name] = [combined[name], formats[name]];
    }

    return merged;
  }, {});
}

function getListType(type) {
  const tag = type === 'ordered' ? 'ol' : 'ul';

  switch (type) {
    case 'checked':
      return [tag, ' data-list="checked"'];

    case 'unchecked':
      return [tag, ' data-list="unchecked"'];

    default:
      return [tag, ''];
  }
}

function normalizeDelta(delta) {
  return delta.reduce((normalizedDelta, op) => {
    if (typeof op.insert === 'string') {
      const text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');
      return normalizedDelta.insert(text, op.attributes);
    }

    return normalizedDelta.push(op);
  }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());
}

function shiftRange({
  index,
  length
}, amount) {
  return new _selection__WEBPACK_IMPORTED_MODULE_5__["Range"](index + amount, length);
}

/* harmony default export */ __webpack_exports__["default"] = (Editor);

//# sourceURL=webpack://Quill/./core/editor.js?`)},"./core/emitter.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ "./node_modules/eventemitter3/index.js");
/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _instances__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instances */ "./core/instances.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ "./core/logger.js");



const debug = Object(_logger__WEBPACK_IMPORTED_MODULE_2__["default"])('quill:events');
const EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];
EVENTS.forEach(eventName => {
  document.addEventListener(eventName, (...args) => {
    Array.from(document.querySelectorAll('.ql-container')).forEach(node => {
      const quill = _instances__WEBPACK_IMPORTED_MODULE_1__["default"].get(node);

      if (quill && quill.emitter) {
        quill.emitter.handleDOM(...args);
      }
    });
  });
});

class Emitter extends eventemitter3__WEBPACK_IMPORTED_MODULE_0___default.a {
  constructor() {
    super();
    this.listeners = {};
    this.on('error', debug.error);
  }

  emit(...args) {
    debug.log.call(debug, ...args);
    super.emit(...args);
  }

  handleDOM(event, ...args) {
    (this.listeners[event.type] || []).forEach(({
      node,
      handler
    }) => {
      if (event.target === node || node.contains(event.target)) {
        handler(event, ...args);
      }
    });
  }

  listenDOM(eventName, node, handler) {
    if (!this.listeners[eventName]) {
      this.listeners[eventName] = [];
    }

    this.listeners[eventName].push({
      node,
      handler
    });
  }

}

Emitter.events = {
  EDITOR_CHANGE: 'editor-change',
  SCROLL_BEFORE_UPDATE: 'scroll-before-update',
  SCROLL_BLOT_MOUNT: 'scroll-blot-mount',
  SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',
  SCROLL_OPTIMIZE: 'scroll-optimize',
  SCROLL_UPDATE: 'scroll-update',
  SELECTION_CHANGE: 'selection-change',
  TEXT_CHANGE: 'text-change'
};
Emitter.sources = {
  API: 'api',
  SILENT: 'silent',
  USER: 'user'
};
/* harmony default export */ __webpack_exports__["default"] = (Emitter);

//# sourceURL=webpack://Quill/./core/emitter.js?`)},"./core/instances.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (new WeakMap());

//# sourceURL=webpack://Quill/./core/instances.js?`)},"./core/logger.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
const levels = ['error', 'warn', 'log', 'info'];
let level = 'warn';

function debug(method, ...args) {
  if (levels.indexOf(method) <= levels.indexOf(level)) {
    console[method](...args); // eslint-disable-line no-console
  }
}

function namespace(ns) {
  return levels.reduce((logger, method) => {
    logger[method] = debug.bind(console, method, ns);
    return logger;
  }, {});
}

namespace.level = newLevel => {
  level = newLevel;
};

debug.level = namespace.level;
/* harmony default export */ __webpack_exports__["default"] = (namespace);

//# sourceURL=webpack://Quill/./core/logger.js?`)},"./core/module.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
class Module {
  constructor(quill, options = {}) {
    this.quill = quill;
    this.options = options;
  }

}

Module.DEFAULTS = {};
/* harmony default export */ __webpack_exports__["default"] = (Module);

//# sourceURL=webpack://Quill/./core/module.js?`)},"./core/quill.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "globalRegistry", function() { return globalRegistry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expandConfig", function() { return expandConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overload", function() { return overload; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Quill; });
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor */ "./core/editor.js");
/* harmony import */ var _emitter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./emitter */ "./core/emitter.js");
/* harmony import */ var _module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module */ "./core/module.js");
/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./selection */ "./core/selection.js");
/* harmony import */ var _instances__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./instances */ "./core/instances.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./logger */ "./core/logger.js");
/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./theme */ "./core/theme.js");










const debug = Object(_logger__WEBPACK_IMPORTED_MODULE_8__["default"])('quill');
const globalRegistry = new parchment__WEBPACK_IMPORTED_MODULE_1__["Registry"]();
parchment__WEBPACK_IMPORTED_MODULE_1__["ParentBlot"].uiClass = 'ql-ui';

class Quill {
  static debug(limit) {
    if (limit === true) {
      limit = 'log';
    }

    _logger__WEBPACK_IMPORTED_MODULE_8__["default"].level(limit);
  }

  static find(node) {
    return _instances__WEBPACK_IMPORTED_MODULE_7__["default"].get(node) || globalRegistry.find(node);
  }

  static import(name) {
    if (this.imports[name] == null) {
      debug.error("Cannot import ".concat(name, ". Are you sure it was registered?"));
    }

    return this.imports[name];
  }

  static register(path, target, overwrite = false) {
    if (typeof path !== 'string') {
      const name = path.attrName || path.blotName;

      if (typeof name === 'string') {
        // register(Blot | Attributor, overwrite)
        this.register("formats/".concat(name), path, target);
      } else {
        Object.keys(path).forEach(key => {
          this.register(key, path[key], target);
        });
      }
    } else {
      if (this.imports[path] != null && !overwrite) {
        debug.warn("Overwriting ".concat(path, " with"), target);
      }

      this.imports[path] = target;

      if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {
        globalRegistry.register(target);
      }

      if (typeof target.register === 'function') {
        target.register(globalRegistry);
      }
    }
  }

  constructor(container, options = {}) {
    this.options = expandConfig(container, options);
    this.container = this.options.container;

    if (this.container == null) {
      return debug.error('Invalid Quill container', container);
    }

    if (this.options.debug) {
      Quill.debug(this.options.debug);
    }

    const html = this.container.innerHTML.trim();
    this.container.classList.add('ql-container');
    this.container.innerHTML = '';
    _instances__WEBPACK_IMPORTED_MODULE_7__["default"].set(this.container, this);
    this.root = this.addContainer('ql-editor');
    this.root.classList.add('ql-blank');
    this.root.setAttribute('data-gramm', false);
    this.scrollingContainer = this.options.scrollingContainer || this.root;
    this.emitter = new _emitter__WEBPACK_IMPORTED_MODULE_4__["default"]();
    const ScrollBlot = this.options.registry.query(parchment__WEBPACK_IMPORTED_MODULE_1__["ScrollBlot"].blotName);
    this.scroll = new ScrollBlot(this.options.registry, this.root, {
      emitter: this.emitter
    });
    this.editor = new _editor__WEBPACK_IMPORTED_MODULE_3__["default"](this.scroll);
    this.selection = new _selection__WEBPACK_IMPORTED_MODULE_6__["default"](this.scroll, this.emitter);
    this.theme = new this.options.theme(this, this.options); // eslint-disable-line new-cap

    this.keyboard = this.theme.addModule('keyboard');
    this.clipboard = this.theme.addModule('clipboard');
    this.history = this.theme.addModule('history');
    this.uploader = this.theme.addModule('uploader');
    this.theme.init();
    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events.EDITOR_CHANGE, type => {
      if (type === _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events.TEXT_CHANGE) {
        this.root.classList.toggle('ql-blank', this.editor.isBlank());
      }
    });
    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events.SCROLL_UPDATE, (source, mutations) => {
      const oldRange = this.selection.lastRange;
      const [newRange] = this.selection.getRange();
      const selectionInfo = oldRange && newRange ? {
        oldRange,
        newRange
      } : undefined;
      modify.call(this, () => this.editor.update(null, mutations, selectionInfo), source);
    });
    const contents = this.clipboard.convert({
      html: "".concat(html, "<p><br></p>"),
      text: '\\n'
    });
    this.setContents(contents);
    this.history.clear();

    if (this.options.placeholder) {
      this.root.setAttribute('data-placeholder', this.options.placeholder);
    }

    if (this.options.readOnly) {
      this.disable();
    }

    this.allowReadOnlyEdits = false;
  }

  addContainer(container, refNode = null) {
    if (typeof container === 'string') {
      const className = container;
      container = document.createElement('div');
      container.classList.add(className);
    }

    this.container.insertBefore(container, refNode);
    return container;
  }

  blur() {
    this.selection.setRange(null);
  }

  deleteText(index, length, source) {
    [index, length,, source] = overload(index, length, source);
    return modify.call(this, () => {
      return this.editor.deleteText(index, length);
    }, source, index, -1 * length);
  }

  disable() {
    this.enable(false);
  }

  editReadOnly(modifier) {
    this.allowReadOnlyEdits = true;
    const value = modifier();
    this.allowReadOnlyEdits = false;
    return value;
  }

  enable(enabled = true) {
    this.scroll.enable(enabled);
    this.container.classList.toggle('ql-disabled', !enabled);
  }

  focus() {
    const {
      scrollTop
    } = this.scrollingContainer;
    this.selection.focus();
    this.scrollingContainer.scrollTop = scrollTop;
    this.scrollIntoView();
  }

  format(name, value, source = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API) {
    return modify.call(this, () => {
      const range = this.getSelection(true);
      let change = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a();
      if (range == null) return change;

      if (this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_1__["Scope"].BLOCK)) {
        change = this.editor.formatLine(range.index, range.length, {
          [name]: value
        });
      } else if (range.length === 0) {
        this.selection.format(name, value);
        return change;
      } else {
        change = this.editor.formatText(range.index, range.length, {
          [name]: value
        });
      }

      this.setSelection(range, _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT);
      return change;
    }, source);
  }

  formatLine(index, length, name, value, source) {
    let formats; // eslint-disable-next-line prefer-const

    [index, length, formats, source] = overload(index, length, name, value, source);
    return modify.call(this, () => {
      return this.editor.formatLine(index, length, formats);
    }, source, index, 0);
  }

  formatText(index, length, name, value, source) {
    let formats; // eslint-disable-next-line prefer-const

    [index, length, formats, source] = overload(index, length, name, value, source);
    return modify.call(this, () => {
      return this.editor.formatText(index, length, formats);
    }, source, index, 0);
  }

  getBounds(index, length = 0) {
    let bounds;

    if (typeof index === 'number') {
      bounds = this.selection.getBounds(index, length);
    } else {
      bounds = this.selection.getBounds(index.index, index.length);
    }

    const containerBounds = this.container.getBoundingClientRect();
    return {
      bottom: bounds.bottom - containerBounds.top,
      height: bounds.height,
      left: bounds.left - containerBounds.left,
      right: bounds.right - containerBounds.left,
      top: bounds.top - containerBounds.top,
      width: bounds.width
    };
  }

  getContents(index = 0, length = this.getLength() - index) {
    [index, length] = overload(index, length);
    return this.editor.getContents(index, length);
  }

  getFormat(index = this.getSelection(true), length = 0) {
    if (typeof index === 'number') {
      return this.editor.getFormat(index, length);
    }

    return this.editor.getFormat(index.index, index.length);
  }

  getIndex(blot) {
    return blot.offset(this.scroll);
  }

  getLength() {
    return this.scroll.length();
  }

  getLeaf(index) {
    return this.scroll.leaf(index);
  }

  getLine(index) {
    return this.scroll.line(index);
  }

  getLines(index = 0, length = Number.MAX_VALUE) {
    if (typeof index !== 'number') {
      return this.scroll.lines(index.index, index.length);
    }

    return this.scroll.lines(index, length);
  }

  getModule(name) {
    return this.theme.modules[name];
  }

  getSelection(focus = false) {
    if (focus) this.focus();
    this.update(); // Make sure we access getRange with editor in consistent state

    return this.selection.getRange()[0];
  }

  getSemanticHTML(index = 0, length = this.getLength() - index) {
    [index, length] = overload(index, length);
    return this.editor.getHTML(index, length);
  }

  getText(index = 0, length = this.getLength() - index) {
    [index, length] = overload(index, length);
    return this.editor.getText(index, length);
  }

  hasFocus() {
    return this.selection.hasFocus();
  }

  insertEmbed(index, embed, value, source = Quill.sources.API) {
    return modify.call(this, () => {
      return this.editor.insertEmbed(index, embed, value);
    }, source, index);
  }

  insertText(index, text, name, value, source) {
    let formats; // eslint-disable-next-line prefer-const

    [index,, formats, source] = overload(index, 0, name, value, source);
    return modify.call(this, () => {
      return this.editor.insertText(index, text, formats);
    }, source, index, text.length);
  }

  isEnabled() {
    return this.scroll.isEnabled();
  }

  off(...args) {
    return this.emitter.off(...args);
  }

  on(...args) {
    return this.emitter.on(...args);
  }

  once(...args) {
    return this.emitter.once(...args);
  }

  removeFormat(index, length, source) {
    [index, length,, source] = overload(index, length, source);
    return modify.call(this, () => {
      return this.editor.removeFormat(index, length);
    }, source, index);
  }

  scrollIntoView() {
    this.selection.scrollIntoView(this.scrollingContainer);
  }

  setContents(delta, source = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API) {
    return modify.call(this, () => {
      delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a(delta);
      const length = this.getLength();
      const deleted = this.editor.deleteText(0, length);
      const applied = this.editor.applyDelta(delta);
      const lastOp = applied.ops[applied.ops.length - 1];

      if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {
        this.editor.deleteText(this.getLength() - 1, 1);
        applied.delete(1);
      }

      return deleted.compose(applied);
    }, source);
  }

  setSelection(index, length, source) {
    if (index == null) {
      this.selection.setRange(null, length || Quill.sources.API);
    } else {
      [index, length,, source] = overload(index, length, source);
      this.selection.setRange(new _selection__WEBPACK_IMPORTED_MODULE_6__["Range"](Math.max(0, index), length), source);

      if (source !== _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT) {
        this.selection.scrollIntoView(this.scrollingContainer);
      }
    }
  }

  setText(text, source = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API) {
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().insert(text);
    return this.setContents(delta, source);
  }

  update(source = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER) {
    const change = this.scroll.update(source); // Will update selection before selection.update() does if text changes

    this.selection.update(source); // TODO this is usually undefined

    return change;
  }

  updateContents(delta, source = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API) {
    return modify.call(this, () => {
      delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a(delta);
      return this.editor.applyDelta(delta, source);
    }, source, true);
  }

}

Quill.DEFAULTS = {
  bounds: null,
  modules: {},
  placeholder: '',
  readOnly: false,
  registry: globalRegistry,
  scrollingContainer: null,
  theme: 'default'
};
Quill.events = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events;
Quill.sources = _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources; // eslint-disable-next-line no-undef

Quill.version =  false ? undefined : "2.0.0-dev.3";
Quill.imports = {
  delta: quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a,
  parchment: parchment__WEBPACK_IMPORTED_MODULE_1__,
  'core/module': _module__WEBPACK_IMPORTED_MODULE_5__["default"],
  'core/theme': _theme__WEBPACK_IMPORTED_MODULE_9__["default"]
};

function expandConfig(container, userConfig) {
  userConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {
    container,
    modules: {
      clipboard: true,
      keyboard: true,
      history: true,
      uploader: true
    }
  }, userConfig);

  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {
    userConfig.theme = _theme__WEBPACK_IMPORTED_MODULE_9__["default"];
  } else {
    userConfig.theme = Quill.import("themes/".concat(userConfig.theme));

    if (userConfig.theme == null) {
      throw new Error("Invalid theme ".concat(userConfig.theme, ". Did you register it?"));
    }
  }

  const themeConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {}, userConfig.theme.DEFAULTS);
  [themeConfig, userConfig].forEach(config => {
    config.modules = config.modules || {};
    Object.keys(config.modules).forEach(module => {
      if (config.modules[module] === true) {
        config.modules[module] = {};
      }
    });
  });
  const moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));
  const moduleConfig = moduleNames.reduce((config, name) => {
    const moduleClass = Quill.import("modules/".concat(name));

    if (moduleClass == null) {
      debug.error("Cannot load ".concat(name, " module. Are you sure you registered it?"));
    } else {
      config[name] = moduleClass.DEFAULTS || {};
    }

    return config;
  }, {}); // Special case toolbar shorthand

  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {
    userConfig.modules.toolbar = {
      container: userConfig.modules.toolbar
    };
  }

  userConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {}, Quill.DEFAULTS, {
    modules: moduleConfig
  }, themeConfig, userConfig);
  ['bounds', 'container', 'scrollingContainer'].forEach(key => {
    if (typeof userConfig[key] === 'string') {
      userConfig[key] = document.querySelector(userConfig[key]);
    }
  });
  userConfig.modules = Object.keys(userConfig.modules).reduce((config, name) => {
    if (userConfig.modules[name]) {
      config[name] = userConfig.modules[name];
    }

    return config;
  }, {});
  return userConfig;
} // Handle selection preservation and TEXT_CHANGE emission
// common to modification APIs


function modify(modifier, source, index, shift) {
  if (!this.isEnabled() && source === _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER && !this.allowReadOnlyEdits) {
    return new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a();
  }

  let range = index == null ? null : this.getSelection();
  const oldDelta = this.editor.delta;
  const change = modifier();

  if (range != null) {
    if (index === true) {
      index = range.index; // eslint-disable-line prefer-destructuring
    }

    if (shift == null) {
      range = shiftRange(range, change, source);
    } else if (shift !== 0) {
      range = shiftRange(range, index, shift, source);
    }

    this.setSelection(range, _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT);
  }

  if (change.length() > 0) {
    const args = [_emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events.TEXT_CHANGE, change, oldDelta, source];
    this.emitter.emit(_emitter__WEBPACK_IMPORTED_MODULE_4__["default"].events.EDITOR_CHANGE, ...args);

    if (source !== _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT) {
      this.emitter.emit(...args);
    }
  }

  return change;
}

function overload(index, length, name, value, source) {
  let formats = {};

  if (typeof index.index === 'number' && typeof index.length === 'number') {
    // Allow for throwaway end (used by insertText/insertEmbed)
    if (typeof length !== 'number') {
      source = value;
      value = name;
      name = length;
      length = index.length; // eslint-disable-line prefer-destructuring

      index = index.index; // eslint-disable-line prefer-destructuring
    } else {
      length = index.length; // eslint-disable-line prefer-destructuring

      index = index.index; // eslint-disable-line prefer-destructuring
    }
  } else if (typeof length !== 'number') {
    source = value;
    value = name;
    name = length;
    length = 0;
  } // Handle format being object, two format name/value strings or excluded


  if (typeof name === 'object') {
    formats = name;
    source = value;
  } else if (typeof name === 'string') {
    if (value != null) {
      formats[name] = value;
    } else {
      source = name;
    }
  } // Handle optional source


  source = source || _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API;
  return [index, length, formats, source];
}

function shiftRange(range, index, length, source) {
  if (range == null) return null;
  let start;
  let end;

  if (index instanceof quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a) {
    [start, end] = [range.index, range.index + range.length].map(pos => index.transformPosition(pos, source !== _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER));
  } else {
    [start, end] = [range.index, range.index + range.length].map(pos => {
      if (pos < index || pos === index && source === _emitter__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER) return pos;

      if (length >= 0) {
        return pos + length;
      }

      return Math.max(index, pos + length);
    });
  }

  return new _selection__WEBPACK_IMPORTED_MODULE_6__["Range"](start, end - start);
}



//# sourceURL=webpack://Quill/./core/quill.js?`)},"./core/selection.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Range", function() { return Range; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Selection; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clone */ "./node_modules/clone/clone.js");
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deep-equal */ "./node_modules/deep-equal/index.js");
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _emitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./emitter */ "./core/emitter.js");
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */ "./core/logger.js");





const debug = Object(_logger__WEBPACK_IMPORTED_MODULE_4__["default"])('quill:selection');

class Range {
  constructor(index, length = 0) {
    this.index = index;
    this.length = length;
  }

}

class Selection {
  constructor(scroll, emitter) {
    this.emitter = emitter;
    this.scroll = scroll;
    this.composing = false;
    this.mouseDown = false;
    this.root = this.scroll.domNode;
    this.cursor = this.scroll.create('cursor', this); // savedRange is last non-null range

    this.savedRange = new Range(0, 0);
    this.lastRange = this.savedRange;
    this.lastNative = null;
    this.handleComposition();
    this.handleDragging();
    this.emitter.listenDOM('selectionchange', document, () => {
      if (!this.mouseDown && !this.composing) {
        setTimeout(this.update.bind(this, _emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.USER), 1);
      }
    });
    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].events.SCROLL_BEFORE_UPDATE, () => {
      if (!this.hasFocus()) return;
      const native = this.getNativeRange();
      if (native == null) return;
      if (native.start.node === this.cursor.textNode) return; // cursor.restore() will handle

      this.emitter.once(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].events.SCROLL_UPDATE, () => {
        try {
          if (this.root.contains(native.start.node) && this.root.contains(native.end.node)) {
            this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);
          }

          this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT);
        } catch (ignored) {// ignore
        }
      });
    });
    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].events.SCROLL_OPTIMIZE, (mutations, context) => {
      if (context.range) {
        const {
          startNode,
          startOffset,
          endNode,
          endOffset
        } = context.range;
        this.setNativeRange(startNode, startOffset, endNode, endOffset);
        this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT);
      }
    });
    this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT);
  }

  handleComposition() {
    this.root.addEventListener('compositionstart', () => {
      this.composing = true;
      this.scroll.batchStart();
    });
    this.root.addEventListener('compositionend', () => {
      this.scroll.batchEnd();
      this.composing = false;

      if (this.cursor.parent) {
        const range = this.cursor.restore();
        if (!range) return;
        setTimeout(() => {
          this.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);
        }, 1);
      }
    });
  }

  handleDragging() {
    this.emitter.listenDOM('mousedown', document.body, () => {
      this.mouseDown = true;
    });
    this.emitter.listenDOM('mouseup', document.body, () => {
      this.mouseDown = false;
      this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.USER);
    });
  }

  focus() {
    if (this.hasFocus()) return;
    this.root.focus();
    this.setRange(this.savedRange);
  }

  format(format, value) {
    this.scroll.update();
    const nativeRange = this.getNativeRange();
    if (nativeRange == null || !nativeRange.native.collapsed || this.scroll.query(format, parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK)) return;

    if (nativeRange.start.node !== this.cursor.textNode) {
      const blot = this.scroll.find(nativeRange.start.node, false);
      if (blot == null) return; // TODO Give blot ability to not split

      if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_0__["LeafBlot"]) {
        const after = blot.split(nativeRange.start.offset);
        blot.parent.insertBefore(this.cursor, after);
      } else {
        blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen
      }

      this.cursor.attach();
    }

    this.cursor.format(format, value);
    this.scroll.optimize();
    this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);
    this.update();
  }

  getBounds(index, length = 0) {
    const scrollLength = this.scroll.length();
    index = Math.min(index, scrollLength - 1);
    length = Math.min(index + length, scrollLength - 1) - index;
    let node;
    let [leaf, offset] = this.scroll.leaf(index);
    if (leaf == null) return null;
    [node, offset] = leaf.position(offset, true);
    const range = document.createRange();

    if (length > 0) {
      range.setStart(node, offset);
      [leaf, offset] = this.scroll.leaf(index + length);
      if (leaf == null) return null;
      [node, offset] = leaf.position(offset, true);
      range.setEnd(node, offset);
      return range.getBoundingClientRect();
    }

    let side = 'left';
    let rect;

    if (node instanceof Text) {
      if (offset < node.data.length) {
        range.setStart(node, offset);
        range.setEnd(node, offset + 1);
      } else {
        range.setStart(node, offset - 1);
        range.setEnd(node, offset);
        side = 'right';
      }

      rect = range.getBoundingClientRect();
    } else {
      rect = leaf.domNode.getBoundingClientRect();
      if (offset > 0) side = 'right';
    }

    return {
      bottom: rect.top + rect.height,
      height: rect.height,
      left: rect[side],
      right: rect[side],
      top: rect.top,
      width: 0
    };
  }

  getNativeRange() {
    const selection = document.getSelection();
    if (selection == null || selection.rangeCount <= 0) return null;
    const nativeRange = selection.getRangeAt(0);
    if (nativeRange == null) return null;
    const range = this.normalizeNative(nativeRange);
    debug.info('getNativeRange', range);
    return range;
  }

  getRange() {
    const normalized = this.getNativeRange();
    if (normalized == null) return [null, null];
    const range = this.normalizedToRange(normalized);
    return [range, normalized];
  }

  hasFocus() {
    return document.activeElement === this.root || contains(this.root, document.activeElement);
  }

  normalizedToRange(range) {
    const positions = [[range.start.node, range.start.offset]];

    if (!range.native.collapsed) {
      positions.push([range.end.node, range.end.offset]);
    }

    const indexes = positions.map(position => {
      const [node, offset] = position;
      const blot = this.scroll.find(node, true);
      const index = blot.offset(this.scroll);

      if (offset === 0) {
        return index;
      }

      if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_0__["LeafBlot"]) {
        return index + blot.index(node, offset);
      }

      return index + blot.length();
    });
    const end = Math.min(Math.max(...indexes), this.scroll.length() - 1);
    const start = Math.min(end, ...indexes);
    return new Range(start, end - start);
  }

  normalizeNative(nativeRange) {
    if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {
      return null;
    }

    const range = {
      start: {
        node: nativeRange.startContainer,
        offset: nativeRange.startOffset
      },
      end: {
        node: nativeRange.endContainer,
        offset: nativeRange.endOffset
      },
      native: nativeRange
    };
    [range.start, range.end].forEach(position => {
      let {
        node,
        offset
      } = position;

      while (!(node instanceof Text) && node.childNodes.length > 0) {
        if (node.childNodes.length > offset) {
          node = node.childNodes[offset];
          offset = 0;
        } else if (node.childNodes.length === offset) {
          node = node.lastChild;

          if (node instanceof Text) {
            offset = node.data.length;
          } else if (node.childNodes.length > 0) {
            // Container case
            offset = node.childNodes.length;
          } else {
            // Embed case
            offset = node.childNodes.length + 1;
          }
        } else {
          break;
        }
      }

      position.node = node;
      position.offset = offset;
    });
    return range;
  }

  rangeToNative(range) {
    const indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];
    const args = [];
    const scrollLength = this.scroll.length();
    indexes.forEach((index, i) => {
      index = Math.min(scrollLength - 1, index);
      const [leaf, leafOffset] = this.scroll.leaf(index);
      const [node, offset] = leaf.position(leafOffset, i !== 0);
      args.push(node, offset);
    });

    if (args.length < 2) {
      return args.concat(args);
    }

    return args;
  }

  scrollIntoView(scrollingContainer) {
    const range = this.lastRange;
    if (range == null) return;
    const bounds = this.getBounds(range.index, range.length);
    if (bounds == null) return;
    const limit = this.scroll.length() - 1;
    const [first] = this.scroll.line(Math.min(range.index, limit));
    let last = first;

    if (range.length > 0) {
      [last] = this.scroll.line(Math.min(range.index + range.length, limit));
    }

    if (first == null || last == null) return;
    const scrollBounds = scrollingContainer.getBoundingClientRect();

    if (bounds.top < scrollBounds.top) {
      scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;
    } else if (bounds.bottom > scrollBounds.bottom) {
      scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;
    }
  }

  setNativeRange(startNode, startOffset, endNode = startNode, endOffset = startOffset, force = false) {
    debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);

    if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {
      return;
    }

    const selection = document.getSelection();
    if (selection == null) return;

    if (startNode != null) {
      if (!this.hasFocus()) this.root.focus();
      const {
        native
      } = this.getNativeRange() || {};

      if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {
        if (startNode.tagName === 'BR') {
          startOffset = Array.from(startNode.parentNode.childNodes).indexOf(startNode);
          startNode = startNode.parentNode;
        }

        if (endNode.tagName === 'BR') {
          endOffset = Array.from(endNode.parentNode.childNodes).indexOf(endNode);
          endNode = endNode.parentNode;
        }

        const range = document.createRange();
        range.setStart(startNode, startOffset);
        range.setEnd(endNode, endOffset);
        selection.removeAllRanges();
        selection.addRange(range);
      }
    } else {
      selection.removeAllRanges();
      this.root.blur();
    }
  }

  setRange(range, force = false, source = _emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.API) {
    if (typeof force === 'string') {
      source = force;
      force = false;
    }

    debug.info('setRange', range);

    if (range != null) {
      const args = this.rangeToNative(range);
      this.setNativeRange(...args, force);
    } else {
      this.setNativeRange(null);
    }

    this.update(source);
  }

  update(source = _emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.USER) {
    const oldRange = this.lastRange;
    const [lastRange, nativeRange] = this.getRange();
    this.lastRange = lastRange;
    this.lastNative = nativeRange;

    if (this.lastRange != null) {
      this.savedRange = this.lastRange;
    }

    if (!deep_equal__WEBPACK_IMPORTED_MODULE_2___default()(oldRange, this.lastRange)) {
      if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {
        const range = this.cursor.restore();

        if (range) {
          this.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);
        }
      }

      const args = [_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].events.SELECTION_CHANGE, clone__WEBPACK_IMPORTED_MODULE_1___default()(this.lastRange), clone__WEBPACK_IMPORTED_MODULE_1___default()(oldRange), source];
      this.emitter.emit(_emitter__WEBPACK_IMPORTED_MODULE_3__["default"].events.EDITOR_CHANGE, ...args);

      if (source !== _emitter__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT) {
        this.emitter.emit(...args);
      }
    }
  }

}

function contains(parent, descendant) {
  try {
    // Firefox inserts inaccessible nodes around video elements
    descendant.parentNode; // eslint-disable-line no-unused-expressions
  } catch (e) {
    return false;
  }

  return parent.contains(descendant);
}



//# sourceURL=webpack://Quill/./core/selection.js?`)},"./core/theme.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
class Theme {
  constructor(quill, options) {
    this.quill = quill;
    this.options = options;
    this.modules = {};
  }

  init() {
    Object.keys(this.options.modules).forEach(name => {
      if (this.modules[name] == null) {
        this.addModule(name);
      }
    });
  }

  addModule(name) {
    const ModuleClass = this.quill.constructor.import("modules/".concat(name));
    this.modules[name] = new ModuleClass(this.quill, this.options.modules[name] || {});
    return this.modules[name];
  }

}

Theme.DEFAULTS = {
  modules: {}
};
Theme.themes = {
  default: Theme
};
/* harmony default export */ __webpack_exports__["default"] = (Theme);

//# sourceURL=webpack://Quill/./core/theme.js?`)},"./formats/align.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlignAttribute", function() { return AlignAttribute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlignClass", function() { return AlignClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlignStyle", function() { return AlignStyle; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");

const config = {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK,
  whitelist: ['right', 'center', 'justify']
};
const AlignAttribute = new parchment__WEBPACK_IMPORTED_MODULE_0__["Attributor"]('align', 'align', config);
const AlignClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('align', 'ql-align', config);
const AlignStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__["StyleAttributor"]('align', 'text-align', config);


//# sourceURL=webpack://Quill/./formats/align.js?`)},"./formats/background.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackgroundClass", function() { return BackgroundClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackgroundStyle", function() { return BackgroundStyle; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./color */ "./formats/color.js");


const BackgroundClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('background', 'ql-bg', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE
});
const BackgroundStyle = new _color__WEBPACK_IMPORTED_MODULE_1__["ColorAttributor"]('background', 'background-color', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE
});


//# sourceURL=webpack://Quill/./formats/background.js?`)},"./formats/blockquote.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");


class Blockquote extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["default"] {}

Blockquote.blotName = 'blockquote';
Blockquote.tagName = 'blockquote';
/* harmony default export */ __webpack_exports__["default"] = (Blockquote);

//# sourceURL=webpack://Quill/./formats/blockquote.js?`)},"./formats/bold.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");


class Bold extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create() {
    return super.create();
  }

  static formats() {
    return true;
  }

  optimize(context) {
    super.optimize(context);

    if (this.domNode.tagName !== this.statics.tagName[0]) {
      this.replaceWith(this.statics.blotName);
    }
  }

}

Bold.blotName = 'bold';
Bold.tagName = ['STRONG', 'B'];
/* harmony default export */ __webpack_exports__["default"] = (Bold);

//# sourceURL=webpack://Quill/./formats/bold.js?`)},"./formats/code.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Code", function() { return Code; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeBlockContainer", function() { return CodeBlockContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CodeBlock; });
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/break */ "./blots/break.js");
/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../blots/cursor */ "./blots/cursor.js");
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");
/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../blots/text */ "./blots/text.js");
/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../blots/container */ "./blots/container.js");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");








class CodeBlockContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_5__["default"] {
  static create(value) {
    const domNode = super.create(value);
    domNode.setAttribute('spellcheck', false);
    return domNode;
  }

  html(index, length) {
    const text = this.children.map(child => child.domNode.innerText).join('\\n').slice(index, index + length);
    return "<pre>".concat(Object(_blots_text__WEBPACK_IMPORTED_MODULE_4__["escapeText"])(text), "</pre>");
  }

}

class CodeBlock extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static register() {
    _core_quill__WEBPACK_IMPORTED_MODULE_6__["default"].register(CodeBlockContainer);
  }

}

class Code extends _blots_inline__WEBPACK_IMPORTED_MODULE_3__["default"] {}

Code.blotName = 'code';
Code.tagName = 'CODE';
CodeBlock.blotName = 'code-block';
CodeBlock.className = 'ql-code-block';
CodeBlock.tagName = 'DIV';
CodeBlockContainer.blotName = 'code-block-container';
CodeBlockContainer.className = 'ql-code-block-container';
CodeBlockContainer.tagName = 'DIV';
CodeBlockContainer.allowedChildren = [CodeBlock];
CodeBlock.allowedChildren = [_blots_text__WEBPACK_IMPORTED_MODULE_4__["default"], _blots_break__WEBPACK_IMPORTED_MODULE_1__["default"], _blots_cursor__WEBPACK_IMPORTED_MODULE_2__["default"]];
CodeBlock.requiredContainer = CodeBlockContainer;
CodeBlock.TAB = '  ';


//# sourceURL=webpack://Quill/./formats/code.js?`)},"./formats/color.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorAttributor", function() { return ColorAttributor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorClass", function() { return ColorClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorStyle", function() { return ColorStyle; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");


class ColorAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__["StyleAttributor"] {
  value(domNode) {
    let value = super.value(domNode);
    if (!value.startsWith('rgb(')) return value;
    value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');
    const hex = value.split(',').map(component => "00".concat(parseInt(component, 10).toString(16)).slice(-2)).join('');
    return "#".concat(hex);
  }

}

const ColorClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('color', 'ql-color', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE
});
const ColorStyle = new ColorAttributor('color', 'color', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE
});


//# sourceURL=webpack://Quill/./formats/color.js?`)},"./formats/direction.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionAttribute", function() { return DirectionAttribute; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionClass", function() { return DirectionClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionStyle", function() { return DirectionStyle; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");

const config = {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK,
  whitelist: ['rtl']
};
const DirectionAttribute = new parchment__WEBPACK_IMPORTED_MODULE_0__["Attributor"]('direction', 'dir', config);
const DirectionClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('direction', 'ql-direction', config);
const DirectionStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__["StyleAttributor"]('direction', 'direction', config);


//# sourceURL=webpack://Quill/./formats/direction.js?`)},"./formats/font.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FontStyle", function() { return FontStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FontClass", function() { return FontClass; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");

const config = {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE,
  whitelist: ['serif', 'monospace']
};
const FontClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('font', 'ql-font', config);

class FontStyleAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__["StyleAttributor"] {
  value(node) {
    return super.value(node).replace(/["']/g, '');
  }

}

const FontStyle = new FontStyleAttributor('font', 'font-family', config);


//# sourceURL=webpack://Quill/./formats/font.js?`)},"./formats/formula.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/embed */ "./blots/embed.js");


class Formula extends _blots_embed__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create(value) {
    if (window.katex == null) {
      throw new Error('Formula module requires KaTeX.');
    }

    const node = super.create(value);

    if (typeof value === 'string') {
      window.katex.render(value, node, {
        throwOnError: false,
        errorColor: '#f00'
      });
      node.setAttribute('data-value', value);
    }

    return node;
  }

  static value(domNode) {
    return domNode.getAttribute('data-value');
  }

  html() {
    const {
      formula
    } = this.value();
    return "<span>".concat(formula, "</span>");
  }

}

Formula.blotName = 'formula';
Formula.className = 'ql-formula';
Formula.tagName = 'SPAN';
/* harmony default export */ __webpack_exports__["default"] = (Formula);

//# sourceURL=webpack://Quill/./formats/formula.js?`)},"./formats/header.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");


class Header extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static formats(domNode) {
    return this.tagName.indexOf(domNode.tagName) + 1;
  }

}

Header.blotName = 'header';
Header.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];
/* harmony default export */ __webpack_exports__["default"] = (Header);

//# sourceURL=webpack://Quill/./formats/header.js?`)},"./formats/image.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link */ "./formats/link.js");


const ATTRIBUTES = ['alt', 'height', 'width'];

class Image extends parchment__WEBPACK_IMPORTED_MODULE_0__["EmbedBlot"] {
  static create(value) {
    const node = super.create(value);

    if (typeof value === 'string') {
      node.setAttribute('src', this.sanitize(value));
    }

    return node;
  }

  static formats(domNode) {
    return ATTRIBUTES.reduce((formats, attribute) => {
      if (domNode.hasAttribute(attribute)) {
        formats[attribute] = domNode.getAttribute(attribute);
      }

      return formats;
    }, {});
  }

  static match(url) {
    return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);
  }

  static register() {
    if (/Firefox/i.test(navigator.userAgent)) {
      setTimeout(() => {
        // Disable image resizing in Firefox
        document.execCommand('enableObjectResizing', false, false);
      }, 1);
    }
  }

  static sanitize(url) {
    return Object(_link__WEBPACK_IMPORTED_MODULE_1__["sanitize"])(url, ['http', 'https', 'data']) ? url : '//:0';
  }

  static value(domNode) {
    return domNode.getAttribute('src');
  }

  format(name, value) {
    if (ATTRIBUTES.indexOf(name) > -1) {
      if (value) {
        this.domNode.setAttribute(name, value);
      } else {
        this.domNode.removeAttribute(name);
      }
    } else {
      super.format(name, value);
    }
  }

}

Image.blotName = 'image';
Image.tagName = 'IMG';
/* harmony default export */ __webpack_exports__["default"] = (Image);

//# sourceURL=webpack://Quill/./formats/image.js?`)},"./formats/indent.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");


class IndentAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"] {
  add(node, value) {
    if (value === '+1' || value === '-1') {
      const indent = this.value(node) || 0;
      value = value === '+1' ? indent + 1 : indent - 1;
    }

    if (value === 0) {
      this.remove(node);
      return true;
    }

    return super.add(node, value);
  }

  canAdd(node, value) {
    return super.canAdd(node, value) || super.canAdd(node, parseInt(value, 10));
  }

  value(node) {
    return parseInt(super.value(node), 10) || undefined; // Don't return NaN
  }

}

const IndentClass = new IndentAttributor('indent', 'ql-indent', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK,
  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]
});
/* harmony default export */ __webpack_exports__["default"] = (IndentClass);

//# sourceURL=webpack://Quill/./formats/indent.js?`)},"./formats/italic.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bold */ "./formats/bold.js");


class Italic extends _bold__WEBPACK_IMPORTED_MODULE_0__["default"] {}

Italic.blotName = 'italic';
Italic.tagName = ['EM', 'I'];
/* harmony default export */ __webpack_exports__["default"] = (Italic);

//# sourceURL=webpack://Quill/./formats/italic.js?`)},"./formats/link.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Link; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sanitize", function() { return sanitize; });
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");


class Link extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create(value) {
    const node = super.create(value);
    node.setAttribute('href', this.sanitize(value));
    node.setAttribute('rel', 'noopener noreferrer');
    node.setAttribute('target', '_blank');
    return node;
  }

  static formats(domNode) {
    return domNode.getAttribute('href');
  }

  static sanitize(url) {
    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;
  }

  format(name, value) {
    if (name !== this.statics.blotName || !value) {
      super.format(name, value);
    } else {
      this.domNode.setAttribute('href', this.constructor.sanitize(value));
    }
  }

}

Link.blotName = 'link';
Link.tagName = 'A';
Link.SANITIZED_URL = 'about:blank';
Link.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];

function sanitize(url, protocols) {
  const anchor = document.createElement('a');
  anchor.href = url;
  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));
  return protocols.indexOf(protocol) > -1;
}



//# sourceURL=webpack://Quill/./formats/link.js?`)},"./formats/list.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListContainer", function() { return ListContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ListItem; });
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/container */ "./blots/container.js");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");




class ListContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_1__["default"] {}

ListContainer.blotName = 'list-container';
ListContainer.tagName = 'OL';

class ListItem extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create(value) {
    const node = super.create();
    node.setAttribute('data-list', value);
    return node;
  }

  static formats(domNode) {
    return domNode.getAttribute('data-list') || undefined;
  }

  static register() {
    _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].register(ListContainer);
  }

  constructor(scroll, domNode) {
    super(scroll, domNode);
    const ui = domNode.ownerDocument.createElement('span');

    const listEventHandler = e => {
      if (!scroll.isEnabled()) return;
      const format = this.statics.formats(domNode, scroll);

      if (format === 'checked') {
        this.format('list', 'unchecked');
        e.preventDefault();
      } else if (format === 'unchecked') {
        this.format('list', 'checked');
        e.preventDefault();
      }
    };

    ui.addEventListener('mousedown', listEventHandler);
    ui.addEventListener('touchstart', listEventHandler);
    this.attachUI(ui);
  }

  format(name, value) {
    if (name === this.statics.blotName && value) {
      this.domNode.setAttribute('data-list', value);
    } else {
      super.format(name, value);
    }
  }

}

ListItem.blotName = 'list';
ListItem.tagName = 'LI';
ListContainer.allowedChildren = [ListItem];
ListItem.requiredContainer = ListContainer;


//# sourceURL=webpack://Quill/./formats/list.js?`)},"./formats/script.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");


class Script extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create(value) {
    if (value === 'super') {
      return document.createElement('sup');
    }

    if (value === 'sub') {
      return document.createElement('sub');
    }

    return super.create(value);
  }

  static formats(domNode) {
    if (domNode.tagName === 'SUB') return 'sub';
    if (domNode.tagName === 'SUP') return 'super';
    return undefined;
  }

}

Script.blotName = 'script';
Script.tagName = ['SUB', 'SUP'];
/* harmony default export */ __webpack_exports__["default"] = (Script);

//# sourceURL=webpack://Quill/./formats/script.js?`)},"./formats/size.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SizeClass", function() { return SizeClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SizeStyle", function() { return SizeStyle; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");

const SizeClass = new parchment__WEBPACK_IMPORTED_MODULE_0__["ClassAttributor"]('size', 'ql-size', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE,
  whitelist: ['small', 'large', 'huge']
});
const SizeStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__["StyleAttributor"]('size', 'font-size', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].INLINE,
  whitelist: ['10px', '18px', '32px']
});


//# sourceURL=webpack://Quill/./formats/size.js?`)},"./formats/strike.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bold */ "./formats/bold.js");


class Strike extends _bold__WEBPACK_IMPORTED_MODULE_0__["default"] {}

Strike.blotName = 'strike';
Strike.tagName = ['S', 'STRIKE'];
/* harmony default export */ __webpack_exports__["default"] = (Strike);

//# sourceURL=webpack://Quill/./formats/strike.js?`)},"./formats/table.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableCell", function() { return TableCell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableRow", function() { return TableRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableBody", function() { return TableBody; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableContainer", function() { return TableContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "tableId", function() { return tableId; });
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/container */ "./blots/container.js");



class TableCell extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["default"] {
  static create(value) {
    const node = super.create();

    if (value) {
      node.setAttribute('data-row', value);
    } else {
      node.setAttribute('data-row', tableId());
    }

    return node;
  }

  static formats(domNode) {
    if (domNode.hasAttribute('data-row')) {
      return domNode.getAttribute('data-row');
    }

    return undefined;
  }

  cellOffset() {
    if (this.parent) {
      return this.parent.children.indexOf(this);
    }

    return -1;
  }

  format(name, value) {
    if (name === TableCell.blotName && value) {
      this.domNode.setAttribute('data-row', value);
    } else {
      super.format(name, value);
    }
  }

  row() {
    return this.parent;
  }

  rowOffset() {
    if (this.row()) {
      return this.row().rowOffset();
    }

    return -1;
  }

  table() {
    return this.row() && this.row().table();
  }

}

TableCell.blotName = 'table';
TableCell.tagName = 'TD';

class TableRow extends _blots_container__WEBPACK_IMPORTED_MODULE_1__["default"] {
  checkMerge() {
    if (super.checkMerge() && this.next.children.head != null) {
      const thisHead = this.children.head.formats();
      const thisTail = this.children.tail.formats();
      const nextHead = this.next.children.head.formats();
      const nextTail = this.next.children.tail.formats();
      return thisHead.table === thisTail.table && thisHead.table === nextHead.table && thisHead.table === nextTail.table;
    }

    return false;
  }

  optimize(...args) {
    super.optimize(...args);
    this.children.forEach(child => {
      if (child.next == null) return;
      const childFormats = child.formats();
      const nextFormats = child.next.formats();

      if (childFormats.table !== nextFormats.table) {
        const next = this.splitAfter(child);

        if (next) {
          next.optimize();
        } // We might be able to merge with prev now


        if (this.prev) {
          this.prev.optimize();
        }
      }
    });
  }

  rowOffset() {
    if (this.parent) {
      return this.parent.children.indexOf(this);
    }

    return -1;
  }

  table() {
    return this.parent && this.parent.parent;
  }

}

TableRow.blotName = 'table-row';
TableRow.tagName = 'TR';

class TableBody extends _blots_container__WEBPACK_IMPORTED_MODULE_1__["default"] {}

TableBody.blotName = 'table-body';
TableBody.tagName = 'TBODY';

class TableContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_1__["default"] {
  balanceCells() {
    const rows = this.descendants(TableRow);
    const maxColumns = rows.reduce((max, row) => {
      return Math.max(row.children.length, max);
    }, 0);
    rows.forEach(row => {
      new Array(maxColumns - row.children.length).fill(0).forEach(() => {
        let value;

        if (row.children.head != null) {
          value = TableCell.formats(row.children.head.domNode);
        }

        const blot = this.scroll.create(TableCell.blotName, value);
        row.appendChild(blot);
        blot.optimize(); // Add break blot
      });
    });
  }

  cells(column) {
    return this.rows().map(row => row.children.at(column));
  }

  deleteColumn(index) {
    const [body] = this.descendant(TableBody);
    if (body == null || body.children.head == null) return;
    body.children.forEach(row => {
      const cell = row.children.at(index);

      if (cell != null) {
        cell.remove();
      }
    });
  }

  insertColumn(index) {
    const [body] = this.descendant(TableBody);
    if (body == null || body.children.head == null) return;
    body.children.forEach(row => {
      const ref = row.children.at(index);
      const value = TableCell.formats(row.children.head.domNode);
      const cell = this.scroll.create(TableCell.blotName, value);
      row.insertBefore(cell, ref);
    });
  }

  insertRow(index) {
    const [body] = this.descendant(TableBody);
    if (body == null || body.children.head == null) return;
    const id = tableId();
    const row = this.scroll.create(TableRow.blotName);
    body.children.head.children.forEach(() => {
      const cell = this.scroll.create(TableCell.blotName, id);
      row.appendChild(cell);
    });
    const ref = body.children.at(index);
    body.insertBefore(row, ref);
  }

  rows() {
    const body = this.children.head;
    if (body == null) return [];
    return body.children.map(row => row);
  }

}

TableContainer.blotName = 'table-container';
TableContainer.tagName = 'TABLE';
TableContainer.allowedChildren = [TableBody];
TableBody.requiredContainer = TableContainer;
TableBody.allowedChildren = [TableRow];
TableRow.requiredContainer = TableBody;
TableRow.allowedChildren = [TableCell];
TableCell.requiredContainer = TableRow;

function tableId() {
  const id = Math.random().toString(36).slice(2, 6);
  return "row-".concat(id);
}



//# sourceURL=webpack://Quill/./formats/table.js?`)},"./formats/underline.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");


class Underline extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__["default"] {}

Underline.blotName = 'underline';
Underline.tagName = 'U';
/* harmony default export */ __webpack_exports__["default"] = (Underline);

//# sourceURL=webpack://Quill/./formats/underline.js?`)},"./formats/video.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link */ "./formats/link.js");


const ATTRIBUTES = ['height', 'width'];

class Video extends _blots_block__WEBPACK_IMPORTED_MODULE_0__["BlockEmbed"] {
  static create(value) {
    const node = super.create(value);
    node.setAttribute('frameborder', '0');
    node.setAttribute('allowfullscreen', true);
    node.setAttribute('src', this.sanitize(value));
    return node;
  }

  static formats(domNode) {
    return ATTRIBUTES.reduce((formats, attribute) => {
      if (domNode.hasAttribute(attribute)) {
        formats[attribute] = domNode.getAttribute(attribute);
      }

      return formats;
    }, {});
  }

  static sanitize(url) {
    return _link__WEBPACK_IMPORTED_MODULE_1__["default"].sanitize(url); // eslint-disable-line import/no-named-as-default-member
  }

  static value(domNode) {
    return domNode.getAttribute('src');
  }

  format(name, value) {
    if (ATTRIBUTES.indexOf(name) > -1) {
      if (value) {
        this.domNode.setAttribute(name, value);
      } else {
        this.domNode.removeAttribute(name);
      }
    } else {
      super.format(name, value);
    }
  }

  html() {
    const {
      video
    } = this.value();
    return "<a href=\\"".concat(video, "\\">").concat(video, "</a>");
  }

}

Video.blotName = 'video';
Video.className = 'ql-video';
Video.tagName = 'IFRAME';
/* harmony default export */ __webpack_exports__["default"] = (Video);

//# sourceURL=webpack://Quill/./formats/video.js?`)},"./modules/clipboard.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Clipboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchAttributor", function() { return matchAttributor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchBlot", function() { return matchBlot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchNewline", function() { return matchNewline; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "matchText", function() { return matchText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "traverse", function() { return traverse; });
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/logger */ "./core/logger.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/module */ "./core/module.js");
/* harmony import */ var _formats_align__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../formats/align */ "./formats/align.js");
/* harmony import */ var _formats_background__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../formats/background */ "./formats/background.js");
/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../formats/code */ "./formats/code.js");
/* harmony import */ var _formats_color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../formats/color */ "./formats/color.js");
/* harmony import */ var _formats_direction__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../formats/direction */ "./formats/direction.js");
/* harmony import */ var _formats_font__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../formats/font */ "./formats/font.js");
/* harmony import */ var _formats_size__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../formats/size */ "./formats/size.js");














const debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_5__["default"])('quill:clipboard');
const CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['ol, ul', matchList], ['pre', matchCodeBlock], ['tr', matchTable], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['strike', matchAlias.bind(matchAlias, 'strike')], ['style', matchIgnore]];
const ATTRIBUTE_ATTRIBUTORS = [_formats_align__WEBPACK_IMPORTED_MODULE_7__["AlignAttribute"], _formats_direction__WEBPACK_IMPORTED_MODULE_11__["DirectionAttribute"]].reduce((memo, attr) => {
  memo[attr.keyName] = attr;
  return memo;
}, {});
const STYLE_ATTRIBUTORS = [_formats_align__WEBPACK_IMPORTED_MODULE_7__["AlignStyle"], _formats_background__WEBPACK_IMPORTED_MODULE_8__["BackgroundStyle"], _formats_color__WEBPACK_IMPORTED_MODULE_10__["ColorStyle"], _formats_direction__WEBPACK_IMPORTED_MODULE_11__["DirectionStyle"], _formats_font__WEBPACK_IMPORTED_MODULE_12__["FontStyle"], _formats_size__WEBPACK_IMPORTED_MODULE_13__["SizeStyle"]].reduce((memo, attr) => {
  memo[attr.keyName] = attr;
  return memo;
}, {});

class Clipboard extends _core_module__WEBPACK_IMPORTED_MODULE_6__["default"] {
  constructor(quill, options) {
    super(quill, options);
    this.quill.root.addEventListener('copy', e => this.onCaptureCopy(e, false));
    this.quill.root.addEventListener('cut', e => this.onCaptureCopy(e, true));
    this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));
    this.matchers = [];
    CLIPBOARD_CONFIG.concat(this.options.matchers).forEach(([selector, matcher]) => {
      this.addMatcher(selector, matcher);
    });
  }

  addMatcher(selector, matcher) {
    this.matchers.push([selector, matcher]);
  }

  convert({
    html,
    text
  }, formats = {}) {
    if (formats[_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].blotName]) {
      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(text, {
        [_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].blotName]: formats[_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].blotName]
      });
    }

    if (!html) {
      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(text || '');
    }

    const doc = new DOMParser().parseFromString(html, 'text/html');
    const container = doc.body;
    const nodeMatches = new WeakMap();
    const [elementMatchers, textMatchers] = this.prepareMatching(container, nodeMatches);
    const delta = traverse(this.quill.scroll, container, elementMatchers, textMatchers, nodeMatches); // Remove trailing newline

    if (deltaEndsWith(delta, '\\n') && (delta.ops[delta.ops.length - 1].attributes == null || formats.table)) {
      return delta.compose(new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(delta.length() - 1).delete(1));
    }

    return delta;
  }

  dangerouslyPasteHTML(index, html, source = _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.API) {
    if (typeof index === 'string') {
      const delta = this.convert({
        html: index,
        text: ''
      });
      this.quill.setContents(delta, html);
      this.quill.setSelection(0, _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT);
    } else {
      const paste = this.convert({
        html,
        text: ''
      });
      this.quill.updateContents(new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(index).concat(paste), source);
      this.quill.setSelection(index + paste.length(), _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT);
    }
  }

  onCaptureCopy(e, isCut = false) {
    if (e.defaultPrevented) return;
    e.preventDefault();
    const [range] = this.quill.selection.getRange();
    if (range == null) return;
    const {
      html,
      text
    } = this.onCopy(range, isCut);
    e.clipboardData.setData('text/plain', text);
    e.clipboardData.setData('text/html', html);

    if (isCut) {
      this.quill.deleteText(range, _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER);
    }
  }

  onCapturePaste(e) {
    if (e.defaultPrevented || !this.quill.isEnabled()) return;
    e.preventDefault();
    const range = this.quill.getSelection(true);
    if (range == null) return;
    const html = e.clipboardData.getData('text/html');
    const text = e.clipboardData.getData('text/plain');
    const files = Array.from(e.clipboardData.files || []);

    if (!html && files.length > 0) {
      this.quill.uploader.upload(range, files);
    } else {
      this.onPaste(range, {
        html,
        text
      });
    }
  }

  onCopy(range) {
    const text = this.quill.getText(range);
    const html = this.quill.getSemanticHTML(range);
    return {
      html,
      text
    };
  }

  onPaste(range, {
    text,
    html
  }) {
    const formats = this.quill.getFormat(range.index);
    const pastedDelta = this.convert({
      text,
      html
    }, formats);
    debug.log('onPaste', pastedDelta, {
      text,
      html
    });
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(range.index).delete(range.length).concat(pastedDelta);
    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.USER); // range.length contributes to delta.length()

    this.quill.setSelection(delta.length() - range.length, _core_quill__WEBPACK_IMPORTED_MODULE_4__["default"].sources.SILENT);
    this.quill.scrollIntoView();
  }

  prepareMatching(container, nodeMatches) {
    const elementMatchers = [];
    const textMatchers = [];
    this.matchers.forEach(pair => {
      const [selector, matcher] = pair;

      switch (selector) {
        case Node.TEXT_NODE:
          textMatchers.push(matcher);
          break;

        case Node.ELEMENT_NODE:
          elementMatchers.push(matcher);
          break;

        default:
          Array.from(container.querySelectorAll(selector)).forEach(node => {
            if (nodeMatches.has(node)) {
              const matches = nodeMatches.get(node);
              matches.push(matcher);
            } else {
              nodeMatches.set(node, [matcher]);
            }
          });
          break;
      }
    });
    return [elementMatchers, textMatchers];
  }

}

Clipboard.DEFAULTS = {
  matchers: []
};

function applyFormat(delta, format, value) {
  if (typeof format === 'object') {
    return Object.keys(format).reduce((newDelta, key) => {
      return applyFormat(newDelta, key, format[key]);
    }, delta);
  }

  return delta.reduce((newDelta, op) => {
    if (op.attributes && op.attributes[format]) {
      return newDelta.push(op);
    }

    return newDelta.insert(op.insert, extend__WEBPACK_IMPORTED_MODULE_0___default()({}, {
      [format]: value
    }, op.attributes));
  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());
}

function deltaEndsWith(delta, text) {
  let endText = '';

  for (let i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i // eslint-disable-line no-plusplus
  ) {
    const op = delta.ops[i];
    if (typeof op.insert !== 'string') break;
    endText = op.insert + endText;
  }

  return endText.slice(-1 * text.length) === text;
}

function isLine(node) {
  if (node.childNodes.length === 0) return false; // Exclude embed blocks

  return ['address', 'article', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'iframe', 'li', 'main', 'nav', 'ol', 'output', 'p', 'pre', 'section', 'table', 'td', 'tr', 'ul', 'video'].includes(node.tagName.toLowerCase());
}

const preNodes = new WeakMap();

function isPre(node) {
  if (node == null) return false;

  if (!preNodes.has(node)) {
    if (node.tagName === 'PRE') {
      preNodes.set(node, true);
    } else {
      preNodes.set(node, isPre(node.parentNode));
    }
  }

  return preNodes.get(node);
}

function traverse(scroll, node, elementMatchers, textMatchers, nodeMatches) {
  // Post-order
  if (node.nodeType === node.TEXT_NODE) {
    return textMatchers.reduce((delta, matcher) => {
      return matcher(node, delta, scroll);
    }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());
  }

  if (node.nodeType === node.ELEMENT_NODE) {
    return Array.from(node.childNodes || []).reduce((delta, childNode) => {
      let childrenDelta = traverse(scroll, childNode, elementMatchers, textMatchers, nodeMatches);

      if (childNode.nodeType === node.ELEMENT_NODE) {
        childrenDelta = elementMatchers.reduce((reducedDelta, matcher) => {
          return matcher(childNode, reducedDelta, scroll);
        }, childrenDelta);
        childrenDelta = (nodeMatches.get(childNode) || []).reduce((reducedDelta, matcher) => {
          return matcher(childNode, reducedDelta, scroll);
        }, childrenDelta);
      }

      return delta.concat(childrenDelta);
    }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());
  }

  return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a();
}

function matchAlias(format, node, delta) {
  return applyFormat(delta, format, true);
}

function matchAttributor(node, delta, scroll) {
  const attributes = parchment__WEBPACK_IMPORTED_MODULE_2__["Attributor"].keys(node);
  const classes = parchment__WEBPACK_IMPORTED_MODULE_2__["ClassAttributor"].keys(node);
  const styles = parchment__WEBPACK_IMPORTED_MODULE_2__["StyleAttributor"].keys(node);
  const formats = {};
  attributes.concat(classes).concat(styles).forEach(name => {
    let attr = scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__["Scope"].ATTRIBUTE);

    if (attr != null) {
      formats[attr.attrName] = attr.value(node);
      if (formats[attr.attrName]) return;
    }

    attr = ATTRIBUTE_ATTRIBUTORS[name];

    if (attr != null && (attr.attrName === name || attr.keyName === name)) {
      formats[attr.attrName] = attr.value(node) || undefined;
    }

    attr = STYLE_ATTRIBUTORS[name];

    if (attr != null && (attr.attrName === name || attr.keyName === name)) {
      attr = STYLE_ATTRIBUTORS[name];
      formats[attr.attrName] = attr.value(node) || undefined;
    }
  });

  if (Object.keys(formats).length > 0) {
    return applyFormat(delta, formats);
  }

  return delta;
}

function matchBlot(node, delta, scroll) {
  const match = scroll.query(node);
  if (match == null) return delta;

  if (match.prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_2__["EmbedBlot"]) {
    const embed = {};
    const value = match.value(node);

    if (value != null) {
      embed[match.blotName] = value;
      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(embed, match.formats(node, scroll));
    }
  } else {
    if (match.prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_2__["BlockBlot"] && !deltaEndsWith(delta, '\\n')) {
      delta.insert('\\n');
    }

    if (typeof match.formats === 'function') {
      return applyFormat(delta, match.blotName, match.formats(node, scroll));
    }
  }

  return delta;
}

function matchBreak(node, delta) {
  if (!deltaEndsWith(delta, '\\n')) {
    delta.insert('\\n');
  }

  return delta;
}

function matchCodeBlock(node, delta, scroll) {
  const match = scroll.query('code-block');
  const language = match ? match.formats(node, scroll) : true;
  return applyFormat(delta, 'code-block', language);
}

function matchIgnore() {
  return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a();
}

function matchIndent(node, delta, scroll) {
  const match = scroll.query(node);

  if (match == null || match.blotName !== 'list' || !deltaEndsWith(delta, '\\n')) {
    return delta;
  }

  let indent = -1;
  let parent = node.parentNode;

  while (parent != null) {
    if (['OL', 'UL'].includes(parent.tagName)) {
      indent += 1;
    }

    parent = parent.parentNode;
  }

  if (indent <= 0) return delta;
  return delta.reduce((composed, op) => {
    if (op.attributes && op.attributes.list) {
      return composed.push(op);
    }

    return composed.insert(op.insert, {
      indent,
      ...(op.attributes || {})
    });
  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());
}

function matchList(node, delta) {
  const list = node.tagName === 'OL' ? 'ordered' : 'bullet';
  return applyFormat(delta, 'list', list);
}

function matchNewline(node, delta, scroll) {
  if (!deltaEndsWith(delta, '\\n')) {
    if (isLine(node)) {
      return delta.insert('\\n');
    }

    if (delta.length() > 0 && node.nextSibling) {
      let {
        nextSibling
      } = node;

      while (nextSibling != null) {
        if (isLine(nextSibling)) {
          return delta.insert('\\n');
        }

        const match = scroll.query(nextSibling);

        if (match && match.prototype instanceof _blots_block__WEBPACK_IMPORTED_MODULE_3__["BlockEmbed"]) {
          return delta.insert('\\n');
        }

        nextSibling = nextSibling.firstChild;
      }
    }
  }

  return delta;
}

function matchStyles(node, delta) {
  const formats = {};
  const style = node.style || {};

  if (style.fontStyle === 'italic') {
    formats.italic = true;
  }

  if (style.textDecoration === 'underline') {
    formats.underline = true;
  }

  if (style.textDecoration === 'line-through') {
    formats.strike = true;
  }

  if (style.fontWeight.startsWith('bold') || parseInt(style.fontWeight, 10) >= 700) {
    formats.bold = true;
  }

  if (Object.keys(formats).length > 0) {
    delta = applyFormat(delta, formats);
  }

  if (parseFloat(style.textIndent || 0) > 0) {
    // Could be 0.5in
    return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert('\\t').concat(delta);
  }

  return delta;
}

function matchTable(node, delta) {
  const table = node.parentNode.tagName === 'TABLE' ? node.parentNode : node.parentNode.parentNode;
  const rows = Array.from(table.querySelectorAll('tr'));
  const row = rows.indexOf(node) + 1;
  return applyFormat(delta, 'table', row);
}

function matchText(node, delta) {
  let text = node.data; // Word represents empty line with <o:p>&nbsp;</o:p>

  if (node.parentNode.tagName === 'O:P') {
    return delta.insert(text.trim());
  }

  if (text.trim().length === 0 && text.includes('\\n')) {
    return delta;
  }

  if (!isPre(node)) {
    const replacer = (collapse, match) => {
      const replaced = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;

      return replaced.length < 1 && collapse ? ' ' : replaced;
    };

    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');
    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace

    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {
      text = text.replace(/^\\s+/, replacer.bind(replacer, false));
    }

    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {
      text = text.replace(/\\s+$/, replacer.bind(replacer, false));
    }
  }

  return delta.insert(text);
}



//# sourceURL=webpack://Quill/./modules/clipboard.js?`)},"./modules/history.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return History; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLastChangeIndex", function() { return getLastChangeIndex; });
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ "./core/module.js");




class History extends _core_module__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(quill, options) {
    super(quill, options);
    this.lastRecorded = 0;
    this.ignoreChange = false;
    this.clear();
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].events.EDITOR_CHANGE, (eventName, delta, oldDelta, source) => {
      if (eventName !== _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].events.TEXT_CHANGE || this.ignoreChange) return;

      if (!this.options.userOnly || source === _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER) {
        this.record(delta, oldDelta);
      } else {
        this.transform(delta);
      }
    });
    this.quill.keyboard.addBinding({
      key: 'z',
      shortKey: true
    }, this.undo.bind(this));
    this.quill.keyboard.addBinding({
      key: 'z',
      shortKey: true,
      shiftKey: true
    }, this.redo.bind(this));

    if (/Win/i.test(navigator.platform)) {
      this.quill.keyboard.addBinding({
        key: 'y',
        shortKey: true
      }, this.redo.bind(this));
    }
  }

  change(source, dest) {
    if (this.stack[source].length === 0) return;
    const delta = this.stack[source].pop();
    const base = this.quill.getContents();
    const inverseDelta = delta.invert(base);
    this.stack[dest].push(inverseDelta);
    this.lastRecorded = 0;
    this.ignoreChange = true;
    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
    this.ignoreChange = false;
    const index = getLastChangeIndex(this.quill.scroll, delta);
    this.quill.setSelection(index);
  }

  clear() {
    this.stack = {
      undo: [],
      redo: []
    };
  }

  cutoff() {
    this.lastRecorded = 0;
  }

  record(changeDelta, oldDelta) {
    if (changeDelta.ops.length === 0) return;
    this.stack.redo = [];
    let undoDelta = changeDelta.invert(oldDelta);
    const timestamp = Date.now();

    if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {
      const delta = this.stack.undo.pop();
      undoDelta = undoDelta.compose(delta);
    } else {
      this.lastRecorded = timestamp;
    }

    if (undoDelta.length() === 0) return;
    this.stack.undo.push(undoDelta);

    if (this.stack.undo.length > this.options.maxStack) {
      this.stack.undo.shift();
    }
  }

  redo() {
    this.change('redo', 'undo');
  }

  transform(delta) {
    transformStack(this.stack.undo, delta);
    transformStack(this.stack.redo, delta);
  }

  undo() {
    this.change('undo', 'redo');
  }

}

History.DEFAULTS = {
  delay: 1000,
  maxStack: 100,
  userOnly: false
};

function transformStack(stack, delta) {
  let remoteDelta = delta;

  for (let i = stack.length - 1; i >= 0; i -= 1) {
    const oldDelta = stack[i];
    stack[i] = remoteDelta.transform(oldDelta, true);
    remoteDelta = oldDelta.transform(remoteDelta);

    if (stack[i].length() === 0) {
      stack.splice(i, 1);
    }
  }
}

function endsWithNewlineChange(scroll, delta) {
  const lastOp = delta.ops[delta.ops.length - 1];
  if (lastOp == null) return false;

  if (lastOp.insert != null) {
    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');
  }

  if (lastOp.attributes != null) {
    return Object.keys(lastOp.attributes).some(attr => {
      return scroll.query(attr, parchment__WEBPACK_IMPORTED_MODULE_0__["Scope"].BLOCK) != null;
    });
  }

  return false;
}

function getLastChangeIndex(scroll, delta) {
  const deleteLength = delta.reduce((length, op) => {
    return length + (op.delete || 0);
  }, 0);
  let changeIndex = delta.length() - deleteLength;

  if (endsWithNewlineChange(scroll, delta)) {
    changeIndex -= 1;
  }

  return changeIndex;
}



//# sourceURL=webpack://Quill/./modules/history.js?`)},"./modules/keyboard.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Keyboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHORTKEY", function() { return SHORTKEY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalize", function() { return normalize; });
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clone */ "./node_modules/clone/clone.js");
/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deep-equal */ "./node_modules/deep-equal/index.js");
/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/logger */ "./core/logger.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/module */ "./core/module.js");








const debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_6__["default"])('quill:keyboard');
const SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';

class Keyboard extends _core_module__WEBPACK_IMPORTED_MODULE_7__["default"] {
  static match(evt, binding) {
    if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(key => {
      return !!binding[key] !== evt[key] && binding[key] !== null;
    })) {
      return false;
    }

    return binding.key === evt.key || binding.key === evt.which;
  }

  constructor(quill, options) {
    super(quill, options);
    this.bindings = {};
    Object.keys(this.options.bindings).forEach(name => {
      if (this.options.bindings[name]) {
        this.addBinding(this.options.bindings[name]);
      }
    });
    this.addBinding({
      key: 'Enter',
      shiftKey: null
    }, this.handleEnter);
    this.addBinding({
      key: 'Enter',
      metaKey: null,
      ctrlKey: null,
      altKey: null
    }, () => {});

    if (/Firefox/i.test(navigator.userAgent)) {
      // Need to handle delete and backspace for Firefox in the general case #1171
      this.addBinding({
        key: 'Backspace'
      }, {
        collapsed: true
      }, this.handleBackspace);
      this.addBinding({
        key: 'Delete'
      }, {
        collapsed: true
      }, this.handleDelete);
    } else {
      this.addBinding({
        key: 'Backspace'
      }, {
        collapsed: true,
        prefix: /^.?$/
      }, this.handleBackspace);
      this.addBinding({
        key: 'Delete'
      }, {
        collapsed: true,
        suffix: /^.?$/
      }, this.handleDelete);
    }

    this.addBinding({
      key: 'Backspace'
    }, {
      collapsed: false
    }, this.handleDeleteRange);
    this.addBinding({
      key: 'Delete'
    }, {
      collapsed: false
    }, this.handleDeleteRange);
    this.addBinding({
      key: 'Backspace',
      altKey: null,
      ctrlKey: null,
      metaKey: null,
      shiftKey: null
    }, {
      collapsed: true,
      offset: 0
    }, this.handleBackspace);
    this.listen();
  }

  addBinding(keyBinding, context = {}, handler = {}) {
    const binding = normalize(keyBinding);

    if (binding == null) {
      debug.warn('Attempted to add invalid keyboard binding', binding);
      return;
    }

    if (typeof context === 'function') {
      context = {
        handler: context
      };
    }

    if (typeof handler === 'function') {
      handler = {
        handler
      };
    }

    const keys = Array.isArray(binding.key) ? binding.key : [binding.key];
    keys.forEach(key => {
      const singleBinding = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, binding, {
        key
      }, context, handler);
      this.bindings[singleBinding.key] = this.bindings[singleBinding.key] || [];
      this.bindings[singleBinding.key].push(singleBinding);
    });
  }

  listen() {
    this.quill.root.addEventListener('keydown', evt => {
      if (evt.defaultPrevented || evt.isComposing) return;
      const bindings = (this.bindings[evt.key] || []).concat(this.bindings[evt.which] || []);
      const matches = bindings.filter(binding => Keyboard.match(evt, binding));
      if (matches.length === 0) return;
      const range = this.quill.getSelection();
      if (range == null || !this.quill.hasFocus()) return;
      const [line, offset] = this.quill.getLine(range.index);
      const [leafStart, offsetStart] = this.quill.getLeaf(range.index);
      const [leafEnd, offsetEnd] = range.length === 0 ? [leafStart, offsetStart] : this.quill.getLeaf(range.index + range.length);
      const prefixText = leafStart instanceof parchment__WEBPACK_IMPORTED_MODULE_4__["TextBlot"] ? leafStart.value().slice(0, offsetStart) : '';
      const suffixText = leafEnd instanceof parchment__WEBPACK_IMPORTED_MODULE_4__["TextBlot"] ? leafEnd.value().slice(offsetEnd) : '';
      const curContext = {
        collapsed: range.length === 0,
        empty: range.length === 0 && line.length() <= 1,
        format: this.quill.getFormat(range),
        line,
        offset,
        prefix: prefixText,
        suffix: suffixText,
        event: evt
      };
      const prevented = matches.some(binding => {
        if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) {
          return false;
        }

        if (binding.empty != null && binding.empty !== curContext.empty) {
          return false;
        }

        if (binding.offset != null && binding.offset !== curContext.offset) {
          return false;
        }

        if (Array.isArray(binding.format)) {
          // any format is present
          if (binding.format.every(name => curContext.format[name] == null)) {
            return false;
          }
        } else if (typeof binding.format === 'object') {
          // all formats must match
          if (!Object.keys(binding.format).every(name => {
            if (binding.format[name] === true) return curContext.format[name] != null;
            if (binding.format[name] === false) return curContext.format[name] == null;
            return deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(binding.format[name], curContext.format[name]);
          })) {
            return false;
          }
        }

        if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) {
          return false;
        }

        if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) {
          return false;
        }

        return binding.handler.call(this, range, curContext, binding) !== true;
      });

      if (prevented) {
        evt.preventDefault();
      }
    });
  }

  handleBackspace(range, context) {
    // Check for astral symbols
    const length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;
    if (range.index === 0 || this.quill.getLength() <= 1) return;
    let formats = {};
    const [line] = this.quill.getLine(range.index);
    let delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index - length).delete(length);

    if (context.offset === 0) {
      // Always deleting newline here, length always 1
      const [prev] = this.quill.getLine(range.index - 1);

      if (prev) {
        const curFormats = line.formats();
        const prevFormats = this.quill.getFormat(range.index - 1, 1);
        formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__["AttributeMap"].diff(curFormats, prevFormats) || {};

        if (Object.keys(formats).length > 0) {
          // line.length() - 1 targets \\n in line, another -1 for newline being deleted
          const formatDelta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index + line.length() - 2).retain(1, formats);
          delta = delta.compose(formatDelta);
        }
      }
    }

    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    this.quill.focus();
  }

  handleDelete(range, context) {
    // Check for astral symbols
    const length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;
    if (range.index >= this.quill.getLength() - length) return;
    let formats = {};
    const [line] = this.quill.getLine(range.index);
    let delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(length);

    if (context.offset >= line.length() - 1) {
      const [next] = this.quill.getLine(range.index + 1);

      if (next) {
        const curFormats = line.formats();
        const nextFormats = this.quill.getFormat(range.index, 1);
        formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__["AttributeMap"].diff(curFormats, nextFormats) || {};

        if (Object.keys(formats).length > 0) {
          delta = delta.retain(next.length() - 1).retain(1, formats);
        }
      }
    }

    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    this.quill.focus();
  }

  handleDeleteRange(range) {
    const lines = this.quill.getLines(range);
    let formats = {};

    if (lines.length > 1) {
      const firstFormats = lines[0].formats();
      const lastFormats = lines[lines.length - 1].formats();
      formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__["AttributeMap"].diff(lastFormats, firstFormats) || {};
    }

    this.quill.deleteText(range, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);

    if (Object.keys(formats).length > 0) {
      this.quill.formatLine(range.index, 1, formats, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    }

    this.quill.setSelection(range.index, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
    this.quill.focus();
  }

  handleEnter(range, context) {
    const lineFormats = Object.keys(context.format).reduce((formats, format) => {
      if (this.quill.scroll.query(format, parchment__WEBPACK_IMPORTED_MODULE_4__["Scope"].BLOCK) && !Array.isArray(context.format[format])) {
        formats[format] = context.format[format];
      }

      return formats;
    }, {});
    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(range.length).insert('\\n', lineFormats);
    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
    this.quill.focus();
    Object.keys(context.format).forEach(name => {
      if (lineFormats[name] != null) return;
      if (Array.isArray(context.format[name])) return;
      if (name === 'code' || name === 'link') return;
      this.quill.format(name, context.format[name], _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    });
  }

}

Keyboard.DEFAULTS = {
  bindings: {
    bold: makeFormatHandler('bold'),
    italic: makeFormatHandler('italic'),
    underline: makeFormatHandler('underline'),
    indent: {
      // highlight tab or tab at beginning of list, indent or blockquote
      key: 'Tab',
      format: ['blockquote', 'indent', 'list'],

      handler(range, context) {
        if (context.collapsed && context.offset !== 0) return true;
        this.quill.format('indent', '+1', _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        return false;
      }

    },
    outdent: {
      key: 'Tab',
      shiftKey: true,
      format: ['blockquote', 'indent', 'list'],

      // highlight tab or tab at beginning of list, indent or blockquote
      handler(range, context) {
        if (context.collapsed && context.offset !== 0) return true;
        this.quill.format('indent', '-1', _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        return false;
      }

    },
    'outdent backspace': {
      key: 'Backspace',
      collapsed: true,
      shiftKey: null,
      metaKey: null,
      ctrlKey: null,
      altKey: null,
      format: ['indent', 'list'],
      offset: 0,

      handler(range, context) {
        if (context.format.indent != null) {
          this.quill.format('indent', '-1', _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        } else if (context.format.list != null) {
          this.quill.format('list', false, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        }
      }

    },
    'indent code-block': makeCodeBlockHandler(true),
    'outdent code-block': makeCodeBlockHandler(false),
    'remove tab': {
      key: 'Tab',
      shiftKey: true,
      collapsed: true,
      prefix: /\\t$/,

      handler(range) {
        this.quill.deleteText(range.index - 1, 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      }

    },
    tab: {
      key: 'Tab',

      handler(range, context) {
        if (context.format.table) return true;
        this.quill.history.cutoff();
        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(range.length).insert('\\t');
        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        this.quill.history.cutoff();
        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
        return false;
      }

    },
    'blockquote empty enter': {
      key: 'Enter',
      collapsed: true,
      format: ['blockquote'],
      empty: true,

      handler() {
        this.quill.format('blockquote', false, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      }

    },
    'list empty enter': {
      key: 'Enter',
      collapsed: true,
      format: ['list'],
      empty: true,

      handler(range, context) {
        const formats = {
          list: false
        };

        if (context.format.indent) {
          formats.indent = false;
        }

        this.quill.formatLine(range.index, range.length, formats, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      }

    },
    'checklist enter': {
      key: 'Enter',
      collapsed: true,
      format: {
        list: 'checked'
      },

      handler(range) {
        const [line, offset] = this.quill.getLine(range.index);
        const formats = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, line.formats(), {
          list: 'checked'
        });
        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, {
          list: 'unchecked'
        });
        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
        this.quill.scrollIntoView();
      }

    },
    'header enter': {
      key: 'Enter',
      collapsed: true,
      format: ['header'],
      suffix: /^$/,

      handler(range, context) {
        const [line, offset] = this.quill.getLine(range.index);
        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, {
          header: null
        });
        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
        this.quill.scrollIntoView();
      }

    },
    'table backspace': {
      key: 'Backspace',
      format: ['table'],
      collapsed: true,
      offset: 0,

      handler() {}

    },
    'table delete': {
      key: 'Delete',
      format: ['table'],
      collapsed: true,
      suffix: /^$/,

      handler() {}

    },
    'table enter': {
      key: 'Enter',
      shiftKey: null,
      format: ['table'],

      handler(range) {
        const module = this.quill.getModule('table');

        if (module) {
          const [table, row, cell, offset] = module.getTable(range);
          const shift = tableSide(table, row, cell, offset);
          if (shift == null) return;
          let index = table.offset();

          if (shift < 0) {
            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert('\\n');
            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
            this.quill.setSelection(range.index + 1, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
          } else if (shift > 0) {
            index += table.length();
            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert('\\n');
            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
            this.quill.setSelection(index, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
          }
        }
      }

    },
    'table tab': {
      key: 'Tab',
      shiftKey: null,
      format: ['table'],

      handler(range, context) {
        const {
          event,
          line: cell
        } = context;
        const offset = cell.offset(this.quill.scroll);

        if (event.shiftKey) {
          this.quill.setSelection(offset - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        } else {
          this.quill.setSelection(offset + cell.length(), _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        }
      }

    },
    'list autofill': {
      key: ' ',
      shiftKey: null,
      collapsed: true,
      format: {
        list: false,
        'code-block': false,
        blockquote: false,
        header: false,
        table: false
      },
      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,

      handler(range, context) {
        if (this.quill.scroll.query('list') == null) return true;
        const {
          length
        } = context.prefix;
        const [line, offset] = this.quill.getLine(range.index);
        if (offset > length) return true;
        let value;

        switch (context.prefix.trim()) {
          case '[]':
          case '[ ]':
            value = 'unchecked';
            break;

          case '[x]':
            value = 'checked';
            break;

          case '-':
          case '*':
            value = 'bullet';
            break;

          default:
            value = 'ordered';
        }

        this.quill.insertText(range.index, ' ', _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        this.quill.history.cutoff();
        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, {
          list: value
        });
        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        this.quill.history.cutoff();
        this.quill.setSelection(range.index - length, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
        return false;
      }

    },
    'code exit': {
      key: 'Enter',
      collapsed: true,
      format: ['code-block'],
      prefix: /^$/,
      suffix: /^\\s*$/,

      handler(range) {
        const [line, offset] = this.quill.getLine(range.index);
        let numLines = 2;
        let cur = line;

        while (cur != null && cur.length() <= 1 && cur.formats()['code-block']) {
          cur = cur.prev;
          numLines -= 1; // Requisite prev lines are empty

          if (numLines <= 0) {
            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index + line.length() - offset - 2).retain(1, {
              'code-block': null
            }).delete(1);
            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
            this.quill.setSelection(range.index - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
            return false;
          }
        }

        return true;
      }

    },
    'embed left': makeEmbedArrowHandler('ArrowLeft', false),
    'embed left shift': makeEmbedArrowHandler('ArrowLeft', true),
    'embed right': makeEmbedArrowHandler('ArrowRight', false),
    'embed right shift': makeEmbedArrowHandler('ArrowRight', true),
    'table down': makeTableArrowHandler(false),
    'table up': makeTableArrowHandler(true)
  }
};

function makeCodeBlockHandler(indent) {
  return {
    key: 'Tab',
    shiftKey: !indent,
    format: {
      'code-block': true
    },

    handler(range) {
      const CodeBlock = this.quill.scroll.query('code-block');
      const lines = range.length === 0 ? this.quill.getLines(range.index, 1) : this.quill.getLines(range);
      let {
        index,
        length
      } = range;
      lines.forEach((line, i) => {
        if (indent) {
          line.insertAt(0, CodeBlock.TAB);

          if (i === 0) {
            index += CodeBlock.TAB.length;
          } else {
            length += CodeBlock.TAB.length;
          }
        } else if (line.domNode.textContent.startsWith(CodeBlock.TAB)) {
          line.deleteAt(0, CodeBlock.TAB.length);

          if (i === 0) {
            index -= CodeBlock.TAB.length;
          } else {
            length -= CodeBlock.TAB.length;
          }
        }
      });
      this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      this.quill.setSelection(index, length, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.SILENT);
    }

  };
}

function makeEmbedArrowHandler(key, shiftKey) {
  const where = key === 'ArrowLeft' ? 'prefix' : 'suffix';
  return {
    key,
    shiftKey,
    altKey: null,
    [where]: /^$/,

    handler(range) {
      let {
        index
      } = range;

      if (key === 'ArrowRight') {
        index += range.length + 1;
      }

      const [leaf] = this.quill.getLeaf(index);
      if (!(leaf instanceof parchment__WEBPACK_IMPORTED_MODULE_4__["EmbedBlot"])) return true;

      if (key === 'ArrowLeft') {
        if (shiftKey) {
          this.quill.setSelection(range.index - 1, range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        } else {
          this.quill.setSelection(range.index - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        }
      } else if (shiftKey) {
        this.quill.setSelection(range.index, range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      } else {
        this.quill.setSelection(range.index + range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
      }

      return false;
    }

  };
}

function makeFormatHandler(format) {
  return {
    key: format[0],
    shortKey: true,

    handler(range, context) {
      this.quill.format(format, !context.format[format], _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
    }

  };
}

function makeTableArrowHandler(up) {
  return {
    key: up ? 'ArrowUp' : 'ArrowDown',
    collapsed: true,
    format: ['table'],

    handler(range, context) {
      // TODO move to table module
      const key = up ? 'prev' : 'next';
      const cell = context.line;
      const targetRow = cell.parent[key];

      if (targetRow != null) {
        if (targetRow.statics.blotName === 'table-row') {
          let targetCell = targetRow.children.head;
          let cur = cell;

          while (cur.prev != null) {
            cur = cur.prev;
            targetCell = targetCell.next;
          }

          const index = targetCell.offset(this.quill.scroll) + Math.min(context.offset, targetCell.length() - 1);
          this.quill.setSelection(index, 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
        }
      } else {
        const targetLine = cell.table()[key];

        if (targetLine != null) {
          if (up) {
            this.quill.setSelection(targetLine.offset(this.quill.scroll) + targetLine.length() - 1, 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
          } else {
            this.quill.setSelection(targetLine.offset(this.quill.scroll), 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__["default"].sources.USER);
          }
        }
      }

      return false;
    }

  };
}

function normalize(binding) {
  if (typeof binding === 'string' || typeof binding === 'number') {
    binding = {
      key: binding
    };
  } else if (typeof binding === 'object') {
    binding = clone__WEBPACK_IMPORTED_MODULE_0___default()(binding, false);
  } else {
    return null;
  }

  if (binding.shortKey) {
    binding[SHORTKEY] = binding.shortKey;
    delete binding.shortKey;
  }

  return binding;
}

function tableSide(table, row, cell, offset) {
  if (row.prev == null && row.next == null) {
    if (cell.prev == null && cell.next == null) {
      return offset === 0 ? -1 : 1;
    }

    return cell.prev == null ? -1 : 1;
  }

  if (row.prev == null) {
    return -1;
  }

  if (row.next == null) {
    return 1;
  }

  return null;
}



//# sourceURL=webpack://Quill/./modules/keyboard.js?`)},"./modules/syntax.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeBlock", function() { return SyntaxCodeBlock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CodeToken", function() { return CodeToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Syntax; });
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../blots/inline */ "./blots/inline.js");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/module */ "./core/module.js");
/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../blots/block */ "./blots/block.js");
/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../blots/break */ "./blots/break.js");
/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../blots/cursor */ "./blots/cursor.js");
/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../blots/text */ "./blots/text.js");
/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../formats/code */ "./formats/code.js");
/* harmony import */ var _clipboard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./clipboard */ "./modules/clipboard.js");











const TokenAttributor = new parchment__WEBPACK_IMPORTED_MODULE_1__["ClassAttributor"]('code-token', 'hljs', {
  scope: parchment__WEBPACK_IMPORTED_MODULE_1__["Scope"].INLINE
});

class CodeToken extends _blots_inline__WEBPACK_IMPORTED_MODULE_2__["default"] {
  static formats(node, scroll) {
    while (node != null && node !== scroll.domNode) {
      if (node.classList && node.classList.contains(_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].className)) {
        return super.formats(node, scroll);
      }

      node = node.parentNode;
    }

    return undefined;
  }

  constructor(scroll, domNode, value) {
    super(scroll, domNode, value);
    TokenAttributor.add(this.domNode, value);
  }

  format(format, value) {
    if (format !== CodeToken.blotName) {
      super.format(format, value);
    } else if (value) {
      TokenAttributor.add(this.domNode, value);
    } else {
      TokenAttributor.remove(this.domNode);
      this.domNode.classList.remove(this.statics.className);
    }
  }

  optimize(...args) {
    super.optimize(...args);

    if (!TokenAttributor.value(this.domNode)) {
      this.unwrap();
    }
  }

}

CodeToken.blotName = 'code-token';
CodeToken.className = 'ql-token';

class SyntaxCodeBlock extends _formats_code__WEBPACK_IMPORTED_MODULE_9__["default"] {
  static create(value) {
    const domNode = super.create(value);

    if (typeof value === 'string') {
      domNode.setAttribute('data-language', value);
    }

    return domNode;
  }

  static formats(domNode) {
    return domNode.getAttribute('data-language') || 'plain';
  }

  static register() {} // Syntax module will register


  format(name, value) {
    if (name === this.statics.blotName && value) {
      this.domNode.setAttribute('data-language', value);
    } else {
      super.format(name, value);
    }
  }

  replaceWith(name, value) {
    this.formatAt(0, this.length(), CodeToken.blotName, false);
    return super.replaceWith(name, value);
  }

}

class SyntaxCodeBlockContainer extends _formats_code__WEBPACK_IMPORTED_MODULE_9__["CodeBlockContainer"] {
  attach() {
    super.attach();
    this.forceNext = false;
    this.scroll.emitMount(this);
  }

  format(name, value) {
    if (name === SyntaxCodeBlock.blotName) {
      this.forceNext = true;
      this.children.forEach(child => {
        child.format(name, value);
      });
    }
  }

  formatAt(index, length, name, value) {
    if (name === SyntaxCodeBlock.blotName) {
      this.forceNext = true;
    }

    super.formatAt(index, length, name, value);
  }

  highlight(highlight, forced = false) {
    if (this.children.head == null) return;
    const nodes = Array.from(this.domNode.childNodes).filter(node => node !== this.uiNode);
    const text = "".concat(nodes.map(node => node.textContent).join('\\n'), "\\n");
    const language = SyntaxCodeBlock.formats(this.children.head.domNode);

    if (forced || this.forceNext || this.cachedText !== text) {
      if (text.trim().length > 0 || this.cachedText == null) {
        const oldDelta = this.children.reduce((delta, child) => {
          return delta.concat(Object(_blots_block__WEBPACK_IMPORTED_MODULE_5__["blockDelta"])(child, false));
        }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a());
        const delta = highlight(text, language);
        oldDelta.diff(delta).reduce((index, {
          retain,
          attributes
        }) => {
          // Should be all retains
          if (!retain) return index;

          if (attributes) {
            Object.keys(attributes).forEach(format => {
              if ([SyntaxCodeBlock.blotName, CodeToken.blotName].includes(format)) {
                this.formatAt(index, retain, format, attributes[format]);
              }
            });
          }

          return index + retain;
        }, 0);
      }

      this.cachedText = text;
      this.forceNext = false;
    }
  }

  optimize(context) {
    super.optimize(context);

    if (this.parent != null && this.children.head != null && this.uiNode != null) {
      const language = SyntaxCodeBlock.formats(this.children.head.domNode);

      if (language !== this.uiNode.value) {
        this.uiNode.value = language;
      }
    }
  }

}

SyntaxCodeBlockContainer.allowedChildren = [SyntaxCodeBlock];
SyntaxCodeBlock.requiredContainer = SyntaxCodeBlockContainer;
SyntaxCodeBlock.allowedChildren = [CodeToken, _blots_cursor__WEBPACK_IMPORTED_MODULE_7__["default"], _blots_text__WEBPACK_IMPORTED_MODULE_8__["default"], _blots_break__WEBPACK_IMPORTED_MODULE_6__["default"]];

class Syntax extends _core_module__WEBPACK_IMPORTED_MODULE_4__["default"] {
  static register() {
    _core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].register(CodeToken, true);
    _core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].register(SyntaxCodeBlock, true);
    _core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].register(SyntaxCodeBlockContainer, true);
  }

  constructor(quill, options) {
    super(quill, options);

    if (this.options.hljs == null) {
      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');
    }

    this.languages = this.options.languages.reduce((memo, {
      key
    }) => {
      memo[key] = true;
      return memo;
    }, {});
    this.highlightBlot = this.highlightBlot.bind(this);
    this.initListener();
    this.initTimer();
  }

  initListener() {
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].events.SCROLL_BLOT_MOUNT, blot => {
      if (!(blot instanceof SyntaxCodeBlockContainer)) return;
      const select = this.quill.root.ownerDocument.createElement('select');
      this.options.languages.forEach(({
        key,
        label
      }) => {
        const option = select.ownerDocument.createElement('option');
        option.textContent = label;
        option.setAttribute('value', key);
        select.appendChild(option);
      });
      select.addEventListener('change', () => {
        blot.format(SyntaxCodeBlock.blotName, select.value);
        this.quill.root.focus(); // Prevent scrolling

        this.highlight(blot, true);
      });

      if (blot.uiNode == null) {
        blot.attachUI(select);

        if (blot.children.head) {
          select.value = SyntaxCodeBlock.formats(blot.children.head.domNode);
        }
      }
    });
  }

  initTimer() {
    let timer = null;
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].events.SCROLL_OPTIMIZE, () => {
      clearTimeout(timer);
      timer = setTimeout(() => {
        this.highlight();
        timer = null;
      }, this.options.interval);
    });
  }

  highlight(blot = null, force = false) {
    if (this.quill.selection.composing) return;
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].sources.USER);
    const range = this.quill.getSelection();
    const blots = blot == null ? this.quill.scroll.descendants(SyntaxCodeBlockContainer) : [blot];
    blots.forEach(container => {
      container.highlight(this.highlightBlot, force);
    });
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT);

    if (range != null) {
      this.quill.setSelection(range, _core_quill__WEBPACK_IMPORTED_MODULE_3__["default"].sources.SILENT);
    }
  }

  highlightBlot(text, language = 'plain') {
    language = this.languages[language] ? language : 'plain';

    if (language === 'plain') {
      return Object(_blots_text__WEBPACK_IMPORTED_MODULE_8__["escapeText"])(text).split('\\n').reduce((delta, line, i) => {
        if (i !== 0) {
          delta.insert('\\n', {
            [_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].blotName]: language
          });
        }

        return delta.insert(line);
      }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a());
    }

    const container = this.quill.root.ownerDocument.createElement('div');
    container.classList.add(_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].className);
    container.innerHTML = this.options.hljs.highlight(language, text).value;
    return Object(_clipboard__WEBPACK_IMPORTED_MODULE_10__["traverse"])(this.quill.scroll, container, [(node, delta) => {
      const value = TokenAttributor.value(node);

      if (value) {
        return delta.compose(new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(delta.length(), {
          [CodeToken.blotName]: value
        }));
      }

      return delta;
    }], [(node, delta) => {
      return node.data.split('\\n').reduce((memo, nodeText, i) => {
        if (i !== 0) memo.insert('\\n', {
          [_formats_code__WEBPACK_IMPORTED_MODULE_9__["default"].blotName]: language
        });
        return memo.insert(nodeText);
      }, delta);
    }], new WeakMap());
  }

}

Syntax.DEFAULTS = {
  hljs: (() => {
    return window.hljs;
  })(),
  interval: 1000,
  languages: [{
    key: 'plain',
    label: 'Plain'
  }, {
    key: 'bash',
    label: 'Bash'
  }, {
    key: 'cpp',
    label: 'C++'
  }, {
    key: 'cs',
    label: 'C#'
  }, {
    key: 'css',
    label: 'CSS'
  }, {
    key: 'diff',
    label: 'Diff'
  }, {
    key: 'xml',
    label: 'HTML/XML'
  }, {
    key: 'java',
    label: 'Java'
  }, {
    key: 'javascript',
    label: 'Javascript'
  }, {
    key: 'markdown',
    label: 'Markdown'
  }, {
    key: 'php',
    label: 'PHP'
  }, {
    key: 'python',
    label: 'Python'
  }, {
    key: 'ruby',
    label: 'Ruby'
  }, {
    key: 'sql',
    label: 'SQL'
  }]
};


//# sourceURL=webpack://Quill/./modules/syntax.js?`)},"./modules/table.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ "./core/module.js");
/* harmony import */ var _formats_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formats/table */ "./formats/table.js");





class Table extends _core_module__WEBPACK_IMPORTED_MODULE_2__["default"] {
  static register() {
    _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__["TableCell"]);
    _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__["TableRow"]);
    _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__["TableBody"]);
    _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__["TableContainer"]);
  }

  constructor(...args) {
    super(...args);
    this.listenBalanceCells();
  }

  balanceTables() {
    this.quill.scroll.descendants(_formats_table__WEBPACK_IMPORTED_MODULE_3__["TableContainer"]).forEach(table => {
      table.balanceCells();
    });
  }

  deleteColumn() {
    const [table,, cell] = this.getTable();
    if (cell == null) return;
    table.deleteColumn(cell.cellOffset());
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
  }

  deleteRow() {
    const [, row] = this.getTable();
    if (row == null) return;
    row.remove();
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
  }

  deleteTable() {
    const [table] = this.getTable();
    if (table == null) return;
    const offset = table.offset();
    table.remove();
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
    this.quill.setSelection(offset, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
  }

  getTable(range = this.quill.getSelection()) {
    if (range == null) return [null, null, null, -1];
    const [cell, offset] = this.quill.getLine(range.index);

    if (cell == null || cell.statics.blotName !== _formats_table__WEBPACK_IMPORTED_MODULE_3__["TableCell"].blotName) {
      return [null, null, null, -1];
    }

    const row = cell.parent;
    const table = row.parent.parent;
    return [table, row, cell, offset];
  }

  insertColumn(offset) {
    const range = this.quill.getSelection();
    const [table, row, cell] = this.getTable(range);
    if (cell == null) return;
    const column = cell.cellOffset();
    table.insertColumn(column + offset);
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
    let shift = row.rowOffset();

    if (offset === 0) {
      shift += 1;
    }

    this.quill.setSelection(range.index + shift, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
  }

  insertColumnLeft() {
    this.insertColumn(0);
  }

  insertColumnRight() {
    this.insertColumn(1);
  }

  insertRow(offset) {
    const range = this.quill.getSelection();
    const [table, row, cell] = this.getTable(range);
    if (cell == null) return;
    const index = row.rowOffset();
    table.insertRow(index + offset);
    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);

    if (offset > 0) {
      this.quill.setSelection(range, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
    } else {
      this.quill.setSelection(range.index + row.children.length, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
    }
  }

  insertRowAbove() {
    this.insertRow(0);
  }

  insertRowBelow() {
    this.insertRow(1);
  }

  insertTable(rows, columns) {
    const range = this.quill.getSelection();
    if (range == null) return;
    const delta = new Array(rows).fill(0).reduce(memo => {
      const text = new Array(columns).fill('\\n').join('');
      return memo.insert(text, {
        table: Object(_formats_table__WEBPACK_IMPORTED_MODULE_3__["tableId"])()
      });
    }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index));
    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
    this.quill.setSelection(range.index, _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
    this.balanceTables();
  }

  listenBalanceCells() {
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_OPTIMIZE, mutations => {
      mutations.some(mutation => {
        if (['TD', 'TR', 'TBODY', 'TABLE'].includes(mutation.target.tagName)) {
          this.quill.once(_core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].events.TEXT_CHANGE, (delta, old, source) => {
            if (source !== _core_quill__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER) return;
            this.balanceTables();
          });
          return true;
        }

        return false;
      });
    });
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Table);

//# sourceURL=webpack://Quill/./modules/table.js?`)},"./modules/toolbar.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Toolbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addControls", function() { return addControls; });
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ "./node_modules/parchment/src/parchment.ts");
/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/quill */ "./core/quill.js");
/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/logger */ "./core/logger.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/module */ "./core/module.js");





const debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_3__["default"])('quill:toolbar');

class Toolbar extends _core_module__WEBPACK_IMPORTED_MODULE_4__["default"] {
  constructor(quill, options) {
    super(quill, options);

    if (Array.isArray(this.options.container)) {
      const container = document.createElement('div');
      addControls(container, this.options.container);
      quill.container.parentNode.insertBefore(container, quill.container);
      this.container = container;
    } else if (typeof this.options.container === 'string') {
      this.container = document.querySelector(this.options.container);
    } else {
      this.container = this.options.container;
    }

    if (!(this.container instanceof HTMLElement)) {
      return debug.error('Container required for toolbar', this.options);
    }

    this.container.classList.add('ql-toolbar');
    this.controls = [];
    this.handlers = {};
    Object.keys(this.options.handlers).forEach(format => {
      this.addHandler(format, this.options.handlers[format]);
    });
    Array.from(this.container.querySelectorAll('button, select')).forEach(input => {
      this.attach(input);
    });
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].events.EDITOR_CHANGE, (type, range) => {
      if (type === _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].events.SELECTION_CHANGE) {
        this.update(range);
      }
    });
    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].events.SCROLL_OPTIMIZE, () => {
      const [range] = this.quill.selection.getRange(); // quill.getSelection triggers update

      this.update(range);
    });
  }

  addHandler(format, handler) {
    this.handlers[format] = handler;
  }

  attach(input) {
    let format = Array.from(input.classList).find(className => {
      return className.indexOf('ql-') === 0;
    });
    if (!format) return;
    format = format.slice('ql-'.length);

    if (input.tagName === 'BUTTON') {
      input.setAttribute('type', 'button');
    }

    if (this.handlers[format] == null && this.quill.scroll.query(format) == null) {
      debug.warn('ignoring attaching to nonexistent format', format, input);
      return;
    }

    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';
    input.addEventListener(eventName, e => {
      let value;

      if (input.tagName === 'SELECT') {
        if (input.selectedIndex < 0) return;
        const selected = input.options[input.selectedIndex];

        if (selected.hasAttribute('selected')) {
          value = false;
        } else {
          value = selected.value || false;
        }
      } else {
        if (input.classList.contains('ql-active')) {
          value = false;
        } else {
          value = input.value || !input.hasAttribute('value');
        }

        e.preventDefault();
      }

      this.quill.focus();
      const [range] = this.quill.selection.getRange();

      if (this.handlers[format] != null) {
        this.handlers[format].call(this, value);
      } else if (this.quill.scroll.query(format).prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_1__["EmbedBlot"]) {
        value = prompt("Enter ".concat(format)); // eslint-disable-line no-alert

        if (!value) return;
        this.quill.updateContents(new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index).delete(range.length).insert({
          [format]: value
        }), _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      } else {
        this.quill.format(format, value, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      }

      this.update(range);
    });
    this.controls.push([format, input]);
  }

  update(range) {
    const formats = range == null ? {} : this.quill.getFormat(range);
    this.controls.forEach(pair => {
      const [format, input] = pair;

      if (input.tagName === 'SELECT') {
        let option;

        if (range == null) {
          option = null;
        } else if (formats[format] == null) {
          option = input.querySelector('option[selected]');
        } else if (!Array.isArray(formats[format])) {
          let value = formats[format];

          if (typeof value === 'string') {
            value = value.replace(/"/g, '\\\\"');
          }

          option = input.querySelector("option[value=\\"".concat(value, "\\"]"));
        }

        if (option == null) {
          input.value = ''; // TODO make configurable?

          input.selectedIndex = -1;
        } else {
          option.selected = true;
        }
      } else if (range == null) {
        input.classList.remove('ql-active');
      } else if (input.hasAttribute('value')) {
        // both being null should match (default values)
        // '1' should match with 1 (headers)
        const isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');
        input.classList.toggle('ql-active', isActive);
      } else {
        input.classList.toggle('ql-active', formats[format] != null);
      }
    });
  }

}

Toolbar.DEFAULTS = {};

function addButton(container, format, value) {
  const input = document.createElement('button');
  input.setAttribute('type', 'button');
  input.classList.add("ql-".concat(format));

  if (value != null) {
    input.value = value;
  }

  container.appendChild(input);
}

function addControls(container, groups) {
  if (!Array.isArray(groups[0])) {
    groups = [groups];
  }

  groups.forEach(controls => {
    const group = document.createElement('span');
    group.classList.add('ql-formats');
    controls.forEach(control => {
      if (typeof control === 'string') {
        addButton(group, control);
      } else {
        const format = Object.keys(control)[0];
        const value = control[format];

        if (Array.isArray(value)) {
          addSelect(group, format, value);
        } else {
          addButton(group, format, value);
        }
      }
    });
    container.appendChild(group);
  });
}

function addSelect(container, format, values) {
  const input = document.createElement('select');
  input.classList.add("ql-".concat(format));
  values.forEach(value => {
    const option = document.createElement('option');

    if (value !== false) {
      option.setAttribute('value', value);
    } else {
      option.setAttribute('selected', 'selected');
    }

    input.appendChild(option);
  });
  container.appendChild(input);
}

Toolbar.DEFAULTS = {
  container: null,
  handlers: {
    clean() {
      const range = this.quill.getSelection();
      if (range == null) return;

      if (range.length === 0) {
        const formats = this.quill.getFormat();
        Object.keys(formats).forEach(name => {
          // Clean functionality in existing apps only clean inline formats
          if (this.quill.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_1__["Scope"].INLINE) != null) {
            this.quill.format(name, false, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
          }
        });
      } else {
        this.quill.removeFormat(range, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      }
    },

    direction(value) {
      const {
        align
      } = this.quill.getFormat();

      if (value === 'rtl' && align == null) {
        this.quill.format('align', 'right', _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      } else if (!value && align === 'right') {
        this.quill.format('align', false, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      }

      this.quill.format('direction', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
    },

    indent(value) {
      const range = this.quill.getSelection();
      const formats = this.quill.getFormat(range);
      const indent = parseInt(formats.indent || 0, 10);

      if (value === '+1' || value === '-1') {
        let modifier = value === '+1' ? 1 : -1;
        if (formats.direction === 'rtl') modifier *= -1;
        this.quill.format('indent', indent + modifier, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      }
    },

    link(value) {
      if (value === true) {
        value = prompt('Enter link URL:'); // eslint-disable-line no-alert
      }

      this.quill.format('link', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
    },

    list(value) {
      const range = this.quill.getSelection();
      const formats = this.quill.getFormat(range);

      if (value === 'check') {
        if (formats.list === 'checked' || formats.list === 'unchecked') {
          this.quill.format('list', false, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
        } else {
          this.quill.format('list', 'unchecked', _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
        }
      } else {
        this.quill.format('list', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__["default"].sources.USER);
      }
    }

  }
};


//# sourceURL=webpack://Quill/./modules/toolbar.js?`)},"./modules/uploader.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ "./node_modules/quill-delta/dist/Delta.js");
/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ "./core/emitter.js");
/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ "./core/module.js");




class Uploader extends _core_module__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(quill, options) {
    super(quill, options);
    quill.root.addEventListener('drop', e => {
      e.preventDefault();
      let native;

      if (document.caretRangeFromPoint) {
        native = document.caretRangeFromPoint(e.clientX, e.clientY);
      } else if (document.caretPositionFromPoint) {
        const position = document.caretPositionFromPoint(e.clientX, e.clientY);
        native = document.createRange();
        native.setStart(position.offsetNode, position.offset);
        native.setEnd(position.offsetNode, position.offset);
      } else {
        return;
      }

      const normalized = quill.selection.normalizeNative(native);
      const range = quill.selection.normalizedToRange(normalized);
      this.upload(range, e.dataTransfer.files);
    });
  }

  upload(range, files) {
    const uploads = [];
    Array.from(files).forEach(file => {
      if (file && this.options.mimetypes.includes(file.type)) {
        uploads.push(file);
      }
    });

    if (uploads.length > 0) {
      this.options.handler.call(this, range, uploads);
    }
  }

}

Uploader.DEFAULTS = {
  mimetypes: ['image/png', 'image/jpeg'],

  handler(range, files) {
    const promises = files.map(file => {
      return new Promise(resolve => {
        const reader = new FileReader();

        reader.onload = e => {
          resolve(e.target.result);
        };

        reader.readAsDataURL(file);
      });
    });
    Promise.all(promises).then(images => {
      const update = images.reduce((delta, image) => {
        return delta.insert({
          image
        });
      }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index).delete(range.length));
      this.quill.updateContents(update, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
      this.quill.setSelection(range.index + images.length, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.SILENT);
    });
  }

};
/* harmony default export */ __webpack_exports__["default"] = (Uploader);

//# sourceURL=webpack://Quill/./modules/uploader.js?`)},"./node_modules/array-filter/index.js":function(module,exports){eval(`
/**
 * Array#filter.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Object=} self
 * @return {Array}
 * @throw TypeError
 */

module.exports = function (arr, fn, self) {
  if (arr.filter) return arr.filter(fn, self);
  if (void 0 === arr || null === arr) throw new TypeError;
  if ('function' != typeof fn) throw new TypeError;
  var ret = [];
  for (var i = 0; i < arr.length; i++) {
    if (!hasOwn.call(arr, i)) continue;
    var val = arr[i];
    if (fn.call(self, val, i, arr)) ret.push(val);
  }
  return ret;
};

var hasOwn = Object.prototype.hasOwnProperty;


//# sourceURL=webpack://Quill/./node_modules/array-filter/index.js?`)},"./node_modules/available-typed-arrays/index.js":function(module,exports,__webpack_require__){eval(`/* WEBPACK VAR INJECTION */(function(global) {

var filter = __webpack_require__(/*! array-filter */ "./node_modules/array-filter/index.js");

module.exports = function availableTypedArrays() {
	return filter([
		'BigInt64Array',
		'BigUint64Array',
		'Float32Array',
		'Float64Array',
		'Int16Array',
		'Int32Array',
		'Int8Array',
		'Uint16Array',
		'Uint32Array',
		'Uint8Array',
		'Uint8ClampedArray'
	], function (typedArray) {
		return typeof global[typedArray] === 'function';
	});
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

//# sourceURL=webpack://Quill/./node_modules/available-typed-arrays/index.js?`)},"./node_modules/clone/clone.js":function(module,exports){eval(`var clone = (function() {
'use strict';

function _instanceof(obj, type) {
  return type != null && obj instanceof type;
}

var nativeMap;
try {
  nativeMap = Map;
} catch(_) {
  // maybe a reference error because no \`Map\`. Give it a dummy value that no
  // value will ever be an instanceof.
  nativeMap = function() {};
}

var nativeSet;
try {
  nativeSet = Set;
} catch(_) {
  nativeSet = function() {};
}

var nativePromise;
try {
  nativePromise = Promise;
} catch(_) {
  nativePromise = function() {};
}

/**
 * Clones (copies) an Object using deep copying.
 *
 * This function supports circular references by default, but if you are certain
 * there are no circular references in your object, you can save some CPU time
 * by calling clone(obj, false).
 *
 * Caution: if \`circular\` is false and \`parent\` contains circular references,
 * your program may enter an infinite loop and crash.
 *
 * @param \`parent\` - the object to be cloned
 * @param \`circular\` - set to true if the object to be cloned may contain
 *    circular references. (optional - true by default)
 * @param \`depth\` - set to a number if the object is only to be cloned to
 *    a particular depth. (optional - defaults to Infinity)
 * @param \`prototype\` - sets the prototype to be used when cloning an object.
 *    (optional - defaults to parent prototype).
 * @param \`includeNonEnumerable\` - set to true if the non-enumerable properties
 *    should be cloned as well. Non-enumerable properties on the prototype
 *    chain will be ignored. (optional - false by default)
*/
function clone(parent, circular, depth, prototype, includeNonEnumerable) {
  if (typeof circular === 'object') {
    depth = circular.depth;
    prototype = circular.prototype;
    includeNonEnumerable = circular.includeNonEnumerable;
    circular = circular.circular;
  }
  // maintain two arrays for circular references, where corresponding parents
  // and children have the same index
  var allParents = [];
  var allChildren = [];

  var useBuffer = typeof Buffer != 'undefined';

  if (typeof circular == 'undefined')
    circular = true;

  if (typeof depth == 'undefined')
    depth = Infinity;

  // recurse this function so we don't reset allParents and allChildren
  function _clone(parent, depth) {
    // cloning null always returns null
    if (parent === null)
      return null;

    if (depth === 0)
      return parent;

    var child;
    var proto;
    if (typeof parent != 'object') {
      return parent;
    }

    if (_instanceof(parent, nativeMap)) {
      child = new nativeMap();
    } else if (_instanceof(parent, nativeSet)) {
      child = new nativeSet();
    } else if (_instanceof(parent, nativePromise)) {
      child = new nativePromise(function (resolve, reject) {
        parent.then(function(value) {
          resolve(_clone(value, depth - 1));
        }, function(err) {
          reject(_clone(err, depth - 1));
        });
      });
    } else if (clone.__isArray(parent)) {
      child = [];
    } else if (clone.__isRegExp(parent)) {
      child = new RegExp(parent.source, __getRegExpFlags(parent));
      if (parent.lastIndex) child.lastIndex = parent.lastIndex;
    } else if (clone.__isDate(parent)) {
      child = new Date(parent.getTime());
    } else if (useBuffer && Buffer.isBuffer(parent)) {
      if (Buffer.allocUnsafe) {
        // Node.js >= 4.5.0
        child = Buffer.allocUnsafe(parent.length);
      } else {
        // Older Node.js versions
        child = new Buffer(parent.length);
      }
      parent.copy(child);
      return child;
    } else if (_instanceof(parent, Error)) {
      child = Object.create(parent);
    } else {
      if (typeof prototype == 'undefined') {
        proto = Object.getPrototypeOf(parent);
        child = Object.create(proto);
      }
      else {
        child = Object.create(prototype);
        proto = prototype;
      }
    }

    if (circular) {
      var index = allParents.indexOf(parent);

      if (index != -1) {
        return allChildren[index];
      }
      allParents.push(parent);
      allChildren.push(child);
    }

    if (_instanceof(parent, nativeMap)) {
      parent.forEach(function(value, key) {
        var keyChild = _clone(key, depth - 1);
        var valueChild = _clone(value, depth - 1);
        child.set(keyChild, valueChild);
      });
    }
    if (_instanceof(parent, nativeSet)) {
      parent.forEach(function(value) {
        var entryChild = _clone(value, depth - 1);
        child.add(entryChild);
      });
    }

    for (var i in parent) {
      var attrs;
      if (proto) {
        attrs = Object.getOwnPropertyDescriptor(proto, i);
      }

      if (attrs && attrs.set == null) {
        continue;
      }
      child[i] = _clone(parent[i], depth - 1);
    }

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(parent);
      for (var i = 0; i < symbols.length; i++) {
        // Don't need to worry about cloning a symbol because it is a primitive,
        // like a number or string.
        var symbol = symbols[i];
        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);
        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {
          continue;
        }
        child[symbol] = _clone(parent[symbol], depth - 1);
        if (!descriptor.enumerable) {
          Object.defineProperty(child, symbol, {
            enumerable: false
          });
        }
      }
    }

    if (includeNonEnumerable) {
      var allPropertyNames = Object.getOwnPropertyNames(parent);
      for (var i = 0; i < allPropertyNames.length; i++) {
        var propertyName = allPropertyNames[i];
        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);
        if (descriptor && descriptor.enumerable) {
          continue;
        }
        child[propertyName] = _clone(parent[propertyName], depth - 1);
        Object.defineProperty(child, propertyName, {
          enumerable: false
        });
      }
    }

    return child;
  }

  return _clone(parent, depth);
}

/**
 * Simple flat clone using prototype, accepts only objects, usefull for property
 * override on FLAT configuration object (no nested props).
 *
 * USE WITH CAUTION! This may not behave as you wish if you do not know how this
 * works.
 */
clone.clonePrototype = function clonePrototype(parent) {
  if (parent === null)
    return null;

  var c = function () {};
  c.prototype = parent;
  return new c();
};

// private utility functions

function __objToStr(o) {
  return Object.prototype.toString.call(o);
}
clone.__objToStr = __objToStr;

function __isDate(o) {
  return typeof o === 'object' && __objToStr(o) === '[object Date]';
}
clone.__isDate = __isDate;

function __isArray(o) {
  return typeof o === 'object' && __objToStr(o) === '[object Array]';
}
clone.__isArray = __isArray;

function __isRegExp(o) {
  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';
}
clone.__isRegExp = __isRegExp;

function __getRegExpFlags(re) {
  var flags = '';
  if (re.global) flags += 'g';
  if (re.ignoreCase) flags += 'i';
  if (re.multiline) flags += 'm';
  return flags;
}
clone.__getRegExpFlags = __getRegExpFlags;

return clone;
})();

if (typeof module === 'object' && module.exports) {
  module.exports = clone;
}


//# sourceURL=webpack://Quill/./node_modules/clone/clone.js?`)},"./node_modules/deep-equal/index.js":function(module,exports,__webpack_require__){eval(`

var objectKeys = __webpack_require__(/*! object-keys */ "./node_modules/deep-equal/node_modules/object-keys/index.js");
var isArguments = __webpack_require__(/*! is-arguments */ "./node_modules/is-arguments/index.js");
var is = __webpack_require__(/*! object-is */ "./node_modules/object-is/index.js");
var isRegex = __webpack_require__(/*! is-regex */ "./node_modules/deep-equal/node_modules/is-regex/index.js");
var flags = __webpack_require__(/*! regexp.prototype.flags */ "./node_modules/regexp.prototype.flags/index.js");
var isArray = __webpack_require__(/*! isarray */ "./node_modules/deep-equal/node_modules/isarray/index.js");
var isDate = __webpack_require__(/*! is-date-object */ "./node_modules/deep-equal/node_modules/is-date-object/index.js");
var whichBoxedPrimitive = __webpack_require__(/*! which-boxed-primitive */ "./node_modules/which-boxed-primitive/index.js");
var GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ "./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js");
var callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ "./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js");
var whichCollection = __webpack_require__(/*! which-collection */ "./node_modules/which-collection/index.js");
var getIterator = __webpack_require__(/*! es-get-iterator */ "./node_modules/es-get-iterator/index.js");
var getSideChannel = __webpack_require__(/*! side-channel */ "./node_modules/side-channel/index.js");
var whichTypedArray = __webpack_require__(/*! which-typed-array */ "./node_modules/which-typed-array/index.js");
var assign = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var $getTime = callBound('Date.prototype.getTime');
var gPO = Object.getPrototypeOf;
var $objToString = callBound('Object.prototype.toString');

var $Set = GetIntrinsic('%Set%', true);
var $mapHas = callBound('Map.prototype.has', true);
var $mapGet = callBound('Map.prototype.get', true);
var $mapSize = callBound('Map.prototype.size', true);
var $setAdd = callBound('Set.prototype.add', true);
var $setDelete = callBound('Set.prototype.delete', true);
var $setHas = callBound('Set.prototype.has', true);
var $setSize = callBound('Set.prototype.size', true);

// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L401-L414
function setHasEqualElement(set, val1, opts, channel) {
  var i = getIterator(set);
  var result;
  while ((result = i.next()) && !result.done) {
    if (internalDeepEqual(val1, result.value, opts, channel)) { // eslint-disable-line no-use-before-define
      // Remove the matching element to make sure we do not check that again.
      $setDelete(set, result.value);
      return true;
    }
  }

  return false;
}

// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L416-L439
function findLooseMatchingPrimitives(prim) {
  if (typeof prim === 'undefined') {
    return null;
  }
  if (typeof prim === 'object') { // Only pass in null as object!
    return void 0;
  }
  if (typeof prim === 'symbol') {
    return false;
  }
  if (typeof prim === 'string' || typeof prim === 'number') {
    // Loose equal entries exist only if the string is possible to convert to a regular number and not NaN.
    return +prim === +prim; // eslint-disable-line no-implicit-coercion
  }
  return true;
}

// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L449-L460
function mapMightHaveLoosePrim(a, b, prim, item, opts, channel) {
  var altValue = findLooseMatchingPrimitives(prim);
  if (altValue != null) {
    return altValue;
  }
  var curB = $mapGet(b, altValue);
  var looseOpts = assign({}, opts, { strict: false });
  if (
    (typeof curB === 'undefined' && !$mapHas(b, altValue))
    // eslint-disable-next-line no-use-before-define
    || !internalDeepEqual(item, curB, looseOpts, channel)
  ) {
    return false;
  }
  // eslint-disable-next-line no-use-before-define
  return !$mapHas(a, altValue) && internalDeepEqual(item, curB, looseOpts, channel);
}

// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L441-L447
function setMightHaveLoosePrim(a, b, prim) {
  var altValue = findLooseMatchingPrimitives(prim);
  if (altValue != null) {
    return altValue;
  }

  return $setHas(b, altValue) && !$setHas(a, altValue);
}

// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L518-L533
function mapHasEqualEntry(set, map, key1, item1, opts, channel) {
  var i = getIterator(set);
  var result;
  var key2;
  while ((result = i.next()) && !result.done) {
    key2 = result.value;
    if (
      // eslint-disable-next-line no-use-before-define
      internalDeepEqual(key1, key2, opts, channel)
      // eslint-disable-next-line no-use-before-define
      && internalDeepEqual(item1, $mapGet(map, key2), opts, channel)
    ) {
      $setDelete(set, key2);
      return true;
    }
  }

  return false;
}

function internalDeepEqual(actual, expected, options, channel) {
  var opts = options || {};

  // 7.1. All identical values are equivalent, as determined by ===.
  if (opts.strict ? is(actual, expected) : actual === expected) {
    return true;
  }

  var actualBoxed = whichBoxedPrimitive(actual);
  var expectedBoxed = whichBoxedPrimitive(expected);
  if (actualBoxed !== expectedBoxed) {
    return false;
  }

  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.
  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {
    return opts.strict ? is(actual, expected) : actual == expected; // eslint-disable-line eqeqeq
  }

  /*
   * 7.4. For all other Object pairs, including Array objects, equivalence is
   * determined by having the same number of owned properties (as verified
   * with Object.prototype.hasOwnProperty.call), the same set of keys
   * (although not necessarily the same order), equivalent values for every
   * corresponding key, and an identical 'prototype' property. Note: this
   * accounts for both named and indexed properties on Arrays.
   */
  // see https://github.com/nodejs/node/commit/d3aafd02efd3a403d646a3044adcf14e63a88d32 for memos/channel inspiration

  var hasActual = channel.has(actual);
  var hasExpected = channel.has(expected);
  var sentinel;
  if (hasActual && hasExpected) {
    if (channel.get(actual) === channel.get(expected)) {
      return true;
    }
  } else {
    sentinel = {};
  }
  if (!hasActual) { channel.set(actual, sentinel); }
  if (!hasExpected) { channel.set(expected, sentinel); }

  // eslint-disable-next-line no-use-before-define
  return objEquiv(actual, expected, opts, channel);
}

function isBuffer(x) {
  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {
    return false;
  }
  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {
    return false;
  }
  if (x.length > 0 && typeof x[0] !== 'number') {
    return false;
  }

  return !!(x.constructor && x.constructor.isBuffer && x.constructor.isBuffer(x));
}

function setEquiv(a, b, opts, channel) {
  if ($setSize(a) !== $setSize(b)) {
    return false;
  }
  var iA = getIterator(a);
  var iB = getIterator(b);
  var resultA;
  var resultB;
  var set;
  while ((resultA = iA.next()) && !resultA.done) {
    if (resultA.value && typeof resultA.value === 'object') {
      if (!set) { set = new $Set(); }
      $setAdd(set, resultA.value);
    } else if (!$setHas(b, resultA.value)) {
      if (opts.strict) { return false; }
      if (!setMightHaveLoosePrim(a, b, resultA.value)) {
        return false;
      }
      if (!set) { set = new $Set(); }
      $setAdd(set, resultA.value);
    }
  }
  if (set) {
    while ((resultB = iB.next()) && !resultB.done) {
      // We have to check if a primitive value is already matching and only if it's not, go hunting for it.
      if (resultB.value && typeof resultB.value === 'object') {
        if (!setHasEqualElement(set, resultB.value, opts.strict, channel)) {
          return false;
        }
      } else if (
        !opts.strict
        && !$setHas(a, resultB.value)
        && !setHasEqualElement(set, resultB.value, opts.strict, channel)
      ) {
        return false;
      }
    }
    return $setSize(set) === 0;
  }
  return true;
}

function mapEquiv(a, b, opts, channel) {
  if ($mapSize(a) !== $mapSize(b)) {
    return false;
  }
  var iA = getIterator(a);
  var iB = getIterator(b);
  var resultA;
  var resultB;
  var set;
  var key;
  var item1;
  var item2;
  while ((resultA = iA.next()) && !resultA.done) {
    key = resultA.value[0];
    item1 = resultA.value[1];
    if (key && typeof key === 'object') {
      if (!set) { set = new $Set(); }
      $setAdd(set, key);
    } else {
      item2 = $mapGet(b, key);
      if ((typeof item2 === 'undefined' && !$mapHas(b, key)) || !internalDeepEqual(item1, item2, opts, channel)) {
        if (opts.strict) {
          return false;
        }
        if (!mapMightHaveLoosePrim(a, b, key, item1, opts, channel)) {
          return false;
        }
        if (!set) { set = new $Set(); }
        $setAdd(set, key);
      }
    }
  }

  if (set) {
    while ((resultB = iB.next()) && !resultB.done) {
      key = resultB.value[0];
      item2 = resultB.value[1];
      if (key && typeof key === 'object') {
        if (!mapHasEqualEntry(set, a, key, item2, opts, channel)) {
          return false;
        }
      } else if (
        !opts.strict
        && (!a.has(key) || !internalDeepEqual($mapGet(a, key), item2, opts, channel))
        && !mapHasEqualEntry(set, a, key, item2, assign({}, opts, { strict: false }), channel)
      ) {
        return false;
      }
    }
    return $setSize(set) === 0;
  }
  return true;
}

function objEquiv(a, b, opts, channel) {
  /* eslint max-statements: [2, 100], max-lines-per-function: [2, 120], max-depth: [2, 5] */
  var i, key;

  if (typeof a !== typeof b) { return false; }
  if (a == null || b == null) { return false; }

  if ($objToString(a) !== $objToString(b)) { return false; }

  if (isArguments(a) !== isArguments(b)) { return false; }

  var aIsArray = isArray(a);
  var bIsArray = isArray(b);
  if (aIsArray !== bIsArray) { return false; }

  // TODO: replace when a cross-realm brand check is available
  var aIsError = a instanceof Error;
  var bIsError = b instanceof Error;
  if (aIsError !== bIsError) { return false; }
  if (aIsError || bIsError) {
    if (a.name !== b.name || a.message !== b.message) { return false; }
  }

  var aIsRegex = isRegex(a);
  var bIsRegex = isRegex(b);
  if (aIsRegex !== bIsRegex) { return false; }
  if ((aIsRegex || bIsRegex) && (a.source !== b.source || flags(a) !== flags(b))) {
    return false;
  }

  var aIsDate = isDate(a);
  var bIsDate = isDate(b);
  if (aIsDate !== bIsDate) { return false; }
  if (aIsDate || bIsDate) { // && would work too, because both are true or both false here
    if ($getTime(a) !== $getTime(b)) { return false; }
  }
  if (opts.strict && gPO && gPO(a) !== gPO(b)) { return false; }

  if (whichTypedArray(a) !== whichTypedArray(b)) {
    return false;
  }

  var aIsBuffer = isBuffer(a);
  var bIsBuffer = isBuffer(b);
  if (aIsBuffer !== bIsBuffer) { return false; }
  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here
    if (a.length !== b.length) { return false; }
    for (i = 0; i < a.length; i++) {
      if (a[i] !== b[i]) { return false; }
    }
    return true;
  }

  if (typeof a !== typeof b) { return false; }

  var ka = objectKeys(a);
  var kb = objectKeys(b);
  // having the same number of owned properties (keys incorporates hasOwnProperty)
  if (ka.length !== kb.length) { return false; }

  // the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  // ~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i]) { return false; } // eslint-disable-line eqeqeq
  }

  // equivalent values for every corresponding key, and ~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!internalDeepEqual(a[key], b[key], opts, channel)) { return false; }
  }

  var aCollection = whichCollection(a);
  var bCollection = whichCollection(b);
  if (aCollection !== bCollection) {
    return false;
  }
  if (aCollection === 'Set' || bCollection === 'Set') { // aCollection === bCollection
    return setEquiv(a, b, opts, channel);
  }
  if (aCollection === 'Map') { // aCollection === bCollection
    return mapEquiv(a, b, opts, channel);
  }

  return true;
}

module.exports = function deepEqual(a, b, opts) {
  return internalDeepEqual(a, b, opts, getSideChannel());
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/index.js?`)},"./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js");

var callBind = __webpack_require__(/*! ./callBind */ "./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js?`)},"./node_modules/deep-equal/node_modules/is-date-object/index.js":function(module,exports,__webpack_require__){eval(`

var getDay = Date.prototype.getDay;
var tryDateObject = function tryDateGetDayCall(value) {
	try {
		getDay.call(value);
		return true;
	} catch (e) {
		return false;
	}
};

var toStr = Object.prototype.toString;
var dateClass = '[object Date]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isDateObject(value) {
	if (typeof value !== 'object' || value === null) {
		return false;
	}
	return hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/is-date-object/index.js?`)},"./node_modules/deep-equal/node_modules/is-regex/index.js":function(module,exports,__webpack_require__){eval(`

var has = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var regexExec = RegExp.prototype.exec;
var gOPD = Object.getOwnPropertyDescriptor;

var tryRegexExecCall = function tryRegexExec(value) {
	try {
		var lastIndex = value.lastIndex;
		value.lastIndex = 0; // eslint-disable-line no-param-reassign

		regexExec.call(value);
		return true;
	} catch (e) {
		return false;
	} finally {
		value.lastIndex = lastIndex; // eslint-disable-line no-param-reassign
	}
};
var toStr = Object.prototype.toString;
var regexClass = '[object RegExp]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isRegex(value) {
	if (!value || typeof value !== 'object') {
		return false;
	}
	if (!hasToStringTag) {
		return toStr.call(value) === regexClass;
	}

	var descriptor = gOPD(value, 'lastIndex');
	var hasLastIndexDataProperty = descriptor && has(descriptor, 'value');
	if (!hasLastIndexDataProperty) {
		return false;
	}

	return tryRegexExecCall(value);
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/is-regex/index.js?`)},"./node_modules/deep-equal/node_modules/isarray/index.js":function(module,exports){eval(`var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/isarray/index.js?`)},"./node_modules/deep-equal/node_modules/object-keys/implementation.js":function(module,exports,__webpack_require__){eval(`

var keysShim;
if (!Object.keys) {
	// modified from https://github.com/es-shims/es5-shim
	var has = Object.prototype.hasOwnProperty;
	var toStr = Object.prototype.toString;
	var isArgs = __webpack_require__(/*! ./isArguments */ "./node_modules/deep-equal/node_modules/object-keys/isArguments.js"); // eslint-disable-line global-require
	var isEnumerable = Object.prototype.propertyIsEnumerable;
	var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
	var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
	var dontEnums = [
		'toString',
		'toLocaleString',
		'valueOf',
		'hasOwnProperty',
		'isPrototypeOf',
		'propertyIsEnumerable',
		'constructor'
	];
	var equalsConstructorPrototype = function (o) {
		var ctor = o.constructor;
		return ctor && ctor.prototype === o;
	};
	var excludedKeys = {
		$applicationCache: true,
		$console: true,
		$external: true,
		$frame: true,
		$frameElement: true,
		$frames: true,
		$innerHeight: true,
		$innerWidth: true,
		$onmozfullscreenchange: true,
		$onmozfullscreenerror: true,
		$outerHeight: true,
		$outerWidth: true,
		$pageXOffset: true,
		$pageYOffset: true,
		$parent: true,
		$scrollLeft: true,
		$scrollTop: true,
		$scrollX: true,
		$scrollY: true,
		$self: true,
		$webkitIndexedDB: true,
		$webkitStorageInfo: true,
		$window: true
	};
	var hasAutomationEqualityBug = (function () {
		/* global window */
		if (typeof window === 'undefined') { return false; }
		for (var k in window) {
			try {
				if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
					try {
						equalsConstructorPrototype(window[k]);
					} catch (e) {
						return true;
					}
				}
			} catch (e) {
				return true;
			}
		}
		return false;
	}());
	var equalsConstructorPrototypeIfNotBuggy = function (o) {
		/* global window */
		if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
			return equalsConstructorPrototype(o);
		}
		try {
			return equalsConstructorPrototype(o);
		} catch (e) {
			return false;
		}
	};

	keysShim = function keys(object) {
		var isObject = object !== null && typeof object === 'object';
		var isFunction = toStr.call(object) === '[object Function]';
		var isArguments = isArgs(object);
		var isString = isObject && toStr.call(object) === '[object String]';
		var theKeys = [];

		if (!isObject && !isFunction && !isArguments) {
			throw new TypeError('Object.keys called on a non-object');
		}

		var skipProto = hasProtoEnumBug && isFunction;
		if (isString && object.length > 0 && !has.call(object, 0)) {
			for (var i = 0; i < object.length; ++i) {
				theKeys.push(String(i));
			}
		}

		if (isArguments && object.length > 0) {
			for (var j = 0; j < object.length; ++j) {
				theKeys.push(String(j));
			}
		} else {
			for (var name in object) {
				if (!(skipProto && name === 'prototype') && has.call(object, name)) {
					theKeys.push(String(name));
				}
			}
		}

		if (hasDontEnumBug) {
			var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

			for (var k = 0; k < dontEnums.length; ++k) {
				if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
					theKeys.push(dontEnums[k]);
				}
			}
		}
		return theKeys;
	};
}
module.exports = keysShim;


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/implementation.js?`)},"./node_modules/deep-equal/node_modules/object-keys/index.js":function(module,exports,__webpack_require__){eval(`

var slice = Array.prototype.slice;
var isArgs = __webpack_require__(/*! ./isArguments */ "./node_modules/deep-equal/node_modules/object-keys/isArguments.js");

var origKeys = Object.keys;
var keysShim = origKeys ? function keys(o) { return origKeys(o); } : __webpack_require__(/*! ./implementation */ "./node_modules/deep-equal/node_modules/object-keys/implementation.js");

var originalKeys = Object.keys;

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			var args = Object.keys(arguments);
			return args && args.length === arguments.length;
		}(1, 2));
		if (!keysWorksWithArguments) {
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				}
				return originalKeys(object);
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

module.exports = keysShim;


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/index.js?`)},"./node_modules/deep-equal/node_modules/object-keys/isArguments.js":function(module,exports,__webpack_require__){eval(`

var toStr = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toStr.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr.call(value.callee) === '[object Function]';
	}
	return isArgs;
};


//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/isArguments.js?`)},"./node_modules/define-properties/index.js":function(module,exports,__webpack_require__){eval(`

var keys = __webpack_require__(/*! object-keys */ "./node_modules/object-keys/index.js");
var hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';

var toStr = Object.prototype.toString;
var concat = Array.prototype.concat;
var origDefineProperty = Object.defineProperty;

var isFunction = function (fn) {
	return typeof fn === 'function' && toStr.call(fn) === '[object Function]';
};

var arePropertyDescriptorsSupported = function () {
	var obj = {};
	try {
		origDefineProperty(obj, 'x', { enumerable: false, value: obj });
		// eslint-disable-next-line no-unused-vars, no-restricted-syntax
		for (var _ in obj) { // jscs:ignore disallowUnusedVariables
			return false;
		}
		return obj.x === obj;
	} catch (e) { /* this is IE 8. */
		return false;
	}
};
var supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();

var defineProperty = function (object, name, value, predicate) {
	if (name in object && (!isFunction(predicate) || !predicate())) {
		return;
	}
	if (supportsDescriptors) {
		origDefineProperty(object, name, {
			configurable: true,
			enumerable: false,
			value: value,
			writable: true
		});
	} else {
		object[name] = value;
	}
};

var defineProperties = function (object, map) {
	var predicates = arguments.length > 2 ? arguments[2] : {};
	var props = keys(map);
	if (hasSymbols) {
		props = concat.call(props, Object.getOwnPropertySymbols(map));
	}
	for (var i = 0; i < props.length; i += 1) {
		defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
	}
};

defineProperties.supportsDescriptors = !!supportsDescriptors;

module.exports = defineProperties;


//# sourceURL=webpack://Quill/./node_modules/define-properties/index.js?`)},"./node_modules/es-get-iterator/index.js":function(module,exports,__webpack_require__){eval(`/* WEBPACK VAR INJECTION */(function(process) {

/* eslint global-require: 0 */
// the code is structured this way so that bundlers can
// alias out \`has-symbols\` to \`() => true\` or \`() => false\` if your target
// environments' Symbol capabilities are known, and then use
// dead code elimination on the rest of this module.
//
// Similarly, \`isarray\` can be aliased to \`Array.isArray\` if
// available in all target environments.

var isArguments = __webpack_require__(/*! is-arguments */ "./node_modules/is-arguments/index.js");

if (__webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")() || __webpack_require__(/*! has-symbols/shams */ "./node_modules/has-symbols/shams.js")()) {
	var $iterator = Symbol.iterator;
	// Symbol is available natively or shammed
	// natively:
	//  - Chrome >= 38
	//  - Edge 12-14?, Edge >= 15 for sure
	//  - FF >= 36
	//  - Safari >= 9
	//  - node >= 0.12
	module.exports = function getIterator(iterable) {
		// alternatively, \`iterable[$iterator]?.()\`
		if (iterable != null && typeof iterable[$iterator] !== 'undefined') {
			return iterable[$iterator]();
		}
		if (isArguments(iterable)) {
			// arguments objects lack Symbol.iterator
			// - node 0.12
			return Array.prototype[$iterator].call(iterable);
		}
	};
} else {
	// Symbol is not available, native or shammed
	var isArray = __webpack_require__(/*! isarray */ "./node_modules/es-get-iterator/node_modules/isarray/index.js");
	var isString = __webpack_require__(/*! is-string */ "./node_modules/is-string/index.js");
	var GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ "./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js");
	var $Map = GetIntrinsic('%Map%', true);
	var $Set = GetIntrinsic('%Set%', true);
	var callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ "./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js");
	var $arrayPush = callBound('Array.prototype.push');
	var $charCodeAt = callBound('String.prototype.charCodeAt');
	var $stringSlice = callBound('String.prototype.slice');

	var advanceStringIndex = function advanceStringIndex(S, index) {
		var length = S.length;
		if ((index + 1) >= length) {
			return index + 1;
		}

		var first = $charCodeAt(S, index);
		if (first < 0xD800 || first > 0xDBFF) {
			return index + 1;
		}

		var second = $charCodeAt(S, index + 1);
		if (second < 0xDC00 || second > 0xDFFF) {
			return index + 1;
		}

		return index + 2;
	};

	var getArrayIterator = function getArrayIterator(arraylike) {
		var i = 0;
		return {
			next: function next() {
				var done = i >= arraylike.length;
				var value;
				if (!done) {
					value = arraylike[i];
					i += 1;
				}
				return {
					done: done,
					value: value
				};
			}
		};
	};

	var getNonCollectionIterator = function getNonCollectionIterator(iterable) {
		if (isArray(iterable) || isArguments(iterable)) {
			return getArrayIterator(iterable);
		}
		if (isString(iterable)) {
			var i = 0;
			return {
				next: function next() {
					var nextIndex = advanceStringIndex(iterable, i);
					var value = $stringSlice(iterable, i, nextIndex);
					i = nextIndex;
					return {
						done: nextIndex > iterable.length,
						value: value
					};
				}
			};
		}
	};

	if (!$Map && !$Set) {
		// the only language iterables are Array, String, arguments
		// - Safari <= 6.0
		// - Chrome < 38
		// - node < 0.12
		// - FF < 13
		// - IE < 11
		// - Edge < 11

		module.exports = getNonCollectionIterator;
	} else {
		// either Map or Set are available, but Symbol is not
		// - es6-shim on an ES5 browser
		// - Safari 6.2 (maybe 6.1?)
		// - FF v[13, 36)
		// - IE 11
		// - Edge 11
		// - Safari v[6, 9)

		var isMap = __webpack_require__(/*! is-map */ "./node_modules/is-map/index.js");
		var isSet = __webpack_require__(/*! is-set */ "./node_modules/is-set/index.js");

		// Firefox >= 27, IE 11, Safari 6.2 - 9, Edge 11, es6-shim in older envs, all have forEach
		var $mapForEach = callBound('Map.prototype.forEach', true);
		var $setForEach = callBound('Set.prototype.forEach', true);
		if (typeof process === 'undefined' || !process.versions || !process.versions.node) { // "if is not node"

			// Firefox 17 - 26 has \`.iterator()\`, whose iterator \`.next()\` either
			// returns a value, or throws a StopIteration object. These browsers
			// do not have any other mechanism for iteration.
			var $mapIterator = callBound('Map.prototype.iterator', true);
			var $setIterator = callBound('Set.prototype.iterator', true);
			var getStopIterationIterator = function (iterator) {
				var done = false;
				return {
					next: function next() {
						try {
							return {
								done: done,
								value: done ? undefined : iterator.next()
							};
						} catch (e) {
							done = true;
							return {
								done: true,
								value: undefined
							};
						}
					}
				};
			};
		}
		// Firefox 27-35, and some older es6-shim versions, use a string "@@iterator" property
		// this returns a proper iterator object, so we should use it instead of forEach.
		// newer es6-shim versions use a string "_es6-shim iterator_" property.
		var $mapAtAtIterator = callBound('Map.prototype.@@iterator', true) || callBound('Map.prototype._es6-shim iterator_', true);
		var $setAtAtIterator = callBound('Set.prototype.@@iterator', true) || callBound('Set.prototype._es6-shim iterator_', true);

		var getCollectionIterator = function getCollectionIterator(iterable) {
			if (isMap(iterable)) {
				if ($mapIterator) {
					return getStopIterationIterator($mapIterator(iterable));
				}
				if ($mapAtAtIterator) {
					return $mapAtAtIterator(iterable);
				}
				if ($mapForEach) {
					var entries = [];
					$mapForEach(iterable, function (v, k) {
						$arrayPush(entries, [k, v]);
					});
					return getArrayIterator(entries);
				}
			}
			if (isSet(iterable)) {
				if ($setIterator) {
					return getStopIterationIterator($setIterator(iterable));
				}
				if ($setAtAtIterator) {
					return $setAtAtIterator(iterable);
				}
				if ($setForEach) {
					var values = [];
					$setForEach(iterable, function (v) {
						$arrayPush(values, v);
					});
					return getArrayIterator(values);
				}
			}
		};

		module.exports = function getIterator(iterable) {
			return getCollectionIterator(iterable) || getNonCollectionIterator(iterable);
		};
	}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/index.js?`)},"./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js");

var callBind = __webpack_require__(/*! ./callBind */ "./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js?`)},"./node_modules/es-get-iterator/node_modules/isarray/index.js":function(module,exports){eval(`var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/isarray/index.js?`)},"./node_modules/eventemitter3/index.js":function(module,exports){eval(`'use strict';

var has = Object.prototype.hasOwnProperty
  , prefix = '~';

/**
 * Constructor to create a storage for our \`EE\` objects.
 * An \`Events\` instance is a plain object whose properties are event names.
 *
 * @constructor
 * @private
 */
function Events() {}

//
// We try to not inherit from \`Object.prototype\`. In some engines creating an
// instance in this way is faster than calling \`Object.create(null)\` directly.
// If \`Object.create(null)\` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
if (Object.create) {
  Events.prototype = Object.create(null);

  //
  // This hack is needed because the \`__proto__\` property is still inherited in
  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.
  //
  if (!new Events().__proto__) prefix = false;
}

/**
 * Representation of a single event listener.
 *
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
 * @constructor
 * @private
 */
function EE(fn, context, once) {
  this.fn = fn;
  this.context = context;
  this.once = once || false;
}

/**
 * Add a listener for a given event.
 *
 * @param {EventEmitter} emitter Reference to the \`EventEmitter\` instance.
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} context The context to invoke the listener with.
 * @param {Boolean} once Specify if the listener is a one-time listener.
 * @returns {EventEmitter}
 * @private
 */
function addListener(emitter, event, fn, context, once) {
  if (typeof fn !== 'function') {
    throw new TypeError('The listener must be a function');
  }

  var listener = new EE(fn, context || emitter, once)
    , evt = prefix ? prefix + event : event;

  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;
  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);
  else emitter._events[evt] = [emitter._events[evt], listener];

  return emitter;
}

/**
 * Clear event by name.
 *
 * @param {EventEmitter} emitter Reference to the \`EventEmitter\` instance.
 * @param {(String|Symbol)} evt The Event name.
 * @private
 */
function clearEvent(emitter, evt) {
  if (--emitter._eventsCount === 0) emitter._events = new Events();
  else delete emitter._events[evt];
}

/**
 * Minimal \`EventEmitter\` interface that is molded against the Node.js
 * \`EventEmitter\` interface.
 *
 * @constructor
 * @public
 */
function EventEmitter() {
  this._events = new Events();
  this._eventsCount = 0;
}

/**
 * Return an array listing the events for which the emitter has registered
 * listeners.
 *
 * @returns {Array}
 * @public
 */
EventEmitter.prototype.eventNames = function eventNames() {
  var names = []
    , events
    , name;

  if (this._eventsCount === 0) return names;

  for (name in (events = this._events)) {
    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);
  }

  if (Object.getOwnPropertySymbols) {
    return names.concat(Object.getOwnPropertySymbols(events));
  }

  return names;
};

/**
 * Return the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Array} The registered listeners.
 * @public
 */
EventEmitter.prototype.listeners = function listeners(event) {
  var evt = prefix ? prefix + event : event
    , handlers = this._events[evt];

  if (!handlers) return [];
  if (handlers.fn) return [handlers.fn];

  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {
    ee[i] = handlers[i].fn;
  }

  return ee;
};

/**
 * Return the number of listeners listening to a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Number} The number of listeners.
 * @public
 */
EventEmitter.prototype.listenerCount = function listenerCount(event) {
  var evt = prefix ? prefix + event : event
    , listeners = this._events[evt];

  if (!listeners) return 0;
  if (listeners.fn) return 1;
  return listeners.length;
};

/**
 * Calls each of the listeners registered for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @returns {Boolean} \`true\` if the event had listeners, else \`false\`.
 * @public
 */
EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return false;

  var listeners = this._events[evt]
    , len = arguments.length
    , args
    , i;

  if (listeners.fn) {
    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);

    switch (len) {
      case 1: return listeners.fn.call(listeners.context), true;
      case 2: return listeners.fn.call(listeners.context, a1), true;
      case 3: return listeners.fn.call(listeners.context, a1, a2), true;
      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;
      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;
      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;
    }

    for (i = 1, args = new Array(len -1); i < len; i++) {
      args[i - 1] = arguments[i];
    }

    listeners.fn.apply(listeners.context, args);
  } else {
    var length = listeners.length
      , j;

    for (i = 0; i < length; i++) {
      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);

      switch (len) {
        case 1: listeners[i].fn.call(listeners[i].context); break;
        case 2: listeners[i].fn.call(listeners[i].context, a1); break;
        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;
        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;
        default:
          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {
            args[j - 1] = arguments[j];
          }

          listeners[i].fn.apply(listeners[i].context, args);
      }
    }
  }

  return true;
};

/**
 * Add a listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} \`this\`.
 * @public
 */
EventEmitter.prototype.on = function on(event, fn, context) {
  return addListener(this, event, fn, context, false);
};

/**
 * Add a one-time listener for a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn The listener function.
 * @param {*} [context=this] The context to invoke the listener with.
 * @returns {EventEmitter} \`this\`.
 * @public
 */
EventEmitter.prototype.once = function once(event, fn, context) {
  return addListener(this, event, fn, context, true);
};

/**
 * Remove the listeners of a given event.
 *
 * @param {(String|Symbol)} event The event name.
 * @param {Function} fn Only remove the listeners that match this function.
 * @param {*} context Only remove the listeners that have this context.
 * @param {Boolean} once Only remove one-time listeners.
 * @returns {EventEmitter} \`this\`.
 * @public
 */
EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {
  var evt = prefix ? prefix + event : event;

  if (!this._events[evt]) return this;
  if (!fn) {
    clearEvent(this, evt);
    return this;
  }

  var listeners = this._events[evt];

  if (listeners.fn) {
    if (
      listeners.fn === fn &&
      (!once || listeners.once) &&
      (!context || listeners.context === context)
    ) {
      clearEvent(this, evt);
    }
  } else {
    for (var i = 0, events = [], length = listeners.length; i < length; i++) {
      if (
        listeners[i].fn !== fn ||
        (once && !listeners[i].once) ||
        (context && listeners[i].context !== context)
      ) {
        events.push(listeners[i]);
      }
    }

    //
    // Reset the array, or remove it completely if we have no more listeners.
    //
    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;
    else clearEvent(this, evt);
  }

  return this;
};

/**
 * Remove all listeners, or those of the specified event.
 *
 * @param {(String|Symbol)} [event] The event name.
 * @returns {EventEmitter} \`this\`.
 * @public
 */
EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {
  var evt;

  if (event) {
    evt = prefix ? prefix + event : event;
    if (this._events[evt]) clearEvent(this, evt);
  } else {
    this._events = new Events();
    this._eventsCount = 0;
  }

  return this;
};

//
// Alias methods names because people roll like that.
//
EventEmitter.prototype.off = EventEmitter.prototype.removeListener;
EventEmitter.prototype.addListener = EventEmitter.prototype.on;

//
// Expose the prefix.
//
EventEmitter.prefixed = prefix;

//
// Allow \`EventEmitter\` to be imported as module namespace.
//
EventEmitter.EventEmitter = EventEmitter;

//
// Expose the module.
//
if ('undefined' !== typeof module) {
  module.exports = EventEmitter;
}


//# sourceURL=webpack://Quill/./node_modules/eventemitter3/index.js?`)},"./node_modules/extend/index.js":function(module,exports){eval(`'use strict';

var hasOwn = Object.prototype.hasOwnProperty;
var toStr = Object.prototype.toString;
var defineProperty = Object.defineProperty;
var gOPD = Object.getOwnPropertyDescriptor;

var isArray = function isArray(arr) {
	if (typeof Array.isArray === 'function') {
		return Array.isArray(arr);
	}

	return toStr.call(arr) === '[object Array]';
};

var isPlainObject = function isPlainObject(obj) {
	if (!obj || toStr.call(obj) !== '[object Object]') {
		return false;
	}

	var hasOwnConstructor = hasOwn.call(obj, 'constructor');
	var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');
	// Not own constructor property must be Object
	if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {
		return false;
	}

	// Own properties are enumerated firstly, so to speed up,
	// if last one is own, then all properties are own.
	var key;
	for (key in obj) { /**/ }

	return typeof key === 'undefined' || hasOwn.call(obj, key);
};

// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target
var setProperty = function setProperty(target, options) {
	if (defineProperty && options.name === '__proto__') {
		defineProperty(target, options.name, {
			enumerable: true,
			configurable: true,
			value: options.newValue,
			writable: true
		});
	} else {
		target[options.name] = options.newValue;
	}
};

// Return undefined instead of __proto__ if '__proto__' is not an own property
var getProperty = function getProperty(obj, name) {
	if (name === '__proto__') {
		if (!hasOwn.call(obj, name)) {
			return void 0;
		} else if (gOPD) {
			// In early versions of node, obj['__proto__'] is buggy when obj has
			// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.
			return gOPD(obj, name).value;
		}
	}

	return obj[name];
};

module.exports = function extend() {
	var options, name, src, copy, copyIsArray, clone;
	var target = arguments[0];
	var i = 1;
	var length = arguments.length;
	var deep = false;

	// Handle a deep copy situation
	if (typeof target === 'boolean') {
		deep = target;
		target = arguments[1] || {};
		// skip the boolean and the target
		i = 2;
	}
	if (target == null || (typeof target !== 'object' && typeof target !== 'function')) {
		target = {};
	}

	for (; i < length; ++i) {
		options = arguments[i];
		// Only deal with non-null/undefined values
		if (options != null) {
			// Extend the base object
			for (name in options) {
				src = getProperty(target, name);
				copy = getProperty(options, name);

				// Prevent never-ending loop
				if (target !== copy) {
					// Recurse if we're merging plain objects or arrays
					if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {
						if (copyIsArray) {
							copyIsArray = false;
							clone = src && isArray(src) ? src : [];
						} else {
							clone = src && isPlainObject(src) ? src : {};
						}

						// Never move original objects, clone them
						setProperty(target, { name: name, newValue: extend(deep, clone, copy) });

					// Don't bring in undefined values
					} else if (typeof copy !== 'undefined') {
						setProperty(target, { name: name, newValue: copy });
					}
				}
			}
		}
	}

	// Return the modified object
	return target;
};


//# sourceURL=webpack://Quill/./node_modules/extend/index.js?`)},"./node_modules/fast-diff/diff.js":function(module,exports){eval(`/**
 * This library modifies the diff-patch-match library by Neil Fraser
 * by removing the patch and match functionality and certain advanced
 * options in the diff function. The original license is as follows:
 *
 * ===
 *
 * Diff Match and Patch
 *
 * Copyright 2006 Google Inc.
 * http://code.google.com/p/google-diff-match-patch/
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


/**
 * The data structure representing a diff is an array of tuples:
 * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]
 * which means: delete 'Hello', add 'Goodbye' and keep ' world.'
 */
var DIFF_DELETE = -1;
var DIFF_INSERT = 1;
var DIFF_EQUAL = 0;


/**
 * Find the differences between two texts.  Simplifies the problem by stripping
 * any common prefix or suffix off the texts before diffing.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info
 * @return {Array} Array of diff tuples.
 */
function diff_main(text1, text2, cursor_pos, _fix_unicode) {
  // Check for equality
  if (text1 === text2) {
    if (text1) {
      return [[DIFF_EQUAL, text1]];
    }
    return [];
  }

  if (cursor_pos != null) {
    var editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);
    if (editdiff) {
      return editdiff;
    }
  }

  // Trim off common prefix (speedup).
  var commonlength = diff_commonPrefix(text1, text2);
  var commonprefix = text1.substring(0, commonlength);
  text1 = text1.substring(commonlength);
  text2 = text2.substring(commonlength);

  // Trim off common suffix (speedup).
  commonlength = diff_commonSuffix(text1, text2);
  var commonsuffix = text1.substring(text1.length - commonlength);
  text1 = text1.substring(0, text1.length - commonlength);
  text2 = text2.substring(0, text2.length - commonlength);

  // Compute the diff on the middle block.
  var diffs = diff_compute_(text1, text2);

  // Restore the prefix and suffix.
  if (commonprefix) {
    diffs.unshift([DIFF_EQUAL, commonprefix]);
  }
  if (commonsuffix) {
    diffs.push([DIFF_EQUAL, commonsuffix]);
  }
  diff_cleanupMerge(diffs, _fix_unicode);
  return diffs;
};


/**
 * Find the differences between two texts.  Assumes that the texts do not
 * have any common prefix or suffix.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @return {Array} Array of diff tuples.
 */
function diff_compute_(text1, text2) {
  var diffs;

  if (!text1) {
    // Just add some text (speedup).
    return [[DIFF_INSERT, text2]];
  }

  if (!text2) {
    // Just delete some text (speedup).
    return [[DIFF_DELETE, text1]];
  }

  var longtext = text1.length > text2.length ? text1 : text2;
  var shorttext = text1.length > text2.length ? text2 : text1;
  var i = longtext.indexOf(shorttext);
  if (i !== -1) {
    // Shorter text is inside the longer text (speedup).
    diffs = [
      [DIFF_INSERT, longtext.substring(0, i)],
      [DIFF_EQUAL, shorttext],
      [DIFF_INSERT, longtext.substring(i + shorttext.length)]
    ];
    // Swap insertions for deletions if diff is reversed.
    if (text1.length > text2.length) {
      diffs[0][0] = diffs[2][0] = DIFF_DELETE;
    }
    return diffs;
  }

  if (shorttext.length === 1) {
    // Single character string.
    // After the previous speedup, the character can't be an equality.
    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
  }

  // Check to see if the problem can be split in two.
  var hm = diff_halfMatch_(text1, text2);
  if (hm) {
    // A half-match was found, sort out the return data.
    var text1_a = hm[0];
    var text1_b = hm[1];
    var text2_a = hm[2];
    var text2_b = hm[3];
    var mid_common = hm[4];
    // Send both pairs off for separate processing.
    var diffs_a = diff_main(text1_a, text2_a);
    var diffs_b = diff_main(text1_b, text2_b);
    // Merge the results.
    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);
  }

  return diff_bisect_(text1, text2);
};


/**
 * Find the 'middle snake' of a diff, split the problem in two
 * and return the recursively constructed diff.
 * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @return {Array} Array of diff tuples.
 * @private
 */
function diff_bisect_(text1, text2) {
  // Cache the text lengths to prevent multiple calls.
  var text1_length = text1.length;
  var text2_length = text2.length;
  var max_d = Math.ceil((text1_length + text2_length) / 2);
  var v_offset = max_d;
  var v_length = 2 * max_d;
  var v1 = new Array(v_length);
  var v2 = new Array(v_length);
  // Setting all elements to -1 is faster in Chrome & Firefox than mixing
  // integers and undefined.
  for (var x = 0; x < v_length; x++) {
    v1[x] = -1;
    v2[x] = -1;
  }
  v1[v_offset + 1] = 0;
  v2[v_offset + 1] = 0;
  var delta = text1_length - text2_length;
  // If the total number of characters is odd, then the front path will collide
  // with the reverse path.
  var front = (delta % 2 !== 0);
  // Offsets for start and end of k loop.
  // Prevents mapping of space beyond the grid.
  var k1start = 0;
  var k1end = 0;
  var k2start = 0;
  var k2end = 0;
  for (var d = 0; d < max_d; d++) {
    // Walk the front path one step.
    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {
      var k1_offset = v_offset + k1;
      var x1;
      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {
        x1 = v1[k1_offset + 1];
      } else {
        x1 = v1[k1_offset - 1] + 1;
      }
      var y1 = x1 - k1;
      while (
        x1 < text1_length && y1 < text2_length &&
        text1.charAt(x1) === text2.charAt(y1)
      ) {
        x1++;
        y1++;
      }
      v1[k1_offset] = x1;
      if (x1 > text1_length) {
        // Ran off the right of the graph.
        k1end += 2;
      } else if (y1 > text2_length) {
        // Ran off the bottom of the graph.
        k1start += 2;
      } else if (front) {
        var k2_offset = v_offset + delta - k1;
        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {
          // Mirror x2 onto top-left coordinate system.
          var x2 = text1_length - v2[k2_offset];
          if (x1 >= x2) {
            // Overlap detected.
            return diff_bisectSplit_(text1, text2, x1, y1);
          }
        }
      }
    }

    // Walk the reverse path one step.
    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {
      var k2_offset = v_offset + k2;
      var x2;
      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {
        x2 = v2[k2_offset + 1];
      } else {
        x2 = v2[k2_offset - 1] + 1;
      }
      var y2 = x2 - k2;
      while (
        x2 < text1_length && y2 < text2_length &&
        text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)
      ) {
        x2++;
        y2++;
      }
      v2[k2_offset] = x2;
      if (x2 > text1_length) {
        // Ran off the left of the graph.
        k2end += 2;
      } else if (y2 > text2_length) {
        // Ran off the top of the graph.
        k2start += 2;
      } else if (!front) {
        var k1_offset = v_offset + delta - k2;
        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {
          var x1 = v1[k1_offset];
          var y1 = v_offset + x1 - k1_offset;
          // Mirror x2 onto top-left coordinate system.
          x2 = text1_length - x2;
          if (x1 >= x2) {
            // Overlap detected.
            return diff_bisectSplit_(text1, text2, x1, y1);
          }
        }
      }
    }
  }
  // Diff took too long and hit the deadline or
  // number of diffs equals number of characters, no commonality at all.
  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];
};


/**
 * Given the location of the 'middle snake', split the diff in two parts
 * and recurse.
 * @param {string} text1 Old string to be diffed.
 * @param {string} text2 New string to be diffed.
 * @param {number} x Index of split point in text1.
 * @param {number} y Index of split point in text2.
 * @return {Array} Array of diff tuples.
 */
function diff_bisectSplit_(text1, text2, x, y) {
  var text1a = text1.substring(0, x);
  var text2a = text2.substring(0, y);
  var text1b = text1.substring(x);
  var text2b = text2.substring(y);

  // Compute both diffs serially.
  var diffs = diff_main(text1a, text2a);
  var diffsb = diff_main(text1b, text2b);

  return diffs.concat(diffsb);
};


/**
 * Determine the common prefix of two strings.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {number} The number of characters common to the start of each
 *     string.
 */
function diff_commonPrefix(text1, text2) {
  // Quick check for common null cases.
  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {
    return 0;
  }
  // Binary search.
  // Performance analysis: http://neil.fraser.name/news/2007/10/09/
  var pointermin = 0;
  var pointermax = Math.min(text1.length, text2.length);
  var pointermid = pointermax;
  var pointerstart = 0;
  while (pointermin < pointermid) {
    if (
      text1.substring(pointerstart, pointermid) ==
      text2.substring(pointerstart, pointermid)
    ) {
      pointermin = pointermid;
      pointerstart = pointermin;
    } else {
      pointermax = pointermid;
    }
    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
  }

  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {
    pointermid--;
  }

  return pointermid;
};


/**
 * Determine the common suffix of two strings.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {number} The number of characters common to the end of each string.
 */
function diff_commonSuffix(text1, text2) {
  // Quick check for common null cases.
  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {
    return 0;
  }
  // Binary search.
  // Performance analysis: http://neil.fraser.name/news/2007/10/09/
  var pointermin = 0;
  var pointermax = Math.min(text1.length, text2.length);
  var pointermid = pointermax;
  var pointerend = 0;
  while (pointermin < pointermid) {
    if (
      text1.substring(text1.length - pointermid, text1.length - pointerend) ==
      text2.substring(text2.length - pointermid, text2.length - pointerend)
    ) {
      pointermin = pointermid;
      pointerend = pointermin;
    } else {
      pointermax = pointermid;
    }
    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);
  }

  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {
    pointermid--;
  }

  return pointermid;
};


/**
 * Do the two texts share a substring which is at least half the length of the
 * longer text?
 * This speedup can produce non-minimal diffs.
 * @param {string} text1 First string.
 * @param {string} text2 Second string.
 * @return {Array.<string>} Five element Array, containing the prefix of
 *     text1, the suffix of text1, the prefix of text2, the suffix of
 *     text2 and the common middle.  Or null if there was no match.
 */
function diff_halfMatch_(text1, text2) {
  var longtext = text1.length > text2.length ? text1 : text2;
  var shorttext = text1.length > text2.length ? text2 : text1;
  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {
    return null;  // Pointless.
  }

  /**
   * Does a substring of shorttext exist within longtext such that the substring
   * is at least half the length of longtext?
   * Closure, but does not reference any external variables.
   * @param {string} longtext Longer string.
   * @param {string} shorttext Shorter string.
   * @param {number} i Start index of quarter length substring within longtext.
   * @return {Array.<string>} Five element Array, containing the prefix of
   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix
   *     of shorttext and the common middle.  Or null if there was no match.
   * @private
   */
  function diff_halfMatchI_(longtext, shorttext, i) {
    // Start with a 1/4 length substring at position i as a seed.
    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));
    var j = -1;
    var best_common = '';
    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;
    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {
      var prefixLength = diff_commonPrefix(
        longtext.substring(i), shorttext.substring(j));
      var suffixLength = diff_commonSuffix(
        longtext.substring(0, i), shorttext.substring(0, j));
      if (best_common.length < suffixLength + prefixLength) {
        best_common = shorttext.substring(
          j - suffixLength, j) + shorttext.substring(j, j + prefixLength);
        best_longtext_a = longtext.substring(0, i - suffixLength);
        best_longtext_b = longtext.substring(i + prefixLength);
        best_shorttext_a = shorttext.substring(0, j - suffixLength);
        best_shorttext_b = shorttext.substring(j + prefixLength);
      }
    }
    if (best_common.length * 2 >= longtext.length) {
      return [
        best_longtext_a, best_longtext_b,
        best_shorttext_a, best_shorttext_b, best_common
      ];
    } else {
      return null;
    }
  }

  // First check if the second quarter is the seed for a half-match.
  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));
  // Check again based on the third quarter.
  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));
  var hm;
  if (!hm1 && !hm2) {
    return null;
  } else if (!hm2) {
    hm = hm1;
  } else if (!hm1) {
    hm = hm2;
  } else {
    // Both matched.  Select the longest.
    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;
  }

  // A half-match was found, sort out the return data.
  var text1_a, text1_b, text2_a, text2_b;
  if (text1.length > text2.length) {
    text1_a = hm[0];
    text1_b = hm[1];
    text2_a = hm[2];
    text2_b = hm[3];
  } else {
    text2_a = hm[0];
    text2_b = hm[1];
    text1_a = hm[2];
    text1_b = hm[3];
  }
  var mid_common = hm[4];
  return [text1_a, text1_b, text2_a, text2_b, mid_common];
};


/**
 * Reorder and merge like edit sections.  Merge equalities.
 * Any edit section can move as long as it doesn't cross an equality.
 * @param {Array} diffs Array of diff tuples.
 * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff
 */
function diff_cleanupMerge(diffs, fix_unicode) {
  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.
  var pointer = 0;
  var count_delete = 0;
  var count_insert = 0;
  var text_delete = '';
  var text_insert = '';
  var commonlength;
  while (pointer < diffs.length) {
    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {
      diffs.splice(pointer, 1);
      continue;
    }
    switch (diffs[pointer][0]) {
      case DIFF_INSERT:

        count_insert++;
        text_insert += diffs[pointer][1];
        pointer++;
        break;
      case DIFF_DELETE:
        count_delete++;
        text_delete += diffs[pointer][1];
        pointer++;
        break;
      case DIFF_EQUAL:
        var previous_equality = pointer - count_insert - count_delete - 1;
        if (fix_unicode) {
          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,
          // we assume that the old and new text in the diff are complete and correct
          // unicode-encoded JS strings, but the tuple boundaries may fall between
          // surrogate pairs.  we fix this by shaving off stray surrogates from the end
          // of the previous equality and the beginning of this equality.  this may create
          // empty equalities or a common prefix or suffix.  for example, if AB and AC are
          // emojis, \`[[0, 'A'], [-1, 'BA'], [0, 'C']]\` would turn into deleting 'ABAC' and
          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this
          // particular case, both equalities go away, we absorb any previous inequalities,
          // and we keep scanning for the next equality before rewriting the tuples.
          if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {
            var stray = diffs[previous_equality][1].slice(-1);
            diffs[previous_equality][1] = diffs[previous_equality][1].slice(0, -1);
            text_delete = stray + text_delete;
            text_insert = stray + text_insert;
            if (!diffs[previous_equality][1]) {
              // emptied out previous equality, so delete it and include previous delete/insert
              diffs.splice(previous_equality, 1);
              pointer--;
              var k = previous_equality - 1;
              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {
                count_insert++;
                text_insert = diffs[k][1] + text_insert;
                k--;
              }
              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {
                count_delete++;
                text_delete = diffs[k][1] + text_delete;
                k--;
              }
              previous_equality = k;
            }
          }
          if (starts_with_pair_end(diffs[pointer][1])) {
            var stray = diffs[pointer][1].charAt(0);
            diffs[pointer][1] = diffs[pointer][1].slice(1);
            text_delete += stray;
            text_insert += stray;
          }
        }
        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {
          // for empty equality not at end, wait for next equality
          diffs.splice(pointer, 1);
          break;
        }
        if (text_delete.length > 0 || text_insert.length > 0) {
          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware
          if (text_delete.length > 0 && text_insert.length > 0) {
            // Factor out any common prefixes.
            commonlength = diff_commonPrefix(text_insert, text_delete);
            if (commonlength !== 0) {
              if (previous_equality >= 0) {
                diffs[previous_equality][1] += text_insert.substring(0, commonlength);
              } else {
                diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);
                pointer++;
              }
              text_insert = text_insert.substring(commonlength);
              text_delete = text_delete.substring(commonlength);
            }
            // Factor out any common suffixes.
            commonlength = diff_commonSuffix(text_insert, text_delete);
            if (commonlength !== 0) {
              diffs[pointer][1] =
                text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];
              text_insert = text_insert.substring(0, text_insert.length - commonlength);
              text_delete = text_delete.substring(0, text_delete.length - commonlength);
            }
          }
          // Delete the offending records and add the merged ones.
          var n = count_insert + count_delete;
          if (text_delete.length === 0 && text_insert.length === 0) {
            diffs.splice(pointer - n, n);
            pointer = pointer - n;
          } else if (text_delete.length === 0) {
            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);
            pointer = pointer - n + 1;
          } else if (text_insert.length === 0) {
            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);
            pointer = pointer - n + 1;
          } else {
            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);
            pointer = pointer - n + 2;
          }
        }
        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {
          // Merge this equality with the previous one.
          diffs[pointer - 1][1] += diffs[pointer][1];
          diffs.splice(pointer, 1);
        } else {
          pointer++;
        }
        count_insert = 0;
        count_delete = 0;
        text_delete = '';
        text_insert = '';
        break;
    }
  }
  if (diffs[diffs.length - 1][1] === '') {
    diffs.pop();  // Remove the dummy entry at the end.
  }

  // Second pass: look for single edits surrounded on both sides by equalities
  // which can be shifted sideways to eliminate an equality.
  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC
  var changes = false;
  pointer = 1;
  // Intentionally ignore the first and last element (don't need checking).
  while (pointer < diffs.length - 1) {
    if (diffs[pointer - 1][0] === DIFF_EQUAL &&
      diffs[pointer + 1][0] === DIFF_EQUAL) {
      // This is a single edit surrounded by equalities.
      if (diffs[pointer][1].substring(diffs[pointer][1].length -
        diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {
        // Shift the edit over the previous equality.
        diffs[pointer][1] = diffs[pointer - 1][1] +
          diffs[pointer][1].substring(0, diffs[pointer][1].length -
            diffs[pointer - 1][1].length);
        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];
        diffs.splice(pointer - 1, 1);
        changes = true;
      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==
        diffs[pointer + 1][1]) {
        // Shift the edit over the next equality.
        diffs[pointer - 1][1] += diffs[pointer + 1][1];
        diffs[pointer][1] =
          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +
          diffs[pointer + 1][1];
        diffs.splice(pointer + 1, 1);
        changes = true;
      }
    }
    pointer++;
  }
  // If shifts were made, the diff needs reordering and another shift sweep.
  if (changes) {
    diff_cleanupMerge(diffs, fix_unicode);
  }
};

function is_surrogate_pair_start(charCode) {
  return charCode >= 0xD800 && charCode <= 0xDBFF;
}

function is_surrogate_pair_end(charCode) {
  return charCode >= 0xDC00 && charCode <= 0xDFFF;
}

function starts_with_pair_end(str) {
  return is_surrogate_pair_end(str.charCodeAt(0));
}

function ends_with_pair_start(str) {
  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));
}

function remove_empty_tuples(tuples) {
  var ret = [];
  for (var i = 0; i < tuples.length; i++) {
    if (tuples[i][1].length > 0) {
      ret.push(tuples[i]);
    }
  }
  return ret;
}

function make_edit_splice(before, oldMiddle, newMiddle, after) {
  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {
    return null;
  }
  return remove_empty_tuples([
    [DIFF_EQUAL, before],
    [DIFF_DELETE, oldMiddle],
    [DIFF_INSERT, newMiddle],
    [DIFF_EQUAL, after]
  ]);
}

function find_cursor_edit_diff(oldText, newText, cursor_pos) {
  // note: this runs after equality check has ruled out exact equality
  var oldRange = typeof cursor_pos === 'number' ?
    { index: cursor_pos, length: 0 } : cursor_pos.oldRange;
  var newRange = typeof cursor_pos === 'number' ?
    null : cursor_pos.newRange;
  // take into account the old and new selection to generate the best diff
  // possible for a text edit.  for example, a text change from "xxx" to "xx"
  // could be a delete or forwards-delete of any one of the x's, or the
  // result of selecting two of the x's and typing "x".
  var oldLength = oldText.length;
  var newLength = newText.length;
  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {
    // see if we have an insert or delete before or after cursor
    var oldCursor = oldRange.index;
    var oldBefore = oldText.slice(0, oldCursor);
    var oldAfter = oldText.slice(oldCursor);
    var maybeNewCursor = newRange ? newRange.index : null;
    editBefore: {
      // is this an insert or delete right before oldCursor?
      var newCursor = oldCursor + newLength - oldLength;
      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {
        break editBefore;
      }
      if (newCursor < 0 || newCursor > newLength) {
        break editBefore;
      }
      var newBefore = newText.slice(0, newCursor);
      var newAfter = newText.slice(newCursor);
      if (newAfter !== oldAfter) {
        break editBefore;
      }
      var prefixLength = Math.min(oldCursor, newCursor);
      var oldPrefix = oldBefore.slice(0, prefixLength);
      var newPrefix = newBefore.slice(0, prefixLength);
      if (oldPrefix !== newPrefix) {
        break editBefore;
      }
      var oldMiddle = oldBefore.slice(prefixLength);
      var newMiddle = newBefore.slice(prefixLength);
      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);
    }
    editAfter: {
      // is this an insert or delete right after oldCursor?
      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {
        break editAfter;
      }
      var cursor = oldCursor;
      var newBefore = newText.slice(0, cursor);
      var newAfter = newText.slice(cursor);
      if (newBefore !== oldBefore) {
        break editAfter;
      }
      var suffixLength = Math.min(oldLength - cursor, newLength - cursor);
      var oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);
      var newSuffix = newAfter.slice(newAfter.length - suffixLength);
      if (oldSuffix !== newSuffix) {
        break editAfter;
      }
      var oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);
      var newMiddle = newAfter.slice(0, newAfter.length - suffixLength);
      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);
    }
  }
  if (oldRange.length > 0 && newRange && newRange.length === 0) {
    replaceRange: {
      // see if diff could be a splice of the old selection range
      var oldPrefix = oldText.slice(0, oldRange.index);
      var oldSuffix = oldText.slice(oldRange.index + oldRange.length);
      var prefixLength = oldPrefix.length;
      var suffixLength = oldSuffix.length;
      if (newLength < prefixLength + suffixLength) {
        break replaceRange;
      }
      var newPrefix = newText.slice(0, prefixLength);
      var newSuffix = newText.slice(newLength - suffixLength);
      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {
        break replaceRange;
      }
      var oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);
      var newMiddle = newText.slice(prefixLength, newLength - suffixLength);
      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);
    }
  }

  return null;
}

function diff(text1, text2, cursor_pos) {
  // only pass fix_unicode=true at the top level, not when diff_main is
  // recursively invoked
  return diff_main(text1, text2, cursor_pos, true);
}

diff.INSERT = DIFF_INSERT;
diff.DELETE = DIFF_DELETE;
diff.EQUAL = DIFF_EQUAL;

module.exports = diff;


//# sourceURL=webpack://Quill/./node_modules/fast-diff/diff.js?`)},"./node_modules/foreach/index.js":function(module,exports){eval(`
var hasOwn = Object.prototype.hasOwnProperty;
var toString = Object.prototype.toString;

module.exports = function forEach (obj, fn, ctx) {
    if (toString.call(fn) !== '[object Function]') {
        throw new TypeError('iterator must be a function');
    }
    var l = obj.length;
    if (l === +l) {
        for (var i = 0; i < l; i++) {
            fn.call(ctx, obj[i], i, obj);
        }
    } else {
        for (var k in obj) {
            if (hasOwn.call(obj, k)) {
                fn.call(ctx, obj[k], k, obj);
            }
        }
    }
};



//# sourceURL=webpack://Quill/./node_modules/foreach/index.js?`)},"./node_modules/function-bind/implementation.js":function(module,exports,__webpack_require__){eval(`

/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice = Array.prototype.slice;
var toStr = Object.prototype.toString;
var funcType = '[object Function]';

module.exports = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};


//# sourceURL=webpack://Quill/./node_modules/function-bind/implementation.js?`)},"./node_modules/function-bind/index.js":function(module,exports,__webpack_require__){eval(`

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/function-bind/implementation.js");

module.exports = Function.prototype.bind || implementation;


//# sourceURL=webpack://Quill/./node_modules/function-bind/index.js?`)},"./node_modules/has-symbols/index.js":function(module,exports,__webpack_require__){eval(`/* WEBPACK VAR INJECTION */(function(global) {

var origSymbol = global.Symbol;
var hasSymbolSham = __webpack_require__(/*! ./shams */ "./node_modules/has-symbols/shams.js");

module.exports = function hasNativeSymbols() {
	if (typeof origSymbol !== 'function') { return false; }
	if (typeof Symbol !== 'function') { return false; }
	if (typeof origSymbol('foo') !== 'symbol') { return false; }
	if (typeof Symbol('bar') !== 'symbol') { return false; }

	return hasSymbolSham();
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

//# sourceURL=webpack://Quill/./node_modules/has-symbols/index.js?`)},"./node_modules/has-symbols/shams.js":function(module,exports,__webpack_require__){eval(`

/* eslint complexity: [2, 18], max-statements: [2, 33] */
module.exports = function hasSymbols() {
	if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }
	if (typeof Symbol.iterator === 'symbol') { return true; }

	var obj = {};
	var sym = Symbol('test');
	var symObj = Object(sym);
	if (typeof sym === 'string') { return false; }

	if (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }
	if (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }

	// temp disabled per https://github.com/ljharb/object.assign/issues/17
	// if (sym instanceof Symbol) { return false; }
	// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4
	// if (!(symObj instanceof Symbol)) { return false; }

	// if (typeof Symbol.prototype.toString !== 'function') { return false; }
	// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }

	var symVal = 42;
	obj[sym] = symVal;
	for (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax
	if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }

	if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }

	var syms = Object.getOwnPropertySymbols(obj);
	if (syms.length !== 1 || syms[0] !== sym) { return false; }

	if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }

	if (typeof Object.getOwnPropertyDescriptor === 'function') {
		var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
		if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }
	}

	return true;
};


//# sourceURL=webpack://Quill/./node_modules/has-symbols/shams.js?`)},"./node_modules/has/src/index.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);


//# sourceURL=webpack://Quill/./node_modules/has/src/index.js?`)},"./node_modules/is-arguments/index.js":function(module,exports,__webpack_require__){eval(`

var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';
var toStr = Object.prototype.toString;

var isStandardArguments = function isArguments(value) {
	if (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {
		return false;
	}
	return toStr.call(value) === '[object Arguments]';
};

var isLegacyArguments = function isArguments(value) {
	if (isStandardArguments(value)) {
		return true;
	}
	return value !== null &&
		typeof value === 'object' &&
		typeof value.length === 'number' &&
		value.length >= 0 &&
		toStr.call(value) !== '[object Array]' &&
		toStr.call(value.callee) === '[object Function]';
};

var supportsStandardArguments = (function () {
	return isStandardArguments(arguments);
}());

isStandardArguments.isLegacyArguments = isLegacyArguments; // for tests

module.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;


//# sourceURL=webpack://Quill/./node_modules/is-arguments/index.js?`)},"./node_modules/is-bigint/index.js":function(module,exports,__webpack_require__){eval(`

if (typeof BigInt === 'function') {
	var bigIntValueOf = BigInt.prototype.valueOf;
	var tryBigInt = function tryBigIntObject(value) {
		try {
			bigIntValueOf.call(value);
			return true;
		} catch (e) {
		}
		return false;
	};

	module.exports = function isBigInt(value) {
		if (
			value === null
			|| typeof value === 'undefined'
			|| typeof value === 'boolean'
			|| typeof value === 'string'
			|| typeof value === 'number'
			|| typeof value === 'symbol'
			|| typeof value === 'function'
		) {
			return false;
		}
		if (typeof value === 'bigint') { // eslint-disable-line valid-typeof
			return true;
		}

		return tryBigInt(value);
	};
} else {
	module.exports = function isBigInt(value) {
		return  false && false;
	};
}


//# sourceURL=webpack://Quill/./node_modules/is-bigint/index.js?`)},"./node_modules/is-boolean-object/index.js":function(module,exports,__webpack_require__){eval(`

var boolToStr = Boolean.prototype.toString;

var tryBooleanObject = function booleanBrandCheck(value) {
	try {
		boolToStr.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr = Object.prototype.toString;
var boolClass = '[object Boolean]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isBoolean(value) {
	if (typeof value === 'boolean') {
		return true;
	}
	if (value === null || typeof value !== 'object') {
		return false;
	}
	return hasToStringTag && Symbol.toStringTag in value ? tryBooleanObject(value) : toStr.call(value) === boolClass;
};


//# sourceURL=webpack://Quill/./node_modules/is-boolean-object/index.js?`)},"./node_modules/is-date-object/index.js":function(module,exports,__webpack_require__){eval(`

var getDay = Date.prototype.getDay;
var tryDateObject = function tryDateObject(value) {
	try {
		getDay.call(value);
		return true;
	} catch (e) {
		return false;
	}
};

var toStr = Object.prototype.toString;
var dateClass = '[object Date]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isDateObject(value) {
	if (typeof value !== 'object' || value === null) { return false; }
	return hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;
};


//# sourceURL=webpack://Quill/./node_modules/is-date-object/index.js?`)},"./node_modules/is-map/index.js":function(module,exports,__webpack_require__){eval(`

var $Map = typeof Map === 'function' && Map.prototype ? Map : null;
var $Set = typeof Set === 'function' && Set.prototype ? Set : null;

var exported;

if (!$Map) {
	// eslint-disable-next-line no-unused-vars
	exported = function isMap(x) {
		// \`Map\` is not present in this environment.
		return false;
	};
}

var $mapHas = $Map ? Map.prototype.has : null;
var $setHas = $Set ? Set.prototype.has : null;
if (!exported && !$mapHas) {
	// eslint-disable-next-line no-unused-vars
	exported = function isMap(x) {
		// \`Map\` does not have a \`has\` method
		return false;
	};
}

module.exports = exported || function isMap(x) {
	if (!x || typeof x !== 'object') {
		return false;
	}
	try {
		$mapHas.call(x);
		if ($setHas) {
			try {
				$setHas.call(x);
			} catch (e) {
				return true;
			}
		}
		return x instanceof $Map; // core-js workaround, pre-v2.5.0
	} catch (e) {}
	return false;
};


//# sourceURL=webpack://Quill/./node_modules/is-map/index.js?`)},"./node_modules/is-number-object/index.js":function(module,exports,__webpack_require__){eval(`

var numToStr = Number.prototype.toString;
var tryNumberObject = function tryNumberObject(value) {
	try {
		numToStr.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr = Object.prototype.toString;
var numClass = '[object Number]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isNumberObject(value) {
	if (typeof value === 'number') {
		return true;
	}
	if (typeof value !== 'object') {
		return false;
	}
	return hasToStringTag ? tryNumberObject(value) : toStr.call(value) === numClass;
};


//# sourceURL=webpack://Quill/./node_modules/is-number-object/index.js?`)},"./node_modules/is-regex/index.js":function(module,exports,__webpack_require__){eval(`

var has = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var regexExec = RegExp.prototype.exec;
var gOPD = Object.getOwnPropertyDescriptor;

var tryRegexExecCall = function tryRegexExec(value) {
	try {
		var lastIndex = value.lastIndex;
		value.lastIndex = 0;

		regexExec.call(value);
		return true;
	} catch (e) {
		return false;
	} finally {
		value.lastIndex = lastIndex;
	}
};
var toStr = Object.prototype.toString;
var regexClass = '[object RegExp]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isRegex(value) {
	if (!value || typeof value !== 'object') {
		return false;
	}
	if (!hasToStringTag) {
		return toStr.call(value) === regexClass;
	}

	var descriptor = gOPD(value, 'lastIndex');
	var hasLastIndexDataProperty = descriptor && has(descriptor, 'value');
	if (!hasLastIndexDataProperty) {
		return false;
	}

	return tryRegexExecCall(value);
};


//# sourceURL=webpack://Quill/./node_modules/is-regex/index.js?`)},"./node_modules/is-set/index.js":function(module,exports,__webpack_require__){eval(`

var $Map = typeof Map === 'function' && Map.prototype ? Map : null;
var $Set = typeof Set === 'function' && Set.prototype ? Set : null;

var exported;

if (!$Set) {
	// eslint-disable-next-line no-unused-vars
	exported = function isSet(x) {
		// \`Set\` is not present in this environment.
		return false;
	};
}

var $mapHas = $Map ? Map.prototype.has : null;
var $setHas = $Set ? Set.prototype.has : null;
if (!exported && !$setHas) {
	// eslint-disable-next-line no-unused-vars
	exported = function isSet(x) {
		// \`Set\` does not have a \`has\` method
		return false;
	};
}

module.exports = exported || function isSet(x) {
	if (!x || typeof x !== 'object') {
		return false;
	}
	try {
		$setHas.call(x);
		if ($mapHas) {
			try {
				$mapHas.call(x);
			} catch (e) {
				return true;
			}
		}
		return x instanceof $Set; // core-js workaround, pre-v2.5.0
	} catch (e) {}
	return false;
};


//# sourceURL=webpack://Quill/./node_modules/is-set/index.js?`)},"./node_modules/is-string/index.js":function(module,exports,__webpack_require__){eval(`

var strValue = String.prototype.valueOf;
var tryStringObject = function tryStringObject(value) {
	try {
		strValue.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr = Object.prototype.toString;
var strClass = '[object String]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isString(value) {
	if (typeof value === 'string') {
		return true;
	}
	if (typeof value !== 'object') {
		return false;
	}
	return hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;
};


//# sourceURL=webpack://Quill/./node_modules/is-string/index.js?`)},"./node_modules/is-typed-array/index.js":function(module,exports,__webpack_require__){eval(`/* WEBPACK VAR INJECTION */(function(global) {

var forEach = __webpack_require__(/*! foreach */ "./node_modules/foreach/index.js");
var availableTypedArrays = __webpack_require__(/*! available-typed-arrays */ "./node_modules/available-typed-arrays/index.js");
var callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js");

var $toString = callBound('Object.prototype.toString');
var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();
var hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';

var typedArrays = availableTypedArrays();

var $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {
	for (var i = 0; i < array.length; i += 1) {
		if (array[i] === value) {
			return i;
		}
	}
	return -1;
};
var $slice = callBound('String.prototype.slice');
var toStrTags = {};
var gOPD = __webpack_require__(/*! es-abstract/helpers/getOwnPropertyDescriptor */ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js");
var getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');
if (hasToStringTag && gOPD && getPrototypeOf) {
	forEach(typedArrays, function (typedArray) {
		var arr = new global[typedArray]();
		if (!(Symbol.toStringTag in arr)) {
			throw new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');
		}
		var proto = getPrototypeOf(arr);
		var descriptor = gOPD(proto, Symbol.toStringTag);
		if (!descriptor) {
			var superProto = getPrototypeOf(proto);
			descriptor = gOPD(superProto, Symbol.toStringTag);
		}
		toStrTags[typedArray] = descriptor.get;
	});
}

var tryTypedArrays = function tryAllTypedArrays(value) {
	var anyTrue = false;
	forEach(toStrTags, function (getter, typedArray) {
		if (!anyTrue) {
			try {
				anyTrue = getter.call(value) === typedArray;
			} catch (e) { /**/ }
		}
	});
	return anyTrue;
};

module.exports = function isTypedArray(value) {
	if (!value || typeof value !== 'object') { return false; }
	if (!hasToStringTag) {
		var tag = $slice($toString(value), 8, -1);
		return $indexOf(typedArrays, tag) > -1;
	}
	if (!gOPD) { return false; }
	return tryTypedArrays(value);
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

//# sourceURL=webpack://Quill/./node_modules/is-typed-array/index.js?`)},"./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var callBind = __webpack_require__(/*! ./callBind */ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js?`)},"./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');
if ($gOPD) {
	try {
		$gOPD([], 'length');
	} catch (e) {
		// IE 8 has a broken gOPD
		$gOPD = null;
	}
}

module.exports = $gOPD;


//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js?`)},"./node_modules/is-weakmap/index.js":function(module,exports,__webpack_require__){eval(`

var $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;
var $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;

var exported;

if (!$WeakMap) {
	// eslint-disable-next-line no-unused-vars
	exported = function isWeakMap(x) {
		// \`WeakMap\` is not present in this environment.
		return false;
	};
}

var $mapHas = $WeakMap ? $WeakMap.prototype.has : null;
var $setHas = $WeakSet ? $WeakSet.prototype.has : null;
if (!exported && !$mapHas) {
	// eslint-disable-next-line no-unused-vars
	exported = function isWeakMap(x) {
		// \`WeakMap\` does not have a \`has\` method
		return false;
	};
}

module.exports = exported || function isWeakMap(x) {
	if (!x || typeof x !== 'object') {
		return false;
	}
	try {
		$mapHas.call(x, $mapHas);
		if ($setHas) {
			try {
				$setHas.call(x, $setHas);
			} catch (e) {
				return true;
			}
		}
		return x instanceof $WeakMap; // core-js workaround, pre-v3
	} catch (e) {}
	return false;
};


//# sourceURL=webpack://Quill/./node_modules/is-weakmap/index.js?`)},"./node_modules/is-weakset/index.js":function(module,exports,__webpack_require__){eval(`

var $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;
var $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;

var exported;

if (!$WeakMap) {
	// eslint-disable-next-line no-unused-vars
	exported = function isWeakSet(x) {
		// \`WeakSet\` is not present in this environment.
		return false;
	};
}

var $mapHas = $WeakMap ? $WeakMap.prototype.has : null;
var $setHas = $WeakSet ? $WeakSet.prototype.has : null;
if (!exported && !$setHas) {
	// eslint-disable-next-line no-unused-vars
	module.exports = function isWeakSet(x) {
		// \`WeakSet\` does not have a \`has\` method
		return false;
	};
}

module.exports = exported || function isWeakSet(x) {
	if (!x || typeof x !== 'object') {
		return false;
	}
	try {
		$setHas.call(x, $setHas);
		if ($mapHas) {
			try {
				$mapHas.call(x, $mapHas);
			} catch (e) {
				return true;
			}
		}
		return x instanceof $WeakSet; // core-js workaround, pre-v3
	} catch (e) {}
	return false;
};


//# sourceURL=webpack://Quill/./node_modules/is-weakset/index.js?`)},"./node_modules/object-inspect/index.js":function(module,exports,__webpack_require__){eval(`var hasMap = typeof Map === 'function' && Map.prototype;
var mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;
var mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;
var mapForEach = hasMap && Map.prototype.forEach;
var hasSet = typeof Set === 'function' && Set.prototype;
var setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;
var setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;
var setForEach = hasSet && Set.prototype.forEach;
var hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;
var weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;
var hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;
var weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;
var booleanValueOf = Boolean.prototype.valueOf;
var objectToString = Object.prototype.toString;
var match = String.prototype.match;
var bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;

var inspectCustom = __webpack_require__(/*! ./util.inspect */ 1).custom;
var inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;

module.exports = function inspect_(obj, options, depth, seen) {
    var opts = options || {};

    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {
        throw new TypeError('option "quoteStyle" must be "single" or "double"');
    }

    if (typeof obj === 'undefined') {
        return 'undefined';
    }
    if (obj === null) {
        return 'null';
    }
    if (typeof obj === 'boolean') {
        return obj ? 'true' : 'false';
    }

    if (typeof obj === 'string') {
        return inspectString(obj, opts);
    }
    if (typeof obj === 'number') {
        if (obj === 0) {
            return Infinity / obj > 0 ? '0' : '-0';
        }
        return String(obj);
    }
    if (typeof obj === 'bigint') { // eslint-disable-line valid-typeof
        return String(obj) + 'n';
    }

    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;
    if (typeof depth === 'undefined') { depth = 0; }
    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {
        return '[Object]';
    }

    if (typeof seen === 'undefined') {
        seen = [];
    } else if (indexOf(seen, obj) >= 0) {
        return '[Circular]';
    }

    function inspect(value, from) {
        if (from) {
            seen = seen.slice();
            seen.push(from);
        }
        return inspect_(value, opts, depth + 1, seen);
    }

    if (typeof obj === 'function') {
        var name = nameOf(obj);
        return '[Function' + (name ? ': ' + name : '') + ']';
    }
    if (isSymbol(obj)) {
        var symString = Symbol.prototype.toString.call(obj);
        return typeof obj === 'object' ? markBoxed(symString) : symString;
    }
    if (isElement(obj)) {
        var s = '<' + String(obj.nodeName).toLowerCase();
        var attrs = obj.attributes || [];
        for (var i = 0; i < attrs.length; i++) {
            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);
        }
        s += '>';
        if (obj.childNodes && obj.childNodes.length) { s += '...'; }
        s += '</' + String(obj.nodeName).toLowerCase() + '>';
        return s;
    }
    if (isArray(obj)) {
        if (obj.length === 0) { return '[]'; }
        return '[ ' + arrObjKeys(obj, inspect).join(', ') + ' ]';
    }
    if (isError(obj)) {
        var parts = arrObjKeys(obj, inspect);
        if (parts.length === 0) { return '[' + String(obj) + ']'; }
        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';
    }
    if (typeof obj === 'object') {
        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {
            return obj[inspectSymbol]();
        } else if (typeof obj.inspect === 'function') {
            return obj.inspect();
        }
    }
    if (isMap(obj)) {
        var mapParts = [];
        mapForEach.call(obj, function (value, key) {
            mapParts.push(inspect(key, obj) + ' => ' + inspect(value, obj));
        });
        return collectionOf('Map', mapSize.call(obj), mapParts);
    }
    if (isSet(obj)) {
        var setParts = [];
        setForEach.call(obj, function (value) {
            setParts.push(inspect(value, obj));
        });
        return collectionOf('Set', setSize.call(obj), setParts);
    }
    if (isWeakMap(obj)) {
        return weakCollectionOf('WeakMap');
    }
    if (isWeakSet(obj)) {
        return weakCollectionOf('WeakSet');
    }
    if (isNumber(obj)) {
        return markBoxed(inspect(Number(obj)));
    }
    if (isBigInt(obj)) {
        return markBoxed(inspect(bigIntValueOf.call(obj)));
    }
    if (isBoolean(obj)) {
        return markBoxed(booleanValueOf.call(obj));
    }
    if (isString(obj)) {
        return markBoxed(inspect(String(obj)));
    }
    if (!isDate(obj) && !isRegExp(obj)) {
        var xs = arrObjKeys(obj, inspect);
        if (xs.length === 0) { return '{}'; }
        return '{ ' + xs.join(', ') + ' }';
    }
    return String(obj);
};

function wrapQuotes(s, defaultStyle, opts) {
    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '"' : "'";
    return quoteChar + s + quoteChar;
}

function quote(s) {
    return String(s).replace(/"/g, '&quot;');
}

function isArray(obj) { return toStr(obj) === '[object Array]'; }
function isDate(obj) { return toStr(obj) === '[object Date]'; }
function isRegExp(obj) { return toStr(obj) === '[object RegExp]'; }
function isError(obj) { return toStr(obj) === '[object Error]'; }
function isSymbol(obj) { return toStr(obj) === '[object Symbol]'; }
function isString(obj) { return toStr(obj) === '[object String]'; }
function isNumber(obj) { return toStr(obj) === '[object Number]'; }
function isBigInt(obj) { return toStr(obj) === '[object BigInt]'; }
function isBoolean(obj) { return toStr(obj) === '[object Boolean]'; }

var hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };
function has(obj, key) {
    return hasOwn.call(obj, key);
}

function toStr(obj) {
    return objectToString.call(obj);
}

function nameOf(f) {
    if (f.name) { return f.name; }
    var m = match.call(f, /^function\\s*([\\w$]+)/);
    if (m) { return m[1]; }
    return null;
}

function indexOf(xs, x) {
    if (xs.indexOf) { return xs.indexOf(x); }
    for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x) { return i; }
    }
    return -1;
}

function isMap(x) {
    if (!mapSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        mapSize.call(x);
        try {
            setSize.call(x);
        } catch (s) {
            return true;
        }
        return x instanceof Map; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakMap(x) {
    if (!weakMapHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakMapHas.call(x, weakMapHas);
        try {
            weakSetHas.call(x, weakSetHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isSet(x) {
    if (!setSize || !x || typeof x !== 'object') {
        return false;
    }
    try {
        setSize.call(x);
        try {
            mapSize.call(x);
        } catch (m) {
            return true;
        }
        return x instanceof Set; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isWeakSet(x) {
    if (!weakSetHas || !x || typeof x !== 'object') {
        return false;
    }
    try {
        weakSetHas.call(x, weakSetHas);
        try {
            weakMapHas.call(x, weakMapHas);
        } catch (s) {
            return true;
        }
        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0
    } catch (e) {}
    return false;
}

function isElement(x) {
    if (!x || typeof x !== 'object') { return false; }
    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {
        return true;
    }
    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';
}

function inspectString(str, opts) {
    // eslint-disable-next-line no-control-regex
    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);
    return wrapQuotes(s, 'single', opts);
}

function lowbyte(c) {
    var n = c.charCodeAt(0);
    var x = {
        8: 'b', 9: 't', 10: 'n', 12: 'f', 13: 'r'
    }[n];
    if (x) { return '\\\\' + x; }
    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16);
}

function markBoxed(str) {
    return 'Object(' + str + ')';
}

function weakCollectionOf(type) {
    return type + ' { ? }';
}

function collectionOf(type, size, entries) {
    return type + ' (' + size + ') {' + entries.join(', ') + '}';
}

function arrObjKeys(obj, inspect) {
    var isArr = isArray(obj);
    var xs = [];
    if (isArr) {
        xs.length = obj.length;
        for (var i = 0; i < obj.length; i++) {
            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';
        }
    }
    for (var key in obj) { // eslint-disable-line no-restricted-syntax
        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue
        if ((/[^\\w$]/).test(key)) {
            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));
        } else {
            xs.push(key + ': ' + inspect(obj[key], obj));
        }
    }
    return xs;
}


//# sourceURL=webpack://Quill/./node_modules/object-inspect/index.js?`)},"./node_modules/object-is/index.js":function(module,exports,__webpack_require__){eval(`

// http://www.ecma-international.org/ecma-262/6.0/#sec-object.is

var numberIsNaN = function (value) {
	return value !== value;
};

module.exports = function is(a, b) {
	if (a === 0 && b === 0) {
		return 1 / a === 1 / b;
	}
	if (a === b) {
		return true;
	}
	if (numberIsNaN(a) && numberIsNaN(b)) {
		return true;
	}
	return false;
};



//# sourceURL=webpack://Quill/./node_modules/object-is/index.js?`)},"./node_modules/object-keys/index.js":function(module,exports,__webpack_require__){eval(`

// modified from https://github.com/es-shims/es5-shim
var has = Object.prototype.hasOwnProperty;
var toStr = Object.prototype.toString;
var slice = Array.prototype.slice;
var isArgs = __webpack_require__(/*! ./isArguments */ "./node_modules/object-keys/isArguments.js");
var isEnumerable = Object.prototype.propertyIsEnumerable;
var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
var dontEnums = [
	'toString',
	'toLocaleString',
	'valueOf',
	'hasOwnProperty',
	'isPrototypeOf',
	'propertyIsEnumerable',
	'constructor'
];
var equalsConstructorPrototype = function (o) {
	var ctor = o.constructor;
	return ctor && ctor.prototype === o;
};
var excludedKeys = {
	$applicationCache: true,
	$console: true,
	$external: true,
	$frame: true,
	$frameElement: true,
	$frames: true,
	$innerHeight: true,
	$innerWidth: true,
	$outerHeight: true,
	$outerWidth: true,
	$pageXOffset: true,
	$pageYOffset: true,
	$parent: true,
	$scrollLeft: true,
	$scrollTop: true,
	$scrollX: true,
	$scrollY: true,
	$self: true,
	$webkitIndexedDB: true,
	$webkitStorageInfo: true,
	$window: true
};
var hasAutomationEqualityBug = (function () {
	/* global window */
	if (typeof window === 'undefined') { return false; }
	for (var k in window) {
		try {
			if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
				try {
					equalsConstructorPrototype(window[k]);
				} catch (e) {
					return true;
				}
			}
		} catch (e) {
			return true;
		}
	}
	return false;
}());
var equalsConstructorPrototypeIfNotBuggy = function (o) {
	/* global window */
	if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
		return equalsConstructorPrototype(o);
	}
	try {
		return equalsConstructorPrototype(o);
	} catch (e) {
		return false;
	}
};

var keysShim = function keys(object) {
	var isObject = object !== null && typeof object === 'object';
	var isFunction = toStr.call(object) === '[object Function]';
	var isArguments = isArgs(object);
	var isString = isObject && toStr.call(object) === '[object String]';
	var theKeys = [];

	if (!isObject && !isFunction && !isArguments) {
		throw new TypeError('Object.keys called on a non-object');
	}

	var skipProto = hasProtoEnumBug && isFunction;
	if (isString && object.length > 0 && !has.call(object, 0)) {
		for (var i = 0; i < object.length; ++i) {
			theKeys.push(String(i));
		}
	}

	if (isArguments && object.length > 0) {
		for (var j = 0; j < object.length; ++j) {
			theKeys.push(String(j));
		}
	} else {
		for (var name in object) {
			if (!(skipProto && name === 'prototype') && has.call(object, name)) {
				theKeys.push(String(name));
			}
		}
	}

	if (hasDontEnumBug) {
		var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

		for (var k = 0; k < dontEnums.length; ++k) {
			if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
				theKeys.push(dontEnums[k]);
			}
		}
	}
	return theKeys;
};

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			return (Object.keys(arguments) || '').length === 2;
		}(1, 2));
		if (!keysWorksWithArguments) {
			var originalKeys = Object.keys;
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				} else {
					return originalKeys(object);
				}
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

module.exports = keysShim;


//# sourceURL=webpack://Quill/./node_modules/object-keys/index.js?`)},"./node_modules/object-keys/isArguments.js":function(module,exports,__webpack_require__){eval(`

var toStr = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toStr.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr.call(value.callee) === '[object Function]';
	}
	return isArgs;
};


//# sourceURL=webpack://Quill/./node_modules/object-keys/isArguments.js?`)},"./node_modules/object.assign/implementation.js":function(module,exports,__webpack_require__){eval(`

// modified from https://github.com/es-shims/es6-shim
var keys = __webpack_require__(/*! object-keys */ "./node_modules/object-keys/index.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var canBeObject = function (obj) {
	return typeof obj !== 'undefined' && obj !== null;
};
var hasSymbols = __webpack_require__(/*! has-symbols/shams */ "./node_modules/has-symbols/shams.js")();
var toObject = Object;
var push = bind.call(Function.call, Array.prototype.push);
var propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);
var originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;

module.exports = function assign(target, source1) {
	if (!canBeObject(target)) { throw new TypeError('target must be an object'); }
	var objTarget = toObject(target);
	var s, source, i, props, syms, value, key;
	for (s = 1; s < arguments.length; ++s) {
		source = toObject(arguments[s]);
		props = keys(source);
		var getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);
		if (getSymbols) {
			syms = getSymbols(source);
			for (i = 0; i < syms.length; ++i) {
				key = syms[i];
				if (propIsEnumerable(source, key)) {
					push(props, key);
				}
			}
		}
		for (i = 0; i < props.length; ++i) {
			key = props[i];
			value = source[key];
			if (propIsEnumerable(source, key)) {
				objTarget[key] = value;
			}
		}
	}
	return objTarget;
};


//# sourceURL=webpack://Quill/./node_modules/object.assign/implementation.js?`)},"./node_modules/object.assign/index.js":function(module,exports,__webpack_require__){eval(`

var defineProperties = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.assign/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.assign/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/object.assign/shim.js");

var polyfill = getPolyfill();

defineProperties(polyfill, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = polyfill;


//# sourceURL=webpack://Quill/./node_modules/object.assign/index.js?`)},"./node_modules/object.assign/polyfill.js":function(module,exports,__webpack_require__){eval(`

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.assign/implementation.js");

var lacksProperEnumerationOrder = function () {
	if (!Object.assign) {
		return false;
	}
	// v8, specifically in node 4.x, has a bug with incorrect property enumeration order
	// note: this does not detect the bug unless there's 20 characters
	var str = 'abcdefghijklmnopqrst';
	var letters = str.split('');
	var map = {};
	for (var i = 0; i < letters.length; ++i) {
		map[letters[i]] = letters[i];
	}
	var obj = Object.assign({}, map);
	var actual = '';
	for (var k in obj) {
		actual += k;
	}
	return str !== actual;
};

var assignHasPendingExceptions = function () {
	if (!Object.assign || !Object.preventExtensions) {
		return false;
	}
	// Firefox 37 still has "pending exception" logic in its Object.assign implementation,
	// which is 72% slower than our shim, and Firefox 40's native implementation.
	var thrower = Object.preventExtensions({ 1: 2 });
	try {
		Object.assign(thrower, 'xy');
	} catch (e) {
		return thrower[1] === 'y';
	}
	return false;
};

module.exports = function getPolyfill() {
	if (!Object.assign) {
		return implementation;
	}
	if (lacksProperEnumerationOrder()) {
		return implementation;
	}
	if (assignHasPendingExceptions()) {
		return implementation;
	}
	return Object.assign;
};


//# sourceURL=webpack://Quill/./node_modules/object.assign/polyfill.js?`)},"./node_modules/object.assign/shim.js":function(module,exports,__webpack_require__){eval(`

var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.assign/polyfill.js");

module.exports = function shimAssign() {
	var polyfill = getPolyfill();
	define(
		Object,
		{ assign: polyfill },
		{ assign: function () { return Object.assign !== polyfill; } }
	);
	return polyfill;
};


//# sourceURL=webpack://Quill/./node_modules/object.assign/shim.js?`)},"./node_modules/parchment/src/attributor/attributor.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Attributor; });
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");

class Attributor {
    constructor(attrName, keyName, options = {}) {
        this.attrName = attrName;
        this.keyName = keyName;
        const attributeBit = _scope__WEBPACK_IMPORTED_MODULE_0__["default"].TYPE & _scope__WEBPACK_IMPORTED_MODULE_0__["default"].ATTRIBUTE;
        this.scope =
            options.scope != null
                ? // Ignore type bits, force attribute bit
                    (options.scope & _scope__WEBPACK_IMPORTED_MODULE_0__["default"].LEVEL) | attributeBit
                : _scope__WEBPACK_IMPORTED_MODULE_0__["default"].ATTRIBUTE;
        if (options.whitelist != null) {
            this.whitelist = options.whitelist;
        }
    }
    static keys(node) {
        return Array.from(node.attributes).map((item) => item.name);
    }
    add(node, value) {
        if (!this.canAdd(node, value)) {
            return false;
        }
        node.setAttribute(this.keyName, value);
        return true;
    }
    canAdd(_node, value) {
        if (this.whitelist == null) {
            return true;
        }
        if (typeof value === 'string') {
            return this.whitelist.indexOf(value.replace(/["']/g, '')) > -1;
        }
        else {
            return this.whitelist.indexOf(value) > -1;
        }
    }
    remove(node) {
        node.removeAttribute(this.keyName);
    }
    value(node) {
        const value = node.getAttribute(this.keyName);
        if (this.canAdd(node, value) && value) {
            return value;
        }
        return '';
    }
}


//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/attributor.ts?`)},"./node_modules/parchment/src/attributor/class.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ "./node_modules/parchment/src/attributor/attributor.ts");

function match(node, prefix) {
    const className = node.getAttribute('class') || '';
    return className
        .split(/\\s+/)
        .filter((name) => name.indexOf(\`\${prefix}-\`) === 0);
}
class ClassAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static keys(node) {
        return (node.getAttribute('class') || '')
            .split(/\\s+/)
            .map((name) => name.split('-').slice(0, -1).join('-'));
    }
    add(node, value) {
        if (!this.canAdd(node, value)) {
            return false;
        }
        this.remove(node);
        node.classList.add(\`\${this.keyName}-\${value}\`);
        return true;
    }
    remove(node) {
        const matches = match(node, this.keyName);
        matches.forEach((name) => {
            node.classList.remove(name);
        });
        if (node.classList.length === 0) {
            node.removeAttribute('class');
        }
    }
    value(node) {
        const result = match(node, this.keyName)[0] || '';
        const value = result.slice(this.keyName.length + 1); // +1 for hyphen
        return this.canAdd(node, value) ? value : '';
    }
}
/* harmony default export */ __webpack_exports__["default"] = (ClassAttributor);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/class.ts?`)},"./node_modules/parchment/src/attributor/store.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registry */ "./node_modules/parchment/src/registry.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributor */ "./node_modules/parchment/src/attributor/attributor.ts");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./class */ "./node_modules/parchment/src/attributor/class.ts");
/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./style */ "./node_modules/parchment/src/attributor/style.ts");





class AttributorStore {
    constructor(domNode) {
        this.attributes = {};
        this.domNode = domNode;
        this.build();
    }
    attribute(attribute, value) {
        // verb
        if (value) {
            if (attribute.add(this.domNode, value)) {
                if (attribute.value(this.domNode) != null) {
                    this.attributes[attribute.attrName] = attribute;
                }
                else {
                    delete this.attributes[attribute.attrName];
                }
            }
        }
        else {
            attribute.remove(this.domNode);
            delete this.attributes[attribute.attrName];
        }
    }
    build() {
        this.attributes = {};
        const blot = _registry__WEBPACK_IMPORTED_MODULE_0__["default"].find(this.domNode);
        if (blot == null) {
            return;
        }
        const attributes = _attributor__WEBPACK_IMPORTED_MODULE_2__["default"].keys(this.domNode);
        const classes = _class__WEBPACK_IMPORTED_MODULE_3__["default"].keys(this.domNode);
        const styles = _style__WEBPACK_IMPORTED_MODULE_4__["default"].keys(this.domNode);
        attributes
            .concat(classes)
            .concat(styles)
            .forEach((name) => {
            const attr = blot.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_1__["default"].ATTRIBUTE);
            if (attr instanceof _attributor__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                this.attributes[attr.attrName] = attr;
            }
        });
    }
    copy(target) {
        Object.keys(this.attributes).forEach((key) => {
            const value = this.attributes[key].value(this.domNode);
            target.format(key, value);
        });
    }
    move(target) {
        this.copy(target);
        Object.keys(this.attributes).forEach((key) => {
            this.attributes[key].remove(this.domNode);
        });
        this.attributes = {};
    }
    values() {
        return Object.keys(this.attributes).reduce((attributes, name) => {
            attributes[name] = this.attributes[name].value(this.domNode);
            return attributes;
        }, {});
    }
}
/* harmony default export */ __webpack_exports__["default"] = (AttributorStore);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/store.ts?`)},"./node_modules/parchment/src/attributor/style.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ "./node_modules/parchment/src/attributor/attributor.ts");

function camelize(name) {
    const parts = name.split('-');
    const rest = parts
        .slice(1)
        .map((part) => part[0].toUpperCase() + part.slice(1))
        .join('');
    return parts[0] + rest;
}
class StyleAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static keys(node) {
        return (node.getAttribute('style') || '').split(';').map((value) => {
            const arr = value.split(':');
            return arr[0].trim();
        });
    }
    add(node, value) {
        if (!this.canAdd(node, value)) {
            return false;
        }
        // @ts-ignore
        node.style[camelize(this.keyName)] = value;
        return true;
    }
    remove(node) {
        // @ts-ignore
        node.style[camelize(this.keyName)] = '';
        if (!node.getAttribute('style')) {
            node.removeAttribute('style');
        }
    }
    value(node) {
        // @ts-ignore
        const value = node.style[camelize(this.keyName)];
        return this.canAdd(node, value) ? value : '';
    }
}
/* harmony default export */ __webpack_exports__["default"] = (StyleAttributor);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/style.ts?`)},"./node_modules/parchment/src/blot/abstract/container.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _parent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parent */ "./node_modules/parchment/src/blot/abstract/parent.ts");


class ContainerBlot extends _parent__WEBPACK_IMPORTED_MODULE_1__["default"] {
    checkMerge() {
        return (this.next !== null && this.next.statics.blotName === this.statics.blotName);
    }
    deleteAt(index, length) {
        super.deleteAt(index, length);
        this.enforceAllowedChildren();
    }
    formatAt(index, length, name, value) {
        super.formatAt(index, length, name, value);
        this.enforceAllowedChildren();
    }
    insertAt(index, value, def) {
        super.insertAt(index, value, def);
        this.enforceAllowedChildren();
    }
    optimize(context) {
        super.optimize(context);
        if (this.children.length > 0 && this.next != null && this.checkMerge()) {
            this.next.moveChildren(this);
            this.next.remove();
        }
    }
}
ContainerBlot.blotName = 'container';
ContainerBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__["default"].BLOCK_BLOT;
/* harmony default export */ __webpack_exports__["default"] = (ContainerBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/container.ts?`)},"./node_modules/parchment/src/blot/abstract/leaf.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shadow */ "./node_modules/parchment/src/blot/abstract/shadow.ts");


class LeafBlot extends _shadow__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static value(_domNode) {
        return true;
    }
    index(node, offset) {
        if (this.domNode === node ||
            this.domNode.compareDocumentPosition(node) &
                Node.DOCUMENT_POSITION_CONTAINED_BY) {
            return Math.min(offset, 1);
        }
        return -1;
    }
    position(index, _inclusive) {
        const childNodes = Array.from(this.parent.domNode.childNodes);
        let offset = childNodes.indexOf(this.domNode);
        if (index > 0) {
            offset += 1;
        }
        return [this.parent.domNode, offset];
    }
    value() {
        return {
            [this.statics.blotName]: this.statics.value(this.domNode) || true,
        };
    }
}
LeafBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__["default"].INLINE_BLOT;
/* harmony default export */ __webpack_exports__["default"] = (LeafBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/leaf.ts?`)},"./node_modules/parchment/src/blot/abstract/parent.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../collection/linked-list */ "./node_modules/parchment/src/collection/linked-list.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../error */ "./node_modules/parchment/src/error.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shadow */ "./node_modules/parchment/src/blot/abstract/shadow.ts");




function makeAttachedBlot(node, scroll) {
    let blot = scroll.find(node);
    if (blot == null) {
        try {
            blot = scroll.create(node);
        }
        catch (e) {
            blot = scroll.create(_scope__WEBPACK_IMPORTED_MODULE_2__["default"].INLINE);
            Array.from(node.childNodes).forEach((child) => {
                // @ts-ignore
                blot.domNode.appendChild(child);
            });
            if (node.parentNode) {
                node.parentNode.replaceChild(blot.domNode, node);
            }
            blot.attach();
        }
    }
    return blot;
}
class ParentBlot extends _shadow__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(scroll, domNode) {
        super(scroll, domNode);
        this.uiNode = null;
        this.build();
    }
    appendChild(other) {
        this.insertBefore(other);
    }
    attach() {
        super.attach();
        this.children.forEach((child) => {
            child.attach();
        });
    }
    attachUI(node) {
        if (this.uiNode != null) {
            this.uiNode.remove();
        }
        this.uiNode = node;
        if (ParentBlot.uiClass) {
            this.uiNode.classList.add(ParentBlot.uiClass);
        }
        this.uiNode.setAttribute('contenteditable', 'false');
        this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);
    }
    build() {
        this.children = new _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__["default"]();
        // Need to be reversed for if DOM nodes already in order
        Array.from(this.domNode.childNodes)
            .filter((node) => node !== this.uiNode)
            .reverse()
            .forEach((node) => {
            try {
                const child = makeAttachedBlot(node, this.scroll);
                this.insertBefore(child, this.children.head || undefined);
            }
            catch (err) {
                if (err instanceof _error__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                    return;
                }
                else {
                    throw err;
                }
            }
        });
    }
    deleteAt(index, length) {
        if (index === 0 && length === this.length()) {
            return this.remove();
        }
        this.children.forEachAt(index, length, (child, offset, childLength) => {
            child.deleteAt(offset, childLength);
        });
    }
    descendant(criteria, index = 0) {
        const [child, offset] = this.children.find(index);
        if ((criteria.blotName == null && criteria(child)) ||
            (criteria.blotName != null && child instanceof criteria)) {
            return [child, offset];
        }
        else if (child instanceof ParentBlot) {
            return child.descendant(criteria, offset);
        }
        else {
            return [null, -1];
        }
    }
    descendants(criteria, index = 0, length = Number.MAX_VALUE) {
        let descendants = [];
        let lengthLeft = length;
        this.children.forEachAt(index, length, (child, childIndex, childLength) => {
            if ((criteria.blotName == null && criteria(child)) ||
                (criteria.blotName != null && child instanceof criteria)) {
                descendants.push(child);
            }
            if (child instanceof ParentBlot) {
                descendants = descendants.concat(child.descendants(criteria, childIndex, lengthLeft));
            }
            lengthLeft -= childLength;
        });
        return descendants;
    }
    detach() {
        this.children.forEach((child) => {
            child.detach();
        });
        super.detach();
    }
    enforceAllowedChildren() {
        let done = false;
        this.children.forEach((child) => {
            if (done) {
                return;
            }
            const allowed = this.statics.allowedChildren.some((def) => child instanceof def);
            if (allowed) {
                return;
            }
            if (child.statics.scope === _scope__WEBPACK_IMPORTED_MODULE_2__["default"].BLOCK_BLOT) {
                if (child.next != null) {
                    this.splitAfter(child);
                }
                if (child.prev != null) {
                    this.splitAfter(child.prev);
                }
                child.parent.unwrap();
                done = true;
            }
            else if (child instanceof ParentBlot) {
                child.unwrap();
            }
            else {
                child.remove();
            }
        });
    }
    formatAt(index, length, name, value) {
        this.children.forEachAt(index, length, (child, offset, childLength) => {
            child.formatAt(offset, childLength, name, value);
        });
    }
    insertAt(index, value, def) {
        const [child, offset] = this.children.find(index);
        if (child) {
            child.insertAt(offset, value, def);
        }
        else {
            const blot = def == null
                ? this.scroll.create('text', value)
                : this.scroll.create(value, def);
            this.appendChild(blot);
        }
    }
    insertBefore(childBlot, refBlot) {
        if (childBlot.parent != null) {
            childBlot.parent.children.remove(childBlot);
        }
        let refDomNode = null;
        this.children.insertBefore(childBlot, refBlot || null);
        childBlot.parent = this;
        if (refBlot != null) {
            refDomNode = refBlot.domNode;
        }
        if (this.domNode.parentNode !== childBlot.domNode ||
            this.domNode.nextSibling !== refDomNode) {
            this.domNode.insertBefore(childBlot.domNode, refDomNode);
        }
        childBlot.attach();
    }
    length() {
        return this.children.reduce((memo, child) => {
            return memo + child.length();
        }, 0);
    }
    moveChildren(targetParent, refNode) {
        this.children.forEach((child) => {
            targetParent.insertBefore(child, refNode);
        });
    }
    optimize(context) {
        super.optimize(context);
        this.enforceAllowedChildren();
        if (this.uiNode != null && this.uiNode !== this.domNode.firstChild) {
            this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);
        }
        if (this.children.length === 0) {
            if (this.statics.defaultChild != null) {
                const child = this.scroll.create(this.statics.defaultChild.blotName);
                this.appendChild(child);
                // TODO double check if necessary
                // child.optimize(context);
            }
            else {
                this.remove();
            }
        }
    }
    path(index, inclusive = false) {
        const [child, offset] = this.children.find(index, inclusive);
        const position = [[this, index]];
        if (child instanceof ParentBlot) {
            return position.concat(child.path(offset, inclusive));
        }
        else if (child != null) {
            position.push([child, offset]);
        }
        return position;
    }
    removeChild(child) {
        this.children.remove(child);
    }
    replaceWith(name, value) {
        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;
        if (replacement instanceof ParentBlot) {
            this.moveChildren(replacement);
        }
        return super.replaceWith(replacement);
    }
    split(index, force = false) {
        if (!force) {
            if (index === 0) {
                return this;
            }
            if (index === this.length()) {
                return this.next;
            }
        }
        const after = this.clone();
        if (this.parent) {
            this.parent.insertBefore(after, this.next || undefined);
        }
        this.children.forEachAt(index, this.length(), (child, offset, _length) => {
            const split = child.split(offset, force);
            if (split != null) {
                after.appendChild(split);
            }
        });
        return after;
    }
    splitAfter(child) {
        const after = this.clone();
        while (child.next != null) {
            after.appendChild(child.next);
        }
        if (this.parent) {
            this.parent.insertBefore(after, this.next || undefined);
        }
        return after;
    }
    unwrap() {
        if (this.parent) {
            this.moveChildren(this.parent, this.next || undefined);
        }
        this.remove();
    }
    update(mutations, _context) {
        const addedNodes = [];
        const removedNodes = [];
        mutations.forEach((mutation) => {
            if (mutation.target === this.domNode && mutation.type === 'childList') {
                addedNodes.push(...mutation.addedNodes);
                removedNodes.push(...mutation.removedNodes);
            }
        });
        removedNodes.forEach((node) => {
            // Check node has actually been removed
            // One exception is Chrome does not immediately remove IFRAMEs
            // from DOM but MutationRecord is correct in its reported removal
            if (node.parentNode != null &&
                // @ts-ignore
                node.tagName !== 'IFRAME' &&
                document.body.compareDocumentPosition(node) &
                    Node.DOCUMENT_POSITION_CONTAINED_BY) {
                return;
            }
            const blot = this.scroll.find(node);
            if (blot == null) {
                return;
            }
            if (blot.domNode.parentNode == null ||
                blot.domNode.parentNode === this.domNode) {
                blot.detach();
            }
        });
        addedNodes
            .filter((node) => {
            return node.parentNode === this.domNode || node === this.uiNode;
        })
            .sort((a, b) => {
            if (a === b) {
                return 0;
            }
            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {
                return 1;
            }
            return -1;
        })
            .forEach((node) => {
            let refBlot = null;
            if (node.nextSibling != null) {
                refBlot = this.scroll.find(node.nextSibling);
            }
            const blot = makeAttachedBlot(node, this.scroll);
            if (blot.next !== refBlot || blot.next == null) {
                if (blot.parent != null) {
                    blot.parent.removeChild(this);
                }
                this.insertBefore(blot, refBlot || undefined);
            }
        });
        this.enforceAllowedChildren();
    }
}
ParentBlot.uiClass = '';
/* harmony default export */ __webpack_exports__["default"] = (ParentBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/parent.ts?`)},"./node_modules/parchment/src/blot/abstract/shadow.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../error */ "./node_modules/parchment/src/error.ts");
/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../registry */ "./node_modules/parchment/src/registry.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scope */ "./node_modules/parchment/src/scope.ts");



class ShadowBlot {
    constructor(scroll, domNode) {
        this.scroll = scroll;
        this.domNode = domNode;
        _registry__WEBPACK_IMPORTED_MODULE_1__["default"].blots.set(domNode, this);
        this.prev = null;
        this.next = null;
    }
    static create(value) {
        if (this.tagName == null) {
            throw new _error__WEBPACK_IMPORTED_MODULE_0__["default"]('Blot definition missing tagName');
        }
        let node;
        if (Array.isArray(this.tagName)) {
            if (typeof value === 'string') {
                value = value.toUpperCase();
                if (parseInt(value, 10).toString() === value) {
                    value = parseInt(value, 10);
                }
            }
            if (typeof value === 'number') {
                node = document.createElement(this.tagName[value - 1]);
            }
            else if (this.tagName.indexOf(value) > -1) {
                node = document.createElement(value);
            }
            else {
                node = document.createElement(this.tagName[0]);
            }
        }
        else {
            node = document.createElement(this.tagName);
        }
        if (this.className) {
            node.classList.add(this.className);
        }
        return node;
    }
    // Hack for accessing inherited static methods
    get statics() {
        return this.constructor;
    }
    attach() {
        // Nothing to do
    }
    clone() {
        const domNode = this.domNode.cloneNode(false);
        return this.scroll.create(domNode);
    }
    detach() {
        if (this.parent != null) {
            this.parent.removeChild(this);
        }
        _registry__WEBPACK_IMPORTED_MODULE_1__["default"].blots.delete(this.domNode);
    }
    deleteAt(index, length) {
        const blot = this.isolate(index, length);
        blot.remove();
    }
    formatAt(index, length, name, value) {
        const blot = this.isolate(index, length);
        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].BLOT) != null && value) {
            blot.wrap(name, value);
        }
        else if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].ATTRIBUTE) != null) {
            const parent = this.scroll.create(this.statics.scope);
            blot.wrap(parent);
            parent.format(name, value);
        }
    }
    insertAt(index, value, def) {
        const blot = def == null
            ? this.scroll.create('text', value)
            : this.scroll.create(value, def);
        const ref = this.split(index);
        this.parent.insertBefore(blot, ref || undefined);
    }
    isolate(index, length) {
        const target = this.split(index);
        if (target == null) {
            throw new Error('Attempt to isolate at end');
        }
        target.split(length);
        return target;
    }
    length() {
        return 1;
    }
    offset(root = this.parent) {
        if (this.parent == null || this === root) {
            return 0;
        }
        return this.parent.children.offset(this) + this.parent.offset(root);
    }
    optimize(_context) {
        if (this.statics.requiredContainer &&
            !(this.parent instanceof this.statics.requiredContainer)) {
            this.wrap(this.statics.requiredContainer.blotName);
        }
    }
    remove() {
        if (this.domNode.parentNode != null) {
            this.domNode.parentNode.removeChild(this.domNode);
        }
        this.detach();
    }
    replaceWith(name, value) {
        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;
        if (this.parent != null) {
            this.parent.insertBefore(replacement, this.next || undefined);
            this.remove();
        }
        return replacement;
    }
    split(index, _force) {
        return index === 0 ? this : this.next;
    }
    update(_mutations, _context) {
        // Nothing to do by default
    }
    wrap(name, value) {
        const wrapper = typeof name === 'string'
            ? this.scroll.create(name, value)
            : name;
        if (this.parent != null) {
            this.parent.insertBefore(wrapper, this.next || undefined);
        }
        if (typeof wrapper.appendChild !== 'function') {
            throw new _error__WEBPACK_IMPORTED_MODULE_0__["default"](\`Cannot wrap \${name}\`);
        }
        wrapper.appendChild(this);
        return wrapper;
    }
}
ShadowBlot.blotName = 'abstract';
/* harmony default export */ __webpack_exports__["default"] = (ShadowBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/shadow.ts?`)},"./node_modules/parchment/src/blot/block.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ "./node_modules/parchment/src/attributor/attributor.ts");
/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ "./node_modules/parchment/src/attributor/store.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ "./node_modules/parchment/src/blot/abstract/leaf.ts");
/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./abstract/parent */ "./node_modules/parchment/src/blot/abstract/parent.ts");
/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inline */ "./node_modules/parchment/src/blot/inline.ts");






class BlockBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor(scroll, domNode) {
        super(scroll, domNode);
        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__["default"](this.domNode);
    }
    static formats(domNode, scroll) {
        const match = scroll.query(BlockBlot.blotName);
        if (match != null &&
            domNode.tagName === match.tagName) {
            return undefined;
        }
        else if (typeof this.tagName === 'string') {
            return true;
        }
        else if (Array.isArray(this.tagName)) {
            return domNode.tagName.toLowerCase();
        }
    }
    format(name, value) {
        const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].BLOCK);
        if (format == null) {
            return;
        }
        else if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this.attributes.attribute(format, value);
        }
        else if (name === this.statics.blotName && !value) {
            this.replaceWith(BlockBlot.blotName);
        }
        else if (value &&
            (name !== this.statics.blotName || this.formats()[name] !== value)) {
            this.replaceWith(name, value);
        }
    }
    formats() {
        const formats = this.attributes.values();
        const format = this.statics.formats(this.domNode, this.scroll);
        if (format != null) {
            formats[this.statics.blotName] = format;
        }
        return formats;
    }
    formatAt(index, length, name, value) {
        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].BLOCK) != null) {
            this.format(name, value);
        }
        else {
            super.formatAt(index, length, name, value);
        }
    }
    insertAt(index, value, def) {
        if (def == null || this.scroll.query(value, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].INLINE) != null) {
            // Insert text or inline
            super.insertAt(index, value, def);
        }
        else {
            const after = this.split(index);
            if (after != null) {
                const blot = this.scroll.create(value, def);
                after.parent.insertBefore(blot, after);
            }
            else {
                throw new Error('Attempt to insertAt after block boundaries');
            }
        }
    }
    replaceWith(name, value) {
        const replacement = super.replaceWith(name, value);
        this.attributes.copy(replacement);
        return replacement;
    }
    update(mutations, context) {
        super.update(mutations, context);
        const attributeChanged = mutations.some((mutation) => mutation.target === this.domNode && mutation.type === 'attributes');
        if (attributeChanged) {
            this.attributes.build();
        }
    }
}
BlockBlot.blotName = 'block';
BlockBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_2__["default"].BLOCK_BLOT;
BlockBlot.tagName = 'P';
BlockBlot.allowedChildren = [
    _inline__WEBPACK_IMPORTED_MODULE_5__["default"],
    BlockBlot,
    _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__["default"],
];
/* harmony default export */ __webpack_exports__["default"] = (BlockBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/block.ts?`)},"./node_modules/parchment/src/blot/embed.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/leaf */ "./node_modules/parchment/src/blot/abstract/leaf.ts");

class EmbedBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__["default"] {
    static formats(_domNode, _scroll) {
        return undefined;
    }
    format(name, value) {
        // super.formatAt wraps, which is what we want in general,
        // but this allows subclasses to overwrite for formats
        // that just apply to particular embeds
        super.formatAt(0, this.length(), name, value);
    }
    formatAt(index, length, name, value) {
        if (index === 0 && length === this.length()) {
            this.format(name, value);
        }
        else {
            super.formatAt(index, length, name, value);
        }
    }
    formats() {
        return this.statics.formats(this.domNode, this.scroll);
    }
}
/* harmony default export */ __webpack_exports__["default"] = (EmbedBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/embed.ts?`)},"./node_modules/parchment/src/blot/inline.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ "./node_modules/parchment/src/attributor/attributor.ts");
/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ "./node_modules/parchment/src/attributor/store.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ "./node_modules/parchment/src/blot/abstract/leaf.ts");
/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./abstract/parent */ "./node_modules/parchment/src/blot/abstract/parent.ts");





// Shallow object comparison
function isEqual(obj1, obj2) {
    if (Object.keys(obj1).length !== Object.keys(obj2).length) {
        return false;
    }
    // @ts-ignore
    for (const prop in obj1) {
        // @ts-ignore
        if (obj1[prop] !== obj2[prop]) {
            return false;
        }
    }
    return true;
}
class InlineBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor(scroll, domNode) {
        super(scroll, domNode);
        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__["default"](this.domNode);
    }
    static formats(domNode, scroll) {
        const match = scroll.query(InlineBlot.blotName);
        if (match != null &&
            domNode.tagName === match.tagName) {
            return undefined;
        }
        else if (typeof this.tagName === 'string') {
            return true;
        }
        else if (Array.isArray(this.tagName)) {
            return domNode.tagName.toLowerCase();
        }
        return undefined;
    }
    format(name, value) {
        if (name === this.statics.blotName && !value) {
            this.children.forEach((child) => {
                if (!(child instanceof InlineBlot)) {
                    child = child.wrap(InlineBlot.blotName, true);
                }
                this.attributes.copy(child);
            });
            this.unwrap();
        }
        else {
            const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].INLINE);
            if (format == null) {
                return;
            }
            if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                this.attributes.attribute(format, value);
            }
            else if (value &&
                (name !== this.statics.blotName || this.formats()[name] !== value)) {
                this.replaceWith(name, value);
            }
        }
    }
    formats() {
        const formats = this.attributes.values();
        const format = this.statics.formats(this.domNode, this.scroll);
        if (format != null) {
            formats[this.statics.blotName] = format;
        }
        return formats;
    }
    formatAt(index, length, name, value) {
        if (this.formats()[name] != null ||
            this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__["default"].ATTRIBUTE)) {
            const blot = this.isolate(index, length);
            blot.format(name, value);
        }
        else {
            super.formatAt(index, length, name, value);
        }
    }
    optimize(context) {
        super.optimize(context);
        const formats = this.formats();
        if (Object.keys(formats).length === 0) {
            return this.unwrap(); // unformatted span
        }
        const next = this.next;
        if (next instanceof InlineBlot &&
            next.prev === this &&
            isEqual(formats, next.formats())) {
            next.moveChildren(this);
            next.remove();
        }
    }
    replaceWith(name, value) {
        const replacement = super.replaceWith(name, value);
        this.attributes.copy(replacement);
        return replacement;
    }
    update(mutations, context) {
        super.update(mutations, context);
        const attributeChanged = mutations.some((mutation) => mutation.target === this.domNode && mutation.type === 'attributes');
        if (attributeChanged) {
            this.attributes.build();
        }
    }
    wrap(name, value) {
        const wrapper = super.wrap(name, value);
        if (wrapper instanceof InlineBlot) {
            this.attributes.move(wrapper);
        }
        return wrapper;
    }
}
InlineBlot.allowedChildren = [InlineBlot, _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__["default"]];
InlineBlot.blotName = 'inline';
InlineBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_2__["default"].INLINE_BLOT;
InlineBlot.tagName = 'SPAN';
/* harmony default export */ __webpack_exports__["default"] = (InlineBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/inline.ts?`)},"./node_modules/parchment/src/blot/scroll.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registry */ "./node_modules/parchment/src/registry.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _abstract_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/container */ "./node_modules/parchment/src/blot/abstract/container.ts");
/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/parent */ "./node_modules/parchment/src/blot/abstract/parent.ts");
/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./block */ "./node_modules/parchment/src/blot/block.ts");





const OBSERVER_CONFIG = {
    attributes: true,
    characterData: true,
    characterDataOldValue: true,
    childList: true,
    subtree: true,
};
const MAX_OPTIMIZE_ITERATIONS = 100;
class ScrollBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(registry, node) {
        // @ts-ignore
        super(null, node);
        this.registry = registry;
        this.scroll = this;
        this.build();
        this.observer = new MutationObserver((mutations) => {
            this.update(mutations);
        });
        this.observer.observe(this.domNode, OBSERVER_CONFIG);
        this.attach();
    }
    create(input, value) {
        return this.registry.create(this, input, value);
    }
    find(node, bubble = false) {
        return this.registry.find(node, bubble);
    }
    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_1__["default"].ANY) {
        return this.registry.query(query, scope);
    }
    register(...definitions) {
        return this.registry.register(...definitions);
    }
    build() {
        if (this.scroll == null) {
            return;
        }
        super.build();
    }
    detach() {
        super.detach();
        this.observer.disconnect();
    }
    deleteAt(index, length) {
        this.update();
        if (index === 0 && length === this.length()) {
            this.children.forEach((child) => {
                child.remove();
            });
        }
        else {
            super.deleteAt(index, length);
        }
    }
    formatAt(index, length, name, value) {
        this.update();
        super.formatAt(index, length, name, value);
    }
    insertAt(index, value, def) {
        this.update();
        super.insertAt(index, value, def);
    }
    optimize(mutations = [], context = {}) {
        super.optimize(context);
        const mutationsMap = context.mutationsMap || new WeakMap();
        // We must modify mutations directly, cannot make copy and then modify
        let records = Array.from(this.observer.takeRecords());
        // Array.push currently seems to be implemented by a non-tail recursive function
        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());
        while (records.length > 0) {
            mutations.push(records.pop());
        }
        const mark = (blot, markParent = true) => {
            if (blot == null || blot === this) {
                return;
            }
            if (blot.domNode.parentNode == null) {
                return;
            }
            if (!mutationsMap.has(blot.domNode)) {
                mutationsMap.set(blot.domNode, []);
            }
            if (markParent) {
                mark(blot.parent);
            }
        };
        const optimize = (blot) => {
            // Post-order traversal
            if (!mutationsMap.has(blot.domNode)) {
                return;
            }
            if (blot instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_3__["default"]) {
                blot.children.forEach(optimize);
            }
            mutationsMap.delete(blot.domNode);
            blot.optimize(context);
        };
        let remaining = mutations;
        for (let i = 0; remaining.length > 0; i += 1) {
            if (i >= MAX_OPTIMIZE_ITERATIONS) {
                throw new Error('[Parchment] Maximum optimize iterations reached');
            }
            remaining.forEach((mutation) => {
                const blot = this.find(mutation.target, true);
                if (blot == null) {
                    return;
                }
                if (blot.domNode === mutation.target) {
                    if (mutation.type === 'childList') {
                        mark(this.find(mutation.previousSibling, false));
                        Array.from(mutation.addedNodes).forEach((node) => {
                            const child = this.find(node, false);
                            mark(child, false);
                            if (child instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_3__["default"]) {
                                child.children.forEach((grandChild) => {
                                    mark(grandChild, false);
                                });
                            }
                        });
                    }
                    else if (mutation.type === 'attributes') {
                        mark(blot.prev);
                    }
                }
                mark(blot);
            });
            this.children.forEach(optimize);
            remaining = Array.from(this.observer.takeRecords());
            records = remaining.slice();
            while (records.length > 0) {
                mutations.push(records.pop());
            }
        }
    }
    update(mutations, context = {}) {
        mutations = mutations || this.observer.takeRecords();
        const mutationsMap = new WeakMap();
        mutations
            .map((mutation) => {
            const blot = _registry__WEBPACK_IMPORTED_MODULE_0__["default"].find(mutation.target, true);
            if (blot == null) {
                return null;
            }
            if (mutationsMap.has(blot.domNode)) {
                mutationsMap.get(blot.domNode).push(mutation);
                return null;
            }
            else {
                mutationsMap.set(blot.domNode, [mutation]);
                return blot;
            }
        })
            .forEach((blot) => {
            if (blot != null && blot !== this && mutationsMap.has(blot.domNode)) {
                blot.update(mutationsMap.get(blot.domNode) || [], context);
            }
        });
        context.mutationsMap = mutationsMap;
        if (mutationsMap.has(this.domNode)) {
            super.update(mutationsMap.get(this.domNode), context);
        }
        this.optimize(mutations, context);
    }
}
ScrollBlot.blotName = 'scroll';
ScrollBlot.defaultChild = _block__WEBPACK_IMPORTED_MODULE_4__["default"];
ScrollBlot.allowedChildren = [_block__WEBPACK_IMPORTED_MODULE_4__["default"], _abstract_container__WEBPACK_IMPORTED_MODULE_2__["default"]];
ScrollBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_1__["default"].BLOCK_BLOT;
ScrollBlot.tagName = 'DIV';
/* harmony default export */ __webpack_exports__["default"] = (ScrollBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/scroll.ts?`)},"./node_modules/parchment/src/blot/text.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope */ "./node_modules/parchment/src/scope.ts");
/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract/leaf */ "./node_modules/parchment/src/blot/abstract/leaf.ts");


class TextBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(scroll, node) {
        super(scroll, node);
        this.text = this.statics.value(this.domNode);
    }
    static create(value) {
        return document.createTextNode(value);
    }
    static value(domNode) {
        return domNode.data;
    }
    deleteAt(index, length) {
        this.domNode.data = this.text =
            this.text.slice(0, index) + this.text.slice(index + length);
    }
    index(node, offset) {
        if (this.domNode === node) {
            return offset;
        }
        return -1;
    }
    insertAt(index, value, def) {
        if (def == null) {
            this.text = this.text.slice(0, index) + value + this.text.slice(index);
            this.domNode.data = this.text;
        }
        else {
            super.insertAt(index, value, def);
        }
    }
    length() {
        return this.text.length;
    }
    optimize(context) {
        super.optimize(context);
        this.text = this.statics.value(this.domNode);
        if (this.text.length === 0) {
            this.remove();
        }
        else if (this.next instanceof TextBlot && this.next.prev === this) {
            this.insertAt(this.length(), this.next.value());
            this.next.remove();
        }
    }
    position(index, _inclusive = false) {
        return [this.domNode, index];
    }
    split(index, force = false) {
        if (!force) {
            if (index === 0) {
                return this;
            }
            if (index === this.length()) {
                return this.next;
            }
        }
        const after = this.scroll.create(this.domNode.splitText(index));
        this.parent.insertBefore(after, this.next || undefined);
        this.text = this.statics.value(this.domNode);
        return after;
    }
    update(mutations, _context) {
        if (mutations.some((mutation) => {
            return (mutation.type === 'characterData' && mutation.target === this.domNode);
        })) {
            this.text = this.statics.value(this.domNode);
        }
    }
    value() {
        return this.text;
    }
}
TextBlot.blotName = 'text';
TextBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__["default"].INLINE_BLOT;
/* harmony default export */ __webpack_exports__["default"] = (TextBlot);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/text.ts?`)},"./node_modules/parchment/src/collection/linked-list.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
class LinkedList {
    constructor() {
        this.head = null;
        this.tail = null;
        this.length = 0;
    }
    append(...nodes) {
        this.insertBefore(nodes[0], null);
        if (nodes.length > 1) {
            const rest = nodes.slice(1);
            this.append(...rest);
        }
    }
    at(index) {
        const next = this.iterator();
        let cur = next();
        while (cur && index > 0) {
            index -= 1;
            cur = next();
        }
        return cur;
    }
    contains(node) {
        const next = this.iterator();
        let cur = next();
        while (cur) {
            if (cur === node) {
                return true;
            }
            cur = next();
        }
        return false;
    }
    indexOf(node) {
        const next = this.iterator();
        let cur = next();
        let index = 0;
        while (cur) {
            if (cur === node) {
                return index;
            }
            index += 1;
            cur = next();
        }
        return -1;
    }
    insertBefore(node, refNode) {
        if (node == null) {
            return;
        }
        this.remove(node);
        node.next = refNode;
        if (refNode != null) {
            node.prev = refNode.prev;
            if (refNode.prev != null) {
                refNode.prev.next = node;
            }
            refNode.prev = node;
            if (refNode === this.head) {
                this.head = node;
            }
        }
        else if (this.tail != null) {
            this.tail.next = node;
            node.prev = this.tail;
            this.tail = node;
        }
        else {
            node.prev = null;
            this.head = this.tail = node;
        }
        this.length += 1;
    }
    offset(target) {
        let index = 0;
        let cur = this.head;
        while (cur != null) {
            if (cur === target) {
                return index;
            }
            index += cur.length();
            cur = cur.next;
        }
        return -1;
    }
    remove(node) {
        if (!this.contains(node)) {
            return;
        }
        if (node.prev != null) {
            node.prev.next = node.next;
        }
        if (node.next != null) {
            node.next.prev = node.prev;
        }
        if (node === this.head) {
            this.head = node.next;
        }
        if (node === this.tail) {
            this.tail = node.prev;
        }
        this.length -= 1;
    }
    iterator(curNode = this.head) {
        // TODO use yield when we can
        return () => {
            const ret = curNode;
            if (curNode != null) {
                curNode = curNode.next;
            }
            return ret;
        };
    }
    find(index, inclusive = false) {
        const next = this.iterator();
        let cur = next();
        while (cur) {
            const length = cur.length();
            if (index < length ||
                (inclusive &&
                    index === length &&
                    (cur.next == null || cur.next.length() !== 0))) {
                return [cur, index];
            }
            index -= length;
            cur = next();
        }
        return [null, 0];
    }
    forEach(callback) {
        const next = this.iterator();
        let cur = next();
        while (cur) {
            callback(cur);
            cur = next();
        }
    }
    forEachAt(index, length, callback) {
        if (length <= 0) {
            return;
        }
        const [startNode, offset] = this.find(index);
        let curIndex = index - offset;
        const next = this.iterator(startNode);
        let cur = next();
        while (cur && curIndex < index + length) {
            const curLength = cur.length();
            if (index > curIndex) {
                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));
            }
            else {
                callback(cur, 0, Math.min(curLength, index + length - curIndex));
            }
            curIndex += curLength;
            cur = next();
        }
    }
    map(callback) {
        return this.reduce((memo, cur) => {
            memo.push(callback(cur));
            return memo;
        }, []);
    }
    reduce(callback, memo) {
        const next = this.iterator();
        let cur = next();
        while (cur) {
            memo = callback(memo, cur);
            cur = next();
        }
        return memo;
    }
}
/* harmony default export */ __webpack_exports__["default"] = (LinkedList);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/collection/linked-list.ts?`)},"./node_modules/parchment/src/error.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ParchmentError; });
class ParchmentError extends Error {
    constructor(message) {
        message = '[Parchment] ' + message;
        super(message);
        this.message = message;
        this.name = this.constructor.name;
    }
}


//# sourceURL=webpack://Quill/./node_modules/parchment/src/error.ts?`)},"./node_modules/parchment/src/parchment.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blot/abstract/container */ "./node_modules/parchment/src/blot/abstract/container.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ContainerBlot", function() { return _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blot/abstract/leaf */ "./node_modules/parchment/src/blot/abstract/leaf.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LeafBlot", function() { return _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blot/abstract/parent */ "./node_modules/parchment/src/blot/abstract/parent.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ParentBlot", function() { return _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _blot_block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blot/block */ "./node_modules/parchment/src/blot/block.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BlockBlot", function() { return _blot_block__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _blot_embed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blot/embed */ "./node_modules/parchment/src/blot/embed.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EmbedBlot", function() { return _blot_embed__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _blot_inline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blot/inline */ "./node_modules/parchment/src/blot/inline.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "InlineBlot", function() { return _blot_inline__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _blot_scroll__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blot/scroll */ "./node_modules/parchment/src/blot/scroll.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollBlot", function() { return _blot_scroll__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _blot_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blot/text */ "./node_modules/parchment/src/blot/text.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TextBlot", function() { return _blot_text__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./attributor/attributor */ "./node_modules/parchment/src/attributor/attributor.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Attributor", function() { return _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _attributor_class__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./attributor/class */ "./node_modules/parchment/src/attributor/class.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ClassAttributor", function() { return _attributor_class__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./attributor/store */ "./node_modules/parchment/src/attributor/store.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AttributorStore", function() { return _attributor_store__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _attributor_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./attributor/style */ "./node_modules/parchment/src/attributor/style.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StyleAttributor", function() { return _attributor_style__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./registry */ "./node_modules/parchment/src/registry.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Registry", function() { return _registry__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./scope */ "./node_modules/parchment/src/scope.ts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Scope", function() { return _scope__WEBPACK_IMPORTED_MODULE_13__["default"]; });


















//# sourceURL=webpack://Quill/./node_modules/parchment/src/parchment.ts?`)},"./node_modules/parchment/src/registry.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Registry; });
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ "./node_modules/parchment/src/error.ts");
/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scope */ "./node_modules/parchment/src/scope.ts");


class Registry {
    constructor() {
        this.attributes = {};
        this.classes = {};
        this.tags = {};
        this.types = {};
    }
    static find(node, bubble = false) {
        if (node == null) {
            return null;
        }
        if (this.blots.has(node)) {
            return this.blots.get(node) || null;
        }
        if (bubble) {
            return this.find(node.parentNode, bubble);
        }
        return null;
    }
    create(scroll, input, value) {
        const match = this.query(input);
        if (match == null) {
            throw new _error__WEBPACK_IMPORTED_MODULE_0__["default"](\`Unable to create \${input} blot\`);
        }
        const blotClass = match;
        const node = 
        // @ts-ignore
        input instanceof Node || input.nodeType === Node.TEXT_NODE
            ? input
            : blotClass.create(value);
        const blot = new blotClass(scroll, node, value);
        Registry.blots.set(blot.domNode, blot);
        return blot;
    }
    find(node, bubble = false) {
        return Registry.find(node, bubble);
    }
    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_1__["default"].ANY) {
        let match;
        if (typeof query === 'string') {
            match = this.types[query] || this.attributes[query];
            // @ts-ignore
        }
        else if (query instanceof Text || query.nodeType === Node.TEXT_NODE) {
            match = this.types.text;
        }
        else if (typeof query === 'number') {
            if (query & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].BLOCK) {
                match = this.types.block;
            }
            else if (query & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].INLINE) {
                match = this.types.inline;
            }
        }
        else if (query instanceof HTMLElement) {
            const names = (query.getAttribute('class') || '').split(/\\s+/);
            names.some((name) => {
                match = this.classes[name];
                if (match) {
                    return true;
                }
                return false;
            });
            match = match || this.tags[query.tagName];
        }
        if (match == null) {
            return null;
        }
        // @ts-ignore
        if (scope & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].LEVEL & match.scope && scope & _scope__WEBPACK_IMPORTED_MODULE_1__["default"].TYPE & match.scope) {
            return match;
        }
        return null;
    }
    register(...definitions) {
        if (definitions.length > 1) {
            return definitions.map((d) => {
                return this.register(d);
            });
        }
        const definition = definitions[0];
        if (typeof definition.blotName !== 'string' &&
            typeof definition.attrName !== 'string') {
            throw new _error__WEBPACK_IMPORTED_MODULE_0__["default"]('Invalid definition');
        }
        else if (definition.blotName === 'abstract') {
            throw new _error__WEBPACK_IMPORTED_MODULE_0__["default"]('Cannot register abstract class');
        }
        this.types[definition.blotName || definition.attrName] = definition;
        if (typeof definition.keyName === 'string') {
            this.attributes[definition.keyName] = definition;
        }
        else {
            if (definition.className != null) {
                this.classes[definition.className] = definition;
            }
            if (definition.tagName != null) {
                if (Array.isArray(definition.tagName)) {
                    definition.tagName = definition.tagName.map((tagName) => {
                        return tagName.toUpperCase();
                    });
                }
                else {
                    definition.tagName = definition.tagName.toUpperCase();
                }
                const tagNames = Array.isArray(definition.tagName)
                    ? definition.tagName
                    : [definition.tagName];
                tagNames.forEach((tag) => {
                    if (this.tags[tag] == null || definition.className == null) {
                        this.tags[tag] = definition;
                    }
                });
            }
        }
        return definition;
    }
}
Registry.blots = new WeakMap();


//# sourceURL=webpack://Quill/./node_modules/parchment/src/registry.ts?`)},"./node_modules/parchment/src/scope.ts":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
var Scope;
(function (Scope) {
    Scope[Scope["TYPE"] = 3] = "TYPE";
    Scope[Scope["LEVEL"] = 12] = "LEVEL";
    Scope[Scope["ATTRIBUTE"] = 13] = "ATTRIBUTE";
    Scope[Scope["BLOT"] = 14] = "BLOT";
    Scope[Scope["INLINE"] = 7] = "INLINE";
    Scope[Scope["BLOCK"] = 11] = "BLOCK";
    Scope[Scope["BLOCK_BLOT"] = 10] = "BLOCK_BLOT";
    Scope[Scope["INLINE_BLOT"] = 6] = "INLINE_BLOT";
    Scope[Scope["BLOCK_ATTRIBUTE"] = 9] = "BLOCK_ATTRIBUTE";
    Scope[Scope["INLINE_ATTRIBUTE"] = 5] = "INLINE_ATTRIBUTE";
    Scope[Scope["ANY"] = 15] = "ANY";
})(Scope || (Scope = {}));
/* harmony default export */ __webpack_exports__["default"] = (Scope);


//# sourceURL=webpack://Quill/./node_modules/parchment/src/scope.ts?`)},"./node_modules/process/browser.js":function(module,exports){eval(`// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


//# sourceURL=webpack://Quill/./node_modules/process/browser.js?`)},"./node_modules/quill-delta/dist/AttributeMap.js":function(module,exports,__webpack_require__){eval(`
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var deep_equal_1 = __importDefault(__webpack_require__(/*! deep-equal */ "./node_modules/quill-delta/node_modules/deep-equal/index.js"));
var extend_1 = __importDefault(__webpack_require__(/*! extend */ "./node_modules/extend/index.js"));
var AttributeMap;
(function (AttributeMap) {
    function compose(a, b, keepNull) {
        if (a === void 0) { a = {}; }
        if (b === void 0) { b = {}; }
        if (typeof a !== 'object') {
            a = {};
        }
        if (typeof b !== 'object') {
            b = {};
        }
        var attributes = extend_1.default(true, {}, b);
        if (!keepNull) {
            attributes = Object.keys(attributes).reduce(function (copy, key) {
                if (attributes[key] != null) {
                    copy[key] = attributes[key];
                }
                return copy;
            }, {});
        }
        for (var key in a) {
            if (a[key] !== undefined && b[key] === undefined) {
                attributes[key] = a[key];
            }
        }
        return Object.keys(attributes).length > 0 ? attributes : undefined;
    }
    AttributeMap.compose = compose;
    function diff(a, b) {
        if (a === void 0) { a = {}; }
        if (b === void 0) { b = {}; }
        if (typeof a !== 'object') {
            a = {};
        }
        if (typeof b !== 'object') {
            b = {};
        }
        var attributes = Object.keys(a)
            .concat(Object.keys(b))
            .reduce(function (attrs, key) {
            if (!deep_equal_1.default(a[key], b[key])) {
                attrs[key] = b[key] === undefined ? null : b[key];
            }
            return attrs;
        }, {});
        return Object.keys(attributes).length > 0 ? attributes : undefined;
    }
    AttributeMap.diff = diff;
    function invert(attr, base) {
        if (attr === void 0) { attr = {}; }
        if (base === void 0) { base = {}; }
        attr = attr || {};
        var baseInverted = Object.keys(base).reduce(function (memo, key) {
            if (base[key] !== attr[key] && attr[key] !== undefined) {
                memo[key] = base[key];
            }
            return memo;
        }, {});
        return Object.keys(attr).reduce(function (memo, key) {
            if (attr[key] !== base[key] && base[key] === undefined) {
                memo[key] = null;
            }
            return memo;
        }, baseInverted);
    }
    AttributeMap.invert = invert;
    function transform(a, b, priority) {
        if (priority === void 0) { priority = false; }
        if (typeof a !== 'object') {
            return b;
        }
        if (typeof b !== 'object') {
            return undefined;
        }
        if (!priority) {
            return b; // b simply overwrites us without priority
        }
        var attributes = Object.keys(b).reduce(function (attrs, key) {
            if (a[key] === undefined) {
                attrs[key] = b[key]; // null is a valid value
            }
            return attrs;
        }, {});
        return Object.keys(attributes).length > 0 ? attributes : undefined;
    }
    AttributeMap.transform = transform;
})(AttributeMap || (AttributeMap = {}));
exports.default = AttributeMap;
//# sourceMappingURL=AttributeMap.js.map

//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/AttributeMap.js?`)},"./node_modules/quill-delta/dist/Delta.js":function(module,exports,__webpack_require__){eval(`
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var deep_equal_1 = __importDefault(__webpack_require__(/*! deep-equal */ "./node_modules/quill-delta/node_modules/deep-equal/index.js"));
var extend_1 = __importDefault(__webpack_require__(/*! extend */ "./node_modules/extend/index.js"));
var fast_diff_1 = __importDefault(__webpack_require__(/*! fast-diff */ "./node_modules/fast-diff/diff.js"));
var AttributeMap_1 = __importDefault(__webpack_require__(/*! ./AttributeMap */ "./node_modules/quill-delta/dist/AttributeMap.js"));
var Op_1 = __importDefault(__webpack_require__(/*! ./Op */ "./node_modules/quill-delta/dist/Op.js"));
var NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()
var Delta = /** @class */ (function () {
    function Delta(ops) {
        // Assume we are given a well formed ops
        if (Array.isArray(ops)) {
            this.ops = ops;
        }
        else if (ops != null && Array.isArray(ops.ops)) {
            this.ops = ops.ops;
        }
        else {
            this.ops = [];
        }
    }
    Delta.prototype.insert = function (arg, attributes) {
        var newOp = {};
        if (typeof arg === 'string' && arg.length === 0) {
            return this;
        }
        newOp.insert = arg;
        if (attributes != null &&
            typeof attributes === 'object' &&
            Object.keys(attributes).length > 0) {
            newOp.attributes = attributes;
        }
        return this.push(newOp);
    };
    Delta.prototype.delete = function (length) {
        if (length <= 0) {
            return this;
        }
        return this.push({ delete: length });
    };
    Delta.prototype.retain = function (length, attributes) {
        if (length <= 0) {
            return this;
        }
        var newOp = { retain: length };
        if (attributes != null &&
            typeof attributes === 'object' &&
            Object.keys(attributes).length > 0) {
            newOp.attributes = attributes;
        }
        return this.push(newOp);
    };
    Delta.prototype.push = function (newOp) {
        var index = this.ops.length;
        var lastOp = this.ops[index - 1];
        newOp = extend_1.default(true, {}, newOp);
        if (typeof lastOp === 'object') {
            if (typeof newOp.delete === 'number' &&
                typeof lastOp.delete === 'number') {
                this.ops[index - 1] = { delete: lastOp.delete + newOp.delete };
                return this;
            }
            // Since it does not matter if we insert before or after deleting at the same index,
            // always prefer to insert first
            if (typeof lastOp.delete === 'number' && newOp.insert != null) {
                index -= 1;
                lastOp = this.ops[index - 1];
                if (typeof lastOp !== 'object') {
                    this.ops.unshift(newOp);
                    return this;
                }
            }
            if (deep_equal_1.default(newOp.attributes, lastOp.attributes)) {
                if (typeof newOp.insert === 'string' &&
                    typeof lastOp.insert === 'string') {
                    this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };
                    if (typeof newOp.attributes === 'object') {
                        this.ops[index - 1].attributes = newOp.attributes;
                    }
                    return this;
                }
                else if (typeof newOp.retain === 'number' &&
                    typeof lastOp.retain === 'number') {
                    this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };
                    if (typeof newOp.attributes === 'object') {
                        this.ops[index - 1].attributes = newOp.attributes;
                    }
                    return this;
                }
            }
        }
        if (index === this.ops.length) {
            this.ops.push(newOp);
        }
        else {
            this.ops.splice(index, 0, newOp);
        }
        return this;
    };
    Delta.prototype.chop = function () {
        var lastOp = this.ops[this.ops.length - 1];
        if (lastOp && lastOp.retain && !lastOp.attributes) {
            this.ops.pop();
        }
        return this;
    };
    Delta.prototype.filter = function (predicate) {
        return this.ops.filter(predicate);
    };
    Delta.prototype.forEach = function (predicate) {
        this.ops.forEach(predicate);
    };
    Delta.prototype.map = function (predicate) {
        return this.ops.map(predicate);
    };
    Delta.prototype.partition = function (predicate) {
        var passed = [];
        var failed = [];
        this.forEach(function (op) {
            var target = predicate(op) ? passed : failed;
            target.push(op);
        });
        return [passed, failed];
    };
    Delta.prototype.reduce = function (predicate, initialValue) {
        return this.ops.reduce(predicate, initialValue);
    };
    Delta.prototype.changeLength = function () {
        return this.reduce(function (length, elem) {
            if (elem.insert) {
                return length + Op_1.default.length(elem);
            }
            else if (elem.delete) {
                return length - elem.delete;
            }
            return length;
        }, 0);
    };
    Delta.prototype.length = function () {
        return this.reduce(function (length, elem) {
            return length + Op_1.default.length(elem);
        }, 0);
    };
    Delta.prototype.slice = function (start, end) {
        if (start === void 0) { start = 0; }
        if (end === void 0) { end = Infinity; }
        var ops = [];
        var iter = Op_1.default.iterator(this.ops);
        var index = 0;
        while (index < end && iter.hasNext()) {
            var nextOp = void 0;
            if (index < start) {
                nextOp = iter.next(start - index);
            }
            else {
                nextOp = iter.next(end - index);
                ops.push(nextOp);
            }
            index += Op_1.default.length(nextOp);
        }
        return new Delta(ops);
    };
    Delta.prototype.compose = function (other) {
        var thisIter = Op_1.default.iterator(this.ops);
        var otherIter = Op_1.default.iterator(other.ops);
        var ops = [];
        var firstOther = otherIter.peek();
        if (firstOther != null &&
            typeof firstOther.retain === 'number' &&
            firstOther.attributes == null) {
            var firstLeft = firstOther.retain;
            while (thisIter.peekType() === 'insert' &&
                thisIter.peekLength() <= firstLeft) {
                firstLeft -= thisIter.peekLength();
                ops.push(thisIter.next());
            }
            if (firstOther.retain - firstLeft > 0) {
                otherIter.next(firstOther.retain - firstLeft);
            }
        }
        var delta = new Delta(ops);
        while (thisIter.hasNext() || otherIter.hasNext()) {
            if (otherIter.peekType() === 'insert') {
                delta.push(otherIter.next());
            }
            else if (thisIter.peekType() === 'delete') {
                delta.push(thisIter.next());
            }
            else {
                var length_1 = Math.min(thisIter.peekLength(), otherIter.peekLength());
                var thisOp = thisIter.next(length_1);
                var otherOp = otherIter.next(length_1);
                if (typeof otherOp.retain === 'number') {
                    var newOp = {};
                    if (typeof thisOp.retain === 'number') {
                        newOp.retain = length_1;
                    }
                    else {
                        newOp.insert = thisOp.insert;
                    }
                    // Preserve null when composing with a retain, otherwise remove it for inserts
                    var attributes = AttributeMap_1.default.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');
                    if (attributes) {
                        newOp.attributes = attributes;
                    }
                    delta.push(newOp);
                    // Optimization if rest of other is just retain
                    if (!otherIter.hasNext() &&
                        deep_equal_1.default(delta.ops[delta.ops.length - 1], newOp)) {
                        var rest = new Delta(thisIter.rest());
                        return delta.concat(rest).chop();
                    }
                    // Other op should be delete, we could be an insert or retain
                    // Insert + delete cancels out
                }
                else if (typeof otherOp.delete === 'number' &&
                    typeof thisOp.retain === 'number') {
                    delta.push(otherOp);
                }
            }
        }
        return delta.chop();
    };
    Delta.prototype.concat = function (other) {
        var delta = new Delta(this.ops.slice());
        if (other.ops.length > 0) {
            delta.push(other.ops[0]);
            delta.ops = delta.ops.concat(other.ops.slice(1));
        }
        return delta;
    };
    Delta.prototype.diff = function (other, cursor) {
        if (this.ops === other.ops) {
            return new Delta();
        }
        var strings = [this, other].map(function (delta) {
            return delta
                .map(function (op) {
                if (op.insert != null) {
                    return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;
                }
                var prep = delta === other ? 'on' : 'with';
                throw new Error('diff() called ' + prep + ' non-document');
            })
                .join('');
        });
        var retDelta = new Delta();
        var diffResult = fast_diff_1.default(strings[0], strings[1], cursor);
        var thisIter = Op_1.default.iterator(this.ops);
        var otherIter = Op_1.default.iterator(other.ops);
        diffResult.forEach(function (component) {
            var length = component[1].length;
            while (length > 0) {
                var opLength = 0;
                switch (component[0]) {
                    case fast_diff_1.default.INSERT:
                        opLength = Math.min(otherIter.peekLength(), length);
                        retDelta.push(otherIter.next(opLength));
                        break;
                    case fast_diff_1.default.DELETE:
                        opLength = Math.min(length, thisIter.peekLength());
                        thisIter.next(opLength);
                        retDelta.delete(opLength);
                        break;
                    case fast_diff_1.default.EQUAL:
                        opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);
                        var thisOp = thisIter.next(opLength);
                        var otherOp = otherIter.next(opLength);
                        if (deep_equal_1.default(thisOp.insert, otherOp.insert)) {
                            retDelta.retain(opLength, AttributeMap_1.default.diff(thisOp.attributes, otherOp.attributes));
                        }
                        else {
                            retDelta.push(otherOp).delete(opLength);
                        }
                        break;
                }
                length -= opLength;
            }
        });
        return retDelta.chop();
    };
    Delta.prototype.eachLine = function (predicate, newline) {
        if (newline === void 0) { newline = '\\n'; }
        var iter = Op_1.default.iterator(this.ops);
        var line = new Delta();
        var i = 0;
        while (iter.hasNext()) {
            if (iter.peekType() !== 'insert') {
                return;
            }
            var thisOp = iter.peek();
            var start = Op_1.default.length(thisOp) - iter.peekLength();
            var index = typeof thisOp.insert === 'string'
                ? thisOp.insert.indexOf(newline, start) - start
                : -1;
            if (index < 0) {
                line.push(iter.next());
            }
            else if (index > 0) {
                line.push(iter.next(index));
            }
            else {
                if (predicate(line, iter.next(1).attributes || {}, i) === false) {
                    return;
                }
                i += 1;
                line = new Delta();
            }
        }
        if (line.length() > 0) {
            predicate(line, {}, i);
        }
    };
    Delta.prototype.invert = function (base) {
        var inverted = new Delta();
        this.reduce(function (baseIndex, op) {
            if (op.insert) {
                inverted.delete(Op_1.default.length(op));
            }
            else if (op.retain && op.attributes == null) {
                inverted.retain(op.retain);
                return baseIndex + op.retain;
            }
            else if (op.delete || (op.retain && op.attributes)) {
                var length_2 = (op.delete || op.retain);
                var slice = base.slice(baseIndex, baseIndex + length_2);
                slice.forEach(function (baseOp) {
                    if (op.delete) {
                        inverted.push(baseOp);
                    }
                    else if (op.retain && op.attributes) {
                        inverted.retain(Op_1.default.length(baseOp), AttributeMap_1.default.invert(op.attributes, baseOp.attributes));
                    }
                });
                return baseIndex + length_2;
            }
            return baseIndex;
        }, 0);
        return inverted.chop();
    };
    Delta.prototype.transform = function (arg, priority) {
        if (priority === void 0) { priority = false; }
        priority = !!priority;
        if (typeof arg === 'number') {
            return this.transformPosition(arg, priority);
        }
        var other = arg;
        var thisIter = Op_1.default.iterator(this.ops);
        var otherIter = Op_1.default.iterator(other.ops);
        var delta = new Delta();
        while (thisIter.hasNext() || otherIter.hasNext()) {
            if (thisIter.peekType() === 'insert' &&
                (priority || otherIter.peekType() !== 'insert')) {
                delta.retain(Op_1.default.length(thisIter.next()));
            }
            else if (otherIter.peekType() === 'insert') {
                delta.push(otherIter.next());
            }
            else {
                var length_3 = Math.min(thisIter.peekLength(), otherIter.peekLength());
                var thisOp = thisIter.next(length_3);
                var otherOp = otherIter.next(length_3);
                if (thisOp.delete) {
                    // Our delete either makes their delete redundant or removes their retain
                    continue;
                }
                else if (otherOp.delete) {
                    delta.push(otherOp);
                }
                else {
                    // We retain either their retain or insert
                    delta.retain(length_3, AttributeMap_1.default.transform(thisOp.attributes, otherOp.attributes, priority));
                }
            }
        }
        return delta.chop();
    };
    Delta.prototype.transformPosition = function (index, priority) {
        if (priority === void 0) { priority = false; }
        priority = !!priority;
        var thisIter = Op_1.default.iterator(this.ops);
        var offset = 0;
        while (thisIter.hasNext() && offset <= index) {
            var length_4 = thisIter.peekLength();
            var nextType = thisIter.peekType();
            thisIter.next();
            if (nextType === 'delete') {
                index -= Math.min(length_4, index - offset);
                continue;
            }
            else if (nextType === 'insert' && (offset < index || !priority)) {
                index += length_4;
            }
            offset += length_4;
        }
        return index;
    };
    Delta.Op = Op_1.default;
    Delta.AttributeMap = AttributeMap_1.default;
    return Delta;
}());
module.exports = Delta;
//# sourceMappingURL=Delta.js.map

//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Delta.js?`)},"./node_modules/quill-delta/dist/Iterator.js":function(module,exports,__webpack_require__){eval(`
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var Op_1 = __importDefault(__webpack_require__(/*! ./Op */ "./node_modules/quill-delta/dist/Op.js"));
var Iterator = /** @class */ (function () {
    function Iterator(ops) {
        this.ops = ops;
        this.index = 0;
        this.offset = 0;
    }
    Iterator.prototype.hasNext = function () {
        return this.peekLength() < Infinity;
    };
    Iterator.prototype.next = function (length) {
        if (!length) {
            length = Infinity;
        }
        var nextOp = this.ops[this.index];
        if (nextOp) {
            var offset = this.offset;
            var opLength = Op_1.default.length(nextOp);
            if (length >= opLength - offset) {
                length = opLength - offset;
                this.index += 1;
                this.offset = 0;
            }
            else {
                this.offset += length;
            }
            if (typeof nextOp.delete === 'number') {
                return { delete: length };
            }
            else {
                var retOp = {};
                if (nextOp.attributes) {
                    retOp.attributes = nextOp.attributes;
                }
                if (typeof nextOp.retain === 'number') {
                    retOp.retain = length;
                }
                else if (typeof nextOp.insert === 'string') {
                    retOp.insert = nextOp.insert.substr(offset, length);
                }
                else {
                    // offset should === 0, length should === 1
                    retOp.insert = nextOp.insert;
                }
                return retOp;
            }
        }
        else {
            return { retain: Infinity };
        }
    };
    Iterator.prototype.peek = function () {
        return this.ops[this.index];
    };
    Iterator.prototype.peekLength = function () {
        if (this.ops[this.index]) {
            // Should never return 0 if our index is being managed correctly
            return Op_1.default.length(this.ops[this.index]) - this.offset;
        }
        else {
            return Infinity;
        }
    };
    Iterator.prototype.peekType = function () {
        if (this.ops[this.index]) {
            if (typeof this.ops[this.index].delete === 'number') {
                return 'delete';
            }
            else if (typeof this.ops[this.index].retain === 'number') {
                return 'retain';
            }
            else {
                return 'insert';
            }
        }
        return 'retain';
    };
    Iterator.prototype.rest = function () {
        if (!this.hasNext()) {
            return [];
        }
        else if (this.offset === 0) {
            return this.ops.slice(this.index);
        }
        else {
            var offset = this.offset;
            var index = this.index;
            var next = this.next();
            var rest = this.ops.slice(this.index);
            this.offset = offset;
            this.index = index;
            return [next].concat(rest);
        }
    };
    return Iterator;
}());
exports.default = Iterator;
//# sourceMappingURL=Iterator.js.map

//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Iterator.js?`)},"./node_modules/quill-delta/dist/Op.js":function(module,exports,__webpack_require__){eval(`
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var Iterator_1 = __importDefault(__webpack_require__(/*! ./Iterator */ "./node_modules/quill-delta/dist/Iterator.js"));
var Op;
(function (Op) {
    function iterator(ops) {
        return new Iterator_1.default(ops);
    }
    Op.iterator = iterator;
    function length(op) {
        if (typeof op.delete === 'number') {
            return op.delete;
        }
        else if (typeof op.retain === 'number') {
            return op.retain;
        }
        else {
            return typeof op.insert === 'string' ? op.insert.length : 1;
        }
    }
    Op.length = length;
})(Op || (Op = {}));
exports.default = Op;
//# sourceMappingURL=Op.js.map

//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Op.js?`)},"./node_modules/quill-delta/node_modules/deep-equal/index.js":function(module,exports,__webpack_require__){eval(`var objectKeys = __webpack_require__(/*! object-keys */ "./node_modules/quill-delta/node_modules/object-keys/index.js");
var isArguments = __webpack_require__(/*! is-arguments */ "./node_modules/is-arguments/index.js");
var is = __webpack_require__(/*! object-is */ "./node_modules/object-is/index.js");
var isRegex = __webpack_require__(/*! is-regex */ "./node_modules/is-regex/index.js");
var flags = __webpack_require__(/*! regexp.prototype.flags */ "./node_modules/regexp.prototype.flags/index.js");
var isDate = __webpack_require__(/*! is-date-object */ "./node_modules/is-date-object/index.js");

var getTime = Date.prototype.getTime;

function deepEqual(actual, expected, options) {
  var opts = options || {};

  // 7.1. All identical values are equivalent, as determined by ===.
  if (opts.strict ? is(actual, expected) : actual === expected) {
    return true;
  }

  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.
  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {
    return opts.strict ? is(actual, expected) : actual == expected;
  }

  /*
   * 7.4. For all other Object pairs, including Array objects, equivalence is
   * determined by having the same number of owned properties (as verified
   * with Object.prototype.hasOwnProperty.call), the same set of keys
   * (although not necessarily the same order), equivalent values for every
   * corresponding key, and an identical 'prototype' property. Note: this
   * accounts for both named and indexed properties on Arrays.
   */
  // eslint-disable-next-line no-use-before-define
  return objEquiv(actual, expected, opts);
}

function isUndefinedOrNull(value) {
  return value === null || value === undefined;
}

function isBuffer(x) {
  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {
    return false;
  }
  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {
    return false;
  }
  if (x.length > 0 && typeof x[0] !== 'number') {
    return false;
  }
  return true;
}

function objEquiv(a, b, opts) {
  /* eslint max-statements: [2, 50] */
  var i, key;
  if (typeof a !== typeof b) { return false; }
  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }

  // an identical 'prototype' property.
  if (a.prototype !== b.prototype) { return false; }

  if (isArguments(a) !== isArguments(b)) { return false; }

  var aIsRegex = isRegex(a);
  var bIsRegex = isRegex(b);
  if (aIsRegex !== bIsRegex) { return false; }
  if (aIsRegex || bIsRegex) {
    return a.source === b.source && flags(a) === flags(b);
  }

  if (isDate(a) && isDate(b)) {
    return getTime.call(a) === getTime.call(b);
  }

  var aIsBuffer = isBuffer(a);
  var bIsBuffer = isBuffer(b);
  if (aIsBuffer !== bIsBuffer) { return false; }
  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here
    if (a.length !== b.length) { return false; }
    for (i = 0; i < a.length; i++) {
      if (a[i] !== b[i]) { return false; }
    }
    return true;
  }

  if (typeof a !== typeof b) { return false; }

  try {
    var ka = objectKeys(a);
    var kb = objectKeys(b);
  } catch (e) { // happens when one is a string literal and the other isn't
    return false;
  }
  // having the same number of owned properties (keys incorporates hasOwnProperty)
  if (ka.length !== kb.length) { return false; }

  // the same set of keys (although not necessarily the same order),
  ka.sort();
  kb.sort();
  // ~~~cheap key test
  for (i = ka.length - 1; i >= 0; i--) {
    if (ka[i] != kb[i]) { return false; }
  }
  // equivalent values for every corresponding key, and ~~~possibly expensive deep test
  for (i = ka.length - 1; i >= 0; i--) {
    key = ka[i];
    if (!deepEqual(a[key], b[key], opts)) { return false; }
  }

  return true;
}

module.exports = deepEqual;


//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/deep-equal/index.js?`)},"./node_modules/quill-delta/node_modules/object-keys/implementation.js":function(module,exports,__webpack_require__){eval(`

var keysShim;
if (!Object.keys) {
	// modified from https://github.com/es-shims/es5-shim
	var has = Object.prototype.hasOwnProperty;
	var toStr = Object.prototype.toString;
	var isArgs = __webpack_require__(/*! ./isArguments */ "./node_modules/quill-delta/node_modules/object-keys/isArguments.js"); // eslint-disable-line global-require
	var isEnumerable = Object.prototype.propertyIsEnumerable;
	var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
	var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
	var dontEnums = [
		'toString',
		'toLocaleString',
		'valueOf',
		'hasOwnProperty',
		'isPrototypeOf',
		'propertyIsEnumerable',
		'constructor'
	];
	var equalsConstructorPrototype = function (o) {
		var ctor = o.constructor;
		return ctor && ctor.prototype === o;
	};
	var excludedKeys = {
		$applicationCache: true,
		$console: true,
		$external: true,
		$frame: true,
		$frameElement: true,
		$frames: true,
		$innerHeight: true,
		$innerWidth: true,
		$onmozfullscreenchange: true,
		$onmozfullscreenerror: true,
		$outerHeight: true,
		$outerWidth: true,
		$pageXOffset: true,
		$pageYOffset: true,
		$parent: true,
		$scrollLeft: true,
		$scrollTop: true,
		$scrollX: true,
		$scrollY: true,
		$self: true,
		$webkitIndexedDB: true,
		$webkitStorageInfo: true,
		$window: true
	};
	var hasAutomationEqualityBug = (function () {
		/* global window */
		if (typeof window === 'undefined') { return false; }
		for (var k in window) {
			try {
				if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
					try {
						equalsConstructorPrototype(window[k]);
					} catch (e) {
						return true;
					}
				}
			} catch (e) {
				return true;
			}
		}
		return false;
	}());
	var equalsConstructorPrototypeIfNotBuggy = function (o) {
		/* global window */
		if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
			return equalsConstructorPrototype(o);
		}
		try {
			return equalsConstructorPrototype(o);
		} catch (e) {
			return false;
		}
	};

	keysShim = function keys(object) {
		var isObject = object !== null && typeof object === 'object';
		var isFunction = toStr.call(object) === '[object Function]';
		var isArguments = isArgs(object);
		var isString = isObject && toStr.call(object) === '[object String]';
		var theKeys = [];

		if (!isObject && !isFunction && !isArguments) {
			throw new TypeError('Object.keys called on a non-object');
		}

		var skipProto = hasProtoEnumBug && isFunction;
		if (isString && object.length > 0 && !has.call(object, 0)) {
			for (var i = 0; i < object.length; ++i) {
				theKeys.push(String(i));
			}
		}

		if (isArguments && object.length > 0) {
			for (var j = 0; j < object.length; ++j) {
				theKeys.push(String(j));
			}
		} else {
			for (var name in object) {
				if (!(skipProto && name === 'prototype') && has.call(object, name)) {
					theKeys.push(String(name));
				}
			}
		}

		if (hasDontEnumBug) {
			var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

			for (var k = 0; k < dontEnums.length; ++k) {
				if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
					theKeys.push(dontEnums[k]);
				}
			}
		}
		return theKeys;
	};
}
module.exports = keysShim;


//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/implementation.js?`)},"./node_modules/quill-delta/node_modules/object-keys/index.js":function(module,exports,__webpack_require__){eval(`

var slice = Array.prototype.slice;
var isArgs = __webpack_require__(/*! ./isArguments */ "./node_modules/quill-delta/node_modules/object-keys/isArguments.js");

var origKeys = Object.keys;
var keysShim = origKeys ? function keys(o) { return origKeys(o); } : __webpack_require__(/*! ./implementation */ "./node_modules/quill-delta/node_modules/object-keys/implementation.js");

var originalKeys = Object.keys;

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			var args = Object.keys(arguments);
			return args && args.length === arguments.length;
		}(1, 2));
		if (!keysWorksWithArguments) {
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				}
				return originalKeys(object);
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

module.exports = keysShim;


//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/index.js?`)},"./node_modules/quill-delta/node_modules/object-keys/isArguments.js":function(module,exports,__webpack_require__){eval(`

var toStr = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toStr.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr.call(value.callee) === '[object Function]';
	}
	return isArgs;
};


//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/isArguments.js?`)},"./node_modules/regexp.prototype.flags/implementation.js":function(module,exports,__webpack_require__){eval(`

var $Object = Object;
var $TypeError = TypeError;

module.exports = function flags() {
	if (this != null && this !== $Object(this)) {
		throw new $TypeError('RegExp.prototype.flags getter called on non-object');
	}
	var result = '';
	if (this.global) {
		result += 'g';
	}
	if (this.ignoreCase) {
		result += 'i';
	}
	if (this.multiline) {
		result += 'm';
	}
	if (this.dotAll) {
		result += 's';
	}
	if (this.unicode) {
		result += 'u';
	}
	if (this.sticky) {
		result += 'y';
	}
	return result;
};


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/implementation.js?`)},"./node_modules/regexp.prototype.flags/index.js":function(module,exports,__webpack_require__){eval(`

var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var callBind = __webpack_require__(/*! es-abstract/helpers/callBind */ "./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/regexp.prototype.flags/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/regexp.prototype.flags/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/regexp.prototype.flags/shim.js");

var flagsBound = callBind(implementation);

define(flagsBound, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = flagsBound;


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/index.js?`)},"./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/regexp.prototype.flags/polyfill.js":function(module,exports,__webpack_require__){eval(`

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/regexp.prototype.flags/implementation.js");

var supportsDescriptors = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js").supportsDescriptors;
var $gOPD = Object.getOwnPropertyDescriptor;
var $TypeError = TypeError;

module.exports = function getPolyfill() {
	if (!supportsDescriptors) {
		throw new $TypeError('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');
	}
	if ((/a/mig).flags === 'gim') {
		var descriptor = $gOPD(RegExp.prototype, 'flags');
		if (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {
			return descriptor.get;
		}
	}
	return implementation;
};


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/polyfill.js?`)},"./node_modules/regexp.prototype.flags/shim.js":function(module,exports,__webpack_require__){eval(`

var supportsDescriptors = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js").supportsDescriptors;
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/regexp.prototype.flags/polyfill.js");
var gOPD = Object.getOwnPropertyDescriptor;
var defineProperty = Object.defineProperty;
var TypeErr = TypeError;
var getProto = Object.getPrototypeOf;
var regex = /a/;

module.exports = function shimFlags() {
	if (!supportsDescriptors || !getProto) {
		throw new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');
	}
	var polyfill = getPolyfill();
	var proto = getProto(regex);
	var descriptor = gOPD(proto, 'flags');
	if (!descriptor || descriptor.get !== polyfill) {
		defineProperty(proto, 'flags', {
			configurable: true,
			enumerable: false,
			get: polyfill
		});
	}
	return polyfill;
};


//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/shim.js?`)},"./node_modules/side-channel/index.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ "./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js");
var callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ "./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js");
var inspect = __webpack_require__(/*! object-inspect */ "./node_modules/object-inspect/index.js");

var $TypeError = GetIntrinsic('%TypeError%');
var $WeakMap = GetIntrinsic('%WeakMap%', true);
var $Map = GetIntrinsic('%Map%', true);
var $push = callBound('Array.prototype.push');

var $weakMapGet = callBound('WeakMap.prototype.get', true);
var $weakMapSet = callBound('WeakMap.prototype.set', true);
var $weakMapHas = callBound('WeakMap.prototype.has', true);
var $mapGet = callBound('Map.prototype.get', true);
var $mapSet = callBound('Map.prototype.set', true);
var $mapHas = callBound('Map.prototype.has', true);
var objectGet = function (objects, key) { // eslint-disable-line consistent-return
	for (var i = 0; i < objects.length; i += 1) {
		if (objects[i].key === key) {
			return objects[i].value;
		}
	}
};
var objectSet = function (objects, key, value) {
	for (var i = 0; i < objects.length; i += 1) {
		if (objects[i].key === key) {
			objects[i].value = value; // eslint-disable-line no-param-reassign
			return;
		}
	}
	$push(objects, {
		key: key,
		value: value
	});
};
var objectHas = function (objects, key) {
	for (var i = 0; i < objects.length; i += 1) {
		if (objects[i].key === key) {
			return true;
		}
	}
	return false;
};

module.exports = function getSideChannel() {
	var $wm;
	var $m;
	var $o;
	var channel = {
		assert: function (key) {
			if (!channel.has(key)) {
				throw new $TypeError('Side channel does not contain ' + inspect(key));
			}
		},
		get: function (key) { // eslint-disable-line consistent-return
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapGet($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapGet($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return objectGet($o, key);
				}
			}
		},
		has: function (key) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if ($wm) {
					return $weakMapHas($wm, key);
				}
			} else if ($Map) {
				if ($m) {
					return $mapHas($m, key);
				}
			} else {
				if ($o) { // eslint-disable-line no-lonely-if
					return objectHas($o, key);
				}
			}
			return false;
		},
		set: function (key, value) {
			if ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {
				if (!$wm) {
					$wm = new $WeakMap();
				}
				$weakMapSet($wm, key, value);
			} else if ($Map) {
				if (!$m) {
					$m = new $Map();
				}
				$mapSet($m, key, value);
			} else {
				if (!$o) {
					$o = [];
				}
				objectSet($o, key, value);
			}
		}
	};
	return channel;
};


//# sourceURL=webpack://Quill/./node_modules/side-channel/index.js?`)},"./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js");

var callBind = __webpack_require__(/*! ./callBind */ "./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js?`)},"./node_modules/webpack/buildin/global.js":function(module,exports){eval(`var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


//# sourceURL=webpack://Quill/(webpack)/buildin/global.js?`)},"./node_modules/which-boxed-primitive/index.js":function(module,exports,__webpack_require__){eval(`

var isString = __webpack_require__(/*! is-string */ "./node_modules/is-string/index.js");
var isNumber = __webpack_require__(/*! is-number-object */ "./node_modules/is-number-object/index.js");
var isBoolean = __webpack_require__(/*! is-boolean-object */ "./node_modules/is-boolean-object/index.js");
var isSymbol = __webpack_require__(/*! is-symbol */ "./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js");
var isBigInt = __webpack_require__(/*! is-bigint */ "./node_modules/is-bigint/index.js");

// eslint-disable-next-line consistent-return
module.exports = function whichBoxedPrimitive(value) {
	// eslint-disable-next-line eqeqeq
	if (value == null || (typeof value !== 'object' && typeof value !== 'function')) {
		return null;
	}
	if (isString(value)) {
		return 'String';
	}
	if (isNumber(value)) {
		return 'Number';
	}
	if (isBoolean(value)) {
		return 'Boolean';
	}
	if (isSymbol(value)) {
		return 'Symbol';
	}
	if (isBigInt(value)) {
		return 'BigInt';
	}
};


//# sourceURL=webpack://Quill/./node_modules/which-boxed-primitive/index.js?`)},"./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js":function(module,exports,__webpack_require__){eval(`

var toStr = Object.prototype.toString;
var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

if (hasSymbols) {
	var symToStr = Symbol.prototype.toString;
	var symStringRegex = /^Symbol\\(.*\\)$/;
	var isSymbolObject = function isRealSymbolObject(value) {
		if (typeof value.valueOf() !== 'symbol') {
			return false;
		}
		return symStringRegex.test(symToStr.call(value));
	};

	module.exports = function isSymbol(value) {
		if (typeof value === 'symbol') {
			return true;
		}
		if (toStr.call(value) !== '[object Symbol]') {
			return false;
		}
		try {
			return isSymbolObject(value);
		} catch (e) {
			return false;
		}
	};
} else {

	module.exports = function isSymbol(value) {
		// this environment does not support Symbols.
		return  false && false;
	};
}


//# sourceURL=webpack://Quill/./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js?`)},"./node_modules/which-collection/index.js":function(module,exports,__webpack_require__){eval(`

var isMap = __webpack_require__(/*! is-map */ "./node_modules/is-map/index.js");
var isSet = __webpack_require__(/*! is-set */ "./node_modules/is-set/index.js");
var isWeakMap = __webpack_require__(/*! is-weakmap */ "./node_modules/is-weakmap/index.js");
var isWeakSet = __webpack_require__(/*! is-weakset */ "./node_modules/is-weakset/index.js");

module.exports = function whichCollection(value) {
	if (value && typeof value === 'object') {
		if (isMap(value)) {
			return 'Map';
		}
		if (isSet(value)) {
			return 'Set';
		}
		if (isWeakMap(value)) {
			return 'WeakMap';
		}
		if (isWeakSet(value)) {
			return 'WeakSet';
		}
	}
	return false;
};


//# sourceURL=webpack://Quill/./node_modules/which-collection/index.js?`)},"./node_modules/which-typed-array/index.js":function(module,exports,__webpack_require__){eval(`/* WEBPACK VAR INJECTION */(function(global) {

var forEach = __webpack_require__(/*! foreach */ "./node_modules/foreach/index.js");
var availableTypedArrays = __webpack_require__(/*! available-typed-arrays */ "./node_modules/available-typed-arrays/index.js");
var callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js");

var $toString = callBound('Object.prototype.toString');
var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();
var hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';

var typedArrays = availableTypedArrays();

var $slice = callBound('String.prototype.slice');
var toStrTags = {};
var gOPD = __webpack_require__(/*! es-abstract/helpers/getOwnPropertyDescriptor */ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js");
var getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');
if (hasToStringTag && gOPD && getPrototypeOf) {
	forEach(typedArrays, function (typedArray) {
		if (typeof global[typedArray] === 'function') {
			var arr = new global[typedArray]();
			if (!(Symbol.toStringTag in arr)) {
				throw new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');
			}
			var proto = getPrototypeOf(arr);
			var descriptor = gOPD(proto, Symbol.toStringTag);
			if (!descriptor) {
				var superProto = getPrototypeOf(proto);
				descriptor = gOPD(superProto, Symbol.toStringTag);
			}
			toStrTags[typedArray] = descriptor.get;
		}
	});
}

var tryTypedArrays = function tryAllTypedArrays(value) {
	var foundName = false;
	forEach(toStrTags, function (getter, typedArray) {
		if (!foundName) {
			try {
				var name = getter.call(value);
				if (name === typedArray) {
					foundName = name;
				}
			} catch (e) {}
		}
	});
	return foundName;
};

var isTypedArray = __webpack_require__(/*! is-typed-array */ "./node_modules/is-typed-array/index.js");

module.exports = function whichTypedArray(value) {
	if (!isTypedArray(value)) { return false; }
	if (!hasToStringTag) { return $slice($toString(value), 8, -1); }
	return tryTypedArrays(value);
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

//# sourceURL=webpack://Quill/./node_modules/which-typed-array/index.js?`)},"./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js":function(module,exports,__webpack_require__){eval(`

/* globals
	Atomics,
	SharedArrayBuffer,
*/

var undefined;

var $TypeError = TypeError;

var $gOPD = Object.getOwnPropertyDescriptor;
if ($gOPD) {
	try {
		$gOPD({}, '');
	} catch (e) {
		$gOPD = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () { throw new $TypeError(); };
var ThrowTypeError = $gOPD
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols = __webpack_require__(/*! has-symbols */ "./node_modules/has-symbols/index.js")();

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'%ArrayPrototype%': Array.prototype,
	'%ArrayProto_entries%': Array.prototype.entries,
	'%ArrayProto_forEach%': Array.prototype.forEach,
	'%ArrayProto_keys%': Array.prototype.keys,
	'%ArrayProto_values%': Array.prototype.values,
	'%AsyncFromSyncIteratorPrototype%': undefined,
	'%AsyncFunction%': asyncFunction,
	'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'%AsyncGeneratorFunction%': asyncGenFunction,
	'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'%Boolean%': Boolean,
	'%BooleanPrototype%': Boolean.prototype,
	'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'%Date%': Date,
	'%DatePrototype%': Date.prototype,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%ErrorPrototype%': Error.prototype,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%EvalErrorPrototype%': EvalError.prototype,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'%Function%': Function,
	'%FunctionPrototype%': Function.prototype,
	'%Generator%': generator ? getProto(generator()) : undefined,
	'%GeneratorFunction%': generatorFunction,
	'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined,
	'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,
	'%Map%': typeof Map === 'undefined' ? undefined : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'%Math%': Math,
	'%Number%': Number,
	'%NumberPrototype%': Number.prototype,
	'%Object%': Object,
	'%ObjectPrototype%': Object.prototype,
	'%ObjProto_toString%': Object.prototype.toString,
	'%ObjProto_valueOf%': Object.prototype.valueOf,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'%RangeError%': RangeError,
	'%RangeErrorPrototype%': RangeError.prototype,
	'%ReferenceError%': ReferenceError,
	'%ReferenceErrorPrototype%': ReferenceError.prototype,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'%RegExp%': RegExp,
	'%RegExpPrototype%': RegExp.prototype,
	'%Set%': typeof Set === 'undefined' ? undefined : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'%StringPrototype%': String.prototype,
	'%Symbol%': hasSymbols ? Symbol : undefined,
	'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'%SyntaxError%': SyntaxError,
	'%SyntaxErrorPrototype%': SyntaxError.prototype,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'%TypeError%': $TypeError,
	'%TypeErrorPrototype%': $TypeError.prototype,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'%URIError%': URIError,
	'%URIErrorPrototype%': URIError.prototype,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var $replace = bind.call(Function.call, String.prototype.replace);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;
var reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	if (!(name in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {
		throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}

	return INTRINSICS[name];
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var parts = stringToPath(name);

	var value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);
	for (var i = 1; i < parts.length; i += 1) {
		if (value != null) {
			if ($gOPD && (i + 1) >= parts.length) {
				var desc = $gOPD(value, parts[i]);
				if (!allowMissing && !(parts[i] in value)) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				value = desc ? (desc.get || desc.value) : value[parts[i]];
			} else {
				value = value[parts[i]];
			}
		}
	}
	return value;
};


//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js?`)},"./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js":function(module,exports,__webpack_require__){eval(`

var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var $Function = GetIntrinsic('%Function%');
var $apply = $Function.apply;
var $call = $Function.call;

module.exports = function callBind() {
	return bind.apply($call, arguments);
};

module.exports.apply = function applyBind() {
	return bind.apply($apply, arguments);
};


//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js?`)},"./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var callBind = __webpack_require__(/*! ./callBind */ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js");

var $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));

module.exports = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {
		return callBind(intrinsic);
	}
	return intrinsic;
};


//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js?`)},"./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js":function(module,exports,__webpack_require__){eval(`

var GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ "./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js");

var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');
if ($gOPD) {
	try {
		$gOPD([], 'length');
	} catch (e) {
		// IE 8 has a broken gOPD
		$gOPD = null;
	}
}

module.exports = $gOPD;


//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js?`)},"./quill.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core */ "./core.js");
/* harmony import */ var _formats_align__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formats/align */ "./formats/align.js");
/* harmony import */ var _formats_direction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formats/direction */ "./formats/direction.js");
/* harmony import */ var _formats_indent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formats/indent */ "./formats/indent.js");
/* harmony import */ var _formats_blockquote__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/blockquote */ "./formats/blockquote.js");
/* harmony import */ var _formats_header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formats/header */ "./formats/header.js");
/* harmony import */ var _formats_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./formats/list */ "./formats/list.js");
/* harmony import */ var _formats_background__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./formats/background */ "./formats/background.js");
/* harmony import */ var _formats_color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./formats/color */ "./formats/color.js");
/* harmony import */ var _formats_font__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./formats/font */ "./formats/font.js");
/* harmony import */ var _formats_size__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./formats/size */ "./formats/size.js");
/* harmony import */ var _formats_bold__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./formats/bold */ "./formats/bold.js");
/* harmony import */ var _formats_italic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./formats/italic */ "./formats/italic.js");
/* harmony import */ var _formats_link__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./formats/link */ "./formats/link.js");
/* harmony import */ var _formats_script__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./formats/script */ "./formats/script.js");
/* harmony import */ var _formats_strike__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./formats/strike */ "./formats/strike.js");
/* harmony import */ var _formats_underline__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./formats/underline */ "./formats/underline.js");
/* harmony import */ var _formats_formula__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./formats/formula */ "./formats/formula.js");
/* harmony import */ var _formats_image__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./formats/image */ "./formats/image.js");
/* harmony import */ var _formats_video__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./formats/video */ "./formats/video.js");
/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./formats/code */ "./formats/code.js");
/* harmony import */ var _modules_syntax__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./modules/syntax */ "./modules/syntax.js");
/* harmony import */ var _modules_table__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./modules/table */ "./modules/table.js");
/* harmony import */ var _modules_toolbar__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./modules/toolbar */ "./modules/toolbar.js");
/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ui/icons */ "./ui/icons.js");
/* harmony import */ var _ui_picker__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ui/picker */ "./ui/picker.js");
/* harmony import */ var _ui_color_picker__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ui/color-picker */ "./ui/color-picker.js");
/* harmony import */ var _ui_icon_picker__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ui/icon-picker */ "./ui/icon-picker.js");
/* harmony import */ var _ui_tooltip__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ui/tooltip */ "./ui/tooltip.js");
/* harmony import */ var _themes_bubble__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./themes/bubble */ "./themes/bubble.js");
/* harmony import */ var _themes_snow__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./themes/snow */ "./themes/snow.js");































_core__WEBPACK_IMPORTED_MODULE_0__["default"].register({
  'attributors/attribute/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__["DirectionAttribute"],
  'attributors/class/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__["AlignClass"],
  'attributors/class/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__["BackgroundClass"],
  'attributors/class/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__["ColorClass"],
  'attributors/class/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__["DirectionClass"],
  'attributors/class/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__["FontClass"],
  'attributors/class/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__["SizeClass"],
  'attributors/style/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__["AlignStyle"],
  'attributors/style/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__["BackgroundStyle"],
  'attributors/style/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__["ColorStyle"],
  'attributors/style/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__["DirectionStyle"],
  'attributors/style/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__["FontStyle"],
  'attributors/style/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__["SizeStyle"]
}, true);
_core__WEBPACK_IMPORTED_MODULE_0__["default"].register({
  'formats/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__["AlignClass"],
  'formats/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__["DirectionClass"],
  'formats/indent': _formats_indent__WEBPACK_IMPORTED_MODULE_3__["default"],
  'formats/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__["BackgroundStyle"],
  'formats/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__["ColorStyle"],
  'formats/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__["FontClass"],
  'formats/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__["SizeClass"],
  'formats/blockquote': _formats_blockquote__WEBPACK_IMPORTED_MODULE_4__["default"],
  'formats/code-block': _formats_code__WEBPACK_IMPORTED_MODULE_20__["default"],
  'formats/header': _formats_header__WEBPACK_IMPORTED_MODULE_5__["default"],
  'formats/list': _formats_list__WEBPACK_IMPORTED_MODULE_6__["default"],
  'formats/bold': _formats_bold__WEBPACK_IMPORTED_MODULE_11__["default"],
  'formats/code': _formats_code__WEBPACK_IMPORTED_MODULE_20__["Code"],
  'formats/italic': _formats_italic__WEBPACK_IMPORTED_MODULE_12__["default"],
  'formats/link': _formats_link__WEBPACK_IMPORTED_MODULE_13__["default"],
  'formats/script': _formats_script__WEBPACK_IMPORTED_MODULE_14__["default"],
  'formats/strike': _formats_strike__WEBPACK_IMPORTED_MODULE_15__["default"],
  'formats/underline': _formats_underline__WEBPACK_IMPORTED_MODULE_16__["default"],
  'formats/formula': _formats_formula__WEBPACK_IMPORTED_MODULE_17__["default"],
  'formats/image': _formats_image__WEBPACK_IMPORTED_MODULE_18__["default"],
  'formats/video': _formats_video__WEBPACK_IMPORTED_MODULE_19__["default"],
  'modules/syntax': _modules_syntax__WEBPACK_IMPORTED_MODULE_21__["default"],
  'modules/table': _modules_table__WEBPACK_IMPORTED_MODULE_22__["default"],
  'modules/toolbar': _modules_toolbar__WEBPACK_IMPORTED_MODULE_23__["default"],
  'themes/bubble': _themes_bubble__WEBPACK_IMPORTED_MODULE_29__["default"],
  'themes/snow': _themes_snow__WEBPACK_IMPORTED_MODULE_30__["default"],
  'ui/icons': _ui_icons__WEBPACK_IMPORTED_MODULE_24__["default"],
  'ui/picker': _ui_picker__WEBPACK_IMPORTED_MODULE_25__["default"],
  'ui/icon-picker': _ui_icon_picker__WEBPACK_IMPORTED_MODULE_27__["default"],
  'ui/color-picker': _ui_color_picker__WEBPACK_IMPORTED_MODULE_26__["default"],
  'ui/tooltip': _ui_tooltip__WEBPACK_IMPORTED_MODULE_28__["default"]
}, true);
/* harmony default export */ __webpack_exports__["default"] = (_core__WEBPACK_IMPORTED_MODULE_0__["default"]);

//# sourceURL=webpack://Quill/./quill.js?`)},"./themes/base.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseTooltip", function() { return BaseTooltip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BaseTheme; });
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ "./core/emitter.js");
/* harmony import */ var _core_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/theme */ "./core/theme.js");
/* harmony import */ var _ui_color_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/color-picker */ "./ui/color-picker.js");
/* harmony import */ var _ui_icon_picker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/icon-picker */ "./ui/icon-picker.js");
/* harmony import */ var _ui_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/picker */ "./ui/picker.js");
/* harmony import */ var _ui_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/tooltip */ "./ui/tooltip.js");







const ALIGNS = [false, 'center', 'right', 'justify'];
const COLORS = ['#000000', '#e60000', '#ff9900', '#ffff00', '#008a00', '#0066cc', '#9933ff', '#ffffff', '#facccc', '#ffebcc', '#ffffcc', '#cce8cc', '#cce0f5', '#ebd6ff', '#bbbbbb', '#f06666', '#ffc266', '#ffff66', '#66b966', '#66a3e0', '#c285ff', '#888888', '#a10000', '#b26b00', '#b2b200', '#006100', '#0047b2', '#6b24b2', '#444444', '#5c0000', '#663d00', '#666600', '#003700', '#002966', '#3d1466'];
const FONTS = [false, 'serif', 'monospace'];
const HEADERS = ['1', '2', '3', false];
const SIZES = ['small', false, 'large', 'huge'];

class BaseTheme extends _core_theme__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(quill, options) {
    super(quill, options);

    const listener = e => {
      if (!document.body.contains(quill.root)) {
        document.body.removeEventListener('click', listener);
        return;
      }

      if (this.tooltip != null && !this.tooltip.root.contains(e.target) && document.activeElement !== this.tooltip.textbox && !this.quill.hasFocus()) {
        this.tooltip.hide();
      }

      if (this.pickers != null) {
        this.pickers.forEach(picker => {
          if (!picker.container.contains(e.target)) {
            picker.close();
          }
        });
      }
    };

    quill.emitter.listenDOM('click', document.body, listener);
  }

  addModule(name) {
    const module = super.addModule(name);

    if (name === 'toolbar') {
      this.extendToolbar(module);
    }

    return module;
  }

  buildButtons(buttons, icons) {
    Array.from(buttons).forEach(button => {
      const className = button.getAttribute('class') || '';
      className.split(/\\s+/).forEach(name => {
        if (!name.startsWith('ql-')) return;
        name = name.slice('ql-'.length);
        if (icons[name] == null) return;

        if (name === 'direction') {
          button.innerHTML = icons[name][''] + icons[name].rtl;
        } else if (typeof icons[name] === 'string') {
          button.innerHTML = icons[name];
        } else {
          const value = button.value || '';

          if (value != null && icons[name][value]) {
            button.innerHTML = icons[name][value];
          }
        }
      });
    });
  }

  buildPickers(selects, icons) {
    this.pickers = Array.from(selects).map(select => {
      if (select.classList.contains('ql-align')) {
        if (select.querySelector('option') == null) {
          fillSelect(select, ALIGNS);
        }

        return new _ui_icon_picker__WEBPACK_IMPORTED_MODULE_4__["default"](select, icons.align);
      }

      if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {
        const format = select.classList.contains('ql-background') ? 'background' : 'color';

        if (select.querySelector('option') == null) {
          fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');
        }

        return new _ui_color_picker__WEBPACK_IMPORTED_MODULE_3__["default"](select, icons[format]);
      }

      if (select.querySelector('option') == null) {
        if (select.classList.contains('ql-font')) {
          fillSelect(select, FONTS);
        } else if (select.classList.contains('ql-header')) {
          fillSelect(select, HEADERS);
        } else if (select.classList.contains('ql-size')) {
          fillSelect(select, SIZES);
        }
      }

      return new _ui_picker__WEBPACK_IMPORTED_MODULE_5__["default"](select);
    });

    const update = () => {
      this.pickers.forEach(picker => {
        picker.update();
      });
    };

    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.EDITOR_CHANGE, update);
  }

}

BaseTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _core_theme__WEBPACK_IMPORTED_MODULE_2__["default"].DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        formula() {
          this.quill.theme.tooltip.edit('formula');
        },

        image() {
          let fileInput = this.container.querySelector('input.ql-image[type=file]');

          if (fileInput == null) {
            fileInput = document.createElement('input');
            fileInput.setAttribute('type', 'file');
            fileInput.setAttribute('accept', this.quill.uploader.options.mimetypes.join(', '));
            fileInput.classList.add('ql-image');
            fileInput.addEventListener('change', () => {
              const range = this.quill.getSelection(true);
              this.quill.uploader.upload(range, fileInput.files);
              fileInput.value = '';
            });
            this.container.appendChild(fileInput);
          }

          fileInput.click();
        },

        video() {
          this.quill.theme.tooltip.edit('video');
        }

      }
    }
  }
});

class BaseTooltip extends _ui_tooltip__WEBPACK_IMPORTED_MODULE_6__["default"] {
  constructor(quill, boundsContainer) {
    super(quill, boundsContainer);
    this.textbox = this.root.querySelector('input[type="text"]');
    this.listen();
  }

  listen() {
    this.textbox.addEventListener('keydown', event => {
      if (event.key === 'Enter') {
        this.save();
        event.preventDefault();
      } else if (event.key === 'Escape') {
        this.cancel();
        event.preventDefault();
      }
    });
  }

  cancel() {
    this.hide();
  }

  edit(mode = 'link', preview = null) {
    this.root.classList.remove('ql-hidden');
    this.root.classList.add('ql-editing');

    if (preview != null) {
      this.textbox.value = preview;
    } else if (mode !== this.root.getAttribute('data-mode')) {
      this.textbox.value = '';
    }

    this.position(this.quill.getBounds(this.quill.selection.savedRange));
    this.textbox.select();
    this.textbox.setAttribute('placeholder', this.textbox.getAttribute("data-".concat(mode)) || '');
    this.root.setAttribute('data-mode', mode);
  }

  restoreFocus() {
    const {
      scrollTop
    } = this.quill.scrollingContainer;
    this.quill.focus();
    this.quill.scrollingContainer.scrollTop = scrollTop;
  }

  save() {
    let {
      value
    } = this.textbox;

    switch (this.root.getAttribute('data-mode')) {
      case 'link':
        {
          const {
            scrollTop
          } = this.quill.root;

          if (this.linkRange) {
            this.quill.formatText(this.linkRange, 'link', value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
            delete this.linkRange;
          } else {
            this.restoreFocus();
            this.quill.format('link', value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
          }

          this.quill.root.scrollTop = scrollTop;
          break;
        }

      case 'video':
        {
          value = extractVideoUrl(value);
        }
      // eslint-disable-next-line no-fallthrough

      case 'formula':
        {
          if (!value) break;
          const range = this.quill.getSelection(true);

          if (range != null) {
            const index = range.index + range.length;
            this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);

            if (this.root.getAttribute('data-mode') === 'formula') {
              this.quill.insertText(index + 1, ' ', _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
            }

            this.quill.setSelection(index + 2, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
          }

          break;
        }

      default:
    }

    this.textbox.value = '';
    this.hide();
  }

}

function extractVideoUrl(url) {
  let match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);

  if (match) {
    return "".concat(match[1] || 'https', "://www.youtube.com/embed/").concat(match[2], "?showinfo=0");
  } // eslint-disable-next-line no-cond-assign


  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {
    return "".concat(match[1] || 'https', "://player.vimeo.com/video/").concat(match[2], "/");
  }

  return url;
}

function fillSelect(select, values, defaultValue = false) {
  values.forEach(value => {
    const option = document.createElement('option');

    if (value === defaultValue) {
      option.setAttribute('selected', 'selected');
    } else {
      option.setAttribute('value', value);
    }

    select.appendChild(option);
  });
}



//# sourceURL=webpack://Quill/./themes/base.js?`)},"./themes/bubble.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BubbleTooltip", function() { return BubbleTooltip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BubbleTheme; });
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ "./core/emitter.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base */ "./themes/base.js");
/* harmony import */ var _core_selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/selection */ "./core/selection.js");
/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/icons */ "./ui/icons.js");





const TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{
  header: 1
}, {
  header: 2
}, 'blockquote']];

class BubbleTooltip extends _base__WEBPACK_IMPORTED_MODULE_2__["BaseTooltip"] {
  constructor(quill, bounds) {
    super(quill, bounds);
    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.EDITOR_CHANGE, (type, range, oldRange, source) => {
      if (type !== _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SELECTION_CHANGE) return;

      if (range != null && range.length > 0 && source === _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER) {
        this.show(); // Lock our width so we will expand beyond our offsetParent boundaries

        this.root.style.left = '0px';
        this.root.style.width = '';
        this.root.style.width = "".concat(this.root.offsetWidth, "px");
        const lines = this.quill.getLines(range.index, range.length);

        if (lines.length === 1) {
          this.position(this.quill.getBounds(range));
        } else {
          const lastLine = lines[lines.length - 1];
          const index = this.quill.getIndex(lastLine);
          const length = Math.min(lastLine.length() - 1, range.index + range.length - index);
          const indexBounds = this.quill.getBounds(new _core_selection__WEBPACK_IMPORTED_MODULE_3__["Range"](index, length));
          this.position(indexBounds);
        }
      } else if (document.activeElement !== this.textbox && this.quill.hasFocus()) {
        this.hide();
      }
    });
  }

  listen() {
    super.listen();
    this.root.querySelector('.ql-close').addEventListener('click', () => {
      this.root.classList.remove('ql-editing');
    });
    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SCROLL_OPTIMIZE, () => {
      // Let selection be restored by toolbar handlers before repositioning
      setTimeout(() => {
        if (this.root.classList.contains('ql-hidden')) return;
        const range = this.quill.getSelection();

        if (range != null) {
          this.position(this.quill.getBounds(range));
        }
      }, 1);
    });
  }

  cancel() {
    this.show();
  }

  position(reference) {
    const shift = super.position(reference);
    const arrow = this.root.querySelector('.ql-tooltip-arrow');
    arrow.style.marginLeft = '';

    if (shift !== 0) {
      arrow.style.marginLeft = "".concat(-1 * shift - arrow.offsetWidth / 2, "px");
    }

    return shift;
  }

}

BubbleTooltip.TEMPLATE = ['<span class="ql-tooltip-arrow"></span>', '<div class="ql-tooltip-editor">', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-close"></a>', '</div>'].join('');

class BubbleTheme extends _base__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(quill, options) {
    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
      options.modules.toolbar.container = TOOLBAR_CONFIG;
    }

    super(quill, options);
    this.quill.container.classList.add('ql-bubble');
  }

  extendToolbar(toolbar) {
    this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);
    this.tooltip.root.appendChild(toolbar.container);
    this.buildButtons(toolbar.container.querySelectorAll('button'), _ui_icons__WEBPACK_IMPORTED_MODULE_4__["default"]);
    this.buildPickers(toolbar.container.querySelectorAll('select'), _ui_icons__WEBPACK_IMPORTED_MODULE_4__["default"]);
  }

}

BubbleTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _base__WEBPACK_IMPORTED_MODULE_2__["default"].DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(value) {
          if (!value) {
            this.quill.format('link', false);
          } else {
            this.quill.theme.tooltip.edit();
          }
        }

      }
    }
  }
});


//# sourceURL=webpack://Quill/./themes/bubble.js?`)},"./themes/snow.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ "./node_modules/extend/index.js");
/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ "./core/emitter.js");
/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base */ "./themes/base.js");
/* harmony import */ var _formats_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formats/link */ "./formats/link.js");
/* harmony import */ var _core_selection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/selection */ "./core/selection.js");
/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/icons */ "./ui/icons.js");






const TOOLBAR_CONFIG = [[{
  header: ['1', '2', '3', false]
}], ['bold', 'italic', 'underline', 'link'], [{
  list: 'ordered'
}, {
  list: 'bullet'
}], ['clean']];

class SnowTooltip extends _base__WEBPACK_IMPORTED_MODULE_2__["BaseTooltip"] {
  constructor(quill, bounds) {
    super(quill, bounds);
    this.preview = this.root.querySelector('a.ql-preview');
  }

  listen() {
    super.listen();
    this.root.querySelector('a.ql-action').addEventListener('click', event => {
      if (this.root.classList.contains('ql-editing')) {
        this.save();
      } else {
        this.edit('link', this.preview.textContent);
      }

      event.preventDefault();
    });
    this.root.querySelector('a.ql-remove').addEventListener('click', event => {
      if (this.linkRange != null) {
        const range = this.linkRange;
        this.restoreFocus();
        this.quill.formatText(range, 'link', false, _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER);
        delete this.linkRange;
      }

      event.preventDefault();
      this.hide();
    });
    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].events.SELECTION_CHANGE, (range, oldRange, source) => {
      if (range == null) return;

      if (range.length === 0 && source === _core_emitter__WEBPACK_IMPORTED_MODULE_1__["default"].sources.USER) {
        const [link, offset] = this.quill.scroll.descendant(_formats_link__WEBPACK_IMPORTED_MODULE_3__["default"], range.index);

        if (link != null) {
          this.linkRange = new _core_selection__WEBPACK_IMPORTED_MODULE_4__["Range"](range.index - offset, link.length());
          const preview = _formats_link__WEBPACK_IMPORTED_MODULE_3__["default"].formats(link.domNode);
          this.preview.textContent = preview;
          this.preview.setAttribute('href', preview);
          this.show();
          this.position(this.quill.getBounds(this.linkRange));
          return;
        }
      } else {
        delete this.linkRange;
      }

      this.hide();
    });
  }

  show() {
    super.show();
    this.root.removeAttribute('data-mode');
  }

}

SnowTooltip.TEMPLATE = ['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>', '<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">', '<a class="ql-action"></a>', '<a class="ql-remove"></a>'].join('');

class SnowTheme extends _base__WEBPACK_IMPORTED_MODULE_2__["default"] {
  constructor(quill, options) {
    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {
      options.modules.toolbar.container = TOOLBAR_CONFIG;
    }

    super(quill, options);
    this.quill.container.classList.add('ql-snow');
  }

  extendToolbar(toolbar) {
    toolbar.container.classList.add('ql-snow');
    this.buildButtons(toolbar.container.querySelectorAll('button'), _ui_icons__WEBPACK_IMPORTED_MODULE_5__["default"]);
    this.buildPickers(toolbar.container.querySelectorAll('select'), _ui_icons__WEBPACK_IMPORTED_MODULE_5__["default"]);
    this.tooltip = new SnowTooltip(this.quill, this.options.bounds);

    if (toolbar.container.querySelector('.ql-link')) {
      this.quill.keyboard.addBinding({
        key: 'k',
        shortKey: true
      }, (range, context) => {
        toolbar.handlers.link.call(toolbar, !context.format.link);
      });
    }
  }

}

SnowTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _base__WEBPACK_IMPORTED_MODULE_2__["default"].DEFAULTS, {
  modules: {
    toolbar: {
      handlers: {
        link(value) {
          if (value) {
            const range = this.quill.getSelection();
            if (range == null || range.length === 0) return;
            let preview = this.quill.getText(range);

            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {
              preview = "mailto:".concat(preview);
            }

            const {
              tooltip
            } = this.quill.theme;
            tooltip.edit('link', preview);
          } else {
            this.quill.format('link', false);
          }
        }

      }
    }
  }
});
/* harmony default export */ __webpack_exports__["default"] = (SnowTheme);

//# sourceURL=webpack://Quill/./themes/snow.js?`)},"./ui/color-picker.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker */ "./ui/picker.js");


class ColorPicker extends _picker__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor(select, label) {
    super(select);
    this.label.innerHTML = label;
    this.container.classList.add('ql-color-picker');
    Array.from(this.container.querySelectorAll('.ql-picker-item')).slice(0, 7).forEach(item => {
      item.classList.add('ql-primary');
    });
  }

  buildItem(option) {
    const item = super.buildItem(option);
    item.style.backgroundColor = option.getAttribute('value') || '';
    return item;
  }

  selectItem(item, trigger) {
    super.selectItem(item, trigger);
    const colorLabel = this.label.querySelector('.ql-color-label');
    const value = item ? item.getAttribute('data-value') || '' : '';

    if (colorLabel) {
      if (colorLabel.tagName === 'line') {
        colorLabel.style.stroke = value;
      } else {
        colorLabel.style.fill = value;
      }
    }
  }

}

/* harmony default export */ __webpack_exports__["default"] = (ColorPicker);

//# sourceURL=webpack://Quill/./ui/color-picker.js?`)},"./ui/icon-picker.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker */ "./ui/picker.js");


class IconPicker extends _picker__WEBPACK_IMPORTED_MODULE_0__["default"] {
  constructor(select, icons) {
    super(select);
    this.container.classList.add('ql-icon-picker');
    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(item => {
      item.innerHTML = icons[item.getAttribute('data-value') || ''];
    });
    this.defaultItem = this.container.querySelector('.ql-selected');
    this.selectItem(this.defaultItem);
  }

  selectItem(target, trigger) {
    super.selectItem(target, trigger);
    const item = target || this.defaultItem;
    if (this.label.innerHTML === item.innerHTML) return;
    this.label.innerHTML = item.innerHTML;
  }

}

/* harmony default export */ __webpack_exports__["default"] = (IconPicker);

//# sourceURL=webpack://Quill/./ui/icon-picker.js?`)},"./ui/icons.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/icons/align-left.svg */ "./assets/icons/align-left.svg");
/* harmony import */ var _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assets/icons/align-center.svg */ "./assets/icons/align-center.svg");
/* harmony import */ var _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets/icons/align-right.svg */ "./assets/icons/align-right.svg");
/* harmony import */ var _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../assets/icons/align-justify.svg */ "./assets/icons/align-justify.svg");
/* harmony import */ var _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../assets/icons/background.svg */ "./assets/icons/background.svg");
/* harmony import */ var _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../assets/icons/blockquote.svg */ "./assets/icons/blockquote.svg");
/* harmony import */ var _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assets/icons/bold.svg */ "./assets/icons/bold.svg");
/* harmony import */ var _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../assets/icons/clean.svg */ "./assets/icons/clean.svg");
/* harmony import */ var _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../assets/icons/code.svg */ "./assets/icons/code.svg");
/* harmony import */ var _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../assets/icons/color.svg */ "./assets/icons/color.svg");
/* harmony import */ var _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../assets/icons/direction-ltr.svg */ "./assets/icons/direction-ltr.svg");
/* harmony import */ var _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../assets/icons/direction-rtl.svg */ "./assets/icons/direction-rtl.svg");
/* harmony import */ var _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../assets/icons/formula.svg */ "./assets/icons/formula.svg");
/* harmony import */ var _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../assets/icons/header.svg */ "./assets/icons/header.svg");
/* harmony import */ var _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../assets/icons/header-2.svg */ "./assets/icons/header-2.svg");
/* harmony import */ var _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../assets/icons/italic.svg */ "./assets/icons/italic.svg");
/* harmony import */ var _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../assets/icons/image.svg */ "./assets/icons/image.svg");
/* harmony import */ var _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../assets/icons/indent.svg */ "./assets/icons/indent.svg");
/* harmony import */ var _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../assets/icons/outdent.svg */ "./assets/icons/outdent.svg");
/* harmony import */ var _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../assets/icons/link.svg */ "./assets/icons/link.svg");
/* harmony import */ var _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../assets/icons/list-bullet.svg */ "./assets/icons/list-bullet.svg");
/* harmony import */ var _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../assets/icons/list-check.svg */ "./assets/icons/list-check.svg");
/* harmony import */ var _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../assets/icons/list-ordered.svg */ "./assets/icons/list-ordered.svg");
/* harmony import */ var _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../assets/icons/subscript.svg */ "./assets/icons/subscript.svg");
/* harmony import */ var _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../assets/icons/superscript.svg */ "./assets/icons/superscript.svg");
/* harmony import */ var _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../assets/icons/strike.svg */ "./assets/icons/strike.svg");
/* harmony import */ var _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../assets/icons/table.svg */ "./assets/icons/table.svg");
/* harmony import */ var _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../assets/icons/underline.svg */ "./assets/icons/underline.svg");
/* harmony import */ var _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../assets/icons/video.svg */ "./assets/icons/video.svg");
/* harmony import */ var _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28__);





























/* harmony default export */ __webpack_exports__["default"] = ({
  align: {
    '': _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0___default.a,
    center: _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1___default.a,
    right: _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2___default.a,
    justify: _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3___default.a
  },
  background: _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4___default.a,
  blockquote: _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5___default.a,
  bold: _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6___default.a,
  clean: _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7___default.a,
  code: _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default.a,
  'code-block': _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default.a,
  color: _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9___default.a,
  direction: {
    '': _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10___default.a,
    rtl: _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11___default.a
  },
  formula: _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12___default.a,
  header: {
    '1': _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13___default.a,
    '2': _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14___default.a
  },
  italic: _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15___default.a,
  image: _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16___default.a,
  indent: {
    '+1': _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17___default.a,
    '-1': _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18___default.a
  },
  link: _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19___default.a,
  list: {
    bullet: _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20___default.a,
    check: _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21___default.a,
    ordered: _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22___default.a
  },
  script: {
    sub: _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23___default.a,
    super: _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24___default.a
  },
  strike: _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25___default.a,
  table: _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26___default.a,
  underline: _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27___default.a,
  video: _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28___default.a
});

//# sourceURL=webpack://Quill/./ui/icons.js?`)},"./ui/picker.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/icons/dropdown.svg */ "./assets/icons/dropdown.svg");
/* harmony import */ var _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0__);

let optionsCounter = 0;

function toggleAriaAttribute(element, attribute) {
  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));
}

class Picker {
  constructor(select) {
    this.select = select;
    this.container = document.createElement('span');
    this.buildPicker();
    this.select.style.display = 'none';
    this.select.parentNode.insertBefore(this.container, this.select);
    this.label.addEventListener('mousedown', () => {
      this.togglePicker();
    });
    this.label.addEventListener('keydown', event => {
      switch (event.key) {
        case 'Enter':
          this.togglePicker();
          break;

        case 'Escape':
          this.escape();
          event.preventDefault();
          break;

        default:
      }
    });
    this.select.addEventListener('change', this.update.bind(this));
  }

  togglePicker() {
    this.container.classList.toggle('ql-expanded'); // Toggle aria-expanded and aria-hidden to make the picker accessible

    toggleAriaAttribute(this.label, 'aria-expanded');
    toggleAriaAttribute(this.options, 'aria-hidden');
  }

  buildItem(option) {
    const item = document.createElement('span');
    item.tabIndex = '0';
    item.setAttribute('role', 'button');
    item.classList.add('ql-picker-item');

    if (option.hasAttribute('value')) {
      item.setAttribute('data-value', option.getAttribute('value'));
    }

    if (option.textContent) {
      item.setAttribute('data-label', option.textContent);
    }

    item.addEventListener('click', () => {
      this.selectItem(item, true);
    });
    item.addEventListener('keydown', event => {
      switch (event.key) {
        case 'Enter':
          this.selectItem(item, true);
          event.preventDefault();
          break;

        case 'Escape':
          this.escape();
          event.preventDefault();
          break;

        default:
      }
    });
    return item;
  }

  buildLabel() {
    const label = document.createElement('span');
    label.classList.add('ql-picker-label');
    label.innerHTML = _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0___default.a;
    label.tabIndex = '0';
    label.setAttribute('role', 'button');
    label.setAttribute('aria-expanded', 'false');
    this.container.appendChild(label);
    return label;
  }

  buildOptions() {
    const options = document.createElement('span');
    options.classList.add('ql-picker-options'); // Don't want screen readers to read this until options are visible

    options.setAttribute('aria-hidden', 'true');
    options.tabIndex = '-1'; // Need a unique id for aria-controls

    options.id = "ql-picker-options-".concat(optionsCounter);
    optionsCounter += 1;
    this.label.setAttribute('aria-controls', options.id);
    this.options = options;
    Array.from(this.select.options).forEach(option => {
      const item = this.buildItem(option);
      options.appendChild(item);

      if (option.selected === true) {
        this.selectItem(item);
      }
    });
    this.container.appendChild(options);
  }

  buildPicker() {
    Array.from(this.select.attributes).forEach(item => {
      this.container.setAttribute(item.name, item.value);
    });
    this.container.classList.add('ql-picker');
    this.label = this.buildLabel();
    this.buildOptions();
  }

  escape() {
    // Close menu and return focus to trigger label
    this.close(); // Need setTimeout for accessibility to ensure that the browser executes
    // focus on the next process thread and after any DOM content changes

    setTimeout(() => this.label.focus(), 1);
  }

  close() {
    this.container.classList.remove('ql-expanded');
    this.label.setAttribute('aria-expanded', 'false');
    this.options.setAttribute('aria-hidden', 'true');
  }

  selectItem(item, trigger = false) {
    const selected = this.container.querySelector('.ql-selected');
    if (item === selected) return;

    if (selected != null) {
      selected.classList.remove('ql-selected');
    }

    if (item == null) return;
    item.classList.add('ql-selected');
    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(item);

    if (item.hasAttribute('data-value')) {
      this.label.setAttribute('data-value', item.getAttribute('data-value'));
    } else {
      this.label.removeAttribute('data-value');
    }

    if (item.hasAttribute('data-label')) {
      this.label.setAttribute('data-label', item.getAttribute('data-label'));
    } else {
      this.label.removeAttribute('data-label');
    }

    if (trigger) {
      this.select.dispatchEvent(new Event('change'));
      this.close();
    }
  }

  update() {
    let option;

    if (this.select.selectedIndex > -1) {
      const item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];
      option = this.select.options[this.select.selectedIndex];
      this.selectItem(item);
    } else {
      this.selectItem(null);
    }

    const isActive = option != null && option !== this.select.querySelector('option[selected]');
    this.label.classList.toggle('ql-active', isActive);
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Picker);

//# sourceURL=webpack://Quill/./ui/picker.js?`)},"./ui/tooltip.js":function(module,__webpack_exports__,__webpack_require__){eval(`__webpack_require__.r(__webpack_exports__);
class Tooltip {
  constructor(quill, boundsContainer) {
    this.quill = quill;
    this.boundsContainer = boundsContainer || document.body;
    this.root = quill.addContainer('ql-tooltip');
    this.root.innerHTML = this.constructor.TEMPLATE;

    if (this.quill.root === this.quill.scrollingContainer) {
      this.quill.root.addEventListener('scroll', () => {
        this.root.style.marginTop = "".concat(-1 * this.quill.root.scrollTop, "px");
      });
    }

    this.hide();
  }

  hide() {
    this.root.classList.add('ql-hidden');
  }

  position(reference) {
    const left = reference.left + reference.width / 2 - this.root.offsetWidth / 2; // root.scrollTop should be 0 if scrollContainer !== root

    const top = reference.bottom + this.quill.root.scrollTop;
    this.root.style.left = "".concat(left, "px");
    this.root.style.top = "".concat(top, "px");
    this.root.classList.remove('ql-flip');
    const containerBounds = this.boundsContainer.getBoundingClientRect();
    const rootBounds = this.root.getBoundingClientRect();
    let shift = 0;

    if (rootBounds.right > containerBounds.right) {
      shift = containerBounds.right - rootBounds.right;
      this.root.style.left = "".concat(left + shift, "px");
    }

    if (rootBounds.left < containerBounds.left) {
      shift = containerBounds.left - rootBounds.left;
      this.root.style.left = "".concat(left + shift, "px");
    }

    if (rootBounds.bottom > containerBounds.bottom) {
      const height = rootBounds.bottom - rootBounds.top;
      const verticalShift = reference.bottom - reference.top + height;
      this.root.style.top = "".concat(top - verticalShift, "px");
      this.root.classList.add('ql-flip');
    }

    return shift;
  }

  show() {
    this.root.classList.remove('ql-editing');
    this.root.classList.remove('ql-hidden');
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Tooltip);

//# sourceURL=webpack://Quill/./ui/tooltip.js?`)},0:function(module,exports,__webpack_require__){eval(`module.exports = __webpack_require__(/*! ./quill.js */"./quill.js");


//# sourceURL=webpack://Quill/multi_./quill.js?`)},1:function(module,exports){eval(`/* (ignored) */

//# sourceURL=webpack://Quill/./util.inspect_(ignored)?`)}}).default})})(quill);var quillExports=quill.exports;const Quill=getDefaultExportFromCjs(quillExports),_hoisted_1$5={class:"editor"},_sfc_main$5=defineComponent({__name:"QuillEditor",props:{options:{type:Object,default(){return{}}}},setup(kh){const Ff=kh;let x_=null;const $P=ref(null),zP=eme=>o0e(this,null,function*(){eme=getQuillEditorOptions(eme),x_=new Quill($P.value,eme)});return onMounted(()=>o0e(this,null,function*(){log$2("Component <<QuillEditor>> mounted."),yield zP(Ff.options).then()})),onBeforeUnmount(()=>o0e(this,null,function*(){log$2("Component <<QuillEditor>> onBeforeUnmount."),isNull(x_)||console.log(x_)})),(eme,tme)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",{ref_key:"editorRef",ref:$P},null,512)]))}});var validEvents=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],isValidKey=function(kh){return validEvents.map(function(Ff){return Ff.toLowerCase()}).indexOf(kh.toLowerCase())!==-1},bindHandlers=function(kh,Ff,x_){Object.keys(Ff).filter(isValidKey).forEach(function($P){var zP=Ff[$P];typeof zP=="function"&&($P==="onInit"?zP(kh,x_):x_.on($P.substring(2),function(eme){return zP(eme,x_)}))})},bindModelHandlers=function(kh,Ff,x_,$P){var zP=kh.modelEvents?kh.modelEvents:null,eme=Array.isArray(zP)?zP.join(" "):zP;watch($P,function(tme,nme){x_&&typeof tme=="string"&&tme!==nme&&tme!==x_.getContent({format:kh.outputFormat})&&x_.setContent(tme)}),x_.on(eme||"change input undo redo",function(){Ff.emit("update:modelValue",x_.getContent({format:kh.outputFormat}))})},initEditor=function(kh,Ff,x_,$P,zP,eme){$P.setContent(eme()),x_.attrs["onUpdate:modelValue"]&&bindModelHandlers(Ff,x_,$P,zP),bindHandlers(kh,x_.attrs,$P)},unique=0,uuid=function(kh){var Ff=Date.now(),x_=Math.floor(Math.random()*1e9);return unique++,kh+"_"+x_+unique+String(Ff)},isTextarea=function(kh){return kh!==null&&kh.tagName.toLowerCase()==="textarea"},normalizePluginArray=function(kh){return typeof kh=="undefined"||kh===""?[]:Array.isArray(kh)?kh:kh.split(" ")},mergePlugins=function(kh,Ff){return normalizePluginArray(kh).concat(normalizePluginArray(Ff))},isNullOrUndefined=function(kh){return kh==null},createState=function(){return{listeners:[],scriptId:uuid("tiny-script"),scriptLoaded:!1}},CreateScriptLoader=function(){var kh=createState(),Ff=function(zP,eme,tme,nme){var rme=eme.createElement("script");rme.referrerPolicy="origin",rme.type="application/javascript",rme.id=zP,rme.src=tme;var ime=function(){rme.removeEventListener("load",ime),nme()};rme.addEventListener("load",ime),eme.head&&eme.head.appendChild(rme)},x_=function(zP,eme,tme){kh.scriptLoaded?tme():(kh.listeners.push(tme),zP.getElementById(kh.scriptId)||Ff(kh.scriptId,zP,eme,function(){kh.listeners.forEach(function(nme){return nme()}),kh.scriptLoaded=!0}))},$P=function(){kh=createState()};return{load:x_,reinitialize:$P}},ScriptLoader=CreateScriptLoader(),getGlobal=function(){return typeof window!="undefined"?window:global},getTinymce=function(){var kh=getGlobal();return kh&&kh.tinymce?kh.tinymce:null},editorProps={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(kh){return kh==="html"||kh==="text"}}},__assign=function(){return __assign=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++){Ff=arguments[x_];for(var zP in Ff)Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP])}return kh},__assign.apply(this,arguments)},renderInline=function(kh,Ff,x_,$P){return kh($P||"div",{id:Ff,ref:x_})},renderIframe=function(kh,Ff,x_){return kh("textarea",{id:Ff,visibility:"hidden",ref:x_})},defaultInitValues={selector:void 0,target:void 0},Editor$2=defineComponent({props:editorProps,setup:function(kh,Ff){var x_=kh.init?__assign(__assign({},kh.init),defaultInitValues):__assign({},defaultInitValues),$P=toRefs(kh),zP=$P.disabled,eme=$P.modelValue,tme=$P.tagName,nme=ref(null),rme=null,ime=kh.id||uuid("tiny-vue"),ome=kh.init&&kh.init.inline||kh.inline,sme=!!Ff.attrs["onUpdate:modelValue"],ame=!0,lme=kh.initialValue?kh.initialValue:"",ume="",dme=function(cme){return sme?function(){return eme!=null&&eme.value?eme.value:""}:function(){return cme?lme:ume}},pme=function(){var cme=dme(ame),_me=__assign(__assign({},x_),{readonly:kh.disabled,target:nme.value,plugins:mergePlugins(x_.plugins,kh.plugins),toolbar:kh.toolbar||x_.toolbar,inline:ome,setup:function(vme){rme=vme,vme.on("init",function(Eme){return initEditor(Eme,kh,Ff,vme,eme,cme)}),typeof x_.setup=="function"&&x_.setup(vme)}});isTextarea(nme.value)&&(nme.value.style.visibility=""),getTinymce().init(_me),ame=!1};watch(zP,function(cme){var _me;rme!==null&&(typeof((_me=rme.mode)===null||_me===void 0?void 0:_me.set)=="function"?rme.mode.set(cme?"readonly":"design"):rme.setMode(cme?"readonly":"design"))}),watch(tme,function(cme){var _me;sme||(ume=rme.getContent()),(_me=getTinymce())===null||_me===void 0||_me.remove(rme),nextTick(function(){return pme()})}),onMounted(function(){if(getTinymce()!==null)pme();else if(nme.value&&nme.value.ownerDocument){var cme=kh.cloudChannel?kh.cloudChannel:"6",_me=kh.apiKey?kh.apiKey:"no-api-key",vme=isNullOrUndefined(kh.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(_me,"/tinymce/").concat(cme,"/tinymce.min.js"):kh.tinymceScriptSrc;ScriptLoader.load(nme.value.ownerDocument,vme,pme)}}),onBeforeUnmount(function(){getTinymce()!==null&&getTinymce().remove(rme)}),ome||(onActivated(function(){ame||pme()}),onDeactivated(function(){var cme;sme||(ume=rme.getContent()),(cme=getTinymce())===null||cme===void 0||cme.remove(rme)}));var hme=function(cme){var _me;ume=rme.getContent(),(_me=getTinymce())===null||_me===void 0||_me.remove(rme),x_=__assign(__assign(__assign({},x_),cme),defaultInitValues),nextTick(function(){return pme()})};return Ff.expose({rerender:hme,getEditor:function(){return rme}}),function(){return ome?renderInline(h$1,ime,nme,kh.tagName):renderIframe(h$1,ime,nme)}}});const _hoisted_1$4={class:"editor"},_sfc_main$4=defineComponent({__name:"TinyEditor",props:{options:{type:Object,default(){return{}}}},setup(kh){const Ff=kh,x_=$P=>o0e(this,null,function*(){$P=getTinyEditorOptions($P)});return onMounted(()=>o0e(this,null,function*(){log$2("Component <<QuillEditor>> mounted."),yield x_(Ff.options).then()})),onBeforeUnmount(()=>o0e(this,null,function*(){log$2("Component <<TinyEditor>> onBeforeUnmount.")})),($P,zP)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(unref(Editor$2))]))}});function useDebouncedRef(kh){return customRef((Ff,x_)=>({get(){return Ff(),kh},set($P){kh=$P,requestAnimationFrame(()=>{requestAnimationFrame(()=>{x_()})})}}))}let Editor$1=class extends Editor$3{constructor(Ff={}){return super(Ff),this.vueRenderers=reactive(new Map),this.contentComponent=null,this.reactiveState=useDebouncedRef(this.view.state),this.reactiveExtensionStorage=useDebouncedRef(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),markRaw(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(Ff,x_){super.registerPlugin(Ff,x_),this.reactiveState.value=this.view.state}unregisterPlugin(Ff){super.unregisterPlugin(Ff),this.reactiveState.value=this.view.state}};const EditorContent=defineComponent({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(kh){const Ff=ref(),x_=getCurrentInstance();return watchEffect(()=>{const $P=kh.editor;$P&&$P.options.element&&Ff.value&&nextTick(()=>{if(!Ff.value||!$P.options.element.firstChild)return;const zP=unref(Ff.value);Ff.value.append(...$P.options.element.childNodes),$P.contentComponent=x_.ctx._,$P.setOptions({element:zP}),$P.createNodeViews()})}),onBeforeUnmount(()=>{const $P=kh.editor;if(!$P||($P.isDestroyed||$P.view.setProps({nodeViews:{}}),$P.contentComponent=null,!$P.options.element.firstChild))return;const zP=document.createElement("div");zP.append(...$P.options.element.childNodes),$P.setOptions({element:zP})}),{rootEl:Ff}},render(){const kh=[];return this.editor&&this.editor.vueRenderers.forEach(Ff=>{const x_=h$1(Teleport,{to:Ff.teleportElement,key:Ff.id},h$1(Ff.component,qme({ref:Ff.id},Ff.props)));kh.push(x_)}),h$1("div",{ref:Ff=>{this.rootEl=Ff}},...kh)}}),_hoisted_1$3={class:"editor"},_sfc_main$3=defineComponent({__name:"TipTapEditor",props:{options:{type:Object,default(){return{}}}},setup(kh){const Ff=kh;let x_=ref(null);const $P=zP=>o0e(this,null,function*(){zP=getTipTapEditorOptions(zP),x_.value=new Editor$1(zP)});return onMounted(()=>o0e(this,null,function*(){log$2("Component <<TipTapEditor>> mounted."),yield $P(Ff.options).then()})),onBeforeUnmount(()=>o0e(this,null,function*(){log$2("Component <<TipTapEditor>> onBeforeUnmount."),isNull(x_.value)||x_.value.destroy()})),(zP,eme)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(unref(EditorContent),{editor:unref(x_)},null,8,["editor"])]))}});var e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function t(kh){return kh&&kh.__esModule&&Object.prototype.hasOwnProperty.call(kh,"default")?kh.default:kh}function n(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var r,o,i=function(kh){return kh&&kh.Math==Math&&kh},a=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof e=="object"&&e)||function(){return this}()||Function("return this")(),u=Function.prototype,s=u.apply,l=u.bind,c=u.call,f=typeof Reflect=="object"&&Reflect.apply||(l?c.bind(s):function(){return c.apply(s,arguments)}),d=Function.prototype,p=d.bind,h=d.call,g=p&&p.bind(h),v=p?function(kh){return kh&&g(h,kh)}:function(kh){return kh&&function(){return h.apply(kh,arguments)}},y=function(kh){return typeof kh=="function"},m=function(kh){try{return!!kh()}catch(Ff){return!0}},b=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),w=Function.prototype.call,E=w.bind?w.bind(w):function(){return w.apply(w,arguments)},D={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,x=S&&!D.call({1:2},1)?function(kh){var Ff=S(this,kh);return!!Ff&&Ff.enumerable}:D,C={f:x},A=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},O=v({}.toString),k=v("".slice),B=function(kh){return k(O(kh),8,-1)},F=a.Object,T=v("".split),_=m(function(){return!F("z").propertyIsEnumerable(0)})?function(kh){return B(kh)=="String"?T(kh,""):F(kh)}:F,P=a.TypeError,j=function(kh){if(kh==null)throw P("Can't call method on "+kh);return kh},N=function(kh){return _(j(kh))},I=function(kh){return typeof kh=="object"?kh!==null:y(kh)},L={},R=function(kh){return y(kh)?kh:void 0},M=function(kh,Ff){return arguments.length<2?R(L[kh])||R(a[kh]):L[kh]&&L[kh][Ff]||a[kh]&&a[kh][Ff]},z=v({}.isPrototypeOf),$$1=M("navigator","userAgent")||"",H=a.process,V=a.Deno,U=H&&H.versions||V&&V.version,W=U&&U.v8;W&&(o=(r=W.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&$$1&&(!(r=$$1.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=$$1.match(/Chrome\/(\d+)/))&&(o=+r[1]);var G,q=o,K=!!Object.getOwnPropertySymbols&&!m(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&q&&q<41}),Y=K&&!Symbol.sham&&typeof Symbol.iterator=="symbol",X=a.Object,Z=Y?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=M("Symbol");return y(Ff)&&z(Ff.prototype,X(kh))},J=a.String,Q=function(kh){try{return J(kh)}catch(Ff){return"Object"}},ee=a.TypeError,te=function(kh){if(y(kh))return kh;throw ee(Q(kh)+" is not a function")},ne=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:te(x_)},re=a.TypeError,oe=Object.defineProperty,ie=a["__core-js_shared__"]||function(kh,Ff){try{oe(a,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){a[kh]=Ff}return Ff}("__core-js_shared__",{}),ae=n(function(kh){(kh.exports=function(Ff,x_){return ie[Ff]||(ie[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),ue=a.Object,se=function(kh){return ue(j(kh))},le=v({}.hasOwnProperty),ce=Object.hasOwn||function(kh,Ff){return le(se(kh),Ff)},fe=0,de=Math.random(),pe=v(1 .toString),he=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+pe(++fe+de,36)},ge=ae("wks"),ve=a.Symbol,ye=ve&&ve.for,me=Y?ve:ve&&ve.withoutSetter||he,be=function(kh){if(!ce(ge,kh)||!K&&typeof ge[kh]!="string"){var Ff="Symbol."+kh;K&&ce(ve,kh)?ge[kh]=ve[kh]:ge[kh]=Y&&ye?ye(Ff):me(Ff)}return ge[kh]},we=a.TypeError,Ee=be("toPrimitive"),De=function(kh,Ff){if(!I(kh)||Z(kh))return kh;var x_,$P=ne(kh,Ee);if($P){if(Ff===void 0&&(Ff="default"),x_=E($P,kh,Ff),!I(x_)||Z(x_))return x_;throw we("Can't convert object to primitive value")}return Ff===void 0&&(Ff="number"),function(zP,eme){var tme,nme;if(eme==="string"&&y(tme=zP.toString)&&!I(nme=E(tme,zP))||y(tme=zP.valueOf)&&!I(nme=E(tme,zP))||eme!=="string"&&y(tme=zP.toString)&&!I(nme=E(tme,zP)))return nme;throw re("Can't convert object to primitive value")}(kh,Ff)},Se=function(kh){var Ff=De(kh,"string");return Z(Ff)?Ff:Ff+""},xe=a.document,Ce=I(xe)&&I(xe.createElement),Ae=function(kh){return Ce?xe.createElement(kh):{}},Oe=!b&&!m(function(){return Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a!=7}),ke=Object.getOwnPropertyDescriptor,Be=b?ke:function(kh,Ff){if(kh=N(kh),Ff=Se(Ff),Oe)try{return ke(kh,Ff)}catch(x_){}if(ce(kh,Ff))return A(!E(C.f,kh,Ff),kh[Ff])},Fe={f:Be},Te=/#|\.prototype\./,_e=function(kh,Ff){var x_=je[Pe(kh)];return x_==Ie||x_!=Ne&&(y(Ff)?m(Ff):!!Ff)},Pe=_e.normalize=function(kh){return String(kh).replace(Te,".").toLowerCase()},je=_e.data={},Ne=_e.NATIVE="N",Ie=_e.POLYFILL="P",Le=_e,Re=v(v.bind),Me=function(kh,Ff){return te(kh),Ff===void 0?kh:Re?Re(kh,Ff):function(){return kh.apply(Ff,arguments)}},ze=a.String,$e=a.TypeError,He=function(kh){if(I(kh))return kh;throw $e(ze(kh)+" is not an object")},Ve=a.TypeError,Ue=Object.defineProperty,We=b?Ue:function(kh,Ff,x_){if(He(kh),Ff=Se(Ff),He(x_),Oe)try{return Ue(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw Ve("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh},Ge={f:We},qe=b?function(kh,Ff,x_){return Ge.f(kh,Ff,A(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},Ke=Fe.f,Ye=function(kh){var Ff=function(x_,$P,zP){if(this instanceof Ff){switch(arguments.length){case 0:return new kh;case 1:return new kh(x_);case 2:return new kh(x_,$P)}return new kh(x_,$P,zP)}return f(kh,this,arguments)};return Ff.prototype=kh.prototype,Ff},Xe=function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme,ime,ome=kh.target,sme=kh.global,ame=kh.stat,lme=kh.proto,ume=sme?a:ame?a[ome]:(a[ome]||{}).prototype,dme=sme?L:L[ome]||qe(L,ome,{})[ome],pme=dme.prototype;for(zP in Ff)x_=!Le(sme?zP:ome+(ame?".":"#")+zP,kh.forced)&&ume&&ce(ume,zP),tme=dme[zP],x_&&(nme=kh.noTargetGet?(ime=Ke(ume,zP))&&ime.value:ume[zP]),eme=x_&&nme?nme:Ff[zP],x_&&typeof tme==typeof eme||(rme=kh.bind&&x_?Me(eme,a):kh.wrap&&x_?Ye(eme):lme&&y(eme)?v(eme):eme,(kh.sham||eme&&eme.sham||tme&&tme.sham)&&qe(rme,"sham",!0),qe(dme,zP,rme),lme&&(ce(L,$P=ome+"Prototype")||qe(L,$P,{}),qe(L[$P],zP,eme),kh.real&&pme&&!pme[zP]&&qe(pme,zP,eme)))},Ze=ae("keys"),Je=function(kh){return Ze[kh]||(Ze[kh]=he(kh))},Qe=!m(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),et=Je("IE_PROTO"),tt=a.Object,nt=tt.prototype,rt=Qe?tt.getPrototypeOf:function(kh){var Ff=se(kh);if(ce(Ff,et))return Ff[et];var x_=Ff.constructor;return y(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof tt?nt:null},ot=a.String,it=a.TypeError,at=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return He($P),function(eme){if(typeof eme=="object"||y(eme))return eme;throw it("Can't set "+ot(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),ut=Math.ceil,st=Math.floor,lt=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?st:ut)(Ff)},ct=Math.max,ft=Math.min,dt=function(kh,Ff){var x_=lt(kh);return x_<0?ct(x_+Ff,0):ft(x_,Ff)},pt=Math.min,ht=function(kh){return(Ff=kh.length)>0?pt(lt(Ff),9007199254740991):0;var Ff},gt=function(kh){return function(Ff,x_,$P){var zP,eme=N(Ff),tme=ht(eme),nme=dt($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},vt={includes:gt(!0),indexOf:gt(!1)},yt={},mt=vt.indexOf,bt=v([].push),wt=function(kh,Ff){var x_,$P=N(kh),zP=0,eme=[];for(x_ in $P)!ce(yt,x_)&&ce($P,x_)&&bt(eme,x_);for(;Ff.length>zP;)ce($P,x_=Ff[zP++])&&(~mt(eme,x_)||bt(eme,x_));return eme},Et=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Dt=Et.concat("length","prototype"),St=Object.getOwnPropertyNames||function(kh){return wt(kh,Dt)},xt={f:St},Ct={f:Object.getOwnPropertySymbols},At=v([].concat),Ot=M("Reflect","ownKeys")||function(kh){var Ff=xt.f(He(kh)),x_=Ct.f;return x_?At(Ff,x_(kh)):Ff},kt=Object.keys||function(kh){return wt(kh,Et)},Bt=b?Object.defineProperties:function(kh,Ff){He(kh);for(var x_,$P=N(Ff),zP=kt(Ff),eme=zP.length,tme=0;eme>tme;)Ge.f(kh,x_=zP[tme++],$P[x_]);return kh},Ft=M("document","documentElement"),Tt=Je("IE_PROTO"),_t=function(){},Pt=function(kh){return"<script>"+kh+"<\/script>"},jt=function(kh){kh.write(Pt("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},Nt=function(){try{G=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;Nt=typeof document!="undefined"?document.domain&&G?jt(G):((Ff=Ae("iframe")).style.display="none",Ft.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(Pt("document.F=Object")),kh.close(),kh.F):jt(G);for(var x_=Et.length;x_--;)delete Nt.prototype[Et[x_]];return Nt()};yt[Tt]=!0;var It=Object.create||function(kh,Ff){var x_;return kh!==null?(_t.prototype=He(kh),x_=new _t,_t.prototype=null,x_[Tt]=kh):x_=Nt(),Ff===void 0?x_:Bt(x_,Ff)},Lt=function(kh,Ff,x_){var $P=Se(Ff);$P in kh?Ge.f(kh,$P,A(0,x_)):kh[$P]=x_},Rt=a.Array,Mt=Math.max,zt=function(kh,Ff,x_){for(var $P=ht(kh),zP=dt(Ff,$P),eme=dt(x_===void 0?$P:x_,$P),tme=Rt(Mt(eme-zP,0)),nme=0;zP<eme;zP++,nme++)Lt(tme,nme,kh[zP]);return tme.length=nme,tme},$t=v("".replace),Ht=v("".split),Vt=v([].join),Ut=String(Error("zxcasd").stack),Wt=/\n\s*at [^:]*:[^\n]*/,Gt=Wt.test(Ut),qt=/@[^\n]*\n/.test(Ut)&&!/zxcasd/.test(Ut),Kt=function(kh,Ff){if(typeof kh!="string")return kh;if(Gt)for(;Ff--;)kh=$t(kh,Wt,"");else if(qt)return Vt(zt(Ht(kh,`
`),Ff),`
`);return kh},Yt=function(kh,Ff){I(Ff)&&"cause"in Ff&&qe(kh,"cause",Ff.cause)},Xt={},Zt=be("iterator"),Jt=Array.prototype,Qt={};Qt[be("toStringTag")]="z";var en=String(Qt)==="[object z]",tn=be("toStringTag"),nn=a.Object,rn=B(function(){return arguments}())=="Arguments",on$1=en?B:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=nn(kh),tn))=="string"?x_:rn?B(Ff):($P=B(Ff))=="Object"&&y(Ff.callee)?"Arguments":$P},an=be("iterator"),un=function(kh){if(kh!=null)return ne(kh,an)||ne(kh,"@@iterator")||Xt[on$1(kh)]},sn=a.TypeError,ln=function(kh,Ff,x_){var $P,zP;He(kh);try{if(!($P=ne(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=E($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return He($P),x_},cn=a.TypeError,fn=function(kh,Ff){this.stopped=kh,this.result=Ff},dn=fn.prototype,pn=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome=x_&&x_.that,sme=!(!x_||!x_.AS_ENTRIES),ame=!(!x_||!x_.IS_ITERATOR),lme=!(!x_||!x_.INTERRUPTED),ume=Me(Ff,ome),dme=function(hme){return $P&&ln($P,"normal",hme),new fn(!0,hme)},pme=function(hme){return sme?(He(hme),lme?ume(hme[0],hme[1],dme):ume(hme[0],hme[1])):lme?ume(hme,dme):ume(hme)};if(ame)$P=kh;else{if(!(zP=un(kh)))throw cn(Q(kh)+" is not iterable");if(function(hme){return hme!==void 0&&(Xt.Array===hme||Jt[Zt]===hme)}(zP)){for(eme=0,tme=ht(kh);tme>eme;eme++)if((nme=pme(kh[eme]))&&z(dn,nme))return nme;return new fn(!1)}$P=function(hme,cme){var _me=arguments.length<2?un(hme):cme;if(te(_me))return He(E(_me,hme));throw sn(Q(hme)+" is not iterable")}(kh,zP)}for(rme=$P.next;!(ime=E(rme,$P)).done;){try{nme=pme(ime.value)}catch(hme){ln($P,"throw",hme)}if(typeof nme=="object"&&nme&&z(dn,nme))return nme}return new fn(!1)},hn=a.String,gn=function(kh){if(on$1(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return hn(kh)},vn=function(kh,Ff){return kh===void 0?arguments.length<2?"":Ff:gn(kh)},yn=!m(function(){var kh=Error("a");return!("stack"in kh)||(Object.defineProperty(kh,"stack",A(1,7)),kh.stack!==7)}),mn=be("toStringTag"),bn=a.Error,wn=[].push,En=function(kh,Ff){var x_,$P=arguments.length>2?arguments[2]:void 0,zP=z(Dn,this);at?x_=at(new bn(void 0),zP?rt(this):Dn):(x_=zP?this:It(Dn),qe(x_,mn,"Error")),qe(x_,"message",vn(Ff,"")),yn&&qe(x_,"stack",Kt(x_.stack,1)),Yt(x_,$P);var eme=[];return pn(kh,wn,{that:eme}),qe(x_,"errors",eme),x_};at?at(En,bn):function(kh,Ff){for(var x_=Ot(Ff),$P=Ge.f,zP=Fe.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];ce(kh,tme)||$P(kh,tme,zP(Ff,tme))}}(En,bn);var Dn=En.prototype=It(bn.prototype,{constructor:A(1,En),message:A(1,""),name:A(1,"AggregateError")});Xe({global:!0},{AggregateError:En});var Sn=v(Function.toString);y(ie.inspectSource)||(ie.inspectSource=function(kh){return Sn(kh)});var xn,Cn,An,On=ie.inspectSource,kn=a.WeakMap,Bn=y(kn)&&/native code/.test(On(kn)),Fn$1=a.TypeError,Tn=a.WeakMap;if(Bn||ie.state){var _n=ie.state||(ie.state=new Tn),Pn=v(_n.get),jn=v(_n.has),Nn=v(_n.set);xn=function(kh,Ff){if(jn(_n,kh))throw new Fn$1("Object already initialized");return Ff.facade=kh,Nn(_n,kh,Ff),Ff},Cn=function(kh){return Pn(_n,kh)||{}},An=function(kh){return jn(_n,kh)}}else{var In=Je("state");yt[In]=!0,xn=function(kh,Ff){if(ce(kh,In))throw new Fn$1("Object already initialized");return Ff.facade=kh,qe(kh,In,Ff),Ff},Cn=function(kh){return ce(kh,In)?kh[In]:{}},An=function(kh){return ce(kh,In)}}var Ln,Rn,Mn,zn={set:xn,get:Cn,has:An,enforce:function(kh){return An(kh)?Cn(kh):xn(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!I(Ff)||(x_=Cn(Ff)).type!==kh)throw Fn$1("Incompatible receiver, "+kh+" required");return x_}}},$n=Function.prototype,Hn=b&&Object.getOwnPropertyDescriptor,Vn=ce($n,"name"),Un={EXISTS:Vn,PROPER:Vn&&function(){}.name==="something",CONFIGURABLE:Vn&&(!b||b&&Hn($n,"name").configurable)},Wn=function(kh,Ff,x_,$P){$P&&$P.enumerable?kh[Ff]=x_:qe(kh,Ff,x_)},Gn=be("iterator"),qn=!1;[].keys&&("next"in(Mn=[].keys())?(Rn=rt(rt(Mn)))!==Object.prototype&&(Ln=Rn):qn=!0);var Kn=Ln==null||m(function(){var kh={};return Ln[Gn].call(kh)!==kh});Ln=Kn?{}:It(Ln),y(Ln[Gn])||Wn(Ln,Gn,function(){return this});var Yn={IteratorPrototype:Ln,BUGGY_SAFARI_ITERATORS:qn},Xn=en?{}.toString:function(){return"[object "+on$1(this)+"]"},Zn=Ge.f,Jn=be("toStringTag"),Qn=function(kh,Ff,x_,$P){if(kh){var zP=x_?kh:kh.prototype;ce(zP,Jn)||Zn(zP,Jn,{configurable:!0,value:Ff}),$P&&!en&&qe(zP,"toString",Xn)}},er=Yn.IteratorPrototype,tr=function(){return this},nr=Un.PROPER,rr=Yn.BUGGY_SAFARI_ITERATORS,or=be("iterator"),ir=function(){return this},ar=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=It(er,{next:A(+!vme,_me)}),Qn(hme,Eme,!1,!0),Xt[Eme]=tr})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!rr&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[or]||lme["@@iterator"]||zP&&lme[zP],dme=!rr&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=rt(pme.call(new kh)))!==Object.prototype&&nme.next&&(Qn(nme,sme,!0,!0),Xt[sme]=ir),nr&&zP=="values"&&ume&&ume.name!=="values"&&(ame=!0,dme=function(){return E(ume,this)}),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(rr||ame||!(ime in lme))&&Wn(lme,ime,rme[ime]);else Xe({target:Ff,proto:!0,forced:rr||ame},rme);return tme&&lme[or]!==dme&&Wn(lme,or,dme,{name:zP}),Xt[Ff]=dme,rme},ur=zn.set,sr=zn.getterFor("Array Iterator");ar(Array,"Array",function(kh,Ff){ur(this,{type:"Array Iterator",target:N(kh),index:0,kind:Ff})},function(){var kh=sr(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values"),Xt.Arguments=Xt.Array;var lr=v("".charAt),cr=v("".charCodeAt),fr=v("".slice),dr=function(kh){return function(Ff,x_){var $P,zP,eme=gn(j(Ff)),tme=lt(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=cr(eme,tme))<55296||$P>56319||tme+1===nme||(zP=cr(eme,tme+1))<56320||zP>57343?kh?lr(eme,tme):$P:kh?fr(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},pr={codeAt:dr(!1),charAt:dr(!0)}.charAt,hr=zn.set,gr=zn.getterFor("String Iterator");ar(String,"String",function(kh){hr(this,{type:"String Iterator",string:gn(kh),index:0})},function(){var kh,Ff=gr(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=pr(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var vr=L.AggregateError,yr=be("toStringTag");for(var mr in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var br=a[mr],wr=br&&br.prototype;wr&&on$1(wr)!==yr&&qe(wr,yr,mr),Xt[mr]=Xt.Array}var Er,Dr,Sr=vr,xr=function(kh){return kh&&kh.Math==Math&&kh},Cr=xr(typeof globalThis=="object"&&globalThis)||xr(typeof window=="object"&&window)||xr(typeof self=="object"&&self)||xr(typeof e=="object"&&e)||function(){return this}()||Function("return this")(),Ar=function(kh){try{return!!kh()}catch(Ff){return!0}},Or=!Ar(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),kr=Function.prototype.call,Br=kr.bind?kr.bind(kr):function(){return kr.apply(kr,arguments)},Fr={}.propertyIsEnumerable,Tr=Object.getOwnPropertyDescriptor,_r=Tr&&!Fr.call({1:2},1)?function(kh){var Ff=Tr(this,kh);return!!Ff&&Ff.enumerable}:Fr,Pr={f:_r},jr=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},Nr=Function.prototype,Ir=Nr.bind,Lr=Nr.call,Rr=Ir&&Ir.bind(Lr),Mr=Ir?function(kh){return kh&&Rr(Lr,kh)}:function(kh){return kh&&function(){return Lr.apply(kh,arguments)}},zr=Mr({}.toString),$r=Mr("".slice),Hr=function(kh){return $r(zr(kh),8,-1)},Vr=Cr.Object,Ur=Mr("".split),Wr=Ar(function(){return!Vr("z").propertyIsEnumerable(0)})?function(kh){return Hr(kh)=="String"?Ur(kh,""):Vr(kh)}:Vr,Gr=Cr.TypeError,qr=function(kh){if(kh==null)throw Gr("Can't call method on "+kh);return kh},Kr=function(kh){return Wr(qr(kh))},Yr=function(kh){return typeof kh=="function"},Xr=function(kh){return typeof kh=="object"?kh!==null:Yr(kh)},Zr=function(kh){return Yr(kh)?kh:void 0},Jr=function(kh,Ff){return arguments.length<2?Zr(Cr[kh]):Cr[kh]&&Cr[kh][Ff]},Qr=Mr({}.isPrototypeOf),eo=Jr("navigator","userAgent")||"",to=Cr.process,no=Cr.Deno,ro=to&&to.versions||no&&no.version,oo=ro&&ro.v8;oo&&(Dr=(Er=oo.split("."))[0]>0&&Er[0]<4?1:+(Er[0]+Er[1])),!Dr&&eo&&(!(Er=eo.match(/Edge\/(\d+)/))||Er[1]>=74)&&(Er=eo.match(/Chrome\/(\d+)/))&&(Dr=+Er[1]);var io=Dr,ao=!!Object.getOwnPropertySymbols&&!Ar(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&io&&io<41}),uo=ao&&!Symbol.sham&&typeof Symbol.iterator=="symbol",so=Cr.Object,lo=uo?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=Jr("Symbol");return Yr(Ff)&&Qr(Ff.prototype,so(kh))},co=Cr.String,fo=function(kh){try{return co(kh)}catch(Ff){return"Object"}},po=Cr.TypeError,ho=function(kh){if(Yr(kh))return kh;throw po(fo(kh)+" is not a function")},go=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:ho(x_)},vo=Cr.TypeError,yo=Object.defineProperty,mo=function(kh,Ff){try{yo(Cr,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){Cr[kh]=Ff}return Ff},bo=Cr["__core-js_shared__"]||mo("__core-js_shared__",{}),wo=n(function(kh){(kh.exports=function(Ff,x_){return bo[Ff]||(bo[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Eo=Cr.Object,Do=function(kh){return Eo(qr(kh))},So=Mr({}.hasOwnProperty),xo=Object.hasOwn||function(kh,Ff){return So(Do(kh),Ff)},Co=0,Ao=Math.random(),Oo=Mr(1 .toString),ko=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+Oo(++Co+Ao,36)},Bo=wo("wks"),Fo=Cr.Symbol,To=Fo&&Fo.for,_o=uo?Fo:Fo&&Fo.withoutSetter||ko,Po=function(kh){if(!xo(Bo,kh)||!ao&&typeof Bo[kh]!="string"){var Ff="Symbol."+kh;ao&&xo(Fo,kh)?Bo[kh]=Fo[kh]:Bo[kh]=uo&&To?To(Ff):_o(Ff)}return Bo[kh]},jo=Cr.TypeError,No=Po("toPrimitive"),Io=function(kh,Ff){if(!Xr(kh)||lo(kh))return kh;var x_,$P=go(kh,No);if($P){if(Ff===void 0&&(Ff="default"),x_=Br($P,kh,Ff),!Xr(x_)||lo(x_))return x_;throw jo("Can't convert object to primitive value")}return Ff===void 0&&(Ff="number"),function(zP,eme){var tme,nme;if(eme==="string"&&Yr(tme=zP.toString)&&!Xr(nme=Br(tme,zP))||Yr(tme=zP.valueOf)&&!Xr(nme=Br(tme,zP))||eme!=="string"&&Yr(tme=zP.toString)&&!Xr(nme=Br(tme,zP)))return nme;throw vo("Can't convert object to primitive value")}(kh,Ff)},Lo=function(kh){var Ff=Io(kh,"string");return lo(Ff)?Ff:Ff+""},Ro=Cr.document,Mo=Xr(Ro)&&Xr(Ro.createElement),zo=function(kh){return Mo?Ro.createElement(kh):{}},$o=!Or&&!Ar(function(){return Object.defineProperty(zo("div"),"a",{get:function(){return 7}}).a!=7}),Ho=Object.getOwnPropertyDescriptor,Vo=Or?Ho:function(kh,Ff){if(kh=Kr(kh),Ff=Lo(Ff),$o)try{return Ho(kh,Ff)}catch(x_){}if(xo(kh,Ff))return jr(!Br(Pr.f,kh,Ff),kh[Ff])},Uo={f:Vo},Wo=Cr.String,Go=Cr.TypeError,qo=function(kh){if(Xr(kh))return kh;throw Go(Wo(kh)+" is not an object")},Ko=Cr.TypeError,Yo=Object.defineProperty,Xo=Or?Yo:function(kh,Ff,x_){if(qo(kh),Ff=Lo(Ff),qo(x_),$o)try{return Yo(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw Ko("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh},Zo={f:Xo},Jo=Or?function(kh,Ff,x_){return Zo.f(kh,Ff,jr(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},Qo=Mr(Function.toString);Yr(bo.inspectSource)||(bo.inspectSource=function(kh){return Qo(kh)});var ei,ti,ni,ri=bo.inspectSource,oi=Cr.WeakMap,ii=Yr(oi)&&/native code/.test(ri(oi)),ai=wo("keys"),ui=function(kh){return ai[kh]||(ai[kh]=ko(kh))},si={},li=Cr.TypeError,ci=Cr.WeakMap;if(ii||bo.state){var fi=bo.state||(bo.state=new ci),di=Mr(fi.get),pi=Mr(fi.has),hi=Mr(fi.set);ei=function(kh,Ff){if(pi(fi,kh))throw new li("Object already initialized");return Ff.facade=kh,hi(fi,kh,Ff),Ff},ti=function(kh){return di(fi,kh)||{}},ni=function(kh){return pi(fi,kh)}}else{var gi=ui("state");si[gi]=!0,ei=function(kh,Ff){if(xo(kh,gi))throw new li("Object already initialized");return Ff.facade=kh,Jo(kh,gi,Ff),Ff},ti=function(kh){return xo(kh,gi)?kh[gi]:{}},ni=function(kh){return xo(kh,gi)}}var vi={set:ei,get:ti,has:ni,enforce:function(kh){return ni(kh)?ti(kh):ei(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!Xr(Ff)||(x_=ti(Ff)).type!==kh)throw li("Incompatible receiver, "+kh+" required");return x_}}},yi=Function.prototype,mi=Or&&Object.getOwnPropertyDescriptor,bi=xo(yi,"name"),wi={EXISTS:bi,PROPER:bi&&function(){}.name==="something",CONFIGURABLE:bi&&(!Or||Or&&mi(yi,"name").configurable)},Ei=n(function(kh){var Ff=wi.CONFIGURABLE,x_=vi.get,$P=vi.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;Yr(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!xo(nme,"name")||Ff&&nme.name!==lme)&&Jo(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==Cr?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:Jo(eme,tme,nme)):sme?eme[tme]=nme:mo(tme,nme)})(Function.prototype,"toString",function(){return Yr(this)&&x_(this).source||ri(this)})}),Di=Math.ceil,Si=Math.floor,xi=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?Si:Di)(Ff)},Ci=Math.max,Ai=Math.min,Oi=function(kh,Ff){var x_=xi(kh);return x_<0?Ci(x_+Ff,0):Ai(x_,Ff)},ki=Math.min,Bi=function(kh){return kh>0?ki(xi(kh),9007199254740991):0},Fi=function(kh){return Bi(kh.length)},Ti=function(kh){return function(Ff,x_,$P){var zP,eme=Kr(Ff),tme=Fi(eme),nme=Oi($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},_i={includes:Ti(!0),indexOf:Ti(!1)}.indexOf,Pi=Mr([].push),ji=function(kh,Ff){var x_,$P=Kr(kh),zP=0,eme=[];for(x_ in $P)!xo(si,x_)&&xo($P,x_)&&Pi(eme,x_);for(;Ff.length>zP;)xo($P,x_=Ff[zP++])&&(~_i(eme,x_)||Pi(eme,x_));return eme},Ni=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ii=Ni.concat("length","prototype"),Li=Object.getOwnPropertyNames||function(kh){return ji(kh,Ii)},Ri={f:Li},Mi={f:Object.getOwnPropertySymbols},zi=Mr([].concat),$i=Jr("Reflect","ownKeys")||function(kh){var Ff=Ri.f(qo(kh)),x_=Mi.f;return x_?zi(Ff,x_(kh)):Ff},Hi=function(kh,Ff){for(var x_=$i(Ff),$P=Zo.f,zP=Uo.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];xo(kh,tme)||$P(kh,tme,zP(Ff,tme))}},Vi=/#|\.prototype\./,Ui=function(kh,Ff){var x_=Gi[Wi(kh)];return x_==Ki||x_!=qi&&(Yr(Ff)?Ar(Ff):!!Ff)},Wi=Ui.normalize=function(kh){return String(kh).replace(Vi,".").toLowerCase()},Gi=Ui.data={},qi=Ui.NATIVE="N",Ki=Ui.POLYFILL="P",Yi=Ui,Xi=Uo.f,Zi=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?Cr:ime?Cr[nme]||mo(nme,{}):(Cr[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=Xi(x_,$P))&&tme.value:x_[$P],!Yi(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;Hi(eme,zP)}(kh.sham||zP&&zP.sham)&&Jo(eme,"sham",!0),Ei(x_,$P,eme,kh)}},Ji={};Ji[Po("toStringTag")]="z";var Qi,ea=String(Ji)==="[object z]",ta=Po("toStringTag"),na=Cr.Object,ra=Hr(function(){return arguments}())=="Arguments",oa=ea?Hr:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=na(kh),ta))=="string"?x_:ra?Hr(Ff):($P=Hr(Ff))=="Object"&&Yr(Ff.callee)?"Arguments":$P},ia=Cr.String,aa=function(kh){if(oa(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ia(kh)},ua=function(){var kh=qo(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},sa=Cr.RegExp,la=Ar(function(){var kh=sa("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),ca=la||Ar(function(){return!sa("a","y").sticky}),fa=la||Ar(function(){var kh=sa("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),da={BROKEN_CARET:fa,MISSED_STICKY:ca,UNSUPPORTED_Y:la},pa=Object.keys||function(kh){return ji(kh,Ni)},ha=Or?Object.defineProperties:function(kh,Ff){qo(kh);for(var x_,$P=Kr(Ff),zP=pa(Ff),eme=zP.length,tme=0;eme>tme;)Zo.f(kh,x_=zP[tme++],$P[x_]);return kh},ga=Jr("document","documentElement"),va=ui("IE_PROTO"),ya=function(){},ma=function(kh){return"<script>"+kh+"<\/script>"},ba=function(kh){kh.write(ma("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},wa=function(){try{Qi=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;wa=typeof document!="undefined"?document.domain&&Qi?ba(Qi):((Ff=zo("iframe")).style.display="none",ga.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(ma("document.F=Object")),kh.close(),kh.F):ba(Qi);for(var x_=Ni.length;x_--;)delete wa.prototype[Ni[x_]];return wa()};si[va]=!0;var Ea,Da,Sa=Object.create||function(kh,Ff){var x_;return kh!==null?(ya.prototype=qo(kh),x_=new ya,ya.prototype=null,x_[va]=kh):x_=wa(),Ff===void 0?x_:ha(x_,Ff)},xa=Cr.RegExp,Ca=Ar(function(){var kh=xa(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),Aa=Cr.RegExp,Oa=Ar(function(){var kh=Aa("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),ka=vi.get,Ba=wo("native-string-replace",String.prototype.replace),Fa=RegExp.prototype.exec,Ta=Fa,_a=Mr("".charAt),Pa=Mr("".indexOf),ja=Mr("".replace),Na=Mr("".slice),Ia=(Da=/b*/g,Br(Fa,Ea=/a/,"a"),Br(Fa,Da,"a"),Ea.lastIndex!==0||Da.lastIndex!==0),La=da.BROKEN_CARET,Ra=/()??/.exec("")[1]!==void 0;(Ia||Ra||La||Ca||Oa)&&(Ta=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=ka(rme),ome=aa(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=Br(Ta,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=La&&rme.sticky,ume=Br(ua,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=ja(ume,"y",""),Pa(ume,"g")===-1&&(ume+="g"),hme=Na(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&_a(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),Ra&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),Ia&&($P=rme.lastIndex),zP=Br(Fa,lme?x_:rme,hme),lme?zP?(zP.input=Na(zP.input,pme),zP[0]=Na(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:Ia&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),Ra&&zP&&zP.length>1&&Br(Ba,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=Sa(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var Ma=Ta;Zi({target:"RegExp",proto:!0,forced:/./.exec!==Ma},{exec:Ma});var za=Po("species"),$a=RegExp.prototype,Ha=Mr("".charAt),Va=Mr("".charCodeAt),Ua=Mr("".slice),Wa=function(kh){return function(Ff,x_){var $P,zP,eme=aa(qr(Ff)),tme=xi(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=Va(eme,tme))<55296||$P>56319||tme+1===nme||(zP=Va(eme,tme+1))<56320||zP>57343?kh?Ha(eme,tme):$P:kh?Ua(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},Ga={codeAt:Wa(!1),charAt:Wa(!0)},qa=Ga.charAt,Ka=function(kh,Ff,x_){return Ff+(x_?qa(kh,Ff).length:1)},Ya=Cr.TypeError,Xa=function(kh,Ff){var x_=kh.exec;if(Yr(x_)){var $P=Br(x_,kh,Ff);return $P!==null&&qo($P),$P}if(Hr(kh)==="RegExp")return Br(Ma,kh,Ff);throw Ya("RegExp#exec called on incompatible receiver")};(function(kh,Ff,x_,$P){var zP=Po(kh),eme=!Ar(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!Ar(function(){var ime=!1,ome=/a/;return kh==="split"&&((ome={}).constructor={},ome.constructor[za]=function(){return ome},ome.flags="",ome[zP]=/./[zP]),ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=Mr(/./[zP]),rme=Ff(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=Mr(ime),dme=ome.exec;return dme===Ma||dme===$a.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});Ei(String.prototype,kh,rme[0]),Ei($a,zP,rme[1])}$P&&Jo($a[zP],"sham",!0)})("match",function(kh,Ff,x_){return[function($P){var zP=qr(this),eme=$P==null?void 0:go($P,kh);return eme?Br(eme,$P,zP):new RegExp($P)[kh](aa(zP))},function($P){var zP=qo(this),eme=aa($P),tme=x_(Ff,zP,eme);if(tme.done)return tme.value;if(!zP.global)return Xa(zP,eme);var nme=zP.unicode;zP.lastIndex=0;for(var rme,ime=[],ome=0;(rme=Xa(zP,eme))!==null;){var sme=aa(rme[0]);ime[ome]=sme,sme===""&&(zP.lastIndex=Ka(eme,Bi(zP.lastIndex),nme)),ome++}return ome===0?null:ime}]}),Zi({global:!0},{globalThis:Cr});var Za=!Ar(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),Ja=ui("IE_PROTO"),Qa=Cr.Object,eu=Qa.prototype,tu=Za?Qa.getPrototypeOf:function(kh){var Ff=Do(kh);if(xo(Ff,Ja))return Ff[Ja];var x_=Ff.constructor;return Yr(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof Qa?eu:null},nu=Cr.String,ru=Cr.TypeError,ou=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=Mr(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return qo($P),function(eme){if(typeof eme=="object"||Yr(eme))return eme;throw ru("Can't set "+nu(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),iu=Cr.Array,au=Math.max,uu=Mr("".replace),su=Mr("".split),lu=Mr([].join),cu=String(Error("zxcasd").stack),fu=/\n\s*at [^:]*:[^\n]*/,du=fu.test(cu),pu=/@[^\n]*\n/.test(cu)&&!/zxcasd/.test(cu),hu=function(kh,Ff){if(typeof kh!="string")return kh;if(du)for(;Ff--;)kh=uu(kh,fu,"");else if(pu)return lu(function(x_,$P,zP){for(var eme,tme,nme,rme,ime=Fi(x_),ome=Oi($P,ime),sme=Oi(zP===void 0?ime:zP,ime),ame=iu(au(sme-ome,0)),lme=0;ome<sme;ome++,lme++)eme=ame,tme=lme,nme=x_[ome],rme=void 0,(rme=Lo(tme))in eme?Zo.f(eme,rme,jr(0,nme)):eme[rme]=nme;return ame.length=lme,ame}(su(kh,`
`),Ff),`
`);return kh},gu=function(kh,Ff){Xr(Ff)&&"cause"in Ff&&Jo(kh,"cause",Ff.cause)},vu=Mr(Mr.bind),yu=function(kh,Ff){return ho(kh),Ff===void 0?kh:vu?vu(kh,Ff):function(){return kh.apply(Ff,arguments)}},mu={},bu=Po("iterator"),wu=Array.prototype,Eu=Po("iterator"),Du=function(kh){if(kh!=null)return go(kh,Eu)||go(kh,"@@iterator")||mu[oa(kh)]},Su=Cr.TypeError,xu=function(kh,Ff,x_){var $P,zP;qo(kh);try{if(!($P=go(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=Br($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return qo($P),x_},Cu=Cr.TypeError,Au=function(kh,Ff){this.stopped=kh,this.result=Ff},Ou=Au.prototype,ku=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome=x_&&x_.that,sme=!(!x_||!x_.AS_ENTRIES),ame=!(!x_||!x_.IS_ITERATOR),lme=!(!x_||!x_.INTERRUPTED),ume=yu(Ff,ome),dme=function(hme){return $P&&xu($P,"normal",hme),new Au(!0,hme)},pme=function(hme){return sme?(qo(hme),lme?ume(hme[0],hme[1],dme):ume(hme[0],hme[1])):lme?ume(hme,dme):ume(hme)};if(ame)$P=kh;else{if(!(zP=Du(kh)))throw Cu(fo(kh)+" is not iterable");if(function(hme){return hme!==void 0&&(mu.Array===hme||wu[bu]===hme)}(zP)){for(eme=0,tme=Fi(kh);tme>eme;eme++)if((nme=pme(kh[eme]))&&Qr(Ou,nme))return nme;return new Au(!1)}$P=function(hme,cme){var _me=arguments.length<2?Du(hme):cme;if(ho(_me))return qo(Br(_me,hme));throw Su(fo(hme)+" is not iterable")}(kh,zP)}for(rme=$P.next;!(ime=Br(rme,$P)).done;){try{nme=pme(ime.value)}catch(hme){xu($P,"throw",hme)}if(typeof nme=="object"&&nme&&Qr(Ou,nme))return nme}return new Au(!1)},Bu=function(kh,Ff){return kh===void 0?arguments.length<2?"":Ff:aa(kh)},Fu=!Ar(function(){var kh=Error("a");return!("stack"in kh)||(Object.defineProperty(kh,"stack",jr(1,7)),kh.stack!==7)}),Tu=Po("toStringTag"),_u=Cr.Error,Pu=[].push,ju=function(kh,Ff){var x_,$P=arguments.length>2?arguments[2]:void 0,zP=Qr(Nu,this);ou?x_=ou(new _u(void 0),zP?tu(this):Nu):(x_=zP?this:Sa(Nu),Jo(x_,Tu,"Error")),Jo(x_,"message",Bu(Ff,"")),Fu&&Jo(x_,"stack",hu(x_.stack,1)),gu(x_,$P);var eme=[];return ku(kh,Pu,{that:eme}),Jo(x_,"errors",eme),x_};ou?ou(ju,_u):Hi(ju,_u);var Nu=ju.prototype=Sa(_u.prototype,{constructor:jr(1,ju),message:jr(1,""),name:jr(1,"AggregateError")});Zi({global:!0},{AggregateError:ju});var Iu=Po("unscopables"),Lu=Array.prototype;Lu[Iu]==null&&Zo.f(Lu,Iu,{configurable:!0,value:Sa(null)});var Ru,Mu,zu,$u=function(kh){Lu[Iu][kh]=!0},Hu=Po("iterator"),Vu=!1;[].keys&&("next"in(zu=[].keys())?(Mu=tu(tu(zu)))!==Object.prototype&&(Ru=Mu):Vu=!0);var Uu=Ru==null||Ar(function(){var kh={};return Ru[Hu].call(kh)!==kh});Uu&&(Ru={}),Yr(Ru[Hu])||Ei(Ru,Hu,function(){return this});var Wu={IteratorPrototype:Ru,BUGGY_SAFARI_ITERATORS:Vu},Gu=Zo.f,qu=Po("toStringTag"),Ku=function(kh,Ff,x_){kh&&!xo(kh=x_?kh:kh.prototype,qu)&&Gu(kh,qu,{configurable:!0,value:Ff})},Yu=Wu.IteratorPrototype,Xu=function(){return this},Zu=wi.PROPER,Ju=wi.CONFIGURABLE,Qu=Wu.IteratorPrototype,es=Wu.BUGGY_SAFARI_ITERATORS,ts=Po("iterator"),ns=function(){return this},rs=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=Sa(Yu,{next:jr(+!vme,_me)}),Ku(hme,Eme,!1),mu[Eme]=Xu})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!es&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[ts]||lme["@@iterator"]||zP&&lme[zP],dme=!es&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=tu(pme.call(new kh)))!==Object.prototype&&nme.next&&(tu(nme)!==Qu&&(ou?ou(nme,Qu):Yr(nme[ts])||Ei(nme,ts,ns)),Ku(nme,sme,!0)),Zu&&zP=="values"&&ume&&ume.name!=="values"&&(Ju?Jo(lme,"name","values"):(ame=!0,dme=function(){return Br(ume,this)})),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(es||ame||!(ime in lme))&&Ei(lme,ime,rme[ime]);else Zi({target:Ff,proto:!0,forced:es||ame},rme);return lme[ts]!==dme&&Ei(lme,ts,dme,{name:zP}),mu[Ff]=dme,rme},os$1=vi.set,is=vi.getterFor("Array Iterator"),as=rs(Array,"Array",function(kh,Ff){os$1(this,{type:"Array Iterator",target:Kr(kh),index:0,kind:Ff})},function(){var kh=is(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values");mu.Arguments=mu.Array,$u("keys"),$u("values"),$u("entries");var us=Ga.charAt,ss=vi.set,ls=vi.getterFor("String Iterator");rs(String,"String",function(kh){ss(this,{type:"String Iterator",string:aa(kh),index:0})},function(){var kh,Ff=ls(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=us(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var cs,fs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ds=zo("span").classList,ps=ds&&ds.constructor&&ds.constructor.prototype,hs=ps===Object.prototype?void 0:ps,gs=Po("iterator"),vs=Po("toStringTag"),ys=as.values,ms=function(kh,Ff){if(kh){if(kh[gs]!==ys)try{Jo(kh,gs,ys)}catch($P){kh[gs]=ys}if(kh[vs]||Jo(kh,vs,Ff),fs[Ff]){for(var x_ in as)if(kh[x_]!==as[x_])try{Jo(kh,x_,as[x_])}catch($P){kh[x_]=as[x_]}}}};for(var bs in fs)ms(Cr[bs]&&Cr[bs].prototype,bs);ms(hs,"DOMTokenList"),typeof global=="undefined"?("ActiveXObject"in window&&console.error(`抱歉，wangEditor V5+ 版本开始，不在支持 IE 浏览器
 Sorry, wangEditor V5+ versions do not support IE browser.`),ws(),Es()):global&&(!((cs=global.navigator)===null||cs===void 0)&&cs.userAgent.match("QQBrowser"))&&(ws(),Es());function ws(){typeof globalThis=="undefined"&&(window.globalThis=window)}function Es(){Sr===void 0&&(window.AggregateError=function(kh,Ff){var x_=new Error(Ff);return x_.errors=kh,x_})}var Ds,Ss=Array.isArray||function(kh){return B(kh)=="Array"},xs=function(){},Cs=[],As=M("Reflect","construct"),Os=/^\s*(?:class|function)\b/,ks=v(Os.exec),Bs=!Os.exec(xs),Fs=function(kh){if(!y(kh))return!1;try{return As(xs,Cs,kh),!0}catch(Ff){return!1}},Ts=!As||m(function(){var kh;return Fs(Fs.call)||!Fs(Object)||!Fs(function(){kh=!0})||kh})?function(kh){if(!y(kh))return!1;switch(on$1(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Bs||!!ks(Os,On(kh))}:Fs,_s=be("species"),Ps=a.Array,js=function(kh,Ff){return new(function(x_){var $P;return Ss(x_)&&($P=x_.constructor,(Ts($P)&&($P===Ps||Ss($P.prototype))||I($P)&&($P=$P[_s])===null)&&($P=void 0)),$P===void 0?Ps:$P}(kh))(Ff===0?0:Ff)},Ns=be("species"),Is=be("isConcatSpreadable"),Ls=a.TypeError,Rs=q>=51||!m(function(){var kh=[];return kh[Is]=!1,kh.concat()[0]!==kh}),Ms=(Ds="concat",q>=51||!m(function(){var kh=[];return(kh.constructor={})[Ns]=function(){return{foo:1}},kh[Ds](Boolean).foo!==1})),zs=function(kh){if(!I(kh))return!1;var Ff=kh[Is];return Ff!==void 0?!!Ff:Ss(kh)};Xe({target:"Array",proto:!0,forced:!Rs||!Ms},{concat:function(kh){var Ff,x_,$P,zP,eme,tme=se(this),nme=js(tme,0),rme=0;for(Ff=-1,$P=arguments.length;Ff<$P;Ff++)if(zs(eme=Ff===-1?tme:arguments[Ff])){if(rme+(zP=ht(eme))>9007199254740991)throw Ls("Maximum allowed index exceeded");for(x_=0;x_<zP;x_++,rme++)x_ in eme&&Lt(nme,rme,eme[x_])}else{if(rme>=9007199254740991)throw Ls("Maximum allowed index exceeded");Lt(nme,rme++,eme)}return nme.length=rme,nme}});var $s=xt.f,Hs=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Vs={f:function(kh){return Hs&&B(kh)=="Window"?function(Ff){try{return $s(Ff)}catch(x_){return zt(Hs)}}(kh):$s(N(kh))}},Us=v([].slice),Ws={f:be},Gs=Ge.f,qs=function(kh){var Ff=L.Symbol||(L.Symbol={});ce(Ff,kh)||Gs(Ff,kh,{value:Ws.f(kh)})},Ks=v([].push),Ys=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=se(rme),dme=_(ume),pme=Me(ime,ome),hme=ht(dme),cme=0,_me=sme||js,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:Ks(vme,ame)}else switch(kh){case 4:return!1;case 7:Ks(vme,ame)}return eme?-1:$P||zP?zP:vme}},Xs={forEach:Ys(0),map:Ys(1),filter:Ys(2),some:Ys(3),every:Ys(4),find:Ys(5),findIndex:Ys(6),filterReject:Ys(7)}.forEach,Zs=Je("hidden"),Js=be("toPrimitive"),Qs=zn.set,el=zn.getterFor("Symbol"),tl=Object.prototype,nl=a.Symbol,rl=nl&&nl.prototype,ol=a.TypeError,il=a.QObject,al=M("JSON","stringify"),ul=Fe.f,sl=Ge.f,ll=Vs.f,cl=C.f,fl=v([].push),dl=ae("symbols"),pl=ae("op-symbols"),hl=ae("string-to-symbol-registry"),gl=ae("symbol-to-string-registry"),vl=ae("wks"),yl=!il||!il.prototype||!il.prototype.findChild,ml=b&&m(function(){return It(sl({},"a",{get:function(){return sl(this,"a",{value:7}).a}})).a!=7})?function(kh,Ff,x_){var $P=ul(tl,Ff);$P&&delete tl[Ff],sl(kh,Ff,x_),$P&&kh!==tl&&sl(tl,Ff,$P)}:sl,bl=function(kh,Ff){var x_=dl[kh]=It(rl);return Qs(x_,{type:"Symbol",tag:kh,description:Ff}),b||(x_.description=Ff),x_},wl=function(kh,Ff,x_){kh===tl&&wl(pl,Ff,x_),He(kh);var $P=Se(Ff);return He(x_),ce(dl,$P)?(x_.enumerable?(ce(kh,Zs)&&kh[Zs][$P]&&(kh[Zs][$P]=!1),x_=It(x_,{enumerable:A(0,!1)})):(ce(kh,Zs)||sl(kh,Zs,A(1,{})),kh[Zs][$P]=!0),ml(kh,$P,x_)):sl(kh,$P,x_)},El=function(kh,Ff){He(kh);var x_=N(Ff),$P=kt(x_).concat(Cl(x_));return Xs($P,function(zP){b&&!E(Dl,x_,zP)||wl(kh,zP,x_[zP])}),kh},Dl=function(kh){var Ff=Se(kh),x_=E(cl,this,Ff);return!(this===tl&&ce(dl,Ff)&&!ce(pl,Ff))&&(!(x_||!ce(this,Ff)||!ce(dl,Ff)||ce(this,Zs)&&this[Zs][Ff])||x_)},Sl=function(kh,Ff){var x_=N(kh),$P=Se(Ff);if(x_!==tl||!ce(dl,$P)||ce(pl,$P)){var zP=ul(x_,$P);return!zP||!ce(dl,$P)||ce(x_,Zs)&&x_[Zs][$P]||(zP.enumerable=!0),zP}},xl=function(kh){var Ff=ll(N(kh)),x_=[];return Xs(Ff,function($P){ce(dl,$P)||ce(yt,$P)||fl(x_,$P)}),x_},Cl=function(kh){var Ff=kh===tl,x_=ll(Ff?pl:N(kh)),$P=[];return Xs(x_,function(zP){!ce(dl,zP)||Ff&&!ce(tl,zP)||fl($P,dl[zP])}),$P};if(K||(rl=(nl=function(){if(z(rl,this))throw ol("Symbol is not a constructor");var kh=arguments.length&&arguments[0]!==void 0?gn(arguments[0]):void 0,Ff=he(kh),x_=function($P){this===tl&&E(x_,pl,$P),ce(this,Zs)&&ce(this[Zs],Ff)&&(this[Zs][Ff]=!1),ml(this,Ff,A(1,$P))};return b&&yl&&ml(tl,Ff,{configurable:!0,set:x_}),bl(Ff,kh)}).prototype,Wn(rl,"toString",function(){return el(this).tag}),Wn(nl,"withoutSetter",function(kh){return bl(he(kh),kh)}),C.f=Dl,Ge.f=wl,Fe.f=Sl,xt.f=Vs.f=xl,Ct.f=Cl,Ws.f=function(kh){return bl(be(kh),kh)},b&&sl(rl,"description",{configurable:!0,get:function(){return el(this).description}})),Xe({global:!0,wrap:!0,forced:!K,sham:!K},{Symbol:nl}),Xs(kt(vl),function(kh){qs(kh)}),Xe({target:"Symbol",stat:!0,forced:!K},{for:function(kh){var Ff=gn(kh);if(ce(hl,Ff))return hl[Ff];var x_=nl(Ff);return hl[Ff]=x_,gl[x_]=Ff,x_},keyFor:function(kh){if(!Z(kh))throw ol(kh+" is not a symbol");if(ce(gl,kh))return gl[kh]},useSetter:function(){yl=!0},useSimple:function(){yl=!1}}),Xe({target:"Object",stat:!0,forced:!K,sham:!b},{create:function(kh,Ff){return Ff===void 0?It(kh):El(It(kh),Ff)},defineProperty:wl,defineProperties:El,getOwnPropertyDescriptor:Sl}),Xe({target:"Object",stat:!0,forced:!K},{getOwnPropertyNames:xl,getOwnPropertySymbols:Cl}),Xe({target:"Object",stat:!0,forced:m(function(){Ct.f(1)})},{getOwnPropertySymbols:function(kh){return Ct.f(se(kh))}}),al){var Al=!K||m(function(){var kh=nl();return al([kh])!="[null]"||al({a:kh})!="{}"||al(Object(kh))!="{}"});Xe({target:"JSON",stat:!0,forced:Al},{stringify:function(kh,Ff,x_){var $P=Us(arguments),zP=Ff;if((I(Ff)||kh!==void 0)&&!Z(kh))return Ss(Ff)||(Ff=function(eme,tme){if(y(zP)&&(tme=E(zP,this,eme,tme)),!Z(tme))return tme}),$P[1]=Ff,f(al,null,$P)}})}if(!rl[Js]){var Ol=rl.valueOf;Wn(rl,Js,function(kh){return E(Ol,this)})}Qn(nl,"Symbol"),yt[Zs]=!0,qs("asyncIterator"),qs("hasInstance"),qs("isConcatSpreadable"),qs("iterator"),qs("match"),qs("matchAll"),qs("replace"),qs("search"),qs("species"),qs("split"),qs("toPrimitive"),qs("toStringTag"),qs("unscopables"),Qn(a.JSON,"JSON",!0);var kl=L.Symbol;qs("asyncDispose"),qs("dispose"),qs("matcher"),qs("metadata"),qs("observable"),qs("patternMatch"),qs("replaceAll");var Bl=kl,Fl=Ws.f("iterator"),Tl=n(function(kh){function Ff(x_){return typeof Bl=="function"&&typeof Fl=="symbol"?(kh.exports=Ff=function($P){return typeof $P},kh.exports.default=kh.exports,kh.exports.__esModule=!0):(kh.exports=Ff=function($P){return $P&&typeof Bl=="function"&&$P.constructor===Bl&&$P!==Bl.prototype?"symbol":typeof $P},kh.exports.default=kh.exports,kh.exports.__esModule=!0),Ff(x_)}kh.exports=Ff,kh.exports.default=kh.exports,kh.exports.__esModule=!0}),_l=t(Tl),Pl=Uo.f,jl=Ar(function(){Pl(1)});if(Zi({target:"Object",stat:!0,forced:!Or||jl,sham:!Or},{getOwnPropertyDescriptor:function(kh,Ff){return Pl(Kr(kh),Ff)}}),(typeof global=="undefined"?"undefined":_l(global))==="object"){var Nl=Object.getOwnPropertyDescriptor(global,"window");global.window&&!Nl.set||(global.window=global,global.requestAnimationFrame=function(){},global.navigator={userAgent:""},global.location={hostname:"0.0.0.0",port:0,protocol:"http:"},global.btoa=function(){},global.crypto={getRandomValues:function(kh){return nodeCrypto.randomFillSync(kh)}}),global.document!=null&&global.document.getElementsByTagName==null&&(global.document.getElementsByTagName=function(){return[]})}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Il(kh){return Object.prototype.toString.call(kh)==="[object Object]"}function Ll(kh){var Ff,x_;return Il(kh)!==!1&&((Ff=kh.constructor)===void 0||Il(x_=Ff.prototype)!==!1&&x_.hasOwnProperty("isPrototypeOf")!==!1)}function Rl(kh){for(var Ff=arguments.length,x_=Array(Ff>1?Ff-1:0),$P=1;$P<Ff;$P++)x_[$P-1]=arguments[$P];throw Error("[Immer] minified error nr: "+kh+(x_.length?" "+x_.map(function(zP){return"'"+zP+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ml(kh){return!!kh&&!!kh[xc]}function zl(kh){return!!kh&&(function(Ff){if(!Ff||typeof Ff!="object")return!1;var x_=Object.getPrototypeOf(Ff);if(x_===null)return!0;var $P=Object.hasOwnProperty.call(x_,"constructor")&&x_.constructor;return $P===Object||typeof $P=="function"&&Function.toString.call($P)===Cc}(kh)||Array.isArray(kh)||!!kh[Sc]||!!kh.constructor[Sc]||Wl(kh)||Gl(kh))}function $l(kh,Ff,x_){x_===void 0&&(x_=!1),Hl(kh)===0?(x_?Object.keys:Ac)(kh).forEach(function($P){x_&&typeof $P=="symbol"||Ff($P,kh[$P],kh)}):kh.forEach(function($P,zP){return Ff(zP,$P,kh)})}function Hl(kh){var Ff=kh[xc];return Ff?Ff.i>3?Ff.i-4:Ff.i:Array.isArray(kh)?1:Wl(kh)?2:Gl(kh)?3:0}function Vl(kh,Ff){return Hl(kh)===2?kh.has(Ff):Object.prototype.hasOwnProperty.call(kh,Ff)}function Ul(kh,Ff,x_){var $P=Hl(kh);$P===2?kh.set(Ff,x_):$P===3?(kh.delete(Ff),kh.add(x_)):kh[Ff]=x_}function Wl(kh){return bc&&kh instanceof Map}function Gl(kh){return wc&&kh instanceof Set}function ql(kh){return kh.o||kh.t}function Kl(kh){if(Array.isArray(kh))return Array.prototype.slice.call(kh);var Ff=Oc(kh);delete Ff[xc];for(var x_=Ac(Ff),$P=0;$P<x_.length;$P++){var zP=x_[$P],eme=Ff[zP];eme.writable===!1&&(eme.writable=!0,eme.configurable=!0),(eme.get||eme.set)&&(Ff[zP]={configurable:!0,writable:!0,enumerable:eme.enumerable,value:kh[zP]})}return Object.create(Object.getPrototypeOf(kh),Ff)}function Yl(kh,Ff){return Ff===void 0&&(Ff=!1),Zl(kh)||Ml(kh)||!zl(kh)||(Hl(kh)>1&&(kh.set=kh.add=kh.clear=kh.delete=Xl),Object.freeze(kh),Ff&&$l(kh,function(x_,$P){return Yl($P,!0)},!0)),kh}function Xl(){Rl(2)}function Zl(kh){return kh==null||typeof kh!="object"||Object.isFrozen(kh)}function Jl(kh){var Ff=kc[kh];return Ff||Rl(18,kh),Ff}function Ql(){return yc}function ec(kh,Ff){Ff&&(Jl("Patches"),kh.u=[],kh.s=[],kh.v=Ff)}function tc(kh){nc(kh),kh.p.forEach(oc),kh.p=null}function nc(kh){kh===yc&&(yc=kh.l)}function rc(kh){return yc={p:[],l:yc,h:kh,m:!0,_:0}}function oc(kh){var Ff=kh[xc];Ff.i===0||Ff.i===1?Ff.j():Ff.O=!0}function ic(kh,Ff){Ff._=Ff.p.length;var x_=Ff.p[0],$P=kh!==void 0&&kh!==x_;return Ff.h.g||Jl("ES5").S(Ff,kh,$P),$P?(x_[xc].P&&(tc(Ff),Rl(4)),zl(kh)&&(kh=ac(Ff,kh),Ff.l||sc(Ff,kh)),Ff.u&&Jl("Patches").M(x_[xc],kh,Ff.u,Ff.s)):kh=ac(Ff,x_,[]),tc(Ff),Ff.u&&Ff.v(Ff.u,Ff.s),kh!==Dc?kh:void 0}function ac(kh,Ff,x_){if(Zl(Ff))return Ff;var $P=Ff[xc];if(!$P)return $l(Ff,function(eme,tme){return uc(kh,$P,Ff,eme,tme,x_)},!0),Ff;if($P.A!==kh)return Ff;if(!$P.P)return sc(kh,$P.t,!0),$P.t;if(!$P.I){$P.I=!0,$P.A._--;var zP=$P.i===4||$P.i===5?$P.o=Kl($P.k):$P.o;$l($P.i===3?new Set(zP):zP,function(eme,tme){return uc(kh,$P,zP,eme,tme,x_)}),sc(kh,zP,!1),x_&&kh.u&&Jl("Patches").R($P,x_,kh.u,kh.s)}return $P.o}function uc(kh,Ff,x_,$P,zP,eme){if(Ml(zP)){var tme=ac(kh,zP,eme&&Ff&&Ff.i!==3&&!Vl(Ff.D,$P)?eme.concat($P):void 0);if(Ul(x_,$P,tme),!Ml(tme))return;kh.m=!1}if(zl(zP)&&!Zl(zP)){if(!kh.h.F&&kh._<1)return;ac(kh,zP),Ff&&Ff.A.l||sc(kh,zP)}}function sc(kh,Ff,x_){x_===void 0&&(x_=!1),kh.h.F&&kh.m&&Yl(Ff,x_)}function lc(kh,Ff){var x_=kh[xc];return(x_?ql(x_):kh)[Ff]}function cc(kh,Ff){if(Ff in kh)for(var x_=Object.getPrototypeOf(kh);x_;){var $P=Object.getOwnPropertyDescriptor(x_,Ff);if($P)return $P;x_=Object.getPrototypeOf(x_)}}function fc(kh){kh.P||(kh.P=!0,kh.l&&fc(kh.l))}function dc(kh){kh.o||(kh.o=Kl(kh.t))}function pc(kh,Ff,x_){var $P=Wl(Ff)?Jl("MapSet").N(Ff,x_):Gl(Ff)?Jl("MapSet").T(Ff,x_):kh.g?function(zP,eme){var tme=Array.isArray(zP),nme={i:tme?1:0,A:eme?eme.A:Ql(),P:!1,I:!1,D:{},l:eme,t:zP,k:null,o:null,j:null,C:!1},rme=nme,ime=Bc;tme&&(rme=[nme],ime=Fc);var ome=Proxy.revocable(rme,ime),sme=ome.revoke,ame=ome.proxy;return nme.k=ame,nme.j=sme,ame}(Ff,x_):Jl("ES5").J(Ff,x_);return(x_?x_.A:Ql()).p.push($P),$P}function hc(kh){return Ml(kh)||Rl(22,kh),function Ff(x_){if(!zl(x_))return x_;var $P,zP=x_[xc],eme=Hl(x_);if(zP){if(!zP.P&&(zP.i<4||!Jl("ES5").K(zP)))return zP.t;zP.I=!0,$P=gc(x_,eme),zP.I=!1}else $P=gc(x_,eme);return $l($P,function(tme,nme){zP&&function(rme,ime){return Hl(rme)===2?rme.get(ime):rme[ime]}(zP.t,tme)===nme||Ul($P,tme,Ff(nme))}),eme===3?new Set($P):$P}(kh)}function gc(kh,Ff){switch(Ff){case 2:return new Map(kh);case 3:return Array.from(kh)}return Kl(kh)}var vc,yc,mc=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",bc=typeof Map!="undefined",wc=typeof Set!="undefined",Ec=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Dc=mc?Symbol.for("immer-nothing"):((vc={})["immer-nothing"]=!0,vc),Sc=mc?Symbol.for("immer-draftable"):"__$immer_draftable",xc=mc?Symbol.for("immer-state"):"__$immer_state",Cc=""+Object.prototype.constructor,Ac=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(kh){return Object.getOwnPropertyNames(kh).concat(Object.getOwnPropertySymbols(kh))}:Object.getOwnPropertyNames,Oc=Object.getOwnPropertyDescriptors||function(kh){var Ff={};return Ac(kh).forEach(function(x_){Ff[x_]=Object.getOwnPropertyDescriptor(kh,x_)}),Ff},kc={},Bc={get:function(kh,Ff){if(Ff===xc)return kh;var x_=ql(kh);if(!Vl(x_,Ff))return function(zP,eme,tme){var nme,rme=cc(eme,tme);return rme?"value"in rme?rme.value:(nme=rme.get)===null||nme===void 0?void 0:nme.call(zP.k):void 0}(kh,x_,Ff);var $P=x_[Ff];return kh.I||!zl($P)?$P:$P===lc(kh.t,Ff)?(dc(kh),kh.o[Ff]=pc(kh.A.h,$P,kh)):$P},has:function(kh,Ff){return Ff in ql(kh)},ownKeys:function(kh){return Reflect.ownKeys(ql(kh))},set:function(kh,Ff,x_){var $P=cc(ql(kh),Ff);if($P!=null&&$P.set)return $P.set.call(kh.k,x_),!0;if(!kh.P){var zP=lc(ql(kh),Ff),eme=zP==null?void 0:zP[xc];if(eme&&eme.t===x_)return kh.o[Ff]=x_,kh.D[Ff]=!1,!0;if(function(tme,nme){return tme===nme?tme!==0||1/tme==1/nme:tme!=tme&&nme!=nme}(x_,zP)&&(x_!==void 0||Vl(kh.t,Ff)))return!0;dc(kh),fc(kh)}return kh.o[Ff]===x_&&typeof x_!="number"&&(x_!==void 0||Ff in kh.o)||(kh.o[Ff]=x_,kh.D[Ff]=!0,!0)},deleteProperty:function(kh,Ff){return lc(kh.t,Ff)!==void 0||Ff in kh.t?(kh.D[Ff]=!1,dc(kh),fc(kh)):delete kh.D[Ff],kh.o&&delete kh.o[Ff],!0},getOwnPropertyDescriptor:function(kh,Ff){var x_=ql(kh),$P=Reflect.getOwnPropertyDescriptor(x_,Ff);return $P&&{writable:!0,configurable:kh.i!==1||Ff!=="length",enumerable:$P.enumerable,value:x_[Ff]}},defineProperty:function(){Rl(11)},getPrototypeOf:function(kh){return Object.getPrototypeOf(kh.t)},setPrototypeOf:function(){Rl(12)}},Fc={};$l(Bc,function(kh,Ff){Fc[kh]=function(){return arguments[0]=arguments[0][0],Ff.apply(this,arguments)}}),Fc.deleteProperty=function(kh,Ff){return Bc.deleteProperty.call(this,kh[0],Ff)},Fc.set=function(kh,Ff,x_){return Bc.set.call(this,kh[0],Ff,x_,kh[0])};var Tc=function(){function kh(x_){var $P=this;this.g=Ec,this.F=!0,this.produce=function(zP,eme,tme){if(typeof zP=="function"&&typeof eme!="function"){var nme=eme;eme=zP;var rme=$P;return function(lme){var ume=this;lme===void 0&&(lme=nme);for(var dme=arguments.length,pme=Array(dme>1?dme-1:0),hme=1;hme<dme;hme++)pme[hme-1]=arguments[hme];return rme.produce(lme,function(cme){var _me;return(_me=eme).call.apply(_me,[ume,cme].concat(pme))})}}var ime;if(typeof eme!="function"&&Rl(6),tme!==void 0&&typeof tme!="function"&&Rl(7),zl(zP)){var ome=rc($P),sme=pc($P,zP,void 0),ame=!0;try{ime=eme(sme),ame=!1}finally{ame?tc(ome):nc(ome)}return typeof Promise!="undefined"&&ime instanceof Promise?ime.then(function(lme){return ec(ome,tme),ic(lme,ome)},function(lme){throw tc(ome),lme}):(ec(ome,tme),ic(ime,ome))}if(!zP||typeof zP!="object")return(ime=eme(zP))===Dc?void 0:(ime===void 0&&(ime=zP),$P.F&&Yl(ime,!0),ime);Rl(21,zP)},this.produceWithPatches=function(zP,eme){return typeof zP=="function"?function(rme){for(var ime=arguments.length,ome=Array(ime>1?ime-1:0),sme=1;sme<ime;sme++)ome[sme-1]=arguments[sme];return $P.produceWithPatches(rme,function(ame){return zP.apply(void 0,[ame].concat(ome))})}:[$P.produce(zP,eme,function(rme,ime){tme=rme,nme=ime}),tme,nme];var tme,nme},typeof(x_==null?void 0:x_.useProxies)=="boolean"&&this.setUseProxies(x_.useProxies),typeof(x_==null?void 0:x_.autoFreeze)=="boolean"&&this.setAutoFreeze(x_.autoFreeze)}var Ff=kh.prototype;return Ff.createDraft=function(x_){zl(x_)||Rl(8),Ml(x_)&&(x_=hc(x_));var $P=rc(this),zP=pc(this,x_,void 0);return zP[xc].C=!0,nc($P),zP},Ff.finishDraft=function(x_,$P){var zP=(x_&&x_[xc]).A;return ec(zP,$P),ic(void 0,zP)},Ff.setAutoFreeze=function(x_){this.F=x_},Ff.setUseProxies=function(x_){x_&&!Ec&&Rl(20),this.g=x_},Ff.applyPatches=function(x_,$P){var zP;for(zP=$P.length-1;zP>=0;zP--){var eme=$P[zP];if(eme.path.length===0&&eme.op==="replace"){x_=eme.value;break}}zP>-1&&($P=$P.slice(zP+1));var tme=Jl("Patches").$;return Ml(x_)?tme(x_,$P):this.produce(x_,function(nme){return tme(nme,$P)})},kh}(),_c=new Tc,Pc=_c.produce;_c.produceWithPatches.bind(_c),_c.setAutoFreeze.bind(_c),_c.setUseProxies.bind(_c),_c.applyPatches.bind(_c);var jc=_c.createDraft.bind(_c),Nc=_c.finishDraft.bind(_c);function Ic(kh,Ff,x_){return Ff in kh?Object.defineProperty(kh,Ff,{value:x_,enumerable:!0,configurable:!0,writable:!0}):kh[Ff]=x_,kh}var Lc=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,zc=new WeakMap,$c=new WeakMap,Hc=new WeakMap;function Vc(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function Uc(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?Vc(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):Vc(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var Wc=()=>{var kh={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:Ff=>{for(var x_ of Bf.pathRefs(kh))zf.transform(x_,Ff);for(var $P of Bf.pointRefs(kh))Uf.transform($P,Ff);for(var zP of Bf.rangeRefs(kh))Kf.transform(zP,Ff);var eme=new Set,tme=[],nme=ame=>{if(ame){var lme=ame.join(",");eme.has(lme)||(eme.add(lme),tme.push(ame))}},rme=Lc.get(kh)||[],ime=Gc(Ff);for(var ome of rme)nme(Mf.transform(ome,Ff));for(var sme of ime)nme(sme);Lc.set(kh,tme),md.transform(kh,Ff),kh.operations.push(Ff),Bf.normalize(kh),Ff.type==="set_selection"&&(kh.marks=null),Rc.get(kh)||(Rc.set(kh,!0),Promise.resolve().then(()=>{Rc.set(kh,!1),kh.onChange(),kh.operations=[]}))},addMark:(Ff,x_)=>{var{selection:$P}=kh;if($P)if(qf.isExpanded($P))md.setNodes(kh,{[Ff]:x_},{match:ed.isText,split:!0});else{var zP=Uc(Uc({},Bf.marks(kh)||{}),{},{[Ff]:x_});kh.marks=zP,Rc.get(kh)||kh.onChange()}},deleteBackward:Ff=>{var{selection:x_}=kh;x_&&qf.isCollapsed(x_)&&md.delete(kh,{unit:Ff,reverse:!0})},deleteForward:Ff=>{var{selection:x_}=kh;x_&&qf.isCollapsed(x_)&&md.delete(kh,{unit:Ff})},deleteFragment:Ff=>{var{selection:x_}=kh;x_&&qf.isExpanded(x_)&&md.delete(kh,{reverse:Ff==="backward"})},getFragment:()=>{var{selection:Ff}=kh;return Ff?Nf.fragment(kh,Ff):[]},insertBreak:()=>{md.splitNodes(kh,{always:!0})},insertFragment:Ff=>{md.insertFragment(kh,Ff)},insertNode:Ff=>{md.insertNodes(kh,Ff)},insertText:Ff=>{var{selection:x_,marks:$P}=kh;if(x_){if($P){var zP=Uc({text:Ff},$P);md.insertNodes(kh,zP)}else md.insertText(kh,Ff);kh.marks=null}},normalizeNode:Ff=>{var[x_,$P]=Ff;if(!ed.isText(x_))if(Sf.isElement(x_)&&x_.children.length===0)md.insertNodes(kh,{text:""},{at:$P.concat(0),voids:!0});else for(var zP=!Bf.isEditor(x_)&&Sf.isElement(x_)&&(kh.isInline(x_)||x_.children.length===0||ed.isText(x_.children[0])||kh.isInline(x_.children[0])),eme=0,tme=0;tme<x_.children.length;tme++,eme++){var nme=Nf.get(kh,$P);if(!ed.isText(nme)){var rme=x_.children[tme],ime=nme.children[eme-1],ome=tme===x_.children.length-1;(ed.isText(rme)||Sf.isElement(rme)&&kh.isInline(rme))!==zP?(md.removeNodes(kh,{at:$P.concat(eme),voids:!0}),eme--):Sf.isElement(rme)?kh.isInline(rme)&&(ime!=null&&ed.isText(ime)?ome&&(md.insertNodes(kh,{text:""},{at:$P.concat(eme+1),voids:!0}),eme++):(md.insertNodes(kh,{text:""},{at:$P.concat(eme),voids:!0}),eme++)):ime!=null&&ed.isText(ime)&&(ed.equals(rme,ime,{loose:!0})?(md.mergeNodes(kh,{at:$P.concat(eme),voids:!0}),eme--):ime.text===""?(md.removeNodes(kh,{at:$P.concat(eme-1),voids:!0}),eme--):rme.text===""&&(md.removeNodes(kh,{at:$P.concat(eme),voids:!0}),eme--))}}},removeMark:Ff=>{var{selection:x_}=kh;if(x_)if(qf.isExpanded(x_))md.unsetNodes(kh,Ff,{match:ed.isText,split:!0});else{var $P=Uc({},Bf.marks(kh)||{});delete $P[Ff],kh.marks=$P,Rc.get(kh)||kh.onChange()}}};return kh},Gc=kh=>{switch(kh.type){case"insert_text":case"remove_text":case"set_node":var{path:Ff}=kh;return Mf.levels(Ff);case"insert_node":var{node:x_,path:$P}=kh,zP=Mf.levels($P),eme=ed.isText(x_)?[]:Array.from(Nf.nodes(x_),vme=>{var[,Eme]=vme;return $P.concat(Eme)});return[...zP,...eme];case"merge_node":var{path:tme}=kh;return[...Mf.ancestors(tme),Mf.previous(tme)];case"move_node":var{path:nme,newPath:rme}=kh;if(Mf.equals(nme,rme))return[];var ime=[],ome=[];for(var sme of Mf.ancestors(nme)){var ame=Mf.transform(sme,kh);ime.push(ame)}for(var lme of Mf.ancestors(rme)){var ume=Mf.transform(lme,kh);ome.push(ume)}var dme=ome[ome.length-1],pme=rme[rme.length-1],hme=dme.concat(pme);return[...ime,...ome,hme];case"remove_node":var{path:cme}=kh;return[...Mf.ancestors(cme)];case"split_node":var{path:_me}=kh;return[...Mf.levels(_me),Mf.next(_me)];default:return[]}};function qc(kh,Ff){if(kh==null)return{};var x_,$P,zP=function(tme,nme){if(tme==null)return{};var rme,ime,ome={},sme=Object.keys(tme);for(ime=0;ime<sme.length;ime++)rme=sme[ime],nme.indexOf(rme)>=0||(ome[rme]=tme[rme]);return ome}(kh,Ff);if(Object.getOwnPropertySymbols){var eme=Object.getOwnPropertySymbols(kh);for($P=0;$P<eme.length;$P++)x_=eme[$P],Ff.indexOf(x_)>=0||Object.prototype.propertyIsEnumerable.call(kh,x_)&&(zP[x_]=kh[x_])}return zP}var Kc,Yc=function(kh){var Ff=arguments.length>1&&arguments[1]!==void 0&&arguments[1],x_=!Ff,$P=Ff?tf(kh):kh,zP=Kc.None,eme=Kc.None,tme=0,nme=null;for(var rme of $P){var ime=rme.codePointAt(0);if(!ime)break;var ome=hf(rme,ime);if([zP,eme]=x_?[eme,ome]:[ome,zP],gf(zP,Kc.ZWJ)&&gf(eme,Kc.ExtPict)&&!bf(x_?kh.substring(0,tme):kh.substring(0,kh.length-tme))||gf(zP,Kc.RI)&&gf(eme,Kc.RI)&&!(nme=nme!==null?!nme:!!x_||Ef(kh.substring(0,kh.length-tme)))||zP!==Kc.None&&eme!==Kc.None&&yf(zP,eme))break;tme+=rme.length}return tme||1},Xc=/\s/,Zc=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Jc=/['\u2018\u2019]/,Qc=(kh,Ff,x_)=>{if(x_){var $P=kh.length-Ff;return[kh.slice($P,kh.length),kh.slice(0,$P)]}return[kh.slice(0,Ff),kh.slice(Ff)]},ef=function kh(Ff,x_){var $P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(Xc.test(Ff))return!1;if(Jc.test(Ff)){var zP=Yc(x_,$P),[eme,tme]=Qc(x_,zP,$P);if(kh(eme,tme,$P))return!0}return!Zc.test(Ff)},tf=function*(kh){for(var Ff=kh.length-1,x_=0;x_<kh.length;x_++){var $P=kh.charAt(Ff-x_);if(rf($P.charCodeAt(0))){var zP=kh.charAt(Ff-x_-1);if(nf(zP.charCodeAt(0))){yield zP+$P,x_++;continue}}yield $P}},nf=kh=>kh>=55296&&kh<=56319,rf=kh=>kh>=56320&&kh<=57343;(function(kh){kh[kh.None=0]="None",kh[kh.Extend=1]="Extend",kh[kh.ZWJ=2]="ZWJ",kh[kh.RI=4]="RI",kh[kh.Prepend=8]="Prepend",kh[kh.SpacingMark=16]="SpacingMark",kh[kh.L=32]="L",kh[kh.V=64]="V",kh[kh.T=128]="T",kh[kh.LV=256]="LV",kh[kh.LVT=512]="LVT",kh[kh.ExtPict=1024]="ExtPict",kh[kh.Any=2048]="Any"})(Kc||(Kc={}));var of=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,af=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,uf=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,sf=/^[\u1100-\u115F\uA960-\uA97C]$/,lf=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,cf=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,ff=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,df=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,pf=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,hf=(kh,Ff)=>{var x_=Kc.Any;return kh.search(of)!==-1&&(x_|=Kc.Extend),Ff===8205&&(x_|=Kc.ZWJ),Ff>=127462&&Ff<=127487&&(x_|=Kc.RI),kh.search(af)!==-1&&(x_|=Kc.Prepend),kh.search(uf)!==-1&&(x_|=Kc.SpacingMark),kh.search(sf)!==-1&&(x_|=Kc.L),kh.search(lf)!==-1&&(x_|=Kc.V),kh.search(cf)!==-1&&(x_|=Kc.T),kh.search(ff)!==-1&&(x_|=Kc.LV),kh.search(df)!==-1&&(x_|=Kc.LVT),kh.search(pf)!==-1&&(x_|=Kc.ExtPict),x_};function gf(kh,Ff){return(kh&Ff)!=0}var vf=[[Kc.L,Kc.L|Kc.V|Kc.LV|Kc.LVT],[Kc.LV|Kc.V,Kc.V|Kc.T],[Kc.LVT|Kc.T,Kc.T],[Kc.Any,Kc.Extend|Kc.ZWJ],[Kc.Any,Kc.SpacingMark],[Kc.Prepend,Kc.Any],[Kc.ZWJ,Kc.ExtPict],[Kc.RI,Kc.RI]];function yf(kh,Ff){return vf.findIndex(x_=>gf(kh,x_[0])&&gf(Ff,x_[1]))===-1}var mf=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,bf=kh=>kh.search(mf)!==-1,wf=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,Ef=kh=>{var Ff=kh.match(wf);return Ff!==null&&Ff[0].length/2%2==1},Df=kh=>Ll(kh)&&Nf.isNodeList(kh.children)&&!Bf.isEditor(kh),Sf={isAncestor:kh=>Ll(kh)&&Nf.isNodeList(kh.children),isElement:Df,isElementList:kh=>Array.isArray(kh)&&kh.every(Ff=>Sf.isElement(Ff)),isElementProps:kh=>kh.children!==void 0,isElementType:function(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Df(kh)&&kh[x_]===Ff},matches(kh,Ff){for(var x_ in Ff)if(x_!=="children"&&kh[x_]!==Ff[x_])return!1;return!0}},xf=["text"],Cf=["text"];function Af(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function Of(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?Af(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):Af(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var kf=new WeakMap,Bf={above(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:x_=!1,mode:$P="lowest",at:zP=kh.selection,match:eme}=Ff;if(zP){var tme=Bf.path(kh,zP),nme=$P==="lowest";for(var[rme,ime]of Bf.levels(kh,{at:tme,voids:x_,match:eme,reverse:nme}))if(!ed.isText(rme)&&!Mf.equals(tme,ime))return[rme,ime]}},addMark(kh,Ff,x_){kh.addMark(Ff,x_)},after(kh,Ff){var x_,$P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},zP={anchor:Bf.point(kh,Ff,{edge:"end"}),focus:Bf.end(kh,[])},{distance:eme=1}=$P,tme=0;for(var nme of Bf.positions(kh,Of(Of({},$P),{},{at:zP}))){if(tme>eme)break;tme!==0&&(x_=nme),tme++}return x_},before(kh,Ff){var x_,$P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},zP={anchor:Bf.start(kh,[]),focus:Bf.point(kh,Ff,{edge:"start"})},{distance:eme=1}=$P,tme=0;for(var nme of Bf.positions(kh,Of(Of({},$P),{},{at:zP,reverse:!0}))){if(tme>eme)break;tme!==0&&(x_=nme),tme++}return x_},deleteBackward(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:x_="character"}=Ff;kh.deleteBackward(x_)},deleteForward(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:x_="character"}=Ff;kh.deleteForward(x_)},deleteFragment(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{direction:x_="forward"}=Ff;kh.deleteFragment(x_)},edges:(kh,Ff)=>[Bf.start(kh,Ff),Bf.end(kh,Ff)],end:(kh,Ff)=>Bf.point(kh,Ff,{edge:"end"}),first(kh,Ff){var x_=Bf.path(kh,Ff,{edge:"start"});return Bf.node(kh,x_)},fragment(kh,Ff){var x_=Bf.range(kh,Ff);return Nf.fragment(kh,x_)},hasBlocks:(kh,Ff)=>Ff.children.some(x_=>Bf.isBlock(kh,x_)),hasInlines:(kh,Ff)=>Ff.children.some(x_=>ed.isText(x_)||Bf.isInline(kh,x_)),hasTexts:(kh,Ff)=>Ff.children.every(x_=>ed.isText(x_)),insertBreak(kh){kh.insertBreak()},insertFragment(kh,Ff){kh.insertFragment(Ff)},insertNode(kh,Ff){kh.insertNode(Ff)},insertText(kh,Ff){kh.insertText(Ff)},isBlock:(kh,Ff)=>Sf.isElement(Ff)&&!kh.isInline(Ff),isEditor(kh){if(!Ll(kh))return!1;var Ff=kf.get(kh);if(Ff!==void 0)return Ff;var x_=typeof kh.addMark=="function"&&typeof kh.apply=="function"&&typeof kh.deleteBackward=="function"&&typeof kh.deleteForward=="function"&&typeof kh.deleteFragment=="function"&&typeof kh.insertBreak=="function"&&typeof kh.insertFragment=="function"&&typeof kh.insertNode=="function"&&typeof kh.insertText=="function"&&typeof kh.isInline=="function"&&typeof kh.isVoid=="function"&&typeof kh.normalizeNode=="function"&&typeof kh.onChange=="function"&&typeof kh.removeMark=="function"&&(kh.marks===null||Ll(kh.marks))&&(kh.selection===null||qf.isRange(kh.selection))&&Nf.isNodeList(kh.children)&&Rf.isOperationList(kh.operations);return kf.set(kh,x_),x_},isEnd(kh,Ff,x_){var $P=Bf.end(kh,x_);return Vf.equals(Ff,$P)},isEdge:(kh,Ff,x_)=>Bf.isStart(kh,Ff,x_)||Bf.isEnd(kh,Ff,x_),isEmpty(kh,Ff){var{children:x_}=Ff,[$P]=x_;return x_.length===0||x_.length===1&&ed.isText($P)&&$P.text===""&&!kh.isVoid(Ff)},isInline:(kh,Ff)=>Sf.isElement(Ff)&&kh.isInline(Ff),isNormalizing(kh){var Ff=Mc.get(kh);return Ff===void 0||Ff},isStart(kh,Ff,x_){if(Ff.offset!==0)return!1;var $P=Bf.start(kh,x_);return Vf.equals(Ff,$P)},isVoid:(kh,Ff)=>Sf.isElement(Ff)&&kh.isVoid(Ff),last(kh,Ff){var x_=Bf.path(kh,Ff,{edge:"end"});return Bf.node(kh,x_)},leaf(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$P=Bf.path(kh,Ff,x_);return[Nf.leaf(kh,$P),$P]},*levels(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:x_=kh.selection,reverse:$P=!1,voids:zP=!1}=Ff,{match:eme}=Ff;if(eme==null&&(eme=()=>!0),x_){var tme=[],nme=Bf.path(kh,x_);for(var[rme,ime]of Nf.levels(kh,nme))if(eme(rme,ime)&&(tme.push([rme,ime]),!zP&&Bf.isVoid(kh,rme)))break;$P&&tme.reverse(),yield*zye(tme)}},marks(kh){var{marks:Ff,selection:x_}=kh;if(!x_)return null;if(Ff)return Ff;if(qf.isExpanded(x_)){var[$P]=Bf.nodes(kh,{match:ed.isText});if($P){var[zP]=$P;return qc(zP,xf)}return{}}var{anchor:eme}=x_,{path:tme}=eme,[nme]=Bf.leaf(kh,tme);if(eme.offset===0){var rme=Bf.previous(kh,{at:tme,match:ed.isText}),ime=Bf.above(kh,{match:lme=>Bf.isBlock(kh,lme)});if(rme&&ime){var[ome,sme]=rme,[,ame]=ime;Mf.isAncestor(ame,sme)&&(nme=ome)}}return qc(nme,Cf)},next(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:x_="lowest",voids:$P=!1}=Ff,{match:zP,at:eme=kh.selection}=Ff;if(eme){var tme=Bf.after(kh,eme,{voids:$P});if(tme){var[,nme]=Bf.last(kh,[]),rme=[tme.path,nme];if(Mf.isPath(eme)&&eme.length===0)throw new Error("Cannot get the next node from the root node!");if(zP==null)if(Mf.isPath(eme)){var[ime]=Bf.parent(kh,eme);zP=sme=>ime.children.includes(sme)}else zP=()=>!0;var[ome]=Bf.nodes(kh,{at:rme,match:zP,mode:x_,voids:$P});return ome}}},node(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$P=Bf.path(kh,Ff,x_);return[Nf.get(kh,$P),$P]},*nodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:x_=kh.selection,mode:$P="all",universal:zP=!1,reverse:eme=!1,voids:tme=!1}=Ff,{match:nme}=Ff;if(nme||(nme=()=>!0),x_){var rme,ime;if(Tf.isSpan(x_))rme=x_[0],ime=x_[1];else{var ome=Bf.path(kh,x_,{edge:"start"}),sme=Bf.path(kh,x_,{edge:"end"});rme=eme?sme:ome,ime=eme?ome:sme}var ame,lme=Nf.nodes(kh,{reverse:eme,from:rme,to:ime,pass:_me=>{var[vme]=_me;return!tme&&Bf.isVoid(kh,vme)}}),ume=[];for(var[dme,pme]of lme){var hme=ame&&Mf.compare(pme,ame[1])===0;if($P!=="highest"||!hme){if(nme(dme,pme))if($P==="lowest"&&hme)ame=[dme,pme];else{var cme=$P==="lowest"?ame:[dme,pme];cme&&(zP?ume.push(cme):yield cme),ame=[dme,pme]}else if(zP&&!hme&&ed.isText(dme))return}}$P==="lowest"&&ame&&(zP?ume.push(ame):yield ame),zP&&(yield*zye(ume))}},normalize(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:x_=!1}=Ff,$P=eme=>Lc.get(eme)||[];if(Bf.isNormalizing(kh)){if(x_){var zP=Array.from(Nf.nodes(kh),eme=>{var[,tme]=eme;return tme});Lc.set(kh,zP)}$P(kh).length!==0&&Bf.withoutNormalizing(kh,()=>{for(var eme of $P(kh))if(Nf.has(kh,eme)){var tme=Bf.node(kh,eme),[nme,rme]=tme;Sf.isElement(nme)&&nme.children.length===0&&kh.normalizeNode(tme)}for(var ime=42*$P(kh).length,ome=0;$P(kh).length!==0;){if(ome>ime)throw new Error(`
            Could not completely normalize the editor after `.concat(ime,` iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.
          `));var sme=$P(kh).pop();if(Nf.has(kh,sme)){var ame=Bf.node(kh,sme);kh.normalizeNode(ame)}ome++}})}},parent(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$P=Bf.path(kh,Ff,x_),zP=Mf.parent($P);return Bf.node(kh,zP)},path(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:$P,edge:zP}=x_;if(Mf.isPath(Ff)){if(zP==="start"){var[,eme]=Nf.first(kh,Ff);Ff=eme}else if(zP==="end"){var[,tme]=Nf.last(kh,Ff);Ff=tme}}return qf.isRange(Ff)&&(Ff=zP==="start"?qf.start(Ff):zP==="end"?qf.end(Ff):Mf.common(Ff.anchor.path,Ff.focus.path)),Vf.isPoint(Ff)&&(Ff=Ff.path),$P!=null&&(Ff=Ff.slice(0,$P)),Ff},hasPath:(kh,Ff)=>Nf.has(kh,Ff),pathRef(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:$P="forward"}=x_,zP={current:Ff,affinity:$P,unref(){var{current:eme}=zP;return Bf.pathRefs(kh).delete(zP),zP.current=null,eme}};return Bf.pathRefs(kh).add(zP),zP},pathRefs(kh){var Ff=zc.get(kh);return Ff||(Ff=new Set,zc.set(kh,Ff)),Ff},point(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:$P="start"}=x_;if(Mf.isPath(Ff)){var zP;if($P==="end"){var[,eme]=Nf.last(kh,Ff);zP=eme}else{var[,tme]=Nf.first(kh,Ff);zP=tme}var nme=Nf.get(kh,zP);if(!ed.isText(nme))throw new Error("Cannot get the ".concat($P," point in the node at path [").concat(Ff,"] because it has no ").concat($P," text node."));return{path:zP,offset:$P==="end"?nme.text.length:0}}if(qf.isRange(Ff)){var[rme,ime]=qf.edges(Ff);return $P==="start"?rme:ime}return Ff},pointRef(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:$P="forward"}=x_,zP={current:Ff,affinity:$P,unref(){var{current:eme}=zP;return Bf.pointRefs(kh).delete(zP),zP.current=null,eme}};return Bf.pointRefs(kh).add(zP),zP},pointRefs(kh){var Ff=$c.get(kh);return Ff||(Ff=new Set,$c.set(kh,Ff)),Ff},*positions(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{at:x_=kh.selection,unit:$P="offset",reverse:zP=!1,voids:eme=!1}=Ff;if(x_){var tme=Bf.range(kh,x_),[nme,rme]=qf.edges(tme),ime=zP?rme:nme,ome=!1,sme="",ame=0,lme=0,ume=0;for(var[dme,pme]of Bf.nodes(kh,{at:x_,reverse:zP,voids:eme})){if(Sf.isElement(dme)){if(!eme&&kh.isVoid(dme)){yield Bf.start(kh,pme);continue}if(kh.isInline(dme))continue;if(Bf.hasInlines(kh,dme)){var hme=Mf.isAncestor(pme,rme.path)?rme:Bf.end(kh,pme),cme=Mf.isAncestor(pme,nme.path)?nme:Bf.start(kh,pme);sme=Bf.string(kh,{anchor:cme,focus:hme},{voids:eme}),ome=!0}}if(ed.isText(dme)){var _me=Mf.equals(pme,ime.path);for(_me?(lme=zP?ime.offset:dme.text.length-ime.offset,ume=ime.offset):(lme=dme.text.length,ume=zP?lme:0),(_me||ome||$P==="offset")&&(yield{path:pme,offset:ume},ome=!1);;){if(ame===0){if(sme==="")break;ame=vme(sme,$P,zP),sme=Qc(sme,ame,zP)[1]}if(ume=zP?ume-ame:ume+ame,(lme-=ame)<0){ame=-lme;break}ame=0,yield{path:pme,offset:ume}}}}}function vme(Eme,wme,Tme){return wme==="character"?Yc(Eme,Tme):wme==="word"?function(Dme){for(var Ame=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Nme=0,Ume=!1;Dme.length>0;){var jme=Yc(Dme,Ame),[Fme,$me]=Qc(Dme,jme,Ame);if(ef(Fme,$me,Ame))Ume=!0,Nme+=jme;else{if(Ume)break;Nme+=jme}Dme=$me}return Nme}(Eme,Tme):wme==="line"||wme==="block"?Eme.length:1}},previous(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:x_="lowest",voids:$P=!1}=Ff,{match:zP,at:eme=kh.selection}=Ff;if(eme){var tme=Bf.before(kh,eme,{voids:$P});if(tme){var[,nme]=Bf.first(kh,[]),rme=[tme.path,nme];if(Mf.isPath(eme)&&eme.length===0)throw new Error("Cannot get the previous node from the root node!");if(zP==null)if(Mf.isPath(eme)){var[ime]=Bf.parent(kh,eme);zP=sme=>ime.children.includes(sme)}else zP=()=>!0;var[ome]=Bf.nodes(kh,{reverse:!0,at:rme,match:zP,mode:x_,voids:$P});return ome}}},range:(kh,Ff,x_)=>qf.isRange(Ff)&&!x_?Ff:{anchor:Bf.start(kh,Ff),focus:Bf.end(kh,x_||Ff)},rangeRef(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:$P="forward"}=x_,zP={current:Ff,affinity:$P,unref(){var{current:eme}=zP;return Bf.rangeRefs(kh).delete(zP),zP.current=null,eme}};return Bf.rangeRefs(kh).add(zP),zP},rangeRefs(kh){var Ff=Hc.get(kh);return Ff||(Ff=new Set,Hc.set(kh,Ff)),Ff},removeMark(kh,Ff){kh.removeMark(Ff)},setNormalizing(kh,Ff){Mc.set(kh,Ff)},start:(kh,Ff)=>Bf.point(kh,Ff,{edge:"start"}),string(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:$P=!1}=x_,zP=Bf.range(kh,Ff),[eme,tme]=qf.edges(zP),nme="";for(var[rme,ime]of Bf.nodes(kh,{at:zP,match:ed.isText,voids:$P})){var ome=rme.text;Mf.equals(ime,tme.path)&&(ome=ome.slice(0,tme.offset)),Mf.equals(ime,eme.path)&&(ome=ome.slice(eme.offset)),nme+=ome}return nme},unhangRange(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:$P=!1}=x_,[zP,eme]=qf.edges(Ff);if(zP.offset!==0||eme.offset!==0||qf.isCollapsed(Ff))return Ff;var tme=Bf.above(kh,{at:eme,match:ame=>Bf.isBlock(kh,ame)}),nme=tme?tme[1]:[],rme={anchor:Bf.start(kh,[]),focus:eme},ime=!0;for(var[ome,sme]of Bf.nodes(kh,{at:rme,match:ed.isText,reverse:!0,voids:$P}))if(ime)ime=!1;else if(ome.text!==""||Mf.isBefore(sme,nme)){eme={path:sme,offset:ome.text.length};break}return{anchor:zP,focus:eme}},void(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Bf.above(kh,Of(Of({},Ff),{},{match:x_=>Bf.isVoid(kh,x_)}))},withoutNormalizing(kh,Ff){var x_=Bf.isNormalizing(kh);Bf.setNormalizing(kh,!1);try{Ff()}finally{Bf.setNormalizing(kh,x_)}Bf.normalize(kh)}},Tf={isSpan:kh=>Array.isArray(kh)&&kh.length===2&&kh.every(Mf.isPath)},_f=["children"],Pf=["text"],jf=new WeakMap,Nf={ancestor(kh,Ff){var x_=Nf.get(kh,Ff);if(ed.isText(x_))throw new Error("Cannot get the ancestor node at path [".concat(Ff,"] because it refers to a text node instead: ").concat(x_));return x_},*ancestors(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var $P of Mf.ancestors(Ff,x_)){var zP=[Nf.ancestor(kh,$P),$P];yield zP}},child(kh,Ff){if(ed.isText(kh))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(kh)));var x_=kh.children[Ff];if(x_==null)throw new Error("Cannot get child at index `".concat(Ff,"` in node: ").concat(JSON.stringify(kh)));return x_},*children(kh,Ff){for(var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{reverse:$P=!1}=x_,zP=Nf.ancestor(kh,Ff),{children:eme}=zP,tme=$P?eme.length-1:0;$P?tme>=0:tme<eme.length;){var nme=Nf.child(zP,tme),rme=Ff.concat(tme);yield[nme,rme],tme=$P?tme-1:tme+1}},common(kh,Ff,x_){var $P=Mf.common(Ff,x_);return[Nf.get(kh,$P),$P]},descendant(kh,Ff){var x_=Nf.get(kh,Ff);if(Bf.isEditor(x_))throw new Error("Cannot get the descendant node at path [".concat(Ff,"] because it refers to the root editor node instead: ").concat(x_));return x_},*descendants(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[x_,$P]of Nf.nodes(kh,Ff))$P.length!==0&&(yield[x_,$P])},*elements(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[x_,$P]of Nf.nodes(kh,Ff))Sf.isElement(x_)&&(yield[x_,$P])},extractProps:kh=>Sf.isAncestor(kh)?qc(kh,_f):qc(kh,Pf),first(kh,Ff){for(var x_=Ff.slice(),$P=Nf.get(kh,x_);$P&&!ed.isText($P)&&$P.children.length!==0;)$P=$P.children[0],x_.push(0);return[$P,x_]},fragment(kh,Ff){if(ed.isText(kh))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(kh)));var x_=Pc({children:kh.children},$P=>{var[zP,eme]=qf.edges(Ff),tme=Nf.nodes($P,{reverse:!0,pass:ame=>{var[,lme]=ame;return!qf.includes(Ff,lme)}});for(var[,nme]of tme){if(!qf.includes(Ff,nme)){var rme=Nf.parent($P,nme),ime=nme[nme.length-1];rme.children.splice(ime,1)}if(Mf.equals(nme,eme.path)){var ome=Nf.leaf($P,nme);ome.text=ome.text.slice(0,eme.offset)}if(Mf.equals(nme,zP.path)){var sme=Nf.leaf($P,nme);sme.text=sme.text.slice(zP.offset)}}Bf.isEditor($P)&&($P.selection=null)});return x_.children},get(kh,Ff){for(var x_=kh,$P=0;$P<Ff.length;$P++){var zP=Ff[$P];if(ed.isText(x_)||!x_.children[zP])throw new Error("Cannot find a descendant at path [".concat(Ff,"] in node: ").concat(JSON.stringify(kh)));x_=x_.children[zP]}return x_},has(kh,Ff){for(var x_=kh,$P=0;$P<Ff.length;$P++){var zP=Ff[$P];if(ed.isText(x_)||!x_.children[zP])return!1;x_=x_.children[zP]}return!0},isNode:kh=>ed.isText(kh)||Sf.isElement(kh)||Bf.isEditor(kh),isNodeList(kh){if(!Array.isArray(kh))return!1;var Ff=jf.get(kh);if(Ff!==void 0)return Ff;var x_=kh.every($P=>Nf.isNode($P));return jf.set(kh,x_),x_},last(kh,Ff){for(var x_=Ff.slice(),$P=Nf.get(kh,x_);$P&&!ed.isText($P)&&$P.children.length!==0;){var zP=$P.children.length-1;$P=$P.children[zP],x_.push(zP)}return[$P,x_]},leaf(kh,Ff){var x_=Nf.get(kh,Ff);if(!ed.isText(x_))throw new Error("Cannot get the leaf node at path [".concat(Ff,"] because it refers to a non-leaf node: ").concat(x_));return x_},*levels(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(var $P of Mf.levels(Ff,x_)){var zP=Nf.get(kh,$P);yield[zP,$P]}},matches:(kh,Ff)=>Sf.isElement(kh)&&Sf.isElementProps(Ff)&&Sf.matches(kh,Ff)||ed.isText(kh)&&ed.isTextProps(Ff)&&ed.matches(kh,Ff),*nodes(kh){for(var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{pass:x_,reverse:$P=!1}=Ff,{from:zP=[],to:eme}=Ff,tme=new Set,nme=[],rme=kh;!eme||!($P?Mf.isBefore(nme,eme):Mf.isAfter(nme,eme));)if(tme.has(rme)||(yield[rme,nme]),tme.has(rme)||ed.isText(rme)||rme.children.length===0||x_!=null&&x_([rme,nme])!==!1){if(nme.length===0)break;if(!$P){var ime=Mf.next(nme);if(Nf.has(kh,ime)){nme=ime,rme=Nf.get(kh,nme);continue}}$P&&nme[nme.length-1]!==0?(nme=Mf.previous(nme),rme=Nf.get(kh,nme)):(nme=Mf.parent(nme),rme=Nf.get(kh,nme),tme.add(rme))}else{tme.add(rme);var ome=$P?rme.children.length-1:0;Mf.isAncestor(nme,zP)&&(ome=zP[nme.length]),nme=nme.concat(ome),rme=Nf.get(kh,nme)}},parent(kh,Ff){var x_=Mf.parent(Ff),$P=Nf.get(kh,x_);if(ed.isText($P))throw new Error("Cannot get the parent of path [".concat(Ff,"] because it does not exist in the root."));return $P},string:kh=>ed.isText(kh)?kh.text:kh.children.map(Nf.string).join(""),*texts(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(var[x_,$P]of Nf.nodes(kh,Ff))ed.isText(x_)&&(yield[x_,$P])}};function If(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function Lf(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?If(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):If(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var Rf={isNodeOperation:kh=>Rf.isOperation(kh)&&kh.type.endsWith("_node"),isOperation(kh){if(!Ll(kh))return!1;switch(kh.type){case"insert_node":case"remove_node":return Mf.isPath(kh.path)&&Nf.isNode(kh.node);case"insert_text":case"remove_text":return typeof kh.offset=="number"&&typeof kh.text=="string"&&Mf.isPath(kh.path);case"merge_node":return typeof kh.position=="number"&&Mf.isPath(kh.path)&&Ll(kh.properties);case"move_node":return Mf.isPath(kh.path)&&Mf.isPath(kh.newPath);case"set_node":return Mf.isPath(kh.path)&&Ll(kh.properties)&&Ll(kh.newProperties);case"set_selection":return kh.properties===null&&qf.isRange(kh.newProperties)||kh.newProperties===null&&qf.isRange(kh.properties)||Ll(kh.properties)&&Ll(kh.newProperties);case"split_node":return Mf.isPath(kh.path)&&typeof kh.position=="number"&&Ll(kh.properties);default:return!1}},isOperationList:kh=>Array.isArray(kh)&&kh.every(Ff=>Rf.isOperation(Ff)),isSelectionOperation:kh=>Rf.isOperation(kh)&&kh.type.endsWith("_selection"),isTextOperation:kh=>Rf.isOperation(kh)&&kh.type.endsWith("_text"),inverse(kh){switch(kh.type){case"insert_node":return Lf(Lf({},kh),{},{type:"remove_node"});case"insert_text":return Lf(Lf({},kh),{},{type:"remove_text"});case"merge_node":return Lf(Lf({},kh),{},{type:"split_node",path:Mf.previous(kh.path)});case"move_node":var{newPath:Ff,path:x_}=kh;if(Mf.equals(Ff,x_))return kh;if(Mf.isSibling(x_,Ff))return Lf(Lf({},kh),{},{path:Ff,newPath:x_});var $P=Mf.transform(x_,kh),zP=Mf.transform(Mf.next(x_),kh);return Lf(Lf({},kh),{},{path:$P,newPath:zP});case"remove_node":return Lf(Lf({},kh),{},{type:"insert_node"});case"remove_text":return Lf(Lf({},kh),{},{type:"insert_text"});case"set_node":var{properties:eme,newProperties:tme}=kh;return Lf(Lf({},kh),{},{properties:tme,newProperties:eme});case"set_selection":var{properties:nme,newProperties:rme}=kh;return Lf(Lf({},kh),{},nme==null?{properties:rme,newProperties:null}:rme==null?{properties:null,newProperties:nme}:{properties:rme,newProperties:nme});case"split_node":return Lf(Lf({},kh),{},{type:"merge_node",path:Mf.next(kh.path)})}}},Mf={ancestors(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:x_=!1}=Ff,$P=Mf.levels(kh,Ff);return $P=x_?$P.slice(1):$P.slice(0,-1)},common(kh,Ff){for(var x_=[],$P=0;$P<kh.length&&$P<Ff.length;$P++){var zP=kh[$P];if(zP!==Ff[$P])break;x_.push(zP)}return x_},compare(kh,Ff){for(var x_=Math.min(kh.length,Ff.length),$P=0;$P<x_;$P++){if(kh[$P]<Ff[$P])return-1;if(kh[$P]>Ff[$P])return 1}return 0},endsAfter(kh,Ff){var x_=kh.length-1,$P=kh.slice(0,x_),zP=Ff.slice(0,x_),eme=kh[x_],tme=Ff[x_];return Mf.equals($P,zP)&&eme>tme},endsAt(kh,Ff){var x_=kh.length,$P=kh.slice(0,x_),zP=Ff.slice(0,x_);return Mf.equals($P,zP)},endsBefore(kh,Ff){var x_=kh.length-1,$P=kh.slice(0,x_),zP=Ff.slice(0,x_),eme=kh[x_],tme=Ff[x_];return Mf.equals($P,zP)&&eme<tme},equals:(kh,Ff)=>kh.length===Ff.length&&kh.every((x_,$P)=>x_===Ff[$P]),hasPrevious:kh=>kh[kh.length-1]>0,isAfter:(kh,Ff)=>Mf.compare(kh,Ff)===1,isAncestor:(kh,Ff)=>kh.length<Ff.length&&Mf.compare(kh,Ff)===0,isBefore:(kh,Ff)=>Mf.compare(kh,Ff)===-1,isChild:(kh,Ff)=>kh.length===Ff.length+1&&Mf.compare(kh,Ff)===0,isCommon:(kh,Ff)=>kh.length<=Ff.length&&Mf.compare(kh,Ff)===0,isDescendant:(kh,Ff)=>kh.length>Ff.length&&Mf.compare(kh,Ff)===0,isParent:(kh,Ff)=>kh.length+1===Ff.length&&Mf.compare(kh,Ff)===0,isPath:kh=>Array.isArray(kh)&&(kh.length===0||typeof kh[0]=="number"),isSibling(kh,Ff){if(kh.length!==Ff.length)return!1;var x_=kh.slice(0,-1),$P=Ff.slice(0,-1);return kh[kh.length-1]!==Ff[Ff.length-1]&&Mf.equals(x_,$P)},levels(kh){for(var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:x_=!1}=Ff,$P=[],zP=0;zP<=kh.length;zP++)$P.push(kh.slice(0,zP));return x_&&$P.reverse(),$P},next(kh){if(kh.length===0)throw new Error("Cannot get the next path of a root path [".concat(kh,"], because it has no next index."));var Ff=kh[kh.length-1];return kh.slice(0,-1).concat(Ff+1)},parent(kh){if(kh.length===0)throw new Error("Cannot get the parent path of the root path [".concat(kh,"]."));return kh.slice(0,-1)},previous(kh){if(kh.length===0)throw new Error("Cannot get the previous path of a root path [".concat(kh,"], because it has no previous index."));var Ff=kh[kh.length-1];if(Ff<=0)throw new Error("Cannot get the previous path of a first child path [".concat(kh,"] because it would result in a negative index."));return kh.slice(0,-1).concat(Ff-1)},relative(kh,Ff){if(!Mf.isAncestor(Ff,kh)&&!Mf.equals(kh,Ff))throw new Error("Cannot get the relative path of [".concat(kh,"] inside ancestor [").concat(Ff,"], because it is not above or equal to the path."));return kh.slice(Ff.length)},transform(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pc(kh,$P=>{var{affinity:zP="forward"}=x_;if(kh&&(kh==null?void 0:kh.length)!==0){if($P===null)return null;switch(Ff.type){case"insert_node":var{path:eme}=Ff;(Mf.equals(eme,$P)||Mf.endsBefore(eme,$P)||Mf.isAncestor(eme,$P))&&($P[eme.length-1]+=1);break;case"remove_node":var{path:tme}=Ff;if(Mf.equals(tme,$P)||Mf.isAncestor(tme,$P))return null;Mf.endsBefore(tme,$P)&&($P[tme.length-1]-=1);break;case"merge_node":var{path:nme,position:rme}=Ff;Mf.equals(nme,$P)||Mf.endsBefore(nme,$P)?$P[nme.length-1]-=1:Mf.isAncestor(nme,$P)&&($P[nme.length-1]-=1,$P[nme.length]+=rme);break;case"split_node":var{path:ime,position:ome}=Ff;if(Mf.equals(ime,$P)){if(zP==="forward")$P[$P.length-1]+=1;else if(zP!=="backward")return null}else Mf.endsBefore(ime,$P)?$P[ime.length-1]+=1:Mf.isAncestor(ime,$P)&&kh[ime.length]>=ome&&($P[ime.length-1]+=1,$P[ime.length]-=ome);break;case"move_node":var{path:sme,newPath:ame}=Ff;if(Mf.equals(sme,ame))return;if(Mf.isAncestor(sme,$P)||Mf.equals(sme,$P)){var lme=ame.slice();return Mf.endsBefore(sme,ame)&&sme.length<ame.length&&(lme[sme.length-1]-=1),lme.concat($P.slice(sme.length))}Mf.isSibling(sme,ame)&&(Mf.isAncestor(ame,$P)||Mf.equals(ame,$P))?Mf.endsBefore(sme,$P)?$P[sme.length-1]-=1:$P[sme.length-1]+=1:Mf.endsBefore(ame,$P)||Mf.equals(ame,$P)||Mf.isAncestor(ame,$P)?(Mf.endsBefore(sme,$P)&&($P[sme.length-1]-=1),$P[ame.length-1]+=1):Mf.endsBefore(sme,$P)&&(Mf.equals(ame,$P)&&($P[ame.length-1]+=1),$P[sme.length-1]-=1)}}})}},zf={transform(kh,Ff){var{current:x_,affinity:$P}=kh;if(x_!=null){var zP=Mf.transform(x_,Ff,{affinity:$P});kh.current=zP,zP==null&&kh.unref()}}};function $f(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function Hf(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?$f(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):$f(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var Vf={compare(kh,Ff){var x_=Mf.compare(kh.path,Ff.path);return x_===0?kh.offset<Ff.offset?-1:kh.offset>Ff.offset?1:0:x_},isAfter:(kh,Ff)=>Vf.compare(kh,Ff)===1,isBefore:(kh,Ff)=>Vf.compare(kh,Ff)===-1,equals:(kh,Ff)=>kh.offset===Ff.offset&&Mf.equals(kh.path,Ff.path),isPoint:kh=>Ll(kh)&&typeof kh.offset=="number"&&Mf.isPath(kh.path),transform(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pc(kh,$P=>{if($P===null)return null;var{affinity:zP="forward"}=x_,{path:eme,offset:tme}=$P;switch(Ff.type){case"insert_node":case"move_node":$P.path=Mf.transform(eme,Ff,x_);break;case"insert_text":Mf.equals(Ff.path,eme)&&Ff.offset<=tme&&($P.offset+=Ff.text.length);break;case"merge_node":Mf.equals(Ff.path,eme)&&($P.offset+=Ff.position),$P.path=Mf.transform(eme,Ff,x_);break;case"remove_text":Mf.equals(Ff.path,eme)&&Ff.offset<=tme&&($P.offset-=Math.min(tme-Ff.offset,Ff.text.length));break;case"remove_node":if(Mf.equals(Ff.path,eme)||Mf.isAncestor(Ff.path,eme))return null;$P.path=Mf.transform(eme,Ff,x_);break;case"split_node":if(Mf.equals(Ff.path,eme)){if(Ff.position===tme&&zP==null)return null;(Ff.position<tme||Ff.position===tme&&zP==="forward")&&($P.offset-=Ff.position,$P.path=Mf.transform(eme,Ff,Hf(Hf({},x_),{},{affinity:"forward"})))}else $P.path=Mf.transform(eme,Ff,x_)}})}},Uf={transform(kh,Ff){var{current:x_,affinity:$P}=kh;if(x_!=null){var zP=Vf.transform(x_,Ff,{affinity:$P});kh.current=zP,zP==null&&kh.unref()}}},Wf=["anchor","focus"];function Gf(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}var qf={edges(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:x_=!1}=Ff,{anchor:$P,focus:zP}=kh;return qf.isBackward(kh)===x_?[$P,zP]:[zP,$P]},end(kh){var[,Ff]=qf.edges(kh);return Ff},equals:(kh,Ff)=>Vf.equals(kh.anchor,Ff.anchor)&&Vf.equals(kh.focus,Ff.focus),includes(kh,Ff){if(qf.isRange(Ff)){if(qf.includes(kh,Ff.anchor)||qf.includes(kh,Ff.focus))return!0;var[x_,$P]=qf.edges(kh),[zP,eme]=qf.edges(Ff);return Vf.isBefore(x_,zP)&&Vf.isAfter($P,eme)}var[tme,nme]=qf.edges(kh),rme=!1,ime=!1;return Vf.isPoint(Ff)?(rme=Vf.compare(Ff,tme)>=0,ime=Vf.compare(Ff,nme)<=0):(rme=Mf.compare(Ff,tme.path)>=0,ime=Mf.compare(Ff,nme.path)<=0),rme&&ime},intersection(kh,Ff){var x_=qc(kh,Wf),[$P,zP]=qf.edges(kh),[eme,tme]=qf.edges(Ff),nme=Vf.isBefore($P,eme)?eme:$P,rme=Vf.isBefore(zP,tme)?zP:tme;return Vf.isBefore(rme,nme)?null:function(ime){for(var ome=1;ome<arguments.length;ome++){var sme=arguments[ome]!=null?arguments[ome]:{};ome%2?Gf(Object(sme),!0).forEach(function(ame){Ic(ime,ame,sme[ame])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ime,Object.getOwnPropertyDescriptors(sme)):Gf(Object(sme)).forEach(function(ame){Object.defineProperty(ime,ame,Object.getOwnPropertyDescriptor(sme,ame))})}return ime}({anchor:nme,focus:rme},x_)},isBackward(kh){var{anchor:Ff,focus:x_}=kh;return Vf.isAfter(Ff,x_)},isCollapsed(kh){var{anchor:Ff,focus:x_}=kh;return Vf.equals(Ff,x_)},isExpanded:kh=>!qf.isCollapsed(kh),isForward:kh=>!qf.isBackward(kh),isRange:kh=>Ll(kh)&&Vf.isPoint(kh.anchor)&&Vf.isPoint(kh.focus),*points(kh){yield[kh.anchor,"anchor"],yield[kh.focus,"focus"]},start(kh){var[Ff]=qf.edges(kh);return Ff},transform(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pc(kh,$P=>{if($P===null)return null;var zP,eme,{affinity:tme="inward"}=x_;if(tme==="inward"){var nme=qf.isCollapsed($P);qf.isForward($P)?(zP="forward",eme=nme?zP:"backward"):(zP="backward",eme=nme?zP:"forward")}else tme==="outward"?qf.isForward($P)?(zP="backward",eme="forward"):(zP="forward",eme="backward"):(zP=tme,eme=tme);var rme=Vf.transform($P.anchor,Ff,{affinity:zP}),ime=Vf.transform($P.focus,Ff,{affinity:eme});if(!rme||!ime)return null;$P.anchor=rme,$P.focus=ime})}},Kf={transform(kh,Ff){var{current:x_,affinity:$P}=kh;if(x_!=null){var zP=qf.transform(x_,Ff,{affinity:$P});kh.current=zP,zP==null&&kh.unref()}}},Yf=(kh,Ff)=>{for(var x_ in kh){var $P=kh[x_],zP=Ff[x_];if(Ll($P)&&Ll(zP)){if(!Yf($P,zP))return!1}else if(Array.isArray($P)&&Array.isArray(zP)){if($P.length!==zP.length)return!1;for(var eme=0;eme<$P.length;eme++)if($P[eme]!==zP[eme])return!1}else if($P!==zP)return!1}for(var tme in Ff)if(kh[tme]===void 0&&Ff[tme]!==void 0)return!1;return!0},Xf=["text"],Zf=["anchor","focus"];function Jf(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function Qf(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?Jf(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):Jf(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var ed={equals(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:$P=!1}=x_;function zP(eme){return qc(eme,Xf)}return Yf($P?zP(kh):kh,$P?zP(Ff):Ff)},isText:kh=>Ll(kh)&&typeof kh.text=="string",isTextList:kh=>Array.isArray(kh)&&kh.every(Ff=>ed.isText(Ff)),isTextProps:kh=>kh.text!==void 0,matches(kh,Ff){for(var x_ in Ff)if(x_!=="text"&&(!kh.hasOwnProperty(x_)||kh[x_]!==Ff[x_]))return!1;return!0},decorations(kh,Ff){var x_=[Qf({},kh)];for(var $P of Ff){var zP=qc($P,Zf),[eme,tme]=qf.edges($P),nme=[],rme=0;for(var ime of x_){var{length:ome}=ime.text,sme=rme;if(rme+=ome,eme.offset<=sme&&tme.offset>=rme)Object.assign(ime,zP),nme.push(ime);else if(eme.offset!==tme.offset&&(eme.offset===rme||tme.offset===sme)||eme.offset>rme||tme.offset<sme||tme.offset===sme&&sme!==0)nme.push(ime);else{var ame=ime,lme=void 0,ume=void 0;if(tme.offset<rme){var dme=tme.offset-sme;ume=Qf(Qf({},ame),{},{text:ame.text.slice(dme)}),ame=Qf(Qf({},ame),{},{text:ame.text.slice(0,dme)})}if(eme.offset>sme){var pme=eme.offset-sme;lme=Qf(Qf({},ame),{},{text:ame.text.slice(0,pme)}),ame=Qf(Qf({},ame),{},{text:ame.text.slice(pme)})}Object.assign(ame,zP),lme&&nme.push(lme),nme.push(ame),ume&&nme.push(ume)}}x_=nme}return x_}};function td(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function nd(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?td(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):td(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var rd={transform(kh,Ff){kh.children=jc(kh.children);var x_=kh.selection&&jc(kh.selection);try{x_=(($P,zP,eme)=>{switch(eme.type){case"insert_node":var{path:tme,node:nme}=eme,rme=Nf.parent($P,tme),ime=tme[tme.length-1];if(ime>rme.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(tme,"] because the destination is past the end of the node."));if(rme.children.splice(ime,0,nme),zP)for(var[ome,sme]of qf.points(zP))zP[sme]=Vf.transform(ome,eme);break;case"insert_text":var{path:ame,offset:lme,text:ume}=eme;if(ume.length===0)break;var dme=Nf.leaf($P,ame),pme=dme.text.slice(0,lme),hme=dme.text.slice(lme);if(dme.text=pme+ume+hme,zP)for(var[cme,_me]of qf.points(zP))zP[_me]=Vf.transform(cme,eme);break;case"merge_node":var{path:vme}=eme,Eme=Nf.get($P,vme),wme=Mf.previous(vme),Tme=Nf.get($P,wme),Dme=Nf.parent($P,vme),Ame=vme[vme.length-1];if(ed.isText(Eme)&&ed.isText(Tme))Tme.text+=Eme.text;else{if(ed.isText(Eme)||ed.isText(Tme))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(vme,"] to nodes of different interfaces: ").concat(Eme," ").concat(Tme));Tme.children.push(...Eme.children)}if(Dme.children.splice(Ame,1),zP)for(var[Nme,Ume]of qf.points(zP))zP[Ume]=Vf.transform(Nme,eme);break;case"move_node":var{path:jme,newPath:Fme}=eme;if(Mf.isAncestor(jme,Fme))throw new Error("Cannot move a path [".concat(jme,"] to new path [").concat(Fme,"] because the destination is inside itself."));var $me=Nf.get($P,jme),Gme=Nf.parent($P,jme),Wme=jme[jme.length-1];Gme.children.splice(Wme,1);var Jme=Mf.transform(jme,eme),r_e=Nf.get($P,Mf.parent(Jme)),o_e=Jme[Jme.length-1];if(r_e.children.splice(o_e,0,$me),zP)for(var[i_e,Mme]of qf.points(zP))zP[Mme]=Vf.transform(i_e,eme);break;case"remove_node":var{path:Ome}=eme,Rme=Ome[Ome.length-1];if(Nf.parent($P,Ome).children.splice(Rme,1),zP)for(var[zme,Zme]of qf.points(zP)){var Qme=Vf.transform(zme,eme);if(zP!=null&&Qme!=null)zP[Zme]=Qme;else{var n_e=void 0,c_e=void 0;for(var[f_e,h_e]of Nf.texts($P)){if(Mf.compare(h_e,Ome)!==-1){c_e=[f_e,h_e];break}n_e=[f_e,h_e]}var Xme=!1;n_e&&c_e&&(Xme=Mf.equals(c_e[1],Ome)?!Mf.hasPrevious(c_e[1]):Mf.common(n_e[1],Ome).length<Mf.common(c_e[1],Ome).length),n_e&&!Xme?(zme.path=n_e[1],zme.offset=n_e[0].text.length):c_e?(zme.path=c_e[1],zme.offset=0):zP=null}}break;case"remove_text":var{path:x_e,offset:g_e,text:u_e}=eme;if(u_e.length===0)break;var __e=Nf.leaf($P,x_e),F_e=__e.text.slice(0,g_e),k_e=__e.text.slice(g_e+u_e.length);if(__e.text=F_e+k_e,zP)for(var[C_e,B_e]of qf.points(zP))zP[B_e]=Vf.transform(C_e,eme);break;case"set_node":var{path:y_e,properties:A_e,newProperties:X_e}=eme;if(y_e.length===0)throw new Error("Cannot set properties on the root node!");var d0e=Nf.get($P,y_e);for(var s0e in X_e){if(s0e==="children"||s0e==="text")throw new Error('Cannot set the "'.concat(s0e,'" property of nodes!'));var O0e=X_e[s0e];O0e==null?delete d0e[s0e]:d0e[s0e]=O0e}for(var E0e in A_e)X_e.hasOwnProperty(E0e)||delete d0e[E0e];break;case"set_selection":var{newProperties:e0e}=eme;if(e0e==null)zP=e0e;else{if(zP==null){if(!qf.isRange(e0e))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(e0e)," when there is no current selection."));zP=nd({},e0e)}for(var a0e in e0e){var y0e=e0e[a0e];if(y0e==null){if(a0e==="anchor"||a0e==="focus")throw new Error('Cannot remove the "'.concat(a0e,'" selection property'));delete zP[a0e]}else zP[a0e]=y0e}}break;case"split_node":var{path:V_e,position:z_e,properties:w_e}=eme;if(V_e.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(V_e,"] because the root node cannot be split."));var J_e,U_e=Nf.get($P,V_e),l0e=Nf.parent($P,V_e),V0e=V_e[V_e.length-1];if(ed.isText(U_e)){var k0e=U_e.text.slice(0,z_e),x0e=U_e.text.slice(z_e);U_e.text=k0e,J_e=nd(nd({},w_e),{},{text:x0e})}else{var $0e=U_e.children.slice(0,z_e),R0e=U_e.children.slice(z_e);U_e.children=$0e,J_e=nd(nd({},w_e),{},{children:R0e})}if(l0e.children.splice(V0e+1,0,J_e),zP)for(var[q0e,f0e]of qf.points(zP))zP[f0e]=Vf.transform(q0e,eme)}return zP})(kh,x_,Ff)}finally{kh.children=Nc(kh.children),kh.selection=x_?Ml(x_)?Nc(x_):x_:null}}},od=["text"],id=["children"];function ad(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function ud(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?ad(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):ad(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var sd={insertNodes(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf.withoutNormalizing(kh,()=>{var{hanging:$P=!1,voids:zP=!1,mode:eme="lowest"}=x_,{at:tme,match:nme,select:rme}=x_;if(Nf.isNode(Ff)&&(Ff=[Ff]),Ff.length!==0){var[ime]=Ff;if(tme||(tme=kh.selection?kh.selection:kh.children.length>0?Bf.end(kh,[]):[0],rme=!0),rme==null&&(rme=!1),qf.isRange(tme))if($P||(tme=Bf.unhangRange(kh,tme)),qf.isCollapsed(tme))tme=tme.anchor;else{var[,ome]=qf.edges(tme),sme=Bf.pointRef(kh,ome);md.delete(kh,{at:tme}),tme=sme.unref()}if(Vf.isPoint(tme)){nme==null&&(nme=ed.isText(ime)?wme=>ed.isText(wme):kh.isInline(ime)?wme=>ed.isText(wme)||Bf.isInline(kh,wme):wme=>Bf.isBlock(kh,wme));var[ame]=Bf.nodes(kh,{at:tme.path,match:nme,mode:eme,voids:zP});if(!ame)return;var[,lme]=ame,ume=Bf.pathRef(kh,lme),dme=Bf.isEnd(kh,tme,lme);md.splitNodes(kh,{at:tme,match:nme,mode:eme,voids:zP});var pme=ume.unref();tme=dme?Mf.next(pme):pme}var hme=Mf.parent(tme),cme=tme[tme.length-1];if(zP||!Bf.void(kh,{at:hme})){for(var _me of Ff){var vme=hme.concat(cme);cme++,kh.apply({type:"insert_node",path:vme,node:_me}),tme=Mf.next(tme)}if(tme=Mf.previous(tme),rme){var Eme=Bf.end(kh,tme);Eme&&md.select(kh,Eme)}}}})},liftNodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{at:x_=kh.selection,mode:$P="lowest",voids:zP=!1}=Ff,{match:eme}=Ff;if(eme==null&&(eme=Mf.isPath(x_)?fd(kh,x_):_me=>Bf.isBlock(kh,_me)),x_){var tme=Bf.nodes(kh,{at:x_,match:eme,mode:$P,voids:zP}),nme=Array.from(tme,_me=>{var[,vme]=_me;return Bf.pathRef(kh,vme)});for(var rme of nme){var ime=rme.unref();if(ime.length<2)throw new Error("Cannot lift node at a path [".concat(ime,"] because it has a depth of less than `2`."));var ome=Bf.node(kh,Mf.parent(ime)),[sme,ame]=ome,lme=ime[ime.length-1],{length:ume}=sme.children;if(ume===1){var dme=Mf.next(ame);md.moveNodes(kh,{at:ime,to:dme,voids:zP}),md.removeNodes(kh,{at:ame,voids:zP})}else if(lme===0)md.moveNodes(kh,{at:ime,to:ame,voids:zP});else if(lme===ume-1){var pme=Mf.next(ame);md.moveNodes(kh,{at:ime,to:pme,voids:zP})}else{var hme=Mf.next(ime),cme=Mf.next(ame);md.splitNodes(kh,{at:hme,voids:zP}),md.moveNodes(kh,{at:ime,to:cme,voids:zP})}}}})},mergeNodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{match:x_,at:$P=kh.selection}=Ff,{hanging:zP=!1,voids:eme=!1,mode:tme="lowest"}=Ff;if($P){if(x_==null)if(Mf.isPath($P)){var[nme]=Bf.parent(kh,$P);x_=Ame=>nme.children.includes(Ame)}else x_=Ame=>Bf.isBlock(kh,Ame);if(!zP&&qf.isRange($P)&&($P=Bf.unhangRange(kh,$P)),qf.isRange($P))if(qf.isCollapsed($P))$P=$P.anchor;else{var[,rme]=qf.edges($P),ime=Bf.pointRef(kh,rme);md.delete(kh,{at:$P}),$P=ime.unref(),Ff.at==null&&md.select(kh,$P)}var[ome]=Bf.nodes(kh,{at:$P,match:x_,voids:eme,mode:tme}),sme=Bf.previous(kh,{at:$P,match:x_,voids:eme,mode:tme});if(ome&&sme){var[ame,lme]=ome,[ume,dme]=sme;if(lme.length!==0&&dme.length!==0){var pme,hme,cme=Mf.next(dme),_me=Mf.common(lme,dme),vme=Mf.isSibling(lme,dme),Eme=Array.from(Bf.levels(kh,{at:lme}),Ame=>{var[Nme]=Ame;return Nme}).slice(_me.length).slice(0,-1),wme=Bf.above(kh,{at:lme,mode:"highest",match:Ame=>Eme.includes(Ame)&&ld(kh,Ame)}),Tme=wme&&Bf.pathRef(kh,wme[1]);if(ed.isText(ame)&&ed.isText(ume)){var Dme=qc(ame,od);hme=ume.text.length,pme=Dme}else{if(!Sf.isElement(ame)||!Sf.isElement(ume))throw new Error("Cannot merge the node at path [".concat(lme,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(ame)," ").concat(JSON.stringify(ume)));Dme=qc(ame,id),hme=ume.children.length,pme=Dme}vme||md.moveNodes(kh,{at:lme,to:cme,voids:eme}),Tme&&md.removeNodes(kh,{at:Tme.current,voids:eme}),Sf.isElement(ume)&&Bf.isEmpty(kh,ume)||ed.isText(ume)&&ume.text===""&&dme[dme.length-1]!==0?md.removeNodes(kh,{at:dme,voids:eme}):kh.apply({type:"merge_node",path:cme,position:hme,properties:pme}),Tme&&Tme.unref()}}}})},moveNodes(kh,Ff){Bf.withoutNormalizing(kh,()=>{var{to:x_,at:$P=kh.selection,mode:zP="lowest",voids:eme=!1}=Ff,{match:tme}=Ff;if($P){tme==null&&(tme=Mf.isPath($P)?fd(kh,$P):lme=>Bf.isBlock(kh,lme));var nme=Bf.pathRef(kh,x_),rme=Bf.nodes(kh,{at:$P,match:tme,mode:zP,voids:eme}),ime=Array.from(rme,lme=>{var[,ume]=lme;return Bf.pathRef(kh,ume)});for(var ome of ime){var sme=ome.unref(),ame=nme.current;sme.length!==0&&kh.apply({type:"move_node",path:sme,newPath:ame}),nme.current&&Mf.isSibling(ame,sme)&&Mf.isAfter(ame,sme)&&(nme.current=Mf.next(nme.current))}nme.unref()}})},removeNodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{hanging:x_=!1,voids:$P=!1,mode:zP="lowest"}=Ff,{at:eme=kh.selection,match:tme}=Ff;if(eme){tme==null&&(tme=Mf.isPath(eme)?fd(kh,eme):ame=>Bf.isBlock(kh,ame)),!x_&&qf.isRange(eme)&&(eme=Bf.unhangRange(kh,eme));var nme=Bf.nodes(kh,{at:eme,match:tme,mode:zP,voids:$P}),rme=Array.from(nme,ame=>{var[,lme]=ame;return Bf.pathRef(kh,lme)});for(var ime of rme){var ome=ime.unref();if(ome){var[sme]=Bf.node(kh,ome);kh.apply({type:"remove_node",path:ome,node:sme})}}}})},setNodes(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf.withoutNormalizing(kh,()=>{var{match:$P,at:zP=kh.selection}=x_,{hanging:eme=!1,mode:tme="lowest",split:nme=!1,voids:rme=!1}=x_;if(zP){if($P==null&&($P=Mf.isPath(zP)?fd(kh,zP):Eme=>Bf.isBlock(kh,Eme)),!eme&&qf.isRange(zP)&&(zP=Bf.unhangRange(kh,zP)),nme&&qf.isRange(zP)){if(qf.isCollapsed(zP)&&Bf.leaf(kh,zP.anchor)[0].text.length>0)return;var ime=Bf.rangeRef(kh,zP,{affinity:"inward"}),[ome,sme]=qf.edges(zP),ame=tme==="lowest"?"lowest":"highest",lme=Bf.isEnd(kh,sme,sme.path);md.splitNodes(kh,{at:sme,match:$P,mode:ame,voids:rme,always:!lme});var ume=Bf.isStart(kh,ome,ome.path);md.splitNodes(kh,{at:ome,match:$P,mode:ame,voids:rme,always:!ume}),zP=ime.unref(),x_.at==null&&md.select(kh,zP)}for(var[dme,pme]of Bf.nodes(kh,{at:zP,match:$P,mode:tme,voids:rme})){var hme={},cme={};if(pme.length!==0){var _me=!1;for(var vme in Ff)vme!=="children"&&vme!=="text"&&Ff[vme]!==dme[vme]&&(_me=!0,dme.hasOwnProperty(vme)&&(hme[vme]=dme[vme]),Ff[vme]!=null&&(cme[vme]=Ff[vme]));_me&&kh.apply({type:"set_node",path:pme,properties:hme,newProperties:cme})}}}})},splitNodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{mode:x_="lowest",voids:$P=!1}=Ff,{match:zP,at:eme=kh.selection,height:tme=0,always:nme=!1}=Ff;if(zP==null&&(zP=$me=>Bf.isBlock(kh,$me)),qf.isRange(eme)&&(eme=cd(kh,eme)),Mf.isPath(eme)){var rme=eme,ime=Bf.point(kh,rme),[ome]=Bf.parent(kh,rme);zP=$me=>$me===ome,tme=ime.path.length-rme.length+1,eme=ime,nme=!0}if(eme){var sme=Bf.pointRef(kh,eme,{affinity:"backward"}),[ame]=Bf.nodes(kh,{at:eme,match:zP,mode:x_,voids:$P});if(ame){var lme=Bf.void(kh,{at:eme,mode:"highest"});if(!$P&&lme){var[ume,dme]=lme;if(Sf.isElement(ume)&&kh.isInline(ume)){var pme=Bf.after(kh,dme);if(!pme){var hme=Mf.next(dme);md.insertNodes(kh,{text:""},{at:hme,voids:$P}),pme=Bf.point(kh,hme)}eme=pme,nme=!0}tme=eme.path.length-dme.length+1,nme=!0}var cme=Bf.pointRef(kh,eme),_me=eme.path.length-tme,[,vme]=ame,Eme=eme.path.slice(0,_me),wme=tme===0?eme.offset:eme.path[_me]+0;for(var[Tme,Dme]of Bf.levels(kh,{at:Eme,reverse:!0,voids:$P})){var Ame=!1;if(Dme.length<vme.length||Dme.length===0||!$P&&Bf.isVoid(kh,Tme))break;var Nme=sme.current,Ume=Bf.isEnd(kh,Nme,Dme);if(nme||!sme||!Bf.isEdge(kh,Nme,Dme)){Ame=!0;var jme=Nf.extractProps(Tme);kh.apply({type:"split_node",path:Dme,position:wme,properties:jme})}wme=Dme[Dme.length-1]+(Ame||Ume?1:0)}if(Ff.at==null){var Fme=cme.current||Bf.end(kh,[]);md.select(kh,Fme)}sme.unref(),cme.unref()}}})},unsetNodes(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(Ff)||(Ff=[Ff]);var $P={};for(var zP of Ff)$P[zP]=null;md.setNodes(kh,$P,x_)},unwrapNodes(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{mode:x_="lowest",split:$P=!1,voids:zP=!1}=Ff,{at:eme=kh.selection,match:tme}=Ff;if(eme){tme==null&&(tme=Mf.isPath(eme)?fd(kh,eme):ame=>Bf.isBlock(kh,ame)),Mf.isPath(eme)&&(eme=Bf.range(kh,eme));var nme=qf.isRange(eme)?Bf.rangeRef(kh,eme):null,rme=Bf.nodes(kh,{at:eme,match:tme,mode:x_,voids:zP}),ime=Array.from(rme,ame=>{var[,lme]=ame;return Bf.pathRef(kh,lme)}).reverse(),ome=function(ame){var lme=ame.unref(),[ume]=Bf.node(kh,lme),dme=Bf.range(kh,lme);$P&&nme&&(dme=qf.intersection(nme.current,dme)),md.liftNodes(kh,{at:dme,match:pme=>Sf.isAncestor(ume)&&ume.children.includes(pme),voids:zP})};for(var sme of ime)ome(sme);nme&&nme.unref()}})},wrapNodes(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf.withoutNormalizing(kh,()=>{var{mode:$P="lowest",split:zP=!1,voids:eme=!1}=x_,{match:tme,at:nme=kh.selection}=x_;if(nme){if(tme==null&&(tme=Mf.isPath(nme)?fd(kh,nme):kh.isInline(Ff)?pme=>Bf.isInline(kh,pme)||ed.isText(pme):pme=>Bf.isBlock(kh,pme)),zP&&qf.isRange(nme)){var[rme,ime]=qf.edges(nme),ome=Bf.rangeRef(kh,nme,{affinity:"inward"});md.splitNodes(kh,{at:ime,match:tme,voids:eme}),md.splitNodes(kh,{at:rme,match:tme,voids:eme}),nme=ome.unref(),x_.at==null&&md.select(kh,nme)}var sme=Array.from(Bf.nodes(kh,{at:nme,match:kh.isInline(Ff)?pme=>Bf.isBlock(kh,pme):pme=>Bf.isEditor(pme),mode:"lowest",voids:eme}));for(var[,ame]of sme){var lme=qf.isRange(nme)?qf.intersection(nme,Bf.range(kh,ame)):nme;if(lme){var ume=Array.from(Bf.nodes(kh,{at:lme,match:tme,mode:$P,voids:eme}));if(ume.length>0){var dme=function(){var[pme]=ume,hme=ume[ume.length-1],[,cme]=pme,[,_me]=hme;if(cme.length===0&&_me.length===0)return"continue";var vme=Mf.equals(cme,_me)?Mf.parent(cme):Mf.common(cme,_me),Eme=Bf.range(kh,cme,_me),wme=Bf.node(kh,vme),[Tme]=wme,Dme=vme.length+1,Ame=Mf.next(_me.slice(0,Dme)),Nme=ud(ud({},Ff),{},{children:[]});md.insertNodes(kh,Nme,{at:Ame,voids:eme}),md.moveNodes(kh,{at:Eme,match:Ume=>Sf.isAncestor(Tme)&&Tme.children.includes(Ume),to:Ame.concat(0),voids:eme})}();if(dme==="continue")continue}}}}})}},ld=(kh,Ff)=>{if(Sf.isElement(Ff)){var x_=Ff;return!!Bf.isVoid(kh,Ff)||x_.children.length===1&&ld(kh,x_.children[0])}return!Bf.isEditor(Ff)},cd=(kh,Ff)=>{if(qf.isCollapsed(Ff))return Ff.anchor;var[,x_]=qf.edges(Ff),$P=Bf.pointRef(kh,x_);return md.delete(kh,{at:Ff}),$P.unref()},fd=(kh,Ff)=>{var[x_]=Bf.node(kh,Ff);return $P=>$P===x_};function dd(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function pd(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?dd(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):dd(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var hd={collapse(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:x_="anchor"}=Ff,{selection:$P}=kh;if($P){if(x_==="anchor")md.select(kh,$P.anchor);else if(x_==="focus")md.select(kh,$P.focus);else if(x_==="start"){var[zP]=qf.edges($P);md.select(kh,zP)}else if(x_==="end"){var[,eme]=qf.edges($P);md.select(kh,eme)}}},deselect(kh){var{selection:Ff}=kh;Ff&&kh.apply({type:"set_selection",properties:Ff,newProperties:null})},move(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:x_}=kh,{distance:$P=1,unit:zP="character",reverse:eme=!1}=Ff,{edge:tme=null}=Ff;if(x_){tme==="start"&&(tme=qf.isBackward(x_)?"focus":"anchor"),tme==="end"&&(tme=qf.isBackward(x_)?"anchor":"focus");var{anchor:nme,focus:rme}=x_,ime={distance:$P,unit:zP},ome={};if(tme==null||tme==="anchor"){var sme=eme?Bf.before(kh,nme,ime):Bf.after(kh,nme,ime);sme&&(ome.anchor=sme)}if(tme==null||tme==="focus"){var ame=eme?Bf.before(kh,rme,ime):Bf.after(kh,rme,ime);ame&&(ome.focus=ame)}md.setSelection(kh,ome)}},select(kh,Ff){var{selection:x_}=kh;if(Ff=Bf.range(kh,Ff),x_)md.setSelection(kh,Ff);else{if(!qf.isRange(Ff))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(Ff)));kh.apply({type:"set_selection",properties:x_,newProperties:Ff})}},setPoint(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:$P}=kh,{edge:zP="both"}=x_;if($P){zP==="start"&&(zP=qf.isBackward($P)?"focus":"anchor"),zP==="end"&&(zP=qf.isBackward($P)?"anchor":"focus");var{anchor:eme,focus:tme}=$P,nme=zP==="anchor"?eme:tme;md.setSelection(kh,{[zP==="anchor"?"anchor":"focus"]:pd(pd({},nme),Ff)})}},setSelection(kh,Ff){var{selection:x_}=kh,$P={},zP={};if(x_){for(var eme in Ff)(eme==="anchor"&&Ff.anchor!=null&&!Vf.equals(Ff.anchor,x_.anchor)||eme==="focus"&&Ff.focus!=null&&!Vf.equals(Ff.focus,x_.focus)||eme!=="anchor"&&eme!=="focus"&&Ff[eme]!==x_[eme])&&($P[eme]=x_[eme],zP[eme]=Ff[eme]);Object.keys($P).length>0&&kh.apply({type:"set_selection",properties:$P,newProperties:zP})}}},gd={delete(kh){var Ff=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Bf.withoutNormalizing(kh,()=>{var{reverse:x_=!1,unit:$P="character",distance:zP=1,voids:eme=!1}=Ff,{at:tme=kh.selection,hanging:nme=!1}=Ff;if(tme){if(qf.isRange(tme)&&qf.isCollapsed(tme)&&(tme=tme.anchor),Vf.isPoint(tme)){var rme=Bf.void(kh,{at:tme,mode:"highest"});if(!eme&&rme){var[,ime]=rme;tme=ime}else{var ome={unit:$P,distance:zP};tme={anchor:tme,focus:x_?Bf.before(kh,tme,ome)||Bf.start(kh,[]):Bf.after(kh,tme,ome)||Bf.end(kh,[])},nme=!0}}if(Mf.isPath(tme))md.removeNodes(kh,{at:tme,voids:eme});else if(!qf.isCollapsed(tme)){if(!nme){var[,sme]=qf.edges(tme),ame=Bf.end(kh,[]);Vf.equals(sme,ame)||(tme=Bf.unhangRange(kh,tme,{voids:eme}))}var[lme,ume]=qf.edges(tme),dme=Bf.above(kh,{match:c_e=>Bf.isBlock(kh,c_e),at:lme,voids:eme}),pme=Bf.above(kh,{match:c_e=>Bf.isBlock(kh,c_e),at:ume,voids:eme}),hme=dme&&pme&&!Mf.equals(dme[1],pme[1]),cme=Mf.equals(lme.path,ume.path),_me=eme?null:Bf.void(kh,{at:lme,mode:"highest"}),vme=eme?null:Bf.void(kh,{at:ume,mode:"highest"});if(_me){var Eme=Bf.before(kh,lme);Eme&&dme&&Mf.isAncestor(dme[1],Eme.path)&&(lme=Eme)}if(vme){var wme=Bf.after(kh,ume);wme&&pme&&Mf.isAncestor(pme[1],wme.path)&&(ume=wme)}var Tme,Dme=[];for(var Ame of Bf.nodes(kh,{at:tme,voids:eme})){var[Nme,Ume]=Ame;Tme&&Mf.compare(Ume,Tme)===0||(!eme&&Bf.isVoid(kh,Nme)||!Mf.isCommon(Ume,lme.path)&&!Mf.isCommon(Ume,ume.path))&&(Dme.push(Ame),Tme=Ume)}var jme=Array.from(Dme,c_e=>{var[,f_e]=c_e;return Bf.pathRef(kh,f_e)}),Fme=Bf.pointRef(kh,lme),$me=Bf.pointRef(kh,ume);if(!cme&&!_me){var Gme=Fme.current,[Wme]=Bf.leaf(kh,Gme),{path:Jme}=Gme,{offset:r_e}=lme,o_e=Wme.text.slice(r_e);o_e.length>0&&kh.apply({type:"remove_text",path:Jme,offset:r_e,text:o_e})}for(var i_e of jme){var Mme=i_e.unref();md.removeNodes(kh,{at:Mme,voids:eme})}if(!vme){var Ome=$me.current,[Rme]=Bf.leaf(kh,Ome),{path:zme}=Ome,Zme=cme?lme.offset:0,Qme=Rme.text.slice(Zme,ume.offset);Qme.length>0&&kh.apply({type:"remove_text",path:zme,offset:Zme,text:Qme})}!cme&&hme&&$me.current&&Fme.current&&md.mergeNodes(kh,{at:$me.current,hanging:!0,voids:eme});var n_e=x_?Fme.unref()||$me.unref():$me.unref()||Fme.unref();Ff.at==null&&n_e&&md.select(kh,n_e)}}})},insertFragment(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf.withoutNormalizing(kh,()=>{var{hanging:$P=!1,voids:zP=!1}=x_,{at:eme=kh.selection}=x_;if(Ff.length&&eme){if(qf.isRange(eme))if($P||(eme=Bf.unhangRange(kh,eme)),qf.isCollapsed(eme))eme=eme.anchor;else{var[,tme]=qf.edges(eme);if(!zP&&Bf.void(kh,{at:tme}))return;var nme=Bf.pointRef(kh,tme);md.delete(kh,{at:eme}),eme=nme.unref()}else Mf.isPath(eme)&&(eme=Bf.start(kh,eme));if(zP||!Bf.void(kh,{at:eme})){var rme=Bf.above(kh,{at:eme,match:Ome=>Bf.isInline(kh,Ome),mode:"highest",voids:zP});if(rme){var[,ime]=rme;Bf.isEnd(kh,eme,ime)?eme=Bf.after(kh,ime):Bf.isStart(kh,eme,ime)&&(eme=Bf.before(kh,ime))}var ome=Bf.above(kh,{match:Ome=>Bf.isBlock(kh,Ome),at:eme,voids:zP}),[,sme]=ome,ame=Bf.isStart(kh,eme,sme),lme=Bf.isEnd(kh,eme,sme),ume=ame&&lme,dme=!ame||ame&&lme,pme=!lme,[,hme]=Nf.first({children:Ff},[]),[,cme]=Nf.last({children:Ff},[]),_me=[],vme=Ome=>{var[Rme,zme]=Ome;return zme.length!==0&&(!!ume||!(dme&&Mf.isAncestor(zme,hme)&&Sf.isElement(Rme)&&!kh.isVoid(Rme)&&!kh.isInline(Rme))&&!(pme&&Mf.isAncestor(zme,cme)&&Sf.isElement(Rme)&&!kh.isVoid(Rme)&&!kh.isInline(Rme)))};for(var Eme of Nf.nodes({children:Ff},{pass:vme}))vme(Eme)&&_me.push(Eme);var wme=[],Tme=[],Dme=[],Ame=!0,Nme=!1;for(var[Ume]of _me)Sf.isElement(Ume)&&!kh.isInline(Ume)?(Ame=!1,Nme=!0,Tme.push(Ume)):Ame?wme.push(Ume):Dme.push(Ume);var[jme]=Bf.nodes(kh,{at:eme,match:Ome=>ed.isText(Ome)||Bf.isInline(kh,Ome),mode:"highest",voids:zP}),[,Fme]=jme,$me=Bf.isStart(kh,eme,Fme),Gme=Bf.isEnd(kh,eme,Fme),Wme=Bf.pathRef(kh,lme?Mf.next(sme):sme),Jme=Bf.pathRef(kh,Gme?Mf.next(Fme):Fme),r_e=Bf.pathRef(kh,sme);md.splitNodes(kh,{at:eme,match:Ome=>Nme?Bf.isBlock(kh,Ome):ed.isText(Ome)||Bf.isInline(kh,Ome),mode:Nme?"lowest":"highest",voids:zP});var o_e=Bf.pathRef(kh,!$me||$me&&Gme?Mf.next(Fme):Fme);if(md.insertNodes(kh,wme,{at:o_e.current,match:Ome=>ed.isText(Ome)||Bf.isInline(kh,Ome),mode:"highest",voids:zP}),ume&&Tme.length&&md.delete(kh,{at:r_e.unref(),voids:zP}),md.insertNodes(kh,Tme,{at:Wme.current,match:Ome=>Bf.isBlock(kh,Ome),mode:"lowest",voids:zP}),md.insertNodes(kh,Dme,{at:Jme.current,match:Ome=>ed.isText(Ome)||Bf.isInline(kh,Ome),mode:"highest",voids:zP}),!x_.at){var i_e;i_e=Dme.length>0?Mf.previous(Jme.current):Tme.length>0?Mf.previous(Wme.current):Mf.previous(o_e.current);var Mme=Bf.end(kh,i_e);md.select(kh,Mme)}o_e.unref(),Wme.unref(),Jme.unref()}}})},insertText(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bf.withoutNormalizing(kh,()=>{var{voids:$P=!1}=x_,{at:zP=kh.selection}=x_;if(zP){if(Mf.isPath(zP)&&(zP=Bf.range(kh,zP)),qf.isRange(zP))if(qf.isCollapsed(zP))zP=zP.anchor;else{var eme=qf.end(zP);if(!$P&&Bf.void(kh,{at:eme}))return;var tme=Bf.pointRef(kh,eme);md.delete(kh,{at:zP,voids:$P}),zP=tme.unref(),md.setSelection(kh,{anchor:zP,focus:zP})}if($P||!Bf.void(kh,{at:zP})){var{path:nme,offset:rme}=zP;Ff.length>0&&kh.apply({type:"insert_text",path:nme,offset:rme,text:Ff})}}})}};function vd(kh,Ff){var x_=Object.keys(kh);if(Object.getOwnPropertySymbols){var $P=Object.getOwnPropertySymbols(kh);Ff&&($P=$P.filter(function(zP){return Object.getOwnPropertyDescriptor(kh,zP).enumerable})),x_.push.apply(x_,$P)}return x_}function yd(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?arguments[Ff]:{};Ff%2?vd(Object(x_),!0).forEach(function($P){Ic(kh,$P,x_[$P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(kh,Object.getOwnPropertyDescriptors(x_)):vd(Object(x_)).forEach(function($P){Object.defineProperty(kh,$P,Object.getOwnPropertyDescriptor(x_,$P))})}return kh}var md=yd(yd(yd(yd({},rd),sd),hd),gd),bd="[object Map]",wd="[object Set]",Ed=/^\[object .+?Constructor\]$/,Dd=/^(?:0|[1-9]\d*)$/,Sd="[\\ud800-\\udfff]",xd="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Cd="\\ud83c[\\udffb-\\udfff]",Ad="[^\\ud800-\\udfff]",Od="(?:\\ud83c[\\udde6-\\uddff]){2}",kd="[\\ud800-\\udbff][\\udc00-\\udfff]",Bd="(?:"+xd+"|"+Cd+")?",Fd="[\\ufe0e\\ufe0f]?"+Bd+("(?:\\u200d(?:"+[Ad,Od,kd].join("|")+")[\\ufe0e\\ufe0f]?"+Bd+")*"),Td="(?:"+[Ad+xd+"?",xd,Od,kd,Sd].join("|")+")",_d=RegExp(Cd+"(?="+Cd+")|"+Td+Fd,"g"),Pd=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),jd=typeof e=="object"&&e&&e.Object===Object&&e,Nd=typeof self=="object"&&self&&self.Object===Object&&self,Id=jd||Nd||Function("return this")();function Ld(kh,Ff){return function(x_,$P){for(var zP=-1,eme=x_?x_.length:0,tme=Array(eme);++zP<eme;)tme[zP]=$P(x_[zP],zP,x_);return tme}(Ff,function(x_){return kh[x_]})}function Rd(kh){var Ff=-1,x_=Array(kh.size);return kh.forEach(function($P,zP){x_[++Ff]=[zP,$P]}),x_}function Md(kh){var Ff=-1,x_=Array(kh.size);return kh.forEach(function($P){x_[++Ff]=$P}),x_}function zd(kh){return function(Ff){return Pd.test(Ff)}(kh)?function(Ff){return Ff.match(_d)||[]}(kh):function(Ff){return Ff.split("")}(kh)}var $d,Hd,Vd=Function.prototype,Ud=Object.prototype,Wd=Id["__core-js_shared__"],Gd=function(){var kh=/[^.]+$/.exec(Wd&&Wd.keys&&Wd.keys.IE_PROTO||"");return kh?"Symbol(src)_1."+kh:""}(),qd=Vd.toString,Kd=Ud.hasOwnProperty,Yd=Ud.toString,Xd=RegExp("^"+qd.call(Kd).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zd=Id.Symbol,Jd=Zd?Zd.iterator:void 0,Qd=Ud.propertyIsEnumerable,ep=($d=Object.keys,Hd=Object,function(kh){return $d(Hd(kh))}),tp=hp(Id,"DataView"),np=hp(Id,"Map"),rp=hp(Id,"Promise"),op=hp(Id,"Set"),ip=hp(Id,"WeakMap"),ap=yp(tp),up=yp(np),sp=yp(rp),lp=yp(op),cp=yp(ip);function fp(kh,Ff){var x_=mp(kh)||function(tme){return function(nme){return Dp(nme)&&bp(nme)}(tme)&&Kd.call(tme,"callee")&&(!Qd.call(tme,"callee")||Yd.call(tme)=="[object Arguments]")}(kh)?function(tme,nme){for(var rme=-1,ime=Array(tme);++rme<tme;)ime[rme]=nme(rme);return ime}(kh.length,String):[],$P=x_.length,zP=!!$P;for(var eme in kh)!Ff&&!Kd.call(kh,eme)||zP&&(eme=="length"||vp(eme,$P))||x_.push(eme);return x_}function dp(kh){if(!Ep(kh)||function(x_){return!!Gd&&Gd in x_}(kh))return!1;var Ff=wp(kh)||function(x_){var $P=!1;if(x_!=null&&typeof x_.toString!="function")try{$P=!!(x_+"")}catch(zP){}return $P}(kh)?Xd:Ed;return Ff.test(yp(kh))}function pp(kh){if(x_=(Ff=kh)&&Ff.constructor,$P=typeof x_=="function"&&x_.prototype||Ud,Ff!==$P)return ep(kh);var Ff,x_,$P,zP=[];for(var eme in Object(kh))Kd.call(kh,eme)&&eme!="constructor"&&zP.push(eme);return zP}function hp(kh,Ff){var x_=function($P,zP){return $P==null?void 0:$P[zP]}(kh,Ff);return dp(x_)?x_:void 0}var gp=function(kh){return Yd.call(kh)};function vp(kh,Ff){return!!(Ff=Ff==null?9007199254740991:Ff)&&(typeof kh=="number"||Dd.test(kh))&&kh>-1&&kh%1==0&&kh<Ff}function yp(kh){if(kh!=null){try{return qd.call(kh)}catch(Ff){}try{return kh+""}catch(Ff){}}return""}(tp&&gp(new tp(new ArrayBuffer(1)))!="[object DataView]"||np&&gp(new np)!=bd||rp&&gp(rp.resolve())!="[object Promise]"||op&&gp(new op)!=wd||ip&&gp(new ip)!="[object WeakMap]")&&(gp=function(kh){var Ff=Yd.call(kh),x_=Ff=="[object Object]"?kh.constructor:void 0,$P=x_?yp(x_):void 0;if($P)switch($P){case ap:return"[object DataView]";case up:return bd;case sp:return"[object Promise]";case lp:return wd;case cp:return"[object WeakMap]"}return Ff});var mp=Array.isArray;function bp(kh){return kh!=null&&function(Ff){return typeof Ff=="number"&&Ff>-1&&Ff%1==0&&Ff<=9007199254740991}(kh.length)&&!wp(kh)}function wp(kh){var Ff=Ep(kh)?Yd.call(kh):"";return Ff=="[object Function]"||Ff=="[object GeneratorFunction]"}function Ep(kh){var Ff=typeof kh;return!!kh&&(Ff=="object"||Ff=="function")}function Dp(kh){return!!kh&&typeof kh=="object"}function Sp(kh){return kh?Ld(kh,function(Ff){return bp(Ff)?fp(Ff):pp(Ff)}(kh)):[]}var xp=function(kh){if(!kh)return[];if(bp(kh))return function(x_){return typeof x_=="string"||!mp(x_)&&Dp(x_)&&Yd.call(x_)=="[object String]"}(kh)?zd(kh):function(x_,$P){var zP=-1,eme=x_.length;for($P||($P=Array(eme));++zP<eme;)$P[zP]=x_[zP];return $P}(kh);if(Jd&&kh[Jd])return function(x_){for(var $P,zP=[];!($P=x_.next()).done;)zP.push($P.value);return zP}(kh[Jd]());var Ff=gp(kh);return(Ff==bd?Rd:Ff==wd?Md:Sp)(kh)};function Cp(kh){return kh!==null&&typeof kh=="object"&&"constructor"in kh&&kh.constructor===Object}function Ap(kh,Ff){kh===void 0&&(kh={}),Ff===void 0&&(Ff={}),Object.keys(Ff).forEach(function(x_){kh[x_]===void 0?kh[x_]=Ff[x_]:Cp(Ff[x_])&&Cp(kh[x_])&&Object.keys(Ff[x_]).length>0&&Ap(kh[x_],Ff[x_])})}var Op={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function kp(){var kh=typeof document!="undefined"?document:{};return Ap(kh,Op),kh}var Bp={document:Op,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(kh){return typeof setTimeout=="undefined"?(kh(),null):setTimeout(kh,0)},cancelAnimationFrame:function(kh){typeof setTimeout!="undefined"&&clearTimeout(kh)}};function Fp(){var kh=typeof window!="undefined"?window:{};return Ap(kh,Bp),kh}function Tp(kh){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(Ff){return Ff.__proto__||Object.getPrototypeOf(Ff)},Tp(kh)}function _p(kh,Ff){return _p=Object.setPrototypeOf||function(x_,$P){return x_.__proto__=$P,x_},_p(kh,Ff)}function Pp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(kh){return!1}}function jp(kh,Ff,x_){return jp=Pp()?Reflect.construct:function($P,zP,eme){var tme=[null];tme.push.apply(tme,zP);var nme=new(Function.bind.apply($P,tme));return eme&&_p(nme,eme.prototype),nme},jp.apply(null,arguments)}function Np(kh){var Ff=typeof Map=="function"?new Map:void 0;return Np=function(x_){if(x_===null||!function(zP){return Function.toString.call(zP).indexOf("[native code]")!==-1}(x_))return x_;if(typeof x_!="function")throw new TypeError("Super expression must either be null or a function");if(Ff!==void 0){if(Ff.has(x_))return Ff.get(x_);Ff.set(x_,$P)}function $P(){return jp(x_,arguments,Tp(this).constructor)}return $P.prototype=Object.create(x_.prototype,{constructor:{value:$P,enumerable:!1,writable:!0,configurable:!0}}),_p($P,x_)},Np(kh)}var Ip=function(kh){var Ff,x_;function $P(zP){var eme,tme,nme;return eme=kh.call.apply(kh,[this].concat(zP))||this,tme=function(rme){if(rme===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rme}(eme),nme=tme.__proto__,Object.defineProperty(tme,"__proto__",{get:function(){return nme},set:function(rme){nme.__proto__=rme}}),eme}return x_=kh,(Ff=$P).prototype=Object.create(x_.prototype),Ff.prototype.constructor=Ff,Ff.__proto__=x_,$P}(Np(Array));function Lp(kh){kh===void 0&&(kh=[]);var Ff=[];return kh.forEach(function(x_){Array.isArray(x_)?Ff.push.apply(Ff,Lp(x_)):Ff.push(x_)}),Ff}function Rp(kh,Ff){return Array.prototype.filter.call(kh,Ff)}function Mp(kh,Ff){var x_=Fp(),$P=kp(),zP=[];if(!Ff&&kh instanceof Ip)return kh;if(!kh)return new Ip(zP);if(typeof kh=="string"){var eme=kh.trim();if(eme.indexOf("<")>=0&&eme.indexOf(">")>=0){var tme="div";eme.indexOf("<li")===0&&(tme="ul"),eme.indexOf("<tr")===0&&(tme="tbody"),eme.indexOf("<td")!==0&&eme.indexOf("<th")!==0||(tme="tr"),eme.indexOf("<tbody")===0&&(tme="table"),eme.indexOf("<option")===0&&(tme="select");var nme=$P.createElement(tme);nme.innerHTML=eme;for(var rme=0;rme<nme.childNodes.length;rme+=1)zP.push(nme.childNodes[rme])}else zP=function(ime,ome){if(typeof ime!="string")return[ime];for(var sme=[],ame=ome.querySelectorAll(ime),lme=0;lme<ame.length;lme+=1)sme.push(ame[lme]);return sme}(kh.trim(),Ff||$P)}else if(kh.nodeType||kh===x_||kh===$P)zP.push(kh);else if(Array.isArray(kh)){if(kh instanceof Ip)return kh;zP=kh}return new Ip(function(ime){for(var ome=[],sme=0;sme<ime.length;sme+=1)ome.indexOf(ime[sme])===-1&&ome.push(ime[sme]);return ome}(zP))}function zp(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];var $P=Lp(Ff.map(function(zP){return zP.split(" ")}));return this.forEach(function(zP){var eme;(eme=zP.classList).add.apply(eme,$P)}),this}function $p(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];var $P=Lp(Ff.map(function(zP){return zP.split(" ")}));return this.forEach(function(zP){var eme;(eme=zP.classList).remove.apply(eme,$P)}),this}function Hp(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];var $P=Lp(Ff.map(function(zP){return zP.split(" ")}));return Rp(this,function(zP){return $P.filter(function(eme){return zP.classList.contains(eme)}).length>0}).length>0}function Vp(kh,Ff){if(arguments.length===1&&typeof kh=="string")return this[0]?this[0].getAttribute(kh):void 0;for(var x_=0;x_<this.length;x_+=1)if(arguments.length===2)this[x_].setAttribute(kh,Ff);else for(var $P in kh)this[x_][$P]=kh[$P],this[x_].setAttribute($P,kh[$P]);return this}function Up(kh){for(var Ff=0;Ff<this.length;Ff+=1)this[Ff].removeAttribute(kh);return this}function Wp(){var kh=this[0];if(kh){var Ff,x_={};if(kh.dataset)for(var $P in kh.dataset)x_[$P]=kh.dataset[$P];else for(var zP=0;zP<kh.attributes.length;zP+=1){var eme=kh.attributes[zP];eme.name.indexOf("data-")>=0&&(x_[Ff=eme.name.split("data-")[1],Ff.toLowerCase().replace(/-(.)/g,function(nme,rme){return rme.toUpperCase()})]=eme.value)}for(var tme in x_)x_[tme]==="false"?x_[tme]=!1:x_[tme]==="true"?x_[tme]=!0:parseFloat(x_[tme])===1*x_[tme]&&(x_[tme]*=1);return x_}}function Gp(kh){if(kh===void 0){var Ff=this[0];if(!Ff)return;if(Ff.multiple&&Ff.nodeName.toLowerCase()==="select"){for(var x_=[],$P=0;$P<Ff.selectedOptions.length;$P+=1)x_.push(Ff.selectedOptions[$P].value);return x_}return Ff.value}for(var zP=0;zP<this.length;zP+=1){var eme=this[zP];if(Array.isArray(kh)&&eme.multiple&&eme.nodeName.toLowerCase()==="select")for(var tme=0;tme<eme.options.length;tme+=1)eme.options[tme].selected=kh.indexOf(eme.options[tme].value)>=0;else eme.value=kh}return this}function qp(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];var $P=Ff[0],zP=Ff[1],eme=Ff[2],tme=Ff[3];function nme(dme){var pme=dme.target;if(pme){var hme=dme.target.dom7EventData||[];if(hme.indexOf(dme)<0&&hme.unshift(dme),Mp(pme).is(zP))eme.apply(pme,hme);else for(var cme=Mp(pme).parents(),_me=0;_me<cme.length;_me+=1)Mp(cme[_me]).is(zP)&&eme.apply(cme[_me],hme)}}function rme(dme){var pme=dme&&dme.target&&dme.target.dom7EventData||[];pme.indexOf(dme)<0&&pme.unshift(dme),eme.apply(this,pme)}typeof Ff[1]=="function"&&($P=Ff[0],eme=Ff[1],tme=Ff[2],zP=void 0),tme||(tme=!1);for(var ime,ome=$P.split(" "),sme=0;sme<this.length;sme+=1){var ame=this[sme];if(zP)for(ime=0;ime<ome.length;ime+=1){var lme=ome[ime];ame.dom7LiveListeners||(ame.dom7LiveListeners={}),ame.dom7LiveListeners[lme]||(ame.dom7LiveListeners[lme]=[]),ame.dom7LiveListeners[lme].push({listener:eme,proxyListener:nme}),ame.addEventListener(lme,nme,tme)}else for(ime=0;ime<ome.length;ime+=1){var ume=ome[ime];ame.dom7Listeners||(ame.dom7Listeners={}),ame.dom7Listeners[ume]||(ame.dom7Listeners[ume]=[]),ame.dom7Listeners[ume].push({listener:eme,proxyListener:rme}),ame.addEventListener(ume,rme,tme)}}return this}function Kp(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];var $P=Ff[0],zP=Ff[1],eme=Ff[2],tme=Ff[3];typeof Ff[1]=="function"&&($P=Ff[0],eme=Ff[1],tme=Ff[2],zP=void 0),tme||(tme=!1);for(var nme=$P.split(" "),rme=0;rme<nme.length;rme+=1)for(var ime=nme[rme],ome=0;ome<this.length;ome+=1){var sme=this[ome],ame=void 0;if(!zP&&sme.dom7Listeners?ame=sme.dom7Listeners[ime]:zP&&sme.dom7LiveListeners&&(ame=sme.dom7LiveListeners[ime]),ame&&ame.length)for(var lme=ame.length-1;lme>=0;lme-=1){var ume=ame[lme];eme&&ume.listener===eme||eme&&ume.listener&&ume.listener.dom7proxy&&ume.listener.dom7proxy===eme?(sme.removeEventListener(ime,ume.proxyListener,tme),ame.splice(lme,1)):eme||(sme.removeEventListener(ime,ume.proxyListener,tme),ame.splice(lme,1))}}return this}function Yp(){var kh=Fp();return this[0]===kh?kh.innerWidth:this.length>0?parseFloat(this.css("width")):null}function Xp(){var kh=Fp();return this[0]===kh?kh.innerHeight:this.length>0?parseFloat(this.css("height")):null}function Zp(){if(this.length>0){var kh=Fp(),Ff=kp(),x_=this[0],$P=x_.getBoundingClientRect(),zP=Ff.body,eme=x_.clientTop||zP.clientTop||0,tme=x_.clientLeft||zP.clientLeft||0,nme=x_===kh?kh.scrollY:x_.scrollTop,rme=x_===kh?kh.scrollX:x_.scrollLeft;return{top:$P.top+nme-eme,left:$P.left+rme-tme}}return null}function Jp(){for(var kh=0;kh<this.length;kh+=1)this[kh].style.display="none";return this}function Qp(){for(var kh=Fp(),Ff=0;Ff<this.length;Ff+=1){var x_=this[Ff];x_.style.display==="none"&&(x_.style.display=""),kh.getComputedStyle(x_,null).getPropertyValue("display")==="none"&&(x_.style.display="block")}return this}function eh(kh,Ff){var x_,$P=Fp();if(arguments.length===1){if(typeof kh!="string"){for(x_=0;x_<this.length;x_+=1)for(var zP in kh)this[x_].style[zP]=kh[zP];return this}if(this[0])return $P.getComputedStyle(this[0],null).getPropertyValue(kh)}if(arguments.length===2&&typeof kh=="string"){for(x_=0;x_<this.length;x_+=1)this[x_].style[kh]=Ff;return this}return this}function th(kh){return kh?(this.forEach(function(Ff,x_){kh.apply(Ff,[Ff,x_])}),this):this}function nh(kh){return Mp(Rp(this,kh))}function rh(kh){if(kh===void 0)return this[0]?this[0].innerHTML:null;for(var Ff=0;Ff<this.length;Ff+=1)this[Ff].innerHTML=kh;return this}function oh(kh){if(kh===void 0)return this[0]?this[0].textContent.trim():null;for(var Ff=0;Ff<this.length;Ff+=1)this[Ff].textContent=kh;return this}function ih(kh){var Ff,x_,$P=Fp(),zP=kp(),eme=this[0];if(!eme||kh===void 0)return!1;if(typeof kh=="string"){if(eme.matches)return eme.matches(kh);if(eme.webkitMatchesSelector)return eme.webkitMatchesSelector(kh);if(eme.msMatchesSelector)return eme.msMatchesSelector(kh);for(Ff=Mp(kh),x_=0;x_<Ff.length;x_+=1)if(Ff[x_]===eme)return!0;return!1}if(kh===zP)return eme===zP;if(kh===$P)return eme===$P;if(kh.nodeType||kh instanceof Ip){for(Ff=kh.nodeType?[kh]:kh,x_=0;x_<Ff.length;x_+=1)if(Ff[x_]===eme)return!0;return!1}return!1}function ah(){for(var kh,Ff=kp(),x_=0;x_<arguments.length;x_+=1){kh=x_<0||arguments.length<=x_?void 0:arguments[x_];for(var $P=0;$P<this.length;$P+=1)if(typeof kh=="string"){var zP=Ff.createElement("div");for(zP.innerHTML=kh;zP.firstChild;)this[$P].appendChild(zP.firstChild)}else if(kh instanceof Ip)for(var eme=0;eme<kh.length;eme+=1)this[$P].appendChild(kh[eme]);else this[$P].appendChild(kh)}return this}function uh(kh){var Ff,x_,$P=kp();for(Ff=0;Ff<this.length;Ff+=1)if(typeof kh=="string"){var zP=$P.createElement("div");for(zP.innerHTML=kh,x_=zP.childNodes.length-1;x_>=0;x_-=1)this[Ff].insertBefore(zP.childNodes[x_],this[Ff].childNodes[0])}else if(kh instanceof Ip)for(x_=0;x_<kh.length;x_+=1)this[Ff].insertBefore(kh[x_],this[Ff].childNodes[0]);else this[Ff].insertBefore(kh,this[Ff].childNodes[0]);return this}function sh(kh){for(var Ff=[],x_=0;x_<this.length;x_+=1)this[x_].parentNode!==null&&(kh?Mp(this[x_].parentNode).is(kh)&&Ff.push(this[x_].parentNode):Ff.push(this[x_].parentNode));return Mp(Ff)}function lh(kh){for(var Ff=[],x_=0;x_<this.length;x_+=1)for(var $P=this[x_].parentNode;$P;)kh?Mp($P).is(kh)&&Ff.push($P):Ff.push($P),$P=$P.parentNode;return Mp(Ff)}function ch(kh){for(var Ff=[],x_=0;x_<this.length;x_+=1)for(var $P=this[x_].querySelectorAll(kh),zP=0;zP<$P.length;zP+=1)Ff.push($P[zP]);return Mp(Ff)}function fh(kh){for(var Ff=[],x_=0;x_<this.length;x_+=1)for(var $P=this[x_].children,zP=0;zP<$P.length;zP+=1)kh&&!Mp($P[zP]).is(kh)||Ff.push($P[zP]);return Mp(Ff)}function dh(){for(var kh=0;kh<this.length;kh+=1)this[kh].parentNode&&this[kh].parentNode.removeChild(this[kh]);return this}function ph(){for(var kh=0;kh<this.length;kh+=1){var Ff=this[kh];if(Ff.nodeType===1){for(var x_=0;x_<Ff.childNodes.length;x_+=1)Ff.childNodes[x_].parentNode&&Ff.childNodes[x_].parentNode.removeChild(Ff.childNodes[x_]);Ff.textContent=""}}return this}Mp.fn=Ip.prototype;var hh="resize scroll".split(" ");function gh(kh){return function(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];if(x_[0]===void 0){for(var zP=0;zP<this.length;zP+=1)hh.indexOf(kh)<0&&(kh in this[zP]?this[zP][kh]():Mp(this[zP]).trigger(kh));return this}return this.on.apply(this,[kh].concat(x_))}}var vh=gh("click"),yh=gh("focus"),mh="[object GeneratorFunction]",bh=/^(?:0|[1-9]\d*)$/;function wh(kh,Ff){for(var x_=-1,$P=kh?kh.length:0;++x_<$P&&Ff(kh[x_],x_,kh)!==!1;);return kh}var Eh=Object.prototype,Dh=Eh.hasOwnProperty,Sh=Eh.toString,xh=Eh.propertyIsEnumerable,Ch=function(kh,Ff){return function(x_){return kh(Ff(x_))}}(Object.keys,Object);function Ah(kh,Ff){var x_=Ph(kh)||function(tme){return function(nme){return function(rme){return!!rme&&typeof rme=="object"}(nme)&&jh(nme)}(tme)&&Dh.call(tme,"callee")&&(!xh.call(tme,"callee")||Sh.call(tme)=="[object Arguments]")}(kh)?function(tme,nme){for(var rme=-1,ime=Array(tme);++rme<tme;)ime[rme]=nme(rme);return ime}(kh.length,String):[],$P=x_.length,zP=!!$P;for(var eme in kh)!Ff&&!Dh.call(kh,eme)||zP&&(eme=="length"||_h(eme,$P))||x_.push(eme);return x_}var Oh,Bh=(Oh=function(kh,Ff){return kh&&Fh(kh,Ff,Nh)},function(kh,Ff){if(kh==null)return kh;if(!jh(kh))return Oh(kh,Ff);for(var x_=kh.length,$P=-1,zP=Object(kh);++$P<x_&&Ff(zP[$P],$P,zP)!==!1;);return kh}),Fh=function(kh){return function(Ff,x_,$P){for(var zP=-1,eme=Object(Ff),tme=$P(Ff),nme=tme.length;nme--;){var rme=tme[kh?nme:++zP];if(x_(eme[rme],rme,eme)===!1)break}return Ff}}();function Th(kh){if(x_=(Ff=kh)&&Ff.constructor,$P=typeof x_=="function"&&x_.prototype||Eh,Ff!==$P)return Ch(kh);var Ff,x_,$P,zP=[];for(var eme in Object(kh))Dh.call(kh,eme)&&eme!="constructor"&&zP.push(eme);return zP}function _h(kh,Ff){return!!(Ff=Ff==null?9007199254740991:Ff)&&(typeof kh=="number"||bh.test(kh))&&kh>-1&&kh%1==0&&kh<Ff}var Ph=Array.isArray;function jh(kh){return kh!=null&&function(Ff){return typeof Ff=="number"&&Ff>-1&&Ff%1==0&&Ff<=9007199254740991}(kh.length)&&!function(Ff){var x_=function($P){var zP=typeof $P;return!!$P&&(zP=="object"||zP=="function")}(Ff)?Sh.call(Ff):"";return x_=="[object Function]"||x_==mh}(kh)}function Nh(kh){return jh(kh)?Ah(kh):Th(kh)}function Ih(kh){return kh}var Lh=function(kh,Ff){return(Ph(kh)?wh:Bh)(kh,typeof Ff=="function"?Ff:Ih)};let Rh=(kh=21)=>{let Ff="",x_=crypto.getRandomValues(new Uint8Array(kh));for(;kh--;){let $P=63&x_[kh];Ff+=$P<36?$P.toString(36):$P<62?($P-26).toString(36).toUpperCase():$P<63?"_":"-"}return Ff};var Mh=/^\s+|\s+$/g,zh=/^[-+]0x[0-9a-f]+$/i,$h=/^0b[01]+$/i,Hh=/^0o[0-7]+$/i,Vh=parseInt,Uh=typeof e=="object"&&e&&e.Object===Object&&e,Wh=typeof self=="object"&&self&&self.Object===Object&&self,Gh=Uh||Wh||Function("return this")(),qh=Object.prototype.toString,Kh=Math.max,Yh=Math.min,Xh=function(){return Gh.Date.now()};function Zh(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime=0,ome=!1,sme=!1,ame=!0;if(typeof kh!="function")throw new TypeError("Expected a function");function lme(_me){var vme=$P,Eme=zP;return $P=zP=void 0,ime=_me,tme=kh.apply(Eme,vme)}function ume(_me){return ime=_me,nme=setTimeout(pme,Ff),ome?lme(_me):tme}function dme(_me){var vme=_me-rme;return rme===void 0||vme>=Ff||vme<0||sme&&_me-ime>=eme}function pme(){var _me=Xh();if(dme(_me))return hme(_me);nme=setTimeout(pme,function(vme){var Eme=Ff-(vme-rme);return sme?Yh(Eme,eme-(vme-ime)):Eme}(_me))}function hme(_me){return nme=void 0,ame&&$P?lme(_me):($P=zP=void 0,tme)}function cme(){var _me=Xh(),vme=dme(_me);if($P=arguments,zP=this,rme=_me,vme){if(nme===void 0)return ume(rme);if(sme)return nme=setTimeout(pme,Ff),lme(rme)}return nme===void 0&&(nme=setTimeout(pme,Ff)),tme}return Ff=Qh(Ff)||0,Jh(x_)&&(ome=!!x_.leading,eme=(sme="maxWait"in x_)?Kh(Qh(x_.maxWait)||0,Ff):eme,ame="trailing"in x_?!!x_.trailing:ame),cme.cancel=function(){nme!==void 0&&clearTimeout(nme),ime=0,$P=rme=zP=nme=void 0},cme.flush=function(){return nme===void 0?tme:hme(Xh())},cme}function Jh(kh){var Ff=typeof kh;return!!kh&&(Ff=="object"||Ff=="function")}function Qh(kh){if(typeof kh=="number")return kh;if(function($P){return typeof $P=="symbol"||function(zP){return!!zP&&typeof zP=="object"}($P)&&qh.call($P)=="[object Symbol]"}(kh))return NaN;if(Jh(kh)){var Ff=typeof kh.valueOf=="function"?kh.valueOf():kh;kh=Jh(Ff)?Ff+"":Ff}if(typeof kh!="string")return kh===0?kh:+kh;kh=kh.replace(Mh,"");var x_=$h.test(kh);return x_||Hh.test(kh)?Vh(kh.slice(2),x_?2:8):zh.test(kh)?NaN:+kh}var eg=function(kh,Ff,x_){var $P=!0,zP=!0;if(typeof kh!="function")throw new TypeError("Expected a function");return Jh(x_)&&($P="leading"in x_?!!x_.leading:$P,zP="trailing"in x_?!!x_.trailing:zP),Zh(kh,Ff,{leading:$P,maxWait:Ff,trailing:zP})};const tg={createElement:function(kh,Ff){return document.createElement(kh,Ff)},createElementNS:function(kh,Ff,x_){return document.createElementNS(kh,Ff,x_)},createTextNode:function(kh){return document.createTextNode(kh)},createComment:function(kh){return document.createComment(kh)},insertBefore:function(kh,Ff,x_){kh.insertBefore(Ff,x_)},removeChild:function(kh,Ff){kh.removeChild(Ff)},appendChild:function(kh,Ff){kh.appendChild(Ff)},parentNode:function(kh){return kh.parentNode},nextSibling:function(kh){return kh.nextSibling},tagName:function(kh){return kh.tagName},setTextContent:function(kh,Ff){kh.textContent=Ff},getTextContent:function(kh){return kh.textContent},isElement:function(kh){return kh.nodeType===1},isText:function(kh){return kh.nodeType===3},isComment:function(kh){return kh.nodeType===8}};function ng(kh,Ff,x_,$P,zP){return{sel:kh,data:Ff,children:x_,text:$P,elm:zP,key:Ff===void 0?void 0:Ff.key}}const rg=Array.isArray;function og(kh){return typeof kh=="string"||typeof kh=="number"||kh instanceof String||kh instanceof Number}function ig(kh){return kh===void 0}function ag(kh){return kh!==void 0}const ug=ng("",{},[],void 0,void 0);function sg(kh,Ff){var x_,$P;const zP=kh.key===Ff.key,eme=((x_=kh.data)===null||x_===void 0?void 0:x_.is)===(($P=Ff.data)===null||$P===void 0?void 0:$P.is);return kh.sel===Ff.sel&&zP&&eme}function lg(kh,Ff,x_){var $P;const zP={};for(let eme=Ff;eme<=x_;++eme){const tme=($P=kh[eme])===null||$P===void 0?void 0:$P.key;tme!==void 0&&(zP[tme]=eme)}return zP}const cg=["create","update","remove","destroy","pre","post"];function fg(kh,Ff){const x_={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},$P=Ff!==void 0?Ff:tg;for(const sme of cg)for(const ame of kh){const lme=ame[sme];lme!==void 0&&x_[sme].push(lme)}function zP(sme){const ame=sme.id?"#"+sme.id:"",lme=sme.getAttribute("class"),ume=lme?"."+lme.split(" ").join("."):"";return ng($P.tagName(sme).toLowerCase()+ame+ume,{},[],void 0,sme)}function eme(sme,ame){return function(){if(--ame==0){const lme=$P.parentNode(sme);$P.removeChild(lme,sme)}}}function tme(sme,ame){var lme,ume;let dme,pme=sme.data;if(pme!==void 0){const _me=(lme=pme.hook)===null||lme===void 0?void 0:lme.init;ag(_me)&&(_me(sme),pme=sme.data)}const hme=sme.children,cme=sme.sel;if(cme==="!")ig(sme.text)&&(sme.text=""),sme.elm=$P.createComment(sme.text);else if(cme!==void 0){const _me=cme.indexOf("#"),vme=cme.indexOf(".",_me),Eme=_me>0?_me:cme.length,wme=vme>0?vme:cme.length,Tme=_me!==-1||vme!==-1?cme.slice(0,Math.min(Eme,wme)):cme,Dme=sme.elm=ag(pme)&&ag(dme=pme.ns)?$P.createElementNS(dme,Tme,pme):$P.createElement(Tme,pme);for(Eme<wme&&Dme.setAttribute("id",cme.slice(Eme+1,wme)),vme>0&&Dme.setAttribute("class",cme.slice(wme+1).replace(/\./g," ")),dme=0;dme<x_.create.length;++dme)x_.create[dme](ug,sme);if(rg(hme))for(dme=0;dme<hme.length;++dme){const Nme=hme[dme];Nme!=null&&$P.appendChild(Dme,tme(Nme,ame))}else og(sme.text)&&$P.appendChild(Dme,$P.createTextNode(sme.text));const Ame=sme.data.hook;ag(Ame)&&((ume=Ame.create)===null||ume===void 0||ume.call(Ame,ug,sme),Ame.insert&&ame.push(sme))}else sme.elm=$P.createTextNode(sme.text);return sme.elm}function nme(sme,ame,lme,ume,dme,pme){for(;ume<=dme;++ume){const hme=lme[ume];hme!=null&&$P.insertBefore(sme,tme(hme,pme),ame)}}function rme(sme){var ame,lme;const ume=sme.data;if(ume!==void 0){(lme=(ame=ume==null?void 0:ume.hook)===null||ame===void 0?void 0:ame.destroy)===null||lme===void 0||lme.call(ame,sme);for(let dme=0;dme<x_.destroy.length;++dme)x_.destroy[dme](sme);if(sme.children!==void 0)for(let dme=0;dme<sme.children.length;++dme){const pme=sme.children[dme];pme!=null&&typeof pme!="string"&&rme(pme)}}}function ime(sme,ame,lme,ume){for(var dme,pme;lme<=ume;++lme){let hme,cme;const _me=ame[lme];if(_me!=null)if(ag(_me.sel)){rme(_me),hme=x_.remove.length+1,cme=eme(_me.elm,hme);for(let Eme=0;Eme<x_.remove.length;++Eme)x_.remove[Eme](_me,cme);const vme=(pme=(dme=_me==null?void 0:_me.data)===null||dme===void 0?void 0:dme.hook)===null||pme===void 0?void 0:pme.remove;ag(vme)?vme(_me,cme):cme()}else $P.removeChild(sme,_me.elm)}}function ome(sme,ame,lme){var ume,dme,pme,hme,cme;const _me=(ume=ame.data)===null||ume===void 0?void 0:ume.hook;(dme=_me==null?void 0:_me.prepatch)===null||dme===void 0||dme.call(_me,sme,ame);const vme=ame.elm=sme.elm,Eme=sme.children,wme=ame.children;if(sme!==ame){if(ame.data!==void 0){for(let Tme=0;Tme<x_.update.length;++Tme)x_.update[Tme](sme,ame);(hme=(pme=ame.data.hook)===null||pme===void 0?void 0:pme.update)===null||hme===void 0||hme.call(pme,sme,ame)}ig(ame.text)?ag(Eme)&&ag(wme)?Eme!==wme&&function(Tme,Dme,Ame,Nme){let Ume,jme,Fme,$me,Gme=0,Wme=0,Jme=Dme.length-1,r_e=Dme[0],o_e=Dme[Jme],i_e=Ame.length-1,Mme=Ame[0],Ome=Ame[i_e];for(;Gme<=Jme&&Wme<=i_e;)r_e==null?r_e=Dme[++Gme]:o_e==null?o_e=Dme[--Jme]:Mme==null?Mme=Ame[++Wme]:Ome==null?Ome=Ame[--i_e]:sg(r_e,Mme)?(ome(r_e,Mme,Nme),r_e=Dme[++Gme],Mme=Ame[++Wme]):sg(o_e,Ome)?(ome(o_e,Ome,Nme),o_e=Dme[--Jme],Ome=Ame[--i_e]):sg(r_e,Ome)?(ome(r_e,Ome,Nme),$P.insertBefore(Tme,r_e.elm,$P.nextSibling(o_e.elm)),r_e=Dme[++Gme],Ome=Ame[--i_e]):sg(o_e,Mme)?(ome(o_e,Mme,Nme),$P.insertBefore(Tme,o_e.elm,r_e.elm),o_e=Dme[--Jme],Mme=Ame[++Wme]):(Ume===void 0&&(Ume=lg(Dme,Gme,Jme)),jme=Ume[Mme.key],ig(jme)?$P.insertBefore(Tme,tme(Mme,Nme),r_e.elm):(Fme=Dme[jme],Fme.sel!==Mme.sel?$P.insertBefore(Tme,tme(Mme,Nme),r_e.elm):(ome(Fme,Mme,Nme),Dme[jme]=void 0,$P.insertBefore(Tme,Fme.elm,r_e.elm))),Mme=Ame[++Wme]);(Gme<=Jme||Wme<=i_e)&&(Gme>Jme?($me=Ame[i_e+1]==null?null:Ame[i_e+1].elm,nme(Tme,$me,Ame,Wme,i_e,Nme)):ime(Tme,Dme,Gme,Jme))}(vme,Eme,wme,lme):ag(wme)?(ag(sme.text)&&$P.setTextContent(vme,""),nme(vme,null,wme,0,wme.length-1,lme)):ag(Eme)?ime(vme,Eme,0,Eme.length-1):ag(sme.text)&&$P.setTextContent(vme,""):sme.text!==ame.text&&(ag(Eme)&&ime(vme,Eme,0,Eme.length-1),$P.setTextContent(vme,ame.text)),(cme=_me==null?void 0:_me.postpatch)===null||cme===void 0||cme.call(_me,sme,ame)}}return function(sme,ame){let lme,ume,dme;const pme=[];for(lme=0;lme<x_.pre.length;++lme)x_.pre[lme]();for(function(hme){return hme.sel!==void 0}(sme)||(sme=zP(sme)),sg(sme,ame)?ome(sme,ame,pme):(ume=sme.elm,dme=$P.parentNode(ume),tme(ame,pme),dme!==null&&($P.insertBefore(dme,ame.elm,$P.nextSibling(ume)),ime(dme,[sme],0,0))),lme=0;lme<pme.length;++lme)pme[lme].data.hook.insert(pme[lme]);for(lme=0;lme<x_.post.length;++lme)x_.post[lme]();return ame}}function dg(kh,Ff,x_){if(kh.ns="http://www.w3.org/2000/svg",x_!=="foreignObject"&&Ff!==void 0)for(let $P=0;$P<Ff.length;++$P){const zP=Ff[$P].data;zP!==void 0&&dg(zP,Ff[$P].children,Ff[$P].sel)}}function pg(kh,Ff,x_){let $P,zP,eme,tme={};if(x_!==void 0?(Ff!==null&&(tme=Ff),rg(x_)?$P=x_:og(x_)?zP=x_.toString():x_&&x_.sel&&($P=[x_])):Ff!=null&&(rg(Ff)?$P=Ff:og(Ff)?zP=Ff.toString():Ff&&Ff.sel?$P=[Ff]:tme=Ff),$P!==void 0)for(eme=0;eme<$P.length;++eme)og($P[eme])&&($P[eme]=ng(void 0,void 0,void 0,$P[eme],void 0));return kh[0]!=="s"||kh[1]!=="v"||kh[2]!=="g"||kh.length!==3&&kh[3]!=="."&&kh[3]!=="#"||dg(tme,$P,kh),ng(kh,tme,$P,zP,void 0)}function hg(kh,Ff){let x_;const $P=Ff.elm;let zP=kh.data.attrs,eme=Ff.data.attrs;if((zP||eme)&&zP!==eme){for(x_ in zP=zP||{},eme=eme||{},eme){const tme=eme[x_];zP[x_]!==tme&&(tme===!0?$P.setAttribute(x_,""):tme===!1?$P.removeAttribute(x_):x_.charCodeAt(0)!==120?$P.setAttribute(x_,tme):x_.charCodeAt(3)===58?$P.setAttributeNS("http://www.w3.org/XML/1998/namespace",x_,tme):x_.charCodeAt(5)===58?$P.setAttributeNS("http://www.w3.org/1999/xlink",x_,tme):$P.setAttribute(x_,tme))}for(x_ in zP)x_ in eme||$P.removeAttribute(x_)}}const gg={create:hg,update:hg};function vg(kh,Ff){let x_,$P;const zP=Ff.elm;let eme=kh.data.class,tme=Ff.data.class;if((eme||tme)&&eme!==tme){for($P in eme=eme||{},tme=tme||{},eme)eme[$P]&&!Object.prototype.hasOwnProperty.call(tme,$P)&&zP.classList.remove($P);for($P in tme)x_=tme[$P],x_!==eme[$P]&&zP.classList[x_?"add":"remove"]($P)}}const yg={create:vg,update:vg},mg=/[A-Z]/g;function bg(kh,Ff){const x_=Ff.elm;let $P,zP=kh.data.dataset,eme=Ff.data.dataset;if(!zP&&!eme||zP===eme)return;zP=zP||{},eme=eme||{};const tme=x_.dataset;for($P in zP)eme[$P]||(tme?$P in tme&&delete tme[$P]:x_.removeAttribute("data-"+$P.replace(mg,"-$&").toLowerCase()));for($P in eme)zP[$P]!==eme[$P]&&(tme?tme[$P]=eme[$P]:x_.setAttribute("data-"+$P.replace(mg,"-$&").toLowerCase(),eme[$P]))}const wg={create:bg,update:bg};function Eg(kh,Ff,x_){if(typeof kh=="function")kh.call(Ff,x_,Ff);else if(typeof kh=="object")for(let $P=0;$P<kh.length;$P++)Eg(kh[$P],Ff,x_)}function Dg(kh,Ff){const x_=kh.type,$P=Ff.data.on;$P&&$P[x_]&&Eg($P[x_],Ff,kh)}function Sg(kh,Ff){const x_=kh.data.on,$P=kh.listener,zP=kh.elm,eme=Ff&&Ff.data.on,tme=Ff&&Ff.elm;let nme;if(x_!==eme){if(x_&&$P)if(eme)for(nme in x_)eme[nme]||zP.removeEventListener(nme,$P,!1);else for(nme in x_)zP.removeEventListener(nme,$P,!1);if(eme){const rme=Ff.listener=kh.listener||function ime(ome){Dg(ome,ime.vnode)};if(rme.vnode=Ff,x_)for(nme in eme)x_[nme]||tme.addEventListener(nme,rme,!1);else for(nme in eme)tme.addEventListener(nme,rme,!1)}}}const xg={create:Sg,update:Sg,destroy:Sg};function Cg(kh,Ff){let x_,$P,zP;const eme=Ff.elm;let tme=kh.data.props,nme=Ff.data.props;if((tme||nme)&&tme!==nme)for(x_ in tme=tme||{},nme=nme||{},nme)$P=nme[x_],zP=tme[x_],zP===$P||x_==="value"&&eme[x_]===$P||(eme[x_]=$P)}const Ag={create:Cg,update:Cg},Og=typeof window!="undefined"&&window.requestAnimationFrame.bind(window)||setTimeout;let kg=!1;function Bg(kh,Ff,x_){(function($P){Og(function(){Og($P)})})(function(){kh[Ff]=x_})}function Fg(kh,Ff){let x_,$P;const zP=Ff.elm;let eme=kh.data.style,tme=Ff.data.style;if(!eme&&!tme||eme===tme)return;eme=eme||{},tme=tme||{};const nme="delayed"in eme;for($P in eme)tme[$P]||($P[0]==="-"&&$P[1]==="-"?zP.style.removeProperty($P):zP.style[$P]="");for($P in tme)if(x_=tme[$P],$P==="delayed"&&tme.delayed)for(const rme in tme.delayed)x_=tme.delayed[rme],nme&&x_===eme.delayed[rme]||Bg(zP.style,rme,x_);else $P!=="remove"&&x_!==eme[$P]&&($P[0]==="-"&&$P[1]==="-"?zP.style.setProperty($P,x_):zP.style[$P]=x_)}const Tg={pre:function(){kg=!1},create:Fg,update:Fg,destroy:function(kh){let Ff,x_;const $P=kh.elm,zP=kh.data.style;if(zP&&(Ff=zP.destroy))for(x_ in Ff)$P.style[x_]=Ff[x_]},remove:function(kh,Ff){const x_=kh.data.style;if(!x_||!x_.remove)return void Ff();let $P;kg||(kh.elm.offsetLeft,kg=!0);const zP=kh.elm;let eme=0;const tme=x_.remove;let nme=0;const rme=[];for($P in tme)rme.push($P),zP.style[$P]=tme[$P];const ime=getComputedStyle(zP)["transition-property"].split(", ");for(;eme<ime.length;++eme)rme.indexOf(ime[eme])!==-1&&nme++;zP.addEventListener("transitionend",function(ome){ome.target===zP&&--nme,nme===0&&Ff()})}};function _g(kh,Ff){for(const x_ of kh)x_!=null&&x_!==!1&&x_!==""&&(Array.isArray(x_)?_g(x_,Ff):typeof x_=="string"||typeof x_=="number"||typeof x_=="boolean"?Ff.push(ng(void 0,void 0,void 0,String(x_),void 0)):Ff.push(x_));return Ff}function Pg(kh,Ff,...x_){const $P=_g(x_,[]);return typeof kh=="function"?kh(Ff,$P):$P.length===1&&!$P[0].sel&&$P[0].text?pg(kh,Ff,$P[0].text):pg(kh,Ff,$P)}Pg||(Pg={});var jg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ng=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ig="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lg="[\\ud800-\\udfff]",Rg="["+Ig+"]",Mg="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",zg="\\d+",$g="[\\u2700-\\u27bf]",Hg="[a-z\\xdf-\\xf6\\xf8-\\xff]",Vg="[^\\ud800-\\udfff"+Ig+zg+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ug="\\ud83c[\\udffb-\\udfff]",Wg="[^\\ud800-\\udfff]",Gg="(?:\\ud83c[\\udde6-\\uddff]){2}",qg="[\\ud800-\\udbff][\\udc00-\\udfff]",Kg="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Yg="(?:"+Hg+"|"+Vg+")",Xg="(?:"+Kg+"|"+Vg+")",Zg="(?:"+Mg+"|"+Ug+")?",Jg="[\\ufe0e\\ufe0f]?"+Zg+("(?:\\u200d(?:"+[Wg,Gg,qg].join("|")+")[\\ufe0e\\ufe0f]?"+Zg+")*"),Qg="(?:"+[$g,Gg,qg].join("|")+")"+Jg,ev="(?:"+[Wg+Mg+"?",Mg,Gg,qg,Lg].join("|")+")",tv=RegExp("['’]","g"),nv=RegExp(Mg,"g"),rv=RegExp(Ug+"(?="+Ug+")|"+ev+Jg,"g"),ov=RegExp([Kg+"?"+Hg+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Rg,Kg,"$"].join("|")+")",Xg+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Rg,Kg+Yg,"$"].join("|")+")",Kg+"?"+Yg+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Kg+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",zg,Qg].join("|"),"g"),iv=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),av=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uv=typeof e=="object"&&e&&e.Object===Object&&e,sv=typeof self=="object"&&self&&self.Object===Object&&self,lv=uv||sv||Function("return this")(),cv,fv=(cv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(kh){return cv==null?void 0:cv[kh]});function dv(kh){return iv.test(kh)}function pv(kh){return dv(kh)?function(Ff){return Ff.match(rv)||[]}(kh):function(Ff){return Ff.split("")}(kh)}var hv=Object.prototype.toString,gv=lv.Symbol,vv=gv?gv.prototype:void 0,yv=vv?vv.toString:void 0;function mv(kh){if(typeof kh=="string")return kh;if(function(x_){return typeof x_=="symbol"||function($P){return!!$P&&typeof $P=="object"}(x_)&&hv.call(x_)=="[object Symbol]"}(kh))return yv?yv.call(kh):"";var Ff=kh+"";return Ff=="0"&&1/kh==-1/0?"-0":Ff}function bv(kh,Ff,x_){var $P=kh.length;return x_=x_===void 0?$P:x_,!Ff&&x_>=$P?kh:function(zP,eme,tme){var nme=-1,rme=zP.length;eme<0&&(eme=-eme>rme?0:rme+eme),(tme=tme>rme?rme:tme)<0&&(tme+=rme),rme=eme>tme?0:tme-eme>>>0,eme>>>=0;for(var ime=Array(rme);++nme<rme;)ime[nme]=zP[nme+eme];return ime}(kh,Ff,x_)}function wv(kh){return kh==null?"":mv(kh)}var Ev,Dv=(Ev=function(kh,Ff,x_){return Ff=Ff.toLowerCase(),kh+(x_?xv(wv(Ff).toLowerCase()):Ff)},function(kh){return function(Ff,x_,$P,zP){var eme=-1,tme=Ff?Ff.length:0;for(zP&&tme&&($P=Ff[++eme]);++eme<tme;)$P=x_($P,Ff[eme],eme,Ff);return $P}(function(Ff,x_,$P){return Ff=wv(Ff),(x_=$P?void 0:x_)===void 0?function(zP){return av.test(zP)}(Ff)?function(zP){return zP.match(ov)||[]}(Ff):function(zP){return zP.match(jg)||[]}(Ff):Ff.match(x_)||[]}(function(Ff){return(Ff=wv(Ff))&&Ff.replace(Ng,fv).replace(nv,"")}(kh).replace(tv,"")),Ev,"")}),Sv,xv=(Sv="toUpperCase",function(kh){var Ff=dv(kh=wv(kh))?pv(kh):void 0,x_=Ff?Ff[0]:kh.charAt(0),$P=Ff?bv(Ff,1).join(""):kh.slice(1);return x_[Sv]()+$P});for(var Cv=Dv,Av=typeof window!="undefined"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Ov={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},kv={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Av?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Bv={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},Fv=1;Fv<20;Fv++)Bv["f"+Fv]=111+Fv;function Tv(kh,Ff,x_){Ff&&!("byKey"in Ff)&&(x_=Ff,Ff=null),Array.isArray(kh)||(kh=[kh]);var $P=kh.map(function(eme){return function(tme,nme){var rme=nme&&nme.byKey,ime={},ome=(tme=tme.replace("++","+add")).split("+"),sme=ome.length;for(var ame in Ov)ime[Ov[ame]]=!1;var lme=!0,ume=!1,dme=void 0;try{for(var pme,hme=ome[Symbol.iterator]();!(lme=(pme=hme.next()).done);lme=!0){var cme=pme.value,_me=cme.endsWith("?")&&cme.length>1;_me&&(cme=cme.slice(0,-1));var vme=Pv(cme),Eme=Ov[vme];if(cme.length>1&&!Eme&&!kv[cme]&&!Bv[vme])throw new TypeError('Unknown modifier: "'+cme+'"');sme!==1&&Eme||(rme?ime.key=vme:ime.which=_v(cme)),Eme&&(ime[Eme]=!_me||null)}}catch(wme){ume=!0,dme=wme}finally{try{!lme&&hme.return&&hme.return()}finally{if(ume)throw dme}}return ime}(eme,Ff)}),zP=function(eme){return $P.some(function(tme){return function(nme,rme){for(var ime in nme){var ome=nme[ime],sme=void 0;if(ome!=null&&((sme=ime==="key"&&rme.key!=null?rme.key.toLowerCase():ime==="which"?ome===91&&rme.which===93?91:rme.which:rme[ime])!=null||ome!==!1)&&sme!==ome)return!1}return!0}(tme,eme)})};return x_==null?zP:zP(x_)}function _v(kh){return kh=Pv(kh),Bv[kh]||kh.toUpperCase().charCodeAt(0)}function Pv(kh){return kh=kh.toLowerCase(),kh=kv[kh]||kh}var jv=Tv,Nv=function(kh,Ff){return Tv(kh,{byKey:!0},Ff)},Iv=/^\s+|\s+$/g,Lv=/^[-+]0x[0-9a-f]+$/i,Rv=/^0b[01]+$/i,Mv=/^0o[0-7]+$/i,zv=parseInt,$v=typeof e=="object"&&e&&e.Object===Object&&e,Hv=typeof self=="object"&&self&&self.Object===Object&&self,Vv=$v||Hv||Function("return this")(),Uv=Object.prototype.toString,Wv=Math.max,Gv=Math.min,qv=function(){return Vv.Date.now()};function Kv(kh){var Ff=typeof kh;return!!kh&&(Ff=="object"||Ff=="function")}function Yv(kh){if(typeof kh=="number")return kh;if(function($P){return typeof $P=="symbol"||function(zP){return!!zP&&typeof zP=="object"}($P)&&Uv.call($P)=="[object Symbol]"}(kh))return NaN;if(Kv(kh)){var Ff=typeof kh.valueOf=="function"?kh.valueOf():kh;kh=Kv(Ff)?Ff+"":Ff}if(typeof kh!="string")return kh===0?kh:+kh;kh=kh.replace(Iv,"");var x_=Rv.test(kh);return x_||Mv.test(kh)?zv(kh.slice(2),x_?2:8):Lv.test(kh)?NaN:+kh}var Xv,Zv=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime=0,ome=!1,sme=!1,ame=!0;if(typeof kh!="function")throw new TypeError("Expected a function");function lme(_me){var vme=$P,Eme=zP;return $P=zP=void 0,ime=_me,tme=kh.apply(Eme,vme)}function ume(_me){return ime=_me,nme=setTimeout(pme,Ff),ome?lme(_me):tme}function dme(_me){var vme=_me-rme;return rme===void 0||vme>=Ff||vme<0||sme&&_me-ime>=eme}function pme(){var _me=qv();if(dme(_me))return hme(_me);nme=setTimeout(pme,function(vme){var Eme=Ff-(vme-rme);return sme?Gv(Eme,eme-(vme-ime)):Eme}(_me))}function hme(_me){return nme=void 0,ame&&$P?lme(_me):($P=zP=void 0,tme)}function cme(){var _me=qv(),vme=dme(_me);if($P=arguments,zP=this,rme=_me,vme){if(nme===void 0)return ume(rme);if(sme)return nme=setTimeout(pme,Ff),lme(rme)}return nme===void 0&&(nme=setTimeout(pme,Ff)),tme}return Ff=Yv(Ff)||0,Kv(x_)&&(ome=!!x_.leading,eme=(sme="maxWait"in x_)?Wv(Yv(x_.maxWait)||0,Ff):eme,ame="trailing"in x_?!!x_.trailing:ame),cme.cancel=function(){nme!==void 0&&clearTimeout(nme),ime=0,$P=rme=zP=nme=void 0},cme.flush=function(){return nme===void 0?tme:hme(qv())},cme},Jv=n(function(kh,Ff){var x_="__lodash_hash_undefined__",$P=9007199254740991,zP="[object Arguments]",eme="[object Boolean]",tme="[object Date]",nme="[object Function]",rme="[object GeneratorFunction]",ime="[object Map]",ome="[object Number]",sme="[object Object]",ame="[object Promise]",lme="[object RegExp]",ume="[object Set]",dme="[object String]",pme="[object Symbol]",hme="[object WeakMap]",cme="[object ArrayBuffer]",_me="[object DataView]",vme="[object Float32Array]",Eme="[object Float64Array]",wme="[object Int8Array]",Tme="[object Int16Array]",Dme="[object Int32Array]",Ame="[object Uint8Array]",Nme="[object Uint8ClampedArray]",Ume="[object Uint16Array]",jme="[object Uint32Array]",Fme=/\w*$/,$me=/^\[object .+?Constructor\]$/,Gme=/^(?:0|[1-9]\d*)$/,Wme={};Wme[zP]=Wme["[object Array]"]=Wme[cme]=Wme[_me]=Wme[eme]=Wme[tme]=Wme[vme]=Wme[Eme]=Wme[wme]=Wme[Tme]=Wme[Dme]=Wme[ime]=Wme[ome]=Wme[sme]=Wme[lme]=Wme[ume]=Wme[dme]=Wme[pme]=Wme[Ame]=Wme[Nme]=Wme[Ume]=Wme[jme]=!0,Wme["[object Error]"]=Wme[nme]=Wme[hme]=!1;var Jme=typeof e=="object"&&e&&e.Object===Object&&e,r_e=typeof self=="object"&&self&&self.Object===Object&&self,o_e=Jme||r_e||Function("return this")(),i_e=Ff&&!Ff.nodeType&&Ff,Mme=i_e&&kh&&!kh.nodeType&&kh,Ome=Mme&&Mme.exports===i_e;function Rme(Ime,Vme){return Ime.set(Vme[0],Vme[1]),Ime}function zme(Ime,Vme){return Ime.add(Vme),Ime}function Zme(Ime,Vme,t_e,a_e){var D_e=-1,L_e=Ime?Ime.length:0;for(a_e&&L_e&&(t_e=Ime[++D_e]);++D_e<L_e;)t_e=Vme(t_e,Ime[D_e],D_e,Ime);return t_e}function Qme(Ime){var Vme=!1;if(Ime!=null&&typeof Ime.toString!="function")try{Vme=!!(Ime+"")}catch(t_e){}return Vme}function n_e(Ime){var Vme=-1,t_e=Array(Ime.size);return Ime.forEach(function(a_e,D_e){t_e[++Vme]=[D_e,a_e]}),t_e}function c_e(Ime,Vme){return function(t_e){return Ime(Vme(t_e))}}function f_e(Ime){var Vme=-1,t_e=Array(Ime.size);return Ime.forEach(function(a_e){t_e[++Vme]=a_e}),t_e}var h_e=Array.prototype,Xme=Function.prototype,x_e=Object.prototype,g_e=o_e["__core-js_shared__"],u_e=function(){var Ime=/[^.]+$/.exec(g_e&&g_e.keys&&g_e.keys.IE_PROTO||"");return Ime?"Symbol(src)_1."+Ime:""}(),__e=Xme.toString,F_e=x_e.hasOwnProperty,k_e=x_e.toString,C_e=RegExp("^"+__e.call(F_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B_e=Ome?o_e.Buffer:void 0,y_e=o_e.Symbol,A_e=o_e.Uint8Array,X_e=c_e(Object.getPrototypeOf,Object),d0e=Object.create,s0e=x_e.propertyIsEnumerable,O0e=h_e.splice,E0e=Object.getOwnPropertySymbols,e0e=B_e?B_e.isBuffer:void 0,a0e=c_e(Object.keys,Object),y0e=r0e(o_e,"DataView"),V_e=r0e(o_e,"Map"),z_e=r0e(o_e,"Promise"),w_e=r0e(o_e,"Set"),J_e=r0e(o_e,"WeakMap"),U_e=r0e(Object,"create"),l0e=K_e(y0e),V0e=K_e(V_e),k0e=K_e(z_e),x0e=K_e(w_e),$0e=K_e(J_e),R0e=y_e?y_e.prototype:void 0,q0e=R0e?R0e.valueOf:void 0;function f0e(Ime){var Vme=-1,t_e=Ime?Ime.length:0;for(this.clear();++Vme<t_e;){var a_e=Ime[Vme];this.set(a_e[0],a_e[1])}}function u0e(Ime){var Vme=-1,t_e=Ime?Ime.length:0;for(this.clear();++Vme<t_e;){var a_e=Ime[Vme];this.set(a_e[0],a_e[1])}}function w0e(Ime){var Vme=-1,t_e=Ime?Ime.length:0;for(this.clear();++Vme<t_e;){var a_e=Ime[Vme];this.set(a_e[0],a_e[1])}}function p0e(Ime){this.__data__=new u0e(Ime)}function T0e(Ime,Vme){var t_e=Bme(Ime)||function(M_e){return function(O_e){return function($_e){return!!$_e&&typeof $_e=="object"}(O_e)&&Hme(O_e)}(M_e)&&F_e.call(M_e,"callee")&&(!s0e.call(M_e,"callee")||k_e.call(M_e)==zP)}(Ime)?function(M_e,O_e){for(var $_e=-1,G_e=Array(M_e);++$_e<M_e;)G_e[$_e]=O_e($_e);return G_e}(Ime.length,String):[],a_e=t_e.length,D_e=!!a_e;for(var L_e in Ime)!Vme&&!F_e.call(Ime,L_e)||D_e&&(L_e=="length"||lye(L_e,a_e))||t_e.push(L_e);return t_e}function sye(Ime,Vme,t_e){var a_e=Ime[Vme];F_e.call(Ime,Vme)&&L0e(a_e,t_e)&&(t_e!==void 0||Vme in Ime)||(Ime[Vme]=t_e)}function n0e(Ime,Vme){for(var t_e=Ime.length;t_e--;)if(L0e(Ime[t_e][0],Vme))return t_e;return-1}function z0e(Ime,Vme,t_e,a_e,D_e,L_e,M_e){var O_e;if(a_e&&(O_e=L_e?a_e(Ime,D_e,L_e,M_e):a_e(Ime)),O_e!==void 0)return O_e;if(!I_e(Ime))return Ime;var $_e=Bme(Ime);if($_e){if(O_e=function(d_e){var P_e=d_e.length,N_e=d_e.constructor(P_e);return P_e&&typeof d_e[0]=="string"&&F_e.call(d_e,"index")&&(N_e.index=d_e.index,N_e.input=d_e.input),N_e}(Ime),!Vme)return function(d_e,P_e){var N_e=-1,E_e=d_e.length;for(P_e||(P_e=Array(E_e));++N_e<E_e;)P_e[N_e]=d_e[N_e];return P_e}(Ime,O_e)}else{var G_e=v0e(Ime),N0e=G_e==nme||G_e==rme;if(e_e(Ime))return function(d_e,P_e){if(P_e)return d_e.slice();var N_e=new d_e.constructor(d_e.length);return d_e.copy(N_e),N_e}(Ime,Vme);if(G_e==sme||G_e==zP||N0e&&!L_e){if(Qme(Ime))return L_e?Ime:{};if(O_e=function(d_e){return typeof d_e.constructor!="function"||m0e(d_e)?{}:(P_e=X_e(d_e),I_e(P_e)?d0e(P_e):{});var P_e}(N0e?{}:Ime),!Vme)return function(d_e,P_e){return G0e(d_e,H_e(d_e),P_e)}(Ime,function(d_e,P_e){return d_e&&G0e(P_e,m_e(P_e),d_e)}(O_e,Ime))}else{if(!Wme[G_e])return L_e?Ime:{};O_e=function(d_e,P_e,N_e,E_e){var T_e=d_e.constructor;switch(P_e){case cme:return W0e(d_e);case eme:case tme:return new T_e(+d_e);case _me:return function(S_e,j_e){var Y_e=j_e?W0e(S_e.buffer):S_e.buffer;return new S_e.constructor(Y_e,S_e.byteOffset,S_e.byteLength)}(d_e,E_e);case vme:case Eme:case wme:case Tme:case Dme:case Ame:case Nme:case Ume:case jme:return function(S_e,j_e){var Y_e=j_e?W0e(S_e.buffer):S_e.buffer;return new S_e.constructor(Y_e,S_e.byteOffset,S_e.length)}(d_e,E_e);case ime:return function(S_e,j_e,Y_e){return Zme(j_e?Y_e(n_e(S_e),!0):n_e(S_e),Rme,new S_e.constructor)}(d_e,E_e,N_e);case ome:case dme:return new T_e(d_e);case lme:return function(S_e){var j_e=new S_e.constructor(S_e.source,Fme.exec(S_e));return j_e.lastIndex=S_e.lastIndex,j_e}(d_e);case ume:return function(S_e,j_e,Y_e){return Zme(j_e?Y_e(f_e(S_e),!0):f_e(S_e),zme,new S_e.constructor)}(d_e,E_e,N_e);case pme:return function(S_e){return q0e?Object(q0e.call(S_e)):{}}(d_e)}}(Ime,G_e,z0e,Vme)}}M_e||(M_e=new p0e);var D0e=M_e.get(Ime);if(D0e)return D0e;if(M_e.set(Ime,O_e),!$_e)var g0e=t_e?function(d_e){return function(P_e,N_e,E_e){var T_e=N_e(P_e);return Bme(P_e)?T_e:function(S_e,j_e){for(var Y_e=-1,t0e=j_e.length,_0e=S_e.length;++Y_e<t0e;)S_e[_0e+Y_e]=j_e[Y_e];return S_e}(T_e,E_e(P_e))}(d_e,m_e,H_e)}(Ime):m_e(Ime);return function(d_e,P_e){for(var N_e=-1,E_e=d_e?d_e.length:0;++N_e<E_e&&P_e(d_e[N_e],N_e,d_e)!==!1;);}(g0e||Ime,function(d_e,P_e){g0e&&(d_e=Ime[P_e=d_e]),sye(O_e,P_e,z0e(d_e,Vme,t_e,a_e,P_e,Ime,M_e))}),O_e}function S0e(Ime){return!(!I_e(Ime)||function(Vme){return!!u_e&&u_e in Vme}(Ime))&&(l_e(Ime)||Qme(Ime)?C_e:$me).test(K_e(Ime))}function W0e(Ime){var Vme=new Ime.constructor(Ime.byteLength);return new A_e(Vme).set(new A_e(Ime)),Vme}function G0e(Ime,Vme,t_e,a_e){t_e||(t_e={});for(var D_e=-1,L_e=Vme.length;++D_e<L_e;){var M_e=Vme[D_e],O_e=a_e?a_e(t_e[M_e],Ime[M_e],M_e,t_e,Ime):void 0;sye(t_e,M_e,O_e===void 0?Ime[M_e]:O_e)}return t_e}function h0e(Ime,Vme){var t_e,a_e,D_e=Ime.__data__;return((a_e=typeof(t_e=Vme))=="string"||a_e=="number"||a_e=="symbol"||a_e=="boolean"?t_e!=="__proto__":t_e===null)?D_e[typeof Vme=="string"?"string":"hash"]:D_e.map}function r0e(Ime,Vme){var t_e=function(a_e,D_e){return a_e==null?void 0:a_e[D_e]}(Ime,Vme);return S0e(t_e)?t_e:void 0}f0e.prototype.clear=function(){this.__data__=U_e?U_e(null):{}},f0e.prototype.delete=function(Ime){return this.has(Ime)&&delete this.__data__[Ime]},f0e.prototype.get=function(Ime){var Vme=this.__data__;if(U_e){var t_e=Vme[Ime];return t_e===x_?void 0:t_e}return F_e.call(Vme,Ime)?Vme[Ime]:void 0},f0e.prototype.has=function(Ime){var Vme=this.__data__;return U_e?Vme[Ime]!==void 0:F_e.call(Vme,Ime)},f0e.prototype.set=function(Ime,Vme){return this.__data__[Ime]=U_e&&Vme===void 0?x_:Vme,this},u0e.prototype.clear=function(){this.__data__=[]},u0e.prototype.delete=function(Ime){var Vme=this.__data__,t_e=n0e(Vme,Ime);return!(t_e<0)&&(t_e==Vme.length-1?Vme.pop():O0e.call(Vme,t_e,1),!0)},u0e.prototype.get=function(Ime){var Vme=this.__data__,t_e=n0e(Vme,Ime);return t_e<0?void 0:Vme[t_e][1]},u0e.prototype.has=function(Ime){return n0e(this.__data__,Ime)>-1},u0e.prototype.set=function(Ime,Vme){var t_e=this.__data__,a_e=n0e(t_e,Ime);return a_e<0?t_e.push([Ime,Vme]):t_e[a_e][1]=Vme,this},w0e.prototype.clear=function(){this.__data__={hash:new f0e,map:new(V_e||u0e),string:new f0e}},w0e.prototype.delete=function(Ime){return h0e(this,Ime).delete(Ime)},w0e.prototype.get=function(Ime){return h0e(this,Ime).get(Ime)},w0e.prototype.has=function(Ime){return h0e(this,Ime).has(Ime)},w0e.prototype.set=function(Ime,Vme){return h0e(this,Ime).set(Ime,Vme),this},p0e.prototype.clear=function(){this.__data__=new u0e},p0e.prototype.delete=function(Ime){return this.__data__.delete(Ime)},p0e.prototype.get=function(Ime){return this.__data__.get(Ime)},p0e.prototype.has=function(Ime){return this.__data__.has(Ime)},p0e.prototype.set=function(Ime,Vme){var t_e=this.__data__;if(t_e instanceof u0e){var a_e=t_e.__data__;if(!V_e||a_e.length<199)return a_e.push([Ime,Vme]),this;t_e=this.__data__=new w0e(a_e)}return t_e.set(Ime,Vme),this};var H_e=E0e?c_e(E0e,Object):function(){return[]},v0e=function(Ime){return k_e.call(Ime)};function lye(Ime,Vme){return!!(Vme=Vme==null?$P:Vme)&&(typeof Ime=="number"||Gme.test(Ime))&&Ime>-1&&Ime%1==0&&Ime<Vme}function m0e(Ime){var Vme=Ime&&Ime.constructor;return Ime===(typeof Vme=="function"&&Vme.prototype||x_e)}function K_e(Ime){if(Ime!=null){try{return __e.call(Ime)}catch(Vme){}try{return Ime+""}catch(Vme){}}return""}function L0e(Ime,Vme){return Ime===Vme||Ime!=Ime&&Vme!=Vme}(y0e&&v0e(new y0e(new ArrayBuffer(1)))!=_me||V_e&&v0e(new V_e)!=ime||z_e&&v0e(z_e.resolve())!=ame||w_e&&v0e(new w_e)!=ume||J_e&&v0e(new J_e)!=hme)&&(v0e=function(Ime){var Vme=k_e.call(Ime),t_e=Vme==sme?Ime.constructor:void 0,a_e=t_e?K_e(t_e):void 0;if(a_e)switch(a_e){case l0e:return _me;case V0e:return ime;case k0e:return ame;case x0e:return ume;case $0e:return hme}return Vme});var Bme=Array.isArray;function Hme(Ime){return Ime!=null&&function(Vme){return typeof Vme=="number"&&Vme>-1&&Vme%1==0&&Vme<=$P}(Ime.length)&&!l_e(Ime)}var e_e=e0e||function(){return!1};function l_e(Ime){var Vme=I_e(Ime)?k_e.call(Ime):"";return Vme==nme||Vme==rme}function I_e(Ime){var Vme=typeof Ime;return!!Ime&&(Vme=="object"||Vme=="function")}function m_e(Ime){return Hme(Ime)?T0e(Ime):function(Vme){if(!m0e(Vme))return a0e(Vme);var t_e=[];for(var a_e in Object(Vme))F_e.call(Vme,a_e)&&a_e!="constructor"&&t_e.push(a_e);return t_e}(Ime)}kh.exports=function(Ime){return z0e(Ime,!0,!0)}});function Qv(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var ey=0;function ty(kh){return"__private_"+ey+++"_"+kh}function ny(kh,Ff,x_){const $P=[];return kh.forEach(zP=>typeof zP!="string"?$P.push(zP):Ff[Symbol.split](zP).forEach((eme,tme,nme)=>{eme!==""&&$P.push(eme),tme<nme.length-1&&$P.push(x_)})),$P}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */function ry(kh,Ff){const x_=/\$/g;let $P=[kh];if(Ff==null)return $P;for(const zP of Object.keys(Ff))if(zP!=="_"){let eme=Ff[zP];typeof eme=="string"&&(eme=x_[Symbol.replace](eme,"$$$$")),$P=ny($P,new RegExp(`%\\{${zP}\\}`,"g"),eme)}return $P}var oy=(Xv=ty("apply"),class{constructor(kh){Object.defineProperty(this,Xv,{value:iy}),this.locale={strings:{},pluralize:Ff=>Ff===1?0:1},Array.isArray(kh)?kh.forEach(Qv(this,Xv)[Xv],this):Qv(this,Xv)[Xv](kh)}translate(kh,Ff){return this.translateArray(kh,Ff).join("")}translateArray(kh,Ff){if(!function($P,zP){return Object.prototype.hasOwnProperty.call($P,zP)}(this.locale.strings,kh))throw new Error(`missing string: ${kh}`);const x_=this.locale.strings[kh];if(typeof x_=="object"){if(Ff&&Ff.smart_count!==void 0)return ry(x_[this.locale.pluralize(Ff.smart_count)],Ff);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return ry(x_,Ff)}});function iy(kh){if(kh==null||!kh.strings)return;const Ff=this.locale;this.locale=b_e(qme({},Ff),{strings:qme(qme({},Ff.strings),kh.strings)}),this.locale.pluralize=kh.pluralize||Ff.pluralize}var ay=function(){var kh={},Ff=kh._fns={};return kh.emit=function(x_,$P,zP,eme,tme,nme,rme){var ime=function(ome){for(var sme=Ff[ome]?Ff[ome]:[],ame=ome.indexOf(":"),lme=ame===-1?[ome]:[ome.substring(0,ame),ome.substring(ame+1)],ume=Object.keys(Ff),dme=0,pme=ume.length;dme<pme;dme++){var hme=ume[dme];if(hme==="*"&&(sme=sme.concat(Ff[hme])),lme.length===2&&lme[0]===hme){sme=sme.concat(Ff[hme]);break}}return sme}(x_);ime.length&&function(ome,sme,ame){for(var lme=0,ume=sme.length;lme<ume&&sme[lme];lme++)sme[lme].event=ome,sme[lme].apply(sme[lme],ame)}(x_,ime,[$P,zP,eme,tme,nme,rme])},kh.on=function(x_,$P){Ff[x_]||(Ff[x_]=[]),Ff[x_].push($P)},kh.once=function(x_,$P){this.on(x_,function zP(){$P.apply(this,arguments),kh.off(x_,zP)})},kh.off=function(x_,$P){var zP=[];if(x_&&$P)for(var eme=this._fns[x_],tme=0,nme=eme?eme.length:0;tme<nme;tme++)eme[tme]!==$P&&zP.push(eme[tme]);zP.length?this._fns[x_]=zP:delete this._fns[x_]},kh},uy={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"};let{urlAlphabet:sy}=uy,ly=kh=>crypto.getRandomValues(new Uint8Array(kh)),cy=(kh,Ff,x_)=>{let $P=(2<<Math.log(kh.length-1)/Math.LN2)-1,zP=-~(1.6*$P*Ff/kh.length);return()=>{let eme="";for(;;){let tme=x_(zP),nme=zP;for(;nme--;)if(eme+=kh[tme[nme]&$P]||"",eme.length===Ff)return eme}}};var fy={nanoid:(kh=21)=>{let Ff="",x_=crypto.getRandomValues(new Uint8Array(kh));for(;kh--;){let $P=63&x_[kh];Ff+=$P<36?$P.toString(36):$P<62?($P-26).toString(36).toUpperCase():$P<63?"_":"-"}return Ff},customAlphabet:(kh,Ff)=>cy(kh,Ff,ly),customRandom:cy,urlAlphabet:sy,random:ly},dy=function(kh){if(typeof kh!="number"||isNaN(kh))throw new TypeError("Expected a number, got "+typeof kh);var Ff=kh<0,x_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(Ff&&(kh=-kh),kh<1)return(Ff?"-":"")+kh+" B";var $P=Math.min(Math.floor(Math.log(kh)/Math.log(1024)),x_.length-1);kh=Number(kh/Math.pow(1024,$P));var zP=x_[$P];return kh>=10||kh%1==0?(Ff?"-":"")+kh.toFixed(0)+" "+zP:(Ff?"-":"")+kh.toFixed(1)+" "+zP};function py(kh,Ff){this.text=kh=kh||"",this.hasWild=~kh.indexOf("*"),this.separator=Ff,this.parts=kh.split(Ff)}py.prototype.match=function(kh){var Ff,x_,$P=!0,zP=this.parts,eme=zP.length;if(typeof kh=="string"||kh instanceof String)if(this.hasWild||this.text==kh){for(x_=(kh||"").split(this.separator),Ff=0;$P&&Ff<eme;Ff++)zP[Ff]!=="*"&&($P=Ff<x_.length&&zP[Ff]===x_[Ff]);$P=$P&&x_}else $P=!1;else if(typeof kh.splice=="function")for($P=[],Ff=kh.length;Ff--;)this.match(kh[Ff])&&($P[$P.length]=kh[Ff]);else if(typeof kh=="object")for(var tme in $P={},kh)this.match(tme)&&($P[tme]=kh[tme]);return $P};var hy=/[\/\+\.]/,gy=function(kh,Ff){function x_($P){var zP=function(eme,tme,nme){var rme=new py(eme,nme||/[\/\.]/);return tme!==void 0?rme.match(tme):rme}($P,kh,hy);return zP&&zP.length>=2}return Ff?x_(Ff.split(";")[0]):x_},vy=0;function yy(kh){return"__private_"+vy+++"_"+kh}var my=yy("publish");class by{constructor(){Object.defineProperty(this,my,{value:wy}),this.state={},this.callbacks=[]}getState(){return this.state}setState(Ff){const x_=qme({},this.state),$P=qme(qme({},this.state),Ff);this.state=$P,function(zP,eme){if(!Object.prototype.hasOwnProperty.call(zP,eme))throw new TypeError("attempted to use private field on non-instance");return zP}(this,my)[my](x_,$P,Ff)}subscribe(Ff){return this.callbacks.push(Ff),()=>{this.callbacks.splice(this.callbacks.indexOf(Ff),1)}}}function wy(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];this.callbacks.forEach($P=>{$P(...Ff)})}by.VERSION="2.0.3";var Ey=function(kh){const Ff=kh.lastIndexOf(".");return Ff===-1||Ff===kh.length-1?{name:kh,extension:void 0}:{name:kh.slice(0,Ff),extension:kh.slice(Ff+1)}},Dy={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Sy(kh){let Ff="";return kh.replace(/[^A-Z0-9]/gi,x_=>(Ff+=`-${function($P){return $P.charCodeAt(0).toString(32)}(x_)}`,"/"))+Ff}var xy=function(kh){if(kh==null&&(kh=typeof navigator!="undefined"?navigator.userAgent:null),!kh)return!0;const Ff=/Edge\/(\d+\.\d+)/.exec(kh);if(!Ff)return!0;const x_=Ff[1];let[$P,zP]=x_.split(".");return $P=parseInt($P,10),zP=parseInt(zP,10),$P<15||$P===15&&zP<15063||$P>18||$P===18&&zP>=18218};function Cy(kh){return kh<10?`0${kh}`:kh.toString()}var Ay=function(){const kh=new Date;return`${Cy(kh.getHours())}:${Cy(kh.getMinutes())}:${Cy(kh.getSeconds())}`},Oy={justErrorsLogger:{debug:()=>{},warn:()=>{},error:function(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];return console.error(`[Uppy] [${Ay()}]`,...Ff)}},debugLogger:{debug:function(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];return console.debug(`[Uppy] [${Ay()}]`,...Ff)},warn:function(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];return console.warn(`[Uppy] [${Ay()}]`,...Ff)},error:function(){for(var kh=arguments.length,Ff=new Array(kh),x_=0;x_<kh;x_++)Ff[x_]=arguments[x_];return console.error(`[Uppy] [${Ay()}]`,...Ff)}}},ky={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},By=fy;let Fy,Ty;function _y(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var Py=0;function jy(kh){return"__private_"+Py+++"_"+kh}const{nanoid:Ny}=By,{justErrorsLogger:Iy,debugLogger:Ly}=Oy;class Ry extends Error{constructor(){super(...arguments),this.isRestriction=!0}}typeof AggregateError=="undefined"&&(globalThis.AggregateError=class extends Error{constructor(kh,Ff){super(Ff),this.errors=kh}});class My extends AggregateError{constructor(){super(...arguments),this.isRestriction=!0}}var zy=jy("plugins"),$y=jy("storeUnsubscribe"),Hy=jy("emitter"),Vy=jy("preProcessors"),Uy=jy("uploaders"),Wy=jy("postProcessors"),Gy=jy("checkRestrictions"),qy=jy("checkMinNumberOfFiles"),Ky=jy("checkRequiredMetaFieldsOnFile"),Yy=jy("checkRequiredMetaFields"),Xy=jy("showOrLogErrorAndThrow"),Zy=jy("assertNewUploadAllowed"),Jy=jy("checkAndCreateFileStateObject"),Qy=jy("startIfAutoProceed"),em=jy("addListeners"),tm=jy("updateOnlineStatus"),nm=jy("createUpload"),rm=jy("getUpload"),om=jy("removeUpload"),im=jy("runUpload");Fy=Symbol.for("uppy test: getPlugins"),Ty=Symbol.for("uppy test: createUpload");class am{constructor(Ff){Object.defineProperty(this,im,{value:bm}),Object.defineProperty(this,om,{value:mm}),Object.defineProperty(this,rm,{value:ym}),Object.defineProperty(this,nm,{value:vm}),Object.defineProperty(this,em,{value:gm}),Object.defineProperty(this,Qy,{value:hm}),Object.defineProperty(this,Jy,{value:pm}),Object.defineProperty(this,Zy,{value:dm}),Object.defineProperty(this,Xy,{value:fm}),Object.defineProperty(this,Yy,{value:cm}),Object.defineProperty(this,Ky,{value:lm}),Object.defineProperty(this,qy,{value:sm}),Object.defineProperty(this,Gy,{value:um}),Object.defineProperty(this,zy,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,$y,{writable:!0,value:void 0}),Object.defineProperty(this,Hy,{writable:!0,value:ay()}),Object.defineProperty(this,Vy,{writable:!0,value:new Set}),Object.defineProperty(this,Uy,{writable:!0,value:new Set}),Object.defineProperty(this,Wy,{writable:!0,value:new Set}),Object.defineProperty(this,tm,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=ky;const x_={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},meta:{},onBeforeFileAdded:$P=>$P,onBeforeUpload:$P=>$P,store:new by,logger:Iy,infoTimeout:5e3};if(this.opts=b_e(qme(qme({},x_),Ff),{restrictions:qme(qme({},x_.restrictions),Ff&&Ff.restrictions)}),Ff&&Ff.logger&&Ff.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):Ff&&Ff.debug&&(this.opts.logger=Ly),this.log(`Using Core v${this.constructor.VERSION}`),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.calculateProgress=eg(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:xy(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:qme({},this.opts.meta),info:[],recoveredState:null}),_y(this,$y)[$y]=this.store.subscribe(($P,zP,eme)=>{this.emit("state-update",$P,zP,eme),this.updateAll(zP)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),_y(this,em)[em]()}emit(Ff){for(var x_=arguments.length,$P=new Array(x_>1?x_-1:0),zP=1;zP<x_;zP++)$P[zP-1]=arguments[zP];_y(this,Hy)[Hy].emit(Ff,...$P)}on(Ff,x_){return _y(this,Hy)[Hy].on(Ff,x_),this}once(Ff,x_){return _y(this,Hy)[Hy].once(Ff,x_),this}off(Ff,x_){return _y(this,Hy)[Hy].off(Ff,x_),this}updateAll(Ff){this.iteratePlugins(x_=>{x_.update(Ff)})}setState(Ff){this.store.setState(Ff)}getState(){return this.store.getState()}get state(){return this.getState()}setFileState(Ff,x_){if(!this.getState().files[Ff])throw new Error(`Can’t set state for ${Ff} (the file could have been removed)`);this.setState({files:b_e(qme({},this.getState().files),{[Ff]:qme(qme({},this.getState().files[Ff]),x_)})})}i18nInit(){const Ff=new oy([this.defaultLocale,this.opts.locale]);this.i18n=Ff.translate.bind(Ff),this.i18nArray=Ff.translateArray.bind(Ff),this.locale=Ff.locale}setOptions(Ff){this.opts=b_e(qme(qme({},this.opts),Ff),{restrictions:qme(qme({},this.opts.restrictions),Ff&&Ff.restrictions)}),Ff.meta&&this.setMeta(Ff.meta),this.i18nInit(),Ff.locale&&this.iteratePlugins(x_=>{x_.setOptions()}),this.setState()}resetProgress(){const Ff={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},x_=qme({},this.getState().files),$P={};Object.keys(x_).forEach(zP=>{const eme=qme({},x_[zP]);eme.progress=qme(qme({},eme.progress),Ff),$P[zP]=eme}),this.setState({files:$P,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(Ff){_y(this,Vy)[Vy].add(Ff)}removePreProcessor(Ff){return _y(this,Vy)[Vy].delete(Ff)}addPostProcessor(Ff){_y(this,Wy)[Wy].add(Ff)}removePostProcessor(Ff){return _y(this,Wy)[Wy].delete(Ff)}addUploader(Ff){_y(this,Uy)[Uy].add(Ff)}removeUploader(Ff){return _y(this,Uy)[Uy].delete(Ff)}setMeta(Ff){const x_=qme(qme({},this.getState().meta),Ff),$P=qme({},this.getState().files);Object.keys($P).forEach(zP=>{$P[zP]=b_e(qme({},$P[zP]),{meta:qme(qme({},$P[zP].meta),Ff)})}),this.log("Adding metadata:"),this.log(Ff),this.setState({meta:x_,files:$P})}setFileMeta(Ff,x_){const $P=qme({},this.getState().files);if(!$P[Ff])return void this.log("Was trying to set metadata for a file that has been removed: ",Ff);const zP=qme(qme({},$P[Ff].meta),x_);$P[Ff]=b_e(qme({},$P[Ff]),{meta:zP}),this.setState({files:$P})}getFile(Ff){return this.getState().files[Ff]}getFiles(){const{files:Ff}=this.getState();return Object.values(Ff)}getObjectOfFilesPerState(){const{files:Ff,totalProgress:x_,error:$P}=this.getState(),zP=Object.values(Ff),eme=zP.filter(ume=>{let{progress:dme}=ume;return!dme.uploadComplete&&dme.uploadStarted}),tme=zP.filter(ume=>!ume.progress.uploadStarted),nme=zP.filter(ume=>ume.progress.uploadStarted||ume.progress.preprocess||ume.progress.postprocess),rme=zP.filter(ume=>ume.progress.uploadStarted),ime=zP.filter(ume=>ume.isPaused),ome=zP.filter(ume=>ume.progress.uploadComplete),sme=zP.filter(ume=>ume.error),ame=eme.filter(ume=>!ume.isPaused),lme=zP.filter(ume=>ume.progress.preprocess||ume.progress.postprocess);return{newFiles:tme,startedFiles:nme,uploadStartedFiles:rme,pausedFiles:ime,completeFiles:ome,erroredFiles:sme,inProgressFiles:eme,inProgressNotPausedFiles:ame,processingFiles:lme,isUploadStarted:rme.length>0,isAllComplete:x_===100&&ome.length===zP.length&&lme.length===0,isAllErrored:!!$P&&sme.length===zP.length,isAllPaused:eme.length!==0&&ime.length===eme.length,isUploadInProgress:eme.length>0,isSomeGhost:zP.some(ume=>ume.isGhost)}}validateRestrictions(Ff,x_){try{return _y(this,Gy)[Gy](Ff,x_),{result:!0}}catch($P){return{result:!1,reason:$P.message}}}checkIfFileAlreadyExists(Ff){const{files:x_}=this.getState();return!(!x_[Ff]||x_[Ff].isGhost)}addFile(Ff){_y(this,Zy)[Zy](Ff);const{files:x_}=this.getState();let $P=_y(this,Jy)[Jy](x_,Ff);return x_[$P.id]&&x_[$P.id].isGhost&&($P=b_e(qme({},x_[$P.id]),{data:Ff.data,isGhost:!1}),this.log(`Replaced the blob in the restored ghost file: ${$P.name}, ${$P.id}`)),this.setState({files:b_e(qme({},x_),{[$P.id]:$P})}),this.emit("file-added",$P),this.emit("files-added",[$P]),this.log(`Added file: ${$P.name}, ${$P.id}, mime type: ${$P.type}`),_y(this,Qy)[Qy](),$P.id}addFiles(Ff){_y(this,Zy)[Zy]();const x_=qme({},this.getState().files),$P=[],zP=[];for(let eme=0;eme<Ff.length;eme++)try{let tme=_y(this,Jy)[Jy](x_,Ff[eme]);x_[tme.id]&&x_[tme.id].isGhost&&(tme=b_e(qme({},x_[tme.id]),{data:Ff[eme].data,isGhost:!1}),this.log(`Replaced blob in a ghost file: ${tme.name}, ${tme.id}`)),x_[tme.id]=tme,$P.push(tme)}catch(tme){tme.isRestriction||zP.push(tme)}if(this.setState({files:x_}),$P.forEach(eme=>{this.emit("file-added",eme)}),this.emit("files-added",$P),$P.length>5?this.log(`Added batch of ${$P.length} files`):Object.keys($P).forEach(eme=>{this.log(`Added file: ${$P[eme].name}
 id: ${$P[eme].id}
 type: ${$P[eme].type}`)}),$P.length>0&&_y(this,Qy)[Qy](),zP.length>0){let eme=`Multiple errors occurred while adding files:
`;if(zP.forEach(tme=>{eme+=`
 * ${tme.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:zP.length}),details:eme},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(zP,eme);{const tme=new Error(eme);throw tme.errors=zP,tme}}}removeFiles(Ff,x_){const{files:$P,currentUploads:zP}=this.getState(),eme=qme({},$P),tme=qme({},zP),nme=Object.create(null);function rme(sme){return nme[sme]===void 0}Ff.forEach(sme=>{$P[sme]&&(nme[sme]=$P[sme],delete eme[sme])}),Object.keys(tme).forEach(sme=>{const ame=zP[sme].fileIDs.filter(rme);ame.length!==0?tme[sme]=b_e(qme({},zP[sme]),{fileIDs:ame}):delete tme[sme]});const ime={currentUploads:tme,files:eme};Object.keys(eme).length===0&&(ime.allowNewUpload=!0,ime.error=null,ime.recoveredState=null),this.setState(ime),this.calculateTotalProgress();const ome=Object.keys(nme);ome.forEach(sme=>{this.emit("file-removed",nme[sme],x_)}),ome.length>5?this.log(`Removed ${ome.length} files`):this.log(`Removed files: ${ome.join(", ")}`)}removeFile(Ff,x_){x_===void 0&&(x_=null),this.removeFiles([Ff],x_)}pauseResume(Ff){if(!this.getState().capabilities.resumableUploads||this.getFile(Ff).uploadComplete)return;const x_=!this.getFile(Ff).isPaused;return this.setFileState(Ff,{isPaused:x_}),this.emit("upload-pause",Ff,x_),x_}pauseAll(){const Ff=qme({},this.getState().files);Object.keys(Ff).filter(x_=>!Ff[x_].progress.uploadComplete&&Ff[x_].progress.uploadStarted).forEach(x_=>{const $P=b_e(qme({},Ff[x_]),{isPaused:!0});Ff[x_]=$P}),this.setState({files:Ff}),this.emit("pause-all")}resumeAll(){const Ff=qme({},this.getState().files);Object.keys(Ff).filter(x_=>!Ff[x_].progress.uploadComplete&&Ff[x_].progress.uploadStarted).forEach(x_=>{const $P=b_e(qme({},Ff[x_]),{isPaused:!1,error:null});Ff[x_]=$P}),this.setState({files:Ff}),this.emit("resume-all")}retryAll(){const Ff=qme({},this.getState().files),x_=Object.keys(Ff).filter(zP=>Ff[zP].error);if(x_.forEach(zP=>{const eme=b_e(qme({},Ff[zP]),{isPaused:!1,error:null});Ff[zP]=eme}),this.setState({files:Ff,error:null}),this.emit("retry-all",x_),x_.length===0)return Promise.resolve({successful:[],failed:[]});const $P=_y(this,nm)[nm](x_,{forceAllowNewUpload:!0});return _y(this,im)[im]($P)}cancelAll(){this.emit("cancel-all");const{files:Ff}=this.getState(),x_=Object.keys(Ff);x_.length&&this.removeFiles(x_,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}retryUpload(Ff){this.setFileState(Ff,{error:null,isPaused:!1}),this.emit("upload-retry",Ff);const x_=_y(this,nm)[nm]([Ff],{forceAllowNewUpload:!0});return _y(this,im)[im](x_)}reset(){this.cancelAll()}logout(){this.iteratePlugins(Ff=>{Ff.provider&&Ff.provider.logout&&Ff.provider.logout()})}calculateProgress(Ff,x_){if(!this.getFile(Ff.id))return void this.log(`Not setting progress for a file that has been removed: ${Ff.id}`);const $P=Number.isFinite(x_.bytesTotal)&&x_.bytesTotal>0;this.setFileState(Ff.id,{progress:b_e(qme({},this.getFile(Ff.id).progress),{bytesUploaded:x_.bytesUploaded,bytesTotal:x_.bytesTotal,percentage:$P?Math.round(x_.bytesUploaded/x_.bytesTotal*100):0})}),this.calculateTotalProgress()}calculateTotalProgress(){const Ff=this.getFiles().filter(rme=>rme.progress.uploadStarted||rme.progress.preprocess||rme.progress.postprocess);if(Ff.length===0)return this.emit("progress",0),void this.setState({totalProgress:0});const x_=Ff.filter(rme=>rme.progress.bytesTotal!=null),$P=Ff.filter(rme=>rme.progress.bytesTotal==null);if(x_.length===0){const rme=100*Ff.length,ime=$P.reduce((sme,ame)=>sme+ame.progress.percentage,0),ome=Math.round(ime/rme*100);return void this.setState({totalProgress:ome})}let zP=x_.reduce((rme,ime)=>rme+ime.progress.bytesTotal,0);const eme=zP/x_.length;zP+=eme*$P.length;let tme=0;x_.forEach(rme=>{tme+=rme.progress.bytesUploaded}),$P.forEach(rme=>{tme+=eme*(rme.progress.percentage||0)/100});let nme=zP===0?0:Math.round(tme/zP*100);nme>100&&(nme=100),this.setState({totalProgress:nme}),this.emit("progress",nme)}updateOnlineStatus(){window.navigator.onLine===void 0||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(Ff,x_){if(typeof Ff!="function")throw new TypeError(`Expected a plugin class, but got ${Ff===null?"null":typeof Ff}. Please verify that the plugin was imported and spelled correctly.`);const $P=new Ff(this,x_),zP=$P.id;if(!zP)throw new Error("Your plugin must have an id");if(!$P.type)throw new Error("Your plugin must have a type");const eme=this.getPlugin(zP);if(eme){const tme=`Already found a plugin named '${eme.id}'. Tried to use: '${zP}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(tme)}return Ff.VERSION&&this.log(`Using ${zP} v${Ff.VERSION}`),$P.type in _y(this,zy)[zy]?_y(this,zy)[zy][$P.type].push($P):_y(this,zy)[zy][$P.type]=[$P],$P.install(),this}getPlugin(Ff){for(const x_ of Object.values(_y(this,zy)[zy])){const $P=x_.find(zP=>zP.id===Ff);if($P!=null)return $P}}[Fy](Ff){return _y(this,zy)[zy][Ff]}iteratePlugins(Ff){Object.values(_y(this,zy)[zy]).flat(1).forEach(Ff)}removePlugin(Ff){this.log(`Removing plugin ${Ff.id}`),this.emit("plugin-remove",Ff),Ff.uninstall&&Ff.uninstall();const x_=_y(this,zy)[zy][Ff.type],$P=x_.findIndex(eme=>eme.id===Ff.id);$P!==-1&&x_.splice($P,1);const zP={plugins:b_e(qme({},this.getState().plugins),{[Ff.id]:void 0})};this.setState(zP)}close(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.reset(),_y(this,$y)[$y](),this.iteratePlugins(Ff=>{this.removePlugin(Ff)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",_y(this,tm)[tm]),window.removeEventListener("offline",_y(this,tm)[tm]))}hideInfo(){const{info:Ff}=this.getState();this.setState({info:Ff.slice(1)}),this.emit("info-hidden")}info(Ff,x_,$P){x_===void 0&&(x_="info"),$P===void 0&&($P=3e3);const zP=typeof Ff=="object";this.setState({info:[...this.getState().info,{type:x_,message:zP?Ff.message:Ff,details:zP?Ff.details:null}]}),setTimeout(()=>this.hideInfo(),$P),this.emit("info-visible")}log(Ff,x_){const{logger:$P}=this.opts;switch(x_){case"error":$P.error(Ff);break;case"warning":$P.warn(Ff);break;default:$P.debug(Ff)}}restore(Ff){return this.log(`Core: attempting to restore upload "${Ff}"`),this.getState().currentUploads[Ff]?_y(this,im)[im](Ff):(_y(this,om)[om](Ff),Promise.reject(new Error("Nonexistent upload")))}[Ty](){return _y(this,nm)[nm](...arguments)}addResultData(Ff,x_){if(!_y(this,rm)[rm](Ff))return void this.log(`Not setting result for an upload that has been removed: ${Ff}`);const{currentUploads:$P}=this.getState(),zP=b_e(qme({},$P[Ff]),{result:qme(qme({},$P[Ff].result),x_)});this.setState({currentUploads:b_e(qme({},$P),{[Ff]:zP})})}upload(){var Ff;(Ff=_y(this,zy)[zy].uploader)!=null&&Ff.length||this.log("No uploader type plugins are used","warning");let{files:x_}=this.getState();const $P=this.opts.onBeforeUpload(x_);return $P===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):($P&&typeof $P=="object"&&(x_=$P,this.setState({files:x_})),Promise.resolve().then(()=>{_y(this,qy)[qy](x_),_y(this,Yy)[Yy](x_)}).catch(zP=>{_y(this,Xy)[Xy](zP)}).then(()=>{const{currentUploads:zP}=this.getState(),eme=Object.values(zP).flatMap(rme=>rme.fileIDs),tme=[];Object.keys(x_).forEach(rme=>{const ime=this.getFile(rme);ime.progress.uploadStarted||eme.indexOf(rme)!==-1||tme.push(ime.id)});const nme=_y(this,nm)[nm](tme);return _y(this,im)[im](nme)}).catch(zP=>{_y(this,Xy)[Xy](zP,{showInformer:!1})}))}}function um(kh,Ff){Ff===void 0&&(Ff=this.getFiles());const{maxFileSize:x_,minFileSize:$P,maxTotalFileSize:zP,maxNumberOfFiles:eme,allowedFileTypes:tme}=this.opts.restrictions;if(eme&&Ff.length+1>eme)throw new Ry(`${this.i18n("youCanOnlyUploadX",{smart_count:eme})}`);if(tme&&!tme.some(nme=>nme.indexOf("/")>-1?!!kh.type&&gy(kh.type.replace(/;.*?$/,""),nme):!(nme[0]!=="."||!kh.extension)&&kh.extension.toLowerCase()===nme.substr(1).toLowerCase())){const nme=tme.join(", ");throw new Ry(this.i18n("youCanOnlyUploadFileTypes",{types:nme}))}if(zP&&kh.size!=null){let nme=0;if(nme+=kh.size,Ff.forEach(rme=>{nme+=rme.size}),nme>zP)throw new Ry(this.i18n("exceedsSize",{size:dy(zP),file:kh.name}))}if(x_&&kh.size!=null&&kh.size>x_)throw new Ry(this.i18n("exceedsSize",{size:dy(x_),file:kh.name}));if($P&&kh.size!=null&&kh.size<$P)throw new Ry(this.i18n("inferiorSize",{size:dy($P)}))}function sm(kh){const{minNumberOfFiles:Ff}=this.opts.restrictions;if(Object.keys(kh).length<Ff)throw new Ry(`${this.i18n("youHaveToAtLeastSelectX",{smart_count:Ff})}`)}function lm(kh){const{requiredMetaFields:Ff}=this.opts.restrictions,{hasOwnProperty:x_}=Object.prototype,$P=[],zP=[];for(let eme=0;eme<Ff.length;eme++)if(!x_.call(kh.meta,Ff[eme])||kh.meta[Ff[eme]]===""){const tme=new Ry(`${this.i18n("missingRequiredMetaFieldOnFile",{fileName:kh.name})}`);$P.push(tme),zP.push(Ff[eme]),_y(this,Xy)[Xy](tme,{file:kh,showInformer:!1,throwErr:!1})}return this.setFileState(kh.id,{missingRequiredMetaFields:zP}),$P}function cm(kh){const Ff=Object.keys(kh).flatMap(x_=>{const $P=this.getFile(x_);return _y(this,Ky)[Ky]($P)});if(Ff.length)throw new My(Ff,`${this.i18n("missingRequiredMetaField")}`)}function fm(kh,Ff){let{showInformer:x_=!0,file:$P=null,throwErr:zP=!0}=Ff===void 0?{}:Ff;const eme=typeof kh=="object"?kh.message:kh,tme=typeof kh=="object"&&kh.details?kh.details:"";let nme=eme;if(tme&&(nme+=` ${tme}`),kh.isRestriction?(this.log(nme),this.emit("restriction-failed",$P,kh)):this.log(nme,"error"),x_&&this.info({message:eme,details:tme},"error",this.opts.infoTimeout),zP)throw typeof kh=="object"?kh:new Error(kh)}function dm(kh){const{allowNewUpload:Ff}=this.getState();Ff===!1&&_y(this,Xy)[Xy](new Ry(this.i18n("noMoreFilesAllowed")),{file:kh})}function pm(kh,Ff){const x_=function(sme){var ame;if(sme.type)return sme.type;const lme=sme.name?(ame=Ey(sme.name).extension)==null?void 0:ame.toLowerCase():null;return lme&&lme in Dy?Dy[lme]:"application/octet-stream"}(Ff),$P=function(sme,ame){return ame.name?ame.name:sme.split("/")[0]==="image"?`${sme.split("/")[0]}.${sme.split("/")[1]}`:"noname"}(x_,Ff),zP=Ey($P).extension,eme=!!Ff.isRemote,tme=function(sme){let ame="uppy";return typeof sme.name=="string"&&(ame+=`-${Sy(sme.name.toLowerCase())}`),sme.type!==void 0&&(ame+=`-${sme.type}`),sme.meta&&typeof sme.meta.relativePath=="string"&&(ame+=`-${Sy(sme.meta.relativePath.toLowerCase())}`),sme.data.size!==void 0&&(ame+=`-${sme.data.size}`),sme.data.lastModified!==void 0&&(ame+=`-${sme.data.lastModified}`),ame}(b_e(qme({},Ff),{type:x_}));if(this.checkIfFileAlreadyExists(tme)){const sme=new Ry(this.i18n("noDuplicates",{fileName:$P}));_y(this,Xy)[Xy](sme,{file:Ff})}const nme=Ff.meta||{};nme.name=$P,nme.type=x_;const rme=Number.isFinite(Ff.data.size)?Ff.data.size:null;let ime={source:Ff.source||"",id:tme,name:$P,extension:zP||"",meta:qme(qme({},this.getState().meta),nme),type:x_,data:Ff.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:rme,uploadComplete:!1,uploadStarted:null},size:rme,isRemote:eme,remote:Ff.remote||"",preview:Ff.preview};const ome=this.opts.onBeforeFileAdded(ime,kh);ome===!1?_y(this,Xy)[Xy](new Ry("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,fileDescriptor:Ff}):typeof ome=="object"&&ome!==null&&(ime=ome);try{const sme=Object.keys(kh).map(ame=>kh[ame]);_y(this,Gy)[Gy](ime,sme)}catch(sme){_y(this,Xy)[Xy](sme,{file:ime})}return ime}function hm(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(kh=>{kh.isRestriction||this.log(kh.stack||kh.message||kh)})},4))}function gm(){const kh=(Ff,x_,$P)=>{let zP=Ff.message||"Unknown error";Ff.details&&(zP+=` ${Ff.details}`),this.setState({error:zP}),x_!=null&&x_.id in this.getState().files&&this.setFileState(x_.id,{error:zP,response:$P})};this.on("error",kh),this.on("upload-error",(Ff,x_,$P)=>{if(kh(x_,Ff,$P),typeof x_=="object"&&x_.message){const zP=new Error(x_.message);zP.details=x_.message,x_.details&&(zP.details+=` ${x_.details}`),zP.message=this.i18n("failedToUpload",{file:Ff.name}),_y(this,Xy)[Xy](zP,{throwErr:!1})}else _y(this,Xy)[Xy](x_,{throwErr:!1})}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",Ff=>{this.getFile(Ff.id)?this.setFileState(Ff.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:Ff.size}}):this.log(`Not setting progress for a file that has been removed: ${Ff.id}`)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(Ff,x_)=>{if(!this.getFile(Ff.id))return void this.log(`Not setting progress for a file that has been removed: ${Ff.id}`);const $P=this.getFile(Ff.id).progress;this.setFileState(Ff.id,{progress:b_e(qme({},$P),{postprocess:_y(this,Wy)[Wy].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:$P.bytesTotal}),response:x_,uploadURL:x_.uploadURL,isPaused:!1}),Ff.size==null&&this.setFileState(Ff.id,{size:x_.bytesUploaded||$P.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(Ff,x_)=>{this.getFile(Ff.id)?this.setFileState(Ff.id,{progress:b_e(qme({},this.getFile(Ff.id).progress),{preprocess:x_})}):this.log(`Not setting progress for a file that has been removed: ${Ff.id}`)}),this.on("preprocess-complete",Ff=>{if(!this.getFile(Ff.id))return void this.log(`Not setting progress for a file that has been removed: ${Ff.id}`);const x_=qme({},this.getState().files);x_[Ff.id]=b_e(qme({},x_[Ff.id]),{progress:qme({},x_[Ff.id].progress)}),delete x_[Ff.id].progress.preprocess,this.setState({files:x_})}),this.on("postprocess-progress",(Ff,x_)=>{this.getFile(Ff.id)?this.setFileState(Ff.id,{progress:b_e(qme({},this.getState().files[Ff.id].progress),{postprocess:x_})}):this.log(`Not setting progress for a file that has been removed: ${Ff.id}`)}),this.on("postprocess-complete",Ff=>{if(!this.getFile(Ff.id))return void this.log(`Not setting progress for a file that has been removed: ${Ff.id}`);const x_=qme({},this.getState().files);x_[Ff.id]=b_e(qme({},x_[Ff.id]),{progress:qme({},x_[Ff.id].progress)}),delete x_[Ff.id].progress.postprocess,this.setState({files:x_})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",Ff=>{Ff&&_y(this,Ky)[Ky](Ff)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",_y(this,tm)[tm]),window.addEventListener("offline",_y(this,tm)[tm]),setTimeout(_y(this,tm)[tm],3e3))}function vm(kh,Ff){Ff===void 0&&(Ff={});const{forceAllowNewUpload:x_=!1}=Ff,{allowNewUpload:$P,currentUploads:zP}=this.getState();if(!$P&&!x_)throw new Error("Cannot create a new upload: already uploading.");const eme=Ny();return this.emit("upload",{id:eme,fileIDs:kh}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:b_e(qme({},zP),{[eme]:{fileIDs:kh,step:0,result:{}}})}),eme}function ym(kh){const{currentUploads:Ff}=this.getState();return Ff[kh]}function mm(kh){const Ff=qme({},this.getState().currentUploads);delete Ff[kh],this.setState({currentUploads:Ff})}function bm(kh){return o0e(this,null,function*(){let{currentUploads:Ff}=this.getState(),x_=Ff[kh];const $P=x_.step||0,zP=[..._y(this,Vy)[Vy],..._y(this,Uy)[Uy],..._y(this,Wy)[Wy]];try{for(let tme=$P;tme<zP.length&&x_;tme++){const nme=zP[tme],rme=b_e(qme({},x_),{step:tme});this.setState({currentUploads:b_e(qme({},Ff),{[kh]:rme})}),yield nme(rme.fileIDs,kh),Ff=this.getState().currentUploads,x_=Ff[kh]}}catch(tme){throw this.emit("error",tme),_y(this,om)[om](kh),tme}if(x_){x_.fileIDs.forEach(ime=>{const ome=this.getFile(ime);ome&&ome.progress.postprocess&&this.emit("postprocess-complete",ome)});const tme=x_.fileIDs.map(ime=>this.getFile(ime)),nme=tme.filter(ime=>!ime.error),rme=tme.filter(ime=>ime.error);yield this.addResultData(kh,{successful:nme,failed:rme,uploadID:kh}),Ff=this.getState().currentUploads,x_=Ff[kh]}let eme;return x_&&(eme=x_.result,this.emit("complete",eme),_y(this,om)[om](kh)),eme==null&&this.log(`Not setting result for an upload that has been removed: ${kh}`),eme})}am.VERSION="2.1.3";var wm=am,Em=n(function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme,ime,ome={},sme=[],ame=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function lme(Mme,Ome){for(var Rme in Ome)Mme[Rme]=Ome[Rme];return Mme}function ume(Mme){var Ome=Mme.parentNode;Ome&&Ome.removeChild(Mme)}function dme(Mme,Ome,Rme){var zme,Zme,Qme,n_e={};for(Qme in Ome)Qme=="key"?zme=Ome[Qme]:Qme=="ref"?Zme=Ome[Qme]:n_e[Qme]=Ome[Qme];if(arguments.length>2&&(n_e.children=arguments.length>3?x_.call(arguments,2):Rme),typeof Mme=="function"&&Mme.defaultProps!=null)for(Qme in Mme.defaultProps)n_e[Qme]===void 0&&(n_e[Qme]=Mme.defaultProps[Qme]);return pme(Mme,n_e,zme,Zme,null)}function pme(Mme,Ome,Rme,zme,Zme){var Qme={type:Mme,props:Ome,key:Rme,ref:zme,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Zme==null?++zP:Zme};return Zme==null&&$P.vnode!=null&&$P.vnode(Qme),Qme}function hme(Mme){return Mme.children}function cme(Mme,Ome){this.props=Mme,this.context=Ome}function _me(Mme,Ome){if(Ome==null)return Mme.__?_me(Mme.__,Mme.__.__k.indexOf(Mme)+1):null;for(var Rme;Ome<Mme.__k.length;Ome++)if((Rme=Mme.__k[Ome])!=null&&Rme.__e!=null)return Rme.__e;return typeof Mme.type=="function"?_me(Mme):null}function vme(Mme){var Ome,Rme;if((Mme=Mme.__)!=null&&Mme.__c!=null){for(Mme.__e=Mme.__c.base=null,Ome=0;Ome<Mme.__k.length;Ome++)if((Rme=Mme.__k[Ome])!=null&&Rme.__e!=null){Mme.__e=Mme.__c.base=Rme.__e;break}return vme(Mme)}}function Eme(Mme){(!Mme.__d&&(Mme.__d=!0)&&tme.push(Mme)&&!wme.__r++||rme!==$P.debounceRendering)&&((rme=$P.debounceRendering)||nme)(wme)}function wme(){for(var Mme;wme.__r=tme.length;)Mme=tme.sort(function(Ome,Rme){return Ome.__v.__b-Rme.__v.__b}),tme=[],Mme.some(function(Ome){var Rme,zme,Zme,Qme,n_e,c_e;Ome.__d&&(n_e=(Qme=(Rme=Ome).__v).__e,(c_e=Rme.__P)&&(zme=[],(Zme=lme({},Qme)).__v=Qme.__v+1,$me(c_e,Qme,Zme,Rme.__n,c_e.ownerSVGElement!==void 0,Qme.__h!=null?[n_e]:null,zme,n_e==null?_me(Qme):n_e,Qme.__h),Gme(zme,Qme),Qme.__e!=n_e&&vme(Qme)))})}function Tme(Mme,Ome,Rme,zme,Zme,Qme,n_e,c_e,f_e,h_e){var Xme,x_e,g_e,u_e,__e,F_e,k_e,C_e=zme&&zme.__k||sme,B_e=C_e.length;for(Rme.__k=[],Xme=0;Xme<Ome.length;Xme++)if((u_e=Rme.__k[Xme]=(u_e=Ome[Xme])==null||typeof u_e=="boolean"?null:typeof u_e=="string"||typeof u_e=="number"||typeof u_e=="bigint"?pme(null,u_e,null,null,u_e):Array.isArray(u_e)?pme(hme,{children:u_e},null,null,null):u_e.__b>0?pme(u_e.type,u_e.props,u_e.key,null,u_e.__v):u_e)!=null){if(u_e.__=Rme,u_e.__b=Rme.__b+1,(g_e=C_e[Xme])===null||g_e&&u_e.key==g_e.key&&u_e.type===g_e.type)C_e[Xme]=void 0;else for(x_e=0;x_e<B_e;x_e++){if((g_e=C_e[x_e])&&u_e.key==g_e.key&&u_e.type===g_e.type){C_e[x_e]=void 0;break}g_e=null}$me(Mme,u_e,g_e=g_e||ome,Zme,Qme,n_e,c_e,f_e,h_e),__e=u_e.__e,(x_e=u_e.ref)&&g_e.ref!=x_e&&(k_e||(k_e=[]),g_e.ref&&k_e.push(g_e.ref,null,u_e),k_e.push(x_e,u_e.__c||__e,u_e)),__e!=null?(F_e==null&&(F_e=__e),typeof u_e.type=="function"&&u_e.__k===g_e.__k?u_e.__d=f_e=Dme(u_e,f_e,Mme):f_e=Ame(Mme,u_e,g_e,C_e,__e,f_e),typeof Rme.type=="function"&&(Rme.__d=f_e)):f_e&&g_e.__e==f_e&&f_e.parentNode!=Mme&&(f_e=_me(g_e))}for(Rme.__e=F_e,Xme=B_e;Xme--;)C_e[Xme]!=null&&(typeof Rme.type=="function"&&C_e[Xme].__e!=null&&C_e[Xme].__e==Rme.__d&&(Rme.__d=_me(zme,Xme+1)),r_e(C_e[Xme],C_e[Xme]));if(k_e)for(Xme=0;Xme<k_e.length;Xme++)Jme(k_e[Xme],k_e[++Xme],k_e[++Xme])}function Dme(Mme,Ome,Rme){for(var zme,Zme=Mme.__k,Qme=0;Zme&&Qme<Zme.length;Qme++)(zme=Zme[Qme])&&(zme.__=Mme,Ome=typeof zme.type=="function"?Dme(zme,Ome,Rme):Ame(Rme,zme,zme,Zme,zme.__e,Ome));return Ome}function Ame(Mme,Ome,Rme,zme,Zme,Qme){var n_e,c_e,f_e;if(Ome.__d!==void 0)n_e=Ome.__d,Ome.__d=void 0;else if(Rme==null||Zme!=Qme||Zme.parentNode==null)e:if(Qme==null||Qme.parentNode!==Mme)Mme.appendChild(Zme),n_e=null;else{for(c_e=Qme,f_e=0;(c_e=c_e.nextSibling)&&f_e<zme.length;f_e+=2)if(c_e==Zme)break e;Mme.insertBefore(Zme,Qme),n_e=Qme}return n_e!==void 0?n_e:Zme.nextSibling}function Nme(Mme,Ome,Rme){Ome[0]==="-"?Mme.setProperty(Ome,Rme):Mme[Ome]=Rme==null?"":typeof Rme!="number"||ame.test(Ome)?Rme:Rme+"px"}function Ume(Mme,Ome,Rme,zme,Zme){var Qme;e:if(Ome==="style")if(typeof Rme=="string")Mme.style.cssText=Rme;else{if(typeof zme=="string"&&(Mme.style.cssText=zme=""),zme)for(Ome in zme)Rme&&Ome in Rme||Nme(Mme.style,Ome,"");if(Rme)for(Ome in Rme)zme&&Rme[Ome]===zme[Ome]||Nme(Mme.style,Ome,Rme[Ome])}else if(Ome[0]==="o"&&Ome[1]==="n")Qme=Ome!==(Ome=Ome.replace(/Capture$/,"")),Ome=Ome.toLowerCase()in Mme?Ome.toLowerCase().slice(2):Ome.slice(2),Mme.l||(Mme.l={}),Mme.l[Ome+Qme]=Rme,Rme?zme||Mme.addEventListener(Ome,Qme?Fme:jme,Qme):Mme.removeEventListener(Ome,Qme?Fme:jme,Qme);else if(Ome!=="dangerouslySetInnerHTML"){if(Zme)Ome=Ome.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Ome!=="href"&&Ome!=="list"&&Ome!=="form"&&Ome!=="tabIndex"&&Ome!=="download"&&Ome in Mme)try{Mme[Ome]=Rme==null?"":Rme;break e}catch(n_e){}typeof Rme=="function"||(Rme!=null&&(Rme!==!1||Ome[0]==="a"&&Ome[1]==="r")?Mme.setAttribute(Ome,Rme):Mme.removeAttribute(Ome))}}function jme(Mme){this.l[Mme.type+!1]($P.event?$P.event(Mme):Mme)}function Fme(Mme){this.l[Mme.type+!0]($P.event?$P.event(Mme):Mme)}function $me(Mme,Ome,Rme,zme,Zme,Qme,n_e,c_e,f_e){var h_e,Xme,x_e,g_e,u_e,__e,F_e,k_e,C_e,B_e,y_e,A_e=Ome.type;if(Ome.constructor!==void 0)return null;Rme.__h!=null&&(f_e=Rme.__h,c_e=Ome.__e=Rme.__e,Ome.__h=null,Qme=[c_e]),(h_e=$P.__b)&&h_e(Ome);try{e:if(typeof A_e=="function"){if(k_e=Ome.props,C_e=(h_e=A_e.contextType)&&zme[h_e.__c],B_e=h_e?C_e?C_e.props.value:h_e.__:zme,Rme.__c?F_e=(Xme=Ome.__c=Rme.__c).__=Xme.__E:("prototype"in A_e&&A_e.prototype.render?Ome.__c=Xme=new A_e(k_e,B_e):(Ome.__c=Xme=new cme(k_e,B_e),Xme.constructor=A_e,Xme.render=o_e),C_e&&C_e.sub(Xme),Xme.props=k_e,Xme.state||(Xme.state={}),Xme.context=B_e,Xme.__n=zme,x_e=Xme.__d=!0,Xme.__h=[]),Xme.__s==null&&(Xme.__s=Xme.state),A_e.getDerivedStateFromProps!=null&&(Xme.__s==Xme.state&&(Xme.__s=lme({},Xme.__s)),lme(Xme.__s,A_e.getDerivedStateFromProps(k_e,Xme.__s))),g_e=Xme.props,u_e=Xme.state,x_e)A_e.getDerivedStateFromProps==null&&Xme.componentWillMount!=null&&Xme.componentWillMount(),Xme.componentDidMount!=null&&Xme.__h.push(Xme.componentDidMount);else{if(A_e.getDerivedStateFromProps==null&&k_e!==g_e&&Xme.componentWillReceiveProps!=null&&Xme.componentWillReceiveProps(k_e,B_e),!Xme.__e&&Xme.shouldComponentUpdate!=null&&Xme.shouldComponentUpdate(k_e,Xme.__s,B_e)===!1||Ome.__v===Rme.__v){Xme.props=k_e,Xme.state=Xme.__s,Ome.__v!==Rme.__v&&(Xme.__d=!1),Xme.__v=Ome,Ome.__e=Rme.__e,Ome.__k=Rme.__k,Ome.__k.forEach(function(X_e){X_e&&(X_e.__=Ome)}),Xme.__h.length&&n_e.push(Xme);break e}Xme.componentWillUpdate!=null&&Xme.componentWillUpdate(k_e,Xme.__s,B_e),Xme.componentDidUpdate!=null&&Xme.__h.push(function(){Xme.componentDidUpdate(g_e,u_e,__e)})}Xme.context=B_e,Xme.props=k_e,Xme.state=Xme.__s,(h_e=$P.__r)&&h_e(Ome),Xme.__d=!1,Xme.__v=Ome,Xme.__P=Mme,h_e=Xme.render(Xme.props,Xme.state,Xme.context),Xme.state=Xme.__s,Xme.getChildContext!=null&&(zme=lme(lme({},zme),Xme.getChildContext())),x_e||Xme.getSnapshotBeforeUpdate==null||(__e=Xme.getSnapshotBeforeUpdate(g_e,u_e)),y_e=h_e!=null&&h_e.type===hme&&h_e.key==null?h_e.props.children:h_e,Tme(Mme,Array.isArray(y_e)?y_e:[y_e],Ome,Rme,zme,Zme,Qme,n_e,c_e,f_e),Xme.base=Ome.__e,Ome.__h=null,Xme.__h.length&&n_e.push(Xme),F_e&&(Xme.__E=Xme.__=null),Xme.__e=!1}else Qme==null&&Ome.__v===Rme.__v?(Ome.__k=Rme.__k,Ome.__e=Rme.__e):Ome.__e=Wme(Rme.__e,Ome,Rme,zme,Zme,Qme,n_e,f_e);(h_e=$P.diffed)&&h_e(Ome)}catch(X_e){Ome.__v=null,(f_e||Qme!=null)&&(Ome.__e=c_e,Ome.__h=!!f_e,Qme[Qme.indexOf(c_e)]=null),$P.__e(X_e,Ome,Rme)}}function Gme(Mme,Ome){$P.__c&&$P.__c(Ome,Mme),Mme.some(function(Rme){try{Mme=Rme.__h,Rme.__h=[],Mme.some(function(zme){zme.call(Rme)})}catch(zme){$P.__e(zme,Rme.__v)}})}function Wme(Mme,Ome,Rme,zme,Zme,Qme,n_e,c_e){var f_e,h_e,Xme,x_e=Rme.props,g_e=Ome.props,u_e=Ome.type,__e=0;if(u_e==="svg"&&(Zme=!0),Qme!=null){for(;__e<Qme.length;__e++)if((f_e=Qme[__e])&&"setAttribute"in f_e==!!u_e&&(u_e?f_e.localName===u_e:f_e.nodeType===3)){Mme=f_e,Qme[__e]=null;break}}if(Mme==null){if(u_e===null)return document.createTextNode(g_e);Mme=Zme?document.createElementNS("http://www.w3.org/2000/svg",u_e):document.createElement(u_e,g_e.is&&g_e),Qme=null,c_e=!1}if(u_e===null)x_e===g_e||c_e&&Mme.data===g_e||(Mme.data=g_e);else{if(Qme=Qme&&x_.call(Mme.childNodes),h_e=(x_e=Rme.props||ome).dangerouslySetInnerHTML,Xme=g_e.dangerouslySetInnerHTML,!c_e){if(Qme!=null)for(x_e={},__e=0;__e<Mme.attributes.length;__e++)x_e[Mme.attributes[__e].name]=Mme.attributes[__e].value;(Xme||h_e)&&(Xme&&(h_e&&Xme.__html==h_e.__html||Xme.__html===Mme.innerHTML)||(Mme.innerHTML=Xme&&Xme.__html||""))}if(function(F_e,k_e,C_e,B_e,y_e){var A_e;for(A_e in C_e)A_e==="children"||A_e==="key"||A_e in k_e||Ume(F_e,A_e,null,C_e[A_e],B_e);for(A_e in k_e)y_e&&typeof k_e[A_e]!="function"||A_e==="children"||A_e==="key"||A_e==="value"||A_e==="checked"||C_e[A_e]===k_e[A_e]||Ume(F_e,A_e,k_e[A_e],C_e[A_e],B_e)}(Mme,g_e,x_e,Zme,c_e),Xme)Ome.__k=[];else if(__e=Ome.props.children,Tme(Mme,Array.isArray(__e)?__e:[__e],Ome,Rme,zme,Zme&&u_e!=="foreignObject",Qme,n_e,Qme?Qme[0]:Rme.__k&&_me(Rme,0),c_e),Qme!=null)for(__e=Qme.length;__e--;)Qme[__e]!=null&&ume(Qme[__e]);c_e||("value"in g_e&&(__e=g_e.value)!==void 0&&(__e!==x_e.value||__e!==Mme.value||u_e==="progress"&&!__e)&&Ume(Mme,"value",__e,x_e.value,!1),"checked"in g_e&&(__e=g_e.checked)!==void 0&&__e!==Mme.checked&&Ume(Mme,"checked",__e,x_e.checked,!1))}return Mme}function Jme(Mme,Ome,Rme){try{typeof Mme=="function"?Mme(Ome):Mme.current=Ome}catch(zme){$P.__e(zme,Rme)}}function r_e(Mme,Ome,Rme){var zme,Zme;if($P.unmount&&$P.unmount(Mme),(zme=Mme.ref)&&(zme.current&&zme.current!==Mme.__e||Jme(zme,null,Ome)),(zme=Mme.__c)!=null){if(zme.componentWillUnmount)try{zme.componentWillUnmount()}catch(Qme){$P.__e(Qme,Ome)}zme.base=zme.__P=null}if(zme=Mme.__k)for(Zme=0;Zme<zme.length;Zme++)zme[Zme]&&r_e(zme[Zme],Ome,typeof Mme.type!="function");Rme||Mme.__e==null||ume(Mme.__e),Mme.__e=Mme.__d=void 0}function o_e(Mme,Ome,Rme){return this.constructor(Mme,Rme)}function i_e(Mme,Ome,Rme){var zme,Zme,Qme;$P.__&&$P.__(Mme,Ome),Zme=(zme=typeof Rme=="function")?null:Rme&&Rme.__k||Ome.__k,Qme=[],$me(Ome,Mme=(!zme&&Rme||Ome).__k=dme(hme,null,[Mme]),Zme||ome,ome,Ome.ownerSVGElement!==void 0,!zme&&Rme?[Rme]:Zme?null:Ome.firstChild?x_.call(Ome.childNodes):null,Qme,!zme&&Rme?Rme:Zme?Zme.__e:Ome.firstChild,zme),Gme(Qme,Mme)}x_=sme.slice,$P={__e:function(Mme,Ome){for(var Rme,zme,Zme;Ome=Ome.__;)if((Rme=Ome.__c)&&!Rme.__)try{if((zme=Rme.constructor)&&zme.getDerivedStateFromError!=null&&(Rme.setState(zme.getDerivedStateFromError(Mme)),Zme=Rme.__d),Rme.componentDidCatch!=null&&(Rme.componentDidCatch(Mme),Zme=Rme.__d),Zme)return Rme.__E=Rme}catch(Qme){Mme=Qme}throw Mme}},zP=0,eme=function(Mme){return Mme!=null&&Mme.constructor===void 0},cme.prototype.setState=function(Mme,Ome){var Rme;Rme=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lme({},this.state),typeof Mme=="function"&&(Mme=Mme(lme({},Rme),this.props)),Mme&&lme(Rme,Mme),Mme!=null&&this.__v&&(Ome&&this.__h.push(Ome),Eme(this))},cme.prototype.forceUpdate=function(Mme){this.__v&&(this.__e=!0,Mme&&this.__h.push(Mme),Eme(this))},cme.prototype.render=hme,tme=[],nme=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wme.__r=0,ime=0,Ff.Component=cme,Ff.Fragment=hme,Ff.cloneElement=function(Mme,Ome,Rme){var zme,Zme,Qme,n_e=lme({},Mme.props);for(Qme in Ome)Qme=="key"?zme=Ome[Qme]:Qme=="ref"?Zme=Ome[Qme]:n_e[Qme]=Ome[Qme];return arguments.length>2&&(n_e.children=arguments.length>3?x_.call(arguments,2):Rme),pme(Mme.type,n_e,zme||Mme.key,Zme||Mme.ref,null)},Ff.createContext=function(Mme,Ome){var Rme={__c:Ome="__cC"+ime++,__:Mme,Consumer:function(zme,Zme){return zme.children(Zme)},Provider:function(zme){var Zme,Qme;return this.getChildContext||(Zme=[],(Qme={})[Ome]=this,this.getChildContext=function(){return Qme},this.shouldComponentUpdate=function(n_e){this.props.value!==n_e.value&&Zme.some(Eme)},this.sub=function(n_e){Zme.push(n_e);var c_e=n_e.componentWillUnmount;n_e.componentWillUnmount=function(){Zme.splice(Zme.indexOf(n_e),1),c_e&&c_e.call(n_e)}}),zme.children}};return Rme.Provider.__=Rme.Consumer.contextType=Rme},Ff.createElement=dme,Ff.createRef=function(){return{current:null}},Ff.h=dme,Ff.hydrate=function Mme(Ome,Rme){i_e(Ome,Rme,Mme)},Ff.isValidElement=eme,Ff.options=$P,Ff.render=i_e,Ff.toChildArray=function Mme(Ome,Rme){return Rme=Rme||[],Ome==null||typeof Ome=="boolean"||(Array.isArray(Ome)?Ome.some(function(zme){Mme(zme,Rme)}):Rme.push(Ome)),Rme}}),Dm=function(kh,Ff){return Ff===void 0&&(Ff=document),typeof kh=="string"?Ff.querySelector(kh):((x_=kh)==null?void 0:x_.nodeType)===Node.ELEMENT_NODE?kh:null;var x_},Sm=class{constructor(kh,Ff){Ff===void 0&&(Ff={}),this.uppy=kh,this.opts=Ff}getPluginState(){const{plugins:kh}=this.uppy.getState();return kh[this.id]||{}}setPluginState(kh){const{plugins:Ff}=this.uppy.getState();this.uppy.setState({plugins:b_e(qme({},Ff),{[this.id]:qme(qme({},Ff[this.id]),kh)})})}setOptions(kh){this.opts=qme(qme({},this.opts),kh),this.setPluginState(),this.i18nInit()}i18nInit(){const kh=new oy([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=kh.translate.bind(kh),this.i18nArray=kh.translateArray.bind(kh),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};function xm(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var Cm=0;function Am(kh){return"__private_"+Cm+++"_"+kh}const{render:Om}=Em;var km=Am("updateUI");class Bm extends Sm{constructor(){super(...arguments),Object.defineProperty(this,km,{writable:!0,value:void 0})}mount(Ff,x_){const $P=x_.id,zP=Dm(Ff);if(zP){this.isTargetDOMEl=!0;const nme=document.createDocumentFragment();return xm(this,km)[km]=function(rme){let ime=null,ome=null;return function(){for(var sme=arguments.length,ame=new Array(sme),lme=0;lme<sme;lme++)ame[lme]=arguments[lme];return ome=ame,ime||(ime=Promise.resolve().then(()=>(ime=null,rme(...ome)))),ime}}(rme=>{this.uppy.getPlugin(this.id)&&(Om(this.render(rme),nme),this.afterUpdate())}),this.uppy.log(`Installing ${$P} to a DOM element '${Ff}'`),this.opts.replaceTargetContent&&(zP.innerHTML=""),Om(this.render(this.uppy.getState()),nme),this.el=nme.firstElementChild,zP.appendChild(nme),this.onMount(),this.el}let eme;if(typeof Ff=="object"&&Ff instanceof Bm)eme=Ff;else if(typeof Ff=="function"){const nme=Ff;this.uppy.iteratePlugins(rme=>{if(rme instanceof nme)return eme=rme,!1})}if(eme)return this.uppy.log(`Installing ${$P} to ${eme.id}`),this.parent=eme,this.el=eme.addTarget(x_),this.onMount(),this.el;this.uppy.log(`Not installing ${$P}`);let tme=`Invalid target option given to ${$P}.`;throw tme+=typeof Ff=="function"?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(tme)}update(Ff){var x_,$P;this.el!=null&&((x_=($P=xm(this,km))[km])==null||x_.call($P,Ff))}unmount(){var Ff;this.isTargetDOMEl&&((Ff=this.el)==null||Ff.remove()),this.onUnmount()}onMount(){}onUnmount(){}}var Fm=Bm;const{debugLogger:Tm}=Oy;var _m=wm,Pm=wm,jm=Fm,Nm=Sm,Im=Tm;_m.Uppy=Pm,_m.UIPlugin=jm,_m.BasePlugin=Nm,_m.debugLogger=Im;class Lm extends Error{constructor(Ff,x_){x_===void 0&&(x_=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=Ff,this.isNetworkError=!0,this.request=x_}}var Rm=Lm,Mm=function(){return fetch(...arguments).catch(kh=>{throw kh.name==="AbortError"?kh:new Rm(kh)})};class zm extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}var $m,Hm,Vm,Um,Wm,Gm=zm;function qm(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var Km=0;function Ym(kh){return"__private_"+Km+++"_"+kh}function Xm(kh){return o0e(this,null,function*(){if(kh.status===401)throw new Gm;const Ff=kh.json();if(kh.status<200||kh.status>300){let x_=`Failed request with status: ${kh.status}. ${kh.statusText}`;try{const $P=yield Ff;x_=$P.message?`${x_} message: ${$P.message}`:x_,x_=$P.requestId?`${x_} request-Id: ${$P.requestId}`:x_}finally{throw new Error(x_)}}return Ff})}var Zm=(Hm=Ym("getPostResponseFunc"),Vm=Ym("getUrl"),Um=Ym("errorHandler"),Wm=$m=class Ube{constructor(Ff,x_){Object.defineProperty(this,Um,{value:Qm}),Object.defineProperty(this,Vm,{value:Jm}),Object.defineProperty(this,Hm,{writable:!0,value:$P=>zP=>$P?zP:this.onReceiveResponse(zP)}),this.uppy=Ff,this.opts=x_,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}get hostname(){const{companion:Ff}=this.uppy.getState(),x_=this.opts.companionUrl;return(Ff&&Ff[x_]?Ff[x_]:x_).replace(/\/$/,"")}headers(){const Ff=this.opts.companionHeaders||{};return Promise.resolve(qme(qme({},Ube.defaultHeaders),Ff))}onReceiveResponse(Ff){const x_=this.uppy.getState().companion||{},$P=this.opts.companionUrl,{headers:zP}=Ff;return zP.has("i-am")&&zP.get("i-am")!==x_[$P]&&this.uppy.setState({companion:b_e(qme({},x_),{[$P]:zP.get("i-am")})}),Ff}preflight(Ff){return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(qm(this,Vm)[Vm](Ff),{method:"OPTIONS"}).then(x_=>(x_.headers.has("access-control-allow-headers")&&(this.allowedHeaders=x_.headers.get("access-control-allow-headers").split(",").map($P=>$P.trim().toLowerCase())),this.preflightDone=!0,this.allowedHeaders.slice())).catch(x_=>(this.uppy.log(`[CompanionClient] unable to make preflight request ${x_}`,"warning"),this.preflightDone=!0,this.allowedHeaders.slice()))}preflightAndHeaders(Ff){return Promise.all([this.preflight(Ff),this.headers()]).then(x_=>{let[$P,zP]=x_;return Object.keys(zP).forEach(eme=>{$P.includes(eme.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${eme}`),delete zP[eme])}),zP})}get(Ff,x_){return this.preflightAndHeaders(Ff).then($P=>Mm(qm(this,Vm)[Vm](Ff),{method:"get",headers:$P,credentials:this.opts.companionCookiesRule||"same-origin"})).then(qm(this,Hm)[Hm](x_)).then(Xm).catch(qm(this,Um)[Um]("get",Ff))}post(Ff,x_,$P){const zP="post";return this.preflightAndHeaders(Ff).then(eme=>Mm(qm(this,Vm)[Vm](Ff),{method:zP,headers:eme,credentials:this.opts.companionCookiesRule||"same-origin",body:JSON.stringify(x_)})).then(qm(this,Hm)[Hm]($P)).then(Xm).catch(qm(this,Um)[Um](zP,Ff))}delete(Ff,x_,$P){const zP="delete";return this.preflightAndHeaders(Ff).then(eme=>Mm(`${this.hostname}/${Ff}`,{method:zP,headers:eme,credentials:this.opts.companionCookiesRule||"same-origin",body:x_?JSON.stringify(x_):null})).then(qm(this,Hm)[Hm]($P)).then(Xm).catch(qm(this,Um)[Um](zP,Ff))}},$m.VERSION="2.0.4",$m.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${$m.VERSION}`},Wm);function Jm(kh){return/^(https?:|)\/\//.test(kh)?kh:`${this.hostname}/${kh}`}function Qm(kh,Ff){return x_=>{var $P;if(($P=x_)==null||!$P.isAuthError){const zP=new Error(`Could not ${kh} ${qm(this,Vm)[Vm](Ff)}`);zP.cause=x_,x_=zP}return Promise.reject(x_)}}var eb={setItem:(kh,Ff)=>new Promise(x_=>{localStorage.setItem(kh,Ff),x_()}),getItem:kh=>Promise.resolve(localStorage.getItem(kh)),removeItem:kh=>new Promise(Ff=>{localStorage.removeItem(kh),Ff()})},tb,nb,rb,ob,ib;let ab,ub;function sb(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var lb=0;function cb(kh){return"__private_"+lb+++"_"+kh}var fb=(tb=cb("queued"),nb=cb("emitter"),rb=cb("isOpen"),ob=cb("socket"),ib=cb("handleMessage"),ab=Symbol.for("uppy test: getSocket"),ub=Symbol.for("uppy test: getQueued"),class{constructor(kh){Object.defineProperty(this,tb,{writable:!0,value:[]}),Object.defineProperty(this,nb,{writable:!0,value:ay()}),Object.defineProperty(this,rb,{writable:!0,value:!1}),Object.defineProperty(this,ob,{writable:!0,value:void 0}),Object.defineProperty(this,ib,{writable:!0,value:Ff=>{try{const x_=JSON.parse(Ff.data);this.emit(x_.action,x_.payload)}catch(x_){console.log(x_)}}}),this.opts=kh,kh&&kh.autoOpen===!1||this.open()}get isOpen(){return sb(this,rb)[rb]}[ab](){return sb(this,ob)[ob]}[ub](){return sb(this,tb)[tb]}open(){sb(this,ob)[ob]=new WebSocket(this.opts.target),sb(this,ob)[ob].onopen=()=>{for(sb(this,rb)[rb]=!0;sb(this,tb)[tb].length>0&&sb(this,rb)[rb];){const kh=sb(this,tb)[tb].shift();this.send(kh.action,kh.payload)}},sb(this,ob)[ob].onclose=()=>{sb(this,rb)[rb]=!1},sb(this,ob)[ob].onmessage=sb(this,ib)[ib]}close(){var kh;(kh=sb(this,ob)[ob])==null||kh.close()}send(kh,Ff){sb(this,rb)[rb]?sb(this,ob)[ob].send(JSON.stringify({action:kh,payload:Ff})):sb(this,tb)[tb].push({action:kh,payload:Ff})}on(kh,Ff){sb(this,nb)[nb].on(kh,Ff)}emit(kh,Ff){sb(this,nb)[nb].emit(kh,Ff)}once(kh,Ff){sb(this,nb)[nb].once(kh,Ff)}}),db={RequestClient:Zm,Provider:class extends Zm{constructor(kh,Ff){super(kh,Ff),this.provider=Ff.provider,this.id=this.provider,this.name=this.opts.name||(x_=>x_.split("-").map($P=>$P.charAt(0).toUpperCase()+$P.slice(1)).join(" "))(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}headers(){return Promise.all([super.headers(),this.getAuthToken()]).then(kh=>{let[Ff,x_]=kh;const $P={};return x_&&($P["uppy-auth-token"]=x_),this.companionKeysParams&&($P["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),qme(qme({},Ff),$P)})}onReceiveResponse(kh){kh=super.onReceiveResponse(kh);const Ff=this.uppy.getPlugin(this.pluginId),x_=Ff.getPluginState().authenticated?kh.status!==401:kh.status<400;return Ff.setPluginState({authenticated:x_}),kh}setAuthToken(kh){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,kh)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}authUrl(kh){return kh===void 0&&(kh={}),this.preAuthToken&&(kh.uppyPreAuthToken=this.preAuthToken),`${this.hostname}/${this.id}/connect?${new URLSearchParams(kh)}`}fileUrl(kh){return`${this.hostname}/${this.id}/get/${kh}`}fetchPreAuthToken(){return this.companionKeysParams?this.post(`${this.id}/preauth/`,{params:this.companionKeysParams}).then(kh=>{this.preAuthToken=kh.token}).catch(kh=>{this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${kh}`,"warning")}):Promise.resolve()}list(kh){return this.get(`${this.id}/list/${kh||""}`)}logout(){return this.get(`${this.id}/logout`).then(kh=>Promise.all([kh,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(kh=>{let[Ff]=kh;return Ff})}static initPlugin(kh,Ff,x_){if(kh.type="acquirer",kh.files=[],x_&&(kh.opts=qme(qme({},x_),Ff)),Ff.serverUrl||Ff.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(Ff.companionAllowedHosts){const $P=Ff.companionAllowedHosts;if(!(typeof $P=="string"||Array.isArray($P)||$P instanceof RegExp))throw new TypeError(`${kh.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);kh.opts.companionAllowedHosts=$P}else/^(?!https?:\/\/).*$/i.test(Ff.companionUrl)?kh.opts.companionAllowedHosts=`https://${Ff.companionUrl.replace(/^\/\//,"")}`:kh.opts.companionAllowedHosts=new URL(Ff.companionUrl).origin;kh.storage=kh.opts.storage||eb}},SearchProvider:class extends Zm{constructor(kh,Ff){super(kh,Ff),this.provider=Ff.provider,this.id=this.provider,this.name=this.opts.name||(x_=>x_.split("-").map($P=>$P.charAt(0).toUpperCase()+$P.slice(1)).join(" "))(this.id),this.pluginId=this.opts.pluginId}fileUrl(kh){return`${this.hostname}/search/${this.id}/get/${kh}`}search(kh,Ff){return Ff=Ff?`&${Ff}`:"",this.get(`search/${this.id}/list?q=${encodeURIComponent(kh)}${Ff}`)}},Socket:fb},pb,hb,gb=eg(function(kh,Ff,x_){const{progress:$P,bytesUploaded:zP,bytesTotal:eme}=Ff;$P&&(kh.uppy.log(`Upload progress: ${$P}`),kh.uppy.emit("upload-progress",x_,{uploader:kh,bytesUploaded:zP,bytesTotal:eme}))},300,{leading:!0,trailing:!0});function vb(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var yb=0;function mb(kh){return"__private_"+yb+++"_"+kh}var bb=(pb=mb("emitter"),hb=mb("events"),class{constructor(kh){Object.defineProperty(this,pb,{writable:!0,value:void 0}),Object.defineProperty(this,hb,{writable:!0,value:[]}),vb(this,pb)[pb]=kh}on(kh,Ff){return vb(this,hb)[hb].push([kh,Ff]),vb(this,pb)[pb].on(kh,Ff)}remove(){for(const[kh,Ff]of vb(this,hb)[hb].splice(0))vb(this,pb)[pb].off(kh,Ff)}});function wb(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var Eb=0;function Db(kh){return"__private_"+Eb+++"_"+kh}var Sb=Db("aliveTimer"),xb=Db("isDone"),Cb=Db("onTimedOut"),Ab=Db("timeout"),Ob=class{constructor(kh,Ff){Object.defineProperty(this,Sb,{writable:!0,value:void 0}),Object.defineProperty(this,xb,{writable:!0,value:!1}),Object.defineProperty(this,Cb,{writable:!0,value:void 0}),Object.defineProperty(this,Ab,{writable:!0,value:void 0}),wb(this,Ab)[Ab]=kh,wb(this,Cb)[Cb]=Ff}progress(){wb(this,xb)[xb]||wb(this,Ab)[Ab]>0&&(clearTimeout(wb(this,Sb)[Sb]),wb(this,Sb)[Sb]=setTimeout(wb(this,Cb)[Cb],wb(this,Ab)[Ab]))}done(){wb(this,xb)[xb]||(clearTimeout(wb(this,Sb)[Sb]),wb(this,Sb)[Sb]=null,wb(this,xb)[xb]=!0)}};function kb(kh,Ff){if(!Object.prototype.hasOwnProperty.call(kh,Ff))throw new TypeError("attempted to use private field on non-instance");return kh}var Bb=0;function Fb(kh){return"__private_"+Bb+++"_"+kh}function Tb(){return new Error("Cancelled")}var _b=Fb("activeRequests"),Pb=Fb("queuedHandlers"),jb=Fb("call"),Nb=Fb("queueNext"),Ib=Fb("next"),Lb=Fb("queue"),Rb=Fb("dequeue");function Mb(kh){kb(this,_b)[_b]+=1;let Ff,x_=!1;try{Ff=kh()}catch($P){throw kb(this,_b)[_b]-=1,$P}return{abort:()=>{x_||(x_=!0,kb(this,_b)[_b]-=1,Ff(),kb(this,Nb)[Nb]())},done:()=>{x_||(x_=!0,kb(this,_b)[_b]-=1,kb(this,Nb)[Nb]())}}}function zb(){queueMicrotask(()=>kb(this,Ib)[Ib]())}function $b(){if(kb(this,_b)[_b]>=this.limit||kb(this,Pb)[Pb].length===0)return;const kh=kb(this,Pb)[Pb].shift(),Ff=kb(this,jb)[jb](kh.fn);kh.abort=Ff.abort,kh.done=Ff.done}function Hb(kh,Ff){Ff===void 0&&(Ff={});const x_={fn:kh,priority:Ff.priority||0,abort:()=>{kb(this,Rb)[Rb](x_)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},$P=kb(this,Pb)[Pb].findIndex(zP=>x_.priority>zP.priority);return $P===-1?kb(this,Pb)[Pb].push(x_):kb(this,Pb)[Pb].splice($P,0,x_),x_}function Vb(kh){const Ff=kb(this,Pb)[Pb].indexOf(kh);Ff!==-1&&kb(this,Pb)[Pb].splice(Ff,1)}var Ub={RateLimitedQueue:class{constructor(kh){Object.defineProperty(this,Rb,{value:Vb}),Object.defineProperty(this,Lb,{value:Hb}),Object.defineProperty(this,Ib,{value:$b}),Object.defineProperty(this,Nb,{value:zb}),Object.defineProperty(this,jb,{value:Mb}),Object.defineProperty(this,_b,{writable:!0,value:0}),Object.defineProperty(this,Pb,{writable:!0,value:[]}),this.limit=typeof kh!="number"||kh===0?1/0:kh}run(kh,Ff){return kb(this,_b)[_b]<this.limit?kb(this,jb)[jb](kh):kb(this,Lb)[Lb](kh,Ff)}wrapPromiseFunction(kh,Ff){var x_=this;return function(){for(var $P=arguments.length,zP=new Array($P),eme=0;eme<$P;eme++)zP[eme]=arguments[eme];let tme;const nme=new Promise((rme,ime)=>{tme=x_.run(()=>{let ome,sme;try{sme=Promise.resolve(kh(...zP))}catch(ame){sme=Promise.reject(ame)}return sme.then(ame=>{ome?ime(ome):(tme.done(),rme(ame))},ame=>{ome?ime(ome):(tme.done(),ime(ame))}),()=>{ome=Tb()}},Ff)});return nme.abort=()=>{tme.abort()},nme}}},internalRateLimitedQueue:Symbol("__queue")},Wb,Gb,qb=function(kh){return!!kh&&(kh.readyState!==0&&kh.readyState!==4||kh.status===0)},Kb={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};const{nanoid:Yb}=By,{Provider:Xb,RequestClient:Zb,Socket:Jb}=db,{RateLimitedQueue:Qb,internalRateLimitedQueue:ew}=Ub;function tw(kh,Ff){let x_=Ff;return x_||(x_=new Error("Upload error")),typeof x_=="string"&&(x_=new Error(x_)),x_ instanceof Error||(x_=Object.assign(new Error("Upload error"),{data:x_})),qb(kh)?(x_=new Rm(x_,kh),x_):(x_.request=kh,x_)}function nw(kh){return kh.data.slice(0,kh.data.size,kh.meta.type)}var rw=(Gb=Wb=class extends Sm{constructor(kh,Ff){super(kh,Ff),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=Kb;const x_={formData:!0,fieldName:Ff.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:5,withCredentials:!1,responseType:"",getResponseData($P){let zP={};try{zP=JSON.parse($P)}catch(eme){kh.log(eme)}return zP},getResponseError($P,zP){let eme=new Error("Upload error");return qb(zP)&&(eme=new Rm(eme,zP)),eme},validateStatus:$P=>$P>=200&&$P<300};if(this.opts=qme(qme({},x_),Ff),this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),ew in this.opts?this.requests=this.opts[ew]:this.requests=new Qb(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");this.uploaderEvents=Object.create(null)}getOptions(kh){const Ff=this.uppy.getState().xhrUpload,{headers:x_}=this.opts,$P=b_e(qme(qme(qme({},this.opts),Ff||{}),kh.xhrUpload||{}),{headers:{}});return typeof x_=="function"?$P.headers=x_(kh):Object.assign($P.headers,this.opts.headers),Ff&&Object.assign($P.headers,Ff.headers),kh.xhrUpload&&Object.assign($P.headers,kh.xhrUpload.headers),$P}addMetadata(kh,Ff,x_){(Array.isArray(x_.metaFields)?x_.metaFields:Object.keys(Ff)).forEach($P=>{kh.append($P,Ff[$P])})}createFormDataUpload(kh,Ff){const x_=new FormData;this.addMetadata(x_,kh.meta,Ff);const $P=nw(kh);return kh.name?x_.append(Ff.fieldName,$P,kh.meta.name):x_.append(Ff.fieldName,$P),x_}createBundledUpload(kh,Ff){const x_=new FormData,{meta:$P}=this.uppy.getState();return this.addMetadata(x_,$P,Ff),kh.forEach(zP=>{const eme=this.getOptions(zP),tme=nw(zP);zP.name?x_.append(eme.fieldName,tme,zP.name):x_.append(eme.fieldName,tme)}),x_}upload(kh,Ff,x_){const $P=this.getOptions(kh);return this.uppy.log(`uploading ${Ff} of ${x_}`),new Promise((zP,eme)=>{this.uppy.emit("upload-started",kh);const tme=$P.formData?this.createFormDataUpload(kh,$P):kh.data,nme=new XMLHttpRequest;this.uploaderEvents[kh.id]=new bb(this.uppy);const rme=new Ob($P.timeout,()=>{nme.abort(),ome.done();const sme=new Error(this.i18n("timedOut",{seconds:Math.ceil($P.timeout/1e3)}));this.uppy.emit("upload-error",kh,sme),eme(sme)}),ime=Yb();nme.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${ime} started`)}),nme.upload.addEventListener("progress",sme=>{this.uppy.log(`[XHRUpload] ${ime} progress: ${sme.loaded} / ${sme.total}`),rme.progress(),sme.lengthComputable&&this.uppy.emit("upload-progress",kh,{uploader:this,bytesUploaded:sme.loaded,bytesTotal:sme.total})}),nme.addEventListener("load",sme=>{if(this.uppy.log(`[XHRUpload] ${ime} finished`),rme.done(),ome.done(),this.uploaderEvents[kh.id]&&(this.uploaderEvents[kh.id].remove(),this.uploaderEvents[kh.id]=null),$P.validateStatus(sme.target.status,nme.responseText,nme)){const dme=$P.getResponseData(nme.responseText,nme),pme=dme[$P.responseUrlFieldName],hme={status:sme.target.status,body:dme,uploadURL:pme};return this.uppy.emit("upload-success",kh,hme),pme&&this.uppy.log(`Download ${kh.name} from ${pme}`),zP(kh)}const ame=$P.getResponseData(nme.responseText,nme),lme=tw(nme,$P.getResponseError(nme.responseText,nme)),ume={status:sme.target.status,body:ame};return this.uppy.emit("upload-error",kh,lme,ume),eme(lme)}),nme.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${ime} errored`),rme.done(),ome.done(),this.uploaderEvents[kh.id]&&(this.uploaderEvents[kh.id].remove(),this.uploaderEvents[kh.id]=null);const sme=tw(nme,$P.getResponseError(nme.responseText,nme));return this.uppy.emit("upload-error",kh,sme),eme(sme)}),nme.open($P.method.toUpperCase(),$P.endpoint,!0),nme.withCredentials=$P.withCredentials,$P.responseType!==""&&(nme.responseType=$P.responseType);const ome=this.requests.run(()=>{this.uppy.emit("upload-started",kh);const sme=this.getOptions(kh);return Object.keys(sme.headers).forEach(ame=>{nme.setRequestHeader(ame,sme.headers[ame])}),nme.send(tme),()=>{rme.done(),nme.abort()}});this.onFileRemove(kh.id,()=>{ome.abort(),eme(new Error("File removed"))}),this.onCancelAll(kh.id,()=>{ome.abort(),eme(new Error("Upload cancelled"))})})}uploadRemote(kh){const Ff=this.getOptions(kh);return new Promise((x_,$P)=>{this.uppy.emit("upload-started",kh);const zP={};(Array.isArray(Ff.metaFields)?Ff.metaFields:Object.keys(kh.meta)).forEach(eme=>{zP[eme]=kh.meta[eme]}),new(kh.remote.providerOptions.provider?Xb:Zb)(this.uppy,kh.remote.providerOptions).post(kh.remote.url,b_e(qme({},kh.remote.body),{endpoint:Ff.endpoint,size:kh.data.size,fieldname:Ff.fieldName,metadata:zP,httpMethod:Ff.method,useFormData:Ff.formData,headers:Ff.headers})).then(eme=>{const{token:tme}=eme,nme=function(ome){const sme=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(ome)[1];return`${/^http:\/\//i.test(ome)?"ws":"wss"}://${sme}`}(kh.remote.companionUrl),rme=new Jb({target:`${nme}/api/${tme}`,autoOpen:!1});this.uploaderEvents[kh.id]=new bb(this.uppy),this.onFileRemove(kh.id,()=>{rme.send("cancel",{}),ime.abort(),x_(`upload ${kh.id} was removed`)}),this.onCancelAll(kh.id,()=>{rme.send("cancel",{}),ime.abort(),x_(`upload ${kh.id} was canceled`)}),this.onRetry(kh.id,()=>{rme.send("pause",{}),rme.send("resume",{})}),this.onRetryAll(kh.id,()=>{rme.send("pause",{}),rme.send("resume",{})}),rme.on("progress",ome=>gb(this,ome,kh)),rme.on("success",ome=>{const sme=Ff.getResponseData(ome.response.responseText,ome.response),ame=sme[Ff.responseUrlFieldName],lme={status:ome.response.status,body:sme,uploadURL:ame};return this.uppy.emit("upload-success",kh,lme),ime.done(),this.uploaderEvents[kh.id]&&(this.uploaderEvents[kh.id].remove(),this.uploaderEvents[kh.id]=null),x_()}),rme.on("error",ome=>{const sme=ome.response,ame=sme?Ff.getResponseError(sme.responseText,sme):Object.assign(new Error(ome.error.message),{cause:ome.error});this.uppy.emit("upload-error",kh,ame),ime.done(),this.uploaderEvents[kh.id]&&(this.uploaderEvents[kh.id].remove(),this.uploaderEvents[kh.id]=null),$P(ame)});const ime=this.requests.run(()=>(rme.open(),kh.isPaused&&rme.send("pause",{}),()=>rme.close()))}).catch(eme=>{this.uppy.emit("upload-error",kh,eme),$P(eme)})})}uploadBundle(kh){return new Promise((Ff,x_)=>{const{endpoint:$P}=this.opts,{method:zP}=this.opts,eme=this.uppy.getState().xhrUpload,tme=this.createBundledUpload(kh,qme(qme({},this.opts),eme||{})),nme=new XMLHttpRequest,rme=new Ob(this.opts.timeout,()=>{nme.abort();const ome=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));ime(ome),x_(ome)}),ime=ome=>{kh.forEach(sme=>{this.uppy.emit("upload-error",sme,ome)})};nme.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),rme.progress()}),nme.upload.addEventListener("progress",ome=>{rme.progress(),ome.lengthComputable&&kh.forEach(sme=>{this.uppy.emit("upload-progress",sme,{uploader:this,bytesUploaded:ome.loaded/ome.total*sme.size,bytesTotal:sme.size})})}),nme.addEventListener("load",ome=>{if(rme.done(),this.opts.validateStatus(ome.target.status,nme.responseText,nme)){const ame=this.opts.getResponseData(nme.responseText,nme),lme={status:ome.target.status,body:ame};return kh.forEach(ume=>{this.uppy.emit("upload-success",ume,lme)}),Ff()}const sme=this.opts.getResponseError(nme.responseText,nme)||new Error("Upload error");return sme.request=nme,ime(sme),x_(sme)}),nme.addEventListener("error",()=>{rme.done();const ome=this.opts.getResponseError(nme.responseText,nme)||new Error("Upload error");return ime(ome),x_(ome)}),this.uppy.on("cancel-all",()=>{rme.done(),nme.abort()}),nme.open(zP.toUpperCase(),$P,!0),nme.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(nme.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(ome=>{nme.setRequestHeader(ome,this.opts.headers[ome])}),nme.send(tme),kh.forEach(ome=>{this.uppy.emit("upload-started",ome)})})}uploadFiles(kh){const Ff=kh.map((x_,$P)=>{const zP=parseInt($P,10)+1,eme=kh.length;return x_.error?Promise.reject(new Error(x_.error)):x_.isRemote?this.uploadRemote(x_,zP,eme):this.upload(x_,zP,eme)});return function(x_){const $P=[],zP=[];function eme(nme){$P.push(nme)}function tme(nme){zP.push(nme)}return Promise.all(x_.map(nme=>nme.then(eme,tme))).then(()=>({successful:$P,failed:zP}))}(Ff)}onFileRemove(kh,Ff){this.uploaderEvents[kh].on("file-removed",x_=>{kh===x_.id&&Ff(x_.id)})}onRetry(kh,Ff){this.uploaderEvents[kh].on("upload-retry",x_=>{kh===x_&&Ff()})}onRetryAll(kh,Ff){this.uploaderEvents[kh].on("retry-all",()=>{this.uppy.getFile(kh)&&Ff()})}onCancelAll(kh,Ff){this.uploaderEvents[kh].on("cancel-all",()=>{this.uppy.getFile(kh)&&Ff()})}handleUpload(kh){if(kh.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit!==0||this.opts[ew]||this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const Ff=kh.map(x_=>this.uppy.getFile(x_));if(this.opts.bundle){if(Ff.some(x_=>x_.isRemote))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(Ff)}return this.uploadFiles(Ff).then(()=>null)}install(){if(this.opts.bundle){const{capabilities:kh}=this.uppy.getState();this.uppy.setState({capabilities:b_e(qme({},kh),{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){const{capabilities:kh}=this.uppy.getState();this.uppy.setState({capabilities:b_e(qme({},kh),{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}},Wb.VERSION="2.0.6",Gb),ow=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function iw(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var aw,uw,sw=function(kh){return kh&&kh.Math==Math&&kh},lw=sw(typeof globalThis=="object"&&globalThis)||sw(typeof window=="object"&&window)||sw(typeof self=="object"&&self)||sw(typeof ow=="object"&&ow)||function(){return this}()||Function("return this")(),cw=Object.defineProperty,fw=function(kh,Ff){try{cw(lw,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){lw[kh]=Ff}return Ff},dw=lw["__core-js_shared__"]||fw("__core-js_shared__",{}),pw=iw(function(kh){(kh.exports=function(Ff,x_){return dw[Ff]||(dw[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),hw=Function.prototype,gw=hw.bind,vw=hw.call,yw=gw&&gw.bind(vw),mw=gw?function(kh){return kh&&yw(vw,kh)}:function(kh){return kh&&function(){return vw.apply(kh,arguments)}},bw=lw.TypeError,ww=function(kh){if(kh==null)throw bw("Can't call method on "+kh);return kh},Ew=lw.Object,Dw=function(kh){return Ew(ww(kh))},Sw=mw({}.hasOwnProperty),xw=Object.hasOwn||function(kh,Ff){return Sw(Dw(kh),Ff)},Cw=0,Aw=Math.random(),Ow=mw(1 .toString),kw=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+Ow(++Cw+Aw,36)},Bw=function(kh){return typeof kh=="function"},Fw=function(kh){return Bw(kh)?kh:void 0},Tw=function(kh,Ff){return arguments.length<2?Fw(lw[kh]):lw[kh]&&lw[kh][Ff]},_w=Tw("navigator","userAgent")||"",Pw=lw.process,jw=lw.Deno,Nw=Pw&&Pw.versions||jw&&jw.version,Iw=Nw&&Nw.v8;Iw&&(uw=(aw=Iw.split("."))[0]>0&&aw[0]<4?1:+(aw[0]+aw[1])),!uw&&_w&&(!(aw=_w.match(/Edge\/(\d+)/))||aw[1]>=74)&&(aw=_w.match(/Chrome\/(\d+)/))&&(uw=+aw[1]);var Lw=uw,Rw=function(kh){try{return!!kh()}catch(Ff){return!0}},Mw=!!Object.getOwnPropertySymbols&&!Rw(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&Lw&&Lw<41}),zw=Mw&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$w=pw("wks"),Hw=lw.Symbol,Vw=Hw&&Hw.for,Uw=zw?Hw:Hw&&Hw.withoutSetter||kw,Ww=function(kh){if(!xw($w,kh)||!Mw&&typeof $w[kh]!="string"){var Ff="Symbol."+kh;Mw&&xw(Hw,kh)?$w[kh]=Hw[kh]:$w[kh]=zw&&Vw?Vw(Ff):Uw(Ff)}return $w[kh]},Gw={};Gw[Ww("toStringTag")]="z";var qw=String(Gw)==="[object z]",Kw=!Rw(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Yw=function(kh){return typeof kh=="object"?kh!==null:Bw(kh)},Xw=lw.document,Zw=Yw(Xw)&&Yw(Xw.createElement),Jw=function(kh){return Zw?Xw.createElement(kh):{}},Qw=!Kw&&!Rw(function(){return Object.defineProperty(Jw("div"),"a",{get:function(){return 7}}).a!=7}),eE=lw.String,tE=lw.TypeError,nE=function(kh){if(Yw(kh))return kh;throw tE(eE(kh)+" is not an object")},rE=Function.prototype.call,oE=rE.bind?rE.bind(rE):function(){return rE.apply(rE,arguments)},iE=mw({}.isPrototypeOf),aE=lw.Object,uE=zw?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=Tw("Symbol");return Bw(Ff)&&iE(Ff.prototype,aE(kh))},sE=lw.String,lE=function(kh){try{return sE(kh)}catch(Ff){return"Object"}},cE=lw.TypeError,fE=function(kh){if(Bw(kh))return kh;throw cE(lE(kh)+" is not a function")},dE=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:fE(x_)},pE=lw.TypeError,hE=lw.TypeError,gE=Ww("toPrimitive"),vE=function(kh){var Ff=function(x_,$P){if(!Yw(x_)||uE(x_))return x_;var zP,eme=dE(x_,gE);if(eme){if($P===void 0&&($P="default"),zP=oE(eme,x_,$P),!Yw(zP)||uE(zP))return zP;throw hE("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&Bw(rme=tme.toString)&&!Yw(ime=oE(rme,tme))||Bw(rme=tme.valueOf)&&!Yw(ime=oE(rme,tme))||nme!=="string"&&Bw(rme=tme.toString)&&!Yw(ime=oE(rme,tme)))return ime;throw pE("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return uE(Ff)?Ff:Ff+""},yE=lw.TypeError,mE=Object.defineProperty,bE={f:Kw?mE:function(kh,Ff,x_){if(nE(kh),Ff=vE(Ff),nE(x_),Qw)try{return mE(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw yE("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},wE=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},EE=Kw?function(kh,Ff,x_){return bE.f(kh,Ff,wE(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},DE=mw(Function.toString);Bw(dw.inspectSource)||(dw.inspectSource=function(kh){return DE(kh)});var SE,xE,CE,AE=dw.inspectSource,OE=lw.WeakMap,kE=Bw(OE)&&/native code/.test(AE(OE)),BE=pw("keys"),FE=function(kh){return BE[kh]||(BE[kh]=kw(kh))},TE={},_E=lw.TypeError,PE=lw.WeakMap;if(kE||dw.state){var jE=dw.state||(dw.state=new PE),NE=mw(jE.get),IE=mw(jE.has),LE=mw(jE.set);SE=function(kh,Ff){if(IE(jE,kh))throw new _E("Object already initialized");return Ff.facade=kh,LE(jE,kh,Ff),Ff},xE=function(kh){return NE(jE,kh)||{}},CE=function(kh){return IE(jE,kh)}}else{var RE=FE("state");TE[RE]=!0,SE=function(kh,Ff){if(xw(kh,RE))throw new _E("Object already initialized");return Ff.facade=kh,EE(kh,RE,Ff),Ff},xE=function(kh){return xw(kh,RE)?kh[RE]:{}},CE=function(kh){return xw(kh,RE)}}var ME={set:SE,get:xE,has:CE,enforce:function(kh){return CE(kh)?xE(kh):SE(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!Yw(Ff)||(x_=xE(Ff)).type!==kh)throw _E("Incompatible receiver, "+kh+" required");return x_}}},zE=Function.prototype,$E=Kw&&Object.getOwnPropertyDescriptor,HE=xw(zE,"name"),VE={EXISTS:HE,PROPER:HE&&function(){}.name==="something",CONFIGURABLE:HE&&(!Kw||Kw&&$E(zE,"name").configurable)},UE=iw(function(kh){var Ff=VE.CONFIGURABLE,x_=ME.get,$P=ME.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;Bw(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!xw(nme,"name")||Ff&&nme.name!==lme)&&EE(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==lw?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:EE(eme,tme,nme)):sme?eme[tme]=nme:fw(tme,nme)})(Function.prototype,"toString",function(){return Bw(this)&&x_(this).source||AE(this)})}),WE=mw({}.toString),GE=mw("".slice),qE=function(kh){return GE(WE(kh),8,-1)},KE=Ww("toStringTag"),YE=lw.Object,XE=qE(function(){return arguments}())=="Arguments",ZE=qw?qE:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=YE(kh),KE))=="string"?x_:XE?qE(Ff):($P=qE(Ff))=="Object"&&Bw(Ff.callee)?"Arguments":$P},JE=qw?{}.toString:function(){return"[object "+ZE(this)+"]"};qw||UE(Object.prototype,"toString",JE,{unsafe:!0});var QE={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},eD=Jw("span").classList,tD=eD&&eD.constructor&&eD.constructor.prototype,nD=tD===Object.prototype?void 0:tD,rD=mw(mw.bind),oD=function(kh,Ff){return fE(kh),Ff===void 0?kh:rD?rD(kh,Ff):function(){return kh.apply(Ff,arguments)}},iD=lw.Object,aD=mw("".split),uD=Rw(function(){return!iD("z").propertyIsEnumerable(0)})?function(kh){return qE(kh)=="String"?aD(kh,""):iD(kh)}:iD,sD=Math.ceil,lD=Math.floor,cD=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?lD:sD)(Ff)},fD=Math.min,dD=function(kh){return kh>0?fD(cD(kh),9007199254740991):0},pD=function(kh){return dD(kh.length)},hD=Array.isArray||function(kh){return qE(kh)=="Array"},gD=function(){},vD=[],yD=Tw("Reflect","construct"),mD=/^\s*(?:class|function)\b/,bD=mw(mD.exec),wD=!mD.exec(gD),ED=function(kh){if(!Bw(kh))return!1;try{return yD(gD,vD,kh),!0}catch(Ff){return!1}},DD=!yD||Rw(function(){var kh;return ED(ED.call)||!ED(Object)||!ED(function(){kh=!0})||kh})?function(kh){if(!Bw(kh))return!1;switch(ZE(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return wD||!!bD(mD,AE(kh))}:ED,SD=Ww("species"),xD=lw.Array,CD=function(kh,Ff){return new(function(x_){var $P;return hD(x_)&&($P=x_.constructor,(DD($P)&&($P===xD||hD($P.prototype))||Yw($P)&&($P=$P[SD])===null)&&($P=void 0)),$P===void 0?xD:$P}(kh))(Ff===0?0:Ff)},AD=mw([].push),OD=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=Dw(rme),dme=uD(ume),pme=oD(ime,ome),hme=pD(dme),cme=0,_me=sme||CD,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:AD(vme,ame)}else switch(kh){case 4:return!1;case 7:AD(vme,ame)}return eme?-1:$P||zP?zP:vme}},kD={forEach:OD(0),map:OD(1),filter:OD(2),some:OD(3),every:OD(4),find:OD(5),findIndex:OD(6),filterReject:OD(7)},BD=function(kh,Ff){var x_=[][kh];return!!x_&&Rw(function(){x_.call(null,Ff||function(){throw 1},1)})},FD=kD.forEach,TD=BD("forEach")?[].forEach:function(kh){return FD(this,kh,arguments.length>1?arguments[1]:void 0)},_D=function(kh){if(kh&&kh.forEach!==TD)try{EE(kh,"forEach",TD)}catch(Ff){kh.forEach=TD}};for(var PD in QE)QE[PD]&&_D(lw[PD]&&lw[PD].prototype);_D(nD);var jD={}.propertyIsEnumerable,ND=Object.getOwnPropertyDescriptor,ID=ND&&!jD.call({1:2},1)?function(kh){var Ff=ND(this,kh);return!!Ff&&Ff.enumerable}:jD,LD={f:ID},RD=function(kh){return uD(ww(kh))},MD=Object.getOwnPropertyDescriptor,zD={f:Kw?MD:function(kh,Ff){if(kh=RD(kh),Ff=vE(Ff),Qw)try{return MD(kh,Ff)}catch(x_){}if(xw(kh,Ff))return wE(!oE(LD.f,kh,Ff),kh[Ff])}},$D=Math.max,HD=Math.min,VD=function(kh,Ff){var x_=cD(kh);return x_<0?$D(x_+Ff,0):HD(x_,Ff)},UD=function(kh){return function(Ff,x_,$P){var zP,eme=RD(Ff),tme=pD(eme),nme=VD($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},WD={includes:UD(!0),indexOf:UD(!1)},GD=WD.indexOf,qD=mw([].push),KD=function(kh,Ff){var x_,$P=RD(kh),zP=0,eme=[];for(x_ in $P)!xw(TE,x_)&&xw($P,x_)&&qD(eme,x_);for(;Ff.length>zP;)xw($P,x_=Ff[zP++])&&(~GD(eme,x_)||qD(eme,x_));return eme},YD=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],XD=YD.concat("length","prototype"),ZD={f:Object.getOwnPropertyNames||function(kh){return KD(kh,XD)}},JD={f:Object.getOwnPropertySymbols},QD=mw([].concat),eS=Tw("Reflect","ownKeys")||function(kh){var Ff=ZD.f(nE(kh)),x_=JD.f;return x_?QD(Ff,x_(kh)):Ff},tS=function(kh,Ff){for(var x_=eS(Ff),$P=bE.f,zP=zD.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];xw(kh,tme)||$P(kh,tme,zP(Ff,tme))}},nS=/#|\.prototype\./,rS=function(kh,Ff){var x_=iS[oS(kh)];return x_==uS||x_!=aS&&(Bw(Ff)?Rw(Ff):!!Ff)},oS=rS.normalize=function(kh){return String(kh).replace(nS,".").toLowerCase()},iS=rS.data={},aS=rS.NATIVE="N",uS=rS.POLYFILL="P",sS=rS,lS=zD.f,cS=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?lw:ime?lw[nme]||fw(nme,{}):(lw[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=lS(x_,$P))&&tme.value:x_[$P],!sS(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;tS(eme,zP)}(kh.sham||zP&&zP.sham)&&EE(eme,"sham",!0),UE(x_,$P,eme,kh)}},fS=Object.keys||function(kh){return KD(kh,YD)},dS=Rw(function(){fS(1)});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function pS(kh){return Object.prototype.toString.call(kh)==="[object Object]"}cS({target:"Object",stat:!0,forced:dS},{keys:function(kh){return fS(Dw(kh))}});var hS={isHistory(kh){return pS(Ff=kh)!==!1&&((x_=Ff.constructor)===void 0||pS($P=x_.prototype)!==!1&&$P.hasOwnProperty("isPrototypeOf")!==!1)&&Array.isArray(kh.redos)&&Array.isArray(kh.undos)&&(kh.redos.length===0||Rf.isOperationList(kh.redos[0]))&&(kh.undos.length===0||Rf.isOperationList(kh.undos[0]));var Ff,x_,$P}},gS=new WeakMap,vS=new WeakMap,yS={isHistoryEditor:kh=>hS.isHistory(kh.history)&&Bf.isEditor(kh),isMerging:kh=>vS.get(kh),isSaving:kh=>gS.get(kh),redo(kh){kh.redo()},undo(kh){kh.undo()},withoutMerging(kh,Ff){var x_=yS.isMerging(kh);vS.set(kh,!1),Ff(),vS.set(kh,x_)},withoutSaving(kh,Ff){var x_=yS.isSaving(kh);gS.set(kh,!1),Ff(),gS.set(kh,x_)}},mS=lw.String,bS=function(kh){if(ZE(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return mS(kh)},wS=function(){var kh=nE(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},ES=VE.PROPER,DS=RegExp.prototype,SS=DS.toString,xS=mw(wS),CS=Rw(function(){return SS.call({source:"a",flags:"b"})!="/a/b"}),AS=ES&&SS.name!="toString";(CS||AS)&&UE(RegExp.prototype,"toString",function(){var kh=nE(this),Ff=bS(kh.source),x_=kh.flags;return"/"+Ff+"/"+bS(x_===void 0&&iE(DS,kh)&&!("flags"in DS)?xS(kh):x_)},{unsafe:!0});var OS,kS=Kw?Object.defineProperties:function(kh,Ff){nE(kh);for(var x_,$P=RD(Ff),zP=fS(Ff),eme=zP.length,tme=0;eme>tme;)bE.f(kh,x_=zP[tme++],$P[x_]);return kh},BS=Tw("document","documentElement"),FS=FE("IE_PROTO"),TS=function(){},_S=function(kh){return"<script>"+kh+"<\/script>"},PS=function(kh){kh.write(_S("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},jS=function(){try{OS=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;jS=typeof document!="undefined"?document.domain&&OS?PS(OS):((Ff=Jw("iframe")).style.display="none",BS.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(_S("document.F=Object")),kh.close(),kh.F):PS(OS);for(var x_=YD.length;x_--;)delete jS.prototype[YD[x_]];return jS()};TE[FS]=!0;var NS=Object.create||function(kh,Ff){var x_;return kh!==null?(TS.prototype=nE(kh),x_=new TS,TS.prototype=null,x_[FS]=kh):x_=jS(),Ff===void 0?x_:kS(x_,Ff)},IS=Ww("unscopables"),LS=Array.prototype;LS[IS]==null&&bE.f(LS,IS,{configurable:!0,value:NS(null)});var RS=function(kh){LS[IS][kh]=!0},MS=WD.includes;cS({target:"Array",proto:!0},{includes:function(kh){return MS(this,kh,arguments.length>1?arguments[1]:void 0)}}),RS("includes");var zS=Ww("match"),$S=function(kh){var Ff;return Yw(kh)&&((Ff=kh[zS])!==void 0?!!Ff:qE(kh)=="RegExp")},HS=lw.TypeError,VS=function(kh){if($S(kh))throw HS("The method doesn't accept regular expressions");return kh},US=Ww("match"),WS=function(kh){var Ff=/./;try{"/./"[kh](Ff)}catch(x_){try{return Ff[US]=!1,"/./"[kh](Ff)}catch($P){}}return!1},GS=mw("".indexOf);cS({target:"String",proto:!0,forced:!WS("includes")},{includes:function(kh){return!!~GS(bS(ww(this)),bS(VS(kh)),arguments.length>1?arguments[1]:void 0)}});var qS=/"/g,KS=mw("".replace);cS({target:"String",proto:!0,forced:Rw(function(){var kh="".anchor('"');return kh!==kh.toLowerCase()||kh.split('"').length>3})},{anchor:function(kh){return Ff=kh,x_=bS(ww(this)),$P="<a",($P+=' name="'+KS(bS(Ff),qS,"&quot;")+'"')+">"+x_+"</a>";var Ff,x_,$P}});var YS=function(kh,Ff,x_){var $P,zP;nE(kh);try{if(!($P=dE(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=oE($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return nE($P),x_},XS=function(kh,Ff,x_,$P){try{return $P?Ff(nE(x_)[0],x_[1]):Ff(x_)}catch(zP){YS(kh,"throw",zP)}},ZS={},JS=Ww("iterator"),QS=Array.prototype,ex=function(kh){return kh!==void 0&&(ZS.Array===kh||QS[JS]===kh)},tx=function(kh,Ff,x_){var $P=vE(Ff);$P in kh?bE.f(kh,$P,wE(0,x_)):kh[$P]=x_},nx=Ww("iterator"),rx=function(kh){if(kh!=null)return dE(kh,nx)||dE(kh,"@@iterator")||ZS[ZE(kh)]},ox=lw.TypeError,ix=function(kh,Ff){var x_=arguments.length<2?rx(kh):Ff;if(fE(x_))return nE(oE(x_,kh));throw ox(lE(kh)+" is not iterable")},ax=lw.Array,ux=Ww("iterator"),sx=!1;try{var lx=0,cx={next:function(){return{done:!!lx++}},return:function(){sx=!0}};cx[ux]=function(){return this},Array.from(cx,function(){throw 2})}catch(kh){}var fx=function(kh,Ff){if(!Ff&&!sx)return!1;var x_=!1;try{var $P={};$P[ux]=function(){return{next:function(){return{done:x_=!0}}}},kh($P)}catch(zP){}return x_},dx=!fx(function(kh){Array.from(kh)});cS({target:"Array",stat:!0,forced:dx},{from:function(kh){var Ff=Dw(kh),x_=DD(this),$P=arguments.length,zP=$P>1?arguments[1]:void 0,eme=zP!==void 0;eme&&(zP=oD(zP,$P>2?arguments[2]:void 0));var tme,nme,rme,ime,ome,sme,ame=rx(Ff),lme=0;if(!ame||this==ax&&ex(ame))for(tme=pD(Ff),nme=x_?new this(tme):ax(tme);tme>lme;lme++)sme=eme?zP(Ff[lme],lme):Ff[lme],tx(nme,lme,sme);else for(ome=(ime=ix(Ff,ame)).next,nme=x_?new this:[];!(rme=oE(ome,ime)).done;lme++)sme=eme?XS(ime,zP,[rme.value,lme],!0):rme.value,tx(nme,lme,sme);return nme.length=lme,nme}});var px,hx,gx,vx=mw("".charAt),yx=mw("".charCodeAt),mx=mw("".slice),bx=function(kh){return function(Ff,x_){var $P,zP,eme=bS(ww(Ff)),tme=cD(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=yx(eme,tme))<55296||$P>56319||tme+1===nme||(zP=yx(eme,tme+1))<56320||zP>57343?kh?vx(eme,tme):$P:kh?mx(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},wx={codeAt:bx(!1),charAt:bx(!0)},Ex=!Rw(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),Dx=FE("IE_PROTO"),Sx=lw.Object,xx=Sx.prototype,Cx=Ex?Sx.getPrototypeOf:function(kh){var Ff=Dw(kh);if(xw(Ff,Dx))return Ff[Dx];var x_=Ff.constructor;return Bw(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof Sx?xx:null},Ax=Ww("iterator"),Ox=!1;[].keys&&("next"in(gx=[].keys())?(hx=Cx(Cx(gx)))!==Object.prototype&&(px=hx):Ox=!0);var kx=px==null||Rw(function(){var kh={};return px[Ax].call(kh)!==kh});kx&&(px={}),Bw(px[Ax])||UE(px,Ax,function(){return this});var Bx={IteratorPrototype:px,BUGGY_SAFARI_ITERATORS:Ox},Fx=bE.f,Tx=Ww("toStringTag"),_x=function(kh,Ff,x_){kh&&!xw(kh=x_?kh:kh.prototype,Tx)&&Fx(kh,Tx,{configurable:!0,value:Ff})},Px=Bx.IteratorPrototype,jx=function(){return this},Nx=lw.String,Ix=lw.TypeError,Lx=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=mw(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return nE($P),function(eme){if(typeof eme=="object"||Bw(eme))return eme;throw Ix("Can't set "+Nx(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),Rx=VE.PROPER,Mx=VE.CONFIGURABLE,zx=Bx.IteratorPrototype,$x=Bx.BUGGY_SAFARI_ITERATORS,Hx=Ww("iterator"),Vx=function(){return this},Ux=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=NS(Px,{next:wE(1,_me)}),_x(hme,Eme,!1),ZS[Eme]=jx})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!$x&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[Hx]||lme["@@iterator"]||zP&&lme[zP],dme=!$x&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=Cx(pme.call(new kh)))!==Object.prototype&&nme.next&&(Cx(nme)!==zx&&(Lx?Lx(nme,zx):Bw(nme[Hx])||UE(nme,Hx,Vx)),_x(nme,sme,!0)),Rx&&zP=="values"&&ume&&ume.name!=="values"&&(Mx?EE(lme,"name","values"):(ame=!0,dme=function(){return oE(ume,this)})),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)($x||ame||!(ime in lme))&&UE(lme,ime,rme[ime]);else cS({target:Ff,proto:!0,forced:$x||ame},rme);return lme[Hx]!==dme&&UE(lme,Hx,dme,{name:zP}),ZS[Ff]=dme,rme},Wx=wx.charAt,Gx=ME.set,qx=ME.getterFor("String Iterator");Ux(String,"String",function(kh){Gx(this,{type:"String Iterator",string:bS(kh),index:0})},function(){var kh,Ff=qx(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=Wx(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var Kx,Yx=zD.f,Xx=mw("".endsWith),Zx=mw("".slice),Jx=Math.min,Qx=WS("endsWith"),eC=!(Qx||(Kx=Yx(String.prototype,"endsWith"),!Kx||Kx.writable));cS({target:"String",proto:!0,forced:!eC&&!Qx},{endsWith:function(kh){var Ff=bS(ww(this));VS(kh);var x_=arguments.length>1?arguments[1]:void 0,$P=Ff.length,zP=x_===void 0?$P:Jx(dD(x_),$P),eme=bS(kh);return Xx?Xx(Ff,eme,zP):Zx(Ff,zP-eme.length,zP)===eme}});var tC=mw([].join),nC=uD!=Object,rC=BD("join",",");cS({target:"Array",proto:!0,forced:nC||!rC},{join:function(kh){return tC(RD(this),kh===void 0?",":kh)}});var oC=Ww("species"),iC=function(kh){return Lw>=51||!Rw(function(){var Ff=[];return(Ff.constructor={})[oC]=function(){return{foo:1}},Ff[kh](Boolean).foo!==1})},aC=kD.map,uC=iC("map");cS({target:"Array",proto:!0,forced:!uC},{map:function(kh){return aC(this,kh,arguments.length>1?arguments[1]:void 0)}});var sC=lw.RegExp,lC=Rw(function(){var kh=sC("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),cC=lC||Rw(function(){return!sC("a","y").sticky}),fC={BROKEN_CARET:lC||Rw(function(){var kh=sC("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:cC,UNSUPPORTED_Y:lC},dC=lw.RegExp,pC=Rw(function(){var kh=dC(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),hC=lw.RegExp,gC=Rw(function(){var kh=hC("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),vC=ME.get,yC=pw("native-string-replace",String.prototype.replace),mC=RegExp.prototype.exec,bC=mC,wC=mw("".charAt),EC=mw("".indexOf),DC=mw("".replace),SC=mw("".slice),xC=function(){var kh=/a/,Ff=/b*/g;return oE(mC,kh,"a"),oE(mC,Ff,"a"),kh.lastIndex!==0||Ff.lastIndex!==0}(),CC=fC.BROKEN_CARET,AC=/()??/.exec("")[1]!==void 0;(xC||AC||CC||pC||gC)&&(bC=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=vC(rme),ome=bS(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=oE(bC,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=CC&&rme.sticky,ume=oE(wS,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=DC(ume,"y",""),EC(ume,"g")===-1&&(ume+="g"),hme=SC(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&wC(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),AC&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),xC&&($P=rme.lastIndex),zP=oE(mC,lme?x_:rme,hme),lme?zP?(zP.input=SC(zP.input,pme),zP[0]=SC(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:xC&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),AC&&zP&&zP.length>1&&oE(yC,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=NS(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var OC=bC;cS({target:"RegExp",proto:!0,forced:/./.exec!==OC},{exec:OC});var kC=Function.prototype,BC=kC.apply,FC=kC.bind,TC=kC.call,_C=typeof Reflect=="object"&&Reflect.apply||(FC?TC.bind(BC):function(){return TC.apply(BC,arguments)}),PC=Ww("species"),jC=RegExp.prototype,NC=function(kh,Ff,x_,$P){var zP=Ww(kh),eme=!Rw(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!Rw(function(){var ime=!1,ome=/a/;return kh==="split"&&((ome={}).constructor={},ome.constructor[PC]=function(){return ome},ome.flags="",ome[zP]=/./[zP]),ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=mw(/./[zP]),rme=Ff(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=mw(ime),dme=ome.exec;return dme===OC||dme===jC.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});UE(String.prototype,kh,rme[0]),UE(jC,zP,rme[1])}$P&&EE(jC[zP],"sham",!0)},IC=wx.charAt,LC=function(kh,Ff,x_){return Ff+(x_?IC(kh,Ff).length:1)},RC=Math.floor,MC=mw("".charAt),zC=mw("".replace),$C=mw("".slice),HC=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,VC=/\$([$&'`]|\d{1,2})/g,UC=function(kh,Ff,x_,$P,zP,eme){var tme=x_+kh.length,nme=$P.length,rme=VC;return zP!==void 0&&(zP=Dw(zP),rme=HC),zC(eme,rme,function(ime,ome){var sme;switch(MC(ome,0)){case"$":return"$";case"&":return kh;case"`":return $C(Ff,0,x_);case"'":return $C(Ff,tme);case"<":sme=zP[$C(ome,1,-1)];break;default:var ame=+ome;if(ame===0)return ime;if(ame>nme){var lme=RC(ame/10);return lme===0?ime:lme<=nme?$P[lme-1]===void 0?MC(ome,1):$P[lme-1]+MC(ome,1):ime}sme=$P[ame-1]}return sme===void 0?"":sme})},WC=lw.TypeError,GC=function(kh,Ff){var x_=kh.exec;if(Bw(x_)){var $P=oE(x_,kh,Ff);return $P!==null&&nE($P),$P}if(qE(kh)==="RegExp")return oE(OC,kh,Ff);throw WC("RegExp#exec called on incompatible receiver")},qC=Ww("replace"),KC=Math.max,YC=Math.min,XC=mw([].concat),ZC=mw([].push),JC=mw("".indexOf),QC=mw("".slice),eA="a".replace(/./,"$0")==="$0",tA=!!/./[qC]&&/./[qC]("a","$0")==="";NC("replace",function(kh,Ff,x_){var $P=tA?"$":"$0";return[function(zP,eme){var tme=ww(this),nme=zP==null?void 0:dE(zP,qC);return nme?oE(nme,zP,tme,eme):oE(Ff,bS(tme),zP,eme)},function(zP,eme){var tme=nE(this),nme=bS(zP);if(typeof eme=="string"&&JC(eme,$P)===-1&&JC(eme,"$<")===-1){var rme=x_(Ff,tme,nme,eme);if(rme.done)return rme.value}var ime=Bw(eme);ime||(eme=bS(eme));var ome=tme.global;if(ome){var sme=tme.unicode;tme.lastIndex=0}for(var ame=[];;){var lme=GC(tme,nme);if(lme===null||(ZC(ame,lme),!ome))break;bS(lme[0])===""&&(tme.lastIndex=LC(nme,dD(tme.lastIndex),sme))}for(var ume,dme="",pme=0,hme=0;hme<ame.length;hme++){for(var cme=bS((lme=ame[hme])[0]),_me=KC(YC(cD(lme.index),nme.length),0),vme=[],Eme=1;Eme<lme.length;Eme++)ZC(vme,(ume=lme[Eme])===void 0?ume:String(ume));var wme=lme.groups;if(ime){var Tme=XC([cme],vme,_me,nme);wme!==void 0&&ZC(Tme,wme);var Dme=bS(_C(eme,void 0,Tme))}else Dme=UC(cme,nme,_me,vme,wme,eme);_me>=pme&&(dme+=QC(nme,pme,_me)+Dme,pme=_me+cme.length)}return dme+QC(nme,pme)}]},!!Rw(function(){var kh=/./;return kh.exec=function(){var Ff=[];return Ff.groups={a:"7"},Ff},"".replace(kh,"$<a>")!=="7"})||!eA||tA);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nA=function(kh,Ff){return nA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x_,$P){x_.__proto__=$P}||function(x_,$P){for(var zP in $P)Object.prototype.hasOwnProperty.call($P,zP)&&(x_[zP]=$P[zP])},nA(kh,Ff)};function rA(kh,Ff){if(typeof Ff!="function"&&Ff!==null)throw new TypeError("Class extends value "+String(Ff)+" is not a constructor or null");function x_(){this.constructor=kh}nA(kh,Ff),kh.prototype=Ff===null?Object.create(Ff):(x_.prototype=Ff.prototype,new x_)}var oA=function(){return oA=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++)for(var zP in Ff=arguments[x_])Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP]);return kh},oA.apply(this,arguments)};function iA(kh){var Ff=typeof Symbol=="function"&&Symbol.iterator,x_=Ff&&kh[Ff],$P=0;if(x_)return x_.call(kh);if(kh&&typeof kh.length=="number")return{next:function(){return kh&&$P>=kh.length&&(kh=void 0),{value:kh&&kh[$P++],done:!kh}}};throw new TypeError(Ff?"Object is not iterable.":"Symbol.iterator is not defined.")}function aA(kh,Ff){var x_=typeof Symbol=="function"&&kh[Symbol.iterator];if(!x_)return kh;var $P,zP,eme=x_.call(kh),tme=[];try{for(;(Ff===void 0||Ff-- >0)&&!($P=eme.next()).done;)tme.push($P.value)}catch(nme){zP={error:nme}}finally{try{$P&&!$P.done&&(x_=eme.return)&&x_.call(eme)}finally{if(zP)throw zP.error}}return tme}function uA(kh,Ff){for(var x_=0,$P=Ff.length,zP=kh.length;x_<$P;x_++,zP++)kh[zP]=Ff[x_];return kh}var sA=0,lA=function(){this.id=""+sA++},cA=ME.set,fA=ME.getterFor("Array Iterator"),dA=Ux(Array,"Array",function(kh,Ff){cA(this,{type:"Array Iterator",target:RD(kh),index:0,kind:Ff})},function(){var kh=fA(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values");ZS.Arguments=ZS.Array,RS("keys"),RS("values"),RS("entries");var pA=function(kh,Ff,x_){for(var $P in Ff)UE(kh,$P,Ff[$P],x_);return kh},hA=lw.Array,gA=Math.max,vA=function(kh,Ff,x_){for(var $P=pD(kh),zP=VD(Ff,$P),eme=VD(x_===void 0?$P:x_,$P),tme=hA(gA(eme-zP,0)),nme=0;zP<eme;zP++,nme++)tx(tme,nme,kh[zP]);return tme.length=nme,tme},yA=ZD.f,mA=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bA={f:function(kh){return mA&&qE(kh)=="Window"?function(Ff){try{return yA(Ff)}catch(x_){return vA(mA)}}(kh):yA(RD(kh))}},wA=Rw(function(){if(typeof ArrayBuffer=="function"){var kh=new ArrayBuffer(8);Object.isExtensible(kh)&&Object.defineProperty(kh,"a",{value:8})}}),EA=Object.isExtensible,DA=Rw(function(){EA(1)})||wA?function(kh){return!!Yw(kh)&&(!wA||qE(kh)!="ArrayBuffer")&&(!EA||EA(kh))}:EA,SA=!Rw(function(){return Object.isExtensible(Object.preventExtensions({}))}),xA=iw(function(kh){var Ff=bE.f,x_=!1,$P=kw("meta"),zP=0,eme=function(nme){Ff(nme,$P,{value:{objectID:"O"+zP++,weakData:{}}})},tme=kh.exports={enable:function(){tme.enable=function(){},x_=!0;var nme=ZD.f,rme=mw([].splice),ime={};ime[$P]=1,nme(ime).length&&(ZD.f=function(ome){for(var sme=nme(ome),ame=0,lme=sme.length;ame<lme;ame++)if(sme[ame]===$P){rme(sme,ame,1);break}return sme},cS({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:bA.f}))},fastKey:function(nme,rme){if(!Yw(nme))return typeof nme=="symbol"?nme:(typeof nme=="string"?"S":"P")+nme;if(!xw(nme,$P)){if(!DA(nme))return"F";if(!rme)return"E";eme(nme)}return nme[$P].objectID},getWeakData:function(nme,rme){if(!xw(nme,$P)){if(!DA(nme))return!0;if(!rme)return!1;eme(nme)}return nme[$P].weakData},onFreeze:function(nme){return SA&&x_&&DA(nme)&&!xw(nme,$P)&&eme(nme),nme}};TE[$P]=!0}),CA=lw.TypeError,AA=function(kh,Ff){this.stopped=kh,this.result=Ff},OA=AA.prototype,kA=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome=x_&&x_.that,sme=!(!x_||!x_.AS_ENTRIES),ame=!(!x_||!x_.IS_ITERATOR),lme=!(!x_||!x_.INTERRUPTED),ume=oD(Ff,ome),dme=function(hme){return $P&&YS($P,"normal",hme),new AA(!0,hme)},pme=function(hme){return sme?(nE(hme),lme?ume(hme[0],hme[1],dme):ume(hme[0],hme[1])):lme?ume(hme,dme):ume(hme)};if(ame)$P=kh;else{if(!(zP=rx(kh)))throw CA(lE(kh)+" is not iterable");if(ex(zP)){for(eme=0,tme=pD(kh);tme>eme;eme++)if((nme=pme(kh[eme]))&&iE(OA,nme))return nme;return new AA(!1)}$P=ix(kh,zP)}for(rme=$P.next;!(ime=oE(rme,$P)).done;){try{nme=pme(ime.value)}catch(hme){YS($P,"throw",hme)}if(typeof nme=="object"&&nme&&iE(OA,nme))return nme}return new AA(!1)},BA=lw.TypeError,FA=function(kh,Ff){if(iE(Ff,kh))return kh;throw BA("Incorrect invocation")},TA=function(kh,Ff,x_){var $P,zP;return Lx&&Bw($P=Ff.constructor)&&$P!==x_&&Yw(zP=$P.prototype)&&zP!==x_.prototype&&Lx(kh,zP),kh},_A=function(kh,Ff,x_){var $P=kh.indexOf("Map")!==-1,zP=kh.indexOf("Weak")!==-1,eme=$P?"set":"add",tme=lw[kh],nme=tme&&tme.prototype,rme=tme,ime={},ome=function(pme){var hme=mw(nme[pme]);UE(nme,pme,pme=="add"?function(cme){return hme(this,cme===0?0:cme),this}:pme=="delete"?function(cme){return!(zP&&!Yw(cme))&&hme(this,cme===0?0:cme)}:pme=="get"?function(cme){return zP&&!Yw(cme)?void 0:hme(this,cme===0?0:cme)}:pme=="has"?function(cme){return!(zP&&!Yw(cme))&&hme(this,cme===0?0:cme)}:function(cme,_me){return hme(this,cme===0?0:cme,_me),this})};if(sS(kh,!Bw(tme)||!(zP||nme.forEach&&!Rw(function(){new tme().entries().next()}))))rme=x_.getConstructor(Ff,kh,$P,eme),xA.enable();else if(sS(kh,!0)){var sme=new rme,ame=sme[eme](zP?{}:-0,1)!=sme,lme=Rw(function(){sme.has(1)}),ume=fx(function(pme){new tme(pme)}),dme=!zP&&Rw(function(){for(var pme=new tme,hme=5;hme--;)pme[eme](hme,hme);return!pme.has(-0)});ume||((rme=Ff(function(pme,hme){FA(pme,nme);var cme=TA(new tme,pme,rme);return hme!=null&&kA(hme,cme[eme],{that:cme,AS_ENTRIES:$P}),cme})).prototype=nme,nme.constructor=rme),(lme||dme)&&(ome("delete"),ome("has"),$P&&ome("get")),(dme||ame)&&ome(eme),zP&&nme.clear&&delete nme.clear}return ime[kh]=rme,cS({global:!0,forced:rme!=tme},ime),_x(rme,kh),zP||x_.setStrong(rme,kh,$P),rme},PA=xA.getWeakData,jA=ME.set,NA=ME.getterFor,IA=kD.find,LA=kD.findIndex,RA=mw([].splice),MA=0,zA=function(kh){return kh.frozen||(kh.frozen=new $A)},$A=function(){this.entries=[]},HA=function(kh,Ff){return IA(kh.entries,function(x_){return x_[0]===Ff})};$A.prototype={get:function(kh){var Ff=HA(this,kh);if(Ff)return Ff[1]},has:function(kh){return!!HA(this,kh)},set:function(kh,Ff){var x_=HA(this,kh);x_?x_[1]=Ff:this.entries.push([kh,Ff])},delete:function(kh){var Ff=LA(this.entries,function(x_){return x_[0]===kh});return~Ff&&RA(this.entries,Ff,1),!!~Ff}};var VA,UA={getConstructor:function(kh,Ff,x_,$P){var zP=kh(function(rme,ime){FA(rme,eme),jA(rme,{type:Ff,id:MA++,frozen:void 0}),ime!=null&&kA(ime,rme[$P],{that:rme,AS_ENTRIES:x_})}),eme=zP.prototype,tme=NA(Ff),nme=function(rme,ime,ome){var sme=tme(rme),ame=PA(nE(ime),!0);return ame===!0?zA(sme).set(ime,ome):ame[sme.id]=ome,rme};return pA(eme,{delete:function(rme){var ime=tme(this);if(!Yw(rme))return!1;var ome=PA(rme);return ome===!0?zA(ime).delete(rme):ome&&xw(ome,ime.id)&&delete ome[ime.id]},has:function(rme){var ime=tme(this);if(!Yw(rme))return!1;var ome=PA(rme);return ome===!0?zA(ime).has(rme):ome&&xw(ome,ime.id)}}),pA(eme,x_?{get:function(rme){var ime=tme(this);if(Yw(rme)){var ome=PA(rme);return ome===!0?zA(ime).get(rme):ome?ome[ime.id]:void 0}},set:function(rme,ime){return nme(this,rme,ime)}}:{add:function(rme){return nme(this,rme,!0)}}),zP}},WA=ME.enforce,GA=!lw.ActiveXObject&&"ActiveXObject"in lw,qA=function(kh){return function(){return kh(this,arguments.length?arguments[0]:void 0)}},KA=_A("WeakMap",qA,UA);if(kE&&GA){VA=UA.getConstructor(qA,"WeakMap",!0),xA.enable();var YA=KA.prototype,XA=mw(YA.delete),ZA=mw(YA.has),JA=mw(YA.get),QA=mw(YA.set);pA(YA,{delete:function(kh){if(Yw(kh)&&!DA(kh)){var Ff=WA(this);return Ff.frozen||(Ff.frozen=new VA),XA(this,kh)||Ff.frozen.delete(kh)}return XA(this,kh)},has:function(kh){if(Yw(kh)&&!DA(kh)){var Ff=WA(this);return Ff.frozen||(Ff.frozen=new VA),ZA(this,kh)||Ff.frozen.has(kh)}return ZA(this,kh)},get:function(kh){if(Yw(kh)&&!DA(kh)){var Ff=WA(this);return Ff.frozen||(Ff.frozen=new VA),ZA(this,kh)?JA(this,kh):Ff.frozen.get(kh)}return JA(this,kh)},set:function(kh,Ff){if(Yw(kh)&&!DA(kh)){var x_=WA(this);x_.frozen||(x_.frozen=new VA),ZA(this,kh)?QA(this,kh,Ff):x_.frozen.set(kh,Ff)}else QA(this,kh,Ff);return this}})}var eO=Ww("iterator"),tO=Ww("toStringTag"),nO=dA.values,rO=function(kh,Ff){if(kh){if(kh[eO]!==nO)try{EE(kh,eO,nO)}catch($P){kh[eO]=nO}if(kh[tO]||EE(kh,tO,Ff),QE[Ff]){for(var x_ in dA)if(kh[x_]!==dA[x_])try{EE(kh,x_,dA[x_])}catch($P){kh[x_]=dA[x_]}}}};for(var oO in QE)rO(lw[oO]&&lw[oO].prototype,oO);rO(nD,"DOMTokenList");var iO=new WeakMap,aO=new WeakMap,uO=new WeakMap,sO=new WeakMap,lO=new WeakMap,cO=new WeakMap,fO=new WeakMap,dO=new WeakMap,pO=new WeakMap,hO=new WeakMap,gO=new WeakMap,vO=new WeakMap,yO=new WeakMap,mO=new WeakMap,bO=new WeakMap,wO=new WeakMap,EO=new WeakMap,DO=new WeakMap,SO=new WeakMap,xO=new WeakMap,CO=new WeakMap,AO=new WeakMap,OO=new WeakMap,kO=new WeakMap,BO=new WeakMap,FO=kD.find,TO=!0;"find"in[]&&Array(1).find(function(){TO=!1}),cS({target:"Array",proto:!0,forced:TO},{find:function(kh){return FO(this,kh,arguments.length>1?arguments[1]:void 0)}}),RS("find"),cS({global:!0},{globalThis:lw});const _O=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"];eh&&(Mp.fn.css=eh),ah&&(Mp.fn.append=ah),zp&&(Mp.fn.addClass=zp),$p&&(Mp.fn.removeClass=$p),Hp&&(Mp.fn.hasClass=Hp),qp&&(Mp.fn.on=qp),yh&&(Mp.fn.focus=yh),Vp&&(Mp.fn.attr=Vp),Up&&(Mp.fn.removeAttr=Up),Jp&&(Mp.fn.hide=Jp),Qp&&(Mp.fn.show=Qp),Zp&&(Mp.fn.offset=Zp),Yp&&(Mp.fn.width=Yp),Xp&&(Mp.fn.height=Xp),sh&&(Mp.fn.parent=sh),lh&&(Mp.fn.parents=lh),ih&&(Mp.fn.is=ih),Wp&&(Mp.fn.dataset=Wp),Gp&&(Mp.fn.val=Gp),oh&&(Mp.fn.text=oh),rh&&(Mp.fn.html=rh),fh&&(Mp.fn.children=fh),dh&&(Mp.fn.remove=dh),ch&&(Mp.fn.find=ch),th&&(Mp.fn.each=th),ph&&(Mp.fn.empty=ph);var PO,jO,NO=function(kh){return kh&&kh.ownerDocument&&kh.ownerDocument.defaultView||null},IO=function(kh){return LO(kh)&&kh.nodeType===1},LO=function(kh){var Ff=NO(kh);return!!Ff&&kh instanceof Ff.Node},RO=function(kh){var Ff=kh&&kh.anchorNode&&NO(kh.anchorNode);return!!Ff&&kh instanceof Ff.Selection},MO=function(kh){return LO(kh)&&kh.nodeType===3},zO=function(kh){var Ff,x_,$P;return(Ff=window.document.getElementById(kh))!==null&&Ff!==void 0?Ff:(($P=(x_=window.document.activeElement)===null||x_===void 0?void 0:x_.shadowRoot)===null||$P===void 0?void 0:$P.getElementById(kh))||null},$O=function(kh,Ff,x_){for(var $P,zP=kh.childNodes,eme=zP[Ff],tme=Ff,nme=!1,rme=!1;(LO($P=eme)&&$P.nodeType===8||IO(eme)&&eme.childNodes.length===0||IO(eme)&&eme.getAttribute("contenteditable")==="false")&&(!nme||!rme);)tme>=zP.length?(nme=!0,tme=Ff-1,x_="backward"):tme<0?(rme=!0,tme=Ff+1,x_="forward"):(eme=zP[tme],Ff=tme,tme+=x_==="forward"?1:-1);return[eme,Ff]},HO=function(kh,Ff,x_){return aA($O(kh,Ff,x_),1)[0]},VO=function kh(Ff){var x_,$P,zP="";if(MO(Ff)&&Ff.nodeValue)return Ff.nodeValue;if(IO(Ff)){try{for(var eme=iA(Array.from(Ff.childNodes)),tme=eme.next();!tme.done;tme=eme.next())zP+=kh(tme.value)}catch(rme){x_={error:rme}}finally{try{tme&&!tme.done&&($P=eme.return)&&$P.call(eme)}finally{if(x_)throw x_.error}}var nme=getComputedStyle(Ff).getPropertyValue("display");nme!=="block"&&nme!=="list"&&nme!=="table-row"&&Ff.tagName!=="BR"||(zP+=`
`)}return zP};function UO(kh,Ff){if(!(kh instanceof HTMLElement&&kh.dataset.slateVoid==="true"))for(var x_=kh.childNodes,$P=x_.length;$P--;){var zP=x_[$P],eme=zP.nodeType;eme==3?Ff(zP,kh):eme!=1&&eme!=9&&eme!=11||UO(zP,Ff)}}function WO(kh){if(kh.length===0)return"";var Ff=kh[0];return Ff.nodeType!==PO.ELEMENT_NODE?"":Ff.tagName.toLowerCase()}(jO=PO||(PO={}))[jO.ELEMENT_NODE=1]="ELEMENT_NODE",jO[jO.TEXT_NODE=3]="TEXT_NODE",jO[jO.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",jO[jO.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",jO[jO.COMMENT_NODE=8]="COMMENT_NODE",jO[jO.DOCUMENT_NODE=9]="DOCUMENT_NODE",jO[jO.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",jO[jO.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE";var GO=typeof navigator!="undefined"&&/Mac OS X/.test(navigator.userAgent),qO=typeof navigator!="undefined"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),KO=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),YO=typeof navigator!="undefined"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),XO=typeof navigator!="undefined"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),ZO=typeof navigator!="undefined"&&/Chrome/i.test(navigator.userAgent),JO=!XO&&!YO&&typeof globalThis!="undefined"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",QO={getWindow:function(kh){var Ff=CO.get(kh);if(!Ff)throw new Error("Unable to find a host window element for this editor");return Ff},findKey:function(kh,Ff){var x_=xO.get(Ff);return x_||(x_=new lA,xO.set(Ff,x_)),x_},setNewKey:function(kh){var Ff=new lA;xO.set(kh,Ff)},findPath:function(kh,Ff){for(var x_=[],$P=Ff;;){var zP=bO.get($P);if(zP==null){if(Bf.isEditor($P))return x_;break}var eme=mO.get($P);if(eme==null)break;x_.unshift(eme),$P=zP}throw new Error("Unable to find the path for Slate node: "+JSON.stringify(Ff))},findDocumentOrShadowRoot:function(kh){if(kh.isDestroyed)return window.document;var Ff=QO.toDOMNode(kh,kh),x_=Ff.getRootNode();return(x_ instanceof Document||x_ instanceof ShadowRoot)&&x_.getSelection!=null?x_:Ff.ownerDocument},getParentNode:function(kh,Ff){return bO.get(Ff)||null},getParentsNodes:function(kh,Ff){for(var x_=[],$P=Ff;$P!==kh&&$P!=null;){var zP=QO.getParentNode(kh,$P);if(zP==null)break;x_.push(zP),$P=zP}return x_},getTopNode:function(kh,Ff){var x_=[QO.findPath(kh,Ff)[0]];return Nf.get(kh,x_)},toDOMNode:function(kh,Ff){var x_;if(Bf.isEditor(Ff))x_=wO.get(kh);else{var $P=QO.findKey(kh,Ff);x_=DO.get($P)}if(!x_)throw new Error("Cannot resolve a DOM node from Slate node: "+JSON.stringify(Ff));return x_},hasDOMNode:function(kh,Ff,x_){x_===void 0&&(x_={});var $P,zP=x_.editable,eme=zP!==void 0&&zP,tme=QO.toDOMNode(kh,kh);try{$P=IO(Ff)?Ff:Ff.parentElement}catch(nme){if(!nme.message.includes('Permission denied to access property "nodeType"'))throw nme}return!!$P&&$P.closest("[data-slate-editor]")===tme&&(!eme||$P.isContentEditable||!!$P.getAttribute("data-slate-zero-width"))},toDOMRange:function(kh,Ff){var x_=Ff.anchor,$P=Ff.focus,zP=qf.isBackward(Ff),eme=QO.toDOMPoint(kh,x_),tme=qf.isCollapsed(Ff)?eme:QO.toDOMPoint(kh,$P),nme=QO.getWindow(kh).document.createRange(),rme=aA(zP?tme:eme,2),ime=rme[0],ome=rme[1],sme=aA(zP?eme:tme,2),ame=sme[0],lme=sme[1],ume=!!(IO(ime)?ime:ime.parentElement).getAttribute("data-slate-zero-width"),dme=!!(IO(ame)?ame:ame.parentElement).getAttribute("data-slate-zero-width");return nme.setStart(ime,ume?1:ome),nme.setEnd(ame,dme?1:lme),nme},toDOMPoint:function(kh,Ff){var x_,$P,zP,eme=aA(Bf.node(kh,Ff.path),1)[0],tme=QO.toDOMNode(kh,eme);Bf.void(kh,{at:Ff})&&(Ff={path:Ff.path,offset:0});var nme=Array.from(tme.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),rme=0;try{for(var ime=iA(nme),ome=ime.next();!ome.done;ome=ime.next()){var sme=ome.value,ame=sme.childNodes[0];if(ame!=null&&ame.textContent!=null){var lme=ame.textContent.length,ume=sme.getAttribute("data-slate-length"),dme=rme+(ume==null?lme:parseInt(ume,10));if(Ff.offset<=dme){zP=[ame,Math.min(lme,Math.max(0,Ff.offset-rme))];break}rme=dme}}}catch(pme){x_={error:pme}}finally{try{ome&&!ome.done&&($P=ime.return)&&$P.call(ime)}finally{if(x_)throw x_.error}}if(!zP)throw new Error("Cannot resolve a DOM point from Slate point: "+JSON.stringify(Ff));return zP},toSlateNode:function(kh,Ff){var x_=IO(Ff)?Ff:Ff.parentElement;x_&&!x_.hasAttribute("data-slate-node")&&(x_=x_.closest("[data-slate-node]"));var $P=x_?EO.get(x_):null;if(!$P)throw new Error("Cannot resolve a Slate node from DOM node: "+x_);return $P},findEventRange:function(kh,Ff){"nativeEvent"in Ff&&(Ff=Ff.nativeEvent);var x_=Ff.clientX,$P=Ff.clientY,zP=Ff.target;if(x_==null||$P==null)throw new Error("Cannot resolve a Slate range from a DOM event: "+Ff);var eme,tme=QO.toSlateNode(kh,Ff.target),nme=QO.findPath(kh,tme);if(Bf.isVoid(kh,tme)){var rme=zP.getBoundingClientRect(),ime=kh.isInline(tme)?x_-rme.left<rme.left+rme.width-x_:$P-rme.top<rme.top+rme.height-$P,ome=Bf.point(kh,nme,{edge:ime?"start":"end"}),sme=ime?Bf.before(kh,ome):Bf.after(kh,ome);if(sme)return Bf.range(kh,sme)}var ame=this.getWindow(kh).document;if(ame.caretRangeFromPoint)eme=ame.caretRangeFromPoint(x_,$P);else{var lme=ame.caretPositionFromPoint(x_,$P);lme&&((eme=ame.createRange()).setStart(lme.offsetNode,lme.offset),eme.setEnd(lme.offsetNode,lme.offset))}if(!eme)throw new Error("Cannot resolve a Slate range from a DOM event: "+Ff);return QO.toSlateRange(kh,eme,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme=x_.exactMatch,ime=x_.suppressThrow;if((RO(Ff)?Ff.anchorNode:Ff.startContainer)&&(RO(Ff)?($P=Ff.anchorNode,zP=Ff.anchorOffset,eme=Ff.focusNode,tme=Ff.focusOffset,nme=ZO&&window.document.activeElement&&window.document.activeElement.shadowRoot?Ff.anchorNode===Ff.focusNode&&Ff.anchorOffset===Ff.focusOffset:Ff.isCollapsed):($P=Ff.startContainer,zP=Ff.startOffset,eme=Ff.endContainer,tme=Ff.endOffset,nme=Ff.collapsed)),$P==null||eme==null||zP==null||tme==null)throw new Error("Cannot resolve a Slate range from DOM range: "+Ff);var ome=QO.toSlatePoint(kh,[$P,zP],{exactMatch:rme,suppressThrow:ime});if(!ome)return null;var sme=nme?ome:QO.toSlatePoint(kh,[eme,tme],{exactMatch:rme,suppressThrow:ime});if(!sme)return null;var ame={anchor:ome,focus:sme};return qf.isExpanded(ame)&&qf.isForward(ame)&&IO(eme)&&Bf.void(kh,{at:ame.focus,mode:"highest"})&&(ame=Bf.unhangRange(kh,ame,{voids:!0})),ame},toSlatePoint:function(kh,Ff,x_){var $P,zP=x_.exactMatch,eme=x_.suppressThrow,tme=aA(zP?Ff:function(cme){var _me,vme=aA(cme,2),Eme=vme[0],wme=vme[1];if(IO(Eme)&&Eme.childNodes.length){var Tme=wme===Eme.childNodes.length,Dme=Tme?wme-1:wme;for(Eme=(_me=aA($O(Eme,Dme,Tme?"backward":"forward"),2))[0],Tme=(Dme=_me[1])<wme;IO(Eme)&&Eme.childNodes.length;){var Ame=Tme?Eme.childNodes.length-1:0;Eme=HO(Eme,Ame,Tme?"backward":"forward")}wme=Tme&&Eme.textContent!=null?Eme.textContent.length:0}return[Eme,wme]}(Ff),2),nme=tme[0],rme=tme[1],ime=nme.parentNode,ome=null,sme=0;if(ime){var ame=ime.closest('[data-slate-void="true"]'),lme=ime.closest("[data-slate-leaf]"),ume=null;if(lme){ome=lme.closest('[data-slate-node="text"]');var dme=QO.getWindow(kh).document.createRange();dme.setStart(ome,0),dme.setEnd(nme,rme);var pme=dme.cloneContents();uA(uA([],aA(xp(pme.querySelectorAll("[data-slate-zero-width]")))),aA(xp(pme.querySelectorAll("[contenteditable=false]")))).forEach(function(cme){cme.parentNode.removeChild(cme)}),sme=pme.textContent.length,ume=ome}else ame&&((lme=ame.querySelector("[data-slate-leaf]"))?(ome=lme.closest('[data-slate-node="text"]'),sme=(ume=lme).textContent.length,ume.querySelectorAll("[data-slate-zero-width]").forEach(function(cme){sme-=cme.textContent.length})):sme=1);ume&&sme===ume.textContent.length&&(ime.hasAttribute("data-slate-zero-width")||qO&&(!(($P=ume.textContent)===null||$P===void 0)&&$P.endsWith(`
`)))&&sme--}if(!ome){if(eme)return null;throw new Error("Cannot resolve a Slate point from DOM point: "+Ff)}var hme=QO.toSlateNode(kh,ome);return{path:QO.findPath(kh,hme),offset:sme}},hasRange:function(kh,Ff){var x_=Ff.anchor,$P=Ff.focus;return Bf.hasPath(kh,x_.path)&&Bf.hasPath(kh,$P.path)},getNodeType:function(kh){return Sf.isElement(kh)?kh.type:""},checkNodeType:function(kh,Ff){return this.getNodeType(kh)===Ff},getNodesStr:function(kh){return kh.map(function(Ff){return Nf.string(Ff)}).join("")},getSelectedElems:function(kh){var Ff,x_,$P=[],zP=Bf.nodes(kh,{universal:!0});try{for(var eme=iA(zP),tme=eme.next();!tme.done;tme=eme.next()){var nme=aA(tme.value,1)[0];Sf.isElement(nme)&&$P.push(nme)}}catch(rme){Ff={error:rme}}finally{try{tme&&!tme.done&&(x_=eme.return)&&x_.call(eme)}finally{if(Ff)throw Ff.error}}return $P},getSelectedNodeByType:function(kh,Ff){var x_=this,$P=aA(Bf.nodes(kh,{match:function(eme){return x_.checkNodeType(eme,Ff)},universal:!0}),1),zP=$P[0];return zP==null?null:zP[0]},getSelectedTextNode:function(kh){var Ff=aA(Bf.nodes(kh,{match:function($P){return ed.isText($P)},universal:!0}),1),x_=Ff[0];return x_==null?null:x_[0]},isNodeSelected:function(kh,Ff){var x_=aA(Bf.nodes(kh,{match:function(zP){return zP===Ff},universal:!0}),1),$P=x_[0];return $P!=null&&aA($P,1)[0]===Ff},isSelectionAtLineEnd:function(kh,Ff){var x_=kh.selection;return!!x_&&(Bf.isEnd(kh,x_.anchor,Ff)||Bf.isEnd(kh,x_.focus,Ff))},getTextarea:function(kh){var Ff=iO.get(kh);if(Ff==null)throw new Error("Cannot find textarea instance by editor");return Ff},getToolbar:function(kh){return sO.get(kh)||null},getHoverbar:function(kh){return cO.get(kh)||null},normalizeContent:function(kh){kh.children.forEach(function(Ff,x_){kh.normalizeNode([Ff,[x_]])})},getLeftLengthOfMaxLength:function(kh){var Ff=kh.getConfig(),x_=Ff.maxLength,$P=Ff.onMaxLength;if(typeof x_!="number"||x_<=0)return 1/0;var zP=x_-kh.getText().replace(/\r|\n|(\r\n)/g,"").length;return zP<=0&&$P&&$P(kh),zP},cleanExposedTexNodeInSelectionBlock:function(kh){var Ff,x_,$P,zP,eme=QO.getTextarea(kh).$textArea,tme=eme==null?void 0:eme[0].childNodes;if(tme)try{for(var nme=iA(Array.from(tme)),rme=nme.next();!rme.done;rme=nme.next()){var ime=rme.value;if(ime.nodeType!==3)break;ime.remove()}}catch(dme){Ff={error:dme}}finally{try{rme&&!rme.done&&(x_=nme.return)&&x_.call(nme)}finally{if(Ff)throw Ff.error}}var ome=Bf.nodes(kh,{match:function(dme){return!(!Sf.isElement(dme)||kh.isInline(dme))},universal:!0});try{for(var sme=iA(ome),ame=sme.next();!ame.done;ame=sme.next()){var lme=ame.value;if(lme!=null){var ume=lme[0];UO(QO.toDOMNode(kh,ume),function(dme,pme){var hme=Mp(pme);hme.attr("data-slate-string")||hme.attr("data-slate-zero-width")||hme.attr("data-w-e-reserve")||pme.removeChild(dme)})}}}catch(dme){$P={error:dme}}finally{try{ame&&!ame.done&&(zP=sme.return)&&zP.call(sme)}finally{if($P)throw $P.error}}},isLastNode:function(kh,Ff){var x_=kh.children||[];return x_[x_.length-1]===Ff},genEmptyParagraph:function(){return{type:"paragraph",children:[{text:""}]}},isSelectedVoidNode:function(kh){var Ff,x_,$P=Bf.nodes(kh,{match:function(nme){return kh.isVoid(nme)}}),zP=0;try{for(var eme=iA($P),tme=eme.next();!tme.done;tme=eme.next())tme.value,zP++}catch(nme){Ff={error:nme}}finally{try{tme&&!tme.done&&(x_=eme.return)&&x_.call(eme)}finally{if(Ff)throw Ff.error}}return zP>0},isSelectedEmptyParagraph:function(kh){var Ff=kh.selection;if(Ff==null||qf.isExpanded(Ff))return!1;var x_=QO.getSelectedNodeByType(kh,"paragraph");if(x_===null)return!1;var $P=x_.children;return $P.length===1&&($P[0].text===""||void 0)},isEmptyPath:function(kh,Ff){var x_=Bf.node(kh,Ff);if(x_==null)return!1;var $P=aA(x_,1)[0].children;return $P.length===1&&$P[0].text===""}},ek=1,tk={},nk={},rk=kD.filter,ok=iC("filter");cS({target:"Array",proto:!0,forced:!ok},{filter:function(kh){return rk(this,kh,arguments.length>1?arguments[1]:void 0)}});var ik=`	
\v\f\r                　\u2028\u2029\uFEFF`,ak=mw("".replace),uk="["+ik+"]",sk=RegExp("^"+uk+uk+"*"),lk=RegExp(uk+uk+"*$"),ck=function(kh){return function(Ff){var x_=bS(ww(Ff));return 1&kh&&(x_=ak(x_,sk,"")),2&kh&&(x_=ak(x_,lk,"")),x_}},fk={start:ck(1),end:ck(2),trim:ck(3)},dk=VE.PROPER,pk=fk.trim;cS({target:"String",proto:!0,forced:function(kh){return Rw(function(){return!!ik[kh]()||"​᠎"[kh]()!=="​᠎"||dk&&ik[kh].name!==kh})}("trim")},{trim:function(){return pk(this)}});var hk=[],gk={};function vk(kh,Ff,x_){var $P=x_.isInline(kh)?"span":"div";return"<"+$P+">"+Ff+"</"+$P+">"}var yk,mk,bk,wk,Ek=lw.Promise,Dk=Ww("species"),Sk=function(kh){var Ff=Tw(kh),x_=bE.f;Kw&&Ff&&!Ff[Dk]&&x_(Ff,Dk,{configurable:!0,get:function(){return this}})},xk=lw.TypeError,Ck=Ww("species"),Ak=function(kh,Ff){var x_,$P=nE(kh).constructor;return $P===void 0||(x_=nE($P)[Ck])==null?Ff:function(zP){if(DD(zP))return zP;throw xk(lE(zP)+" is not a constructor")}(x_)},Ok=mw([].slice),kk=/(?:ipad|iphone|ipod).*applewebkit/i.test(_w),Bk=qE(lw.process)=="process",Fk=lw.setImmediate,Tk=lw.clearImmediate,_k=lw.process,Pk=lw.Dispatch,jk=lw.Function,Nk=lw.MessageChannel,Ik=lw.String,Lk=0,Rk={};try{yk=lw.location}catch(kh){}var Mk=function(kh){if(xw(Rk,kh)){var Ff=Rk[kh];delete Rk[kh],Ff()}},zk=function(kh){return function(){Mk(kh)}},$k=function(kh){Mk(kh.data)},Hk=function(kh){lw.postMessage(Ik(kh),yk.protocol+"//"+yk.host)};Fk&&Tk||(Fk=function(kh){var Ff=Ok(arguments,1);return Rk[++Lk]=function(){_C(Bw(kh)?kh:jk(kh),void 0,Ff)},mk(Lk),Lk},Tk=function(kh){delete Rk[kh]},Bk?mk=function(kh){_k.nextTick(zk(kh))}:Pk&&Pk.now?mk=function(kh){Pk.now(zk(kh))}:Nk&&!kk?(wk=(bk=new Nk).port2,bk.port1.onmessage=$k,mk=oD(wk.postMessage,wk)):lw.addEventListener&&Bw(lw.postMessage)&&!lw.importScripts&&yk&&yk.protocol!=="file:"&&!Rw(Hk)?(mk=Hk,lw.addEventListener("message",$k,!1)):mk="onreadystatechange"in Jw("script")?function(kh){BS.appendChild(Jw("script")).onreadystatechange=function(){BS.removeChild(this),Mk(kh)}}:function(kh){setTimeout(zk(kh),0)});var Vk,Uk,Wk,Gk,qk,Kk,Yk,Xk,Zk={set:Fk,clear:Tk},Jk=/ipad|iphone|ipod/i.test(_w)&&lw.Pebble!==void 0,Qk=/web0s(?!.*chrome)/i.test(_w),eB=zD.f,tB=Zk.set,nB=lw.MutationObserver||lw.WebKitMutationObserver,rB=lw.document,oB=lw.process,iB=lw.Promise,aB=eB(lw,"queueMicrotask"),uB=aB&&aB.value;uB||(Vk=function(){var kh,Ff;for(Bk&&(kh=oB.domain)&&kh.exit();Uk;){Ff=Uk.fn,Uk=Uk.next;try{Ff()}catch(x_){throw Uk?Gk():Wk=void 0,x_}}Wk=void 0,kh&&kh.enter()},kk||Bk||Qk||!nB||!rB?!Jk&&iB&&iB.resolve?((Yk=iB.resolve(void 0)).constructor=iB,Xk=oD(Yk.then,Yk),Gk=function(){Xk(Vk)}):Bk?Gk=function(){oB.nextTick(Vk)}:(tB=oD(tB,lw),Gk=function(){tB(Vk)}):(qk=!0,Kk=rB.createTextNode(""),new nB(Vk).observe(Kk,{characterData:!0}),Gk=function(){Kk.data=qk=!qk}));var sB,lB,cB,fB,dB=uB||function(kh){var Ff={fn:kh,next:void 0};Wk&&(Wk.next=Ff),Uk||(Uk=Ff,Gk()),Wk=Ff},pB=function(kh){var Ff,x_;this.promise=new kh(function($P,zP){if(Ff!==void 0||x_!==void 0)throw TypeError("Bad Promise constructor");Ff=$P,x_=zP}),this.resolve=fE(Ff),this.reject=fE(x_)},hB={f:function(kh){return new pB(kh)}},gB=function(kh){try{return{error:!1,value:kh()}}catch(Ff){return{error:!0,value:Ff}}},vB=typeof window=="object",yB=Zk.set,mB=Ww("species"),bB="Promise",wB=ME.getterFor(bB),EB=ME.set,DB=ME.getterFor(bB),SB=Ek&&Ek.prototype,xB=Ek,CB=SB,AB=lw.TypeError,OB=lw.document,kB=lw.process,BB=hB.f,FB=BB,TB=!!(OB&&OB.createEvent&&lw.dispatchEvent),_B=Bw(lw.PromiseRejectionEvent),PB=!1,jB=sS(bB,function(){var kh=AE(xB),Ff=kh!==String(xB);if(!Ff&&Lw===66)return!0;if(Lw>=51&&/native code/.test(kh))return!1;var x_=new xB(function(zP){zP(1)}),$P=function(zP){zP(function(){},function(){})};return(x_.constructor={})[mB]=$P,!(PB=x_.then(function(){})instanceof $P)||!Ff&&vB&&!_B}),NB=jB||!fx(function(kh){xB.all(kh).catch(function(){})}),IB=function(kh){var Ff;return!(!Yw(kh)||!Bw(Ff=kh.then))&&Ff},LB=function(kh,Ff){if(!kh.notified){kh.notified=!0;var x_=kh.reactions;dB(function(){for(var $P=kh.value,zP=kh.state==1,eme=0;x_.length>eme;){var tme,nme,rme,ime=x_[eme++],ome=zP?ime.ok:ime.fail,sme=ime.resolve,ame=ime.reject,lme=ime.domain;try{ome?(zP||(kh.rejection===2&&$B(kh),kh.rejection=1),ome===!0?tme=$P:(lme&&lme.enter(),tme=ome($P),lme&&(lme.exit(),rme=!0)),tme===ime.promise?ame(AB("Promise-chain cycle")):(nme=IB(tme))?oE(nme,tme,sme,ame):sme(tme)):ame($P)}catch(ume){lme&&!rme&&lme.exit(),ame(ume)}}kh.reactions=[],kh.notified=!1,Ff&&!kh.rejection&&MB(kh)})}},RB=function(kh,Ff,x_){var $P,zP;TB?(($P=OB.createEvent("Event")).promise=Ff,$P.reason=x_,$P.initEvent(kh,!1,!0),lw.dispatchEvent($P)):$P={promise:Ff,reason:x_},!_B&&(zP=lw["on"+kh])?zP($P):kh==="unhandledrejection"&&function(eme,tme){var nme=lw.console;nme&&nme.error&&(arguments.length==1?nme.error(eme):nme.error(eme,tme))}("Unhandled promise rejection",x_)},MB=function(kh){oE(yB,lw,function(){var Ff,x_=kh.facade,$P=kh.value;if(zB(kh)&&(Ff=gB(function(){Bk?kB.emit("unhandledRejection",$P,x_):RB("unhandledrejection",x_,$P)}),kh.rejection=Bk||zB(kh)?2:1,Ff.error))throw Ff.value})},zB=function(kh){return kh.rejection!==1&&!kh.parent},$B=function(kh){oE(yB,lw,function(){var Ff=kh.facade;Bk?kB.emit("rejectionHandled",Ff):RB("rejectionhandled",Ff,kh.value)})},HB=function(kh,Ff,x_){return function($P){kh(Ff,$P,x_)}},VB=function(kh,Ff,x_){kh.done||(kh.done=!0,x_&&(kh=x_),kh.value=Ff,kh.state=2,LB(kh,!0))},UB=function(kh,Ff,x_){if(!kh.done){kh.done=!0,x_&&(kh=x_);try{if(kh.facade===Ff)throw AB("Promise can't be resolved itself");var $P=IB(Ff);$P?dB(function(){var zP={done:!1};try{oE($P,Ff,HB(UB,zP,kh),HB(VB,zP,kh))}catch(eme){VB(zP,eme,kh)}}):(kh.value=Ff,kh.state=1,LB(kh,!1))}catch(zP){VB({done:!1},zP,kh)}}};if(jB&&(CB=(xB=function(kh){FA(this,CB),fE(kh),oE(sB,this);var Ff=wB(this);try{kh(HB(UB,Ff),HB(VB,Ff))}catch(x_){VB(Ff,x_)}}).prototype,(sB=function(kh){EB(this,{type:bB,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=pA(CB,{then:function(kh,Ff){var x_=DB(this),$P=x_.reactions,zP=BB(Ak(this,xB));return zP.ok=!Bw(kh)||kh,zP.fail=Bw(Ff)&&Ff,zP.domain=Bk?kB.domain:void 0,x_.parent=!0,$P[$P.length]=zP,x_.state!=0&&LB(x_,!1),zP.promise},catch:function(kh){return this.then(void 0,kh)}}),lB=function(){var kh=new sB,Ff=wB(kh);this.promise=kh,this.resolve=HB(UB,Ff),this.reject=HB(VB,Ff)},hB.f=BB=function(kh){return kh===xB||kh===cB?new lB(kh):FB(kh)},Bw(Ek)&&SB!==Object.prototype)){fB=SB.then,PB||(UE(SB,"then",function(kh,Ff){var x_=this;return new xB(function($P,zP){oE(fB,x_,$P,zP)}).then(kh,Ff)},{unsafe:!0}),UE(SB,"catch",CB.catch,{unsafe:!0}));try{delete SB.constructor}catch(kh){}Lx&&Lx(SB,CB)}cS({global:!0,wrap:!0,forced:jB},{Promise:xB}),_x(xB,bB,!1),Sk(bB),cB=Tw(bB),cS({target:bB,stat:!0,forced:jB},{reject:function(kh){var Ff=BB(this);return oE(Ff.reject,void 0,kh),Ff.promise}}),cS({target:bB,stat:!0,forced:jB},{resolve:function(kh){return function(Ff,x_){if(nE(Ff),Yw(x_)&&x_.constructor===Ff)return x_;var $P=hB.f(Ff);return(0,$P.resolve)(x_),$P.promise}(this,kh)}}),cS({target:bB,stat:!0,forced:NB},{all:function(kh){var Ff=this,x_=BB(Ff),$P=x_.resolve,zP=x_.reject,eme=gB(function(){var tme=fE(Ff.resolve),nme=[],rme=0,ime=1;kA(kh,function(ome){var sme=rme++,ame=!1;ime++,oE(tme,Ff,ome).then(function(lme){ame||(ame=!0,nme[sme]=lme,--ime||$P(nme))},zP)}),--ime||$P(nme)});return eme.error&&zP(eme.value),x_.promise},race:function(kh){var Ff=this,x_=BB(Ff),$P=x_.reject,zP=gB(function(){var eme=fE(Ff.resolve);kA(kh,function(tme){oE(eme,Ff,tme).then(x_.resolve,$P)})});return zP.error&&$P(zP.value),x_.promise}});var WB=fC.UNSUPPORTED_Y,GB=Math.min,qB=[].push,KB=mw(/./.exec),YB=mw(qB),XB=mw("".slice);function ZB(kh){Promise.resolve().then(kh)}function JB(kh,Ff){return Sf.isElement(kh)?function(x_,$P){var zP=x_.type,eme=zP===void 0?"":zP,tme=x_.children,nme=tme===void 0?[]:tme,rme=Bf.isVoid($P,x_),ime="";rme||(ime=nme.map(function(hme){return JB(hme,$P)}).join(""));var ome=function(hme){return gk[hme]||vk}(eme),sme=ome(x_,ime,$P),ame="";if(ame=typeof sme=="string"?sme:sme.html||"",rme||hk.forEach(function(hme){return ame=hme(x_,ame)}),typeof sme=="string")return ame;var lme=sme.prefix,ume=lme===void 0?"":lme,dme=sme.suffix,pme=dme===void 0?"":dme;return ume&&(ame=ume+ame),pme&&(ame+=pme),ame}(kh,Ff):function(x_,$P){var zP=x_.text;if(zP==null)throw new Error("Current node is not slate Text "+JSON.stringify(x_));var eme=zP;eme=function(rme){return rme.replace(/ {2}/g," &nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/®/g,"&reg;").replace(/©/g,"&copy;").replace(/™/g,"&trade;")}(eme);var tme=QO.getParentsNodes($P,x_).some(function(rme){return QO.getNodeType(rme)==="pre"});if(tme||(eme=eme.replace(/\r\n|\r|\n/g,"<br>")),tme&&(eme=eme.replace(/&nbsp;/g," ")),eme===""){var nme=QO.getParentNode(null,x_);if(!nme||nme.children.length!==0)return eme;eme="<br>"}return hk.forEach(function(rme){return eme=rme(x_,eme)}),eme}(kh,Ff)}function QB(kh){return"w-e-element-"+kh}NC("split",function(kh,Ff,x_){var $P;return $P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(zP,eme){var tme=bS(ww(this)),nme=eme===void 0?4294967295:eme>>>0;if(nme===0)return[];if(zP===void 0)return[tme];if(!$S(zP))return oE(Ff,tme,zP,nme);for(var rme,ime,ome,sme=[],ame=(zP.ignoreCase?"i":"")+(zP.multiline?"m":"")+(zP.unicode?"u":"")+(zP.sticky?"y":""),lme=0,ume=new RegExp(zP.source,ame+"g");(rme=oE(OC,ume,tme))&&!((ime=ume.lastIndex)>lme&&(YB(sme,XB(tme,lme,rme.index)),rme.length>1&&rme.index<tme.length&&_C(qB,sme,vA(rme,1)),ome=rme[0].length,lme=ime,sme.length>=nme));)ume.lastIndex===rme.index&&ume.lastIndex++;return lme===tme.length?!ome&&KB(ume,"")||YB(sme,""):YB(sme,XB(tme,lme)),sme.length>nme?vA(sme,0,nme):sme}:"0".split(void 0,0).length?function(zP,eme){return zP===void 0&&eme===0?[]:oE(Ff,this,zP,eme)}:Ff,[function(zP,eme){var tme=ww(this),nme=zP==null?void 0:dE(zP,kh);return nme?oE(nme,zP,tme,eme):oE($P,bS(tme),zP,eme)},function(zP,eme){var tme=nE(this),nme=bS(zP),rme=x_($P,tme,nme,eme,$P!==Ff);if(rme.done)return rme.value;var ime=Ak(tme,RegExp),ome=tme.unicode,sme=(tme.ignoreCase?"i":"")+(tme.multiline?"m":"")+(tme.unicode?"u":"")+(WB?"g":"y"),ame=new ime(WB?"^(?:"+tme.source+")":tme,sme),lme=eme===void 0?4294967295:eme>>>0;if(lme===0)return[];if(nme.length===0)return GC(ame,nme)===null?[nme]:[];for(var ume=0,dme=0,pme=[];dme<nme.length;){ame.lastIndex=WB?0:dme;var hme,cme=GC(ame,WB?XB(nme,dme):nme);if(cme===null||(hme=GB(dD(ame.lastIndex+(WB?dme:0)),nme.length))===ume)dme=LC(nme,dme,ome);else{if(YB(pme,XB(nme,ume,dme)),pme.length===lme)return pme;for(var _me=1;_me<=cme.length-1;_me++)if(YB(pme,cme[_me]),pme.length===lme)return pme;dme=ume=hme}}return YB(pme,XB(nme,ume)),pme}]},!!Rw(function(){var kh=/(?:)/,Ff=kh.exec;kh.exec=function(){return Ff.apply(this,arguments)};var x_="ab".split(kh);return x_.length!==2||x_[0]!=="a"||x_[1]!=="b"}),WB);var eF=function(kh,Ff){var x_=(Ff.top+Ff.bottom)/2;return kh.top<=x_&&kh.bottom>=x_},tF=function(kh,Ff,x_){var $P=QO.toDOMRange(kh,Ff).getBoundingClientRect(),zP=QO.toDOMRange(kh,x_).getBoundingClientRect();return eF($P,zP)&&eF(zP,$P)},nF=["span","b","strong","i","em","s","strike","u","font","sub","sup"],rF=[],oF=[],iF={},aF=bE.f,uF=ZD.f,sF=ME.enforce,lF=Ww("match"),cF=lw.RegExp,fF=cF.prototype,dF=lw.SyntaxError,pF=mw(wS),hF=mw(fF.exec),gF=mw("".charAt),vF=mw("".replace),yF=mw("".indexOf),mF=mw("".slice),bF=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,wF=/a/g,EF=/a/g,DF=new cF(wF)!==wF,SF=fC.MISSED_STICKY,xF=fC.UNSUPPORTED_Y,CF=Kw&&(!DF||SF||pC||gC||Rw(function(){return EF[lF]=!1,cF(wF)!=wF||cF(EF)==EF||cF(wF,"i")!="/a/i"}));if(sS("RegExp",CF)){for(var AF=function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme=iE(fF,this),ime=$S(kh),ome=Ff===void 0,sme=[],ame=kh;if(!rme&&ime&&ome&&kh.constructor===AF)return kh;if((ime||iE(fF,kh))&&(kh=kh.source,ome&&(Ff="flags"in ame?ame.flags:pF(ame))),kh=kh===void 0?"":bS(kh),Ff=Ff===void 0?"":bS(Ff),ame=kh,pC&&"dotAll"in wF&&($P=!!Ff&&yF(Ff,"s")>-1)&&(Ff=vF(Ff,/s/g,"")),x_=Ff,SF&&"sticky"in wF&&(zP=!!Ff&&yF(Ff,"y")>-1)&&xF&&(Ff=vF(Ff,/y/g,"")),gC&&(eme=function(lme){for(var ume,dme=lme.length,pme=0,hme="",cme=[],_me={},vme=!1,Eme=!1,wme=0,Tme="";pme<=dme;pme++){if((ume=gF(lme,pme))==="\\")ume+=gF(lme,++pme);else if(ume==="]")vme=!1;else if(!vme)switch(!0){case ume==="[":vme=!0;break;case ume==="(":hF(bF,mF(lme,pme+1))&&(pme+=2,Eme=!0),hme+=ume,wme++;continue;case(ume===">"&&Eme):if(Tme===""||xw(_me,Tme))throw new dF("Invalid capture group name");_me[Tme]=!0,cme[cme.length]=[Tme,wme],Eme=!1,Tme="";continue}Eme?Tme+=ume:hme+=ume}return[hme,cme]}(kh),kh=eme[0],sme=eme[1]),tme=TA(cF(kh,Ff),rme?this:fF,AF),($P||zP||sme.length)&&(nme=sF(tme),$P&&(nme.dotAll=!0,nme.raw=AF(function(lme){for(var ume,dme=lme.length,pme=0,hme="",cme=!1;pme<=dme;pme++)(ume=gF(lme,pme))!=="\\"?cme||ume!=="."?(ume==="["?cme=!0:ume==="]"&&(cme=!1),hme+=ume):hme+="[\\s\\S]":hme+=ume+gF(lme,++pme);return hme}(kh),x_)),zP&&(nme.sticky=!0),sme.length&&(nme.groups=sme)),kh!==ame)try{EE(tme,"source",ame===""?"(?:)":ame)}catch(lme){}return tme},OF=function(kh){kh in AF||aF(AF,kh,{configurable:!0,get:function(){return cF[kh]},set:function(Ff){cF[kh]=Ff}})},kF=uF(cF),BF=0;kF.length>BF;)OF(kF[BF++]);fF.constructor=AF,AF.prototype=fF,UE(lw,"RegExp",AF)}Sk("RegExp");var FF=new RegExp(" ","g");function TF(kh){return kh.replace(FF," ")}function _F(kh,Ff){var x_=kh.length;if(x_){var $P=kh[x_-1];if(ed.isText($P)){var zP=Object.keys($P);if(zP.length===1&&zP[0]==="text")return $P.text=$P.text+Ff,!0}}return!1}function PF(kh,Ff,x_){return{type:"paragraph",children:[{text:Mp(kh).text().replace(/\s+/gm," ")}]}}function jF(kh,Ff){var x_=function(eme,tme){var nme=[];if(eme.attr("data-w-e-is-void")!=null)return nme;var rme=eme[0].childNodes;return rme.length===1&&rme[0].nodeName==="BR"?(nme.push({text:""}),nme):(rme.forEach(function(ime){if(ime.nodeType!==PO.ELEMENT_NODE){if(ime.nodeType===PO.TEXT_NODE){var ome=ime.textContent||"";if(ome.trim()===""&&ome.indexOf(`
`)>=0)return;ome&&(ome=TF(ome),_F(nme,ome)||nme.push({text:ome}))}}else{if(ime.nodeName==="BR")return void(_F(nme,`
`)||nme.push({text:`
`}));var sme=IF(Mp(ime),tme);Array.isArray(sme)?sme.forEach(function(ame){return nme.push(ame)}):nme.push(sme)}}),nme)}(kh,Ff),$P=function(eme){for(var tme in iF)if(eme[0].matches(tme))return iF[tme];return PF}(kh),zP=$P(kh[0],x_,Ff);return Array.isArray(zP)||(zP=[zP]),zP.forEach(function(eme){Bf.isVoid(Ff,eme)||(x_.length===0&&(eme.children=[{text:kh.text().replace(/\s+/gm," ")}]),oF.forEach(function(tme){eme=tme(kh[0],eme,Ff)}))}),zP}function NF(kh,Ff){kh.parents("pre").length===0&&(kh[0].innerHTML=kh[0].innerHTML.replace(/\s+/gm," ").replace(/<br>/g,`
`));var x_=kh[0].textContent||"";x_=function(zP){return zP.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&reg;/g,"®").replace(/&copy;/g,"©").replace(/&trade;/g,"™").replace(/&quot;/g,'"')}(x_);var $P={text:x_=TF(x_)};return oF.forEach(function(zP){$P=zP(kh[0],$P,Ff)}),$P}function IF(kh,Ff){rF.forEach(function($P){var zP=$P.selector,eme=$P.preParseHtml;kh[0].matches(zP)&&(kh=Mp(eme(kh[0])))});var x_=WO(kh);return x_==="span"?kh.attr("data-w-e-type")?jF(kh,Ff):NF(kh,Ff):x_==="code"?WO(kh.parent())==="pre"?jF(kh,Ff):NF(kh,Ff):nF.includes(x_)?NF(kh,Ff):jF(kh,Ff)}function LF(kh,Ff,x_){var $P=Mp(x_);return!!$P.attr(Ff)||($P.attr(Ff,"true"),kh.on("destroyed",function(){$P.removeAttr(Ff)}),!1)}function RF(kh,Ff){Ff===void 0&&(Ff="");var x_=[];Ff===""&&(Ff="<p><br></p>"),Ff.indexOf("<")!==0&&(Ff=Ff.split(/\n/).map(function(zP){return"<p>"+zP+"</p>"}).join(""));var $P=Mp("<div>"+Ff+"</div>");return Array.from($P.children()).forEach(function(zP){var eme=IF(Mp(zP),kh);Array.isArray(eme)?eme.forEach(function(tme){return x_.push(tme)}):x_.push(eme)}),x_}var MF=bE.f,zF=xA.fastKey,$F=ME.set,HF=ME.getterFor,VF={getConstructor:function(kh,Ff,x_,$P){var zP=kh(function(ime,ome){FA(ime,eme),$F(ime,{type:Ff,index:NS(null),first:void 0,last:void 0,size:0}),Kw||(ime.size=0),ome!=null&&kA(ome,ime[$P],{that:ime,AS_ENTRIES:x_})}),eme=zP.prototype,tme=HF(Ff),nme=function(ime,ome,sme){var ame,lme,ume=tme(ime),dme=rme(ime,ome);return dme?dme.value=sme:(ume.last=dme={index:lme=zF(ome,!0),key:ome,value:sme,previous:ame=ume.last,next:void 0,removed:!1},ume.first||(ume.first=dme),ame&&(ame.next=dme),Kw?ume.size++:ime.size++,lme!=="F"&&(ume.index[lme]=dme)),ime},rme=function(ime,ome){var sme,ame=tme(ime),lme=zF(ome);if(lme!=="F")return ame.index[lme];for(sme=ame.first;sme;sme=sme.next)if(sme.key==ome)return sme};return pA(eme,{clear:function(){for(var ime=tme(this),ome=ime.index,sme=ime.first;sme;)sme.removed=!0,sme.previous&&(sme.previous=sme.previous.next=void 0),delete ome[sme.index],sme=sme.next;ime.first=ime.last=void 0,Kw?ime.size=0:this.size=0},delete:function(ime){var ome=this,sme=tme(ome),ame=rme(ome,ime);if(ame){var lme=ame.next,ume=ame.previous;delete sme.index[ame.index],ame.removed=!0,ume&&(ume.next=lme),lme&&(lme.previous=ume),sme.first==ame&&(sme.first=lme),sme.last==ame&&(sme.last=ume),Kw?sme.size--:ome.size--}return!!ame},forEach:function(ime){for(var ome,sme=tme(this),ame=oD(ime,arguments.length>1?arguments[1]:void 0);ome=ome?ome.next:sme.first;)for(ame(ome.value,ome.key,this);ome&&ome.removed;)ome=ome.previous},has:function(ime){return!!rme(this,ime)}}),pA(eme,x_?{get:function(ime){var ome=rme(this,ime);return ome&&ome.value},set:function(ime,ome){return nme(this,ime===0?0:ime,ome)}}:{add:function(ime){return nme(this,ime=ime===0?0:ime,ime)}}),Kw&&MF(eme,"size",{get:function(){return tme(this).size}}),zP},setStrong:function(kh,Ff,x_){var $P=Ff+" Iterator",zP=HF(Ff),eme=HF($P);Ux(kh,Ff,function(tme,nme){$F(this,{type:$P,target:tme,state:zP(tme),kind:nme,last:void 0})},function(){for(var tme=eme(this),nme=tme.kind,rme=tme.last;rme&&rme.removed;)rme=rme.previous;return tme.target&&(tme.last=rme=rme?rme.next:tme.state.first)?nme=="keys"?{value:rme.key,done:!1}:nme=="values"?{value:rme.value,done:!1}:{value:[rme.key,rme.value],done:!1}:(tme.target=void 0,{value:void 0,done:!0})},x_?"entries":"values",!x_,!0),Sk(Ff)}};_A("Set",function(kh){return function(){return kh(this,arguments.length?arguments[0]:void 0)}},VF);var UF=new Set(["doctype","!doctype","meta","script","style","link","frame","iframe","title","svg"]);function WF(kh,Ff){kh.isInline(Ff)?(kh.insertNode(Ff),Ff.type==="link"&&kh.insertFragment([{text:""}])):md.insertNodes(kh,Ff,{mode:"highest"})}var GF=function(kh){var Ff=kh,x_=Ff.insertText;return Ff.insertFragment,Ff.setFragmentData=function($P){var zP=Ff.selection;if(zP){var eme=aA(qf.edges(zP),2),tme=eme[0],nme=eme[1],rme=Bf.void(Ff,{at:tme.path}),ime=Bf.void(Ff,{at:nme.path});if(!qf.isCollapsed(zP)||rme){var ome=QO.toDOMRange(Ff,zP),sme=ome.cloneContents(),ame=sme.childNodes[0];if(sme.childNodes.forEach(function(Eme){Eme.textContent&&Eme.textContent.trim()!==""&&(ame=Eme)}),ime){var lme=aA(ime,1)[0],ume=ome.cloneRange(),dme=QO.toDOMNode(Ff,lme);ume.setEndAfter(dme),sme=ume.cloneContents()}if(rme&&(ame=sme.querySelector("[data-slate-spacer]")),Array.from(sme.querySelectorAll("[data-slate-zero-width]")).forEach(function(Eme){var wme=Eme.getAttribute("data-slate-zero-width")==="n";Eme.textContent=wme?`
`:""}),MO(ame)){var pme=ame.ownerDocument.createElement("span");pme.style.whiteSpace="pre",pme.appendChild(ame),sme.appendChild(pme),ame=pme}var hme=Ff.getFragment(),cme=JSON.stringify(hme),_me=window.btoa(encodeURIComponent(cme));ame.setAttribute("data-slate-fragment",_me),$P.setData("application/x-slate-fragment",_me);var vme=sme.ownerDocument.createElement("div");return vme.appendChild(sme),vme.setAttribute("hidden","true"),sme.ownerDocument.body.appendChild(vme),$P.setData("text/html",vme.innerHTML),$P.setData("text/plain",VO(vme)),sme.ownerDocument.body.removeChild(vme),$P}}},Ff.insertData=function($P){var zP,eme,tme=$P.getData("application/x-slate-fragment");if(tme){var nme=decodeURIComponent(window.atob(tme)),rme=JSON.parse(nme);Ff.insertFragment(rme)}else{var ime=$P.getData("text/plain"),ome=$P.getData("text/html");if(ome)Ff.dangerouslyInsertHtml(ome);else if(ime){var sme=ime.split(/\r\n|\r|\n/),ame=!1;try{for(var lme=iA(sme),ume=lme.next();!ume.done;ume=lme.next()){var dme=ume.value;ame&&md.splitNodes(Ff,{always:!0}),x_(dme),ame=!0}}catch(pme){zP={error:pme}}finally{try{ume&&!ume.done&&(eme=lme.return)&&eme.call(lme)}finally{if(zP)throw zP.error}}}}},Ff},qF=function(kh){return kh!=null},KF={object:!0,function:!0,undefined:!0},YF=/^\s*class[\s{/}]/,XF=Function.prototype.toString,ZF=function(kh){return!!function(Ff){if(typeof Ff!="function"||!hasOwnProperty.call(Ff,"length"))return!1;try{if(typeof Ff.length!="number"||typeof Ff.call!="function"||typeof Ff.apply!="function")return!1}catch(x_){return!1}return!function(x_){if(!function($P){return!!qF($P)&&hasOwnProperty.call(KF,typeof $P)}(x_))return!1;try{return!!x_.constructor&&x_.constructor.prototype===x_}catch($P){return!1}}(Ff)}(kh)&&!YF.test(XF.call(kh))},JF=function(kh){return kh!=null},QF=Object.keys,eT=function(){try{return Object.keys("primitive"),!0}catch(kh){return!1}}()?Object.keys:function(kh){return QF(JF(kh)?Object(kh):kh)},tT=function(kh){if(!JF(kh))throw new TypeError("Cannot use null or undefined");return kh},nT=Math.max,rT=function(){var kh,Ff=Object.assign;return typeof Ff=="function"&&(Ff(kh={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),kh.foo+kh.bar+kh.trzy==="razdwatrzy")}()?Object.assign:function(kh,Ff){var x_,$P,zP,eme=nT(arguments.length,2);for(kh=Object(tT(kh)),zP=function(tme){try{kh[tme]=Ff[tme]}catch(nme){x_||(x_=nme)}},$P=1;$P<eme;++$P)eT(Ff=arguments[$P]).forEach(zP);if(x_!==void 0)throw x_;return kh},oT=Array.prototype.forEach,iT=Object.create,aT=function(kh,Ff){var x_;for(x_ in kh)Ff[x_]=kh[x_]},uT=function(kh){var Ff=iT(null);return oT.call(arguments,function(x_){JF(x_)&&aT(Object(x_),Ff)}),Ff},sT="razdwatrzy",lT=String.prototype.indexOf,cT=typeof sT.contains=="function"&&sT.contains("dwa")===!0&&sT.contains("foo")===!1?String.prototype.contains:function(kh){return lT.call(this,kh,arguments[1])>-1},fT=iw(function(kh){var Ff=kh.exports=function(x_,$P){var zP,eme,tme,nme,rme;return arguments.length<2||typeof x_!="string"?(nme=$P,$P=x_,x_=null):nme=arguments[2],qF(x_)?(zP=cT.call(x_,"c"),eme=cT.call(x_,"e"),tme=cT.call(x_,"w")):(zP=tme=!0,eme=!1),rme={value:$P,configurable:zP,enumerable:eme,writable:tme},nme?rT(uT(nme),rme):rme};Ff.gs=function(x_,$P,zP){var eme,tme,nme,rme;return typeof x_!="string"?(nme=zP,zP=$P,$P=x_,x_=null):nme=arguments[3],qF($P)?ZF($P)?qF(zP)?ZF(zP)||(nme=zP,zP=void 0):zP=void 0:(nme=$P,$P=zP=void 0):$P=void 0,qF(x_)?(eme=cT.call(x_,"c"),tme=cT.call(x_,"e")):(eme=!0,tme=!1),rme={get:$P,set:zP,configurable:eme,enumerable:tme},nme?rT(uT(nme),rme):rme}}),dT=function(kh){if(typeof kh!="function")throw new TypeError(kh+" is not a function");return kh},pT=iw(function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme,ime=Function.prototype.apply,ome=Function.prototype.call,sme=Object.create,ame=Object.defineProperty,lme=Object.defineProperties,ume=Object.prototype.hasOwnProperty,dme={configurable:!0,enumerable:!1,writable:!0};x_=function(pme,hme){var cme;return dT(hme),ume.call(this,"__ee__")?cme=this.__ee__:(cme=dme.value=sme(null),ame(this,"__ee__",dme),dme.value=null),cme[pme]?typeof cme[pme]=="object"?cme[pme].push(hme):cme[pme]=[cme[pme],hme]:cme[pme]=hme,this},$P=function(pme,hme){var cme,_me;return dT(hme),_me=this,x_.call(this,pme,cme=function(){zP.call(_me,pme,cme),ime.call(hme,this,arguments)}),cme.__eeOnceListener__=hme,this},zP=function(pme,hme){var cme,_me,vme,Eme;if(dT(hme),!ume.call(this,"__ee__"))return this;if(!(cme=this.__ee__)[pme])return this;if(typeof(_me=cme[pme])=="object")for(Eme=0;vme=_me[Eme];++Eme)vme!==hme&&vme.__eeOnceListener__!==hme||(_me.length===2?cme[pme]=_me[Eme?0:1]:_me.splice(Eme,1));else _me!==hme&&_me.__eeOnceListener__!==hme||delete cme[pme];return this},eme=function(pme){var hme,cme,_me,vme,Eme;if(ume.call(this,"__ee__")&&(vme=this.__ee__[pme]))if(typeof vme=="object"){for(cme=arguments.length,Eme=new Array(cme-1),hme=1;hme<cme;++hme)Eme[hme-1]=arguments[hme];for(vme=vme.slice(),hme=0;_me=vme[hme];++hme)ime.call(_me,this,Eme)}else switch(arguments.length){case 1:ome.call(vme,this);break;case 2:ome.call(vme,this,arguments[1]);break;case 3:ome.call(vme,this,arguments[1],arguments[2]);break;default:for(cme=arguments.length,Eme=new Array(cme-1),hme=1;hme<cme;++hme)Eme[hme-1]=arguments[hme];ime.call(vme,this,Eme)}},tme={on:x_,once:$P,off:zP,emit:eme},nme={on:fT(x_),once:fT($P),off:fT(zP),emit:fT(eme)},rme=lme({},nme),kh.exports=Ff=function(pme){return pme==null?sme(rme):lme(Object(pme),nme)},Ff.methods=tme});function hT(kh){var Ff=kO.get(kh);return Ff==null&&(Ff=pT(),kO.set(kh,Ff)),Ff}var gT=new WeakMap;function vT(kh,Ff){var x_=gT.get(kh);x_==null&&(x_=new Set,gT.set(kh,x_)),x_.add(Ff)}function yT(kh){return gT.get(kh)||new Set}function mT(kh){gT.set(kh,new Set)}function bT(kh){var Ff=QO.getTextarea(kh).$textAreaContainer,x_=Ff.width(),$P=Ff.height(),zP=Ff.offset();return{top:zP.top,left:zP.left,width:x_,height:$P}}function wT(kh){var Ff={top:"0",left:"0"},x_=kh.selection;if(x_==null)return Ff;var $P=bT(kh);if($P==null)return Ff;var zP=$P.top,eme=$P.left,tme=$P.width,nme=$P.height,rme=QO.toDOMRange(kh,x_).getClientRects()[0];if(rme==null)return Ff;rme.width;var ime=rme.height,ome={},sme=rme.top-zP,ame=rme.left-eme;if(ame>tme/2){var lme=tme-ame;ome.right=lme+5+"px"}else ome.left=ame+5+"px";if(sme>nme/2){var ume=nme-sme;ome.bottom=ume+5+"px"}else{var dme=sme+ime;dme<0&&(dme=0),ome.top=dme+5+"px"}return ome}function ET(kh,Ff,x_){x_===void 0&&(x_="modal");var $P={top:"0",left:"0"};if(kh.selection==null)return $P;var zP=Sf.isElement(Ff)&&kh.isVoid(Ff),eme=Sf.isElement(Ff)&&kh.isInline(Ff),tme=SO.get(Ff);if(tme==null)return $P;var nme=tme.getBoundingClientRect(),rme=nme.top,ime=nme.left,ome=nme.height,sme=nme.width;if(zP){var ame=function(Tme){var Dme=[];Dme.push(Tme);for(var Ame=0;Dme.length>0;){var Nme=Dme.pop();if(Nme==null||++Ame>1e4)break;var Ume=Nme.nodeName;if(Nme.nodeType===1){var jme=Ume.toLowerCase();if(_O.includes(jme)||jme==="iframe"||jme==="video")return Nme;var Fme=Nme.children||[],$me=Fme.length;if($me)for(var Gme=$me-1;Gme>=0;Gme--)Dme.push(Fme[Gme])}}return null}(tme);if(ame!=null){var lme=ame.getBoundingClientRect();rme=lme.top,ome=lme.height}}var ume=bT(kh);if(ume==null)return $P;var dme,pme=ume.top,hme=ume.left,cme=ume.width,_me=ume.height,vme={},Eme=rme-pme,wme=ime-hme;if(x_==="bar")return vme.left=wme+"px",Eme>40?vme.bottom=_me-Eme+5+"px":vme.top=Eme+ome+5+"px",vme;if(x_==="modal")return zP?eme?wme>(cme-sme)/2?vme.right=cme-wme+5+"px":vme.left=wme+sme+5+"px":vme.left="20px":vme.left=wme+"px",zP?((dme=Eme)<0&&(dme=0),vme.top=dme+"px"):Eme>(_me-ome)/2?vme.bottom=_me-Eme+5+"px":((dme=Eme+ome)<0&&(dme=0),vme.top=dme+5+"px"),vme;throw new Error("type '"+x_+"' is invalid")}function DT(kh,Ff){ZB(function(){var x_=bT(kh);if(x_!=null){var $P,zP=x_.top,eme=x_.left,tme=x_.width,nme=x_.height,rme=Ff.offset(),ime=rme.top,ome=rme.left,sme=Ff.width(),ame=Ff.height(),lme=ime-zP,ume=ome-eme,dme=Ff.attr("style");if(dme.indexOf("top")>=0&&($P=lme+ame-nme)>0){var pme=Ff.css("top"),hme=parseInt(pme.toString())-$P;hme<0&&(hme=0),Ff.css("top",hme+"px")}if(dme.indexOf("bottom")>=0&&ime<0){var cme=Ff.css("bottom"),_me=parseInt(cme.toString())-Math.abs(ime);Ff.css("bottom",_me+"px")}if(dme.indexOf("left")>=0&&($P=ume+sme-tme)>0){var vme=Ff.css("left"),Eme=parseInt(vme.toString())-$P;Eme<0&&(Eme=0),Ff.css("left",Eme+"px")}if(dme.indexOf("right")>=0&&ome<0){var wme=Ff.css("right"),Tme=parseInt(wme.toString())-Math.abs(ome);Ff.css("right",Tme+"px")}}})}var ST=iC("slice"),xT=Ww("species"),CT=lw.Array,AT=Math.max;cS({target:"Array",proto:!0,forced:!ST},{slice:function(kh,Ff){var x_,$P,zP,eme=RD(this),tme=pD(eme),nme=VD(kh,tme),rme=VD(Ff===void 0?tme:Ff,tme);if(hD(eme)&&(x_=eme.constructor,(DD(x_)&&(x_===CT||hD(x_.prototype))||Yw(x_)&&(x_=x_[xT])===null)&&(x_=void 0),x_===CT||x_===void 0))return Ok(eme,nme,rme);for($P=new(x_===void 0?CT:x_)(AT(rme-nme,0)),zP=0;nme<rme;nme++,zP++)nme in eme&&tx($P,zP,eme[nme]);return $P.length=zP,$P}});var OT=zD.f,kT=mw("".startsWith),BT=mw("".slice),FT=Math.min,TT=WS("startsWith"),_T=!TT&&!!function(){var kh=OT(String.prototype,"startsWith");return kh&&!kh.writable}();cS({target:"String",proto:!0,forced:!_T&&!TT},{startsWith:function(kh){var Ff=bS(ww(this));VS(kh);var x_=dD(FT(arguments.length>1?arguments[1]:void 0,Ff.length)),$P=bS(kh);return kT?kT(Ff,$P,x_):BT(Ff,x_,x_+$P.length)===$P}});var PT=Object.assign,jT=Object.defineProperty,NT=mw([].concat),IT=!PT||Rw(function(){if(Kw&&PT({b:1},PT(jT({},"a",{enumerable:!0,get:function(){jT(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var kh={},Ff={},x_=Symbol(),$P="abcdefghijklmnopqrst";return kh[x_]=7,$P.split("").forEach(function(zP){Ff[zP]=zP}),PT({},kh)[x_]!=7||fS(PT({},Ff)).join("")!=$P})?function(kh,Ff){for(var x_=Dw(kh),$P=arguments.length,zP=1,eme=JD.f,tme=LD.f;$P>zP;)for(var nme,rme=uD(arguments[zP++]),ime=eme?NT(fS(rme),eme(rme)):fS(rme),ome=ime.length,sme=0;ome>sme;)nme=ime[sme++],Kw&&!oE(tme,rme,nme)||(x_[nme]=rme[nme]);return x_}:PT;cS({target:"Object",stat:!0,forced:Object.assign!==IT},{assign:IT});var LT=["props","attrs","style","dataset","on","hook"];function RT(kh){var Ff=kh.data,x_=Ff===void 0?{}:Ff,$P=kh.children,zP=$P===void 0?[]:$P;Object.keys(x_).forEach(function(eme){var tme,nme,rme=x_[eme];if(eme!=="key"){if(!LT.includes(eme)){if(eme.startsWith("data-")){var ime=eme.slice(5);return ime=Cv(ime),function(ome,sme){ome.data==null&&(ome.data={});var ame=ome.data;ame.dataset==null&&(ame.dataset={}),Object.assign(ame.dataset,sme)}(kh,((tme={})[ime]=rme,tme)),void delete x_[eme]}(function(ome,sme){ome.data==null&&(ome.data={});var ame=ome.data;ame.props==null&&(ame.props={}),Object.assign(ame.props,sme)})(kh,(nme={},nme[eme]=rme,nme)),delete x_[eme]}}else kh.key=rme}),zP.length>0&&zP.forEach(function(eme){typeof eme!="string"&&RT(eme)})}var MT=[],zT={};function $T(kh,Ff,x_){return Pg(x_.isInline(kh)?"span":"div",null,Ff)}function HT(kh,Ff){return Ff===void 0&&(Ff=!1),Pg("span",{"data-slate-string":!0},Ff?kh+`
`:kh)}function VT(kh,Ff){return kh===void 0&&(kh=0),Ff===void 0&&(Ff=!1),Pg("span",{"data-slate-zero-width":Ff?"n":"z","data-slate-length":kh},"\uFEFF",Ff?Pg("br",null):null)}function UT(kh,Ff,x_,$P){return mO.set(kh,Ff),bO.set(kh,x_),Sf.isElement(kh)?function(zP,eme){var tme,nme=QO.findKey(eme,zP),rme=eme.isInline(zP),ime=Bf.isVoid(eme,zP),ome=QB(nme.id),sme={id:ome,key:nme.id,"data-slate-node":"element","data-slate-inline":rme},ame=zP.type,lme=zP.children,ume=lme===void 0?[]:lme,dme=function(Eme){return zT[Eme]||$T}(ame);tme=ime?null:ume.map(function(Eme,wme){return UT(Eme,wme,zP,eme)});var pme=dme(zP,tme,eme);if(ime){sme["data-slate-void"]=!0;var hme=rme?"span":"div",cme=aA(Nf.texts(zP),1),_me=aA(cme[0],1)[0],vme=Pg(hme,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},UT(_me,0,zP,eme));pme=Pg(hme,{style:{position:"relative"}},pme,vme),mO.set(_me,0),bO.set(_me,zP)}return pme.data==null&&(pme.data={}),Object.assign(pme.data,sme),ime||rme||(pme=function(Eme,wme){var Tme=wme;return MT.forEach(function(Dme){Tme=Dme(Eme,wme)}),Tme}(zP,pme)),ZB(function(){var Eme=zO(ome);Eme!=null&&(DO.set(nme,Eme),SO.set(zP,Eme),EO.set(Eme,zP))}),pme}(kh,$P):function(zP,eme,tme){if(zP.text==null)throw new Error("Current node is not slate Text "+JSON.stringify(zP));var nme=QO.findKey(tme,zP),rme=tme.getConfig().decorate;if(rme==null)throw new Error("Can not get config.decorate");var ime=QO.findPath(tme,zP),ome=rme([zP,ime]),sme=ed.decorations(zP,ome),ame=sme.map(function(dme,pme){var hme=function(cme,_me,vme,Eme,wme){_me===void 0&&(_me=!1);var Tme=cme.text,Dme=QO.findPath(wme,vme),Ame=Mf.parent(Dme);if(Bf.isEditor(Eme))throw new Error("Text node "+JSON.stringify(vme)+" parent is Editor");return wme.isVoid(Eme)?VT(Nf.string(Eme).length):Tme!==""||Eme.children[Eme.children.length-1]!==vme||wme.isInline(Eme)||Bf.string(wme,Ame)!==""?Tme===""?VT():_me&&Tme.slice(-1)===`
`?HT(Tme,!0):HT(Tme):VT(0,!0)}(dme,pme===sme.length-1,zP,eme,tme);return hme=function(cme,_me){var vme=_me;return MT.forEach(function(Eme){vme=Eme(cme,vme)}),vme}(dme,hme),Pg("span",{"data-slate-leaf":!0},hme)}),lme=function(dme){return"w-e-text-"+dme}(nme.id),ume=Pg("span",{"data-slate-node":"text",id:lme,key:nme.id},ame);return ZB(function(){var dme=zO(lme);dme!=null&&(DO.set(nme,dme),SO.set(zP,dme),EO.set(dme,zP))}),ume}(kh,x_,$P)}function WT(kh,Ff){var x_,$P=kh.$scroll,zP=function(dme){return"w-e-textarea-"+dme}(kh.id),eme=Ff.getConfig(),tme=eme.readOnly,nme=eme.autoFocus,rme=function(dme,pme){return pme===void 0&&(pme=!1),pg("div#"+dme,{props:{contentEditable:!pme}})}(zP,tme),ime=Ff.children||[];rme.children=ime.map(function(dme,pme){var hme=UT(dme,pme,Ff,Ff);return RT(hme),hme});var ome=gO.get(kh);if(ome==null&&(ome=!0),ome){var sme=function(dme,pme){return Mp(`<div
        id="`+dme+`"
        data-slate-editor
        data-slate-node="value"
        suppressContentEditableWarning
        role="textarea"
        spellCheck="true"
        autoCorrect="true"
        autoCapitalize="true"
    ></div>`)}(zP);$P.append(sme),kh.$textArea=sme,x_=sme[0],(lme=fg([yg,Ag,Tg,wg,xg,gg]))(x_,rme),gO.set(kh,!1),vO.set(kh,lme)}else{var ame=yO.get(kh),lme=vO.get(kh);if(ame==null||lme==null)return;x_=ame.elm,lme(ame,rme)}if(x_!=null||(x_=zO(zP))!=null){if((ome?nme:Ff.isFocused())&&x_.focus({preventScroll:!0}),ome){var ume=NO(x_);ume&&CO.set(Ff,ume)}wO.set(Ff,x_),SO.set(Ff,x_),EO.set(x_,Ff),yO.set(kh,rme)}}function GT(kh){return typeof kh=="object"&&kh!=null&&kh.nodeType===1}function qT(kh,Ff){return(!Ff||kh!=="hidden")&&kh!=="visible"&&kh!=="clip"}function KT(kh,Ff){if(kh.clientHeight<kh.scrollHeight||kh.clientWidth<kh.scrollWidth){var x_=getComputedStyle(kh,null);return qT(x_.overflowY,Ff)||qT(x_.overflowX,Ff)||function($P){var zP=function(eme){if(!eme.ownerDocument||!eme.ownerDocument.defaultView)return null;try{return eme.ownerDocument.defaultView.frameElement}catch(tme){return null}}($P);return!!zP&&(zP.clientHeight<$P.scrollHeight||zP.clientWidth<$P.scrollWidth)}(kh)}return!1}function YT(kh,Ff,x_,$P,zP,eme,tme,nme){return eme<kh&&tme>Ff||eme>kh&&tme<Ff?0:eme<=kh&&nme<=x_||tme>=Ff&&nme>=x_?eme-kh-$P:tme>Ff&&nme<x_||eme<kh&&nme>x_?tme-Ff+zP:0}function XT(kh,Ff){var x_=window,$P=Ff.scrollMode,zP=Ff.block,eme=Ff.inline,tme=Ff.boundary,nme=Ff.skipOverflowHiddenElements,rme=typeof tme=="function"?tme:function(h_e){return h_e!==tme};if(!GT(kh))throw new TypeError("Invalid target");for(var ime=document.scrollingElement||document.documentElement,ome=[],sme=kh;GT(sme)&&rme(sme);){if((sme=sme.parentElement)===ime){ome.push(sme);break}sme!=null&&sme===document.body&&KT(sme)&&!KT(document.documentElement)||sme!=null&&KT(sme,nme)&&ome.push(sme)}for(var ame=x_.visualViewport?x_.visualViewport.width:innerWidth,lme=x_.visualViewport?x_.visualViewport.height:innerHeight,ume=window.scrollX||pageXOffset,dme=window.scrollY||pageYOffset,pme=kh.getBoundingClientRect(),hme=pme.height,cme=pme.width,_me=pme.top,vme=pme.right,Eme=pme.bottom,wme=pme.left,Tme=zP==="start"||zP==="nearest"?_me:zP==="end"?Eme:_me+hme/2,Dme=eme==="center"?wme+cme/2:eme==="end"?vme:wme,Ame=[],Nme=0;Nme<ome.length;Nme++){var Ume=ome[Nme],jme=Ume.getBoundingClientRect(),Fme=jme.height,$me=jme.width,Gme=jme.top,Wme=jme.right,Jme=jme.bottom,r_e=jme.left;if($P==="if-needed"&&_me>=0&&wme>=0&&Eme<=lme&&vme<=ame&&_me>=Gme&&Eme<=Jme&&wme>=r_e&&vme<=Wme)return Ame;var o_e=getComputedStyle(Ume),i_e=parseInt(o_e.borderLeftWidth,10),Mme=parseInt(o_e.borderTopWidth,10),Ome=parseInt(o_e.borderRightWidth,10),Rme=parseInt(o_e.borderBottomWidth,10),zme=0,Zme=0,Qme="offsetWidth"in Ume?Ume.offsetWidth-Ume.clientWidth-i_e-Ome:0,n_e="offsetHeight"in Ume?Ume.offsetHeight-Ume.clientHeight-Mme-Rme:0;if(ime===Ume)zme=zP==="start"?Tme:zP==="end"?Tme-lme:zP==="nearest"?YT(dme,dme+lme,lme,Mme,Rme,dme+Tme,dme+Tme+hme,hme):Tme-lme/2,Zme=eme==="start"?Dme:eme==="center"?Dme-ame/2:eme==="end"?Dme-ame:YT(ume,ume+ame,ame,i_e,Ome,ume+Dme,ume+Dme+cme,cme),zme=Math.max(0,zme+dme),Zme=Math.max(0,Zme+ume);else{zme=zP==="start"?Tme-Gme-Mme:zP==="end"?Tme-Jme+Rme+n_e:zP==="nearest"?YT(Gme,Jme,Fme,Mme,Rme+n_e,Tme,Tme+hme,hme):Tme-(Gme+Fme/2)+n_e/2,Zme=eme==="start"?Dme-r_e-i_e:eme==="center"?Dme-(r_e+$me/2)+Qme/2:eme==="end"?Dme-Wme+Ome+Qme:YT(r_e,Wme,$me,i_e,Ome+Qme,Dme,Dme+cme,cme);var c_e=Ume.scrollLeft,f_e=Ume.scrollTop;Tme+=f_e-(zme=Math.max(0,Math.min(f_e+zme,Ume.scrollHeight-Fme+n_e))),Dme+=c_e-(Zme=Math.max(0,Math.min(c_e+Zme,Ume.scrollWidth-$me+Qme)))}Ame.push({el:Ume,top:zme,left:Zme})}return Ame}function ZT(kh){return kh===Object(kh)&&Object.keys(kh).length!==0}function JT(kh,Ff){return LO(Ff)&&QO.hasDOMNode(kh,Ff,{editable:!0})}function QT(kh,Ff){if(kh.getConfig().readOnly)return!1;var x_=e_(kh,Ff)&&QO.toSlateNode(kh,Ff);return Bf.isVoid(kh,x_)}function e_(kh,Ff){return LO(Ff)&&QO.hasDOMNode(kh,Ff)}function t_(kh,Ff,x_){x_===void 0&&(x_=!1);var $P=Ff.selection,zP=Ff.getConfig(),eme=QO.findDocumentOrShadowRoot(Ff).getSelection();if(eme&&(!kh.isComposing||x_)&&Ff.isFocused()){var tme=eme.type!=="None";if($P||tme){var nme=wO.get(Ff),rme=!1;if(nme.contains(eme.anchorNode)&&nme.contains(eme.focusNode)&&(rme=!0),tme&&rme&&$P){var ime=QO.toSlateRange(Ff,eme,{exactMatch:!0,suppressThrow:!0});if(ime&&qf.equals(ime,$P)){var ome=!0;if(qf.isCollapsed($P)){var sme=eme.anchorNode,ame=eme.anchorOffset;if(sme===nme){var lme=nme.childNodes,ume=void 0;(ume=lme[ame])&&ume.matches("table")&&(ome=!1),(ume=lme[ame-1])&&ume.matches("table")&&(ome=!1)}}if(ome)return}}if(!$P||QO.hasRange(Ff,$P)){kh.isUpdatingSelection=!0;var dme=$P&&QO.toDOMRange(Ff,$P);if(dme){qf.isBackward($P)?eme.setBaseAndExtent(dme.endContainer,dme.endOffset,dme.startContainer,dme.startOffset):eme.setBaseAndExtent(dme.startContainer,dme.startOffset,dme.endContainer,dme.endOffset);var pme=dme.startContainer.parentElement;if(!pme.closest("[data-slate-spacer]")){pme.getBoundingClientRect=dme.getBoundingClientRect.bind(dme);var hme=document.body;(function(cme,_me){var vme=!cme.ownerDocument.documentElement.contains(cme);if(ZT(_me)&&typeof _me.behavior=="function")return _me.behavior(vme?[]:XT(cme,_me));if(!vme){var Eme=function(wme){return wme===!1?{block:"end",inline:"nearest"}:ZT(wme)?wme:{block:"start",inline:"nearest"}}(_me);(function(wme,Tme){Tme===void 0&&(Tme="auto");var Dme="scrollBehavior"in document.body.style;wme.forEach(function(Ame){var Nme=Ame.el,Ume=Ame.top,jme=Ame.left;Nme.scroll&&Dme?Nme.scroll({top:Ume,left:jme,behavior:Tme}):(Nme.scrollTop=Ume,Nme.scrollLeft=jme)})})(XT(cme,Eme),Eme.behavior)}})(pme,{scrollMode:"if-needed",boundary:zP.scroll?nme.parentElement:hme,block:"end",behavior:"smooth"}),delete pme.getBoundingClientRect}}else eme.removeAllRanges();setTimeout(function(){dme&&qO&&nme.focus(),kh.isUpdatingSelection=!1})}else Ff.selection=QO.toSlateRange(Ff,eme,{exactMatch:!1,suppressThrow:!1})}}}var n_=new WeakMap,r_=new WeakMap,o_={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab",selectAll:"mod+a"},i_={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},a_={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},u_=function(kh){var Ff=o_[kh],x_=i_[kh],$P=a_[kh],zP=Ff&&Nv(Ff),eme=x_&&Nv(x_),tme=$P&&Nv($P);return function(nme){return!(!zP||!zP(nme))||!!(GO&&eme&&eme(nme))||!(GO||!tme||!tme(nme))}},s_={isBold:u_("bold"),isCompose:u_("compose"),isMoveBackward:u_("moveBackward"),isMoveForward:u_("moveForward"),isDeleteBackward:u_("deleteBackward"),isDeleteForward:u_("deleteForward"),isDeleteLineBackward:u_("deleteLineBackward"),isDeleteLineForward:u_("deleteLineForward"),isDeleteWordBackward:u_("deleteWordBackward"),isDeleteWordForward:u_("deleteWordForward"),isExtendBackward:u_("extendBackward"),isExtendForward:u_("extendForward"),isExtendLineBackward:u_("extendLineBackward"),isExtendLineForward:u_("extendLineForward"),isItalic:u_("italic"),isMoveLineBackward:u_("moveLineBackward"),isMoveLineForward:u_("moveLineForward"),isMoveWordBackward:u_("moveWordBackward"),isMoveWordForward:u_("moveWordForward"),isRedo:u_("redo"),isSplitBlock:u_("splitBlock"),isTransposeCharacter:u_("transposeCharacter"),isUndo:u_("undo"),isTab:u_("tab"),isSelectAll:u_("selectAll")};function l_(kh){kh.preventDefault()}var c_={beforeinput:function(kh,Ff,x_){var $P=kh,zP=x_.getConfig().readOnly;if(JO&&!zP&&JT(x_,$P.target)){var eme=x_.selection,tme=$P.inputType,nme=$P.dataTransfer||$P.data||void 0;if(tme!=="insertCompositionText"&&tme!=="deleteCompositionText"){if($P.preventDefault(),!tme.startsWith("delete")||tme.startsWith("deleteBy")){var rme=aA($P.getTargetRanges(),1)[0];if(rme){var ime=QO.toSlateRange(x_,rme,{exactMatch:!1,suppressThrow:!1});eme&&qf.equals(eme,ime)||md.select(x_,ime)}}if(eme&&qf.isExpanded(eme)&&tme.startsWith("delete")){var ome=tme.endsWith("Backward")?"backward":"forward";Bf.deleteFragment(x_,{direction:ome})}else switch(tme){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":Bf.deleteFragment(x_);break;case"deleteContent":case"deleteContentForward":Bf.deleteForward(x_);break;case"deleteContentBackward":Bf.deleteBackward(x_);break;case"deleteEntireSoftLine":Bf.deleteBackward(x_,{unit:"line"}),Bf.deleteForward(x_,{unit:"line"});break;case"deleteHardLineBackward":Bf.deleteBackward(x_,{unit:"block"});break;case"deleteSoftLineBackward":Bf.deleteBackward(x_,{unit:"line"});break;case"deleteHardLineForward":Bf.deleteForward(x_,{unit:"block"});break;case"deleteSoftLineForward":Bf.deleteForward(x_,{unit:"line"});break;case"deleteWordBackward":Bf.deleteBackward(x_,{unit:"word"});break;case"deleteWordForward":Bf.deleteForward(x_,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":Bf.insertBreak(x_);break;case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(tme==="insertFromPaste"&&!BO.get(x_))break;nme instanceof DataTransfer?x_.insertData(nme):typeof nme=="string"&&Bf.insertText(x_,nme)}}}},blur:function(kh,Ff,x_){var $P=kh,zP=Ff.isUpdatingSelection,eme=Ff.latestElement;if(!x_.getConfig().readOnly&&!zP&&JT(x_,$P.target)){var tme=QO.findDocumentOrShadowRoot(x_);if(eme!==tme.activeElement){var nme=$P.relatedTarget;if(!(nme===QO.toDOMNode(x_,x_)||IO(nme)&&nme.hasAttribute("data-slate-spacer"))){if(nme!=null&&LO(nme)&&QO.hasDOMNode(x_,nme)){var rme=QO.toSlateNode(x_,nme);if(Sf.isElement(rme)&&!x_.isVoid(rme))return}if(KO){var ime=tme.getSelection();ime==null||ime.removeAllRanges()}AO.delete(x_)}}}},focus:function(kh,Ff,x_){var $P=QO.toDOMNode(x_,x_),zP=QO.findDocumentOrShadowRoot(x_);Ff.latestElement=zP.activeElement,qO&&kh.target!==$P?$P.focus():AO.set(x_,!0)},click:function(kh,Ff,x_){if(!x_.getConfig().readOnly&&e_(x_,kh.target)&&LO(kh.target)){var $P=QO.toSlateNode(x_,kh.target),zP=QO.findPath(x_,$P);if(Bf.hasPath(x_,zP)&&Nf.get(x_,zP)===$P){var eme=Bf.start(x_,zP),tme=Bf.end(x_,zP),nme=Bf.void(x_,{at:eme}),rme=Bf.void(x_,{at:tme});if(nme&&rme&&Mf.equals(nme[1],rme[1])){var ime=Bf.range(x_,eme);md.select(x_,ime)}}}},compositionstart:function(kh,Ff,x_){if(JT(x_,kh.target)){var $P=x_.selection;if($P&&qf.isExpanded($P)&&(Bf.deleteFragment(x_),Promise.resolve().then(function(){t_(Ff,x_,!0)})),$P&&qf.isCollapsed($P)){var zP=QO.toDOMRange(x_,$P).startContainer,eme=zP.textContent||"";n_.set(x_,eme),r_.set(x_,zP)}Ff.isComposing=!0,function(tme,nme){var rme;nme.getConfig().placeholder&&nme.isEmpty()&&tme.showPlaceholder&&((rme=tme.$placeholder)===null||rme===void 0||rme.hide(),tme.showPlaceholder=!1)}(Ff,x_)}},compositionend:function(kh,Ff,x_){var $P=kh;if(JT(x_,$P.target)){Ff.isComposing=!1;var zP=x_.selection;if(zP!=null){(ZO||qO)&&QO.cleanExposedTexNodeInSelectionBlock(x_);for(var eme=qf.isBackward(zP)?zP.focus:zP.anchor,tme=aA(Bf.node(x_,[eme.path[0]]),1)[0],nme=0;nme<eme.path.length;nme++){var rme=aA(Bf.node(x_,eme.path.slice(0,nme+1)),1)[0];if(Sf.isElement(rme)&&((KO||qO)&&rme.type==="link"||rme.type==="code")){QO.setNewKey(tme);break}}var ime=$P.data;if(ime){if(x_.getConfig().maxLength){var ome=QO.getLeftLengthOfMaxLength(x_);ome<ime.length?(QO.toDOMRange(x_,zP).startContainer.textContent=n_.get(x_)||"",ome>0&&Bf.insertText(x_,ime.slice(0,ome)),Ff.changeViewState()):Bf.insertText(x_,ime)}else Bf.insertText(x_,ime);KO||setTimeout(function(){var sme=x_.selection;if(sme!=null){var ame=r_.get(x_);ame!=null&&QO.toDOMRange(x_,sme).startContainer!==ame&&(ame.textContent=n_.get(x_)||"")}})}}}},compositionupdate:function(kh,Ff,x_){JT(x_,kh.target)&&(Ff.isComposing=!0)},keydown:function(kh,Ff,x_){var $P=kh,zP=x_.selection;if(!x_.getConfig().readOnly&&!Ff.isComposing&&JT(x_,$P.target)){if(function(tme,nme){var rme=sO.get(tme),ime=rme&&rme.getMenus(),ome=cO.get(tme),sme=ome&&ome.getMenus(),ame=oA(oA({},ime),sme);for(var lme in ame){var ume=ame[lme],dme=ume.hotkey;if(dme&&jv(dme,nme)&&!ume.isDisabled(tme)){var pme=ume.getValue(tme);ume.exec(tme,pme)}}}(x_,$P),s_.isTab($P))return l_($P),void x_.handleTab();if(s_.isRedo($P))return l_($P),void(typeof x_.redo=="function"&&x_.redo());if(s_.isUndo($P))return l_($P),void(typeof x_.undo=="function"&&x_.undo());if(s_.isMoveLineBackward($P))return l_($P),void md.move(x_,{unit:"line",reverse:!0});if(s_.isMoveLineForward($P))return l_($P),void md.move(x_,{unit:"line"});if(s_.isExtendLineBackward($P))return l_($P),void md.move(x_,{unit:"line",edge:"focus",reverse:!0});if(s_.isExtendLineForward($P))return l_($P),void md.move(x_,{unit:"line",edge:"focus"});if(s_.isMoveBackward($P))return l_($P),void(zP&&qf.isCollapsed(zP)?md.move(x_,{reverse:!0}):md.collapse(x_,{edge:"start"}));if(s_.isMoveForward($P))return l_($P),void(zP&&qf.isCollapsed(zP)?md.move(x_):md.collapse(x_,{edge:"end"}));if(s_.isMoveWordBackward($P))return l_($P),zP&&qf.isExpanded(zP)&&md.collapse(x_,{edge:"focus"}),void md.move(x_,{unit:"word",reverse:!0});if(s_.isMoveWordForward($P))return l_($P),zP&&qf.isExpanded(zP)&&md.collapse(x_,{edge:"focus"}),void md.move(x_,{unit:"word"});if(s_.isSelectAll($P))return l_($P),void x_.selectAll();if(JO){if((ZO||KO)&&zP&&(s_.isDeleteBackward($P)||s_.isDeleteForward($P))&&qf.isCollapsed(zP)){var eme=Nf.parent(x_,zP.anchor.path);if(Sf.isElement(eme)&&Bf.isVoid(x_,eme)&&Bf.isInline(x_,eme))return $P.preventDefault(),void md.delete(x_,{unit:"block"})}}else{if(s_.isBold($P)||s_.isItalic($P)||s_.isTransposeCharacter($P))return void l_($P);if(s_.isSplitBlock($P))return l_($P),void Bf.insertBreak(x_);if(s_.isDeleteBackward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"backward"}):Bf.deleteBackward(x_));if(s_.isDeleteForward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"forward"}):Bf.deleteForward(x_));if(s_.isDeleteLineBackward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"backward"}):Bf.deleteBackward(x_,{unit:"line"}));if(s_.isDeleteLineForward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"forward"}):Bf.deleteForward(x_,{unit:"line"}));if(s_.isDeleteWordBackward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"backward"}):Bf.deleteBackward(x_,{unit:"word"}));if(s_.isDeleteWordForward($P))return l_($P),void(zP&&qf.isExpanded(zP)?Bf.deleteFragment(x_,{direction:"forward"}):Bf.deleteForward(x_,{unit:"word"}))}}},keypress:function(kh,Ff,x_){if(!JO&&!x_.getConfig().readOnly&&JT(x_,kh.target)){kh.preventDefault();var $P=kh.key;Bf.insertText(x_,$P)}},copy:function(kh,Ff,x_){var $P=kh;if(JT(x_,$P.target)){$P.preventDefault();var zP=$P.clipboardData;zP!=null&&x_.setFragmentData(zP)}},cut:function(kh,Ff,x_){var $P=kh,zP=x_.selection;if(!x_.getConfig().readOnly&&JT(x_,$P.target)){$P.preventDefault();var eme=$P.clipboardData;if(eme!=null&&(x_.setFragmentData(eme),zP))if(qf.isExpanded(zP))Bf.deleteFragment(x_);else{var tme=Nf.parent(x_,zP.anchor.path);Bf.isVoid(x_,tme)&&md.delete(x_)}}},paste:function(kh,Ff,x_){BO.set(x_,!0);var $P=kh;if(!x_.getConfig().readOnly&&JT(x_,$P.target)){var zP=x_.getConfig().customPaste;if(zP&&zP(x_,$P)===!1)return void BO.set(x_,!1);if(!JO||function(tme){return tme.clipboardData&&tme.clipboardData.getData("text/plain")!==""&&tme.clipboardData.types.length===1}($P)){$P.preventDefault();var eme=$P.clipboardData;eme!=null&&x_.insertData(eme)}}},dragover:function(kh,Ff,x_){if(e_(x_,kh.target)){var $P=QO.toSlateNode(x_,kh.target);Bf.isVoid(x_,$P)&&kh.preventDefault()}},dragstart:function(kh,Ff,x_){var $P=kh;if(e_(x_,$P.target)&&!x_.getConfig().readOnly){var zP=QO.toSlateNode(x_,$P.target),eme=QO.findPath(x_,zP);if(Bf.isVoid(x_,zP)||Bf.void(x_,{at:eme,voids:!0})){var tme=Bf.range(x_,eme);md.select(x_,tme)}var nme=$P.dataTransfer;nme!=null&&(Ff.isDraggingInternally=!0,x_.setFragmentData(nme))}},dragend:function(kh,Ff,x_){var $P=kh;x_.getConfig().readOnly||Ff.isDraggingInternally&&e_(x_,$P.target)&&(Ff.isDraggingInternally=!1)},drop:function(kh,Ff,x_){var $P=kh,zP=$P.dataTransfer;if(!x_.getConfig().readOnly&&e_(x_,$P.target)&&zP!=null&&!(JO&&KO&&zP.files.length>0)){$P.preventDefault();var eme=x_.selection,tme=QO.findEventRange(x_,$P);md.select(x_,tme),Ff.isDraggingInternally&&(eme&&md.delete(x_,{at:eme}),Ff.isDraggingInternally=!1),x_.insertData(zP),x_.isFocused()||x_.focus()}}},f_=1,d_=function(){function kh(Ff){var x_=this;this.id=f_++,this.$textArea=null,this.$progressBar=Mp('<div class="w-e-progress-bar"></div>'),this.$maxLengthInfo=Mp('<div class="w-e-max-length-info"></div>'),this.isComposing=!1,this.isUpdatingSelection=!1,this.isDraggingInternally=!1,this.latestElement=null,this.showPlaceholder=!1,this.$placeholder=null,this.latestEditorSelection=null,this.onDOMSelectionChange=eg(function(){var tme=x_.editorInstance;(function(nme,rme){var ime=nme.isComposing,ome=nme.isUpdatingSelection,sme=nme.isDraggingInternally;if(!(rme.getConfig().readOnly||ime||ome||sme)){var ame=QO.findDocumentOrShadowRoot(rme),lme=ame.activeElement,ume=QO.toDOMNode(rme,rme),dme=ame.getSelection();if(lme===ume?(nme.latestElement=lme,AO.set(rme,!0)):AO.delete(rme),!dme)return md.deselect(rme);var pme=dme.anchorNode,hme=dme.focusNode,cme=JT(rme,pme)||QT(rme,pme),_me=JT(rme,hme)||QT(rme,hme);if(cme&&_me){var vme=QO.toSlateRange(rme,dme,{exactMatch:!1,suppressThrow:!1});md.select(rme,vme)}else md.deselect(rme)}})(x_,tme)},100);var $P=Mp(Ff);if($P.length===0)throw new Error("Cannot find textarea DOM by selector '"+Ff+"'");this.$box=$P;var zP=Mp('<div class="w-e-text-container"></div>');zP.append(this.$progressBar),zP.append(this.$maxLengthInfo),$P.append(zP);var eme=Mp('<div class="w-e-scroll"></div>');zP.append(eme),this.$scroll=eme,this.$textAreaContainer=zP,ZB(function(){var tme=x_.editorInstance,nme=QO.getWindow(tme);nme.document.addEventListener("selectionchange",x_.onDOMSelectionChange),tme.on("destroyed",function(){nme.document.removeEventListener("selectionchange",x_.onDOMSelectionChange)}),zP.on("click",function(){return tme.hidePanelOrModal()}),tme.on("change",x_.changeViewState.bind(x_));var rme=tme.getConfig().onChange;rme&&tme.on("change",function(){return rme(tme)}),x_.onFocusAndOnBlur(),tme.on("change",x_.changeMaxLengthInfo.bind(x_)),x_.bindEvent()})}return Object.defineProperty(kh.prototype,"editorInstance",{get:function(){var Ff=aO.get(this);if(Ff==null)throw new Error("Can not get editor instance");return Ff},enumerable:!1,configurable:!0}),kh.prototype.bindEvent=function(){var Ff=this,x_=this.$textArea,$P=this.$scroll,zP=this.editorInstance;x_!=null&&(Lh(c_,function(eme,tme){x_.on(tme,function(nme){eme(nme,Ff,zP)})}),zP.getConfig().scroll&&($P.css("overflow-y","auto"),$P.on("scroll",eg(function(){zP.emit("scroll")},100))))},kh.prototype.onFocusAndOnBlur=function(){var Ff=this,x_=this.editorInstance,$P=x_.getConfig(),zP=$P.onBlur,eme=$P.onFocus;this.latestEditorSelection=x_.selection,x_.on("change",function(){Ff.latestEditorSelection==null&&x_.selection!=null?setTimeout(function(){return eme&&eme(x_)}):Ff.latestEditorSelection!=null&&x_.selection==null&&setTimeout(function(){return zP&&zP(x_)}),Ff.latestEditorSelection=x_.selection})},kh.prototype.changeMaxLengthInfo=function(){var Ff=this.editorInstance,x_=Ff.getConfig().maxLength;if(x_){var $P=x_-QO.getLeftLengthOfMaxLength(Ff);this.$maxLengthInfo[0].innerHTML=$P+"/"+x_}},kh.prototype.changeProgress=function(Ff){var x_=this.$progressBar;x_.css("width",Ff+"%"),Ff>=100&&setTimeout(function(){x_.hide(),x_.css("width","0"),x_.show()},1e3)},kh.prototype.changeViewState=function(){var Ff=this,x_=this.editorInstance;WT(this,x_),function($P,zP){var eme,tme=zP.getConfig().placeholder;if(tme){var nme=zP.isEmpty();if(nme&&!$P.showPlaceholder&&!$P.isComposing){if($P.$placeholder==null){var rme=Mp('<div class="w-e-text-placeholder">'+tme+"</div>");$P.$textAreaContainer.append(rme),$P.$placeholder=rme}return $P.$placeholder.show(),void($P.showPlaceholder=!0)}!nme&&$P.showPlaceholder&&((eme=$P.$placeholder)===null||eme===void 0||eme.hide(),$P.showPlaceholder=!1)}}(this,x_),ZB(function(){t_(Ff,x_)})},kh.prototype.destroy=function(){this.$textAreaContainer.remove()},kh}();function p_(kh){kh.removeAttr("width"),kh.removeAttr("height"),kh.removeAttr("fill"),kh.removeAttr("class"),kh.removeAttr("t"),kh.removeAttr("p-id");var Ff=kh.children();Ff.length&&p_(Ff)}function h_(){return Mp('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>')}function g_(){return Mp('<div class="w-e-bar-divider"></div>')}function v_(kh,Ff,x_,$P,zP){if(zP===void 0&&(zP=!1),Ff){if($P){var eme=GO?"cmd":"ctrl";$P=$P.replace("mod",eme)}if(zP)$P&&(kh.attr("data-tooltip",$P),kh.addClass("w-e-menu-tooltip-v5"),kh.addClass("tooltip-right"));else{var tme=$P?x_+`
`+$P:x_;kh.attr("data-tooltip",tme),kh.addClass("w-e-menu-tooltip-v5")}}}NC("match",function(kh,Ff,x_){return[function($P){var zP=ww(this),eme=$P==null?void 0:dE($P,kh);return eme?oE(eme,$P,zP):new RegExp($P)[kh](bS(zP))},function($P){var zP=nE(this),eme=bS($P),tme=x_(Ff,zP,eme);if(tme.done)return tme.value;if(!zP.global)return GC(zP,eme);var nme=zP.unicode;zP.lastIndex=0;for(var rme,ime=[],ome=0;(rme=GC(zP,eme))!==null;){var sme=bS(rme[0]);ime[ome]=sme,sme===""&&(zP.lastIndex=LC(eme,dD(zP.lastIndex),nme)),ome++}return ome===0?null:ime}]});var y_=function(){function kh(Ff,x_,$P){var zP=this;$P===void 0&&($P=!1),this.$elem=Mp('<div class="w-e-bar-item"></div>'),this.$button=Mp('<button type="button"></button>'),this.disabled=!1,this.menu=x_;var eme=x_.tag,tme=x_.width;if(eme!=="button")throw new Error("Invalid tag '"+eme+"', expected 'button'");var nme=x_.title,rme=x_.hotkey,ime=rme===void 0?"":rme,ome=x_.iconSvg,sme=ome===void 0?"":ome,ame=this.$button;if(sme){var lme=Mp(sme);p_(lme),ame.append(lme)}else ame.text(nme);v_(ame,sme,nme,ime,$P),$P&&sme&&ame.append(Mp('<span class="title">'+nme+"</span>")),tme&&ame.css("width",tme+"px"),ame.attr("data-menu-key",Ff),this.$elem.append(ame),ZB(function(){return zP.init()})}return kh.prototype.init=function(){var Ff=this;this.setActive(),this.setDisabled(),this.$button.on("click",function(x_){x_.preventDefault(),T_(Ff).hidePanelOrModal(),Ff.disabled||(Ff.exec(),Ff.onButtonClick())})},kh.prototype.exec=function(){var Ff=T_(this),x_=this.menu,$P=x_.getValue(Ff);x_.exec(Ff,$P)},kh.prototype.setActive=function(){var Ff=T_(this),x_=this.$button,$P="active";this.menu.isActive(Ff)?x_.addClass($P):x_.removeClass($P)},kh.prototype.setDisabled=function(){var Ff=T_(this),x_=this.$button,$P=this.menu.isDisabled(Ff);(Ff.selection==null||Ff.isDisabled())&&($P=!0),this.menu.alwaysEnable&&($P=!1);var zP="disabled";$P?x_.addClass(zP):x_.removeClass(zP),this.disabled=$P},kh.prototype.changeMenuState=function(){this.setActive(),this.setDisabled()},kh}(),m_=function(kh){function Ff(x_,$P,zP){return zP===void 0&&(zP=!1),kh.call(this,x_,$P,zP)||this}return rA(Ff,kh),Ff.prototype.onButtonClick=function(){},Ff}(y_),b_=function(){function kh(Ff){this.isShow=!1,this.showTime=0,this.record(Ff)}return kh.prototype.record=function(Ff){var x_=dO.get(Ff);x_==null&&(x_=new Set,dO.set(Ff,x_)),x_.add(this),pO.set(this,Ff)},kh.prototype.renderContent=function(Ff){var x_=this.$elem;x_.empty(),x_.append(Ff);var $P=this.genSelfElem();$P&&x_.append($P)},kh.prototype.appendTo=function(Ff){var x_=this.$elem;Ff.append(x_)},kh.prototype.show=function(){if(!this.isShow){this.showTime=Date.now(),this.$elem.show(),this.isShow=!0;var Ff=pO.get(this);Ff&&Ff.emit("modalOrPanelShow",this)}},kh.prototype.hide=function(){if(this.isShow&&!(Date.now()-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var Ff=pO.get(this);Ff&&Ff.emit("modalOrPanelHide")}},kh}(),w_=function(kh){function Ff(x_){var $P=kh.call(this,x_)||this;return $P.type="dropPanel",$P.$elem=Mp('<div class="w-e-drop-panel"></div>'),$P}return rA(Ff,kh),Ff.prototype.genSelfElem=function(){return null},Ff}(b_),E_=function(kh){function Ff(x_,$P,zP){zP===void 0&&(zP=!1);var eme=kh.call(this,x_,$P,zP)||this;if(eme.dropPanel=null,eme.menu=$P,$P.showDropPanel){var tme=h_();eme.$button.append(tme)}return eme}return rA(Ff,kh),Ff.prototype.onButtonClick=function(){this.menu.showDropPanel&&this.handleDropPanel()},Ff.prototype.handleDropPanel=function(){var x_=this.menu;if(x_.getPanelContentElem!=null){var $P=T_(this);if(this.dropPanel==null){var zP=new w_($P),eme=x_.getPanelContentElem($P);zP.renderContent(eme),zP.appendTo(this.$elem),zP.show(),this.dropPanel=zP}else{var tme=this.dropPanel;tme.isShow?tme.hide():(eme=x_.getPanelContentElem($P),tme.renderContent(eme),tme.show())}var nme=this.dropPanel;if(nme.isShow){var rme=this.$elem,ime=rme.offset().left,ome=rme.parents(".w-e-bar");ime-ome.offset().left>=ome.width()/2?nme.$elem.css({left:"none",right:"0"}):nme.$elem.css({left:"0",right:"none"})}}},Ff}(y_),D_=function(kh){function Ff(x_,$P){$P===void 0&&($P=0);var zP=kh.call(this,x_)||this;zP.type="modal",zP.$elem=Mp('<div class="w-e-modal"></div>'),zP.width=0,$P&&(zP.width=$P);var eme=zP.$elem;return eme.on("click",function(tme){return tme.stopPropagation()}),eme.on("keyup",function(tme){tme.code==="Escape"&&(zP.hide(),x_.restoreSelection())}),zP}return rA(Ff,kh),Ff.prototype.genSelfElem=function(){var x_=this,$P=Mp('<span class="btn-close"><svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg></span>'),zP=pO.get(this);return $P.on("click",function(){x_.hide(),zP==null||zP.restoreSelection()}),$P},Ff.prototype.setStyle=function(x_){var $P=this.width,zP=this.$elem;zP.attr("style",""),$P&&zP.css("width",$P+"px"),zP.css(x_)},Ff}(b_);function S_(kh,Ff,x_){var $P=Mp('<label class="babel-container"></label>');$P.append("<span>"+kh+"</span>");var zP=Mp('<input type="text" id="'+Ff+'" placeholder="'+(x_||"")+'">');return $P.append(zP),[$P[0],zP[0]]}function C_(kh,Ff){var x_=Mp('<div class="button-container"></div>'),$P=Mp('<button type="button" id="'+kh+'">'+Ff+"</button>");return x_.append($P),[x_[0],$P[0]]}var A_=function(kh){function Ff(x_,$P,zP){zP===void 0&&(zP=!1);var eme=kh.call(this,x_,$P,zP)||this;return eme.$body=Mp("body"),eme.modal=null,eme.menu=$P,eme}return rA(Ff,kh),Ff.prototype.onButtonClick=function(){this.menu.showModal&&this.handleModal()},Ff.prototype.getPosition=function(){var x_=T_(this),$P=this.menu.getModalPositionNode(x_);return Sf.isElement($P)?ET(x_,$P,"modal"):wT(x_)},Ff.prototype.handleModal=function(){var x_=T_(this),$P=this.menu;if(this.modal==null){var zP=new D_(x_,$P.modalWidth);this.renderAndShowModal(zP,!0),this.modal=zP}else(zP=this.modal).isShow?zP.hide():this.renderAndShowModal(zP,!1)},Ff.prototype.renderAndShowModal=function(x_,$P){$P===void 0&&($P=!1);var zP=T_(this),eme=this.menu;if(eme.getModalContentElem!=null){var tme=QO.getTextarea(zP),nme=QO.getToolbar(zP),rme=((nme==null?void 0:nme.getConfig())||{}).modalAppendToBody,ime=eme.getModalContentElem(zP);if(x_.renderContent(ime),rme)x_.setStyle({left:"0",right:"0"});else{var ome=this.getPosition();x_.setStyle(ome)}$P&&(rme?x_.appendTo(this.$body):x_.appendTo(tme.$textAreaContainer)),x_.show(),rme||DT(zP,x_.$elem),setTimeout(function(){zP.blur()})}},Ff}(y_),O_=function(kh){function Ff(x_,$P){var zP=kh.call(this,x_)||this;return zP.type="selectList",zP.$elem=Mp('<div class="w-e-select-list"></div>'),$P&&zP.$elem.css("width",$P+"px"),zP.$elem.on("click",function(eme){eme.stopPropagation()}),zP}return rA(Ff,kh),Ff.prototype.renderList=function(x_){var $P=this.$elem;$P.empty();var zP=Mp("<ul></ul>");x_.forEach(function(eme){var tme=eme.value,nme=eme.text,rme=eme.selected,ime=eme.styleForRenderMenuList,ome=Mp('<li data-value="'+tme+'"></li>');if(ime&&ome.css(ime),rme){var sme=Mp('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');ome.append(sme),ome.addClass("selected")}ome.append(Mp('<span data-value="'+tme+'">'+nme+"</span>")),ome.attr("title",nme),zP.append(ome)}),$P.append(zP)},Ff.prototype.genSelfElem=function(){return null},Ff}(b_),k_=function(){function kh(Ff,x_,$P){var zP=this;$P===void 0&&($P=!1),this.$elem=Mp('<div class="w-e-bar-item"></div>'),this.$button=Mp('<button type="button" class="select-button"></button>'),this.disabled=!1,this.selectList=null;var eme=x_.tag,tme=x_.title,nme=x_.width,rme=x_.iconSvg,ime=rme===void 0?"":rme,ome=x_.hotkey,sme=ome===void 0?"":ome;if(eme!=="select")throw new Error("Invalid tag '"+eme+"', expected 'select'");var ame=this.$button;nme&&ame.css("width",nme+"px"),ame.attr("data-menu-key",Ff),v_(ame,ime,tme,sme,$P),this.$elem.append(ame),this.menu=x_,ZB(function(){return zP.init()})}return kh.prototype.init=function(){var Ff=this;this.setSelectedValue(),this.$button.on("click",function(x_){x_.preventDefault(),T_(Ff).hidePanelOrModal(),Ff.trigger()})},kh.prototype.trigger=function(){var Ff=this,x_=T_(this);if(!x_.isDisabled()&&!this.disabled){var $P=this.menu;if(this.selectList==null){this.selectList=new O_(x_,$P.selectPanelWidth);var zP=this.selectList,eme=$P.getOptions(x_);zP.renderList(eme),zP.appendTo(this.$elem),zP.show(),zP.$elem.on("click","li",function(tme){var nme=tme.target;if(nme!=null){tme.preventDefault();var rme=Mp(nme).attr("data-value");Ff.onChange(rme)}})}else(zP=this.selectList).isShow?zP.hide():(eme=$P.getOptions(x_),zP.renderList(eme),zP.show())}},kh.prototype.onChange=function(Ff){var x_=T_(this),$P=this.menu;$P.exec&&$P.exec(x_,Ff)},kh.prototype.setSelectedValue=function(){var Ff=T_(this),x_=this.menu,$P=x_.getValue(Ff),zP=function(nme,rme){for(var ime=nme.length,ome="",sme=0;sme<ime;sme++){var ame=nme[sme];if(ame.value===rme){ome=ame.text;break}}return ome}(x_.getOptions(Ff),$P.toString()),eme=this.$button,tme=h_();eme.empty(),eme.text(zP),eme.append(tme)},kh.prototype.setDisabled=function(){var Ff=T_(this),x_=this.menu.isDisabled(Ff),$P=this.$button;(Ff.selection==null||Ff.isDisabled())&&(x_=!0);var zP="disabled";x_?$P.addClass(zP):$P.removeClass(zP),this.disabled=x_},kh.prototype.changeMenuState=function(){this.setSelectedValue(),this.setDisabled()},kh}(),B_=function(){function kh(Ff){this.$elem=Mp('<div class="w-e-bar-item w-e-bar-item-group"></div>'),this.$container=Mp('<div class="w-e-bar-item-menus-container"></div>'),this.$button=Mp('<button type="button"></button>');var x_=Ff.key,$P=Ff.iconSvg,zP=Ff.title,eme=this.$elem,tme=this.$button;if($P){var nme=Mp($P);p_(nme),tme.append(nme)}else tme.text(zP);tme.attr("data-menu-key",x_);var rme=h_();tme.append(rme),eme.append(tme);var ime=this.$container;eme.append(ime);var ome=this.createObserver();this.observe(ome)}return kh.prototype.appendBarItem=function(Ff){var x_=Ff.$elem;this.$container.append(x_)},kh.prototype.observe=function(Ff){var x_=this.$container;Ff.observe(x_[0],{childList:!0,subtree:!0,attributes:!0})},kh.prototype.createObserver=function(){var Ff=this,x_=this.$container,$P=this.$button,zP=new MutationObserver(function(){var eme=x_.find("button"),tme=eme.length;if(tme!==0){var nme=0;eme.each(function(rme){Mp(rme).hasClass("disabled")&&nme++}),zP.disconnect(),nme===tme?$P.addClass("disabled"):$P.removeClass("disabled"),Ff.observe(zP)}});return zP},kh}(),F_=new WeakMap;function T_(kh){var Ff=fO.get(kh);if(Ff==null)throw new Error("Can not get editor instance");return Ff}function __(kh,Ff,x_){x_===void 0&&(x_=!1);var $P=F_.get(Ff);if($P)return $P;var zP=Ff.tag;if(zP==="button"){var eme=Ff.showDropPanel,tme=Ff.showModal;$P=eme?new E_(kh,Ff,x_):tme?new A_(kh,Ff,x_):new m_(kh,Ff,x_)}if(zP==="select"&&($P=new k_(kh,Ff,x_)),$P==null)throw new Error("Invalid tag in menu "+JSON.stringify(Ff));return F_.set(Ff,$P),$P}function P_(kh,Ff){var x_=kh.selection;return x_!=null&&!qf.isCollapsed(x_)&&!QO.getSelectedElems(kh).some(function($P){if(kh.isVoid($P))return!0;var zP=$P.type;return!!["pre","code","table"].includes(zP)||void 0})&&!!ed.isText(Ff)}var j_=function(){function kh(){var Ff=this;this.$elem=Mp('<div class="w-e-bar w-e-bar-hidden w-e-hover-bar"></div>'),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null,this.isShow=!1,this.changeHoverbarState=Zv(function(){var x_=Ff.isShow,$P=Ff.getSelectedNodeAndMenuKeys()||{},zP=$P.node,eme=zP===void 0?null:zP,tme=$P.menuKeys,nme=tme===void 0?[]:tme;eme!=null&&Ff.changeItemsState(),eme&&Sf.isElement(eme)&&x_&&Ff.isSamePath(eme,Ff.prevSelectedNode)||(Ff.hideAndClean(),eme!=null&&(Ff.registerItems(nme),Ff.setPosition(eme),Ff.show()),Ff.prevSelectedNode=eme)},200),ZB(function(){var x_=Ff.getEditorInstance(),$P=Ff.$elem;$P.on("mousedown",function(eme){return eme.preventDefault()},{passive:!1}),QO.getTextarea(x_).$textAreaContainer.append($P),x_.on("change",Ff.changeHoverbarState);var zP=Ff.hideAndClean.bind(Ff);x_.on("scroll",zP),x_.on("fullScreen",zP),x_.on("unFullScreen",zP)})}return kh.prototype.getMenus=function(){return this.menus},kh.prototype.hideAndClean=function(){var Ff=this.$elem;Ff.removeClass("w-e-bar-show").addClass("w-e-bar-hidden"),this.hoverbarItems=[],Ff.empty(),this.isShow=!1},kh.prototype.checkPositionBottom=function(){var Ff=this.$elem,x_=!1,$P=window.innerHeight;$P&&$P>=360&&$P-Ff[0].getBoundingClientRect().bottom<360&&(x_=!0),x_?Ff.addClass("w-e-bar-bottom"):Ff.removeClass("w-e-bar-bottom")},kh.prototype.show=function(){this.$elem.removeClass("w-e-bar-hidden").addClass("w-e-bar-show"),this.isShow=!0,this.checkPositionBottom()},kh.prototype.changeItemsState=function(){var Ff=this;ZB(function(){Ff.hoverbarItems.forEach(function(x_){x_.changeMenuState()})})},kh.prototype.registerItems=function(Ff){var x_=this,$P=this.$elem;Ff.forEach(function(zP){if(zP!=="|")x_.registerSingleItem(zP);else{var eme=g_();$P.append(eme)}})},kh.prototype.registerSingleItem=function(Ff){var x_=this.getEditorInstance(),$P=this.menus,zP=$P[Ff];if(zP==null){var eme=nk[Ff];if(eme==null)throw new Error("Not found menu item factory by key '"+Ff+"'");if(typeof eme!="function")throw new Error("Menu item factory (key='"+Ff+"') is not a function");zP=eme(),$P[Ff]=zP}var tme=__(Ff,zP);this.hoverbarItems.push(tme),fO.set(tme,x_),this.$elem.append(tme.$elem)},kh.prototype.setPosition=function(Ff){var x_=this.getEditorInstance(),$P=this.$elem;if($P.attr("style",""),Sf.isElement(Ff)){var zP=ET(x_,Ff,"bar");return $P.css(zP),void DT(x_,$P)}if(ed.isText(Ff))return zP=wT(x_),$P.css(zP),void DT(x_,$P);throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")},kh.prototype.getSelectedNodeAndMenuKeys=function(){var Ff=this.getEditorInstance();if(Ff.selection==null)return null;var x_=this.getHoverbarKeysConf(),$P=null,zP=[],eme=function(nme){var rme=x_[nme],ime=rme.match,ome=rme.menuKeys,sme=ome===void 0?[]:ome,ame=ime||function(dme,pme){return QO.checkNodeType(pme,nme)},lme=aA(Bf.nodes(Ff,{match:function(dme){return ame(Ff,dme)},universal:!0}),1),ume=lme[0];if(ume!=null)return $P=ume[0],zP=sme,"break"};for(var tme in x_)if(eme(tme)==="break")break;return $P==null||zP.length===0?null:{node:$P,menuKeys:zP}},kh.prototype.getEditorInstance=function(){var Ff=lO.get(this);if(Ff==null)throw new Error("Can not get editor instance");return Ff},kh.prototype.getHoverbarKeysConf=function(){var Ff=this.getEditorInstance().getConfig().hoverbarKeys,x_=Ff===void 0?{}:Ff,$P=x_.text;return $P&&$P.match==null&&($P.match=P_),x_},kh.prototype.isSamePath=function(Ff,x_){if(Ff==null||x_==null)return!1;var $P=QO.findPath(null,Ff),zP=QO.findPath(null,x_);return Mf.equals($P,zP)},kh.prototype.destroy=function(){this.changeHoverbarState.cancel(),this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null},kh}();function N_(kh,Ff,x_,$P){if(mO.set(kh,Ff),bO.set(kh,x_),Sf.isElement(kh)){var zP=kh.children;if((zP===void 0?[]:zP).forEach(function(nme,rme){return N_(nme,rme,kh,$P)}),Bf.isVoid($P,kh)){var eme=aA(Nf.texts(kh),1),tme=aA(eme[0],1)[0];mO.set(tme,0),bO.set(tme,kh)}}}function I_(kh){var Ff=kh.selector,x_=Ff===void 0?"":Ff,$P=kh.config,zP=$P===void 0?{}:$P,eme=kh.content,tme=kh.html,nme=kh.plugins,rme=nme===void 0?[]:nme,ime=(hme=>{var cme=hme,{apply:_me}=cme;return cme.history={undos:[],redos:[]},cme.redo=()=>{var{history:vme}=cme,{redos:Eme}=vme;if(Eme.length>0){var wme=Eme[Eme.length-1];yS.withoutSaving(cme,()=>{Bf.withoutNormalizing(cme,()=>{for(var Tme of wme)cme.apply(Tme)})}),vme.redos.pop(),vme.undos.push(wme)}},cme.undo=()=>{var{history:vme}=cme,{undos:Eme}=vme;if(Eme.length>0){var wme=Eme[Eme.length-1];yS.withoutSaving(cme,()=>{Bf.withoutNormalizing(cme,()=>{var Tme=wme.map(Rf.inverse).reverse();for(var Dme of Tme)cme.apply(Dme)})}),vme.redos.push(wme),vme.undos.pop()}},cme.apply=vme=>{var{operations:Eme,history:wme}=cme,{undos:Tme}=wme,Dme=Tme[Tme.length-1],Ame=Dme&&Dme[Dme.length-1],Nme=(($me,Gme)=>!(!Gme||$me.type!=="set_selection"||Gme.type!=="set_selection"))(vme,Ame),Ume=yS.isSaving(cme),jme=yS.isMerging(cme);if(Ume==null&&(Ume=(($me,Gme)=>$me.type!=="set_selection"||$me.properties!=null&&$me.newProperties!=null)(vme)),Ume){if(jme==null&&(jme=Dme!=null&&(Eme.length!==0||(($me,Gme)=>$me.type==="set_selection"||!(!Gme||$me.type!=="insert_text"||Gme.type!=="insert_text"||$me.offset!==Gme.offset+Gme.text.length||!Mf.equals($me.path,Gme.path))||!(!Gme||$me.type!=="remove_text"||Gme.type!=="remove_text"||$me.offset+$me.text.length!==Gme.offset||!Mf.equals($me.path,Gme.path)))(vme,Ame)||Nme)),Dme&&jme)Nme&&Dme.pop(),Dme.push(vme);else{var Fme=[vme];Tme.push(Fme)}for(;Tme.length>100;)Tme.shift();($me=>$me.type!=="set_selection")(vme)&&(wme.redos=[])}_me(vme)},cme})(function(hme){var cme=hme,_me=cme.insertText,vme=cme.insertNode,Eme=cme.insertFragment,wme=cme.dangerouslyInsertHtml;return cme.insertText=function(Tme){if(cme.getConfig().maxLength){var Dme=QO.getLeftLengthOfMaxLength(cme);Dme<=0||(Dme<Tme.length?_me(Tme.slice(0,Dme)):_me(Tme))}else _me(Tme)},cme.insertNode=function(Tme){if(cme.getConfig().maxLength){var Dme=QO.getLeftLengthOfMaxLength(cme);Dme<=0||Dme<Nf.string(Tme).length||vme(Tme)}else vme(Tme)},cme.insertFragment=function(Tme){if(cme.getConfig().maxLength)if(Tme.length!==1)Tme.forEach(function(Ame){cme.insertNode(Ame)});else{var Dme=Tme[0];if(QO.getLeftLengthOfMaxLength(cme)<Nf.string(Dme).length)return;Eme(Tme)}else Eme(Tme)},cme.dangerouslyInsertHtml=function(Tme,Dme){if(Tme===void 0&&(Tme=""),Dme===void 0&&(Dme=!1),Tme)if(cme.getConfig().maxLength){var Ame=QO.getLeftLengthOfMaxLength(cme);if(!(Ame<=0)){var Nme=document.createElement("div");Nme.innerHTML=Tme;var Ume=Array.from(Nme.childNodes).reduce(function(jme,Fme){var $me=Fme.nodeType,Gme=Fme.nodeName;return Fme?$me===PO.TEXT_NODE?jme+(Fme.textContent||""):$me===PO.ELEMENT_NODE?UF.has(Gme.toLowerCase())?jme:jme+(Fme.textContent||""):jme:jme},"");Ame<Ume.length||wme(Tme,Dme)}}else wme(Tme,Dme)},cme}(function(hme){var cme=hme;return cme.on=function(_me,vme){var Eme=hT(cme);if(Eme.on(_me,vme),_me==="destroyed"&&vT(cme,vme),_me!=="destroyed"){var wme=function(){return Eme.off(_me,vme)};Eme.on("destroyed",wme),vT(cme,wme)}},cme.once=function(_me,vme){hT(cme).once(_me,vme)},cme.off=function(_me,vme){hT(cme).off(_me,vme)},cme.emit=function(_me){for(var vme=[],Eme=1;Eme<arguments.length;Eme++)vme[Eme-1]=arguments[Eme];var wme=hT(cme);wme.emit.apply(wme,uA([_me],aA(vme))),_me==="destroyed"&&(yT(cme).forEach(function(Tme){return wme.off("destroyed",Tme)}),mT(cme))},cme}(function(hme){var cme=hme;return cme.select=function(_me){md.select(cme,_me)},cme.deselect=function(){var _me=cme.selection,vme=QO.findDocumentOrShadowRoot(cme).getSelection();vme&&vme.rangeCount>0&&vme.removeAllRanges(),_me&&md.deselect(hme)},cme.move=function(_me,vme){vme===void 0&&(vme=!1),_me&&(_me<0||md.move(hme,{distance:_me,unit:"character",reverse:vme}))},cme.moveReverse=function(_me){cme.move(_me,!0)},cme.restoreSelection=function(){var _me=OO.get(cme);_me!=null&&(cme.focus(),md.select(cme,_me))},cme.getSelectionPosition=function(){return wT(cme)},cme.getNodePosition=function(_me){return ET(cme,_me)},cme.isSelectedAll=function(){var _me=cme.selection;if(_me==null)return!1;var vme=aA(qf.edges(_me),2),Eme=vme[0],wme=vme[1],Tme=aA(Bf.edges(cme,[]),2),Dme=Tme[0],Ame=Tme[1];return!(!Vf.equals(Eme,Dme)||!Vf.equals(wme,Ame))},cme.selectAll=function(){var _me=Bf.start(cme,[]),vme=Bf.end(cme,[]);md.select(cme,{anchor:_me,focus:vme})},cme}(function(hme){var cme=hme,_me=cme.onChange,vme=cme.insertText,Eme=cme.apply,wme=cme.deleteBackward;return cme.insertText=function(Tme){cme.getConfig().readOnly||vme(Tme)},cme.apply=function(Tme){var Dme,Ame,Nme,Ume,jme,Fme,$me,Gme,Wme=[];switch(Tme.type){case"insert_text":case"remove_text":case"set_node":try{for(var Jme=iA(Bf.levels(cme,{at:Tme.path})),r_e=Jme.next();!r_e.done;r_e=Jme.next()){var o_e=aA(r_e.value,2),i_e=o_e[0],Mme=o_e[1],Ome=QO.findKey(cme,i_e);Wme.push([Mme,Ome])}}catch(x_e){Dme={error:x_e}}finally{try{r_e&&!r_e.done&&(Ame=Jme.return)&&Ame.call(Jme)}finally{if(Dme)throw Dme.error}}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":try{for(var Rme=iA(Bf.levels(cme,{at:Mf.parent(Tme.path)})),zme=Rme.next();!zme.done;zme=Rme.next()){var Zme=aA(zme.value,2);i_e=Zme[0],Mme=Zme[1],Ome=QO.findKey(cme,i_e),Wme.push([Mme,Ome])}}catch(x_e){Nme={error:x_e}}finally{try{zme&&!zme.done&&(Ume=Rme.return)&&Ume.call(Rme)}finally{if(Nme)throw Nme.error}}break;case"move_node":try{for(var Qme=iA(Bf.levels(cme,{at:Mf.common(Mf.parent(Tme.path),Mf.parent(Tme.newPath))})),n_e=Qme.next();!n_e.done;n_e=Qme.next()){var c_e=aA(n_e.value,2);i_e=c_e[0],Mme=c_e[1],Ome=QO.findKey(cme,i_e),Wme.push([Mme,Ome])}}catch(x_e){jme={error:x_e}}finally{try{n_e&&!n_e.done&&(Fme=Qme.return)&&Fme.call(Qme)}finally{if(jme)throw jme.error}}}Eme(Tme);try{for(var f_e=iA(Wme),h_e=f_e.next();!h_e.done;h_e=f_e.next()){var Xme=aA(h_e.value,2);Mme=Xme[0],Ome=Xme[1],i_e=aA(Bf.node(cme,Mme),1)[0],xO.set(i_e,Ome)}}catch(x_e){$me={error:x_e}}finally{try{h_e&&!h_e.done&&(Gme=f_e.return)&&Gme.call(f_e)}finally{if($me)throw $me.error}}},cme.deleteBackward=function(Tme){if(Tme!=="line")return wme(Tme);if(hme.selection&&qf.isCollapsed(hme.selection)){var Dme=Bf.above(hme,{match:function(jme){return Bf.isBlock(hme,jme)},at:hme.selection});if(Dme){var Ame=aA(Dme,2)[1],Nme=Bf.range(hme,Ame,hme.selection.anchor),Ume=function(jme,Fme){var $me=Bf.range(jme,qf.end(Fme)),Gme=Array.from(Bf.positions(jme,{at:Fme})),Wme=0,Jme=Gme.length,r_e=Math.floor(Jme/2);if(tF(jme,Bf.range(jme,Gme[Wme]),$me))return Bf.range(jme,Gme[Wme],$me);if(Gme.length<2)return Bf.range(jme,Gme[Gme.length-1],$me);for(;r_e!==Gme.length&&r_e!==Wme;)tF(jme,Bf.range(jme,Gme[r_e]),$me)?Jme=r_e:Wme=r_e,r_e=Math.floor((Wme+Jme)/2);return Bf.range(jme,Gme[Jme],$me)}(cme,Nme);qf.isCollapsed(Ume)||md.delete(hme,{at:Ume})}}},cme.onChange=function(){var Tme=cme.selection;Tme!=null&&OO.set(cme,Tme),cme.emit("change"),_me()},cme.handleTab=function(){cme.insertText("    ")},cme.getHtml=function(){var Tme=cme.children;return(Tme===void 0?[]:Tme).map(function(Dme){return JB(Dme,cme)}).join("")},cme.getText=function(){var Tme=cme.children;return(Tme===void 0?[]:Tme).map(function(Dme){return Nf.string(Dme)}).join(`
`)},cme.getSelectionText=function(){var Tme=cme.selection;return Tme==null?"":Bf.string(hme,Tme)},cme.getElemsByType=function(Tme,Dme){var Ame,Nme;Dme===void 0&&(Dme=!1);var Ume=[],jme=Bf.nodes(cme,{at:[],universal:!0});try{for(var Fme=iA(jme),$me=Fme.next();!$me.done;$me=Fme.next()){var Gme=aA($me.value,1)[0];if(Sf.isElement(Gme)&&(Dme?Gme.type.indexOf(Tme)>=0:Gme.type===Tme)){var Wme=QB(QO.findKey(cme,Gme).id);Ume.push(oA(oA({},Gme),{id:Wme}))}}}catch(Jme){Ame={error:Jme}}finally{try{$me&&!$me.done&&(Nme=Fme.return)&&Nme.call(Fme)}finally{if(Ame)throw Ame.error}}return Ume},cme.getElemsByTypePrefix=function(Tme){return cme.getElemsByType(Tme,!0)},cme.isEmpty=function(){var Tme=cme.children,Dme=Tme===void 0?[]:Tme;if(Dme.length>1)return!1;var Ame=Dme[0];if(Ame==null)return!0;if(Sf.isElement(Ame)&&Ame.type==="paragraph"){var Nme=Ame.children,Ume=Nme===void 0?[]:Nme;if(Ume.length>1)return!1;var jme=Ume[0];if(jme==null||ed.isText(jme)&&jme.text==="")return!0}return!1},cme.clear=function(){md.delete(cme,{at:{anchor:Bf.start(cme,[]),focus:Bf.end(cme,[])}}),cme.children.length===0&&md.insertNodes(cme,[{type:"paragraph",children:[{text:""}]}])},cme.getParentNode=function(Tme){return QO.getParentNode(cme,Tme)},cme.dangerouslyInsertHtml=function(Tme,Dme){if(Tme===void 0&&(Tme=""),Dme===void 0&&(Dme=!1),Tme){var Ame=document.createElement("div");Ame.innerHTML=Tme;var Nme=Array.from(Ame.childNodes);if(Nme=Nme.filter(function($me){var Gme=$me.nodeType,Wme=$me.nodeName;return Gme===PO.TEXT_NODE||Gme===PO.ELEMENT_NODE&&!UF.has(Wme.toLowerCase())}),Nme.length!==0){var Ume=cme.selection;if(Ume!=null){var jme=null;QO.isSelectedEmptyParagraph(cme)&&!Dme&&(jme=[Ume.focus.path[0]]),Ame.setAttribute("hidden","true"),document.body.appendChild(Ame);var Fme=0;Nme.forEach(function($me){var Gme=$me.nodeType,Wme=$me.nodeName,Jme=$me.textContent,r_e=Jme===void 0?"":Jme;if(Gme!==PO.TEXT_NODE)if(Wme!=="BR"){var o_e=$me,i_e=!1;if(nF.includes(Wme.toLowerCase()))i_e=!0;else for(var Mme in iF)if(o_e.matches(Mme)){i_e=!0;break}if(i_e){var Ome=IF(Mp(o_e),cme);return Array.isArray(Ome)?(Ome.forEach(function(zme){return WF(cme,zme)}),Fme++):(WF(cme,Ome),Fme++),void(QO.isSelectedVoidNode(cme)&&cme.move(1))}var Rme=window.getComputedStyle(o_e).display;QO.isSelectedEmptyParagraph(cme)||Rme.indexOf("inline")<0&&cme.insertBreak(),cme.dangerouslyInsertHtml(o_e.innerHTML,!0)}else cme.insertText(`
`);else{if(!r_e||!r_e.trim())return;cme.insertNode({text:r_e})}}),Fme&&jme&&QO.isEmptyPath(cme,jme)&&md.removeNodes(cme,{at:jme}),Ame.remove()}}}},cme.setHtml=function(Tme){Tme===void 0&&(Tme="");var Dme=cme.isDisabled(),Ame=cme.isFocused(),Nme=JSON.stringify(cme.selection);cme.enable(),cme.focus(),cme.clear();var Ume=RF(cme,Tme);if(md.insertFragment(cme,Ume),Ame||(cme.deselect(),cme.blur()),Dme&&(cme.deselect(),cme.disable()),cme.isFocused())try{cme.select(JSON.parse(Nme))}catch(jme){cme.select(Bf.start(cme,[]))}},cme}(function(hme){var cme=hme;return cme.getAllMenuKeys=function(){var _me=[];for(var vme in nk)_me.push(vme);return _me},cme.getConfig=function(){var _me=hO.get(cme);if(_me==null)throw new Error("Can not get editor config");return _me},cme.getMenuConfig=function(_me){var vme=cme.getConfig().MENU_CONF;return(vme===void 0?{}:vme)[_me]||{}},cme.alert=function(_me,vme){vme===void 0&&(vme="info");var Eme=cme.getConfig().customAlert;Eme&&Eme(_me,vme)},cme}(function(hme){var cme=GF(Wc());return cme.id="wangEditor-"+ek++,cme.isDestroyed=!1,cme.isFullScreen=!1,cme.focus=function(_me){if(QO.toDOMNode(cme,cme).focus({preventScroll:!0}),AO.set(cme,!0),_me){var vme=Bf.end(cme,[]);md.select(cme,vme)}else{var Eme=OO.get(cme);Eme?md.select(cme,Eme):md.select(cme,Bf.start(cme,[]))}},cme.isFocused=function(){return!!AO.get(cme)},cme.blur=function(){QO.toDOMNode(cme,cme).blur(),md.deselect(cme),AO.set(cme,!1)},cme.updateView=function(){QO.getTextarea(cme).changeViewState();var _me=QO.getToolbar(cme);_me&&_me.changeToolbarState();var vme=QO.getHoverbar(cme);vme&&vme.changeHoverbarState()},cme.destroy=function(){if(!cme.isDestroyed){var _me=QO.getTextarea(cme);_me.destroy(),iO.delete(cme),aO.delete(_me);var vme=QO.getToolbar(cme);vme&&(vme.destroy(),sO.delete(cme),uO.delete(vme));var Eme=QO.getHoverbar(cme);Eme&&(Eme.destroy(),cO.delete(cme),lO.delete(Eme)),cme.isDestroyed=!0,cme.emit("destroyed")}},cme.scrollToElem=function(_me){if(!cme.getConfig().scroll){var vme="编辑器禁用了 scroll ，编辑器内容无法滚动，请自行实现该功能";return vme+=`
You has disabled editor scroll, please do this yourself`,void console.warn(vme)}var Eme=Mp("#"+_me);if(Eme.length!==0){var wme=Eme[0];if(!QO.hasDOMNode(cme,wme))return vme="Element (found by id is '"+_me+"') is not in editor DOM",vme+=`
 通过 id '`+_me+"' 找到的 element 不在 editor DOM 之内",void console.error(vme,wme);var Tme=QO.getTextarea(cme),Dme=Tme.$textAreaContainer,Ame=Tme.$scroll,Nme=Eme.offset().top,Ume=Dme.offset().top;Ame[0].scrollBy({top:Nme-Ume,behavior:"smooth"})}},cme.showProgressBar=function(_me){_me<1||QO.getTextarea(cme).changeProgress(_me)},cme.hidePanelOrModal=function(){var _me=dO.get(cme);_me!=null&&_me.forEach(function(vme){return vme.hide()})},cme.enable=function(){cme.getConfig().readOnly=!1,cme.updateView()},cme.disable=function(){cme.getConfig().readOnly=!0,cme.updateView()},cme.isDisabled=function(){return cme.getConfig().readOnly},cme.toDOMNode=function(_me){return QO.toDOMNode(cme,_me)},cme.fullScreen=function(){if(!cme.isFullScreen){var _me=null,vme=QO.getToolbar(cme);vme&&(_me=vme.$box);var Eme=QO.getTextarea(cme).$box.parent();if(_me&&_me.parent()[0]!==Eme[0])throw new Error(`Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent
不能设置全屏，因为 toolbar DOM 父节点和 textarea DOM 父节点不一致`);Eme.addClass("w-e-full-screen-container");var wme=Eme.css("z-index");Eme.attr("data-z-index",wme.toString()),cme.isFullScreen=!0,cme.emit("fullScreen")}},cme.unFullScreen=function(){if(cme.isFullScreen){var _me=QO.getTextarea(cme).$box.parent();setTimeout(function(){_me.removeClass("w-e-full-screen-container"),cme.isFullScreen=!1,cme.emit("unFullScreen")},200)}},cme.getEditableContainer=function(){return QO.getTextarea(cme).$textAreaContainer[0]},cme}()))))));if(x_&&function(hme,cme){return LF(hme,"data-w-e-textarea",cme)}(ime,x_))throw new Error("Repeated create editor by selector '"+x_+"'");var ome=function(hme){hme===void 0&&(hme={});var cme=Jv(tk),_me={},vme=hme.MENU_CONF,Eme=vme===void 0?{}:vme;return Lh(cme,function(wme,Tme){_me[Tme]=oA(oA({},wme),Eme[Tme]||{})}),delete hme.MENU_CONF,oA({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:_me,hoverbarKeys:{},customAlert:function(wme,Tme){window.alert(Tme+`:
`+wme)}},hme)}(zP);hO.set(ime,ome);var sme=ome.hoverbarKeys,ame=sme===void 0?{}:sme;if(rme.forEach(function(hme){ime=hme(ime)}),tme!=null&&(ime.children=RF(ime,tme)),eme&&eme.length&&(ime.children=eme),ime.children.length===0&&(ime.children=[{type:"paragraph",children:[{text:""}]}]),QO.normalizeContent(ime),x_){var lme=new d_(x_);iO.set(ime,lme),aO.set(lme,ime),lme.changeViewState(),ZB(function(){var hme=lme.$scroll;hme!=null&&hme.height()<300&&console.warn(`编辑区域高度 < 300px 这可能会导致 modal hoverbar 定位异常
Textarea height < 300px . This may be cause modal and hoverbar position error`,hme)});var ume=void 0;Object.keys(ame).length>0&&(ume=new j_,lO.set(ume,ime),cO.set(ime,ume)),ime.on("change",function(){ime.hidePanelOrModal()}),ime.on("scroll",function(){ime.hidePanelOrModal()})}else ime.children.forEach(function(hme,cme){return N_(hme,cme,ime,ime)});var dme=ome.onCreated,pme=ome.onDestroyed;return dme&&ime.on("created",function(){return dme(ime)}),pme&&ime.on("destroyed",function(){return pme(ime)}),ZB(function(){return ime.emit("created")}),ime}var L_=iC("splice"),R_=lw.TypeError,M_=Math.max,z_=Math.min;cS({target:"Array",proto:!0,forced:!L_},{splice:function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme=Dw(this),ime=pD(rme),ome=VD(kh,ime),sme=arguments.length;if(sme===0?x_=$P=0:sme===1?(x_=0,$P=ime-ome):(x_=sme-2,$P=z_(M_(cD(Ff),0),ime-ome)),ime+x_-$P>9007199254740991)throw R_("Maximum allowed length exceeded");for(zP=CD(rme,$P),eme=0;eme<$P;eme++)(tme=ome+eme)in rme&&tx(zP,eme,rme[tme]);if(zP.length=$P,x_<$P){for(eme=ome;eme<ime-$P;eme++)nme=eme+x_,(tme=eme+$P)in rme?rme[nme]=rme[tme]:delete rme[nme];for(eme=ime;eme>ime-$P+x_;eme--)delete rme[eme-1]}else if(x_>$P)for(eme=ime-$P;eme>ome;eme--)nme=eme+x_-1,(tme=eme+$P-1)in rme?rme[nme]=rme[tme]:delete rme[nme];for(eme=0;eme<x_;eme++)rme[eme+ome]=arguments[eme+2];return rme.length=ime-$P+x_,zP}});var $_=function(){function kh(Ff,x_){var $P=this;this.$toolbar=Mp('<div class="w-e-bar w-e-bar-show w-e-toolbar"></div>'),this.menus={},this.toolbarItems=[],this.config={},this.changeToolbarState=Zv(function(){$P.toolbarItems.forEach(function(tme){tme.changeMenuState()})},200),this.config=x_;var zP=Mp(Ff);if(zP.length===0)throw new Error("Cannot find toolbar DOM by selector '"+Ff+"'");this.$box=zP;var eme=this.$toolbar;eme.on("mousedown",function(tme){return tme.preventDefault()},{passive:!1}),zP.append(eme),ZB(function(){$P.registerItems(),$P.changeToolbarState(),$P.getEditorInstance().on("change",$P.changeToolbarState)})}return kh.prototype.getMenus=function(){return this.menus},kh.prototype.getConfig=function(){return this.config},kh.prototype.registerItems=function(){var Ff=this,x_="",$P=this.$toolbar,zP=this.config,eme=zP.toolbarKeys,tme=eme===void 0?[]:eme,nme=zP.insertKeys,rme=nme===void 0?{index:0,keys:[]}:nme,ime=zP.excludeKeys,ome=ime===void 0?[]:ime,sme=Jv(tme);rme.keys.length>0&&(typeof rme.keys=="string"&&(rme.keys=[rme.keys]),rme.keys.forEach(function(ume,dme){sme.splice(rme.index+dme,0,ume)}));var ame=sme.filter(function(ume){if(typeof ume=="string"){if(ome.includes(ume))return!1}else if(ome.includes(ume.key))return!1;return!0}),lme=ame.length;ame.forEach(function(ume,dme){if(ume==="|"){if(dme===0||dme+1===lme||x_==="|")return;var pme=g_();return $P.append(pme),void(x_=ume)}if(typeof ume=="string")return Ff.registerSingleItem(ume,Ff),void(x_=ume);Ff.registerGroup(ume),x_="group"})},kh.prototype.registerGroup=function(Ff){var x_=this,$P=this.$toolbar,zP=function(ime){return new B_(ime)}(Ff),eme=Ff.menuKeys,tme=eme===void 0?[]:eme,nme=this.config.excludeKeys,rme=nme===void 0?[]:nme;tme.forEach(function(ime){rme.includes(ime)||x_.registerSingleItem(ime,zP)}),$P.append(zP.$elem)},kh.prototype.registerSingleItem=function(Ff,x_){var $P=this.getEditorInstance(),zP=x_ instanceof B_,eme=this.menus,tme=eme[Ff];if(tme==null){var nme=nk[Ff];if(nme==null)throw new Error("Not found menu item factory by key '"+Ff+"'");if(typeof nme!="function")throw new Error("Menu item factory (key='"+Ff+"') is not a function");tme=nme(),eme[Ff]=tme}else console.warn("Duplicated toolbar menu key '"+Ff+`'
重复注册了菜单栏 menu '`+Ff+"'");var rme=__(Ff,tme,zP);this.toolbarItems.push(rme),fO.set(rme,$P),zP?x_.appendBarItem(rme):x_.$toolbar.append(rme.$elem)},kh.prototype.getEditorInstance=function(){var Ff=uO.get(this);if(Ff==null)throw new Error("Can not get editor instance");return Ff},kh.prototype.destroy=function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[]},kh}(),H_=VE.EXISTS,V_=bE.f,U_=Function.prototype,W_=mw(U_.toString),G_=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,q_=mw(G_.exec);function K_(kh){var Ff=kh.server,x_=Ff===void 0?"":Ff,$P=kh.fieldName,zP=$P===void 0?"":$P,eme=kh.maxFileSize,tme=eme===void 0?10485760:eme,nme=kh.maxNumberOfFiles,rme=nme===void 0?100:nme,ime=kh.meta,ome=ime===void 0?{}:ime,sme=kh.metaWithUrl,ame=sme!==void 0&&sme,lme=kh.headers,ume=lme===void 0?{}:lme,dme=kh.withCredentials,pme=dme!==void 0&&dme,hme=kh.timeout,cme=hme===void 0?1e4:hme,_me=kh.onBeforeUpload,vme=_me===void 0?function(Fme){return Fme}:_me,Eme=kh.onSuccess,wme=Eme===void 0?function(Fme,$me){}:Eme,Tme=kh.onError,Dme=Tme===void 0?function(Fme,$me,Gme){console.error(Fme.name+" upload error",$me,Gme)}:Tme,Ame=kh.onProgress,Nme=Ame===void 0?function(Fme){}:Ame;if(!x_)throw new Error(`Cannot get upload server address
没有配置上传地址`);if(!zP)throw new Error(`Cannot get fieldName
没有配置 fieldName`);var Ume=x_;ame&&(Ume=function(Fme,$me){var Gme=aA(Fme.split("#"),2),Wme=Gme[0],Jme=Gme[1],r_e=[];Lh($me,function(i_e,Mme){r_e.push(Mme+"="+i_e)});var o_e=r_e.join("&");return Wme=Wme.indexOf("?")>0?Wme+"&"+o_e:Wme+"?"+o_e,Jme?Wme+"#"+Jme:Wme}(Ume,ome));var jme=new _m({onBeforeUpload:vme,restrictions:{maxFileSize:tme,maxNumberOfFiles:rme},meta:ome}).use(rw,{endpoint:Ume,headers:ume,formData:!0,fieldName:zP,bundle:!0,withCredentials:pme,timeout:cme});return jme.on("upload-success",function(Fme,$me){var Gme=$me.body,Wme=Gme===void 0?{}:Gme;try{wme(Fme,Wme)}catch(Jme){console.error("wangEditor upload file - onSuccess error",Jme)}jme.removeFile(Fme.id)}),jme.on("progress",function(Fme){Fme<1||Nme(Fme)}),jme.on("upload-error",function(Fme,$me,Gme){try{Dme(Fme,$me,Gme)}catch(Wme){console.error("wangEditor upload file - onError error",Wme)}jme.removeFile(Fme.id)}),jme.on("restriction-failed",function(Fme,$me){try{Dme(Fme,$me)}catch(Gme){console.error("wangEditor upload file - onError error",Gme)}jme.removeFile(Fme.id)}),jme}function Y_(kh){return Y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ff){return typeof Ff}:function(Ff){return Ff&&typeof Symbol=="function"&&Ff.constructor===Symbol&&Ff!==Symbol.prototype?"symbol":typeof Ff},Y_(kh)}function X_(kh,Ff,x_){return Ff in kh?Object.defineProperty(kh,Ff,{value:x_,enumerable:!0,configurable:!0,writable:!0}):kh[Ff]=x_,kh}function Z_(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff]!=null?Object(arguments[Ff]):{},$P=Object.keys(x_);typeof Object.getOwnPropertySymbols=="function"&&$P.push.apply($P,Object.getOwnPropertySymbols(x_).filter(function(zP){return Object.getOwnPropertyDescriptor(x_,zP).enumerable})),$P.forEach(function(zP){X_(kh,zP,x_[zP])})}return kh}function J_(kh,Ff){if(!(kh instanceof Ff))throw new TypeError("Cannot call a class as a function")}function Q_(kh,Ff){for(var x_=0;x_<Ff.length;x_++){var $P=Ff[x_];$P.enumerable=$P.enumerable||!1,$P.configurable=!0,"value"in $P&&($P.writable=!0),Object.defineProperty(kh,$P.key,$P)}}function eP(kh,Ff,x_){return Ff&&Q_(kh.prototype,Ff),x_&&Q_(kh,x_),kh}function tP(kh){if(kh===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kh}function nP(kh,Ff){if(Ff&&(Y_(Ff)==="object"||typeof Ff=="function"))return Ff;if(Ff!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tP(kh)}function rP(kh){return rP=Object.setPrototypeOf?Object.getPrototypeOf:function(Ff){return Ff.__proto__||Object.getPrototypeOf(Ff)},rP(kh)}function oP(kh,Ff){return oP=Object.setPrototypeOf||function(x_,$P){return x_.__proto__=$P,x_},oP(kh,Ff)}function iP(kh,Ff){if(typeof Ff!="function"&&Ff!==null)throw new TypeError("Super expression must either be null or a function");kh.prototype=Object.create(Ff&&Ff.prototype,{constructor:{value:kh,writable:!0,configurable:!0}}),Ff&&oP(kh,Ff)}Kw&&!H_&&V_(U_,"name",{configurable:!0,get:function(){try{return q_(G_,W_(this))[1]}catch(kh){return""}}});var aP={type:"logger",log:function(kh){this.output("log",kh)},warn:function(kh){this.output("warn",kh)},error:function(kh){this.output("error",kh)},output:function(kh,Ff){console&&console[kh]&&console[kh].apply(console,Ff)}},uP=new(function(){function kh(Ff){var x_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J_(this,kh),this.init(Ff,x_)}return eP(kh,[{key:"init",value:function(Ff){var x_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=x_.prefix||"i18next:",this.logger=Ff||aP,this.options=x_,this.debug=x_.debug}},{key:"setDebug",value:function(Ff){this.debug=Ff}},{key:"log",value:function(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];return this.forward(x_,"log","",!0)}},{key:"warn",value:function(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];return this.forward(x_,"warn","",!0)}},{key:"error",value:function(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];return this.forward(x_,"error","")}},{key:"deprecate",value:function(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];return this.forward(x_,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(Ff,x_,$P,zP){return zP&&!this.debug?null:(typeof Ff[0]=="string"&&(Ff[0]="".concat($P).concat(this.prefix," ").concat(Ff[0])),this.logger[x_](Ff))}},{key:"create",value:function(Ff){return new kh(this.logger,Z_({},{prefix:"".concat(this.prefix,":").concat(Ff,":")},this.options))}}]),kh}()),sP=function(){function kh(){J_(this,kh),this.observers={}}return eP(kh,[{key:"on",value:function(Ff,x_){var $P=this;return Ff.split(" ").forEach(function(zP){$P.observers[zP]=$P.observers[zP]||[],$P.observers[zP].push(x_)}),this}},{key:"off",value:function(Ff,x_){this.observers[Ff]&&(x_?this.observers[Ff]=this.observers[Ff].filter(function($P){return $P!==x_}):delete this.observers[Ff])}},{key:"emit",value:function(Ff){for(var x_=arguments.length,$P=new Array(x_>1?x_-1:0),zP=1;zP<x_;zP++)$P[zP-1]=arguments[zP];if(this.observers[Ff]){var eme=[].concat(this.observers[Ff]);eme.forEach(function(nme){nme.apply(void 0,$P)})}if(this.observers["*"]){var tme=[].concat(this.observers["*"]);tme.forEach(function(nme){nme.apply(nme,[Ff].concat($P))})}}}]),kh}();function lP(){var kh,Ff,x_=new Promise(function($P,zP){kh=$P,Ff=zP});return x_.resolve=kh,x_.reject=Ff,x_}function cP(kh){return kh==null?"":""+kh}function fP(kh,Ff,x_){kh.forEach(function($P){Ff[$P]&&(x_[$P]=Ff[$P])})}function dP(kh,Ff,x_){function $P(nme){return nme&&nme.indexOf("###")>-1?nme.replace(/###/g,"."):nme}function zP(){return!kh||typeof kh=="string"}for(var eme=typeof Ff!="string"?[].concat(Ff):Ff.split(".");eme.length>1;){if(zP())return{};var tme=$P(eme.shift());!kh[tme]&&x_&&(kh[tme]=new x_),kh=Object.prototype.hasOwnProperty.call(kh,tme)?kh[tme]:{}}return zP()?{}:{obj:kh,k:$P(eme.shift())}}function pP(kh,Ff,x_){var $P=dP(kh,Ff,Object);$P.obj[$P.k]=x_}function hP(kh,Ff){var x_=dP(kh,Ff),$P=x_.obj,zP=x_.k;if($P)return $P[zP]}function gP(kh,Ff,x_){var $P=hP(kh,x_);return $P!==void 0?$P:hP(Ff,x_)}function vP(kh,Ff,x_){for(var $P in Ff)$P!=="__proto__"&&$P!=="constructor"&&($P in kh?typeof kh[$P]=="string"||kh[$P]instanceof String||typeof Ff[$P]=="string"||Ff[$P]instanceof String?x_&&(kh[$P]=Ff[$P]):vP(kh[$P],Ff[$P],x_):kh[$P]=Ff[$P]);return kh}function yP(kh){return kh.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var mP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function bP(kh){return typeof kh=="string"?kh.replace(/[&<>"'\/]/g,function(Ff){return mP[Ff]}):kh}var wP=typeof window!="undefined"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function EP(kh,Ff){var x_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(kh){if(kh[Ff])return kh[Ff];for(var $P=Ff.split(x_),zP=kh,eme=0;eme<$P.length;++eme){if(!zP||typeof zP[$P[eme]]=="string"&&eme+1<$P.length)return;if(zP[$P[eme]]===void 0){for(var tme=2,nme=$P.slice(eme,eme+tme).join(x_),rme=zP[nme];rme===void 0&&$P.length>eme+tme;)tme++,rme=zP[nme=$P.slice(eme,eme+tme).join(x_)];if(rme===void 0)return;if(typeof rme=="string")return rme;if(nme&&typeof rme[nme]=="string")return rme[nme];var ime=$P.slice(eme+tme).join(x_);return ime?EP(rme,ime,x_):void 0}zP=zP[$P[eme]]}return zP}}var DP=function(kh){function Ff(x_){var $P,zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return J_(this,Ff),$P=nP(this,rP(Ff).call(this)),wP&&sP.call(tP($P)),$P.data=x_||{},$P.options=zP,$P.options.keySeparator===void 0&&($P.options.keySeparator="."),$P.options.ignoreJSONStructure===void 0&&($P.options.ignoreJSONStructure=!0),$P}return iP(Ff,sP),eP(Ff,[{key:"addNamespaces",value:function(x_){this.options.ns.indexOf(x_)<0&&this.options.ns.push(x_)}},{key:"removeNamespaces",value:function(x_){var $P=this.options.ns.indexOf(x_);$P>-1&&this.options.ns.splice($P,1)}},{key:"getResource",value:function(x_,$P,zP){var eme=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},tme=eme.keySeparator!==void 0?eme.keySeparator:this.options.keySeparator,nme=eme.ignoreJSONStructure!==void 0?eme.ignoreJSONStructure:this.options.ignoreJSONStructure,rme=[x_,$P];zP&&typeof zP!="string"&&(rme=rme.concat(zP)),zP&&typeof zP=="string"&&(rme=rme.concat(tme?zP.split(tme):zP)),x_.indexOf(".")>-1&&(rme=x_.split("."));var ime=hP(this.data,rme);return ime||!nme||typeof zP!="string"?ime:EP(this.data&&this.data[x_]&&this.data[x_][$P],zP,tme)}},{key:"addResource",value:function(x_,$P,zP,eme){var tme=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},nme=this.options.keySeparator;nme===void 0&&(nme=".");var rme=[x_,$P];zP&&(rme=rme.concat(nme?zP.split(nme):zP)),x_.indexOf(".")>-1&&(eme=$P,$P=(rme=x_.split("."))[1]),this.addNamespaces($P),pP(this.data,rme,eme),tme.silent||this.emit("added",x_,$P,zP,eme)}},{key:"addResources",value:function(x_,$P,zP){var eme=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var tme in zP)typeof zP[tme]!="string"&&Object.prototype.toString.apply(zP[tme])!=="[object Array]"||this.addResource(x_,$P,tme,zP[tme],{silent:!0});eme.silent||this.emit("added",x_,$P,zP)}},{key:"addResourceBundle",value:function(x_,$P,zP,eme,tme){var nme=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},rme=[x_,$P];x_.indexOf(".")>-1&&(eme=zP,zP=$P,$P=(rme=x_.split("."))[1]),this.addNamespaces($P);var ime=hP(this.data,rme)||{};eme?vP(ime,zP,tme):ime=Z_({},ime,zP),pP(this.data,rme,ime),nme.silent||this.emit("added",x_,$P,zP)}},{key:"removeResourceBundle",value:function(x_,$P){this.hasResourceBundle(x_,$P)&&delete this.data[x_][$P],this.removeNamespaces($P),this.emit("removed",x_,$P)}},{key:"hasResourceBundle",value:function(x_,$P){return this.getResource(x_,$P)!==void 0}},{key:"getResourceBundle",value:function(x_,$P){return $P||($P=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Z_({},{},this.getResource(x_,$P)):this.getResource(x_,$P)}},{key:"getDataByLanguage",value:function(x_){return this.data[x_]}},{key:"toJSON",value:function(){return this.data}}]),Ff}(),SP={processors:{},addPostProcessor:function(kh){this.processors[kh.name]=kh},handle:function(kh,Ff,x_,$P,zP){var eme=this;return kh.forEach(function(tme){eme.processors[tme]&&(Ff=eme.processors[tme].process(Ff,x_,$P,zP))}),Ff}},xP={},CP=function(kh){function Ff(x_){var $P,zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J_(this,Ff),$P=nP(this,rP(Ff).call(this)),wP&&sP.call(tP($P)),fP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],x_,tP($P)),$P.options=zP,$P.options.keySeparator===void 0&&($P.options.keySeparator="."),$P.logger=uP.create("translator"),$P}return iP(Ff,sP),eP(Ff,[{key:"changeLanguage",value:function(x_){x_&&(this.language=x_)}},{key:"exists",value:function(x_){var $P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(x_==null)return!1;var zP=this.resolve(x_,$P);return zP&&zP.res!==void 0}},{key:"extractFromKey",value:function(x_,$P){var zP=$P.nsSeparator!==void 0?$P.nsSeparator:this.options.nsSeparator;zP===void 0&&(zP=":");var eme=$P.keySeparator!==void 0?$P.keySeparator:this.options.keySeparator,tme=$P.ns||this.options.defaultNS;if(zP&&x_.indexOf(zP)>-1){var nme=x_.match(this.interpolator.nestingRegexp);if(nme&&nme.length>0)return{key:x_,namespaces:tme};var rme=x_.split(zP);(zP!==eme||zP===eme&&this.options.ns.indexOf(rme[0])>-1)&&(tme=rme.shift()),x_=rme.join(eme)}return typeof tme=="string"&&(tme=[tme]),{key:x_,namespaces:tme}}},{key:"translate",value:function(x_,$P,zP){var eme=this;if(Y_($P)!=="object"&&this.options.overloadTranslationOptionHandler&&($P=this.options.overloadTranslationOptionHandler(arguments)),$P||($P={}),x_==null)return"";Array.isArray(x_)||(x_=[String(x_)]);var tme=$P.keySeparator!==void 0?$P.keySeparator:this.options.keySeparator,nme=this.extractFromKey(x_[x_.length-1],$P),rme=nme.key,ime=nme.namespaces,ome=ime[ime.length-1],sme=$P.lng||this.language,ame=$P.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(sme&&sme.toLowerCase()==="cimode"){if(ame){var lme=$P.nsSeparator||this.options.nsSeparator;return ome+lme+rme}return rme}var ume=this.resolve(x_,$P),dme=ume&&ume.res,pme=ume&&ume.usedKey||rme,hme=ume&&ume.exactUsedKey||rme,cme=Object.prototype.toString.apply(dme),_me=["[object Number]","[object Function]","[object RegExp]"],vme=$P.joinArrays!==void 0?$P.joinArrays:this.options.joinArrays,Eme=!this.i18nFormat||this.i18nFormat.handleAsObject,wme=typeof dme!="string"&&typeof dme!="boolean"&&typeof dme!="number";if(Eme&&dme&&wme&&_me.indexOf(cme)<0&&(typeof vme!="string"||cme!=="[object Array]")){if(!$P.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(pme,dme,Z_({},$P,{ns:ime})):"key '".concat(rme," (").concat(this.language,")' returned an object instead of string.");if(tme){var Tme=cme==="[object Array]",Dme=Tme?[]:{},Ame=Tme?hme:pme;for(var Nme in dme)if(Object.prototype.hasOwnProperty.call(dme,Nme)){var Ume="".concat(Ame).concat(tme).concat(Nme);Dme[Nme]=this.translate(Ume,Z_({},$P,{joinArrays:!1,ns:ime})),Dme[Nme]===Ume&&(Dme[Nme]=dme[Nme])}dme=Dme}}else if(Eme&&typeof vme=="string"&&cme==="[object Array]")(dme=dme.join(vme))&&(dme=this.extendTranslation(dme,x_,$P,zP));else{var jme=!1,Fme=!1,$me=$P.count!==void 0&&typeof $P.count!="string",Gme=Ff.hasDefaultValue($P),Wme=$me?this.pluralResolver.getSuffix(sme,$P.count):"",Jme=$P["defaultValue".concat(Wme)]||$P.defaultValue;!this.isValidLookup(dme)&&Gme&&(jme=!0,dme=Jme),this.isValidLookup(dme)||(Fme=!0,dme=rme);var r_e=$P.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,o_e=r_e&&Fme?void 0:dme,i_e=Gme&&Jme!==dme&&this.options.updateMissing;if(Fme||jme||i_e){if(this.logger.log(i_e?"updateKey":"missingKey",sme,ome,rme,i_e?Jme:dme),tme){var Mme=this.resolve(rme,Z_({},$P,{keySeparator:!1}));Mme&&Mme.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Ome=[],Rme=this.languageUtils.getFallbackCodes(this.options.fallbackLng,$P.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Rme&&Rme[0])for(var zme=0;zme<Rme.length;zme++)Ome.push(Rme[zme]);else this.options.saveMissingTo==="all"?Ome=this.languageUtils.toResolveHierarchy($P.lng||this.language):Ome.push($P.lng||this.language);var Zme=function(Qme,n_e,c_e){eme.options.missingKeyHandler?eme.options.missingKeyHandler(Qme,ome,n_e,i_e?c_e:o_e,i_e,$P):eme.backendConnector&&eme.backendConnector.saveMissing&&eme.backendConnector.saveMissing(Qme,ome,n_e,i_e?c_e:o_e,i_e,$P),eme.emit("missingKey",Qme,ome,n_e,dme)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$me?Ome.forEach(function(Qme){eme.pluralResolver.getSuffixes(Qme).forEach(function(n_e){Zme([Qme],rme+n_e,$P["defaultValue".concat(n_e)]||Jme)})}):Zme(Ome,rme,Jme))}dme=this.extendTranslation(dme,x_,$P,ume,zP),Fme&&dme===rme&&this.options.appendNamespaceToMissingKey&&(dme="".concat(ome,":").concat(rme)),(Fme||jme)&&this.options.parseMissingKeyHandler&&(dme=this.options.parseMissingKeyHandler(dme))}return dme}},{key:"extendTranslation",value:function(x_,$P,zP,eme,tme){var nme=this;if(this.i18nFormat&&this.i18nFormat.parse)x_=this.i18nFormat.parse(x_,zP,eme.usedLng,eme.usedNS,eme.usedKey,{resolved:eme});else if(!zP.skipInterpolation){zP.interpolation&&this.interpolator.init(Z_({},zP,{interpolation:Z_({},this.options.interpolation,zP.interpolation)}));var rme,ime=zP.interpolation&&zP.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(ime){var ome=x_.match(this.interpolator.nestingRegexp);rme=ome&&ome.length}var sme=zP.replace&&typeof zP.replace!="string"?zP.replace:zP;if(this.options.interpolation.defaultVariables&&(sme=Z_({},this.options.interpolation.defaultVariables,sme)),x_=this.interpolator.interpolate(x_,sme,zP.lng||this.language,zP),ime){var ame=x_.match(this.interpolator.nestingRegexp);rme<(ame&&ame.length)&&(zP.nest=!1)}zP.nest!==!1&&(x_=this.interpolator.nest(x_,function(){for(var dme=arguments.length,pme=new Array(dme),hme=0;hme<dme;hme++)pme[hme]=arguments[hme];return tme&&tme[0]===pme[0]&&!zP.context?(nme.logger.warn("It seems you are nesting recursively key: ".concat(pme[0]," in key: ").concat($P[0])),null):nme.translate.apply(nme,pme.concat([$P]))},zP)),zP.interpolation&&this.interpolator.reset()}var lme=zP.postProcess||this.options.postProcess,ume=typeof lme=="string"?[lme]:lme;return x_!=null&&ume&&ume.length&&zP.applyPostProcessor!==!1&&(x_=SP.handle(ume,x_,$P,this.options&&this.options.postProcessPassResolved?Z_({i18nResolved:eme},zP):zP,this)),x_}},{key:"resolve",value:function(x_){var $P,zP,eme,tme,nme,rme=this,ime=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof x_=="string"&&(x_=[x_]),x_.forEach(function(ome){if(!rme.isValidLookup($P)){var sme=rme.extractFromKey(ome,ime),ame=sme.key;zP=ame;var lme=sme.namespaces;rme.options.fallbackNS&&(lme=lme.concat(rme.options.fallbackNS));var ume=ime.count!==void 0&&typeof ime.count!="string",dme=ime.context!==void 0&&(typeof ime.context=="string"||typeof ime.context=="number")&&ime.context!=="",pme=ime.lngs?ime.lngs:rme.languageUtils.toResolveHierarchy(ime.lng||rme.language,ime.fallbackLng);lme.forEach(function(hme){rme.isValidLookup($P)||(nme=hme,!xP["".concat(pme[0],"-").concat(hme)]&&rme.utils&&rme.utils.hasLoadedNamespace&&!rme.utils.hasLoadedNamespace(nme)&&(xP["".concat(pme[0],"-").concat(hme)]=!0,rme.logger.warn('key "'.concat(zP,'" for languages "').concat(pme.join(", "),`" won't get resolved as namespace "`).concat(nme,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),pme.forEach(function(cme){if(!rme.isValidLookup($P)){tme=cme;var _me,vme,Eme=ame,wme=[Eme];for(rme.i18nFormat&&rme.i18nFormat.addLookupKeys?rme.i18nFormat.addLookupKeys(wme,ame,cme,hme,ime):(ume&&(_me=rme.pluralResolver.getSuffix(cme,ime.count)),ume&&dme&&wme.push(Eme+_me),dme&&wme.push(Eme+="".concat(rme.options.contextSeparator).concat(ime.context)),ume&&wme.push(Eme+=_me));vme=wme.pop();)rme.isValidLookup($P)||(eme=vme,$P=rme.getResource(cme,hme,vme,ime))}}))})}}),{res:$P,usedKey:zP,exactUsedKey:eme,usedLng:tme,usedNS:nme}}},{key:"isValidLookup",value:function(x_){return!(x_===void 0||!this.options.returnNull&&x_===null||!this.options.returnEmptyString&&x_==="")}},{key:"getResource",value:function(x_,$P,zP){var eme=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(x_,$P,zP,eme):this.resourceStore.getResource(x_,$P,zP,eme)}}],[{key:"hasDefaultValue",value:function(x_){var $P="defaultValue";for(var zP in x_)if(Object.prototype.hasOwnProperty.call(x_,zP)&&$P===zP.substring(0,$P.length)&&x_[zP]!==void 0)return!0;return!1}}]),Ff}();function AP(kh){return kh.charAt(0).toUpperCase()+kh.slice(1)}var OP=function(){function kh(Ff){J_(this,kh),this.options=Ff,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=uP.create("languageUtils")}return eP(kh,[{key:"getScriptPartFromCode",value:function(Ff){if(!Ff||Ff.indexOf("-")<0)return null;var x_=Ff.split("-");return x_.length===2?null:(x_.pop(),x_[x_.length-1].toLowerCase()==="x"?null:this.formatLanguageCode(x_.join("-")))}},{key:"getLanguagePartFromCode",value:function(Ff){if(!Ff||Ff.indexOf("-")<0)return Ff;var x_=Ff.split("-");return this.formatLanguageCode(x_[0])}},{key:"formatLanguageCode",value:function(Ff){if(typeof Ff=="string"&&Ff.indexOf("-")>-1){var x_=["hans","hant","latn","cyrl","cans","mong","arab"],$P=Ff.split("-");return this.options.lowerCaseLng?$P=$P.map(function(zP){return zP.toLowerCase()}):$P.length===2?($P[0]=$P[0].toLowerCase(),$P[1]=$P[1].toUpperCase(),x_.indexOf($P[1].toLowerCase())>-1&&($P[1]=AP($P[1].toLowerCase()))):$P.length===3&&($P[0]=$P[0].toLowerCase(),$P[1].length===2&&($P[1]=$P[1].toUpperCase()),$P[0]!=="sgn"&&$P[2].length===2&&($P[2]=$P[2].toUpperCase()),x_.indexOf($P[1].toLowerCase())>-1&&($P[1]=AP($P[1].toLowerCase())),x_.indexOf($P[2].toLowerCase())>-1&&($P[2]=AP($P[2].toLowerCase()))),$P.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?Ff.toLowerCase():Ff}},{key:"isWhitelisted",value:function(Ff){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(Ff)}},{key:"isSupportedCode",value:function(Ff){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(Ff=this.getLanguagePartFromCode(Ff)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(Ff)>-1}},{key:"getBestMatchFromCodes",value:function(Ff){var x_,$P=this;return Ff?(Ff.forEach(function(zP){if(!x_){var eme=$P.formatLanguageCode(zP);$P.options.supportedLngs&&!$P.isSupportedCode(eme)||(x_=eme)}}),!x_&&this.options.supportedLngs&&Ff.forEach(function(zP){if(!x_){var eme=$P.getLanguagePartFromCode(zP);if($P.isSupportedCode(eme))return x_=eme;x_=$P.options.supportedLngs.find(function(tme){if(tme.indexOf(eme)===0)return tme})}}),x_||(x_=this.getFallbackCodes(this.options.fallbackLng)[0]),x_):null}},{key:"getFallbackCodes",value:function(Ff,x_){if(!Ff)return[];if(typeof Ff=="function"&&(Ff=Ff(x_)),typeof Ff=="string"&&(Ff=[Ff]),Object.prototype.toString.apply(Ff)==="[object Array]")return Ff;if(!x_)return Ff.default||[];var $P=Ff[x_];return $P||($P=Ff[this.getScriptPartFromCode(x_)]),$P||($P=Ff[this.formatLanguageCode(x_)]),$P||($P=Ff[this.getLanguagePartFromCode(x_)]),$P||($P=Ff.default),$P||[]}},{key:"toResolveHierarchy",value:function(Ff,x_){var $P=this,zP=this.getFallbackCodes(x_||this.options.fallbackLng||[],Ff),eme=[],tme=function(nme){nme&&($P.isSupportedCode(nme)?eme.push(nme):$P.logger.warn("rejecting language code not found in supportedLngs: ".concat(nme)))};return typeof Ff=="string"&&Ff.indexOf("-")>-1?(this.options.load!=="languageOnly"&&tme(this.formatLanguageCode(Ff)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&tme(this.getScriptPartFromCode(Ff)),this.options.load!=="currentOnly"&&tme(this.getLanguagePartFromCode(Ff))):typeof Ff=="string"&&tme(this.formatLanguageCode(Ff)),zP.forEach(function(nme){eme.indexOf(nme)<0&&tme($P.formatLanguageCode(nme))}),eme}}]),kh}(),kP=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],BP={1:function(kh){return+(kh>1)},2:function(kh){return+(kh!=1)},3:function(kh){return 0},4:function(kh){return kh%10==1&&kh%100!=11?0:kh%10>=2&&kh%10<=4&&(kh%100<10||kh%100>=20)?1:2},5:function(kh){return kh==0?0:kh==1?1:kh==2?2:kh%100>=3&&kh%100<=10?3:kh%100>=11?4:5},6:function(kh){return kh==1?0:kh>=2&&kh<=4?1:2},7:function(kh){return kh==1?0:kh%10>=2&&kh%10<=4&&(kh%100<10||kh%100>=20)?1:2},8:function(kh){return kh==1?0:kh==2?1:kh!=8&&kh!=11?2:3},9:function(kh){return+(kh>=2)},10:function(kh){return kh==1?0:kh==2?1:kh<7?2:kh<11?3:4},11:function(kh){return kh==1||kh==11?0:kh==2||kh==12?1:kh>2&&kh<20?2:3},12:function(kh){return+(kh%10!=1||kh%100==11)},13:function(kh){return+(kh!==0)},14:function(kh){return kh==1?0:kh==2?1:kh==3?2:3},15:function(kh){return kh%10==1&&kh%100!=11?0:kh%10>=2&&(kh%100<10||kh%100>=20)?1:2},16:function(kh){return kh%10==1&&kh%100!=11?0:kh!==0?1:2},17:function(kh){return kh==1||kh%10==1&&kh%100!=11?0:1},18:function(kh){return kh==0?0:kh==1?1:2},19:function(kh){return kh==1?0:kh==0||kh%100>1&&kh%100<11?1:kh%100>10&&kh%100<20?2:3},20:function(kh){return kh==1?0:kh==0||kh%100>0&&kh%100<20?1:2},21:function(kh){return kh%100==1?1:kh%100==2?2:kh%100==3||kh%100==4?3:0},22:function(kh){return kh==1?0:kh==2?1:(kh<0||kh>10)&&kh%10==0?2:3}};function FP(){var kh={};return kP.forEach(function(Ff){Ff.lngs.forEach(function(x_){kh[x_]={numbers:Ff.nr,plurals:BP[Ff.fc]}})}),kh}var TP=function(){function kh(Ff){var x_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J_(this,kh),this.languageUtils=Ff,this.options=x_,this.logger=uP.create("pluralResolver"),this.rules=FP()}return eP(kh,[{key:"addRule",value:function(Ff,x_){this.rules[Ff]=x_}},{key:"getRule",value:function(Ff){return this.rules[Ff]||this.rules[this.languageUtils.getLanguagePartFromCode(Ff)]}},{key:"needsPlural",value:function(Ff){var x_=this.getRule(Ff);return x_&&x_.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(Ff,x_){return this.getSuffixes(Ff).map(function($P){return x_+$P})}},{key:"getSuffixes",value:function(Ff){var x_=this,$P=this.getRule(Ff);return $P?$P.numbers.map(function(zP){return x_.getSuffix(Ff,zP)}):[]}},{key:"getSuffix",value:function(Ff,x_){var $P=this,zP=this.getRule(Ff);if(zP){var eme=zP.noAbs?zP.plurals(x_):zP.plurals(Math.abs(x_)),tme=zP.numbers[eme];this.options.simplifyPluralSuffix&&zP.numbers.length===2&&zP.numbers[0]===1&&(tme===2?tme="plural":tme===1&&(tme=""));var nme=function(){return $P.options.prepend&&tme.toString()?$P.options.prepend+tme.toString():tme.toString()};return this.options.compatibilityJSON==="v1"?tme===1?"":typeof tme=="number"?"_plural_".concat(tme.toString()):nme():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&zP.numbers.length===2&&zP.numbers[0]===1?nme():this.options.prepend&&eme.toString()?this.options.prepend+eme.toString():eme.toString()}return this.logger.warn("no plural rule found for: ".concat(Ff)),""}}]),kh}(),_P=function(){function kh(){var Ff=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J_(this,kh),this.logger=uP.create("interpolator"),this.options=Ff,this.format=Ff.interpolation&&Ff.interpolation.format||function(x_){return x_},this.init(Ff)}return eP(kh,[{key:"init",value:function(){var Ff=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ff.interpolation||(Ff.interpolation={escapeValue:!0});var x_=Ff.interpolation;this.escape=x_.escape!==void 0?x_.escape:bP,this.escapeValue=x_.escapeValue===void 0||x_.escapeValue,this.useRawValueToEscape=x_.useRawValueToEscape!==void 0&&x_.useRawValueToEscape,this.prefix=x_.prefix?yP(x_.prefix):x_.prefixEscaped||"{{",this.suffix=x_.suffix?yP(x_.suffix):x_.suffixEscaped||"}}",this.formatSeparator=x_.formatSeparator?x_.formatSeparator:x_.formatSeparator||",",this.unescapePrefix=x_.unescapeSuffix?"":x_.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":x_.unescapeSuffix||"",this.nestingPrefix=x_.nestingPrefix?yP(x_.nestingPrefix):x_.nestingPrefixEscaped||yP("$t("),this.nestingSuffix=x_.nestingSuffix?yP(x_.nestingSuffix):x_.nestingSuffixEscaped||yP(")"),this.nestingOptionsSeparator=x_.nestingOptionsSeparator?x_.nestingOptionsSeparator:x_.nestingOptionsSeparator||",",this.maxReplaces=x_.maxReplaces?x_.maxReplaces:1e3,this.alwaysFormat=x_.alwaysFormat!==void 0&&x_.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var Ff="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(Ff,"g");var x_="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(x_,"g");var $P="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp($P,"g")}},{key:"interpolate",value:function(Ff,x_,$P,zP){var eme,tme,nme,rme=this,ime=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function ome(dme){return dme.replace(/\$/g,"$$$$")}var sme=function(dme){if(dme.indexOf(rme.formatSeparator)<0){var pme=gP(x_,ime,dme);return rme.alwaysFormat?rme.format(pme,void 0,$P,Z_({},zP,x_,{interpolationkey:dme})):pme}var hme=dme.split(rme.formatSeparator),cme=hme.shift().trim(),_me=hme.join(rme.formatSeparator).trim();return rme.format(gP(x_,ime,cme),_me,$P,Z_({},zP,x_,{interpolationkey:cme}))};this.resetRegExp();var ame=zP&&zP.missingInterpolationHandler||this.options.missingInterpolationHandler,lme=zP&&zP.interpolation&&zP.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,ume=[{regex:this.regexpUnescape,safeValue:function(dme){return ome(dme)}},{regex:this.regexp,safeValue:function(dme){return rme.escapeValue?ome(rme.escape(dme)):ome(dme)}}];return ume.forEach(function(dme){for(nme=0;eme=dme.regex.exec(Ff);){if((tme=sme(eme[1].trim()))===void 0)if(typeof ame=="function"){var pme=ame(Ff,eme,zP);tme=typeof pme=="string"?pme:""}else{if(lme){tme=eme[0];continue}rme.logger.warn("missed to pass in variable ".concat(eme[1]," for interpolating ").concat(Ff)),tme=""}else typeof tme=="string"||rme.useRawValueToEscape||(tme=cP(tme));var hme=dme.safeValue(tme);if(Ff=Ff.replace(eme[0],hme),lme?(dme.regex.lastIndex+=hme.length,dme.regex.lastIndex-=eme[0].length):dme.regex.lastIndex=0,++nme>=rme.maxReplaces)break}}),Ff}},{key:"nest",value:function(Ff,x_){var $P,zP,eme=this,tme=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nme=Z_({},tme);function rme(ame,lme){var ume=this.nestingOptionsSeparator;if(ame.indexOf(ume)<0)return ame;var dme=ame.split(new RegExp("".concat(ume,"[ ]*{"))),pme="{".concat(dme[1]);ame=dme[0],pme=(pme=this.interpolate(pme,nme)).replace(/'/g,'"');try{nme=JSON.parse(pme),lme&&(nme=Z_({},lme,nme))}catch(hme){return this.logger.warn("failed parsing options string in nesting for key ".concat(ame),hme),"".concat(ame).concat(ume).concat(pme)}return delete nme.defaultValue,ame}for(nme.applyPostProcessor=!1,delete nme.defaultValue;$P=this.nestingRegexp.exec(Ff);){var ime=[],ome=!1;if($P[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test($P[1])){var sme=$P[1].split(this.formatSeparator).map(function(ame){return ame.trim()});$P[1]=sme.shift(),ime=sme,ome=!0}if((zP=x_(rme.call(this,$P[1].trim(),nme),nme))&&$P[0]===Ff&&typeof zP!="string")return zP;typeof zP!="string"&&(zP=cP(zP)),zP||(this.logger.warn("missed to resolve ".concat($P[1]," for nesting ").concat(Ff)),zP=""),ome&&(zP=ime.reduce(function(ame,lme){return eme.format(ame,lme,tme.lng,Z_({},tme,{interpolationkey:$P[1].trim()}))},zP.trim())),Ff=Ff.replace($P[0],zP),this.regexp.lastIndex=0}return Ff}}]),kh}(),PP=function(kh){function Ff(x_,$P,zP){var eme,tme=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return J_(this,Ff),eme=nP(this,rP(Ff).call(this)),wP&&sP.call(tP(eme)),eme.backend=x_,eme.store=$P,eme.services=zP,eme.languageUtils=zP.languageUtils,eme.options=tme,eme.logger=uP.create("backendConnector"),eme.state={},eme.queue=[],eme.backend&&eme.backend.init&&eme.backend.init(zP,tme.backend,tme),eme}return iP(Ff,sP),eP(Ff,[{key:"queueLoad",value:function(x_,$P,zP,eme){var tme=this,nme=[],rme=[],ime=[],ome=[];return x_.forEach(function(sme){var ame=!0;$P.forEach(function(lme){var ume="".concat(sme,"|").concat(lme);!zP.reload&&tme.store.hasResourceBundle(sme,lme)?tme.state[ume]=2:tme.state[ume]<0||(tme.state[ume]===1?rme.indexOf(ume)<0&&rme.push(ume):(tme.state[ume]=1,ame=!1,rme.indexOf(ume)<0&&rme.push(ume),nme.indexOf(ume)<0&&nme.push(ume),ome.indexOf(lme)<0&&ome.push(lme)))}),ame||ime.push(sme)}),(nme.length||rme.length)&&this.queue.push({pending:rme,loaded:{},errors:[],callback:eme}),{toLoad:nme,pending:rme,toLoadLanguages:ime,toLoadNamespaces:ome}}},{key:"loaded",value:function(x_,$P,zP){var eme=x_.split("|"),tme=eme[0],nme=eme[1];$P&&this.emit("failedLoading",tme,nme,$P),zP&&this.store.addResourceBundle(tme,nme,zP),this.state[x_]=$P?-1:2;var rme={};this.queue.forEach(function(ime){(function(ome,sme,ame,lme){var ume=dP(ome,sme,Object),dme=ume.obj,pme=ume.k;dme[pme]=dme[pme]||[],dme[pme].push(ame)})(ime.loaded,[tme],nme),function(ome,sme){for(var ame=ome.indexOf(sme);ame!==-1;)ome.splice(ame,1),ame=ome.indexOf(sme)}(ime.pending,x_),$P&&ime.errors.push($P),ime.pending.length!==0||ime.done||(Object.keys(ime.loaded).forEach(function(ome){rme[ome]||(rme[ome]=[]),ime.loaded[ome].length&&ime.loaded[ome].forEach(function(sme){rme[ome].indexOf(sme)<0&&rme[ome].push(sme)})}),ime.done=!0,ime.errors.length?ime.callback(ime.errors):ime.callback())}),this.emit("loaded",rme),this.queue=this.queue.filter(function(ime){return!ime.done})}},{key:"read",value:function(x_,$P,zP){var eme=this,tme=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,nme=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,rme=arguments.length>5?arguments[5]:void 0;return x_.length?this.backend[zP](x_,$P,function(ime,ome){ime&&ome&&tme<5?setTimeout(function(){eme.read.call(eme,x_,$P,zP,tme+1,2*nme,rme)},nme):rme(ime,ome)}):rme(null,{})}},{key:"prepareLoading",value:function(x_,$P){var zP=this,eme=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tme=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),tme&&tme();typeof x_=="string"&&(x_=this.languageUtils.toResolveHierarchy(x_)),typeof $P=="string"&&($P=[$P]);var nme=this.queueLoad(x_,$P,eme,tme);if(!nme.toLoad.length)return nme.pending.length||tme(),null;nme.toLoad.forEach(function(rme){zP.loadOne(rme)})}},{key:"load",value:function(x_,$P,zP){this.prepareLoading(x_,$P,{},zP)}},{key:"reload",value:function(x_,$P,zP){this.prepareLoading(x_,$P,{reload:!0},zP)}},{key:"loadOne",value:function(x_){var $P=this,zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",eme=x_.split("|"),tme=eme[0],nme=eme[1];this.read(tme,nme,"read",void 0,void 0,function(rme,ime){rme&&$P.logger.warn("".concat(zP,"loading namespace ").concat(nme," for language ").concat(tme," failed"),rme),!rme&&ime&&$P.logger.log("".concat(zP,"loaded namespace ").concat(nme," for language ").concat(tme),ime),$P.loaded(x_,rme,ime)})}},{key:"saveMissing",value:function(x_,$P,zP,eme,tme){var nme=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace($P)?this.logger.warn('did not save key "'.concat(zP,'" as the namespace "').concat($P,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):zP!=null&&zP!==""&&(this.backend&&this.backend.create&&this.backend.create(x_,$P,zP,eme,null,Z_({},nme,{isUpdate:tme})),x_&&x_[0]&&this.store.addResource(x_[0],$P,zP,eme))}}]),Ff}();function jP(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(kh){var Ff={};if(Y_(kh[1])==="object"&&(Ff=kh[1]),typeof kh[1]=="string"&&(Ff.defaultValue=kh[1]),typeof kh[2]=="string"&&(Ff.tDescription=kh[2]),Y_(kh[2])==="object"||Y_(kh[3])==="object"){var x_=kh[3]||kh[2];Object.keys(x_).forEach(function($P){Ff[$P]=x_[$P]})}return Ff},interpolation:{escapeValue:!0,format:function(kh,Ff,x_,$P){return kh},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function NP(kh){return typeof kh.ns=="string"&&(kh.ns=[kh.ns]),typeof kh.fallbackLng=="string"&&(kh.fallbackLng=[kh.fallbackLng]),typeof kh.fallbackNS=="string"&&(kh.fallbackNS=[kh.fallbackNS]),kh.whitelist&&(kh.whitelist&&kh.whitelist.indexOf("cimode")<0&&(kh.whitelist=kh.whitelist.concat(["cimode"])),kh.supportedLngs=kh.whitelist),kh.nonExplicitWhitelist&&(kh.nonExplicitSupportedLngs=kh.nonExplicitWhitelist),kh.supportedLngs&&kh.supportedLngs.indexOf("cimode")<0&&(kh.supportedLngs=kh.supportedLngs.concat(["cimode"])),kh}function IP(){}var LP=function(kh){function Ff(){var x_,$P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zP=arguments.length>1?arguments[1]:void 0;if(J_(this,Ff),x_=nP(this,rP(Ff).call(this)),wP&&sP.call(tP(x_)),x_.options=NP($P),x_.services={},x_.logger=uP,x_.modules={external:[]},zP&&!x_.isInitialized&&!$P.isClone){if(!x_.options.initImmediate)return x_.init($P,zP),nP(x_,tP(x_));setTimeout(function(){x_.init($P,zP)},0)}return x_}return iP(Ff,sP),eP(Ff,[{key:"init",value:function(){var x_=this,$P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zP=arguments.length>1?arguments[1]:void 0;function eme(lme){return lme?typeof lme=="function"?new lme:lme:null}if(typeof $P=="function"&&(zP=$P,$P={}),$P.whitelist&&!$P.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),$P.nonExplicitWhitelist&&!$P.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Z_({},jP(),this.options,NP($P)),this.format=this.options.interpolation.format,zP||(zP=IP),!this.options.isClone){this.modules.logger?uP.init(eme(this.modules.logger),this.options):uP.init(null,this.options);var tme=new OP(this.options);this.store=new DP(this.options.resources,this.options);var nme=this.services;nme.logger=uP,nme.resourceStore=this.store,nme.languageUtils=tme,nme.pluralResolver=new TP(tme,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),nme.interpolator=new _P(this.options),nme.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},nme.backendConnector=new PP(eme(this.modules.backend),nme.resourceStore,nme,this.options),nme.backendConnector.on("*",function(lme){for(var ume=arguments.length,dme=new Array(ume>1?ume-1:0),pme=1;pme<ume;pme++)dme[pme-1]=arguments[pme];x_.emit.apply(x_,[lme].concat(dme))}),this.modules.languageDetector&&(nme.languageDetector=eme(this.modules.languageDetector),nme.languageDetector.init(nme,this.options.detection,this.options)),this.modules.i18nFormat&&(nme.i18nFormat=eme(this.modules.i18nFormat),nme.i18nFormat.init&&nme.i18nFormat.init(this)),this.translator=new CP(this.services,this.options),this.translator.on("*",function(lme){for(var ume=arguments.length,dme=new Array(ume>1?ume-1:0),pme=1;pme<ume;pme++)dme[pme-1]=arguments[pme];x_.emit.apply(x_,[lme].concat(dme))}),this.modules.external.forEach(function(lme){lme.init&&lme.init(x_)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var rme=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);rme.length>0&&rme[0]!=="dev"&&(this.options.lng=rme[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var ime=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];ime.forEach(function(lme){x_[lme]=function(){var ume;return(ume=x_.store)[lme].apply(ume,arguments)}});var ome=["addResource","addResources","addResourceBundle","removeResourceBundle"];ome.forEach(function(lme){x_[lme]=function(){var ume;return(ume=x_.store)[lme].apply(ume,arguments),x_}});var sme=lP(),ame=function(){var lme=function(ume,dme){x_.isInitialized&&!x_.initializedStoreOnce&&x_.logger.warn("init: i18next is already initialized. You should call init just once!"),x_.isInitialized=!0,x_.options.isClone||x_.logger.log("initialized",x_.options),x_.emit("initialized",x_.options),sme.resolve(dme),zP(ume,dme)};if(x_.languages&&x_.options.compatibilityAPI!=="v1"&&!x_.isInitialized)return lme(null,x_.t.bind(x_));x_.changeLanguage(x_.options.lng,lme)};return this.options.resources||!this.options.initImmediate?ame():setTimeout(ame,0),sme}},{key:"loadResources",value:function(x_){var $P=this,zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IP,eme=zP,tme=typeof x_=="string"?x_:this.language;if(typeof x_=="function"&&(eme=x_),!this.options.resources||this.options.partialBundledLanguages){if(tme&&tme.toLowerCase()==="cimode")return eme();var nme=[],rme=function(ome){ome&&$P.services.languageUtils.toResolveHierarchy(ome).forEach(function(sme){nme.indexOf(sme)<0&&nme.push(sme)})};if(tme)rme(tme);else{var ime=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ime.forEach(function(ome){return rme(ome)})}this.options.preload&&this.options.preload.forEach(function(ome){return rme(ome)}),this.services.backendConnector.load(nme,this.options.ns,eme)}else eme(null)}},{key:"reloadResources",value:function(x_,$P,zP){var eme=lP();return x_||(x_=this.languages),$P||($P=this.options.ns),zP||(zP=IP),this.services.backendConnector.reload(x_,$P,function(tme){eme.resolve(),zP(tme)}),eme}},{key:"use",value:function(x_){if(!x_)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!x_.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return x_.type==="backend"&&(this.modules.backend=x_),(x_.type==="logger"||x_.log&&x_.warn&&x_.error)&&(this.modules.logger=x_),x_.type==="languageDetector"&&(this.modules.languageDetector=x_),x_.type==="i18nFormat"&&(this.modules.i18nFormat=x_),x_.type==="postProcessor"&&SP.addPostProcessor(x_),x_.type==="3rdParty"&&this.modules.external.push(x_),this}},{key:"changeLanguage",value:function(x_,$P){var zP=this;this.isLanguageChangingTo=x_;var eme=lP();this.emit("languageChanging",x_);var tme=function(nme){x_||nme||!zP.services.languageDetector||(nme=[]);var rme=typeof nme=="string"?nme:zP.services.languageUtils.getBestMatchFromCodes(nme);rme&&(zP.language||(zP.language=rme,zP.languages=zP.services.languageUtils.toResolveHierarchy(rme)),zP.translator.language||zP.translator.changeLanguage(rme),zP.services.languageDetector&&zP.services.languageDetector.cacheUserLanguage(rme)),zP.loadResources(rme,function(ime){(function(ome,sme){sme?(zP.language=sme,zP.languages=zP.services.languageUtils.toResolveHierarchy(sme),zP.translator.changeLanguage(sme),zP.isLanguageChangingTo=void 0,zP.emit("languageChanged",sme),zP.logger.log("languageChanged",sme)):zP.isLanguageChangingTo=void 0,eme.resolve(function(){return zP.t.apply(zP,arguments)}),$P&&$P(ome,function(){return zP.t.apply(zP,arguments)})})(ime,rme)})};return x_||!this.services.languageDetector||this.services.languageDetector.async?!x_&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(tme):tme(x_):tme(this.services.languageDetector.detect()),eme}},{key:"getFixedT",value:function(x_,$P,zP){var eme=this,tme=function nme(rme,ime){var ome;if(Y_(ime)!=="object"){for(var sme=arguments.length,ame=new Array(sme>2?sme-2:0),lme=2;lme<sme;lme++)ame[lme-2]=arguments[lme];ome=eme.options.overloadTranslationOptionHandler([rme,ime].concat(ame))}else ome=Z_({},ime);ome.lng=ome.lng||nme.lng,ome.lngs=ome.lngs||nme.lngs,ome.ns=ome.ns||nme.ns;var ume=eme.options.keySeparator||".",dme=zP?"".concat(zP).concat(ume).concat(rme):rme;return eme.t(dme,ome)};return typeof x_=="string"?tme.lng=x_:tme.lngs=x_,tme.ns=$P,tme.keyPrefix=zP,tme}},{key:"t",value:function(){var x_;return this.translator&&(x_=this.translator).translate.apply(x_,arguments)}},{key:"exists",value:function(){var x_;return this.translator&&(x_=this.translator).exists.apply(x_,arguments)}},{key:"setDefaultNamespace",value:function(x_){this.options.defaultNS=x_}},{key:"hasLoadedNamespace",value:function(x_){var $P=this,zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var eme=this.languages[0],tme=!!this.options&&this.options.fallbackLng,nme=this.languages[this.languages.length-1];if(eme.toLowerCase()==="cimode")return!0;var rme=function(ome,sme){var ame=$P.services.backendConnector.state["".concat(ome,"|").concat(sme)];return ame===-1||ame===2};if(zP.precheck){var ime=zP.precheck(this,rme);if(ime!==void 0)return ime}return!!this.hasResourceBundle(eme,x_)||!this.services.backendConnector.backend||!(!rme(eme,x_)||tme&&!rme(nme,x_))}},{key:"loadNamespaces",value:function(x_,$P){var zP=this,eme=lP();return this.options.ns?(typeof x_=="string"&&(x_=[x_]),x_.forEach(function(tme){zP.options.ns.indexOf(tme)<0&&zP.options.ns.push(tme)}),this.loadResources(function(tme){eme.resolve(),$P&&$P(tme)}),eme):($P&&$P(),Promise.resolve())}},{key:"loadLanguages",value:function(x_,$P){var zP=lP();typeof x_=="string"&&(x_=[x_]);var eme=this.options.preload||[],tme=x_.filter(function(nme){return eme.indexOf(nme)<0});return tme.length?(this.options.preload=eme.concat(tme),this.loadResources(function(nme){zP.resolve(),$P&&$P(nme)}),zP):($P&&$P(),Promise.resolve())}},{key:"dir",value:function(x_){return x_||(x_=this.languages&&this.languages.length>0?this.languages[0]:this.language),x_?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(x_))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){var x_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$P=arguments.length>1?arguments[1]:void 0;return new Ff(x_,$P)}},{key:"cloneInstance",value:function(){var x_=this,$P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},zP=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IP,eme=Z_({},this.options,$P,{isClone:!0}),tme=new Ff(eme),nme=["store","services","language"];return nme.forEach(function(rme){tme[rme]=x_[rme]}),tme.services=Z_({},this.services),tme.services.utils={hasLoadedNamespace:tme.hasLoadedNamespace.bind(tme)},tme.translator=new CP(tme.services,tme.options),tme.translator.on("*",function(rme){for(var ime=arguments.length,ome=new Array(ime>1?ime-1:0),sme=1;sme<ime;sme++)ome[sme-1]=arguments[sme];tme.emit.apply(tme,[rme].concat(ome))}),tme.init(eme,zP),tme.translator.options=tme.options,tme.translator.backendConnector.services.utils={hasLoadedNamespace:tme.hasLoadedNamespace.bind(tme)},tme}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),Ff}(),RP=new LP;function MP(kh,Ff){RP.addResourceBundle(kh,"translation",Ff,!0,!0)}RP.init({lng:"zh-CN",resources:{}});var HP=RP.t.bind(RP);MP("en",{editor:{more:"More",justify:"Justify",indent:"Indent",image:"Image",video:"Video"}}),MP("zh-CN",{editor:{more:"更多",justify:"对齐",indent:"缩进",image:"图片",video:"视频"}});var VP=ea?{}.toString:function(){return"[object "+oa(this)+"]"};ea||Ei(Object.prototype,"toString",VP,{unsafe:!0});var UP=Array.isArray||function(kh){return Hr(kh)=="Array"},WP=function(){},GP=[],qP=Jr("Reflect","construct"),KP=/^\s*(?:class|function)\b/,YP=Mr(KP.exec),XP=!KP.exec(WP),ZP=function(kh){if(!Yr(kh))return!1;try{return qP(WP,GP,kh),!0}catch(Ff){return!1}},JP=!qP||Ar(function(){var kh;return ZP(ZP.call)||!ZP(Object)||!ZP(function(){kh=!0})||kh})?function(kh){if(!Yr(kh))return!1;switch(oa(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return XP||!!YP(KP,ri(kh))}:ZP,QP=Po("species"),ej=Cr.Array,tj=function(kh,Ff){return new(function(x_){var $P;return UP(x_)&&($P=x_.constructor,(JP($P)&&($P===ej||UP($P.prototype))||Xr($P)&&($P=$P[QP])===null)&&($P=void 0)),$P===void 0?ej:$P}(kh))(Ff===0?0:Ff)},nj=Mr([].push),rj=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=Do(rme),dme=Wr(ume),pme=yu(ime,ome),hme=Fi(dme),cme=0,_me=sme||tj,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:nj(vme,ame)}else switch(kh){case 4:return!1;case 7:nj(vme,ame)}return eme?-1:$P||zP?zP:vme}},oj={forEach:rj(0),map:rj(1),filter:rj(2),some:rj(3),every:rj(4),find:rj(5),findIndex:rj(6),filterReject:rj(7)}.forEach,ij=function(kh,Ff){var x_=[][kh];return!!x_&&Ar(function(){x_.call(null,Ff||function(){throw 1},1)})}("forEach"),aj=ij?[].forEach:function(kh){return oj(this,kh,arguments.length>1?arguments[1]:void 0)},uj=function(kh){if(kh&&kh.forEach!==aj)try{Jo(kh,"forEach",aj)}catch(Ff){kh.forEach=aj}};for(var sj in fs)fs[sj]&&uj(Cr[sj]&&Cr[sj].prototype);uj(hs),MP("en",{common:{ok:"OK",delete:"Delete",enter:"Enter"},blockQuote:{title:"Quote"},codeBlock:{title:"Code block"},color:{color:"Font color",bgColor:"Back color",default:"Default color",clear:"Clear back color"},divider:{title:"Divider"},emotion:{title:"Emotion"},fontSize:{title:"Font size",default:"Default"},fontFamily:{title:"Font family",default:"Default"},fullScreen:{title:"Full screen"},header:{title:"Header",text:"Text"},image:{netImage:"Net image",delete:"Delete image",edit:"Edit image",viewLink:"View link",src:"Image src",desc:"Description",link:"Image link"},indent:{decrease:"Decrease",increase:"Increase"},justify:{left:"Left",right:"Right",center:"Center",justify:"Justify"},lineHeight:{title:"Line height",default:"Default"},link:{insert:"Insert link",text:"Link text",url:"Link source",unLink:"Unlink",edit:"Edit link",view:"View link"},textStyle:{bold:"Bold",clear:"Clear styles",code:"Inline code",italic:"Italic",sub:"Sub",sup:"Sup",through:"Through",underline:"Underline"},undo:{undo:"undo",redo:"Redo"},todo:{todo:"Todo"}}),MP("zh-CN",{common:{ok:"确定",delete:"删除",enter:"回车"},blockQuote:{title:"引用"},codeBlock:{title:"代码块"},color:{color:"文字颜色",bgColor:"背景色",default:"默认颜色",clear:"清除背景色"},divider:{title:"分割线"},emotion:{title:"表情"},fontSize:{title:"字号",default:"默认字号"},fontFamily:{title:"字体",default:"默认字体"},fullScreen:{title:"全屏"},header:{title:"标题",text:"正文"},image:{netImage:"网络图片",delete:"删除图片",edit:"编辑图片",viewLink:"查看链接",src:"图片地址",desc:"图片描述",link:"图片链接"},indent:{decrease:"减少缩进",increase:"增加缩进"},justify:{left:"左对齐",right:"右对齐",center:"居中对齐",justify:"两端对齐"},lineHeight:{title:"行高",default:"默认行高"},link:{insert:"插入链接",text:"链接文本",url:"链接地址",unLink:"取消链接",edit:"修改链接",view:"查看链接"},textStyle:{bold:"粗体",clear:"清除格式",code:"行内代码",italic:"斜体",sub:"下标",sup:"上标",through:"删除线",underline:"下划线"},undo:{undo:"撤销",redo:"重做"},todo:{todo:"待办"}});var lj={type:"paragraph",renderElem:function(kh,Ff,x_){return Pg("p",null,Ff)}},cj=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fj(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var dj,pj,hj=function(kh){return kh&&kh.Math==Math&&kh},gj=hj(typeof globalThis=="object"&&globalThis)||hj(typeof window=="object"&&window)||hj(typeof self=="object"&&self)||hj(typeof cj=="object"&&cj)||function(){return this}()||Function("return this")(),vj=function(kh){try{return!!kh()}catch(Ff){return!0}},yj=!vj(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),mj=Function.prototype.call,bj=mj.bind?mj.bind(mj):function(){return mj.apply(mj,arguments)},wj={}.propertyIsEnumerable,Ej=Object.getOwnPropertyDescriptor,Dj=Ej&&!wj.call({1:2},1)?function(kh){var Ff=Ej(this,kh);return!!Ff&&Ff.enumerable}:wj,Sj={f:Dj},xj=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},Cj=Function.prototype,Aj=Cj.bind,Oj=Cj.call,kj=Aj&&Aj.bind(Oj),Bj=Aj?function(kh){return kh&&kj(Oj,kh)}:function(kh){return kh&&function(){return Oj.apply(kh,arguments)}},Fj=Bj({}.toString),Tj=Bj("".slice),_j=function(kh){return Tj(Fj(kh),8,-1)},Pj=gj.Object,jj=Bj("".split),Nj=vj(function(){return!Pj("z").propertyIsEnumerable(0)})?function(kh){return _j(kh)=="String"?jj(kh,""):Pj(kh)}:Pj,Ij=gj.TypeError,Lj=function(kh){if(kh==null)throw Ij("Can't call method on "+kh);return kh},Rj=function(kh){return Nj(Lj(kh))},Mj=function(kh){return typeof kh=="function"},zj=function(kh){return typeof kh=="object"?kh!==null:Mj(kh)},$j=function(kh){return Mj(kh)?kh:void 0},Hj=function(kh,Ff){return arguments.length<2?$j(gj[kh]):gj[kh]&&gj[kh][Ff]},Vj=Bj({}.isPrototypeOf),Uj=Hj("navigator","userAgent")||"",Wj=gj.process,Gj=gj.Deno,qj=Wj&&Wj.versions||Gj&&Gj.version,Kj=qj&&qj.v8;Kj&&(pj=(dj=Kj.split("."))[0]>0&&dj[0]<4?1:+(dj[0]+dj[1])),!pj&&Uj&&(!(dj=Uj.match(/Edge\/(\d+)/))||dj[1]>=74)&&(dj=Uj.match(/Chrome\/(\d+)/))&&(pj=+dj[1]);var Yj=pj,Xj=!!Object.getOwnPropertySymbols&&!vj(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&Yj&&Yj<41}),Zj=Xj&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Jj=gj.Object,Qj=Zj?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=Hj("Symbol");return Mj(Ff)&&Vj(Ff.prototype,Jj(kh))},eN=gj.String,tN=function(kh){try{return eN(kh)}catch(Ff){return"Object"}},nN=gj.TypeError,rN=function(kh){if(Mj(kh))return kh;throw nN(tN(kh)+" is not a function")},oN=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:rN(x_)},iN=gj.TypeError,aN=Object.defineProperty,uN=function(kh,Ff){try{aN(gj,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){gj[kh]=Ff}return Ff},sN=gj["__core-js_shared__"]||uN("__core-js_shared__",{}),lN=fj(function(kh){(kh.exports=function(Ff,x_){return sN[Ff]||(sN[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),cN=gj.Object,fN=function(kh){return cN(Lj(kh))},dN=Bj({}.hasOwnProperty),pN=Object.hasOwn||function(kh,Ff){return dN(fN(kh),Ff)},hN=0,gN=Math.random(),vN=Bj(1 .toString),yN=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+vN(++hN+gN,36)},mN=lN("wks"),bN=gj.Symbol,wN=bN&&bN.for,EN=Zj?bN:bN&&bN.withoutSetter||yN,DN=function(kh){if(!pN(mN,kh)||!Xj&&typeof mN[kh]!="string"){var Ff="Symbol."+kh;Xj&&pN(bN,kh)?mN[kh]=bN[kh]:mN[kh]=Zj&&wN?wN(Ff):EN(Ff)}return mN[kh]},SN=gj.TypeError,xN=DN("toPrimitive"),CN=function(kh){var Ff=function(x_,$P){if(!zj(x_)||Qj(x_))return x_;var zP,eme=oN(x_,xN);if(eme){if($P===void 0&&($P="default"),zP=bj(eme,x_,$P),!zj(zP)||Qj(zP))return zP;throw SN("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&Mj(rme=tme.toString)&&!zj(ime=bj(rme,tme))||Mj(rme=tme.valueOf)&&!zj(ime=bj(rme,tme))||nme!=="string"&&Mj(rme=tme.toString)&&!zj(ime=bj(rme,tme)))return ime;throw iN("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return Qj(Ff)?Ff:Ff+""},AN=gj.document,ON=zj(AN)&&zj(AN.createElement),kN=function(kh){return ON?AN.createElement(kh):{}},BN=!yj&&!vj(function(){return Object.defineProperty(kN("div"),"a",{get:function(){return 7}}).a!=7}),FN=Object.getOwnPropertyDescriptor,TN={f:yj?FN:function(kh,Ff){if(kh=Rj(kh),Ff=CN(Ff),BN)try{return FN(kh,Ff)}catch(x_){}if(pN(kh,Ff))return xj(!bj(Sj.f,kh,Ff),kh[Ff])}},_N=gj.String,PN=gj.TypeError,jN=function(kh){if(zj(kh))return kh;throw PN(_N(kh)+" is not an object")},NN=gj.TypeError,IN=Object.defineProperty,LN={f:yj?IN:function(kh,Ff,x_){if(jN(kh),Ff=CN(Ff),jN(x_),BN)try{return IN(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw NN("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},RN=yj?function(kh,Ff,x_){return LN.f(kh,Ff,xj(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},MN=Bj(Function.toString);Mj(sN.inspectSource)||(sN.inspectSource=function(kh){return MN(kh)});var zN,$N,HN,VN=sN.inspectSource,UN=gj.WeakMap,WN=Mj(UN)&&/native code/.test(VN(UN)),GN=lN("keys"),qN=function(kh){return GN[kh]||(GN[kh]=yN(kh))},KN={},YN=gj.TypeError,XN=gj.WeakMap;if(WN||sN.state){var ZN=sN.state||(sN.state=new XN),JN=Bj(ZN.get),QN=Bj(ZN.has),eI=Bj(ZN.set);zN=function(kh,Ff){if(QN(ZN,kh))throw new YN("Object already initialized");return Ff.facade=kh,eI(ZN,kh,Ff),Ff},$N=function(kh){return JN(ZN,kh)||{}},HN=function(kh){return QN(ZN,kh)}}else{var tI=qN("state");KN[tI]=!0,zN=function(kh,Ff){if(pN(kh,tI))throw new YN("Object already initialized");return Ff.facade=kh,RN(kh,tI,Ff),Ff},$N=function(kh){return pN(kh,tI)?kh[tI]:{}},HN=function(kh){return pN(kh,tI)}}var nI={set:zN,get:$N,has:HN,enforce:function(kh){return HN(kh)?$N(kh):zN(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!zj(Ff)||(x_=$N(Ff)).type!==kh)throw YN("Incompatible receiver, "+kh+" required");return x_}}},rI=Function.prototype,oI=yj&&Object.getOwnPropertyDescriptor,iI=pN(rI,"name"),aI={EXISTS:iI,PROPER:iI&&function(){}.name==="something",CONFIGURABLE:iI&&(!yj||yj&&oI(rI,"name").configurable)},uI=fj(function(kh){var Ff=aI.CONFIGURABLE,x_=nI.get,$P=nI.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;Mj(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!pN(nme,"name")||Ff&&nme.name!==lme)&&RN(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==gj?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:RN(eme,tme,nme)):sme?eme[tme]=nme:uN(tme,nme)})(Function.prototype,"toString",function(){return Mj(this)&&x_(this).source||VN(this)})}),sI=Math.ceil,lI=Math.floor,cI=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?lI:sI)(Ff)},fI=Math.max,dI=Math.min,pI=function(kh,Ff){var x_=cI(kh);return x_<0?fI(x_+Ff,0):dI(x_,Ff)},hI=Math.min,gI=function(kh){return kh>0?hI(cI(kh),9007199254740991):0},vI=function(kh){return gI(kh.length)},yI=function(kh){return function(Ff,x_,$P){var zP,eme=Rj(Ff),tme=vI(eme),nme=pI($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},mI={includes:yI(!0),indexOf:yI(!1)},bI=mI.indexOf,wI=Bj([].push),EI=function(kh,Ff){var x_,$P=Rj(kh),zP=0,eme=[];for(x_ in $P)!pN(KN,x_)&&pN($P,x_)&&wI(eme,x_);for(;Ff.length>zP;)pN($P,x_=Ff[zP++])&&(~bI(eme,x_)||wI(eme,x_));return eme},DI=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],SI=DI.concat("length","prototype"),xI={f:Object.getOwnPropertyNames||function(kh){return EI(kh,SI)}},CI={f:Object.getOwnPropertySymbols},AI=Bj([].concat),OI=Hj("Reflect","ownKeys")||function(kh){var Ff=xI.f(jN(kh)),x_=CI.f;return x_?AI(Ff,x_(kh)):Ff},kI=function(kh,Ff){for(var x_=OI(Ff),$P=LN.f,zP=TN.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];pN(kh,tme)||$P(kh,tme,zP(Ff,tme))}},BI=/#|\.prototype\./,FI=function(kh,Ff){var x_=_I[TI(kh)];return x_==jI||x_!=PI&&(Mj(Ff)?vj(Ff):!!Ff)},TI=FI.normalize=function(kh){return String(kh).replace(BI,".").toLowerCase()},_I=FI.data={},PI=FI.NATIVE="N",jI=FI.POLYFILL="P",NI=FI,II=TN.f,LI=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?gj:ime?gj[nme]||uN(nme,{}):(gj[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=II(x_,$P))&&tme.value:x_[$P],!NI(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;kI(eme,zP)}(kh.sham||zP&&zP.sham)&&RN(eme,"sham",!0),uI(x_,$P,eme,kh)}},RI=Bj(Bj.bind),MI=Array.isArray||function(kh){return _j(kh)=="Array"},zI={};zI[DN("toStringTag")]="z";var $I=String(zI)==="[object z]",HI=DN("toStringTag"),VI=gj.Object,UI=_j(function(){return arguments}())=="Arguments",WI=$I?_j:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=VI(kh),HI))=="string"?x_:UI?_j(Ff):($P=_j(Ff))=="Object"&&Mj(Ff.callee)?"Arguments":$P},GI=function(){},qI=[],KI=Hj("Reflect","construct"),YI=/^\s*(?:class|function)\b/,XI=Bj(YI.exec),ZI=!YI.exec(GI),JI=function(kh){if(!Mj(kh))return!1;try{return KI(GI,qI,kh),!0}catch(Ff){return!1}},QI=!KI||vj(function(){var kh;return JI(JI.call)||!JI(Object)||!JI(function(){kh=!0})||kh})?function(kh){if(!Mj(kh))return!1;switch(WI(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ZI||!!XI(YI,VN(kh))}:JI,eL=DN("species"),tL=gj.Array,nL=function(kh,Ff){return new(function(x_){var $P;return MI(x_)&&($P=x_.constructor,(QI($P)&&($P===tL||MI($P.prototype))||zj($P)&&($P=$P[eL])===null)&&($P=void 0)),$P===void 0?tL:$P}(kh))(Ff===0?0:Ff)},rL=Bj([].push),oL=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=fN(rme),dme=Nj(ume),pme=function(Eme,wme){return rN(Eme),wme===void 0?Eme:RI?RI(Eme,wme):function(){return Eme.apply(wme,arguments)}}(ime,ome),hme=vI(dme),cme=0,_me=sme||nL,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:rL(vme,ame)}else switch(kh){case 4:return!1;case 7:rL(vme,ame)}return eme?-1:$P||zP?zP:vme}},iL={forEach:oL(0),map:oL(1),filter:oL(2),some:oL(3),every:oL(4),find:oL(5),findIndex:oL(6),filterReject:oL(7)},aL=DN("species"),uL=function(kh){return Yj>=51||!vj(function(){var Ff=[];return(Ff.constructor={})[aL]=function(){return{foo:1}},Ff[kh](Boolean).foo!==1})},sL=iL.filter;LI({target:"Array",proto:!0,forced:!uL("filter")},{filter:function(kh){return sL(this,kh,arguments.length>1?arguments[1]:void 0)}});var lL=$I?{}.toString:function(){return"[object "+WI(this)+"]"};$I||uI(Object.prototype,"toString",lL,{unsafe:!0});var cL,fL=gj.String,dL=function(kh){if(WI(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return fL(kh)},pL=function(){var kh=jN(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},hL=gj.RegExp,gL=vj(function(){var kh=hL("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),vL=gL||vj(function(){return!hL("a","y").sticky}),yL={BROKEN_CARET:gL||vj(function(){var kh=hL("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:vL,UNSUPPORTED_Y:gL},mL=Object.keys||function(kh){return EI(kh,DI)},bL=yj?Object.defineProperties:function(kh,Ff){jN(kh);for(var x_,$P=Rj(Ff),zP=mL(Ff),eme=zP.length,tme=0;eme>tme;)LN.f(kh,x_=zP[tme++],$P[x_]);return kh},wL=Hj("document","documentElement"),EL=qN("IE_PROTO"),DL=function(){},SL=function(kh){return"<script>"+kh+"<\/script>"},xL=function(kh){kh.write(SL("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},CL=function(){try{cL=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;CL=typeof document!="undefined"?document.domain&&cL?xL(cL):((Ff=kN("iframe")).style.display="none",wL.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(SL("document.F=Object")),kh.close(),kh.F):xL(cL);for(var x_=DI.length;x_--;)delete CL.prototype[DI[x_]];return CL()};KN[EL]=!0;var AL,OL,kL=Object.create||function(kh,Ff){var x_;return kh!==null?(DL.prototype=jN(kh),x_=new DL,DL.prototype=null,x_[EL]=kh):x_=CL(),Ff===void 0?x_:bL(x_,Ff)},BL=gj.RegExp,FL=vj(function(){var kh=BL(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),TL=gj.RegExp,_L=vj(function(){var kh=TL("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),PL=nI.get,jL=lN("native-string-replace",String.prototype.replace),NL=RegExp.prototype.exec,IL=NL,LL=Bj("".charAt),RL=Bj("".indexOf),ML=Bj("".replace),zL=Bj("".slice),$L=(OL=/b*/g,bj(NL,AL=/a/,"a"),bj(NL,OL,"a"),AL.lastIndex!==0||OL.lastIndex!==0),HL=yL.BROKEN_CARET,VL=/()??/.exec("")[1]!==void 0;($L||VL||HL||FL||_L)&&(IL=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=PL(rme),ome=dL(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=bj(IL,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=HL&&rme.sticky,ume=bj(pL,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=ML(ume,"y",""),RL(ume,"g")===-1&&(ume+="g"),hme=zL(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&LL(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),VL&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),$L&&($P=rme.lastIndex),zP=bj(NL,lme?x_:rme,hme),lme?zP?(zP.input=zL(zP.input,pme),zP[0]=zL(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:$L&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),VL&&zP&&zP.length>1&&bj(jL,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=kL(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var UL=IL;LI({target:"RegExp",proto:!0,forced:/./.exec!==UL},{exec:UL});var WL=Function.prototype,GL=WL.apply,qL=WL.bind,KL=WL.call,YL=typeof Reflect=="object"&&Reflect.apply||(qL?KL.bind(GL):function(){return KL.apply(GL,arguments)}),XL=DN("species"),ZL=RegExp.prototype,JL=function(kh,Ff,x_,$P){var zP=DN(kh),eme=!vj(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!vj(function(){var ime=!1,ome=/a/;return kh==="split"&&((ome={}).constructor={},ome.constructor[XL]=function(){return ome},ome.flags="",ome[zP]=/./[zP]),ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=Bj(/./[zP]),rme=Ff(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=Bj(ime),dme=ome.exec;return dme===UL||dme===ZL.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});uI(String.prototype,kh,rme[0]),uI(ZL,zP,rme[1])}$P&&RN(ZL[zP],"sham",!0)},QL=Bj("".charAt),eR=Bj("".charCodeAt),tR=Bj("".slice),nR=function(kh){return function(Ff,x_){var $P,zP,eme=dL(Lj(Ff)),tme=cI(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=eR(eme,tme))<55296||$P>56319||tme+1===nme||(zP=eR(eme,tme+1))<56320||zP>57343?kh?QL(eme,tme):$P:kh?tR(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},rR=nR(!0),oR=function(kh,Ff,x_){return Ff+(x_?rR(kh,Ff).length:1)},iR=Math.floor,aR=Bj("".charAt),uR=Bj("".replace),sR=Bj("".slice),lR=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,cR=/\$([$&'`]|\d{1,2})/g,fR=function(kh,Ff,x_,$P,zP,eme){var tme=x_+kh.length,nme=$P.length,rme=cR;return zP!==void 0&&(zP=fN(zP),rme=lR),uR(eme,rme,function(ime,ome){var sme;switch(aR(ome,0)){case"$":return"$";case"&":return kh;case"`":return sR(Ff,0,x_);case"'":return sR(Ff,tme);case"<":sme=zP[sR(ome,1,-1)];break;default:var ame=+ome;if(ame===0)return ime;if(ame>nme){var lme=iR(ame/10);return lme===0?ime:lme<=nme?$P[lme-1]===void 0?aR(ome,1):$P[lme-1]+aR(ome,1):ime}sme=$P[ame-1]}return sme===void 0?"":sme})},dR=gj.TypeError,pR=function(kh,Ff){var x_=kh.exec;if(Mj(x_)){var $P=bj(x_,kh,Ff);return $P!==null&&jN($P),$P}if(_j(kh)==="RegExp")return bj(UL,kh,Ff);throw dR("RegExp#exec called on incompatible receiver")},hR=DN("replace"),gR=Math.max,vR=Math.min,yR=Bj([].concat),mR=Bj([].push),bR=Bj("".indexOf),wR=Bj("".slice),ER="a".replace(/./,"$0")==="$0",DR=!!/./[hR]&&/./[hR]("a","$0")==="";JL("replace",function(kh,Ff,x_){var $P=DR?"$":"$0";return[function(zP,eme){var tme=Lj(this),nme=zP==null?void 0:oN(zP,hR);return nme?bj(nme,zP,tme,eme):bj(Ff,dL(tme),zP,eme)},function(zP,eme){var tme=jN(this),nme=dL(zP);if(typeof eme=="string"&&bR(eme,$P)===-1&&bR(eme,"$<")===-1){var rme=x_(Ff,tme,nme,eme);if(rme.done)return rme.value}var ime=Mj(eme);ime||(eme=dL(eme));var ome=tme.global;if(ome){var sme=tme.unicode;tme.lastIndex=0}for(var ame=[];;){var lme=pR(tme,nme);if(lme===null||(mR(ame,lme),!ome))break;dL(lme[0])===""&&(tme.lastIndex=oR(nme,gI(tme.lastIndex),sme))}for(var ume,dme="",pme=0,hme=0;hme<ame.length;hme++){for(var cme=dL((lme=ame[hme])[0]),_me=gR(vR(cI(lme.index),nme.length),0),vme=[],Eme=1;Eme<lme.length;Eme++)mR(vme,(ume=lme[Eme])===void 0?ume:String(ume));var wme=lme.groups;if(ime){var Tme=yR([cme],vme,_me,nme);wme!==void 0&&mR(Tme,wme);var Dme=dL(YL(eme,void 0,Tme))}else Dme=fR(cme,nme,_me,vme,wme,eme);_me>=pme&&(dme+=wR(nme,pme,_me)+Dme,pme=_me+cme.length)}return dme+wR(nme,pme)}]},!!vj(function(){var kh=/./;return kh.exec=function(){var Ff=[];return Ff.groups={a:"7"},Ff},"".replace(kh,"$<a>")!=="7"})||!ER||DR);var SR=DN("unscopables"),xR=Array.prototype;xR[SR]==null&&LN.f(xR,SR,{configurable:!0,value:kL(null)});var CR=function(kh){xR[SR][kh]=!0},AR=iL.find,OR=!0;"find"in[]&&Array(1).find(function(){OR=!1}),LI({target:"Array",proto:!0,forced:OR},{find:function(kh){return AR(this,kh,arguments.length>1?arguments[1]:void 0)}}),CR("find");var kR=DN("match"),BR=function(kh){var Ff;return zj(kh)&&((Ff=kh[kR])!==void 0?!!Ff:_j(kh)=="RegExp")},FR=gj.TypeError,TR=DN("species"),_R=function(kh,Ff,x_){var $P=CN(Ff);$P in kh?LN.f(kh,$P,xj(0,x_)):kh[$P]=x_},PR=gj.Array,jR=Math.max,NR=function(kh,Ff,x_){for(var $P=vI(kh),zP=pI(Ff,$P),eme=pI(x_===void 0?$P:x_,$P),tme=PR(jR(eme-zP,0)),nme=0;zP<eme;zP++,nme++)_R(tme,nme,kh[zP]);return tme.length=nme,tme},IR=yL.UNSUPPORTED_Y,LR=Math.min,RR=[].push,MR=Bj(/./.exec),zR=Bj(RR),$R=Bj("".slice);JL("split",function(kh,Ff,x_){var $P;return $P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(zP,eme){var tme=dL(Lj(this)),nme=eme===void 0?4294967295:eme>>>0;if(nme===0)return[];if(zP===void 0)return[tme];if(!BR(zP))return bj(Ff,tme,zP,nme);for(var rme,ime,ome,sme=[],ame=(zP.ignoreCase?"i":"")+(zP.multiline?"m":"")+(zP.unicode?"u":"")+(zP.sticky?"y":""),lme=0,ume=new RegExp(zP.source,ame+"g");(rme=bj(UL,ume,tme))&&!((ime=ume.lastIndex)>lme&&(zR(sme,$R(tme,lme,rme.index)),rme.length>1&&rme.index<tme.length&&YL(RR,sme,NR(rme,1)),ome=rme[0].length,lme=ime,sme.length>=nme));)ume.lastIndex===rme.index&&ume.lastIndex++;return lme===tme.length?!ome&&MR(ume,"")||zR(sme,""):zR(sme,$R(tme,lme)),sme.length>nme?NR(sme,0,nme):sme}:"0".split(void 0,0).length?function(zP,eme){return zP===void 0&&eme===0?[]:bj(Ff,this,zP,eme)}:Ff,[function(zP,eme){var tme=Lj(this),nme=zP==null?void 0:oN(zP,kh);return nme?bj(nme,zP,tme,eme):bj($P,dL(tme),zP,eme)},function(zP,eme){var tme=jN(this),nme=dL(zP),rme=x_($P,tme,nme,eme,$P!==Ff);if(rme.done)return rme.value;var ime=function(vme,Eme){var wme,Tme=jN(vme).constructor;return Tme===void 0||(wme=jN(Tme)[TR])==null?Eme:function(Dme){if(QI(Dme))return Dme;throw FR(tN(Dme)+" is not a constructor")}(wme)}(tme,RegExp),ome=tme.unicode,sme=(tme.ignoreCase?"i":"")+(tme.multiline?"m":"")+(tme.unicode?"u":"")+(IR?"g":"y"),ame=new ime(IR?"^(?:"+tme.source+")":tme,sme),lme=eme===void 0?4294967295:eme>>>0;if(lme===0)return[];if(nme.length===0)return pR(ame,nme)===null?[nme]:[];for(var ume=0,dme=0,pme=[];dme<nme.length;){ame.lastIndex=IR?0:dme;var hme,cme=pR(ame,IR?$R(nme,dme):nme);if(cme===null||(hme=LR(gI(ame.lastIndex+(IR?dme:0)),nme.length))===ume)dme=oR(nme,dme,ome);else{if(zR(pme,$R(nme,ume,dme)),pme.length===lme)return pme;for(var _me=1;_me<=cme.length-1;_me++)if(zR(pme,cme[_me]),pme.length===lme)return pme;dme=ume=hme}}return zR(pme,$R(nme,ume)),pme}]},!!vj(function(){var kh=/(?:)/,Ff=kh.exec;kh.exec=function(){return Ff.apply(this,arguments)};var x_="ab".split(kh);return x_.length!==2||x_[0]!=="a"||x_[1]!=="b"}),IR);var HR=`	
\v\f\r                　\u2028\u2029\uFEFF`,VR=Bj("".replace),UR="["+HR+"]",WR=RegExp("^"+UR+UR+"*"),GR=RegExp(UR+UR+"*$"),qR=function(kh){return function(Ff){var x_=dL(Lj(Ff));return 1&kh&&(x_=VR(x_,WR,"")),2&kh&&(x_=VR(x_,GR,"")),x_}},KR={start:qR(1),end:qR(2),trim:qR(3)},YR=aI.PROPER,XR=KR.trim;function ZR(kh){return Mp("<div>"+kh+"</div>").children().filter(function(Ff){return Ff.tagName!=="BR"}).length===0}function JR(kh){return kh.length===0?"":kh[0].outerHTML}function QR(kh){return kh.length?kh[0].tagName.toLowerCase():""}function eM(kh,Ff){for(var x_="",$P=(kh.attr("style")||"").split(";"),zP=$P.length,eme=0;eme<zP;eme++){var tme=$P[eme];if(tme){var nme=tme.split(":");nme[0].trim()===Ff&&(x_=nme[1].trim())}}return x_}LI({target:"String",proto:!0,forced:vj(function(){return!!HR.trim()||"​᠎".trim()!=="​᠎"||YR&&HR.trim.name!=="trim"})},{trim:function(){return XR(this)}}),LI({global:!0},{globalThis:gj}),eh&&(Mp.fn.css=eh),ah&&(Mp.fn.append=ah),uh&&(Mp.fn.prepend=uh),zp&&(Mp.fn.addClass=zp),$p&&(Mp.fn.removeClass=$p),Hp&&(Mp.fn.hasClass=Hp),qp&&(Mp.fn.on=qp),Kp&&(Mp.fn.off=Kp),yh&&(Mp.fn.focus=yh),Vp&&(Mp.fn.attr=Vp),Up&&(Mp.fn.removeAttr=Up),Jp&&(Mp.fn.hide=Jp),Qp&&(Mp.fn.show=Qp),lh&&(Mp.fn.parents=lh),Wp&&(Mp.fn.dataset=Wp),Gp&&(Mp.fn.val=Gp),oh&&(Mp.fn.text=oh),rh&&(Mp.fn.html=rh),fh&&(Mp.fn.children=fh),dh&&(Mp.fn.remove=dh),ch&&(Mp.fn.find=ch),Yp&&(Mp.fn.width=Yp),Xp&&(Mp.fn.height=Xp),nh&&(Mp.fn.filter=nh),ph&&(Mp.fn.empty=ph);var tM={selector:"p:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);return(Ff=Ff.filter(function(zP){return!!ed.isText(zP)||!!x_.isInline(zP)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]),{type:"paragraph",children:Ff}}},nM=function(kh,Ff){return nM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x_,$P){x_.__proto__=$P}||function(x_,$P){for(var zP in $P)Object.prototype.hasOwnProperty.call($P,zP)&&(x_[zP]=$P[zP])},nM(kh,Ff);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */};function rM(kh,Ff){if(typeof Ff!="function"&&Ff!==null)throw new TypeError("Class extends value "+String(Ff)+" is not a constructor or null");function x_(){this.constructor=kh}nM(kh,Ff),kh.prototype=Ff===null?Object.create(Ff):(x_.prototype=Ff.prototype,new x_)}var oM=function(){return oM=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++)for(var zP in Ff=arguments[x_])Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP]);return kh},oM.apply(this,arguments)};function iM(kh,Ff,x_,$P){return new(x_||(x_=Promise))(function(zP,eme){function tme(ime){try{rme($P.next(ime))}catch(ome){eme(ome)}}function nme(ime){try{rme($P.throw(ime))}catch(ome){eme(ome)}}function rme(ime){var ome;ime.done?zP(ime.value):(ome=ime.value,ome instanceof x_?ome:new x_(function(sme){sme(ome)})).then(tme,nme)}rme(($P=$P.apply(kh,Ff||[])).next())})}function aM(kh,Ff){var x_,$P,zP,eme,tme={label:0,sent:function(){if(1&zP[0])throw zP[1];return zP[1]},trys:[],ops:[]};return eme={next:nme(0),throw:nme(1),return:nme(2)},typeof Symbol=="function"&&(eme[Symbol.iterator]=function(){return this}),eme;function nme(rme){return function(ime){return function(ome){if(x_)throw new TypeError("Generator is already executing.");for(;tme;)try{if(x_=1,$P&&(zP=2&ome[0]?$P.return:ome[0]?$P.throw||((zP=$P.return)&&zP.call($P),0):$P.next)&&!(zP=zP.call($P,ome[1])).done)return zP;switch($P=0,zP&&(ome=[2&ome[0],zP.value]),ome[0]){case 0:case 1:zP=ome;break;case 4:return tme.label++,{value:ome[1],done:!1};case 5:tme.label++,$P=ome[1],ome=[0];continue;case 7:ome=tme.ops.pop(),tme.trys.pop();continue;default:if(!((zP=(zP=tme.trys).length>0&&zP[zP.length-1])||ome[0]!==6&&ome[0]!==2)){tme=0;continue}if(ome[0]===3&&(!zP||ome[1]>zP[0]&&ome[1]<zP[3])){tme.label=ome[1];break}if(ome[0]===6&&tme.label<zP[1]){tme.label=zP[1],zP=ome;break}if(zP&&tme.label<zP[2]){tme.label=zP[2],tme.ops.push(ome);break}zP[2]&&tme.ops.pop(),tme.trys.pop();continue}ome=Ff.call(kh,tme)}catch(sme){ome=[6,sme],$P=0}finally{x_=zP=0}if(5&ome[0])throw ome[1];return{value:ome[0]?ome[1]:void 0,done:!0}}([rme,ime])}}}function uM(kh){var Ff=typeof Symbol=="function"&&Symbol.iterator,x_=Ff&&kh[Ff],$P=0;if(x_)return x_.call(kh);if(kh&&typeof kh.length=="number")return{next:function(){return kh&&$P>=kh.length&&(kh=void 0),{value:kh&&kh[$P++],done:!kh}}};throw new TypeError(Ff?"Object is not iterable.":"Symbol.iterator is not defined.")}function sM(kh,Ff){var x_=typeof Symbol=="function"&&kh[Symbol.iterator];if(!x_)return kh;var $P,zP,eme=x_.call(kh),tme=[];try{for(;(Ff===void 0||Ff-- >0)&&!($P=eme.next()).done;)tme.push($P.value)}catch(nme){zP={error:nme}}finally{try{$P&&!$P.done&&(x_=eme.return)&&x_.call(eme)}finally{if(zP)throw zP.error}}return tme}function lM(kh){var Ff=sM(Bf.nodes(kh,{match:function(eme){return kh.children[0]===eme},mode:"highest"}),1)[0];if(Ff==null)return!1;var x_=Ff[0];if(!Sf.isElement(x_)||x_.type==="paragraph"||Nf.string(x_)!=="")return!1;var $P=x_.children,zP=$P===void 0?[]:$P;return!!ed.isText(zP[0])&&(md.setNodes(kh,{type:"paragraph"}),!0)}var cM={renderElems:[lj],elemsToHtml:[{type:"paragraph",elemToHtml:function(kh,Ff){return Ff===""?"<p><br></p>":"<p>"+Ff+"</p>"}}],parseElemsHtml:[tM],editorPlugin:function(kh){var Ff=kh.deleteBackward,x_=kh.deleteForward;kh.insertText,kh.insertBreak;var $P=kh;return $P.deleteBackward=function(zP){lM($P)||Ff(zP)},$P.deleteForward=function(zP){lM($P)||x_(zP)},$P}},fM=/"/g,dM=Bj("".replace),pM=function(kh,Ff,x_,$P){var zP=dL(Lj(kh)),eme="<"+Ff;return x_!==""&&(eme+=" "+x_+'="'+dM(dL($P),fM,"&quot;")+'"'),eme+">"+zP+"</"+Ff+">"},hM=function(kh){return vj(function(){var Ff=""[kh]('"');return Ff!==Ff.toLowerCase()||Ff.split('"').length>3})};function gM(kh,Ff){var x_=Ff,$P=kh,zP=$P.bold,eme=$P.italic,tme=$P.underline;return zP&&(x_="<strong>"+x_+"</strong>"),$P.code&&(x_="<code>"+x_+"</code>"),eme&&(x_="<em>"+x_+"</em>"),tme&&(x_="<u>"+x_+"</u>"),$P.through&&(x_="<s>"+x_+"</s>"),$P.sub&&(x_="<sub>"+x_+"</sub>"),$P.sup&&(x_="<sup>"+x_+"</sup>"),x_}function vM(kh,Ff){return kh.length!==0&&(!!kh[0].matches(Ff)||kh.find(Ff).length>0)}LI({target:"String",proto:!0,forced:hM("bold")},{bold:function(){return pM(this,"b","","")}}),LI({target:"String",proto:!0,forced:hM("italics")},{italics:function(){return pM(this,"i","","")}}),LI({target:"String",proto:!0,forced:hM("sub")},{sub:function(){return pM(this,"sub","","")}}),LI({target:"String",proto:!0,forced:hM("sup")},{sup:function(){return pM(this,"sup","","")}});var yM={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mM=kN("span").classList,bM=mM&&mM.constructor&&mM.constructor.prototype,wM=bM===Object.prototype?void 0:bM,EM=function(kh,Ff){var x_=[][kh];return!!x_&&vj(function(){x_.call(null,Ff||function(){throw 1},1)})},DM=iL.forEach,SM=EM("forEach")?[].forEach:function(kh){return DM(this,kh,arguments.length>1?arguments[1]:void 0)},xM=function(kh){if(kh&&kh.forEach!==SM)try{RN(kh,"forEach",SM)}catch(Ff){kh.forEach=SM}};for(var CM in yM)yM[CM]&&xM(gj[CM]&&gj[CM].prototype);function AM(kh,Ff){return kh.selection==null||!!sM(Bf.nodes(kh,{match:function(x_){return QO.getNodeType(x_)==="pre"||!!Bf.isVoid(kh,x_)},universal:!0}),1)[0]}function OM(kh,Ff){Object.keys(Ff).forEach(function(x_){x_!=="text"&&Bf.removeMark(kh,x_)})}xM(wM),LI({target:"Object",stat:!0,forced:vj(function(){mL(1)})},{keys:function(kh){return mL(fN(kh))}});var kM=function(){function kh(){this.marksNeedToRemove=[],this.tag="button"}return kh.prototype.getValue=function(Ff){var x_=this.mark,$P=Bf.marks(Ff);return $P?$P[x_]:!!sM(Bf.nodes(Ff,{match:function(zP){return zP[x_]===!0}}),1)[0]},kh.prototype.isActive=function(Ff){return!!this.getValue(Ff)},kh.prototype.isDisabled=function(Ff){return AM(Ff,this.mark)},kh.prototype.exec=function(Ff,x_){var $P=this.mark,zP=this.marksNeedToRemove;x_?Ff.removeMark($P):(Ff.addMark($P,!0),zP&&zP.forEach(function(eme){return Ff.removeMark(eme)}))},kh}(),BM='<svg viewBox="0 0 1024 1024"><path d="M707.872 484.64A254.88 254.88 0 0 0 768 320c0-141.152-114.848-256-256-256H192v896h384c141.152 0 256-114.848 256-256a256.096 256.096 0 0 0-124.128-219.36zM384 192h101.504c55.968 0 101.504 57.408 101.504 128s-45.536 128-101.504 128H384V192z m159.008 640H384v-256h159.008c58.464 0 106.016 57.408 106.016 128s-47.552 128-106.016 128z"></path></svg>',FM='<svg viewBox="0 0 1024 1024"><path d="M704 64l128 0 0 416c0 159.072-143.264 288-320 288s-320-128.928-320-288l0-416 128 0 0 416c0 40.16 18.24 78.688 51.36 108.512 36.896 33.216 86.848 51.488 140.64 51.488s103.744-18.304 140.64-51.488c33.12-29.792 51.36-68.352 51.36-108.512l0-416zM192 832l640 0 0 128-640 0z"></path></svg>',TM='<svg viewBox="0 0 1024 1024"><path d="M896 64v64h-128L448 896h128v64H128v-64h128L576 128h-128V64z"></path></svg>',_M='<svg viewBox="0 0 1024 1024"><path d="M1024 512v64h-234.496c27.52 38.496 42.496 82.688 42.496 128 0 70.88-36.672 139.04-100.576 186.976C672.064 935.488 594.144 960 512 960s-160.064-24.512-219.424-69.024C228.64 843.04 192 774.88 192 704h128c0 69.376 87.936 128 192 128s192-58.624 192-128-87.936-128-192-128H0v-64h299.52a385.984 385.984 0 0 1-6.944-5.024C228.64 459.04 192 390.88 192 320s36.672-139.04 100.576-186.976C351.936 88.512 429.856 64 512 64s160.064 24.512 219.424 69.024C795.328 180.96 832 249.12 832 320h-128c0-69.376-87.936-128-192-128s-192 58.624-192 128 87.936 128 192 128c78.976 0 154.048 22.688 212.48 64H1024z"></path></svg>',PM='<svg viewBox="0 0 1024 1024"><path d="M576 736l96 96 320-320L672 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224z"></path></svg>',jM='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',NM='<svg viewBox="0 0 1024 1024"><path d="M924.402464 1023.068211H0.679665V99.345412h461.861399v98.909208H99.596867v725.896389h725.896389V561.206811h98.909208z" p-id="10909"></path><path d="M930.805104 22.977336l69.965436 69.965436-453.492405 453.492404-69.965435-69.901489z" p-id="10910"></path><path d="M1022.464381 304.030081h-98.917201V99.345412H709.230573V0.428211h313.233808z"></path></svg>',IM='<svg viewBox="0 0 1024 1024"><path d="M64 864h896v96H64zM360.58 576h302.85l81.53 224h102.16L579.24 64H444.77L176.89 800h102.16l81.53-224zM512 159.96L628.49 480H395.52L512 159.96z"></path></svg>',LM='<svg viewBox="0 0 1024 1024"><path d="M510.030769 315.076923l84.676923 196.923077h-177.230769l76.8-196.923077h15.753846zM945.230769 157.538462v708.923076c0 43.323077-35.446154 78.769231-78.769231 78.769231H157.538462c-43.323077 0-78.769231-35.446154-78.769231-78.769231V157.538462c0-43.323077 35.446154-78.769231 78.769231-78.769231h708.923076c43.323077 0 78.769231 35.446154 78.769231 78.769231z m-108.307692 643.938461L600.615385 216.615385c-5.907692-11.815385-15.753846-19.692308-29.538462-19.692308h-139.815385c-11.815385 0-23.630769 7.876923-27.56923 19.692308l-216.615385 584.861538c-3.938462 11.815385 3.938462 25.6 17.723077 25.6h80.738462c11.815385 0 23.630769-9.846154 27.56923-21.661538l63.015385-175.261539h263.876923l68.923077 175.261539c3.938462 11.815385 15.753846 21.661538 27.569231 21.661538h80.738461c13.784615 0 23.630769-13.784615 19.692308-25.6z"></path></svg>',RM='<svg viewBox="0 0 1024 1024"><path d="M64 512h384v128h-128V1024h-128V640h-128z m896-256H708.2496v768h-136.4992V256H320V128h640z"></path></svg>',MM='<svg viewBox="0 0 1024 1024"><path d="M956.788364 152.110545h-24.110546l23.924364 9.029819 0.186182 121.018181h-65.070546l-86.574545-130.048H566.551273v650.14691l130.048 64.977454v65.163636h-390.050909v-65.163636l129.954909-64.977454V152.110545H198.283636L111.429818 282.065455H46.545455V69.259636C46.545455 33.792 82.664727 22.062545 98.955636 22.062545h812.683637c23.738182 0 45.056 15.173818 45.056 41.053091V169.425455v-17.221819z"></path></svg>',zM='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m256-512v384l-256-192z"></path></svg>',$M='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',HM='<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',VM='<svg viewBox="0 0 1024 1024"><path d="M972.8 793.6v102.4H256v-102.4h716.8z m0-230.4v102.4H51.2v-102.4h921.6z m0-230.4v102.4H256v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',UM='<svg viewBox="0 0 1024 1024"><path d="M870.4 793.6v102.4H153.6v-102.4h716.8z m102.4-230.4v102.4H51.2v-102.4h921.6z m-102.4-230.4v102.4H153.6v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',WM='<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z m0 192h1024v128H0z"></path></svg>',GM='<svg viewBox="0 0 1024 1024"><path d="M768 206.016v50.016h128v64h-192V174.016l128-60V64h-128V0h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',qM='<svg viewBox="0 0 1024 1024"><path d="M768 910.016v50.016h128v64h-192v-146.016l128-60V768h-128v-64h192v146.016zM676 256h-136L352 444 164 256H28l256 256-256 256h136L352 580 540 768h136l-256-256z"></path></svg>',KM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="bold",x_.title=HP("textStyle.bold"),x_.iconSvg=BM,x_.hotkey="mod+b",x_}return rM(Ff,kh),Ff}(kM),YM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="code",x_.title=HP("textStyle.code"),x_.iconSvg=PM,x_.hotkey="mod+e",x_}return rM(Ff,kh),Ff}(kM),XM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="italic",x_.title=HP("textStyle.italic"),x_.iconSvg=TM,x_.hotkey="mod+i",x_}return rM(Ff,kh),Ff}(kM),ZM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="through",x_.title=HP("textStyle.through"),x_.iconSvg=_M,x_.hotkey="mod+shift+x",x_}return rM(Ff,kh),Ff}(kM),JM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="underline",x_.title=HP("textStyle.underline"),x_.iconSvg=FM,x_.hotkey="mod+u",x_}return rM(Ff,kh),Ff}(kM),QM=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="sub",x_.marksNeedToRemove=["sup"],x_.title=HP("textStyle.sub"),x_.iconSvg=qM,x_.hotkey="",x_}return rM(Ff,kh),Ff}(kM),ez=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.mark="sup",x_.marksNeedToRemove=["sub"],x_.title=HP("textStyle.sup"),x_.iconSvg=GM,x_.hotkey="",x_}return rM(Ff,kh),Ff}(kM),tz=function(){function kh(){this.title=HP("textStyle.clear"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M969.382408 288.738615l-319.401123-270.852152a67.074236 67.074236 0 0 0-96.459139 5.74922l-505.931379 574.922021a68.35184 68.35184 0 0 0-17.886463 47.910169 74.101061 74.101061 0 0 0 24.274486 47.910168l156.50655 132.232065h373.060512L975.131628 383.281347a67.074236 67.074236 0 0 0-5.74922-96.459139z m-440.134747 433.746725H264.144729l-90.071117-78.572676c-5.74922-5.74922-12.137243-12.137243-12.137243-17.886463a36.411728 36.411728 0 0 1 5.749221-24.274485l210.804741-240.828447 265.102932 228.691204z m-439.495945 180.781036h843.218964a60.047411 60.047411 0 1 1 0 120.733624H89.751716a60.047411 60.047411 0 1 1 0-120.733624z m0 0"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return AM(Ff)},kh.prototype.exec=function(Ff,x_){var $P,zP,eme=Bf.nodes(Ff,{match:function(rme){return ed.isText(rme)},universal:!0});try{for(var tme=uM(eme),nme=tme.next();!nme.done;nme=tme.next())OM(Ff,nme.value[0])}catch(rme){$P={error:rme}}finally{try{nme&&!nme.done&&(zP=tme.return)&&zP.call(tme)}finally{if($P)throw $P.error}}},kh}(),nz={renderStyle:function(kh,Ff){var x_=kh,$P=x_.bold,zP=x_.italic,eme=x_.underline,tme=x_.code,nme=x_.through,rme=x_.sub,ime=x_.sup,ome=Ff;return $P&&(ome=Pg("strong",null,ome)),tme&&(ome=Pg("code",null,ome)),zP&&(ome=Pg("em",null,ome)),eme&&(ome=Pg("u",null,ome)),nme&&(ome=Pg("s",null,ome)),rme&&(ome=Pg("sub",null,ome)),ime&&(ome=Pg("sup",null,ome)),ome},menus:[{key:"bold",factory:function(){return new KM}},{key:"underline",factory:function(){return new JM}},{key:"italic",factory:function(){return new XM}},{key:"through",factory:function(){return new ZM}},{key:"code",factory:function(){return new YM}},{key:"sub",factory:function(){return new QM}},{key:"sup",factory:function(){return new ez}},{key:"clearStyle",factory:function(){return new tz}}],styleToHtml:function(kh,Ff){if(!ed.isText(kh))return Ff;if(ZR(Ff))return gM(kh,Ff);var x_=Mp(Ff);if(QR(x_)==="br")return gM(kh,"<br>");var $P=x_.html();return $P=gM(kh,$P),x_.html($P),JR(x_)},parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!ed.isText(Ff))return Ff;var zP=Ff;return vM($P,"b,strong")&&(zP.bold=!0),vM($P,"i,em")&&(zP.italic=!0),vM($P,"u")&&(zP.underline=!0),vM($P,"s,strike")&&(zP.through=!0),vM($P,"sub")&&(zP.sub=!0),vM($P,"sup")&&(zP.sup=!0),vM($P,"code")&&(zP.code=!0),zP}};function rz(kh){return function(Ff,x_,$P){return Pg("h"+kh,null,x_)}}var oz={type:"header1",renderElem:rz(1)},iz={type:"header2",renderElem:rz(2)},az={type:"header3",renderElem:rz(3)},uz={type:"header4",renderElem:rz(4)},sz={type:"header5",renderElem:rz(5)},lz=aI.PROPER,cz=RegExp.prototype,fz=cz.toString,dz=Bj(pL),pz=vj(function(){return fz.call({source:"a",flags:"b"})!="/a/b"}),hz=lz&&fz.name!="toString";(pz||hz)&&uI(RegExp.prototype,"toString",function(){var kh=jN(this),Ff=dL(kh.source),x_=kh.flags;return"/"+Ff+"/"+dL(x_===void 0&&Vj(cz,kh)&&!("flags"in cz)?dz(kh):x_)},{unsafe:!0});var gz,vz=gj.TypeError,yz=function(kh){if(BR(kh))throw vz("The method doesn't accept regular expressions");return kh},mz=DN("match"),bz=function(kh){var Ff=/./;try{"/./"[kh](Ff)}catch(x_){try{return Ff[mz]=!1,"/./"[kh](Ff)}catch($P){}}return!1},wz=TN.f,Ez=Bj("".startsWith),Dz=Bj("".slice),Sz=Math.min,xz=bz("startsWith");function Cz(kh){var Ff=sM(Bf.nodes(kh,{match:function(zP){return QO.getNodeType(zP).startsWith("header")},universal:!0}),1),x_=Ff[0];if(x_==null)return"paragraph";var $P=sM(x_,1)[0];return QO.getNodeType($P)}function Az(kh){return kh.selection==null||!sM(Bf.nodes(kh,{match:function(Ff){var x_=QO.getNodeType(Ff);return x_==="paragraph"||!!x_.startsWith("header")},universal:!0,mode:"highest"}),1)[0]}function Oz(kh,Ff){Ff&&md.setNodes(kh,{type:Ff})}LI({target:"String",proto:!0,forced:!(!xz&&(gz=wz(String.prototype,"startsWith"),gz&&!gz.writable)||xz)},{startsWith:function(kh){var Ff=dL(Lj(this));yz(kh);var x_=gI(Sz(arguments.length>1?arguments[1]:void 0,Ff.length)),$P=dL(kh);return Ez?Ez(Ff,$P,x_):Dz(Ff,x_,x_+$P.length)===$P}});var kz=function(){function kh(){this.title=HP("header.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M960 960c-51.2 0-102.4-3.2-153.6-3.2-51.2 0-99.2 3.2-150.4 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 57.6-28.8 86.4-48 19.2-12.8 19.2-60.8 19.2-80v-224-19.2c-9.6-3.2-19.2-3.2-28.8-3.2H320c-9.6 0-19.2 0-28.8 3.2V780.8c0 22.4 0 80 22.4 92.8 28.8 19.2 96-6.4 96 44.8 0 16-9.6 41.6-28.8 41.6-54.4 0-105.6-3.2-160-3.2-48 0-96 3.2-147.2 3.2-19.2 0-28.8-22.4-28.8-38.4 0-51.2 51.2-28.8 80-48 19.2-12.8 19.2-60.8 19.2-83.2V294.4c0-28.8 3.2-115.2-22.4-131.2-25.6-16-86.4 9.6-86.4-41.6 0-16 6.4-41.6 28.8-41.6 51.2 0 105.6 3.2 156.8 3.2 48 0 96-3.2 144-3.2 19.2 0 28.8 22.4 28.8 41.6 0 48-57.6 25.6-83.2 41.6-19.2 12.8-19.2 73.6-19.2 92.8v201.6c6.4 3.2 16 3.2 22.4 3.2h400c6.4 0 12.8 0 22.4-3.2V256c0-22.4 0-80-19.2-92.8-28.8-16-86.4 6.4-86.4-41.6 0-16 9.6-41.6 28.8-41.6 51.2 0 99.2 3.2 150.4 3.2 48 0 99.2-3.2 147.2-3.2 19.2 0 28.8 22.4 28.8 41.6 0 51.2-57.6 25.6-86.4 41.6-19.2 12.8-19.2 70.4-19.2 92.8v537.6c0 19.2 0 67.2 19.2 80 28.8 19.2 89.6-6.4 89.6 44.8 0 19.2-6.4 41.6-28.8 41.6z"></path></svg>',this.tag="select",this.width=60}return kh.prototype.getOptions=function(Ff){var x_=[{value:"header1",text:"H1",styleForRenderMenuList:{"font-size":"32px","font-weight":"bold"}},{value:"header2",text:"H2",styleForRenderMenuList:{"font-size":"24px","font-weight":"bold"}},{value:"header3",text:"H3",styleForRenderMenuList:{"font-size":"18px","font-weight":"bold"}},{value:"header4",text:"H4",styleForRenderMenuList:{"font-size":"16px","font-weight":"bold"}},{value:"header5",text:"H5",styleForRenderMenuList:{"font-size":"13px","font-weight":"bold"}},{value:"paragraph",text:HP("header.text")}],$P=this.getValue(Ff).toString();return x_.forEach(function(zP){zP.value===$P?zP.selected=!0:delete zP.selected}),x_},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getValue=function(Ff){return Cz(Ff)},kh.prototype.isDisabled=function(Ff){return Az(Ff)},kh.prototype.exec=function(Ff,x_){Oz(Ff,x_.toString())},kh}(),Bz=function(){function kh(){this.tag="button"}return kh.prototype.getValue=function(Ff){return Cz(Ff)},kh.prototype.isActive=function(Ff){return this.getValue(Ff)===this.type},kh.prototype.isDisabled=function(Ff){return Az(Ff)},kh.prototype.exec=function(Ff,x_){var $P=this.type;Oz(Ff,x_===$P?"paragraph":$P)},kh}(),Fz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="H1",x_.type="header1",x_}return rM(Ff,kh),Ff}(Bz),Tz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="H2",x_.type="header2",x_}return rM(Ff,kh),Ff}(Bz),_z=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="H3",x_.type="header3",x_}return rM(Ff,kh),Ff}(Bz),Pz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="H4",x_.type="header4",x_}return rM(Ff,kh),Ff}(Bz),jz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="H5",x_.type="header5",x_}return rM(Ff,kh),Ff}(Bz),Nz={key:"headerSelect",factory:function(){return new kz}},Iz={key:"header1",factory:function(){return new Fz}},Lz={key:"header2",factory:function(){return new Tz}},Rz={key:"header3",factory:function(){return new _z}},Mz={key:"header4",factory:function(){return new Pz}},zz={key:"header5",factory:function(){return new jz}};function $z(kh){return function(Ff,x_){return"<h"+kh+">"+x_+"</h"+kh+">"}}function Hz(kh){return function(Ff,x_,$P){var zP=Mp(Ff);return(x_=x_.filter(function(eme){return!!ed.isText(eme)||!!$P.isInline(eme)})).length===0&&(x_=[{text:zP.text().replace(/\s+/gm," ")}]),{type:"header"+kh,children:x_}}}var Vz={renderElems:[oz,iz,az,uz,sz],elemsToHtml:[{type:"header1",elemToHtml:$z(1)},{type:"header2",elemToHtml:$z(2)},{type:"header3",elemToHtml:$z(3)},{type:"header4",elemToHtml:$z(4)},{type:"header5",elemToHtml:$z(5)}],parseElemsHtml:[{selector:"h1:not([data-w-e-type])",parseElemHtml:Hz(1)},{selector:"h2:not([data-w-e-type])",parseElemHtml:Hz(2)},{selector:"h3:not([data-w-e-type])",parseElemHtml:Hz(3)},{selector:"h4:not([data-w-e-type])",parseElemHtml:Hz(4)},{selector:"h5:not([data-w-e-type])",parseElemHtml:Hz(5)}],menus:[Nz,Iz,Lz,Rz,Mz,zz],editorPlugin:function(kh){var Ff=kh.insertBreak;kh.insertNode;var x_=kh;return x_.insertBreak=function(){var $P=sM(Bf.nodes(x_,{match:function(zP){return QO.getNodeType(zP).startsWith("header")},universal:!0}),1)[0];$P&&QO.isSelectionAtLineEnd(kh,$P[1])?md.insertNodes(x_,{type:"paragraph",children:[{text:""}]},{mode:"highest"}):Ff()},x_}},Uz=Object.assign,Wz=Object.defineProperty,Gz=Bj([].concat),qz=!Uz||vj(function(){if(yj&&Uz({b:1},Uz(Wz({},"a",{enumerable:!0,get:function(){Wz(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var kh={},Ff={},x_=Symbol(),$P="abcdefghijklmnopqrst";return kh[x_]=7,$P.split("").forEach(function(zP){Ff[zP]=zP}),Uz({},kh)[x_]!=7||mL(Uz({},Ff)).join("")!=$P})?function(kh,Ff){for(var x_=fN(kh),$P=arguments.length,zP=1,eme=CI.f,tme=Sj.f;$P>zP;)for(var nme,rme=Nj(arguments[zP++]),ime=eme?Gz(mL(rme),eme(rme)):mL(rme),ome=ime.length,sme=0;ome>sme;)nme=ime[sme++],yj&&!bj(tme,rme,nme)||(x_[nme]=rme[nme]);return x_}:Uz;function Kz(kh,Ff){kh.data==null&&(kh.data={});var x_=kh.data;x_.style==null&&(x_.style={}),Object.assign(x_.style,Ff)}LI({target:"Object",stat:!0,forced:Object.assign!==qz},{assign:qz});var Yz={selector:"font",preParseHtml:function(kh){var Ff=Mp(kh);if(QR(Ff)!=="font")return kh;var x_=Ff.attr("color")||"";return x_&&(Ff.removeAttr("color"),Ff.css("color",x_)),Ff[0]}},Xz=function(){function kh(){this.tag="button",this.showDropPanel=!0,this.$content=null}return kh.prototype.exec=function(Ff,x_){},kh.prototype.getValue=function(Ff){var x_=this.mark,$P=Bf.marks(Ff);return $P&&$P[x_]?$P[x_]:""},kh.prototype.isActive=function(Ff){return!!this.getValue(Ff)},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!sM(Bf.nodes(Ff,{match:function(x_){return QO.getNodeType(x_)==="pre"||!!Bf.isVoid(Ff,x_)},universal:!0}),1)[0]},kh.prototype.getPanelContentElem=function(Ff){var x_=this.mark;if(this.$content==null){var $P=Mp('<ul class="w-e-panel-content-color"></ul>');$P.on("click","li",function(ime){var ome=ime.target;if(ome!=null&&(ime.preventDefault(),Ff.selection!=null)){var sme=Mp(ome).attr("data-value");sme==="0"?Bf.removeMark(Ff,x_):Bf.addMark(Ff,x_,sme)}}),this.$content=$P}var zP=this.$content;if(zP==null)return document.createElement("ul");zP.empty();var eme=this.getValue(Ff),tme=Ff.getMenuConfig(x_).colors;(tme===void 0?[]:tme).forEach(function(ime){var ome=Mp('<div class="color-block" data-value="'+ime+'"></div>');ome.css("background-color",ime);var sme=Mp('<li data-value="'+ime+'"></li>');eme===ime&&sme.addClass("active"),sme.append(ome),zP.append(sme)});var nme="";x_==="color"&&(nme=HP("color.default")),x_==="bgColor"&&(nme=HP("color.clear"));var rme=Mp(`
      <li data-value="0" class="clear">
        <svg viewBox="0 0 1024 1024"><path d="M236.8 128L896 787.2V128H236.8z m614.4 704L192 172.8V832h659.2zM192 64h704c38.4 0 64 25.6 64 64v704c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V128c0-38.4 25.6-64 64-64z"></path></svg>
        `+nme+`
      </li>
    `);return zP.prepend(rme),zP[0]},kh}(),Zz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("color.color"),x_.iconSvg=IM,x_.mark="color",x_}return rM(Ff,kh),Ff}(Xz),Jz=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("color.bgColor"),x_.iconSvg=LM,x_.mark="bgColor",x_}return rM(Ff,kh),Ff}(Xz),Qz=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(89, 89, 89)","rgb(140, 140, 140)","rgb(191, 191, 191)","rgb(217, 217, 217)","rgb(233, 233, 233)","rgb(245, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(225, 60, 57)","rgb(231, 95, 51)","rgb(235, 144, 58)","rgb(245, 219, 77)","rgb(114, 192, 64)","rgb(89, 191, 192)","rgb(66, 144, 247)","rgb(54, 88, 226)","rgb(106, 57, 201)","rgb(216, 68, 147)","rgb(251, 233, 230)","rgb(252, 237, 225)","rgb(252, 239, 212)","rgb(252, 251, 207)","rgb(231, 246, 213)","rgb(218, 244, 240)","rgb(217, 237, 250)","rgb(224, 232, 250)","rgb(237, 225, 248)","rgb(246, 226, 234)","rgb(255, 163, 158)","rgb(255, 187, 150)","rgb(255, 213, 145)","rgb(255, 251, 143)","rgb(183, 235, 143)","rgb(135, 232, 222)","rgb(145, 213, 255)","rgb(173, 198, 255)","rgb(211, 173, 247)","rgb(255, 173, 210)","rgb(255, 77, 79)","rgb(255, 122, 69)","rgb(255, 169, 64)","rgb(255, 236, 61)","rgb(115, 209, 61)","rgb(54, 207, 201)","rgb(64, 169, 255)","rgb(89, 126, 247)","rgb(146, 84, 222)","rgb(247, 89, 171)","rgb(207, 19, 34)","rgb(212, 56, 13)","rgb(212, 107, 8)","rgb(212, 177, 6)","rgb(56, 158, 13)","rgb(8, 151, 156)","rgb(9, 109, 217)","rgb(29, 57, 196)","rgb(83, 29, 171)","rgb(196, 29, 127)","rgb(130, 0, 20)","rgb(135, 20, 0)","rgb(135, 56, 0)","rgb(97, 71, 0)","rgb(19, 82, 0)","rgb(0, 71, 79)","rgb(0, 58, 140)","rgb(6, 17, 120)","rgb(34, 7, 94)","rgb(120, 6, 80)"],e$={renderStyle:function(kh,Ff){var x_=kh,$P=x_.color,zP=x_.bgColor,eme=Ff;return $P&&Kz(eme,{color:$P}),zP&&Kz(eme,{backgroundColor:zP}),eme},styleToHtml:function(kh,Ff){if(!ed.isText(kh))return Ff;var x_,$P=kh,zP=$P.color,eme=$P.bgColor;return zP||eme?((ZR(Ff)||QR(x_=Mp(Ff))!=="span")&&(x_=Mp("<span>"+Ff+"</span>")),zP&&x_.css("color",zP),eme&&x_.css("background-color",eme),JR(x_)):Ff},preParseHtml:[Yz],parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!ed.isText(Ff))return Ff;var zP=Ff,eme=eM($P,"color");eme&&(zP.color=eme);var tme=eM($P,"background-color");return tme||(tme=eM($P,"background")),tme&&(zP.bgColor=tme),zP},menus:[{key:"color",factory:function(){return new Zz},config:{colors:Qz}},{key:"bgColor",factory:function(){return new Jz},config:{colors:Qz}}]},t$=/^(?:\w+:)?\/\/(\S+)$/,n$=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,r$=/^[^\s\.]+\.\S{2,}$/,o$=mI.includes;function i$(kh){return kh===void 0&&(kh="r"),kh+"-"+Rh()}function a$(kh){return kh.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u$(kh,Ff,x_,$P){return iM(this,void 0,void 0,function(){var zP,eme;return aM(this,function(tme){switch(tme.label){case 0:return(zP=Ff.getMenuConfig(kh).checkLink)?[4,zP(x_,$P)]:[3,2];case 1:if(typeof(eme=tme.sent())=="string")return Ff.alert(eme,"error"),[2,!1];if(eme==null)return[2,!1];tme.label=2;case 2:return[2,!0]}})})}function s$(kh,Ff,x_){return iM(this,void 0,void 0,function(){var $P;return aM(this,function(zP){switch(zP.label){case 0:return($P=Ff.getMenuConfig(kh).parseLinkUrl)?[4,$P(x_)]:[3,2];case 1:return[2,zP.sent()];case 2:return[2,x_]}})})}function l$(kh){return kh.selection==null||!!QO.getSelectedElems(kh).some(function(Ff){var x_=Ff.type;return!!kh.isVoid(Ff)||!!["pre","code","link"].includes(x_)||void 0})}function c$(kh,Ff){return{type:"link",url:a$(kh),children:Ff?[{text:Ff}]:[]}}function f$(kh,Ff,x_){return iM(this,void 0,void 0,function(){var $P,zP,eme;return aM(this,function(tme){switch(tme.label){case 0:return x_?(Ff||(Ff=x_),kh.restoreSelection(),l$(kh)?[2]:[4,u$("insertLink",kh,Ff,x_)]):[2];case 1:return tme.sent()?[4,s$("insertLink",kh,x_)]:[2];case 2:return $P=tme.sent(),(zP=kh.selection)==null||(qf.isCollapsed(zP)?(kh.insertText(" "),eme=c$($P,Ff),md.insertNodes(kh,eme),kh.insertFragment([{text:" "}])):Bf.string(kh,zP)!==Ff?(kh.deleteFragment(),eme=c$($P,Ff),md.insertNodes(kh,eme)):(eme=c$($P),md.wrapNodes(kh,eme,{split:!0}),md.collapse(kh,{edge:"end"}))),[2]}})})}LI({target:"Array",proto:!0},{includes:function(kh){return o$(this,kh,arguments.length>1?arguments[1]:void 0)}}),CR("includes");var d$={type:"link",renderElem:function(kh,Ff,x_){var $P=kh,zP=$P.url,eme=$P.target;return Pg("a",{href:zP,target:eme===void 0?"_blank":eme},Ff)}},p$={selector:"a:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);return(Ff=Ff.filter(function(zP){return!!ed.isText(zP)||!!x_.isInline(zP)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]),{type:"link",url:$P.attr("href")||"",target:$P.attr("target")||"",children:Ff}}};function h$(){return i$("w-e-insert-link")}var g$=function(){function kh(){this.title=HP("link.insert"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M440.224 635.776a51.84 51.84 0 0 1-36.768-15.232c-95.136-95.136-95.136-249.92 0-345.056l192-192C641.536 37.408 702.816 12.032 768 12.032s126.432 25.376 172.544 71.456c95.136 95.136 95.136 249.92 0 345.056l-87.776 87.776a51.968 51.968 0 1 1-73.536-73.536l87.776-87.776a140.16 140.16 0 0 0 0-197.984c-26.432-26.432-61.6-40.992-99.008-40.992s-72.544 14.56-99.008 40.992l-192 192a140.16 140.16 0 0 0 0 197.984 51.968 51.968 0 0 1-36.768 88.768z"></path><path d="M256 1012a242.4 242.4 0 0 1-172.544-71.456c-95.136-95.136-95.136-249.92 0-345.056l87.776-87.776a51.968 51.968 0 1 1 73.536 73.536l-87.776 87.776a140.16 140.16 0 0 0 0 197.984c26.432 26.432 61.6 40.992 99.008 40.992s72.544-14.56 99.008-40.992l192-192a140.16 140.16 0 0 0 0-197.984 51.968 51.968 0 1 1 73.536-73.536c95.136 95.136 95.136 249.92 0 345.056l-192 192A242.4 242.4 0 0 1 256 1012z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.textInputId=h$(),this.urlInputId=h$(),this.buttonId=h$()}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){return l$(Ff)},kh.prototype.getModalPositionNode=function(Ff){return null},kh.prototype.getModalContentElem=function(Ff){var x_=Ff.selection,$P=this,zP=$P.textInputId,eme=$P.urlInputId,tme=$P.buttonId,nme=sM(S_(HP("link.text"),zP),2),rme=nme[0],ime=Mp(nme[1]),ome=sM(S_(HP("link.url"),eme),2),sme=ome[0],ame=Mp(ome[1]),lme=sM(C_(tme,HP("common.ok")),1)[0];if(this.$content==null){var ume=Mp("<div></div>");ume.on("click","#"+tme,function(hme){hme.preventDefault();var cme=ume.find("#"+zP).val(),_me=ume.find("#"+eme).val();f$(Ff,cme,_me),Ff.hidePanelOrModal()}),this.$content=ume}var dme=this.$content;if(dme.empty(),dme.append(rme),dme.append(sme),dme.append(lme),x_==null||qf.isCollapsed(x_))ime.val("");else{var pme=Bf.string(Ff,x_);ime.val(pme)}return ame.val(""),setTimeout(function(){ime.focus()}),dme[0]},kh}();function v$(){return i$("w-e-update-link")}var y$=function(){function kh(){this.title=HP("link.edit"),this.iconSvg=jM,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.urlInputId=v$(),this.buttonId=v$()}return kh.prototype.getSelectedLinkElem=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"link");return x_==null?null:x_},kh.prototype.getValue=function(Ff){var x_=this.getSelectedLinkElem(Ff);return x_&&x_.url||""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||this.getSelectedLinkElem(Ff)==null},kh.prototype.getModalPositionNode=function(Ff){return QO.getSelectedNodeByType(Ff,"link")},kh.prototype.getModalContentElem=function(Ff){var x_=this.urlInputId,$P=this.buttonId,zP=sM(S_(HP("link.url"),x_),2),eme=zP[0],tme=Mp(zP[1]),nme=sM(C_($P,HP("common.ok")),1)[0];if(this.$content==null){var rme=Mp("<div></div>");rme.on("click","button",function(sme){sme.preventDefault(),Ff.restoreSelection();var ame=QO.getSelectedNodeByType(Ff,"link"),lme=ame?Nf.string(ame):"",ume=rme.find("#"+x_).val();(function(dme,pme,hme){iM(this,void 0,void 0,function(){var cme,_me;return aM(this,function(vme){switch(vme.label){case 0:return hme?[4,u$("editLink",dme,pme,hme)]:[2];case 1:return vme.sent()?[4,s$("editLink",dme,hme)]:[2];case 2:return cme=vme.sent(),_me={url:a$(cme)},md.setNodes(dme,_me,{match:function(Eme){return QO.checkNodeType(Eme,"link")}}),[2]}})})})(Ff,lme,ume),Ff.hidePanelOrModal()}),this.$content=rme}var ime=this.$content;ime.empty(),ime.append(eme),ime.append(nme);var ome=this.getValue(Ff);return tme.val(ome),setTimeout(function(){tme.focus()}),ime[0]},kh}(),m$=function(){function kh(){this.title=HP("link.unLink"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||QO.getSelectedNodeByType(Ff,"link")==null},kh.prototype.exec=function(Ff,x_){this.isDisabled(Ff)||md.unwrapNodes(Ff,{match:function($P){return QO.checkNodeType($P,"link")}})},kh}(),b$=function(){function kh(){this.title=HP("link.view"),this.iconSvg=NM,this.tag="button"}return kh.prototype.getSelectedLinkElem=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"link");return x_==null?null:x_},kh.prototype.getValue=function(Ff){var x_=this.getSelectedLinkElem(Ff);return x_&&x_.url||""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||this.getSelectedLinkElem(Ff)==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){if(!x_||typeof x_!="string")throw new Error("View link failed, link url is '"+x_+"'");window.open(x_,"_blank")}},kh}(),w$={checkLink:function(kh,Ff){return!0},parseLinkUrl:function(kh){return kh}},E$={renderElems:[d$],elemsToHtml:[{type:"link",elemToHtml:function(kh,Ff){var x_=kh,$P=x_.url,zP=x_.target;return'<a href="'+$P+'" target="'+(zP===void 0?"_blank":zP)+'">'+Ff+"</a>"}}],parseElemsHtml:[p$],menus:[{key:"insertLink",factory:function(){return new g$},config:w$},{key:"editLink",factory:function(){return new y$},config:w$},{key:"unLink",factory:function(){return new m$}},{key:"viewLink",factory:function(){return new b$}}],editorPlugin:function(kh){var Ff=kh.isInline,x_=kh.insertData,$P=kh.normalizeNode;kh.insertNode,kh.insertText;var zP=kh;return zP.isInline=function(eme){return eme.type==="link"||Ff(eme)},zP.insertData=function(eme){var tme=eme.getData("text/plain");if(function(ime){if(typeof ime!="string")return!1;var ome=ime.match(t$);if(!ome)return!1;var sme=ome[1];return!(!sme||!n$.test(sme)&&!r$.test(sme))}(tme)){if(!l$(zP)){var nme=zP.selection;if(nme!=null){var rme=Bf.string(zP,nme);f$(zP,rme,tme)}}}else x_(eme)},zP.normalizeNode=function(eme){var tme=sM(eme,2),nme=tme[0],rme=tme[1];return QO.getNodeType(nme)!=="link"?$P([nme,rme]):Nf.string(nme)===""?md.removeNodes(zP,{at:rme}):$P([nme,rme])},zP}},D$=Bj(1 .valueOf),S$=gj.RangeError,x$=gj.RangeError,C$=gj.String,A$=Math.floor,O$=Bj(function(kh){var Ff=dL(Lj(this)),x_="",$P=cI(kh);if($P<0||$P==1/0)throw S$("Wrong number of repetitions");for(;$P>0;($P>>>=1)&&(Ff+=Ff))1&$P&&(x_+=Ff);return x_}),k$=Bj("".slice),B$=Bj(1 .toFixed),F$=function(kh,Ff,x_){return Ff===0?x_:Ff%2==1?F$(kh,Ff-1,x_*kh):F$(kh*kh,Ff/2,x_)},T$=function(kh,Ff,x_){for(var $P=-1,zP=x_;++$P<6;)zP+=Ff*kh[$P],kh[$P]=zP%1e7,zP=A$(zP/1e7)},_$=function(kh,Ff){for(var x_=6,$P=0;--x_>=0;)$P+=kh[x_],kh[x_]=A$($P/Ff),$P=$P%Ff*1e7},P$=function(kh){for(var Ff=6,x_="";--Ff>=0;)if(x_!==""||Ff===0||kh[Ff]!==0){var $P=C$(kh[Ff]);x_=x_===""?$P:x_+O$("0",7-$P.length)+$P}return x_};function j$(kh,Ff){return"w-e-image-container-"+QO.findKey(kh,Ff).id}LI({target:"Number",proto:!0,forced:vj(function(){return B$(8e-5,3)!=="0.000"||B$(.9,0)!=="1"||B$(1.255,2)!=="1.25"||B$(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!vj(function(){B$({})})},{toFixed:function(kh){var Ff,x_,$P,zP,eme=D$(this),tme=cI(kh),nme=[0,0,0,0,0,0],rme="",ime="0";if(tme<0||tme>20)throw x$("Incorrect fraction digits");if(eme!=eme)return"NaN";if(eme<=-1e21||eme>=1e21)return C$(eme);if(eme<0&&(rme="-",eme=-eme),eme>1e-21)if(x_=(Ff=function(ome){for(var sme=0,ame=ome;ame>=4096;)sme+=12,ame/=4096;for(;ame>=2;)sme+=1,ame/=2;return sme}(eme*F$(2,69,1))-69)<0?eme*F$(2,-Ff,1):eme/F$(2,Ff,1),x_*=4503599627370496,(Ff=52-Ff)>0){for(T$(nme,0,x_),$P=tme;$P>=7;)T$(nme,1e7,0),$P-=7;for(T$(nme,F$(10,$P,1),0),$P=Ff-1;$P>=23;)_$(nme,1<<23),$P-=23;_$(nme,1<<$P),T$(nme,1,1),_$(nme,2),ime=P$(nme)}else T$(nme,0,x_),T$(nme,1<<-Ff,0),ime=P$(nme)+O$("0",tme);return tme>0?rme+((zP=ime.length)<=tme?"0."+O$("0",tme-zP)+ime:k$(ime,0,zP-tme)+"."+k$(ime,zP-tme)):rme+ime}});var N$={type:"image",renderElem:function(kh,Ff,x_){var $P=kh,zP=$P.src,eme=$P.alt,tme=eme===void 0?"":eme,nme=$P.href,rme=nme===void 0?"":nme,ime=$P.style,ome=ime===void 0?{}:ime,sme=ome.width,ame=sme===void 0?"":sme,lme=ome.height,ume=lme===void 0?"":lme,dme=QO.isNodeSelected(x_,kh),pme={};ame&&(pme.width="100%"),ume&&(pme.height="100%");var hme=Pg("img",{style:pme,src:zP,alt:tme,"data-href":rme}),cme=x_.isDisabled();return dme&&!cme?function(_me,vme,Eme,wme){var Tme=Mp("body"),Dme=j$(_me,vme),Ame=wme.width,Nme=wme.height,Ume=0,jme=0,Fme=0,$me=!1,Gme=null;function Wme(i_e){Gme=function(){var Rme=Mp("#"+Dme);if(Rme.length===0)throw new Error("Cannot find image container elem");return Rme}(),Ume=i_e;var Mme=Gme.find("img");if(Mme.length===0)throw new Error("Cannot find image elem");jme=Mme.width(),Fme=Mme.height(),Tme.on("mousemove",Jme),Tme.on("mouseup",r_e);var Ome=QO.getHoverbar(_me);Ome&&Ome.hideAndClean()}var Jme=eg(function(i_e){i_e.preventDefault();var Mme=i_e.clientX,Ome=jme+($me?Ume-Mme:Mme-Ume),Rme=Fme*(Ome/jme);Gme!=null&&(Ome<=15||Rme<=15||(Gme.css("width",Ome+"px"),Gme.css("height",Rme+"px")))},100);function r_e(i_e){if(Tme.off("mousemove",Jme),Gme!=null){var Mme=Gme.width().toFixed(2),Ome=Gme.height().toFixed(2),Rme={style:oM(oM({},vme.style),{width:Mme+"px",height:Ome+"px"})};md.setNodes(_me,Rme,{at:QO.findPath(_me,vme)}),Tme.off("mouseup",r_e)}}var o_e={};return Ame&&(o_e.width=Ame),Nme&&(o_e.height=Nme),Pg("div",{id:Dme,style:o_e,className:"w-e-image-container w-e-selected-image-container",on:{mousedown:function(i_e){var Mme=Mp(i_e.target);Mme.hasClass("w-e-image-dragger")&&(i_e.preventDefault(),(Mme.hasClass("left-top")||Mme.hasClass("left-bottom"))&&($me=!0),Wme(i_e.clientX))}}},Eme,Pg("div",{className:"w-e-image-dragger left-top"}),Pg("div",{className:"w-e-image-dragger right-top"}),Pg("div",{className:"w-e-image-dragger left-bottom"}),Pg("div",{className:"w-e-image-dragger right-bottom"}))}(x_,kh,hme,{width:ame,height:ume}):function(_me,vme,Eme,wme){var Tme=wme.width,Dme=wme.height,Ame={};return Tme&&(Ame.width=Tme),Dme&&(Ame.height=Dme),Pg("div",{id:j$(_me,vme),style:Ame,className:"w-e-image-container"},Eme)}(x_,kh,hme,{width:ame,height:ume})}},I$={selector:"img:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh),zP=$P.attr("data-href")||"";return zP=decodeURIComponent(zP),{type:"image",src:$P.attr("src")||"",alt:$P.attr("alt")||"",href:zP,style:{width:eM($P,"width"),height:eM($P,"height")},children:[{text:""}]}}};function L$(kh,Ff,x_,$P,zP){return $P===void 0&&($P=""),zP===void 0&&(zP=""),iM(this,void 0,void 0,function(){var eme,tme;return aM(this,function(nme){switch(nme.label){case 0:return(eme=Ff.getMenuConfig(kh).checkImage)?[4,eme(x_,$P,zP)]:[3,2];case 1:if(typeof(tme=nme.sent())=="string")return Ff.alert(tme,"error"),[2,!1];if(tme==null)return[2,!1];nme.label=2;case 2:return[2,!0]}})})}function R$(kh,Ff,x_){return iM(this,void 0,void 0,function(){var $P;return aM(this,function(zP){switch(zP.label){case 0:return($P=Ff.getMenuConfig(kh).parseImageSrc)?[4,$P(x_)]:[3,2];case 1:return[2,zP.sent()];case 2:return[2,x_]}})})}function M$(kh,Ff,x_,$P){return x_===void 0&&(x_=""),$P===void 0&&($P=""),iM(this,void 0,void 0,function(){var zP,eme,tme;return aM(this,function(nme){switch(nme.label){case 0:return[4,L$("insertImage",kh,Ff,x_,$P)];case 1:return nme.sent()?[4,R$("insertImage",kh,Ff)]:[2];case 2:return zP=nme.sent(),eme={type:"image",src:a$(zP),href:$P,alt:x_,style:{},children:[{text:""}]},kh.selection===null&&kh.restoreSelection(),QO.getSelectedNodeByType(kh,"image")&&kh.move(1),z$(kh)||(md.insertNodes(kh,eme),(tme=kh.getMenuConfig("insertImage").onInsertedImage)&&tme(eme)),[2]}})})}function z$(kh){var Ff=kh.selection;return Ff==null||!qf.isCollapsed(Ff)||!!sM(Bf.nodes(kh,{match:function(x_){var $P=QO.getNodeType(x_);return $P==="code"||$P==="pre"||$P==="link"||$P==="list-item"||!!$P.startsWith("header")||$P==="blockquote"||!!Bf.isVoid(kh,x_)},universal:!0}),1)[0]}function $$$1(){return i$("w-e-insert-image")}var H$=function(){function kh(){this.title=HP("image.netImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=$$$1(),this.altInputId=$$$1(),this.hrefInputId=$$$1(),this.buttonId=$$$1()}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){return z$(Ff)},kh.prototype.getModalPositionNode=function(Ff){return null},kh.prototype.getModalContentElem=function(Ff){var x_=this,$P=this,zP=$P.srcInputId,eme=$P.altInputId,tme=$P.hrefInputId,nme=$P.buttonId,rme=sM(S_(HP("image.src"),zP),2),ime=rme[0],ome=Mp(rme[1]),sme=sM(S_(HP("image.desc"),eme),2),ame=sme[0],lme=Mp(sme[1]),ume=sM(S_(HP("image.link"),tme),2),dme=ume[0],pme=Mp(ume[1]),hme=sM(C_(nme,HP("common.ok")),1)[0];if(this.$content==null){var cme=Mp("<div></div>");cme.on("click","#"+nme,function(vme){vme.preventDefault();var Eme=cme.find("#"+zP).val().trim(),wme=cme.find("#"+eme).val().trim(),Tme=cme.find("#"+tme).val().trim();x_.insertImage(Ff,Eme,wme,Tme),Ff.hidePanelOrModal()}),this.$content=cme}var _me=this.$content;return _me.empty(),_me.append(ime),_me.append(ame),_me.append(dme),_me.append(hme),ome.val(""),lme.val(""),pme.val(""),setTimeout(function(){ome.focus()}),_me[0]},kh.prototype.insertImage=function(Ff,x_,$P,zP){$P===void 0&&($P=""),zP===void 0&&(zP=""),x_&&(Ff.restoreSelection(),this.isDisabled(Ff)||M$(Ff,x_,$P,zP))},kh}(),V$=function(){function kh(){this.title=HP("image.delete"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||QO.getSelectedNodeByType(Ff,"image")==null},kh.prototype.exec=function(Ff,x_){this.isDisabled(Ff)||md.removeNodes(Ff,{match:function($P){return QO.checkNodeType($P,"image")}})},kh}();function U$(){return i$("w-e-edit-image")}var W$=function(){function kh(){this.title=HP("image.edit"),this.iconSvg=jM,this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=U$(),this.altInputId=U$(),this.hrefInputId=U$(),this.buttonId=U$()}return kh.prototype.getValue=function(Ff){return""},kh.prototype.getImageNode=function(Ff){return QO.getSelectedNodeByType(Ff,"image")},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"image")==null},kh.prototype.getModalPositionNode=function(Ff){return this.getImageNode(Ff)},kh.prototype.getModalContentElem=function(Ff){var x_=this,$P=this,zP=$P.srcInputId,eme=$P.altInputId,tme=$P.hrefInputId,nme=$P.buttonId,rme=this.getImageNode(Ff);if(rme==null)throw new Error("Not found selected image node");var ime=sM(S_(HP("image.src"),zP),2),ome=ime[0],sme=Mp(ime[1]),ame=sM(S_(HP("image.desc"),eme),2),lme=ame[0],ume=Mp(ame[1]),dme=sM(S_(HP("image.link"),tme),2),pme=dme[0],hme=Mp(dme[1]),cme=sM(C_(nme,HP("common.ok")),1)[0];if(this.$content==null){var _me=Mp("<div></div>");_me.on("click","#"+nme,function(Ume){Ume.preventDefault();var jme=_me.find("#"+zP).val(),Fme=_me.find("#"+eme).val(),$me=_me.find("#"+tme).val();x_.updateImage(Ff,jme,Fme,$me),Ff.hidePanelOrModal()}),this.$content=_me}var vme=this.$content;vme.empty(),vme.append(ome),vme.append(lme),vme.append(pme),vme.append(cme);var Eme=rme,wme=Eme.src,Tme=Eme.alt,Dme=Tme===void 0?"":Tme,Ame=Eme.href,Nme=Ame===void 0?"":Ame;return sme.val(wme),ume.val(Dme),hme.val(Nme),setTimeout(function(){sme.focus()}),vme[0]},kh.prototype.updateImage=function(Ff,x_,$P,zP,eme){$P===void 0&&($P=""),zP===void 0&&(zP=""),eme===void 0&&(eme={}),x_&&(Ff.restoreSelection(),this.isDisabled(Ff)||function(tme,nme,rme,ime,ome){rme===void 0&&(rme=""),ime===void 0&&(ime=""),ome===void 0&&(ome={}),iM(this,void 0,void 0,function(){var sme,ame,lme,ume,dme,pme;return aM(this,function(hme){switch(hme.label){case 0:return[4,L$("editImage",tme,nme,rme,ime)];case 1:return hme.sent()?[4,R$("editImage",tme,nme)]:[2];case 2:return sme=hme.sent(),(ame=QO.getSelectedNodeByType(tme,"image"))==null||(lme=ame.style,ume={src:sme,alt:rme,href:ime,style:oM(oM({},lme===void 0?{}:lme),ome)},md.setNodes(tme,ume,{match:function(cme){return QO.checkNodeType(cme,"image")}}),dme=QO.getSelectedNodeByType(tme,"image"),(pme=tme.getMenuConfig("editImage").onUpdatedImage)&&pme(dme)),[2]}})})}(Ff,x_,$P,zP,eme))},kh}(),G$=function(){function kh(){this.title=HP("image.viewLink"),this.iconSvg=NM,this.tag="button"}return kh.prototype.getValue=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"image");return x_&&x_.href||""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!this.getValue(Ff)},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){if(!x_||typeof x_!="string")throw new Error("View image link failed, image.href is '"+x_+"'");window.open(x_,"_blank")}},kh}(),q$=function(){function kh(){this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getSelectedNode=function(Ff){return QO.getSelectedNodeByType(Ff,"image")},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||this.getSelectedNode(Ff)==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=this.getSelectedNode(Ff);if($P!=null){var zP=QO.getHoverbar(Ff);zP&&zP.hideAndClean();var eme=$P.style,tme={style:oM(oM({},eme===void 0?{}:eme),{width:this.value,height:""})};md.setNodes(Ff,tme,{match:function(nme){return QO.checkNodeType(nme,"image")}})}}},kh}(),K$=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="30%",x_.value="30%",x_}return rM(Ff,kh),Ff}(q$),Y$=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="50%",x_.value="50%",x_}return rM(Ff,kh),Ff}(q$),X$=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title="100%",x_.value="100%",x_}return rM(Ff,kh),Ff}(q$),Z$={onInsertedImage:function(kh){},onUpdatedImage:function(kh){},checkImage:function(kh,Ff,x_){return!0},parseImageSrc:function(kh){return kh}},J$={renderElems:[N$],elemsToHtml:[{type:"image",elemToHtml:function(kh,Ff){var x_=kh,$P=x_.src,zP=x_.alt,eme=zP===void 0?"":zP,tme=x_.href,nme=tme===void 0?"":tme,rme=x_.style,ime=rme===void 0?{}:rme,ome=ime.width,sme=ome===void 0?"":ome,ame=ime.height,lme=ame===void 0?"":ame,ume="";return sme&&(ume+="width: "+sme+";"),lme&&(ume+="height: "+lme+";"),'<img src="'+$P+'" alt="'+eme+'" data-href="'+nme+'" style="'+ume+'"/>'}}],parseElemsHtml:[I$],menus:[{key:"insertImage",factory:function(){return new H$},config:Z$},{key:"deleteImage",factory:function(){return new V$}},{key:"editImage",factory:function(){return new W$},config:Z$},{key:"viewImageLink",factory:function(){return new G$}},{key:"imageWidth30",factory:function(){return new K$}},{key:"imageWidth50",factory:function(){return new Y$}},{key:"imageWidth100",factory:function(){return new X$}}],editorPlugin:function(kh){var Ff=kh.isInline,x_=kh.isVoid;kh.insertNode;var $P=kh;return $P.isInline=function(zP){return zP.type==="image"||Ff(zP)},$P.isVoid=function(zP){return zP.type==="image"||x_(zP)},$P}},Q$={type:"todo",renderElem:function(kh,Ff,x_){var $P=!1;x_.isDisabled()&&($P=!0);var zP=Pg("div",{style:{margin:"5px 0"}},Pg("span",{contentEditable:!1,style:{marginRight:"0.5em"}},Pg("input",{type:"checkbox",checked:kh.checked,disabled:$P,on:{change:function(eme){var tme=QO.findPath(x_,kh),nme={checked:eme.target.checked};md.setNodes(x_,nme,{at:tme})}}})),Pg("span",null,Ff));return zP}},eH=function(){function kh(){this.title=HP("todo.todo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M278.755556 403.911111l-79.644445 79.644445L455.111111 739.555556l568.888889-568.888889-79.644444-79.644445L455.111111 580.266667l-176.355555-176.355556zM910.222222 910.222222H113.777778V113.777778h568.888889V0H113.777778C51.2 0 0 51.2 0 113.777778v796.444444c0 62.577778 51.2 113.777778 113.777778 113.777778h796.444444c62.577778 0 113.777778-51.2 113.777778-113.777778V455.111111h-113.777778v455.111111z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!!QO.getSelectedNodeByType(Ff,"todo")},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!QO.getSelectedElems(Ff).some(function(x_){if(Bf.isVoid(Ff,x_)&&Bf.isBlock(Ff,x_))return!0;var $P=x_.type;return!!["pre","table","list-item"].includes($P)||void 0})},kh.prototype.exec=function(Ff,x_){var $P=this.isActive(Ff);md.setNodes(Ff,{type:$P?"paragraph":"todo"})},kh}(),tH={selector:'div[data-w-e-type="todo"]',parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);(Ff=Ff.filter(function(eme){return!!ed.isText(eme)||!!x_.isInline(eme)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]);var zP=!1;return $P.find('input[type="checkbox"]').attr("checked")!=null&&(zP=!0),{type:"todo",checked:zP,children:Ff}}},nH={renderElems:[Q$],elemsToHtml:[{type:"todo",elemToHtml:function(kh,Ff){return'<div data-w-e-type="todo"><input type="checkbox" disabled '+(kh.checked?"checked":"")+">"+Ff+"</div>"}}],preParseHtml:[{selector:"ul.w-e-todo",preParseHtml:function(kh){var Ff=Mp(kh).find("li"),x_=Mp('<div data-w-e-type="todo"></div>'),$P=Ff.find("input[type]");return x_.append($P),Ff.children()[0].remove(),x_[0].innerHTML=x_[0].innerHTML+Ff[0].innerHTML,x_[0]}}],parseElemsHtml:[tH],menus:[{key:"todo",factory:function(){return new eH}}],editorPlugin:function(kh){var Ff=kh.deleteBackward,x_=kh;return x_.deleteBackward=function($P){var zP=kh.selection;if(zP&&qf.isCollapsed(zP)){var eme=QO.getSelectedNodeByType(kh,"todo");if(eme&&Nf.string(eme).length===0)return void md.setNodes(kh,{type:"paragraph"},{mode:"highest"})}Ff($P)},x_}},rH={type:"blockquote",renderElem:function(kh,Ff,x_){return Pg("blockquote",null,Ff)}},oH={selector:"blockquote:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);return(Ff=Ff.filter(function(zP){return!!ed.isText(zP)||!!x_.isInline(zP)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]),{type:"blockquote",children:Ff}}},iH=function(){function kh(){this.title=HP("blockQuote.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M894.6 907.1H605.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C752.7 180.4 711.3 315.8 711.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z m-472 0H133.4c-32.6 0-59-26.4-59-59V608.2l-4-14.9c0-315.9 125.5-485.1 376.5-507.5v59.8C280.7 180.4 239.3 315.8 239.3 442.4v41.2l31.5 12.3h151.8c32.6 0 59 26.4 59 59v293.2c0 32.5-26.4 59-59 59z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!!QO.getSelectedNodeByType(Ff,"blockquote")},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!sM(Bf.nodes(Ff,{match:function(x_){var $P=QO.getNodeType(x_);return $P==="paragraph"||$P==="blockquote"},universal:!0,mode:"highest"}),1)[0]},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=this.isActive(Ff)?"paragraph":"blockquote";md.setNodes(Ff,{type:$P},{mode:"highest"})}},kh}(),aH={key:"blockquote",factory:function(){return new iH}},uH=Bj([].slice),sH=uL("slice"),lH=DN("species"),cH=gj.Array,fH=Math.max;LI({target:"Array",proto:!0,forced:!sH},{slice:function(kh,Ff){var x_,$P,zP,eme=Rj(this),tme=vI(eme),nme=pI(kh,tme),rme=pI(Ff===void 0?tme:Ff,tme);if(MI(eme)&&(x_=eme.constructor,(QI(x_)&&(x_===cH||MI(x_.prototype))||zj(x_)&&(x_=x_[lH])===null)&&(x_=void 0),x_===cH||x_===void 0))return uH(eme,nme,rme);for($P=new(x_===void 0?cH:x_)(fH(rme-nme,0)),zP=0;nme<rme;nme++,zP++)nme in eme&&_R($P,zP,eme[nme]);return $P.length=zP,$P}});var dH={renderElems:[rH],elemsToHtml:[{type:"blockquote",elemToHtml:function(kh,Ff){return"<blockquote>"+Ff+"</blockquote>"}}],parseElemsHtml:[oH],menus:[aH],editorPlugin:function(kh){var Ff=kh.insertBreak,x_=kh.insertText,$P=kh;return $P.insertBreak=function(){var zP=$P.selection;if(zP==null)return Ff();var eme=sM(Bf.nodes(kh,{match:function(ome){return QO.checkNodeType(ome,"blockquote")},universal:!0}),1)[0];if(!eme)return Ff();var tme=eme[0],nme=QO.findPath(kh,tme),rme=Bf.end(kh,nme);if(Vf.equals(rme,zP.focus)){var ime=Nf.string(tme);if(ime&&ime.slice(-1)===`
`)return kh.deleteBackward("character"),void md.insertNodes($P,{type:"paragraph",children:[{text:""}]},{mode:"highest"})}x_(`
`)},$P}},pH=function(){function kh(){this.title=HP("emotion.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m0-102.4c226.742857 0 409.6-182.857143 409.6-409.6S738.742857 102.4 512 102.4 102.4 285.257143 102.4 512s182.857143 409.6 409.6 409.6z m-204.8-358.4h409.6c0 113.371429-91.428571 204.8-204.8 204.8s-204.8-91.428571-204.8-204.8z m0-102.4c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8 76.8 32.914286 76.8 76.8-32.914286 76.8-76.8 76.8z m409.6 0c-43.885714 0-76.8-32.914286-76.8-76.8s32.914286-76.8 76.8-76.8c43.885714 0 76.8 32.914286 76.8 76.8s-32.914286 76.8-76.8 76.8z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return kh.prototype.exec=function(Ff,x_){},kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!sM(Bf.nodes(Ff,{match:function(x_){return QO.getNodeType(x_)==="pre"||!!Bf.isVoid(Ff,x_)},universal:!0}),1)[0]},kh.prototype.getPanelContentElem=function(Ff){if(this.$content==null){var x_=Mp('<ul class="w-e-panel-content-emotion"></ul>');x_.on("click","li",function(eme){var tme=eme.target;if(tme!=null){eme.preventDefault();var nme=Mp(tme).text();Ff.insertText(nme)}}),this.$content=x_}var $P=this.$content;if($P==null)return document.createElement("ul");$P.empty();var zP=Ff.getMenuConfig("emotion").emotions;return(zP===void 0?[]:zP).forEach(function(eme){var tme=Mp("<li>"+eme+"</li>");$P.append(tme)}),$P[0]},kh}(),hH={menus:[{key:"emotion",factory:function(){return new pH},config:{emotions:"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣 👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(" ")}}]},gH={1:"12px",2:"14px",3:"16px",4:"19px",5:"24px",6:"32px",7:"48px"},vH={selector:"font",preParseHtml:function(kh){var Ff=Mp(kh);if(QR(Ff)!=="font")return kh;var x_=Ff.attr("size")||"";x_&&(Ff.removeAttr("size"),Ff.css("font-size",gH[x_]));var $P=Ff.attr("face")||"";return $P&&(Ff.removeAttr("face"),Ff.css("font-family",$P)),Ff[0]}},yH=Bj("".indexOf);LI({target:"String",proto:!0,forced:!bz("includes")},{includes:function(kh){return!!~yH(dL(Lj(this)),dL(yz(kh)),arguments.length>1?arguments[1]:void 0)}});var mH,bH,wH=function(kh){return kh&&kh.Math==Math&&kh},EH=wH(typeof globalThis=="object"&&globalThis)||wH(typeof window=="object"&&window)||wH(typeof self=="object"&&self)||wH(typeof cj=="object"&&cj)||function(){return this}()||Function("return this")(),DH=Function.prototype,SH=DH.apply,xH=DH.bind,CH=DH.call,AH=typeof Reflect=="object"&&Reflect.apply||(xH?CH.bind(SH):function(){return CH.apply(SH,arguments)}),OH=Function.prototype,kH=OH.bind,BH=OH.call,FH=kH&&kH.bind(BH),TH=kH?function(kh){return kh&&FH(BH,kh)}:function(kh){return kh&&function(){return BH.apply(kh,arguments)}},_H=function(kh){return typeof kh=="function"},PH=function(kh){try{return!!kh()}catch(Ff){return!0}},jH=!PH(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),NH=Function.prototype.call,IH=NH.bind?NH.bind(NH):function(){return NH.apply(NH,arguments)},LH={}.propertyIsEnumerable,RH=Object.getOwnPropertyDescriptor,MH=RH&&!LH.call({1:2},1)?function(kh){var Ff=RH(this,kh);return!!Ff&&Ff.enumerable}:LH,zH={f:MH},$H=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},HH=TH({}.toString),VH=TH("".slice),UH=function(kh){return VH(HH(kh),8,-1)},WH=EH.Object,GH=TH("".split),qH=PH(function(){return!WH("z").propertyIsEnumerable(0)})?function(kh){return UH(kh)=="String"?GH(kh,""):WH(kh)}:WH,KH=EH.TypeError,YH=function(kh){if(kh==null)throw KH("Can't call method on "+kh);return kh},XH=function(kh){return qH(YH(kh))},ZH=function(kh){return typeof kh=="object"?kh!==null:_H(kh)},JH={},QH=function(kh){return _H(kh)?kh:void 0},eV=function(kh,Ff){return arguments.length<2?QH(JH[kh])||QH(EH[kh]):JH[kh]&&JH[kh][Ff]||EH[kh]&&EH[kh][Ff]},tV=TH({}.isPrototypeOf),nV=eV("navigator","userAgent")||"",rV=EH.process,oV=EH.Deno,iV=rV&&rV.versions||oV&&oV.version,aV=iV&&iV.v8;aV&&(bH=(mH=aV.split("."))[0]>0&&mH[0]<4?1:+(mH[0]+mH[1])),!bH&&nV&&(!(mH=nV.match(/Edge\/(\d+)/))||mH[1]>=74)&&(mH=nV.match(/Chrome\/(\d+)/))&&(bH=+mH[1]);var uV=bH,sV=!!Object.getOwnPropertySymbols&&!PH(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&uV&&uV<41}),lV=sV&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cV=EH.Object,fV=lV?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=eV("Symbol");return _H(Ff)&&tV(Ff.prototype,cV(kh))},dV=EH.String,pV=EH.TypeError,hV=function(kh){if(_H(kh))return kh;throw pV(function(Ff){try{return dV(Ff)}catch(x_){return"Object"}}(kh)+" is not a function")},gV=EH.TypeError,vV=Object.defineProperty,yV=EH["__core-js_shared__"]||function(kh,Ff){try{vV(EH,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){EH[kh]=Ff}return Ff}("__core-js_shared__",{}),mV=fj(function(kh){(kh.exports=function(Ff,x_){return yV[Ff]||(yV[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),bV=EH.Object,wV=function(kh){return bV(YH(kh))},EV=TH({}.hasOwnProperty),DV=Object.hasOwn||function(kh,Ff){return EV(wV(kh),Ff)},SV=0,xV=Math.random(),CV=TH(1 .toString),AV=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+CV(++SV+xV,36)},OV=mV("wks"),kV=EH.Symbol,BV=kV&&kV.for,FV=lV?kV:kV&&kV.withoutSetter||AV,TV=function(kh){if(!DV(OV,kh)||!sV&&typeof OV[kh]!="string"){var Ff="Symbol."+kh;sV&&DV(kV,kh)?OV[kh]=kV[kh]:OV[kh]=lV&&BV?BV(Ff):FV(Ff)}return OV[kh]},_V=EH.TypeError,PV=TV("toPrimitive"),jV=function(kh){var Ff=function(x_,$P){if(!ZH(x_)||fV(x_))return x_;var zP,eme,tme=(zP=x_[PV])==null?void 0:hV(zP);if(tme){if($P===void 0&&($P="default"),eme=IH(tme,x_,$P),!ZH(eme)||fV(eme))return eme;throw _V("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(nme,rme){var ime,ome;if(rme==="string"&&_H(ime=nme.toString)&&!ZH(ome=IH(ime,nme))||_H(ime=nme.valueOf)&&!ZH(ome=IH(ime,nme))||rme!=="string"&&_H(ime=nme.toString)&&!ZH(ome=IH(ime,nme)))return ome;throw gV("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return fV(Ff)?Ff:Ff+""},NV=EH.document,IV=ZH(NV)&&ZH(NV.createElement),LV=function(kh){return IV?NV.createElement(kh):{}},RV=!jH&&!PH(function(){return Object.defineProperty(LV("div"),"a",{get:function(){return 7}}).a!=7}),MV=Object.getOwnPropertyDescriptor,zV={f:jH?MV:function(kh,Ff){if(kh=XH(kh),Ff=jV(Ff),RV)try{return MV(kh,Ff)}catch(x_){}if(DV(kh,Ff))return $H(!IH(zH.f,kh,Ff),kh[Ff])}},$V=/#|\.prototype\./,HV=function(kh,Ff){var x_=UV[VV(kh)];return x_==GV||x_!=WV&&(_H(Ff)?PH(Ff):!!Ff)},VV=HV.normalize=function(kh){return String(kh).replace($V,".").toLowerCase()},UV=HV.data={},WV=HV.NATIVE="N",GV=HV.POLYFILL="P",qV=HV,KV=TH(TH.bind),YV=function(kh,Ff){return hV(kh),Ff===void 0?kh:KV?KV(kh,Ff):function(){return kh.apply(Ff,arguments)}},XV=EH.String,ZV=EH.TypeError,JV=function(kh){if(ZH(kh))return kh;throw ZV(XV(kh)+" is not an object")},QV=EH.TypeError,eU=Object.defineProperty,tU={f:jH?eU:function(kh,Ff,x_){if(JV(kh),Ff=jV(Ff),JV(x_),RV)try{return eU(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw QV("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},nU=jH?function(kh,Ff,x_){return tU.f(kh,Ff,$H(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},rU=zV.f,oU=function(kh){var Ff=function(x_,$P,zP){if(this instanceof Ff){switch(arguments.length){case 0:return new kh;case 1:return new kh(x_);case 2:return new kh(x_,$P)}return new kh(x_,$P,zP)}return AH(kh,this,arguments)};return Ff.prototype=kh.prototype,Ff},iU=function(kh,Ff){var x_,$P,zP,eme,tme,nme,rme,ime,ome=kh.target,sme=kh.global,ame=kh.stat,lme=kh.proto,ume=sme?EH:ame?EH[ome]:(EH[ome]||{}).prototype,dme=sme?JH:JH[ome]||nU(JH,ome,{})[ome],pme=dme.prototype;for(zP in Ff)x_=!qV(sme?zP:ome+(ame?".":"#")+zP,kh.forced)&&ume&&DV(ume,zP),tme=dme[zP],x_&&(nme=kh.noTargetGet?(ime=rU(ume,zP))&&ime.value:ume[zP]),eme=x_&&nme?nme:Ff[zP],x_&&typeof tme==typeof eme||(rme=kh.bind&&x_?YV(eme,EH):kh.wrap&&x_?oU(eme):lme&&_H(eme)?TH(eme):eme,(kh.sham||eme&&eme.sham||tme&&tme.sham)&&nU(rme,"sham",!0),nU(dme,zP,rme),lme&&(DV(JH,$P=ome+"Prototype")||nU(JH,$P,{}),nU(JH[$P],zP,eme),kh.real&&pme&&!pme[zP]&&nU(pme,zP,eme)))},aU=Array.isArray||function(kh){return UH(kh)=="Array"},uU=Math.ceil,sU=Math.floor,lU=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?sU:uU)(Ff)},cU=Math.min,fU=function(kh){return(Ff=kh.length)>0?cU(lU(Ff),9007199254740991):0;var Ff},dU=function(kh,Ff,x_){var $P=jV(Ff);$P in kh?tU.f(kh,$P,$H(0,x_)):kh[$P]=x_},pU={};pU[TV("toStringTag")]="z";var hU=String(pU)==="[object z]",gU=TV("toStringTag"),vU=EH.Object,yU=UH(function(){return arguments}())=="Arguments",mU=hU?UH:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=vU(kh),gU))=="string"?x_:yU?UH(Ff):($P=UH(Ff))=="Object"&&_H(Ff.callee)?"Arguments":$P},bU=TH(Function.toString);_H(yV.inspectSource)||(yV.inspectSource=function(kh){return bU(kh)});var wU=yV.inspectSource,EU=function(){},DU=[],SU=eV("Reflect","construct"),xU=/^\s*(?:class|function)\b/,CU=TH(xU.exec),AU=!xU.exec(EU),OU=function(kh){if(!_H(kh))return!1;try{return SU(EU,DU,kh),!0}catch(Ff){return!1}},kU=!SU||PH(function(){var kh;return OU(OU.call)||!OU(Object)||!OU(function(){kh=!0})||kh})?function(kh){if(!_H(kh))return!1;switch(mU(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return AU||!!CU(xU,wU(kh))}:OU,BU=TV("species"),FU=EH.Array,TU=function(kh,Ff){return new(function(x_){var $P;return aU(x_)&&($P=x_.constructor,(kU($P)&&($P===FU||aU($P.prototype))||ZH($P)&&($P=$P[BU])===null)&&($P=void 0)),$P===void 0?FU:$P}(kh))(Ff===0?0:Ff)},_U=TV("species"),PU=TV("isConcatSpreadable"),jU=EH.TypeError,NU=uV>=51||!PH(function(){var kh=[];return kh[PU]=!1,kh.concat()[0]!==kh}),IU=uV>=51||!PH(function(){var kh=[];return(kh.constructor={})[_U]=function(){return{foo:1}},kh.concat(Boolean).foo!==1}),LU=function(kh){if(!ZH(kh))return!1;var Ff=kh[PU];return Ff!==void 0?!!Ff:aU(kh)};iU({target:"Array",proto:!0,forced:!NU||!IU},{concat:function(kh){var Ff,x_,$P,zP,eme,tme=wV(this),nme=TU(tme,0),rme=0;for(Ff=-1,$P=arguments.length;Ff<$P;Ff++)if(LU(eme=Ff===-1?tme:arguments[Ff])){if(rme+(zP=fU(eme))>9007199254740991)throw jU("Maximum allowed index exceeded");for(x_=0;x_<zP;x_++,rme++)x_ in eme&&dU(nme,rme,eme[x_])}else{if(rme>=9007199254740991)throw jU("Maximum allowed index exceeded");dU(nme,rme++,eme)}return nme.length=rme,nme}});var RU,MU=EH.String,zU=function(kh){if(mU(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return MU(kh)},$U=Math.max,HU=Math.min,VU=function(kh,Ff){var x_=lU(kh);return x_<0?$U(x_+Ff,0):HU(x_,Ff)},UU=function(kh){return function(Ff,x_,$P){var zP,eme=XH(Ff),tme=fU(eme),nme=VU($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},WU={includes:UU(!0),indexOf:UU(!1)},GU={},qU=WU.indexOf,KU=TH([].push),YU=function(kh,Ff){var x_,$P=XH(kh),zP=0,eme=[];for(x_ in $P)!DV(GU,x_)&&DV($P,x_)&&KU(eme,x_);for(;Ff.length>zP;)DV($P,x_=Ff[zP++])&&(~qU(eme,x_)||KU(eme,x_));return eme},XU=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ZU=Object.keys||function(kh){return YU(kh,XU)},JU=jH?Object.defineProperties:function(kh,Ff){JV(kh);for(var x_,$P=XH(Ff),zP=ZU(Ff),eme=zP.length,tme=0;eme>tme;)tU.f(kh,x_=zP[tme++],$P[x_]);return kh},QU=eV("document","documentElement"),eW=mV("keys"),tW=function(kh){return eW[kh]||(eW[kh]=AV(kh))},nW=tW("IE_PROTO"),rW=function(){},oW=function(kh){return"<script>"+kh+"<\/script>"},iW=function(kh){kh.write(oW("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},aW=function(){try{RU=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;aW=typeof document!="undefined"?document.domain&&RU?iW(RU):((Ff=LV("iframe")).style.display="none",QU.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(oW("document.F=Object")),kh.close(),kh.F):iW(RU);for(var x_=XU.length;x_--;)delete aW.prototype[XU[x_]];return aW()};GU[nW]=!0;var uW,sW,lW,cW=Object.create||function(kh,Ff){var x_;return kh!==null?(rW.prototype=JV(kh),x_=new rW,rW.prototype=null,x_[nW]=kh):x_=aW(),Ff===void 0?x_:JU(x_,Ff)},fW=XU.concat("length","prototype"),dW={f:Object.getOwnPropertyNames||function(kh){return YU(kh,fW)}},pW=EH.Array,hW=Math.max,gW=dW.f,vW=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],yW={f:function(kh){return vW&&UH(kh)=="Window"?function(Ff){try{return gW(Ff)}catch(x_){return function($P,zP,eme){for(var tme=fU($P),nme=VU(void 0,tme),rme=VU(tme,tme),ime=pW(hW(rme-nme,0)),ome=0;nme<rme;nme++,ome++)dU(ime,ome,$P[nme]);return ime.length=ome,ime}(vW)}}(kh):gW(XH(kh))}},mW={f:Object.getOwnPropertySymbols},bW=TH([].slice),wW=function(kh,Ff,x_,$P){$P&&$P.enumerable?kh[Ff]=x_:nU(kh,Ff,x_)},EW={f:TV},DW=tU.f,SW=function(kh){var Ff=JH.Symbol||(JH.Symbol={});DV(Ff,kh)||DW(Ff,kh,{value:EW.f(kh)})},xW=hU?{}.toString:function(){return"[object "+mU(this)+"]"},CW=tU.f,AW=TV("toStringTag"),OW=function(kh,Ff,x_,$P){if(kh){var zP=x_?kh:kh.prototype;DV(zP,AW)||CW(zP,AW,{configurable:!0,value:Ff}),$P&&!hU&&nU(zP,"toString",xW)}},kW=EH.WeakMap,BW=_H(kW)&&/native code/.test(wU(kW)),FW=EH.TypeError,TW=EH.WeakMap;if(BW||yV.state){var _W=yV.state||(yV.state=new TW),PW=TH(_W.get),jW=TH(_W.has),NW=TH(_W.set);uW=function(kh,Ff){if(jW(_W,kh))throw new FW("Object already initialized");return Ff.facade=kh,NW(_W,kh,Ff),Ff},sW=function(kh){return PW(_W,kh)||{}},lW=function(kh){return jW(_W,kh)}}else{var IW=tW("state");GU[IW]=!0,uW=function(kh,Ff){if(DV(kh,IW))throw new FW("Object already initialized");return Ff.facade=kh,nU(kh,IW,Ff),Ff},sW=function(kh){return DV(kh,IW)?kh[IW]:{}},lW=function(kh){return DV(kh,IW)}}var LW={set:uW,get:sW,has:lW,enforce:function(kh){return lW(kh)?sW(kh):uW(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!ZH(Ff)||(x_=sW(Ff)).type!==kh)throw FW("Incompatible receiver, "+kh+" required");return x_}}},RW=TH([].push),MW=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=wV(rme),dme=qH(ume),pme=YV(ime,ome),hme=fU(dme),cme=0,_me=sme||TU,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:RW(vme,ame)}else switch(kh){case 4:return!1;case 7:RW(vme,ame)}return eme?-1:$P||zP?zP:vme}},zW=[MW(0),MW(1),MW(2),MW(3),MW(4),MW(5),MW(6),MW(7)][0],$W=tW("hidden"),HW=TV("toPrimitive"),VW=LW.set,UW=LW.getterFor("Symbol"),WW=Object.prototype,GW=EH.Symbol,qW=GW&&GW.prototype,KW=EH.TypeError,YW=EH.QObject,XW=eV("JSON","stringify"),ZW=zV.f,JW=tU.f,QW=yW.f,eG=zH.f,tG=TH([].push),nG=mV("symbols"),rG=mV("op-symbols"),oG=mV("string-to-symbol-registry"),iG=mV("symbol-to-string-registry"),aG=mV("wks"),uG=!YW||!YW.prototype||!YW.prototype.findChild,sG=jH&&PH(function(){return cW(JW({},"a",{get:function(){return JW(this,"a",{value:7}).a}})).a!=7})?function(kh,Ff,x_){var $P=ZW(WW,Ff);$P&&delete WW[Ff],JW(kh,Ff,x_),$P&&kh!==WW&&JW(WW,Ff,$P)}:JW,lG=function(kh,Ff){var x_=nG[kh]=cW(qW);return VW(x_,{type:"Symbol",tag:kh,description:Ff}),jH||(x_.description=Ff),x_},cG=function(kh,Ff,x_){kh===WW&&cG(rG,Ff,x_),JV(kh);var $P=jV(Ff);return JV(x_),DV(nG,$P)?(x_.enumerable?(DV(kh,$W)&&kh[$W][$P]&&(kh[$W][$P]=!1),x_=cW(x_,{enumerable:$H(0,!1)})):(DV(kh,$W)||JW(kh,$W,$H(1,{})),kh[$W][$P]=!0),sG(kh,$P,x_)):JW(kh,$P,x_)},fG=function(kh,Ff){JV(kh);var x_=XH(Ff),$P=ZU(x_).concat(gG(x_));return zW($P,function(zP){jH&&!IH(dG,x_,zP)||cG(kh,zP,x_[zP])}),kh},dG=function(kh){var Ff=jV(kh),x_=IH(eG,this,Ff);return!(this===WW&&DV(nG,Ff)&&!DV(rG,Ff))&&(!(x_||!DV(this,Ff)||!DV(nG,Ff)||DV(this,$W)&&this[$W][Ff])||x_)},pG=function(kh,Ff){var x_=XH(kh),$P=jV(Ff);if(x_!==WW||!DV(nG,$P)||DV(rG,$P)){var zP=ZW(x_,$P);return!zP||!DV(nG,$P)||DV(x_,$W)&&x_[$W][$P]||(zP.enumerable=!0),zP}},hG=function(kh){var Ff=QW(XH(kh)),x_=[];return zW(Ff,function($P){DV(nG,$P)||DV(GU,$P)||tG(x_,$P)}),x_},gG=function(kh){var Ff=kh===WW,x_=QW(Ff?rG:XH(kh)),$P=[];return zW(x_,function(zP){!DV(nG,zP)||Ff&&!DV(WW,zP)||tG($P,nG[zP])}),$P};if(sV||(qW=(GW=function(){if(tV(qW,this))throw KW("Symbol is not a constructor");var kh=arguments.length&&arguments[0]!==void 0?zU(arguments[0]):void 0,Ff=AV(kh),x_=function($P){this===WW&&IH(x_,rG,$P),DV(this,$W)&&DV(this[$W],Ff)&&(this[$W][Ff]=!1),sG(this,Ff,$H(1,$P))};return jH&&uG&&sG(WW,Ff,{configurable:!0,set:x_}),lG(Ff,kh)}).prototype,wW(qW,"toString",function(){return UW(this).tag}),wW(GW,"withoutSetter",function(kh){return lG(AV(kh),kh)}),zH.f=dG,tU.f=cG,zV.f=pG,dW.f=yW.f=hG,mW.f=gG,EW.f=function(kh){return lG(TV(kh),kh)},jH&&JW(qW,"description",{configurable:!0,get:function(){return UW(this).description}})),iU({global:!0,wrap:!0,forced:!sV,sham:!sV},{Symbol:GW}),zW(ZU(aG),function(kh){SW(kh)}),iU({target:"Symbol",stat:!0,forced:!sV},{for:function(kh){var Ff=zU(kh);if(DV(oG,Ff))return oG[Ff];var x_=GW(Ff);return oG[Ff]=x_,iG[x_]=Ff,x_},keyFor:function(kh){if(!fV(kh))throw KW(kh+" is not a symbol");if(DV(iG,kh))return iG[kh]},useSetter:function(){uG=!0},useSimple:function(){uG=!1}}),iU({target:"Object",stat:!0,forced:!sV,sham:!jH},{create:function(kh,Ff){return Ff===void 0?cW(kh):fG(cW(kh),Ff)},defineProperty:cG,defineProperties:fG,getOwnPropertyDescriptor:pG}),iU({target:"Object",stat:!0,forced:!sV},{getOwnPropertyNames:hG,getOwnPropertySymbols:gG}),iU({target:"Object",stat:!0,forced:PH(function(){mW.f(1)})},{getOwnPropertySymbols:function(kh){return mW.f(wV(kh))}}),XW){var vG=!sV||PH(function(){var kh=GW();return XW([kh])!="[null]"||XW({a:kh})!="{}"||XW(Object(kh))!="{}"});iU({target:"JSON",stat:!0,forced:vG},{stringify:function(kh,Ff,x_){var $P=bW(arguments),zP=Ff;if((ZH(Ff)||kh!==void 0)&&!fV(kh))return aU(Ff)||(Ff=function(eme,tme){if(_H(zP)&&(tme=IH(zP,this,eme,tme)),!fV(tme))return tme}),$P[1]=Ff,AH(XW,null,$P)}})}if(!qW[HW]){var yG=qW.valueOf;wW(qW,HW,function(kh){return IH(yG,this)})}OW(GW,"Symbol"),GU[$W]=!0,SW("asyncIterator"),SW("hasInstance"),SW("isConcatSpreadable"),SW("iterator"),SW("match"),SW("matchAll"),SW("replace"),SW("search"),SW("species"),SW("split"),SW("toPrimitive"),SW("toStringTag"),SW("unscopables"),OW(EH.JSON,"JSON",!0);var mG,bG,wG,EG=JH.Symbol,DG={},SG=Function.prototype,xG=jH&&Object.getOwnPropertyDescriptor,CG=DV(SG,"name"),AG={EXISTS:CG,PROPER:CG&&function(){}.name==="something",CONFIGURABLE:CG&&(!jH||jH&&xG(SG,"name").configurable)},OG=!PH(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),kG=tW("IE_PROTO"),BG=EH.Object,FG=BG.prototype,TG=OG?BG.getPrototypeOf:function(kh){var Ff=wV(kh);if(DV(Ff,kG))return Ff[kG];var x_=Ff.constructor;return _H(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof BG?FG:null},_G=TV("iterator"),PG=!1;[].keys&&("next"in(wG=[].keys())?(bG=TG(TG(wG)))!==Object.prototype&&(mG=bG):PG=!0);var jG=mG==null||PH(function(){var kh={};return mG[_G].call(kh)!==kh});mG=jG?{}:cW(mG),_H(mG[_G])||wW(mG,_G,function(){return this});var NG={IteratorPrototype:mG,BUGGY_SAFARI_ITERATORS:PG},IG=NG.IteratorPrototype,LG=function(){return this};EH.String,EH.TypeError,Object.setPrototypeOf||"__proto__"in{}&&function(){var kh={};try{TH(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set)(kh,[]),kh instanceof Array}catch(Ff){}}();var RG=AG.PROPER,MG=NG.BUGGY_SAFARI_ITERATORS,zG=TV("iterator"),$G=function(){return this},HG=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=cW(IG,{next:$H(1,_me)}),OW(hme,Eme,!1,!0),DG[Eme]=LG})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!MG&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[zG]||lme["@@iterator"]||zP&&lme[zP],dme=!MG&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=TG(pme.call(new kh)))!==Object.prototype&&nme.next&&(OW(nme,sme,!0,!0),DG[sme]=$G),RG&&zP=="values"&&ume&&ume.name!=="values"&&(ame=!0,dme=function(){return IH(ume,this)}),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(MG||ame||!(ime in lme))&&wW(lme,ime,rme[ime]);else iU({target:Ff,proto:!0,forced:MG||ame},rme);return tme&&lme[zG]!==dme&&wW(lme,zG,dme,{name:zP}),DG[Ff]=dme,rme},VG=LW.set,UG=LW.getterFor("Array Iterator");HG(Array,"Array",function(kh,Ff){VG(this,{type:"Array Iterator",target:XH(kh),index:0,kind:Ff})},function(){var kh=UG(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values"),DG.Arguments=DG.Array;var WG=TV("toStringTag");for(var GG in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var qG=EH[GG],KG=qG&&qG.prototype;KG&&mU(KG)!==WG&&nU(KG,WG,GG),DG[GG]=DG.Array}var YG=EG;SW("asyncDispose"),SW("dispose"),SW("matcher"),SW("metadata"),SW("observable"),SW("patternMatch"),SW("replaceAll");var XG=YG,ZG=TH("".charAt),JG=TH("".charCodeAt),QG=TH("".slice),eq=function(kh){return function(Ff,x_){var $P,zP,eme=zU(YH(Ff)),tme=lU(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=JG(eme,tme))<55296||$P>56319||tme+1===nme||(zP=JG(eme,tme+1))<56320||zP>57343?kh?ZG(eme,tme):$P:kh?QG(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},tq=eq(!0),nq=LW.set,rq=LW.getterFor("String Iterator");HG(String,"String",function(kh){nq(this,{type:"String Iterator",string:zU(kh),index:0})},function(){var kh,Ff=rq(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=tq(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var oq=EW.f("iterator"),iq=fj(function(kh){function Ff(x_){return typeof XG=="function"&&typeof oq=="symbol"?(kh.exports=Ff=function($P){return typeof $P},kh.exports.default=kh.exports,kh.exports.__esModule=!0):(kh.exports=Ff=function($P){return $P&&typeof XG=="function"&&$P.constructor===XG&&$P!==XG.prototype?"symbol":typeof $P},kh.exports.default=kh.exports,kh.exports.__esModule=!0),Ff(x_)}kh.exports=Ff,kh.exports.default=kh.exports,kh.exports.__esModule=!0}),aq=function(kh){return kh&&kh.__esModule&&Object.prototype.hasOwnProperty.call(kh,"default")?kh.default:kh}(iq),uq=aI.EXISTS,sq=LN.f,lq=Function.prototype,cq=Bj(lq.toString),fq=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,dq=Bj(fq.exec);yj&&!uq&&sq(lq,"name",{configurable:!0,get:function(){try{return dq(fq,cq(this))[1]}catch(kh){return""}}});var pq=function(){function kh(){this.tag="select",this.width=80}return kh.prototype.isActive=function(Ff){return!1},kh.prototype.getValue=function(Ff){var x_=this.mark,$P=Bf.marks(Ff);return $P&&$P[x_]?$P[x_]:""},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||(this.mark,!!sM(Bf.nodes(Ff,{match:function(x_){return QO.getNodeType(x_)==="pre"||!!Bf.isVoid(Ff,x_)},universal:!0}),1)[0])},kh.prototype.exec=function(Ff,x_){var $P=this.mark;x_?Ff.addMark($P,x_):Ff.removeMark($P)},kh}(),hq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("fontSize.title"),x_.iconSvg=RM,x_.mark="fontSize",x_}return rM(Ff,kh),Ff.prototype.getOptions=function(x_){var $P=[],zP=x_.getMenuConfig(this.mark).fontSizeList,eme=zP===void 0?[]:zP;$P.push({text:HP("fontSize.default"),value:""}),eme.forEach(function(nme){if(typeof nme=="string")$P.push({text:nme,value:nme});else if(aq(nme)==="object"){var rme=nme.name,ime=nme.value;$P.push({text:rme,value:ime})}});var tme=this.getValue(x_);return $P.forEach(function(nme){nme.value===tme?nme.selected=!0:delete nme.selected}),$P},Ff}(pq),gq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("fontFamily.title"),x_.iconSvg=MM,x_.mark="fontFamily",x_.selectPanelWidth=150,x_}return rM(Ff,kh),Ff.prototype.getOptions=function(x_){var $P=[],zP=x_.getMenuConfig(this.mark).fontFamilyList,eme=zP===void 0?[]:zP;$P.push({text:HP("fontFamily.default"),value:""}),eme.forEach(function(nme){if(typeof nme=="string")$P.push({text:nme,value:nme,styleForRenderMenuList:{"font-family":nme}});else if(aq(nme)==="object"){var rme=nme.name,ime=nme.value;$P.push({text:rme,value:ime,styleForRenderMenuList:{"font-family":ime}})}});var tme=this.getValue(x_);return $P.forEach(function(nme){nme.value===tme?nme.selected=!0:delete nme.selected}),$P},Ff}(pq),vq={renderStyle:function(kh,Ff){var x_=kh,$P=x_.fontSize,zP=x_.fontFamily,eme=Ff;return $P&&Kz(eme,{fontSize:$P}),zP&&Kz(eme,{fontFamily:zP}),eme},styleToHtml:function(kh,Ff){if(!ed.isText(kh))return Ff;var x_,$P=kh,zP=$P.fontSize,eme=$P.fontFamily;return zP||eme?((ZR(Ff)||QR(x_=Mp(Ff))!=="span")&&(x_=Mp("<span>"+Ff+"</span>")),zP&&x_.css("font-size",zP),eme&&x_.css("font-family",eme),JR(x_)):Ff},preParseHtml:[vH],parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!ed.isText(Ff))return Ff;var zP=Ff,eme=x_.getMenuConfig("fontSize").fontSizeList,tme=eme===void 0?[]:eme,nme=eM($P,"font-size"),rme=tme.find(function(lme){return lme.value&&lme.value===nme})||tme.includes(nme);nme&&rme&&(zP.fontSize=nme);var ime=x_.getMenuConfig("fontFamily").fontFamilyList,ome=ime===void 0?[]:ime,sme=eM($P,"font-family").replace(/"/g,""),ame=ome.find(function(lme){return lme.value&&lme.value===sme})||ome.includes(sme);return sme&&ame&&(zP.fontFamily=sme),zP},menus:[{key:"fontSize",factory:function(){return new hq},config:{fontSizeList:["12px",{name:"13px",value:"13px"},"14px","15px","16px","19px",{name:"22px",value:"22px"},"24px","29px","32px","40px","48px"]}},{key:"fontFamily",factory:function(){return new gq},config:{fontFamilyList:["黑体",{name:"仿宋",value:"仿宋"},"楷体","标楷体","华文仿宋","华文楷体",{name:"宋体",value:"宋体"},"微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}}]},yq={selector:"p,h1,h2,h3,h4,h5",preParseHtml:function(kh){var Ff=Mp(kh),x_=eM(Ff,"padding-left");return/\dem/.test(x_)&&Ff.css("text-indent","2em"),/\dpx/.test(x_)&&parseInt(x_,10)%32==0&&Ff.css("text-indent","2em"),Ff[0]}},mq=function(){function kh(){this.tag="button"}return kh.prototype.getValue=function(Ff){var x_=sM(Bf.nodes(Ff,{match:function(zP){return!!zP.indent},universal:!0}),1),$P=x_[0];return $P==null?"":sM($P,1)[0].indent||""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getMatchNode=function(Ff){var x_=sM(Bf.nodes(Ff,{match:function($P){var zP=QO.getNodeType($P);return zP==="paragraph"||!!zP.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return x_==null?null:x_[0]},kh}(),bq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("indent.decrease"),x_.iconSvg=zM,x_}return rM(Ff,kh),Ff.prototype.isDisabled=function(x_){var $P=this.getMatchNode(x_);return $P==null||!$P.indent},Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{indent:null},{match:function(zP){return Sf.isElement(zP)}})},Ff}(mq),wq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("indent.increase"),x_.iconSvg=$M,x_}return rM(Ff,kh),Ff.prototype.isDisabled=function(x_){var $P=this.getMatchNode(x_);return $P==null||!!$P.indent},Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{indent:"2em"},{match:function(zP){return Sf.isElement(zP)},mode:"highest"})},Ff}(mq),Eq={renderStyle:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.indent,$P=Ff;return x_&&Kz($P,{textIndent:x_}),$P},styleToHtml:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.indent;if(!x_)return Ff;var $P=Mp(Ff);return $P.css("text-indent",x_),JR($P)},preParseHtml:[yq],parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!Sf.isElement(Ff))return Ff;var zP=Ff,eme=eM($P,"text-indent"),tme=parseInt(eme,10);return eme&&tme>0&&(zP.indent=eme),zP},menus:[{key:"indent",factory:function(){return new wq}},{key:"delIndent",factory:function(){return new bq}}]},Dq=function(){function kh(){this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getMatchNode=function(Ff){var x_=sM(Bf.nodes(Ff,{match:function($P){var zP=QO.getNodeType($P);return zP==="paragraph"||zP==="blockquote"||!!zP.startsWith("header")},universal:!0,mode:"highest"}),1)[0];return x_==null?null:x_[0]},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!QO.getSelectedElems(Ff).some(function(x_){if(Bf.isVoid(Ff,x_)&&Bf.isBlock(Ff,x_))return!0;var $P=x_.type;return!!["pre","code"].includes($P)||void 0})},kh}(),Sq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("justify.left"),x_.iconSvg=HM,x_}return rM(Ff,kh),Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{textAlign:"left"},{match:function(zP){return Sf.isElement(zP)&&!x_.isInline(zP)}})},Ff}(Dq),xq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("justify.right"),x_.iconSvg=VM,x_}return rM(Ff,kh),Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{textAlign:"right"},{match:function(zP){return Sf.isElement(zP)&&!x_.isInline(zP)}})},Ff}(Dq),Cq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("justify.center"),x_.iconSvg=UM,x_}return rM(Ff,kh),Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{textAlign:"center"},{match:function(zP){return Sf.isElement(zP)&&!x_.isInline(zP)}})},Ff}(Dq),Aq=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.title=HP("justify.justify"),x_.iconSvg=WM,x_}return rM(Ff,kh),Ff.prototype.exec=function(x_,$P){md.setNodes(x_,{textAlign:"justify"},{match:function(zP){return Sf.isElement(zP)&&!x_.isInline(zP)}})},Ff}(Dq),Oq={renderStyle:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.textAlign,$P=Ff;return x_&&Kz($P,{textAlign:x_}),$P},styleToHtml:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.textAlign;if(!x_)return Ff;var $P=Mp(Ff);return $P.css("text-align",x_),JR($P)},parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!Sf.isElement(Ff))return Ff;var zP=Ff,eme=eM($P,"text-align");return eme&&(zP.textAlign=eme),zP},menus:[{key:"justifyLeft",factory:function(){return new Sq}},{key:"justifyRight",factory:function(){return new xq}},{key:"justifyCenter",factory:function(){return new Cq}},{key:"justifyJustify",factory:function(){return new Aq}}]},kq=function(){function kh(){this.title=HP("lineHeight.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M964 788a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526zM198.93 144.306c6.668-5.798 16.774-5.094 22.573 1.574l122.26 140.582a16 16 0 0 1 3.927 10.5c0 8.836-7.164 16-16 16h-61.8a8 8 0 0 0-8 8v390.077h69.819a16 16 0 0 1 10.502 3.928c6.666 5.8 7.37 15.906 1.57 22.573L221.476 878.123a16 16 0 0 1-1.57 1.57c-6.668 5.8-16.774 5.097-22.574-1.57L75.051 737.538a16 16 0 0 1-3.928-10.5c0-8.837 7.163-16 16-16h69.822V312.96H87.127a16 16 0 0 1-10.502-3.928c-6.666-5.8-7.37-15.906-1.57-22.573l122.303-140.582a16 16 0 0 1 1.572-1.572zM964 465a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z m0-323a8 8 0 0 1 8 8v98a8 8 0 0 1-8 8H438a8 8 0 0 1-8-8v-98a8 8 0 0 1 8-8h526z"></path></svg>',this.tag="select",this.width=80}return kh.prototype.getOptions=function(Ff){var x_=[],$P=Ff.getMenuConfig("lineHeight").lineHeightList,zP=$P===void 0?[]:$P;x_.push({text:HP("lineHeight.default"),value:""}),zP.forEach(function(tme){x_.push({text:tme,value:tme})});var eme=this.getValue(Ff);return x_.forEach(function(tme){tme.value===eme?tme.selected=!0:delete tme.selected}),x_},kh.prototype.getMatchNode=function(Ff){var x_=sM(Bf.nodes(Ff,{match:function($P){var zP=QO.getNodeType($P);return!!zP.startsWith("header")||!!["paragraph","blockquote","list-item"].includes(zP)},universal:!0,mode:"highest"}),1)[0];return x_==null?null:x_[0]},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getValue=function(Ff){var x_=this.getMatchNode(Ff);return x_==null?"":Sf.isElement(x_)&&x_.lineHeight||""},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||this.getMatchNode(Ff)==null},kh.prototype.exec=function(Ff,x_){md.setNodes(Ff,{lineHeight:x_.toString()},{mode:"highest"})},kh}(),Bq={renderStyle:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.lineHeight,$P=Ff;return x_&&Kz($P,{lineHeight:x_}),$P},styleToHtml:function(kh,Ff){if(!Sf.isElement(kh))return Ff;var x_=kh.lineHeight;if(!x_)return Ff;var $P=Mp(Ff);return $P.css("line-height",x_),JR($P)},parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!Sf.isElement(Ff))return Ff;var zP=Ff,eme=x_.getMenuConfig("lineHeight").lineHeightList,tme=eme===void 0?[]:eme,nme=eM($P,"line-height");return nme&&tme.includes(nme)&&(zP.lineHeight=nme),zP},menus:[{key:"lineHeight",factory:function(){return new kq},config:{lineHeightList:["1","1.15","1.5","2","2.5","3"]}}]},Fq=function(){function kh(){this.title=HP("undo.redo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0.00032 576a510.72 510.72 0 0 0 173.344 384l84.672-96A383.136 383.136 0 0 1 128.00032 576C128.00032 363.936 299.93632 192 512.00032 192c106.048 0 202.048 42.976 271.52 112.48L640.00032 448h384V64l-149.984 149.984A510.272 510.272 0 0 0 512.00032 64C229.21632 64 0.00032 293.216 0.00032 576z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null},kh.prototype.exec=function(Ff,x_){typeof Ff.redo=="function"&&Ff.redo()},kh}(),Tq=function(){function kh(){this.title=HP("undo.undo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M512 64A510.272 510.272 0 0 0 149.984 213.984L0.032 64v384h384L240.512 304.48A382.784 382.784 0 0 1 512.032 192c212.064 0 384 171.936 384 384 0 114.688-50.304 217.632-130.016 288l84.672 96a510.72 510.72 0 0 0 173.344-384c0-282.784-229.216-512-512-512z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null},kh.prototype.exec=function(Ff,x_){typeof Ff.undo=="function"&&Ff.undo()},kh}(),_q={menus:[{key:"redo",factory:function(){return new Fq}},{key:"undo",factory:function(){return new Tq}}]},Pq={type:"divider",renderElem:function(kh,Ff,x_){return pg("div",{props:{contentEditable:!1,className:"w-e-textarea-divider"},dataset:{selected:QO.isNodeSelected(x_,kh)?"true":""},style:{},on:{mousedown:function($P){return $P.preventDefault()}}},[pg("hr")])}},jq=function(){function kh(){this.title=HP("divider.title"),this.iconSvg='<svg viewBox="0 0 1092 1024"><path d="M0 51.2m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M819.2 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M409.6 460.8m51.2 0l170.666667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-170.666667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path><path d="M0 870.4m51.2 0l989.866667 0q51.2 0 51.2 51.2l0 0q0 51.2-51.2 51.2l-989.866667 0q-51.2 0-51.2-51.2l0 0q0-51.2 51.2-51.2Z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!QO.getSelectedElems(Ff).some(function(x_){if(Ff.isVoid(x_))return!0;var $P=QO.getNodeType(x_);return $P==="table"||$P==="pre"||void 0})},kh.prototype.exec=function(Ff,x_){md.insertNodes(Ff,{type:"divider",children:[{text:""}]},{mode:"highest"})},kh}(),Nq={renderElems:[Pq],elemsToHtml:[{type:"divider",elemToHtml:function(kh,Ff){return"<hr/>"}}],parseElemsHtml:[{selector:"hr:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){return{type:"divider",children:[{text:""}]}}}],menus:[{key:"divider",factory:function(){return new jq}}],editorPlugin:function(kh){var Ff=kh.isVoid,x_=kh.normalizeNode,$P=kh;return $P.isVoid=function(zP){return zP.type==="divider"||Ff(zP)},$P.normalizeNode=function(zP){var eme=sM(zP,2),tme=eme[0],nme=eme[1];if(QO.getNodeType(tme)!=="divider")return x_([tme,nme]);QO.isLastNode($P,tme)&&md.insertNodes($P,QO.genEmptyParagraph(),{at:[nme[0]+1]})},$P}},Iq=iL.map;LI({target:"Array",proto:!0,forced:!uL("map")},{map:function(kh){return Iq(this,kh,arguments.length>1?arguments[1]:void 0)}});var Lq=Bj([].join),Rq=Nj!=Object,Mq=EM("join",",");LI({target:"Array",proto:!0,forced:Rq||!Mq},{join:function(kh){return Lq(Rj(this),kh===void 0?",":kh)}});var zq=function(){function kh(){this.title=HP("codeBlock.title"),this.iconSvg='<svg viewBox="0 0 1280 1024"><path d="M832 736l96 96 320-320L928 192l-96 96 224 224zM448 288l-96-96L32 512l320 320 96-96-224-224zM701.312 150.528l69.472 18.944-192 704.032-69.472-18.944 192-704.032z"></path></svg>',this.tag="button"}return kh.prototype.getSelectCodeElem=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"code");if(x_==null)return null;var $P=QO.getParentNode(Ff,x_);return $P==null||QO.getNodeType($P)!=="pre"?null:x_},kh.prototype.getValue=function(Ff){var x_=this.getSelectCodeElem(Ff);return x_==null?"":x_.language||""},kh.prototype.isActive=function(Ff){return!!this.getSelectCodeElem(Ff)},kh.prototype.isDisabled=function(Ff){if(Ff.selection==null)return!0;var x_=QO.getSelectedElems(Ff);return!!x_.some(function($P){return Ff.isVoid($P)})||!x_.some(function($P){var zP=QO.getNodeType($P);if(zP==="pre"||zP==="paragraph")return!0})},kh.prototype.exec=function(Ff,x_){this.isActive(Ff)?this.changeToPlainText(Ff):this.changeToCodeBlock(Ff,x_.toString())},kh.prototype.changeToPlainText=function(Ff){var x_=this.getSelectCodeElem(Ff);if(x_!=null){var $P=Nf.string(x_);md.removeNodes(Ff,{mode:"highest"});var zP=$P.split(`
`).map(function(eme){return{type:"paragraph",children:[{text:eme}]}});md.insertNodes(Ff,zP,{mode:"highest"})}},kh.prototype.changeToCodeBlock=function(Ff,x_){var $P,zP,eme=[],tme=Bf.nodes(Ff,{match:function(sme){return Ff.children.includes(sme)},universal:!0});try{for(var nme=uM(tme),rme=nme.next();!rme.done;rme=nme.next()){var ime=sM(rme.value,1)[0];ime&&eme.push(Nf.string(ime))}}catch(sme){$P={error:sme}}finally{try{rme&&!rme.done&&(zP=nme.return)&&zP.call(nme)}finally{if($P)throw $P.error}}md.removeNodes(Ff,{mode:"highest"});var ome={type:"pre",children:[{type:"code",language:x_,children:[{text:eme.join(`
`)}]}]};md.insertNodes(Ff,ome,{mode:"highest"})},kh}(),$q={key:"codeBlock",factory:function(){return new zq}};LI({target:"String",proto:!0,forced:hM("anchor")},{anchor:function(kh){return pM(this,"a","name",kh)}}),JL("match",function(kh,Ff,x_){return[function($P){var zP=Lj(this),eme=$P==null?void 0:oN($P,kh);return eme?bj(eme,$P,zP):new RegExp($P)[kh](dL(zP))},function($P){var zP=jN(this),eme=dL($P),tme=x_(Ff,zP,eme);if(tme.done)return tme.value;if(!zP.global)return pR(zP,eme);var nme=zP.unicode;zP.lastIndex=0;for(var rme,ime=[],ome=0;(rme=pR(zP,eme))!==null;){var sme=dL(rme[0]);ime[ome]=sme,sme===""&&(zP.lastIndex=oR(eme,gI(zP.lastIndex),nme)),ome++}return ome===0?null:ime}]});var Hq={type:"pre",renderElem:function(kh,Ff,x_){return Pg("pre",null,Ff)}},Vq={type:"code",renderElem:function(kh,Ff,x_){return Pg("code",null,Ff)}},Uq={selector:"pre:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);return(Ff=Ff.filter(function(zP){return QO.getNodeType(zP)==="code"})).length===0&&(Ff=[{type:"code",language:"",children:[{text:$P[0].textContent||""}]}]),{type:"pre",children:Ff.filter(function(zP){return QO.getNodeType(zP)==="code"})}}},Wq={menus:[$q],editorPlugin:function(kh){var Ff=kh.insertBreak,x_=kh.normalizeNode,$P=kh.insertData;kh.insertNode;var zP=kh;return zP.insertBreak=function(){var eme=QO.getSelectedNodeByType(zP,"code");if(eme!=null){var tme=function(ime,ome){var sme=ome.selection;if(sme==null)return"";var ame=Nf.string(ime),lme=sme.anchor.offset,ume=ame.slice(0,lme).split(`
`),dme=ume.length;return dme===0?"":ume[dme-1]}(eme,zP);if(tme){var nme=tme.match(/^\s+/);if(nme!=null&&nme[0]!=null){var rme=nme[0];return void zP.insertText(`
`+rme)}}zP.insertText(`
`)}else Ff()},zP.normalizeNode=function(eme){var tme=sM(eme,2),nme=tme[0],rme=tme[1],ime=QO.getNodeType(nme);return ime==="code"&&rme.length<=1&&md.setNodes(zP,{type:"paragraph"},{at:rme}),ime==="pre"&&(QO.isLastNode(zP,nme)&&md.insertNodes(zP,QO.genEmptyParagraph(),{at:[rme[0]+1]}),QO.getNodeType(nme.children[0])!=="code"&&(md.unwrapNodes(zP),md.setNodes(zP,{type:"paragraph"},{mode:"highest"}))),x_([nme,rme])},zP.insertData=function(eme){if(QO.getSelectedNodeByType(zP,"code")!=null){var tme=eme.getData("text/plain");Bf.insertText(zP,tme)}else $P(eme)},zP},renderElems:[Hq,Vq],elemsToHtml:[{type:"code",elemToHtml:function(kh,Ff){return"<code>"+Ff+"</code>"}},{type:"pre",elemToHtml:function(kh,Ff){return"<pre>"+Ff+"</pre>"}}],preParseHtml:[{selector:"pre>code",preParseHtml:function(kh){var Ff=Mp(kh);if(QR(Ff)!=="code")return kh;var x_=Ff.find("xmp");if(x_.length===0)return kh;var $P=x_.text();return x_.remove(),Ff.text($P),Ff[0]}}],parseElemsHtml:[{selector:"pre:not([data-w-e-type])>code",parseElemHtml:function(kh,Ff,x_){return{type:"code",language:"",children:[{text:Mp(kh)[0].textContent||""}]}}},Uq]},Gq=function(){function kh(){this.title=HP("fullScreen.title"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M133.705143 335.433143V133.851429h201.581714a29.622857 29.622857 0 0 0 29.622857-29.549715V68.754286a29.622857 29.622857 0 0 0-29.622857-29.622857H61.732571A22.893714 22.893714 0 0 0 38.765714 62.025143V335.725714c0 16.310857 13.238857 29.622857 29.622857 29.622857h35.547429a29.842286 29.842286 0 0 0 29.696-29.842285zM690.980571 133.851429h201.581715v201.654857c0 16.310857 13.238857 29.549714 29.622857 29.549714h35.547428a29.622857 29.622857 0 0 0 29.549715-29.549714V61.952a22.893714 22.893714 0 0 0-22.820572-22.893714h-273.554285a29.622857 29.622857 0 0 0-29.549715 29.622857v35.547428c0 16.310857 13.238857 29.696 29.622857 29.696zM335.286857 892.781714H133.705143V691.2a29.622857 29.622857 0 0 0-29.622857-29.622857H68.534857a29.622857 29.622857 0 0 0-29.549714 29.622857v273.554286c0 12.653714 10.24 22.893714 22.820571 22.893714h273.554286a29.622857 29.622857 0 0 0 29.696-29.622857v-35.547429a29.769143 29.769143 0 0 0-29.769143-29.696z m557.348572-201.581714v201.581714H690.907429a29.622857 29.622857 0 0 0-29.622858 29.622857v35.547429c0 16.310857 13.238857 29.622857 29.622858 29.622857h273.554285c12.580571 0 22.893714-10.313143 22.893715-22.893714V691.2a29.622857 29.622857 0 0 0-29.622858-29.622857h-35.547428a29.622857 29.622857 0 0 0-29.696 29.622857z"></path></svg>',this.tag="button",this.alwaysEnable=!0}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return Ff.isFullScreen},kh.prototype.isDisabled=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){Ff.isFullScreen?Ff.unFullScreen():Ff.fullScreen()},kh}(),qq={menus:[{key:"fullScreen",factory:function(){return new Gq}}]},Kq=function(){function kh(){this.title=HP("common.enter"),this.iconSvg='<svg viewBox="0 0 1255 1024"><path d="M1095.111111 731.477333h-625.777778V1024L0 658.318222 469.333333 292.408889v292.636444h625.777778V0h156.444445v731.477333z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!!qf.isExpanded(x_)},kh.prototype.exec=function(Ff,x_){var $P=Ff.selection;if($P!=null){var zP=[$P.anchor.path[0]];md.insertNodes(Ff,{type:"paragraph",children:[{text:""}]},{at:zP}),Ff.select(Bf.start(Ff,zP))}},kh}(),Yq=[nz,e$,vq,Eq,Oq,Bq,J$,Nq,hH,E$,Wq,dH,Vz,cM,nH,_q,qq,{menus:[{key:"enter",factory:function(){return new Kq}}]}];MP("en",{listModule:{unOrderedList:"Unordered list",orderedList:"Ordered list"}}),MP("zh-CN",{listModule:{unOrderedList:"无序列表",orderedList:"有序列表"}});var Xq=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Zq(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var Jq,Qq,eK=function(kh){return kh&&kh.Math==Math&&kh},tK=eK(typeof globalThis=="object"&&globalThis)||eK(typeof window=="object"&&window)||eK(typeof self=="object"&&self)||eK(typeof Xq=="object"&&Xq)||function(){return this}()||Function("return this")(),nK=Function.prototype,rK=nK.bind,oK=nK.call,iK=rK&&rK.bind(oK),aK=rK?function(kh){return kh&&iK(oK,kh)}:function(kh){return kh&&function(){return oK.apply(kh,arguments)}},uK=function(kh){try{return!!kh()}catch(Ff){return!0}},sK=aK({}.toString),lK=aK("".slice),cK=function(kh){return lK(sK(kh),8,-1)},fK=tK.Object,dK=aK("".split),pK=uK(function(){return!fK("z").propertyIsEnumerable(0)})?function(kh){return cK(kh)=="String"?dK(kh,""):fK(kh)}:fK,hK=tK.TypeError,gK=function(kh){if(kh==null)throw hK("Can't call method on "+kh);return kh},vK=function(kh){return pK(gK(kh))},yK=Object.defineProperty,mK=function(kh,Ff){try{yK(tK,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){tK[kh]=Ff}return Ff},bK=tK["__core-js_shared__"]||mK("__core-js_shared__",{}),wK=Zq(function(kh){(kh.exports=function(Ff,x_){return bK[Ff]||(bK[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),EK=tK.Object,DK=function(kh){return EK(gK(kh))},SK=aK({}.hasOwnProperty),xK=Object.hasOwn||function(kh,Ff){return SK(DK(kh),Ff)},CK=0,AK=Math.random(),OK=aK(1 .toString),kK=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+OK(++CK+AK,36)},BK=function(kh){return typeof kh=="function"},FK=function(kh){return BK(kh)?kh:void 0},TK=function(kh,Ff){return arguments.length<2?FK(tK[kh]):tK[kh]&&tK[kh][Ff]},_K=TK("navigator","userAgent")||"",PK=tK.process,jK=tK.Deno,NK=PK&&PK.versions||jK&&jK.version,IK=NK&&NK.v8;IK&&(Qq=(Jq=IK.split("."))[0]>0&&Jq[0]<4?1:+(Jq[0]+Jq[1])),!Qq&&_K&&(!(Jq=_K.match(/Edge\/(\d+)/))||Jq[1]>=74)&&(Jq=_K.match(/Chrome\/(\d+)/))&&(Qq=+Jq[1]);var LK,RK=Qq,MK=!!Object.getOwnPropertySymbols&&!uK(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&RK&&RK<41}),zK=MK&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$K=wK("wks"),HK=tK.Symbol,VK=HK&&HK.for,UK=zK?HK:HK&&HK.withoutSetter||kK,WK=function(kh){if(!xK($K,kh)||!MK&&typeof $K[kh]!="string"){var Ff="Symbol."+kh;MK&&xK(HK,kh)?$K[kh]=HK[kh]:$K[kh]=zK&&VK?VK(Ff):UK(Ff)}return $K[kh]},GK=function(kh){return typeof kh=="object"?kh!==null:BK(kh)},qK=tK.String,KK=tK.TypeError,YK=function(kh){if(GK(kh))return kh;throw KK(qK(kh)+" is not an object")},XK=!uK(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),ZK=tK.document,JK=GK(ZK)&&GK(ZK.createElement),QK=function(kh){return JK?ZK.createElement(kh):{}},eY=!XK&&!uK(function(){return Object.defineProperty(QK("div"),"a",{get:function(){return 7}}).a!=7}),tY=Function.prototype.call,nY=tY.bind?tY.bind(tY):function(){return tY.apply(tY,arguments)},rY=aK({}.isPrototypeOf),oY=tK.Object,iY=zK?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=TK("Symbol");return BK(Ff)&&rY(Ff.prototype,oY(kh))},aY=tK.String,uY=function(kh){try{return aY(kh)}catch(Ff){return"Object"}},sY=tK.TypeError,lY=function(kh){if(BK(kh))return kh;throw sY(uY(kh)+" is not a function")},cY=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:lY(x_)},fY=tK.TypeError,dY=tK.TypeError,pY=WK("toPrimitive"),hY=function(kh){var Ff=function(x_,$P){if(!GK(x_)||iY(x_))return x_;var zP,eme=cY(x_,pY);if(eme){if($P===void 0&&($P="default"),zP=nY(eme,x_,$P),!GK(zP)||iY(zP))return zP;throw dY("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&BK(rme=tme.toString)&&!GK(ime=nY(rme,tme))||BK(rme=tme.valueOf)&&!GK(ime=nY(rme,tme))||nme!=="string"&&BK(rme=tme.toString)&&!GK(ime=nY(rme,tme)))return ime;throw fY("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return iY(Ff)?Ff:Ff+""},gY=tK.TypeError,vY=Object.defineProperty,yY={f:XK?vY:function(kh,Ff,x_){if(YK(kh),Ff=hY(Ff),YK(x_),eY)try{return vY(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw gY("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},mY=Math.ceil,bY=Math.floor,wY=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?bY:mY)(Ff)},EY=Math.max,DY=Math.min,SY=function(kh,Ff){var x_=wY(kh);return x_<0?EY(x_+Ff,0):DY(x_,Ff)},xY=Math.min,CY=function(kh){return kh>0?xY(wY(kh),9007199254740991):0},AY=function(kh){return CY(kh.length)},OY=function(kh){return function(Ff,x_,$P){var zP,eme=vK(Ff),tme=AY(eme),nme=SY($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},kY={includes:OY(!0),indexOf:OY(!1)},BY={},FY=kY.indexOf,TY=aK([].push),_Y=function(kh,Ff){var x_,$P=vK(kh),zP=0,eme=[];for(x_ in $P)!xK(BY,x_)&&xK($P,x_)&&TY(eme,x_);for(;Ff.length>zP;)xK($P,x_=Ff[zP++])&&(~FY(eme,x_)||TY(eme,x_));return eme},PY=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jY=Object.keys||function(kh){return _Y(kh,PY)},NY=XK?Object.defineProperties:function(kh,Ff){YK(kh);for(var x_,$P=vK(Ff),zP=jY(Ff),eme=zP.length,tme=0;eme>tme;)yY.f(kh,x_=zP[tme++],$P[x_]);return kh},IY=TK("document","documentElement"),LY=wK("keys"),RY=function(kh){return LY[kh]||(LY[kh]=kK(kh))},MY=RY("IE_PROTO"),zY=function(){},$Y=function(kh){return"<script>"+kh+"<\/script>"},HY=function(kh){kh.write($Y("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},VY=function(){try{LK=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;VY=typeof document!="undefined"?document.domain&&LK?HY(LK):((Ff=QK("iframe")).style.display="none",IY.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write($Y("document.F=Object")),kh.close(),kh.F):HY(LK);for(var x_=PY.length;x_--;)delete VY.prototype[PY[x_]];return VY()};BY[MY]=!0;var UY=Object.create||function(kh,Ff){var x_;return kh!==null?(zY.prototype=YK(kh),x_=new zY,zY.prototype=null,x_[MY]=kh):x_=VY(),Ff===void 0?x_:NY(x_,Ff)},WY=WK("unscopables"),GY=Array.prototype;GY[WY]==null&&yY.f(GY,WY,{configurable:!0,value:UY(null)});var qY=function(kh){GY[WY][kh]=!0},KY={},YY=aK(Function.toString);BK(bK.inspectSource)||(bK.inspectSource=function(kh){return YY(kh)});var XY,ZY,JY,QY=bK.inspectSource,eX=tK.WeakMap,tX=BK(eX)&&/native code/.test(QY(eX)),nX=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},rX=XK?function(kh,Ff,x_){return yY.f(kh,Ff,nX(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},oX=tK.TypeError,iX=tK.WeakMap;if(tX||bK.state){var aX=bK.state||(bK.state=new iX),uX=aK(aX.get),sX=aK(aX.has),lX=aK(aX.set);XY=function(kh,Ff){if(sX(aX,kh))throw new oX("Object already initialized");return Ff.facade=kh,lX(aX,kh,Ff),Ff},ZY=function(kh){return uX(aX,kh)||{}},JY=function(kh){return sX(aX,kh)}}else{var cX=RY("state");BY[cX]=!0,XY=function(kh,Ff){if(xK(kh,cX))throw new oX("Object already initialized");return Ff.facade=kh,rX(kh,cX,Ff),Ff},ZY=function(kh){return xK(kh,cX)?kh[cX]:{}},JY=function(kh){return xK(kh,cX)}}var fX,dX,pX,hX={set:XY,get:ZY,has:JY,enforce:function(kh){return JY(kh)?ZY(kh):XY(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!GK(Ff)||(x_=ZY(Ff)).type!==kh)throw oX("Incompatible receiver, "+kh+" required");return x_}}},gX={}.propertyIsEnumerable,vX=Object.getOwnPropertyDescriptor,yX={f:vX&&!gX.call({1:2},1)?function(kh){var Ff=vX(this,kh);return!!Ff&&Ff.enumerable}:gX},mX=Object.getOwnPropertyDescriptor,bX={f:XK?mX:function(kh,Ff){if(kh=vK(kh),Ff=hY(Ff),eY)try{return mX(kh,Ff)}catch(x_){}if(xK(kh,Ff))return nX(!nY(yX.f,kh,Ff),kh[Ff])}},wX=Function.prototype,EX=XK&&Object.getOwnPropertyDescriptor,DX=xK(wX,"name"),SX={EXISTS:DX,PROPER:DX&&function(){}.name==="something",CONFIGURABLE:DX&&(!XK||XK&&EX(wX,"name").configurable)},xX=Zq(function(kh){var Ff=SX.CONFIGURABLE,x_=hX.get,$P=hX.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;BK(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!xK(nme,"name")||Ff&&nme.name!==lme)&&rX(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==tK?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:rX(eme,tme,nme)):sme?eme[tme]=nme:mK(tme,nme)})(Function.prototype,"toString",function(){return BK(this)&&x_(this).source||QY(this)})}),CX=PY.concat("length","prototype"),AX={f:Object.getOwnPropertyNames||function(kh){return _Y(kh,CX)}},OX={f:Object.getOwnPropertySymbols},kX=aK([].concat),BX=TK("Reflect","ownKeys")||function(kh){var Ff=AX.f(YK(kh)),x_=OX.f;return x_?kX(Ff,x_(kh)):Ff},FX=function(kh,Ff){for(var x_=BX(Ff),$P=yY.f,zP=bX.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];xK(kh,tme)||$P(kh,tme,zP(Ff,tme))}},TX=/#|\.prototype\./,_X=function(kh,Ff){var x_=jX[PX(kh)];return x_==IX||x_!=NX&&(BK(Ff)?uK(Ff):!!Ff)},PX=_X.normalize=function(kh){return String(kh).replace(TX,".").toLowerCase()},jX=_X.data={},NX=_X.NATIVE="N",IX=_X.POLYFILL="P",LX=_X,RX=bX.f,MX=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?tK:ime?tK[nme]||mK(nme,{}):(tK[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=RX(x_,$P))&&tme.value:x_[$P],!LX(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;FX(eme,zP)}(kh.sham||zP&&zP.sham)&&rX(eme,"sham",!0),xX(x_,$P,eme,kh)}},zX=!uK(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),$X=RY("IE_PROTO"),HX=tK.Object,VX=HX.prototype,UX=zX?HX.getPrototypeOf:function(kh){var Ff=DK(kh);if(xK(Ff,$X))return Ff[$X];var x_=Ff.constructor;return BK(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof HX?VX:null},WX=WK("iterator"),GX=!1;[].keys&&("next"in(pX=[].keys())?(dX=UX(UX(pX)))!==Object.prototype&&(fX=dX):GX=!0);var qX=fX==null||uK(function(){var kh={};return fX[WX].call(kh)!==kh});qX&&(fX={}),BK(fX[WX])||xX(fX,WX,function(){return this});var KX={IteratorPrototype:fX,BUGGY_SAFARI_ITERATORS:GX},YX=yY.f,XX=WK("toStringTag"),ZX=function(kh,Ff,x_){kh&&!xK(kh=x_?kh:kh.prototype,XX)&&YX(kh,XX,{configurable:!0,value:Ff})},JX=KX.IteratorPrototype,QX=function(){return this},eZ=tK.String,tZ=tK.TypeError,nZ=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=aK(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return YK($P),function(eme){if(typeof eme=="object"||BK(eme))return eme;throw tZ("Can't set "+eZ(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),rZ=SX.PROPER,oZ=SX.CONFIGURABLE,iZ=KX.IteratorPrototype,aZ=KX.BUGGY_SAFARI_ITERATORS,uZ=WK("iterator"),sZ=function(){return this},lZ=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=UY(JX,{next:nX(1,_me)}),ZX(hme,Eme,!1),KY[Eme]=QX})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!aZ&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[uZ]||lme["@@iterator"]||zP&&lme[zP],dme=!aZ&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=UX(pme.call(new kh)))!==Object.prototype&&nme.next&&(UX(nme)!==iZ&&(nZ?nZ(nme,iZ):BK(nme[uZ])||xX(nme,uZ,sZ)),ZX(nme,sme,!0)),rZ&&zP=="values"&&ume&&ume.name!=="values"&&(oZ?rX(lme,"name","values"):(ame=!0,dme=function(){return nY(ume,this)})),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(aZ||ame||!(ime in lme))&&xX(lme,ime,rme[ime]);else MX({target:Ff,proto:!0,forced:aZ||ame},rme);return lme[uZ]!==dme&&xX(lme,uZ,dme,{name:zP}),KY[Ff]=dme,rme},cZ=hX.set,fZ=hX.getterFor("Array Iterator"),dZ=lZ(Array,"Array",function(kh,Ff){cZ(this,{type:"Array Iterator",target:vK(kh),index:0,kind:Ff})},function(){var kh=fZ(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values");KY.Arguments=KY.Array,qY("keys"),qY("values"),qY("entries");var pZ={};pZ[WK("toStringTag")]="z";var hZ=String(pZ)==="[object z]",gZ=WK("toStringTag"),vZ=tK.Object,yZ=cK(function(){return arguments}())=="Arguments",mZ=hZ?cK:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=vZ(kh),gZ))=="string"?x_:yZ?cK(Ff):($P=cK(Ff))=="Object"&&BK(Ff.callee)?"Arguments":$P},bZ=hZ?{}.toString:function(){return"[object "+mZ(this)+"]"};hZ||xX(Object.prototype,"toString",bZ,{unsafe:!0});var wZ=tK.String,EZ=function(kh){if(mZ(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return wZ(kh)},DZ=aK("".charAt),SZ=aK("".charCodeAt),xZ=aK("".slice),CZ=function(kh){return function(Ff,x_){var $P,zP,eme=EZ(gK(Ff)),tme=wY(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=SZ(eme,tme))<55296||$P>56319||tme+1===nme||(zP=SZ(eme,tme+1))<56320||zP>57343?kh?DZ(eme,tme):$P:kh?xZ(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},AZ={codeAt:CZ(!1),charAt:CZ(!0)},OZ=AZ.charAt,kZ=hX.set,BZ=hX.getterFor("String Iterator");lZ(String,"String",function(kh){kZ(this,{type:"String Iterator",string:EZ(kh),index:0})},function(){var kh,Ff=BZ(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=OZ(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var FZ=function(kh,Ff,x_){for(var $P in Ff)xX(kh,$P,Ff[$P],x_);return kh},TZ=tK.Array,_Z=Math.max,PZ=AX.f,jZ=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],NZ={f:function(kh){return jZ&&cK(kh)=="Window"?function(Ff){try{return PZ(Ff)}catch(x_){return function($P,zP,eme){for(var tme,nme,rme,ime,ome=AY($P),sme=SY(void 0,ome),ame=SY(ome,ome),lme=TZ(_Z(ame-sme,0)),ume=0;sme<ame;sme++,ume++)tme=lme,nme=ume,rme=$P[sme],(ime=hY(nme))in tme?yY.f(tme,ime,nX(0,rme)):tme[ime]=rme;return lme.length=ume,lme}(jZ)}}(kh):PZ(vK(kh))}},IZ=uK(function(){if(typeof ArrayBuffer=="function"){var kh=new ArrayBuffer(8);Object.isExtensible(kh)&&Object.defineProperty(kh,"a",{value:8})}}),LZ=Object.isExtensible,RZ=uK(function(){LZ(1)})||IZ?function(kh){return!!GK(kh)&&(!IZ||cK(kh)!="ArrayBuffer")&&(!LZ||LZ(kh))}:LZ,MZ=!uK(function(){return Object.isExtensible(Object.preventExtensions({}))}),zZ=Zq(function(kh){var Ff=yY.f,x_=!1,$P=kK("meta"),zP=0,eme=function(nme){Ff(nme,$P,{value:{objectID:"O"+zP++,weakData:{}}})},tme=kh.exports={enable:function(){tme.enable=function(){},x_=!0;var nme=AX.f,rme=aK([].splice),ime={};ime[$P]=1,nme(ime).length&&(AX.f=function(ome){for(var sme=nme(ome),ame=0,lme=sme.length;ame<lme;ame++)if(sme[ame]===$P){rme(sme,ame,1);break}return sme},MX({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:NZ.f}))},fastKey:function(nme,rme){if(!GK(nme))return typeof nme=="symbol"?nme:(typeof nme=="string"?"S":"P")+nme;if(!xK(nme,$P)){if(!RZ(nme))return"F";if(!rme)return"E";eme(nme)}return nme[$P].objectID},getWeakData:function(nme,rme){if(!xK(nme,$P)){if(!RZ(nme))return!0;if(!rme)return!1;eme(nme)}return nme[$P].weakData},onFreeze:function(nme){return MZ&&x_&&RZ(nme)&&!xK(nme,$P)&&eme(nme),nme}};BY[$P]=!0}),$Z=aK(aK.bind),HZ=function(kh,Ff){return lY(kh),Ff===void 0?kh:$Z?$Z(kh,Ff):function(){return kh.apply(Ff,arguments)}},VZ=WK("iterator"),UZ=Array.prototype,WZ=WK("iterator"),GZ=function(kh){if(kh!=null)return cY(kh,WZ)||cY(kh,"@@iterator")||KY[mZ(kh)]},qZ=tK.TypeError,KZ=function(kh,Ff,x_){var $P,zP;YK(kh);try{if(!($P=cY(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=nY($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return YK($P),x_},YZ=tK.TypeError,XZ=function(kh,Ff){this.stopped=kh,this.result=Ff},ZZ=XZ.prototype,JZ=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome,sme=x_&&x_.that,ame=!(!x_||!x_.AS_ENTRIES),lme=!(!x_||!x_.IS_ITERATOR),ume=!(!x_||!x_.INTERRUPTED),dme=HZ(Ff,sme),pme=function(cme){return $P&&KZ($P,"normal",cme),new XZ(!0,cme)},hme=function(cme){return ame?(YK(cme),ume?dme(cme[0],cme[1],pme):dme(cme[0],cme[1])):ume?dme(cme,pme):dme(cme)};if(lme)$P=kh;else{if(!(zP=GZ(kh)))throw YZ(uY(kh)+" is not iterable");if((ome=zP)!==void 0&&(KY.Array===ome||UZ[VZ]===ome)){for(eme=0,tme=AY(kh);tme>eme;eme++)if((nme=hme(kh[eme]))&&rY(ZZ,nme))return nme;return new XZ(!1)}$P=function(cme,_me){var vme=arguments.length<2?GZ(cme):_me;if(lY(vme))return YK(nY(vme,cme));throw qZ(uY(cme)+" is not iterable")}(kh,zP)}for(rme=$P.next;!(ime=nY(rme,$P)).done;){try{nme=hme(ime.value)}catch(cme){KZ($P,"throw",cme)}if(typeof nme=="object"&&nme&&rY(ZZ,nme))return nme}return new XZ(!1)},QZ=tK.TypeError,eJ=function(kh,Ff){if(rY(Ff,kh))return kh;throw QZ("Incorrect invocation")},tJ=WK("iterator"),nJ=!1;try{var rJ=0,oJ={next:function(){return{done:!!rJ++}},return:function(){nJ=!0}};oJ[tJ]=function(){return this},Array.from(oJ,function(){throw 2})}catch(kh){}var iJ=Array.isArray||function(kh){return cK(kh)=="Array"},aJ=function(){},uJ=[],sJ=TK("Reflect","construct"),lJ=/^\s*(?:class|function)\b/,cJ=aK(lJ.exec),fJ=!lJ.exec(aJ),dJ=function(kh){if(!BK(kh))return!1;try{return sJ(aJ,uJ,kh),!0}catch(Ff){return!1}},pJ=!sJ||uK(function(){var kh;return dJ(dJ.call)||!dJ(Object)||!dJ(function(){kh=!0})||kh})?function(kh){if(!BK(kh))return!1;switch(mZ(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return fJ||!!cJ(lJ,QY(kh))}:dJ,hJ=WK("species"),gJ=tK.Array,vJ=function(kh,Ff){return new(function(x_){var $P;return iJ(x_)&&($P=x_.constructor,(pJ($P)&&($P===gJ||iJ($P.prototype))||GK($P)&&($P=$P[hJ])===null)&&($P=void 0)),$P===void 0?gJ:$P}(kh))(Ff===0?0:Ff)},yJ=aK([].push),mJ=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=DK(rme),dme=pK(ume),pme=HZ(ime,ome),hme=AY(dme),cme=0,_me=sme||vJ,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:yJ(vme,ame)}else switch(kh){case 4:return!1;case 7:yJ(vme,ame)}return eme?-1:$P||zP?zP:vme}},bJ={forEach:mJ(0),map:mJ(1),filter:mJ(2),some:mJ(3),every:mJ(4),find:mJ(5),findIndex:mJ(6),filterReject:mJ(7)},wJ=zZ.getWeakData,EJ=hX.set,DJ=hX.getterFor,SJ=bJ.find,xJ=bJ.findIndex,CJ=aK([].splice),AJ=0,OJ=function(kh){return kh.frozen||(kh.frozen=new kJ)},kJ=function(){this.entries=[]},BJ=function(kh,Ff){return SJ(kh.entries,function(x_){return x_[0]===Ff})};kJ.prototype={get:function(kh){var Ff=BJ(this,kh);if(Ff)return Ff[1]},has:function(kh){return!!BJ(this,kh)},set:function(kh,Ff){var x_=BJ(this,kh);x_?x_[1]=Ff:this.entries.push([kh,Ff])},delete:function(kh){var Ff=xJ(this.entries,function(x_){return x_[0]===kh});return~Ff&&CJ(this.entries,Ff,1),!!~Ff}};var FJ,TJ={getConstructor:function(kh,Ff,x_,$P){var zP=kh(function(rme,ime){eJ(rme,eme),EJ(rme,{type:Ff,id:AJ++,frozen:void 0}),ime!=null&&JZ(ime,rme[$P],{that:rme,AS_ENTRIES:x_})}),eme=zP.prototype,tme=DJ(Ff),nme=function(rme,ime,ome){var sme=tme(rme),ame=wJ(YK(ime),!0);return ame===!0?OJ(sme).set(ime,ome):ame[sme.id]=ome,rme};return FZ(eme,{delete:function(rme){var ime=tme(this);if(!GK(rme))return!1;var ome=wJ(rme);return ome===!0?OJ(ime).delete(rme):ome&&xK(ome,ime.id)&&delete ome[ime.id]},has:function(rme){var ime=tme(this);if(!GK(rme))return!1;var ome=wJ(rme);return ome===!0?OJ(ime).has(rme):ome&&xK(ome,ime.id)}}),FZ(eme,x_?{get:function(rme){var ime=tme(this);if(GK(rme)){var ome=wJ(rme);return ome===!0?OJ(ime).get(rme):ome?ome[ime.id]:void 0}},set:function(rme,ime){return nme(this,rme,ime)}}:{add:function(rme){return nme(this,rme,!0)}}),zP}},_J=hX.enforce,PJ=!tK.ActiveXObject&&"ActiveXObject"in tK,jJ=function(kh){return function(){return kh(this,arguments.length?arguments[0]:void 0)}},NJ=function(kh,Ff,x_){var $P=kh.indexOf("Map")!==-1,zP=kh.indexOf("Weak")!==-1,eme=$P?"set":"add",tme=tK[kh],nme=tme&&tme.prototype,rme=tme,ime={},ome=function(pme){var hme=aK(nme[pme]);xX(nme,pme,pme=="add"?function(cme){return hme(this,cme===0?0:cme),this}:pme=="delete"?function(cme){return!(zP&&!GK(cme))&&hme(this,cme===0?0:cme)}:pme=="get"?function(cme){return zP&&!GK(cme)?void 0:hme(this,cme===0?0:cme)}:pme=="has"?function(cme){return!(zP&&!GK(cme))&&hme(this,cme===0?0:cme)}:function(cme,_me){return hme(this,cme===0?0:cme,_me),this})};if(LX(kh,!BK(tme)||!(zP||nme.forEach&&!uK(function(){new tme().entries().next()}))))rme=x_.getConstructor(Ff,kh,$P,eme),zZ.enable();else if(LX(kh,!0)){var sme=new rme,ame=sme[eme](zP?{}:-0,1)!=sme,lme=uK(function(){sme.has(1)}),ume=function(pme,hme){if(!nJ)return!1;var cme=!1;try{var _me={};_me[tJ]=function(){return{next:function(){return{done:cme=!0}}}},function(vme){new tme(vme)}(_me)}catch(vme){}return cme}(),dme=!zP&&uK(function(){for(var pme=new tme,hme=5;hme--;)pme[eme](hme,hme);return!pme.has(-0)});ume||((rme=Ff(function(pme,hme){eJ(pme,nme);var cme=function(_me,vme,Eme){var wme,Tme;return nZ&&BK(wme=vme.constructor)&&wme!==Eme&&GK(Tme=wme.prototype)&&Tme!==Eme.prototype&&nZ(_me,Tme),_me}(new tme,pme,rme);return hme!=null&&JZ(hme,cme[eme],{that:cme,AS_ENTRIES:$P}),cme})).prototype=nme,nme.constructor=rme),(lme||dme)&&(ome("delete"),ome("has"),$P&&ome("get")),(dme||ame)&&ome(eme),zP&&nme.clear&&delete nme.clear}return ime[kh]=rme,MX({global:!0,forced:rme!=tme},ime),ZX(rme,kh),zP||x_.setStrong(rme,kh,$P),rme}("WeakMap",jJ,TJ);if(tX&&PJ){FJ=TJ.getConstructor(jJ,"WeakMap",!0),zZ.enable();var IJ=NJ.prototype,LJ=aK(IJ.delete),RJ=aK(IJ.has),MJ=aK(IJ.get),zJ=aK(IJ.set);FZ(IJ,{delete:function(kh){if(GK(kh)&&!RZ(kh)){var Ff=_J(this);return Ff.frozen||(Ff.frozen=new FJ),LJ(this,kh)||Ff.frozen.delete(kh)}return LJ(this,kh)},has:function(kh){if(GK(kh)&&!RZ(kh)){var Ff=_J(this);return Ff.frozen||(Ff.frozen=new FJ),RJ(this,kh)||Ff.frozen.has(kh)}return RJ(this,kh)},get:function(kh){if(GK(kh)&&!RZ(kh)){var Ff=_J(this);return Ff.frozen||(Ff.frozen=new FJ),RJ(this,kh)?MJ(this,kh):Ff.frozen.get(kh)}return MJ(this,kh)},set:function(kh,Ff){if(GK(kh)&&!RZ(kh)){var x_=_J(this);x_.frozen||(x_.frozen=new FJ),RJ(this,kh)?zJ(this,kh,Ff):x_.frozen.set(kh,Ff)}else zJ(this,kh,Ff);return this}})}var $J={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},HJ=QK("span").classList,VJ=HJ&&HJ.constructor&&HJ.constructor.prototype,UJ=VJ===Object.prototype?void 0:VJ,WJ=WK("iterator"),GJ=WK("toStringTag"),qJ=dZ.values,KJ=function(kh,Ff){if(kh){if(kh[WJ]!==qJ)try{rX(kh,WJ,qJ)}catch($P){kh[WJ]=qJ}if(kh[GJ]||rX(kh,GJ,Ff),$J[Ff]){for(var x_ in dZ)if(kh[x_]!==dZ[x_])try{rX(kh,x_,dZ[x_])}catch($P){kh[x_]=dZ[x_]}}}};for(var YJ in $J)KJ(tK[YJ]&&tK[YJ].prototype,YJ);KJ(UJ,"DOMTokenList");var XJ=new WeakMap,ZJ={type:"list-item",renderElem:function(kh,Ff,x_){XJ.set(kh,x_);var $P=kh,zP=$P.level,eme=zP===void 0?0:zP,tme=$P.ordered,nme={margin:"5px 0 5px "+20*eme+"px"},rme="";if(tme!==void 0&&tme){var ime=function(sme,ame){var lme=ame,ume=lme.type,dme=lme.level,pme=dme===void 0?0:dme,hme=lme.ordered,cme=hme!==void 0&&hme;if(!cme)return-1;var _me=1,vme=ame,Eme=QO.findPath(sme,vme);if(Eme[0]===0)return 1;for(;Eme[0]>0;){var wme=Mf.previous(Eme),Tme=Bf.node(sme,wme);if(Tme==null)break;var Dme=Tme[0],Ame=Dme.level,Nme=Ame===void 0?0:Ame,Ume=Dme.type,jme=Dme.ordered;if(Ume!==ume||Nme<pme)break;if(Nme===pme){if(jme!==cme)break;_me++}vme=Dme,Eme=wme}return _me}(x_,kh);rme=ime+"."}else rme=function(sme){sme===void 0&&(sme=0);var ame="";switch(sme){case 0:ame="•";break;case 1:ame="◦";break;default:ame="▪"}return ame}(eme);var ome=function(sme){var ame,lme=sme.children||[],ume=lme.length;if(ume===0)return"";for(var dme=0;dme<ume&&!ame;dme++){var pme=lme[dme];ed.isText(pme)&&(ame=pme)}return ame==null?"":ame.color||""}(kh);return Pg("div",{style:nme},Pg("span",{contentEditable:!1,style:{marginRight:"0.5em",color:ome},"data-w-e-reserve":!0},rme),Pg("span",null,Ff))}},JJ=function(kh,Ff){return JJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x_,$P){x_.__proto__=$P}||function(x_,$P){for(var zP in $P)Object.prototype.hasOwnProperty.call($P,zP)&&(x_[zP]=$P[zP])},JJ(kh,Ff);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */};function QJ(kh,Ff){if(typeof Ff!="function"&&Ff!==null)throw new TypeError("Class extends value "+String(Ff)+" is not a constructor or null");function x_(){this.constructor=kh}JJ(kh,Ff),kh.prototype=Ff===null?Object.create(Ff):(x_.prototype=Ff.prototype,new x_)}function eQ(kh){var Ff=typeof Symbol=="function"&&Symbol.iterator,x_=Ff&&kh[Ff],$P=0;if(x_)return x_.call(kh);if(kh&&typeof kh.length=="number")return{next:function(){return kh&&$P>=kh.length&&(kh=void 0),{value:kh&&kh[$P++],done:!kh}}};throw new TypeError(Ff?"Object is not iterable.":"Symbol.iterator is not defined.")}function tQ(kh,Ff){var x_=typeof Symbol=="function"&&kh[Symbol.iterator];if(!x_)return kh;var $P,zP,eme=x_.call(kh),tme=[];try{for(;(Ff===void 0||Ff-- >0)&&!($P=eme.next()).done;)tme.push($P.value)}catch(nme){zP={error:nme}}finally{try{$P&&!$P.done&&(x_=eme.return)&&x_.call(eme)}finally{if(zP)throw zP.error}}return tme}function nQ(kh){return Bf.nodes(kh,{at:kh.selection||void 0,match:function(Ff){return QO.findPath(kh,Ff).length===1}})}var rQ=kY.includes;MX({target:"Array",proto:!0},{includes:function(kh){return rQ(this,kh,arguments.length>1?arguments[1]:void 0)}}),qY("includes");var oQ,iQ,aQ=function(){var kh=YK(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},uQ=tK.RegExp,sQ=uK(function(){var kh=uQ("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),lQ=sQ||uK(function(){return!uQ("a","y").sticky}),cQ={BROKEN_CARET:sQ||uK(function(){var kh=uQ("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:lQ,UNSUPPORTED_Y:sQ},fQ=tK.RegExp,dQ=uK(function(){var kh=fQ(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),pQ=tK.RegExp,hQ=uK(function(){var kh=pQ("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),gQ=hX.get,vQ=wK("native-string-replace",String.prototype.replace),yQ=RegExp.prototype.exec,mQ=yQ,bQ=aK("".charAt),wQ=aK("".indexOf),EQ=aK("".replace),DQ=aK("".slice),SQ=(iQ=/b*/g,nY(yQ,oQ=/a/,"a"),nY(yQ,iQ,"a"),oQ.lastIndex!==0||iQ.lastIndex!==0),xQ=cQ.BROKEN_CARET,CQ=/()??/.exec("")[1]!==void 0;(SQ||CQ||xQ||dQ||hQ)&&(mQ=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=gQ(rme),ome=EZ(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=nY(mQ,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=xQ&&rme.sticky,ume=nY(aQ,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=EQ(ume,"y",""),wQ(ume,"g")===-1&&(ume+="g"),hme=DQ(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&bQ(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),CQ&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),SQ&&($P=rme.lastIndex),zP=nY(yQ,lme?x_:rme,hme),lme?zP?(zP.input=DQ(zP.input,pme),zP[0]=DQ(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:SQ&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),CQ&&zP&&zP.length>1&&nY(vQ,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=UY(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var AQ=mQ;MX({target:"RegExp",proto:!0,forced:/./.exec!==AQ},{exec:AQ});var OQ=function(){function kh(){this.type="list-item",this.tag="button"}return kh.prototype.getListNode=function(Ff){var x_=this.type;return QO.getSelectedNodeByType(Ff,x_)},kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){var x_=this.getListNode(Ff);if(x_==null)return!1;var $P=x_.ordered;return($P!==void 0&&$P)===this.ordered},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!!QO.getSelectedElems(Ff).some(function(x_){if(Bf.isVoid(Ff,x_)&&Bf.isBlock(Ff,x_))return!0;var $P=x_.type;return!!["pre","code","table"].includes($P)||void 0})},kh.prototype.exec=function(Ff,x_){this.isActive(Ff)?md.setNodes(Ff,{type:"paragraph",ordered:void 0,level:void 0}):md.setNodes(Ff,{type:"list-item",ordered:this.ordered,indent:void 0})},kh}(),kQ='<svg viewBox="0 0 1024 1024"><path d="M384 64h640v128H384V64z m0 384h640v128H384v-128z m0 384h640v128H384v-128zM0 128a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z m0 384a128 128 0 1 1 256 0 128 128 0 0 1-256 0z"></path></svg>',BQ='<svg viewBox="0 0 1024 1024"><path d="M384 832h640v128H384z m0-384h640v128H384z m0-384h640v128H384zM192 0v256H128V64H64V0zM128 526.016v50.016h128v64H64v-146.016l128-60V384H64v-64h192v146.016zM256 704v320H64v-64h128v-64H64v-64h128v-64H64v-64z"></path></svg>',FQ=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.ordered=!1,x_.title=HP("listModule.unOrderedList"),x_.iconSvg=kQ,x_}return QJ(Ff,kh),Ff}(OQ),TQ=function(kh){function Ff(){var x_=kh!==null&&kh.apply(this,arguments)||this;return x_.ordered=!0,x_.title=HP("listModule.orderedList"),x_.iconSvg=BQ,x_}return QJ(Ff,kh),Ff}(OQ),_Q={key:"bulletedList",factory:function(){return new FQ}},PQ={key:"numberedList",factory:function(){return new TQ}},jQ=[],NQ={type:"list-item",elemToHtml:function(kh,Ff){var x_="",$P="",zP=kh.ordered,eme=zP!==void 0&&zP?"ol":"ul",tme=function(ime){var ome=XJ.get(ime);if(ome==null)return 0;var sme=ime,ame=sme.type,lme=sme.ordered,ume=lme!==void 0&&lme,dme=sme.level,pme=dme===void 0?0:dme,hme=QO.findPath(ome,ime);if(hme[0]===0)return pme+1;var cme=Mf.previous(hme),_me=Bf.node(ome,cme);if(!_me)return 0;var vme=tQ(_me,1)[0];if(QO.getNodeType(vme)!==ame)return pme+1;var Eme=vme,wme=Eme.ordered,Tme=wme!==void 0&&wme,Dme=Eme.level,Ame=Dme===void 0?0:Dme;return Ame<pme?pme-Ame:Ame>pme?0:Ame===pme?Tme===ume?0:1:0}(kh);if(tme>0)for(var nme=0;nme<tme;nme++)x_+="<"+eme+">",jQ.push(eme);var rme=function(ime){var ome=XJ.get(ime);if(ome==null)return 0;var sme=ime,ame=sme.type,lme=sme.ordered,ume=lme!==void 0&&lme,dme=sme.level,pme=dme===void 0?0:dme,hme=QO.findPath(ome,ime);if(hme[0]===ome.children.length-1)return pme+1;var cme=Mf.next(hme),_me=Bf.node(ome,cme);if(!_me)return 0;var vme=tQ(_me,1)[0];if(QO.getNodeType(vme)!==ame)return pme+1;var Eme=vme,wme=Eme.ordered,Tme=wme!==void 0&&wme,Dme=Eme.level,Ame=Dme===void 0?0:Dme;return Ame<pme?pme-Ame:Ame>pme?0:Ame===pme?Tme===ume?0:1:0}(kh);if(rme>0)for(nme=0;nme<rme;nme++)$P+="</"+jQ.pop()+">";return{html:"<li>"+Ff+"</li>",prefix:x_,suffix:$P}}},IQ=WK("species"),LQ=bJ.filter,RQ=RK>=51||!uK(function(){var kh=[];return(kh.constructor={})[IQ]=function(){return{foo:1}},kh.filter(Boolean).foo!==1});MX({target:"Array",proto:!0,forced:!RQ},{filter:function(kh){return LQ(this,kh,arguments.length>1?arguments[1]:void 0)}});var MQ=Function.prototype,zQ=MQ.apply,$Q=MQ.bind,HQ=MQ.call,VQ=typeof Reflect=="object"&&Reflect.apply||($Q?HQ.bind(zQ):function(){return HQ.apply(zQ,arguments)}),UQ=(WK("species"),RegExp.prototype),WQ=AZ.charAt,GQ=function(kh,Ff,x_){return Ff+(x_?WQ(kh,Ff).length:1)},qQ=Math.floor,KQ=aK("".charAt),YQ=aK("".replace),XQ=aK("".slice),ZQ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,JQ=/\$([$&'`]|\d{1,2})/g,QQ=function(kh,Ff,x_,$P,zP,eme){var tme=x_+kh.length,nme=$P.length,rme=JQ;return zP!==void 0&&(zP=DK(zP),rme=ZQ),YQ(eme,rme,function(ime,ome){var sme;switch(KQ(ome,0)){case"$":return"$";case"&":return kh;case"`":return XQ(Ff,0,x_);case"'":return XQ(Ff,tme);case"<":sme=zP[XQ(ome,1,-1)];break;default:var ame=+ome;if(ame===0)return ime;if(ame>nme){var lme=qQ(ame/10);return lme===0?ime:lme<=nme?$P[lme-1]===void 0?KQ(ome,1):$P[lme-1]+KQ(ome,1):ime}sme=$P[ame-1]}return sme===void 0?"":sme})},e0=tK.TypeError,t0=function(kh,Ff){var x_=kh.exec;if(BK(x_)){var $P=nY(x_,kh,Ff);return $P!==null&&YK($P),$P}if(cK(kh)==="RegExp")return nY(AQ,kh,Ff);throw e0("RegExp#exec called on incompatible receiver")},n0=WK("replace"),r0=Math.max,o0=Math.min,i0=aK([].concat),a0=aK([].push),u0=aK("".indexOf),s0=aK("".slice),l0="a".replace(/./,"$0")==="$0",c0=!!/./[n0]&&/./[n0]("a","$0")==="";(function(kh,Ff,x_,$P){var zP=WK(kh),eme=!uK(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!uK(function(){var ime=!1,ome=/a/;return ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=aK(/./[zP]),rme=function(ime,ome,sme){var ame=c0?"$":"$0";return[function(lme,ume){var dme=gK(this),pme=lme==null?void 0:cY(lme,n0);return pme?nY(pme,lme,dme,ume):nY(ome,EZ(dme),lme,ume)},function(lme,ume){var dme=YK(this),pme=EZ(lme);if(typeof ume=="string"&&u0(ume,ame)===-1&&u0(ume,"$<")===-1){var hme=sme(ome,dme,pme,ume);if(hme.done)return hme.value}var cme=BK(ume);cme||(ume=EZ(ume));var _me=dme.global;if(_me){var vme=dme.unicode;dme.lastIndex=0}for(var Eme=[];;){var wme=t0(dme,pme);if(wme===null||(a0(Eme,wme),!_me))break;EZ(wme[0])===""&&(dme.lastIndex=GQ(pme,CY(dme.lastIndex),vme))}for(var Tme,Dme="",Ame=0,Nme=0;Nme<Eme.length;Nme++){for(var Ume=EZ((wme=Eme[Nme])[0]),jme=r0(o0(wY(wme.index),pme.length),0),Fme=[],$me=1;$me<wme.length;$me++)a0(Fme,(Tme=wme[$me])===void 0?Tme:String(Tme));var Gme=wme.groups;if(cme){var Wme=i0([Ume],Fme,jme,pme);Gme!==void 0&&a0(Wme,Gme);var Jme=EZ(VQ(ume,void 0,Wme))}else Jme=QQ(Ume,pme,jme,Fme,Gme,ume);jme>=Ame&&(Dme+=s0(pme,Ame,jme)+Jme,Ame=jme+Ume.length)}return Dme+s0(pme,Ame)}]}(0,""[kh],function(ime,ome,sme,ame,lme){var ume=aK(ime),dme=ome.exec;return dme===AQ||dme===UQ.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});xX(String.prototype,kh,rme[0]),xX(UQ,zP,rme[1])}})("replace",0,!!uK(function(){var kh=/./;return kh.exec=function(){var Ff=[];return Ff.groups={a:"7"},Ff},"".replace(kh,"$<a>")!=="7"})||!l0||c0);var f0=tK.TypeError,d0=function(kh,Ff,x_,$P,zP,eme,tme,nme){for(var rme,ime,ome=zP,sme=0,ame=!!tme&&HZ(tme,nme);sme<$P;){if(sme in x_){if(rme=ame?ame(x_[sme],sme,Ff):x_[sme],eme>0&&iJ(rme))ime=AY(rme),ome=d0(kh,Ff,rme,ime,ome,eme-1)-1;else{if(ome>=9007199254740991)throw f0("Exceed the acceptable array length");kh[ome]=rme}ome++}sme++}return ome},p0=d0;function h0(kh){return kh.length?kh[0].tagName.toLowerCase():""}MX({target:"Array",proto:!0},{flat:function(){var kh=arguments.length?arguments[0]:void 0,Ff=DK(this),x_=AY(Ff),$P=vJ(Ff,0);return $P.length=p0($P,Ff,Ff,x_,0,kh===void 0?1:wY(kh)),$P}}),qY("flat"),MX({global:!0},{globalThis:tK}),ah&&(Mp.fn.append=ah),Vp&&(Mp.fn.attr=Vp),sh&&(Mp.fn.parent=sh);var g0={renderElems:[ZJ],editorPlugin:function(kh){var Ff=kh.deleteBackward,x_=kh.handleTab,$P=kh.normalizeNode,zP=kh;return zP.deleteBackward=function(eme){var tme=zP.selection;if(tme!=null)if(qf.isExpanded(tme))Ff(eme);else{var nme=QO.getSelectedNodeByType(zP,"list-item");if(nme!=null)if(tme.focus.offset!==0)Ff(eme);else{var rme=nme.level,ime=rme===void 0?0:rme;ime>0?md.setNodes(zP,{level:ime-1}):md.setNodes(zP,{type:"paragraph",ordered:void 0,level:void 0})}else Ff(eme)}else Ff(eme)},zP.handleTab=function(){var eme,tme,nme,rme,ime=zP.selection;if(ime!=null){if(qf.isCollapsed(ime)){var ome=QO.getSelectedNodeByType(zP,"list-item");if(ome==null)return void x_();if(ime.focus.offset===0){var sme=ome.level,ame=sme===void 0?0:sme;return void md.setNodes(zP,{level:ame+1})}}if(qf.isExpanded(ime)){var lme=0,ume=!1;try{for(var dme=eQ(nQ(zP)),pme=dme.next();!pme.done;pme=dme.next()){var hme=tQ(pme.value,1)[0];QO.getNodeType(hme)==="list-item"?lme++:ume=!0}}catch(Tme){eme={error:Tme}}finally{try{pme&&!pme.done&&(tme=dme.return)&&tme.call(dme)}finally{if(eme)throw eme.error}}if(ume||lme<=1)return void x_();try{for(var cme=eQ(nQ(zP)),_me=cme.next();!_me.done;_me=cme.next()){var vme=tQ(_me.value,2),Eme=(hme=vme[0],vme[1]),wme=hme.level;ame=wme===void 0?0:wme,md.setNodes(zP,{level:ame+1},{at:Eme})}}catch(Tme){nme={error:Tme}}finally{try{_me&&!_me.done&&(rme=cme.return)&&rme.call(cme)}finally{if(nme)throw nme.error}}}else x_()}else x_()},zP.normalizeNode=function(eme){var tme=tQ(eme,2),nme=tme[0],rme=tme[1],ime=QO.getNodeType(nme);return ime!=="bulleted-list"&&ime!=="numbered-list"||md.unwrapNodes(zP,{at:rme}),$P([nme,rme])},zP},menus:[_Q,PQ],elemsToHtml:[NQ],parseElemsHtml:[{selector:"ul:not([data-w-e-type]),ol:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){return Ff.flat(1/0)}},{selector:"li:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);(Ff=Ff.filter(function(tme){return!!ed.isText(tme)||!!x_.isInline(tme)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]);var zP=function(tme){return h0(tme.parent())==="ol"}($P),eme=function(tme){for(var nme=0,rme=tme.parent(),ime=h0(rme);ime==="ul"||ime==="ol";)ime=h0(rme=rme.parent()),nme++;return nme-1}($P);return{type:"list-item",ordered:zP,level:eme,children:Ff}}}]},v0=n(function(kh,Ff){var x_="__lodash_hash_undefined__",$P=9007199254740991,zP="[object Arguments]",eme="[object Array]",tme="[object Boolean]",nme="[object Date]",rme="[object Error]",ime="[object Function]",ome="[object Map]",sme="[object Number]",ame="[object Object]",lme="[object Promise]",ume="[object RegExp]",dme="[object Set]",pme="[object String]",hme="[object Symbol]",cme="[object WeakMap]",_me="[object ArrayBuffer]",vme="[object DataView]",Eme=/^\[object .+?Constructor\]$/,wme=/^(?:0|[1-9]\d*)$/,Tme={};Tme["[object Float32Array]"]=Tme["[object Float64Array]"]=Tme["[object Int8Array]"]=Tme["[object Int16Array]"]=Tme["[object Int32Array]"]=Tme["[object Uint8Array]"]=Tme["[object Uint8ClampedArray]"]=Tme["[object Uint16Array]"]=Tme["[object Uint32Array]"]=!0,Tme[zP]=Tme[eme]=Tme[_me]=Tme[tme]=Tme[vme]=Tme[nme]=Tme[rme]=Tme[ime]=Tme[ome]=Tme[sme]=Tme[ame]=Tme[ume]=Tme[dme]=Tme[pme]=Tme[cme]=!1;var Dme=typeof e=="object"&&e&&e.Object===Object&&e,Ame=typeof self=="object"&&self&&self.Object===Object&&self,Nme=Dme||Ame||Function("return this")(),Ume=Ff&&!Ff.nodeType&&Ff,jme=Ume&&kh&&!kh.nodeType&&kh,Fme=jme&&jme.exports===Ume,$me=Fme&&Dme.process,Gme=function(){try{return $me&&$me.binding&&$me.binding("util")}catch(Bme){}}(),Wme=Gme&&Gme.isTypedArray;function Jme(Bme,Hme){for(var e_e=-1,l_e=Bme==null?0:Bme.length;++e_e<l_e;)if(Hme(Bme[e_e],e_e,Bme))return!0;return!1}function r_e(Bme){var Hme=-1,e_e=Array(Bme.size);return Bme.forEach(function(l_e,I_e){e_e[++Hme]=[I_e,l_e]}),e_e}function o_e(Bme){var Hme=-1,e_e=Array(Bme.size);return Bme.forEach(function(l_e){e_e[++Hme]=l_e}),e_e}var i_e=Array.prototype,Mme=Function.prototype,Ome=Object.prototype,Rme=Nme["__core-js_shared__"],zme=Mme.toString,Zme=Ome.hasOwnProperty,Qme=function(){var Bme=/[^.]+$/.exec(Rme&&Rme.keys&&Rme.keys.IE_PROTO||"");return Bme?"Symbol(src)_1."+Bme:""}(),n_e=Ome.toString,c_e=RegExp("^"+zme.call(Zme).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f_e=Fme?Nme.Buffer:void 0,h_e=Nme.Symbol,Xme=Nme.Uint8Array,x_e=Ome.propertyIsEnumerable,g_e=i_e.splice,u_e=h_e?h_e.toStringTag:void 0,__e=Object.getOwnPropertySymbols,F_e=f_e?f_e.isBuffer:void 0,k_e=function(Bme,Hme){return function(e_e){return Bme(Hme(e_e))}}(Object.keys,Object),C_e=T0e(Nme,"DataView"),B_e=T0e(Nme,"Map"),y_e=T0e(Nme,"Promise"),A_e=T0e(Nme,"Set"),X_e=T0e(Nme,"WeakMap"),d0e=T0e(Object,"create"),s0e=S0e(C_e),O0e=S0e(B_e),E0e=S0e(y_e),e0e=S0e(A_e),a0e=S0e(X_e),y0e=h_e?h_e.prototype:void 0,V_e=y0e?y0e.valueOf:void 0;function z_e(Bme){var Hme=-1,e_e=Bme==null?0:Bme.length;for(this.clear();++Hme<e_e;){var l_e=Bme[Hme];this.set(l_e[0],l_e[1])}}function w_e(Bme){var Hme=-1,e_e=Bme==null?0:Bme.length;for(this.clear();++Hme<e_e;){var l_e=Bme[Hme];this.set(l_e[0],l_e[1])}}function J_e(Bme){var Hme=-1,e_e=Bme==null?0:Bme.length;for(this.clear();++Hme<e_e;){var l_e=Bme[Hme];this.set(l_e[0],l_e[1])}}function U_e(Bme){var Hme=-1,e_e=Bme==null?0:Bme.length;for(this.__data__=new J_e;++Hme<e_e;)this.add(Bme[Hme])}function l0e(Bme){var Hme=this.__data__=new w_e(Bme);this.size=Hme.size}function V0e(Bme,Hme){var e_e=h0e(Bme),l_e=!e_e&&G0e(Bme),I_e=!e_e&&!l_e&&r0e(Bme),m_e=!e_e&&!l_e&&!I_e&&K_e(Bme),Ime=e_e||l_e||I_e||m_e,Vme=Ime?function(D_e,L_e){for(var M_e=-1,O_e=Array(D_e);++M_e<D_e;)O_e[M_e]=L_e(M_e);return O_e}(Bme.length,String):[],t_e=Vme.length;for(var a_e in Bme)!Hme&&!Zme.call(Bme,a_e)||Ime&&(a_e=="length"||I_e&&(a_e=="offset"||a_e=="parent")||m_e&&(a_e=="buffer"||a_e=="byteLength"||a_e=="byteOffset")||z0e(a_e,t_e))||Vme.push(a_e);return Vme}function k0e(Bme,Hme){for(var e_e=Bme.length;e_e--;)if(W0e(Bme[e_e][0],Hme))return e_e;return-1}function x0e(Bme){return Bme==null?Bme===void 0?"[object Undefined]":"[object Null]":u_e&&u_e in Object(Bme)?function(Hme){var e_e=Zme.call(Hme,u_e),l_e=Hme[u_e];try{Hme[u_e]=void 0;var I_e=!0}catch(Ime){}var m_e=n_e.call(Hme);return I_e&&(e_e?Hme[u_e]=l_e:delete Hme[u_e]),m_e}(Bme):function(Hme){return n_e.call(Hme)}(Bme)}function $0e(Bme){return m0e(Bme)&&x0e(Bme)==zP}function R0e(Bme,Hme,e_e,l_e,I_e){return Bme===Hme||(Bme==null||Hme==null||!m0e(Bme)&&!m0e(Hme)?Bme!=Bme&&Hme!=Hme:function(m_e,Ime,Vme,t_e,a_e,D_e){var L_e=h0e(m_e),M_e=h0e(Ime),O_e=L_e?eme:n0e(m_e),$_e=M_e?eme:n0e(Ime),G_e=(O_e=O_e==zP?ame:O_e)==ame,N0e=($_e=$_e==zP?ame:$_e)==ame,D0e=O_e==$_e;if(D0e&&r0e(m_e)){if(!r0e(Ime))return!1;L_e=!0,G_e=!1}if(D0e&&!G_e)return D_e||(D_e=new l0e),L_e||K_e(m_e)?u0e(m_e,Ime,Vme,t_e,a_e,D_e):function(E_e,T_e,S_e,j_e,Y_e,t0e,_0e){switch(S_e){case vme:if(E_e.byteLength!=T_e.byteLength||E_e.byteOffset!=T_e.byteOffset)return!1;E_e=E_e.buffer,T_e=T_e.buffer;case _me:return!(E_e.byteLength!=T_e.byteLength||!t0e(new Xme(E_e),new Xme(T_e)));case tme:case nme:case sme:return W0e(+E_e,+T_e);case rme:return E_e.name==T_e.name&&E_e.message==T_e.message;case ume:case pme:return E_e==T_e+"";case ome:var Z_e=r_e;case dme:var P0e=1&j_e;if(Z_e||(Z_e=o_e),E_e.size!=T_e.size&&!P0e)return!1;var uye=_0e.get(E_e);if(uye)return uye==T_e;j_e|=2,_0e.set(E_e,T_e);var M0e=u0e(Z_e(E_e),Z_e(T_e),j_e,Y_e,t0e,_0e);return _0e.delete(E_e),M0e;case hme:if(V_e)return V_e.call(E_e)==V_e.call(T_e)}return!1}(m_e,Ime,O_e,Vme,t_e,a_e,D_e);if(!(1&Vme)){var g0e=G_e&&Zme.call(m_e,"__wrapped__"),d_e=N0e&&Zme.call(Ime,"__wrapped__");if(g0e||d_e){var P_e=g0e?m_e.value():m_e,N_e=d_e?Ime.value():Ime;return D_e||(D_e=new l0e),a_e(P_e,N_e,Vme,t_e,D_e)}}return D0e?(D_e||(D_e=new l0e),function(E_e,T_e,S_e,j_e,Y_e,t0e){var _0e=1&S_e,Z_e=w0e(E_e),P0e=Z_e.length,uye=w0e(T_e).length;if(P0e!=uye&&!_0e)return!1;for(var M0e=P0e;M0e--;){var C0e=Z_e[M0e];if(!(_0e?C0e in T_e:Zme.call(T_e,C0e)))return!1}var c0e=t0e.get(E_e);if(c0e&&t0e.get(T_e))return c0e==T_e;var cye=!0;t0e.set(E_e,T_e),t0e.set(T_e,E_e);for(var H0e=_0e;++M0e<P0e;){var I0e=E_e[C0e=Z_e[M0e]],F0e=T_e[C0e];if(j_e)var j0e=_0e?j_e(F0e,I0e,C0e,T_e,E_e,t0e):j_e(I0e,F0e,C0e,E_e,T_e,t0e);if(!(j0e===void 0?I0e===F0e||Y_e(I0e,F0e,S_e,j_e,t0e):j0e)){cye=!1;break}H0e||(H0e=C0e=="constructor")}if(cye&&!H0e){var K0e=E_e.constructor,Q0e=T_e.constructor;K0e==Q0e||!("constructor"in E_e)||!("constructor"in T_e)||typeof K0e=="function"&&K0e instanceof K0e&&typeof Q0e=="function"&&Q0e instanceof Q0e||(cye=!1)}return t0e.delete(E_e),t0e.delete(T_e),cye}(m_e,Ime,Vme,t_e,a_e,D_e)):!1}(Bme,Hme,e_e,l_e,R0e,I_e))}function q0e(Bme){return!(!lye(Bme)||function(Hme){return!!Qme&&Qme in Hme}(Bme))&&(H_e(Bme)?c_e:Eme).test(S0e(Bme))}function f0e(Bme){if(e_e=(Hme=Bme)&&Hme.constructor,l_e=typeof e_e=="function"&&e_e.prototype||Ome,Hme!==l_e)return k_e(Bme);var Hme,e_e,l_e,I_e=[];for(var m_e in Object(Bme))Zme.call(Bme,m_e)&&m_e!="constructor"&&I_e.push(m_e);return I_e}function u0e(Bme,Hme,e_e,l_e,I_e,m_e){var Ime=1&e_e,Vme=Bme.length,t_e=Hme.length;if(Vme!=t_e&&!(Ime&&t_e>Vme))return!1;var a_e=m_e.get(Bme);if(a_e&&m_e.get(Hme))return a_e==Hme;var D_e=-1,L_e=!0,M_e=2&e_e?new U_e:void 0;for(m_e.set(Bme,Hme),m_e.set(Hme,Bme);++D_e<Vme;){var O_e=Bme[D_e],$_e=Hme[D_e];if(l_e)var G_e=Ime?l_e($_e,O_e,D_e,Hme,Bme,m_e):l_e(O_e,$_e,D_e,Bme,Hme,m_e);if(G_e!==void 0){if(G_e)continue;L_e=!1;break}if(M_e){if(!Jme(Hme,function(N0e,D0e){if(g0e=D0e,!M_e.has(g0e)&&(O_e===N0e||I_e(O_e,N0e,e_e,l_e,m_e)))return M_e.push(D0e);var g0e})){L_e=!1;break}}else if(O_e!==$_e&&!I_e(O_e,$_e,e_e,l_e,m_e)){L_e=!1;break}}return m_e.delete(Bme),m_e.delete(Hme),L_e}function w0e(Bme){return function(Hme,e_e,l_e){var I_e=e_e(Hme);return h0e(Hme)?I_e:function(m_e,Ime){for(var Vme=-1,t_e=Ime.length,a_e=m_e.length;++Vme<t_e;)m_e[a_e+Vme]=Ime[Vme];return m_e}(I_e,l_e(Hme))}(Bme,L0e,sye)}function p0e(Bme,Hme){var e_e,l_e,I_e=Bme.__data__;return((l_e=typeof(e_e=Hme))=="string"||l_e=="number"||l_e=="symbol"||l_e=="boolean"?e_e!=="__proto__":e_e===null)?I_e[typeof Hme=="string"?"string":"hash"]:I_e.map}function T0e(Bme,Hme){var e_e=function(l_e,I_e){return l_e==null?void 0:l_e[I_e]}(Bme,Hme);return q0e(e_e)?e_e:void 0}z_e.prototype.clear=function(){this.__data__=d0e?d0e(null):{},this.size=0},z_e.prototype.delete=function(Bme){var Hme=this.has(Bme)&&delete this.__data__[Bme];return this.size-=Hme?1:0,Hme},z_e.prototype.get=function(Bme){var Hme=this.__data__;if(d0e){var e_e=Hme[Bme];return e_e===x_?void 0:e_e}return Zme.call(Hme,Bme)?Hme[Bme]:void 0},z_e.prototype.has=function(Bme){var Hme=this.__data__;return d0e?Hme[Bme]!==void 0:Zme.call(Hme,Bme)},z_e.prototype.set=function(Bme,Hme){var e_e=this.__data__;return this.size+=this.has(Bme)?0:1,e_e[Bme]=d0e&&Hme===void 0?x_:Hme,this},w_e.prototype.clear=function(){this.__data__=[],this.size=0},w_e.prototype.delete=function(Bme){var Hme=this.__data__,e_e=k0e(Hme,Bme);return!(e_e<0)&&(e_e==Hme.length-1?Hme.pop():g_e.call(Hme,e_e,1),--this.size,!0)},w_e.prototype.get=function(Bme){var Hme=this.__data__,e_e=k0e(Hme,Bme);return e_e<0?void 0:Hme[e_e][1]},w_e.prototype.has=function(Bme){return k0e(this.__data__,Bme)>-1},w_e.prototype.set=function(Bme,Hme){var e_e=this.__data__,l_e=k0e(e_e,Bme);return l_e<0?(++this.size,e_e.push([Bme,Hme])):e_e[l_e][1]=Hme,this},J_e.prototype.clear=function(){this.size=0,this.__data__={hash:new z_e,map:new(B_e||w_e),string:new z_e}},J_e.prototype.delete=function(Bme){var Hme=p0e(this,Bme).delete(Bme);return this.size-=Hme?1:0,Hme},J_e.prototype.get=function(Bme){return p0e(this,Bme).get(Bme)},J_e.prototype.has=function(Bme){return p0e(this,Bme).has(Bme)},J_e.prototype.set=function(Bme,Hme){var e_e=p0e(this,Bme),l_e=e_e.size;return e_e.set(Bme,Hme),this.size+=e_e.size==l_e?0:1,this},U_e.prototype.add=U_e.prototype.push=function(Bme){return this.__data__.set(Bme,x_),this},U_e.prototype.has=function(Bme){return this.__data__.has(Bme)},l0e.prototype.clear=function(){this.__data__=new w_e,this.size=0},l0e.prototype.delete=function(Bme){var Hme=this.__data__,e_e=Hme.delete(Bme);return this.size=Hme.size,e_e},l0e.prototype.get=function(Bme){return this.__data__.get(Bme)},l0e.prototype.has=function(Bme){return this.__data__.has(Bme)},l0e.prototype.set=function(Bme,Hme){var e_e=this.__data__;if(e_e instanceof w_e){var l_e=e_e.__data__;if(!B_e||l_e.length<199)return l_e.push([Bme,Hme]),this.size=++e_e.size,this;e_e=this.__data__=new J_e(l_e)}return e_e.set(Bme,Hme),this.size=e_e.size,this};var sye=__e?function(Bme){return Bme==null?[]:(Bme=Object(Bme),function(Hme,e_e){for(var l_e=-1,I_e=Hme==null?0:Hme.length,m_e=0,Ime=[];++l_e<I_e;){var Vme=Hme[l_e];e_e(Vme,l_e,Hme)&&(Ime[m_e++]=Vme)}return Ime}(__e(Bme),function(Hme){return x_e.call(Bme,Hme)}))}:function(){return[]},n0e=x0e;function z0e(Bme,Hme){return!!(Hme=Hme==null?$P:Hme)&&(typeof Bme=="number"||wme.test(Bme))&&Bme>-1&&Bme%1==0&&Bme<Hme}function S0e(Bme){if(Bme!=null){try{return zme.call(Bme)}catch(Hme){}try{return Bme+""}catch(Hme){}}return""}function W0e(Bme,Hme){return Bme===Hme||Bme!=Bme&&Hme!=Hme}(C_e&&n0e(new C_e(new ArrayBuffer(1)))!=vme||B_e&&n0e(new B_e)!=ome||y_e&&n0e(y_e.resolve())!=lme||A_e&&n0e(new A_e)!=dme||X_e&&n0e(new X_e)!=cme)&&(n0e=function(Bme){var Hme=x0e(Bme),e_e=Hme==ame?Bme.constructor:void 0,l_e=e_e?S0e(e_e):"";if(l_e)switch(l_e){case s0e:return vme;case O0e:return ome;case E0e:return lme;case e0e:return dme;case a0e:return cme}return Hme});var G0e=$0e(function(){return arguments}())?$0e:function(Bme){return m0e(Bme)&&Zme.call(Bme,"callee")&&!x_e.call(Bme,"callee")},h0e=Array.isArray,r0e=F_e||function(){return!1};function H_e(Bme){if(!lye(Bme))return!1;var Hme=x0e(Bme);return Hme==ime||Hme=="[object GeneratorFunction]"||Hme=="[object AsyncFunction]"||Hme=="[object Proxy]"}function v0e(Bme){return typeof Bme=="number"&&Bme>-1&&Bme%1==0&&Bme<=$P}function lye(Bme){var Hme=typeof Bme;return Bme!=null&&(Hme=="object"||Hme=="function")}function m0e(Bme){return Bme!=null&&typeof Bme=="object"}var K_e=Wme?function(Bme){return function(Hme){return Bme(Hme)}}(Wme):function(Bme){return m0e(Bme)&&v0e(Bme.length)&&!!Tme[x0e(Bme)]};function L0e(Bme){return(Hme=Bme)!=null&&v0e(Hme.length)&&!H_e(Hme)?V0e(Bme):f0e(Bme);var Hme}kh.exports=function(Bme,Hme){return R0e(Bme,Hme)}});MP("en",{tableModule:{deleteCol:"Delete column",deleteRow:"Delete row",deleteTable:"Delete table",widthAuto:"Width auto",insertCol:"Insert column",insertRow:"Insert row",insertTable:"Insert table",header:"Header"}}),MP("zh-CN",{tableModule:{deleteCol:"删除列",deleteRow:"删除行",deleteTable:"删除表格",widthAuto:"宽度自适应",insertCol:"插入列",insertRow:"插入行",insertTable:"插入表格",header:"表头"}});var y0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function m0(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var b0,w0,E0=function(kh){return kh&&kh.Math==Math&&kh},D0=E0(typeof globalThis=="object"&&globalThis)||E0(typeof window=="object"&&window)||E0(typeof self=="object"&&self)||E0(typeof y0=="object"&&y0)||function(){return this}()||Function("return this")(),S0=function(kh){try{return!!kh()}catch(Ff){return!0}},x0=!S0(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),C0=Function.prototype.call,A0=C0.bind?C0.bind(C0):function(){return C0.apply(C0,arguments)},O0={}.propertyIsEnumerable,k0=Object.getOwnPropertyDescriptor,B0={f:k0&&!O0.call({1:2},1)?function(kh){var Ff=k0(this,kh);return!!Ff&&Ff.enumerable}:O0},F0=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},T0=Function.prototype,_0=T0.bind,P0=T0.call,j0=_0&&_0.bind(P0),N0=_0?function(kh){return kh&&j0(P0,kh)}:function(kh){return kh&&function(){return P0.apply(kh,arguments)}},I0=N0({}.toString),L0=N0("".slice),R0=function(kh){return L0(I0(kh),8,-1)},M0=D0.Object,z0=N0("".split),$0=S0(function(){return!M0("z").propertyIsEnumerable(0)})?function(kh){return R0(kh)=="String"?z0(kh,""):M0(kh)}:M0,H0=D0.TypeError,V0=function(kh){if(kh==null)throw H0("Can't call method on "+kh);return kh},U0=function(kh){return $0(V0(kh))},W0=function(kh){return typeof kh=="function"},G0=function(kh){return typeof kh=="object"?kh!==null:W0(kh)},q0=function(kh){return W0(kh)?kh:void 0},K0=function(kh,Ff){return arguments.length<2?q0(D0[kh]):D0[kh]&&D0[kh][Ff]},Y0=N0({}.isPrototypeOf),X0=K0("navigator","userAgent")||"",Z0=D0.process,J0=D0.Deno,Q0=Z0&&Z0.versions||J0&&J0.version,e1=Q0&&Q0.v8;e1&&(w0=(b0=e1.split("."))[0]>0&&b0[0]<4?1:+(b0[0]+b0[1])),!w0&&X0&&(!(b0=X0.match(/Edge\/(\d+)/))||b0[1]>=74)&&(b0=X0.match(/Chrome\/(\d+)/))&&(w0=+b0[1]);var t1=w0,n1=!!Object.getOwnPropertySymbols&&!S0(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&t1&&t1<41}),r1=n1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",o1=D0.Object,i1=r1?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=K0("Symbol");return W0(Ff)&&Y0(Ff.prototype,o1(kh))},a1=D0.String,u1=function(kh){try{return a1(kh)}catch(Ff){return"Object"}},s1=D0.TypeError,l1=function(kh){if(W0(kh))return kh;throw s1(u1(kh)+" is not a function")},c1=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:l1(x_)},f1=D0.TypeError,d1=Object.defineProperty,p1=function(kh,Ff){try{d1(D0,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){D0[kh]=Ff}return Ff},h1=D0["__core-js_shared__"]||p1("__core-js_shared__",{}),g1=m0(function(kh){(kh.exports=function(Ff,x_){return h1[Ff]||(h1[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),v1=D0.Object,y1=function(kh){return v1(V0(kh))},m1=N0({}.hasOwnProperty),b1=Object.hasOwn||function(kh,Ff){return m1(y1(kh),Ff)},w1=0,E1=Math.random(),D1=N0(1 .toString),S1=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+D1(++w1+E1,36)},x1=g1("wks"),C1=D0.Symbol,A1=C1&&C1.for,O1=r1?C1:C1&&C1.withoutSetter||S1,k1=function(kh){if(!b1(x1,kh)||!n1&&typeof x1[kh]!="string"){var Ff="Symbol."+kh;n1&&b1(C1,kh)?x1[kh]=C1[kh]:x1[kh]=r1&&A1?A1(Ff):O1(Ff)}return x1[kh]},B1=D0.TypeError,F1=k1("toPrimitive"),T1=function(kh){var Ff=function(x_,$P){if(!G0(x_)||i1(x_))return x_;var zP,eme=c1(x_,F1);if(eme){if($P===void 0&&($P="default"),zP=A0(eme,x_,$P),!G0(zP)||i1(zP))return zP;throw B1("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&W0(rme=tme.toString)&&!G0(ime=A0(rme,tme))||W0(rme=tme.valueOf)&&!G0(ime=A0(rme,tme))||nme!=="string"&&W0(rme=tme.toString)&&!G0(ime=A0(rme,tme)))return ime;throw f1("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return i1(Ff)?Ff:Ff+""},_1=D0.document,P1=G0(_1)&&G0(_1.createElement),j1=function(kh){return P1?_1.createElement(kh):{}},N1=!x0&&!S0(function(){return Object.defineProperty(j1("div"),"a",{get:function(){return 7}}).a!=7}),I1=Object.getOwnPropertyDescriptor,L1={f:x0?I1:function(kh,Ff){if(kh=U0(kh),Ff=T1(Ff),N1)try{return I1(kh,Ff)}catch(x_){}if(b1(kh,Ff))return F0(!A0(B0.f,kh,Ff),kh[Ff])}},R1=D0.String,M1=D0.TypeError,z1=function(kh){if(G0(kh))return kh;throw M1(R1(kh)+" is not an object")},$1=D0.TypeError,H1=Object.defineProperty,V1={f:x0?H1:function(kh,Ff,x_){if(z1(kh),Ff=T1(Ff),z1(x_),N1)try{return H1(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw $1("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},U1=x0?function(kh,Ff,x_){return V1.f(kh,Ff,F0(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},W1=N0(Function.toString);W0(h1.inspectSource)||(h1.inspectSource=function(kh){return W1(kh)});var G1,q1,K1,Y1=h1.inspectSource,X1=D0.WeakMap,Z1=W0(X1)&&/native code/.test(Y1(X1)),J1=g1("keys"),Q1=function(kh){return J1[kh]||(J1[kh]=S1(kh))},e2={},t2=D0.TypeError,n2=D0.WeakMap;if(Z1||h1.state){var r2=h1.state||(h1.state=new n2),o2=N0(r2.get),i2=N0(r2.has),a2=N0(r2.set);G1=function(kh,Ff){if(i2(r2,kh))throw new t2("Object already initialized");return Ff.facade=kh,a2(r2,kh,Ff),Ff},q1=function(kh){return o2(r2,kh)||{}},K1=function(kh){return i2(r2,kh)}}else{var u2=Q1("state");e2[u2]=!0,G1=function(kh,Ff){if(b1(kh,u2))throw new t2("Object already initialized");return Ff.facade=kh,U1(kh,u2,Ff),Ff},q1=function(kh){return b1(kh,u2)?kh[u2]:{}},K1=function(kh){return b1(kh,u2)}}var s2={set:G1,get:q1,has:K1,enforce:function(kh){return K1(kh)?q1(kh):G1(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!G0(Ff)||(x_=q1(Ff)).type!==kh)throw t2("Incompatible receiver, "+kh+" required");return x_}}},l2=Function.prototype,c2=x0&&Object.getOwnPropertyDescriptor,f2=b1(l2,"name"),d2={EXISTS:f2,PROPER:f2&&function(){}.name==="something",CONFIGURABLE:f2&&(!x0||x0&&c2(l2,"name").configurable)},p2=m0(function(kh){var Ff=d2.CONFIGURABLE,x_=s2.get,$P=s2.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;W0(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b1(nme,"name")||Ff&&nme.name!==lme)&&U1(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==D0?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:U1(eme,tme,nme)):sme?eme[tme]=nme:p1(tme,nme)})(Function.prototype,"toString",function(){return W0(this)&&x_(this).source||Y1(this)})}),h2=Math.ceil,g2=Math.floor,v2=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?g2:h2)(Ff)},y2=Math.max,m2=Math.min,b2=function(kh,Ff){var x_=v2(kh);return x_<0?y2(x_+Ff,0):m2(x_,Ff)},w2=Math.min,E2=function(kh){return kh>0?w2(v2(kh),9007199254740991):0},D2=function(kh){return E2(kh.length)},S2=function(kh){return function(Ff,x_,$P){var zP,eme=U0(Ff),tme=D2(eme),nme=b2($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},x2=S2(!1),C2=N0([].push),A2=function(kh,Ff){var x_,$P=U0(kh),zP=0,eme=[];for(x_ in $P)!b1(e2,x_)&&b1($P,x_)&&C2(eme,x_);for(;Ff.length>zP;)b1($P,x_=Ff[zP++])&&(~x2(eme,x_)||C2(eme,x_));return eme},O2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k2=O2.concat("length","prototype"),B2={f:Object.getOwnPropertyNames||function(kh){return A2(kh,k2)}},F2={f:Object.getOwnPropertySymbols},T2=N0([].concat),_2=K0("Reflect","ownKeys")||function(kh){var Ff=B2.f(z1(kh)),x_=F2.f;return x_?T2(Ff,x_(kh)):Ff},P2=function(kh,Ff){for(var x_=_2(Ff),$P=V1.f,zP=L1.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];b1(kh,tme)||$P(kh,tme,zP(Ff,tme))}},j2=/#|\.prototype\./,N2=function(kh,Ff){var x_=L2[I2(kh)];return x_==M2||x_!=R2&&(W0(Ff)?S0(Ff):!!Ff)},I2=N2.normalize=function(kh){return String(kh).replace(j2,".").toLowerCase()},L2=N2.data={},R2=N2.NATIVE="N",M2=N2.POLYFILL="P",z2=N2,$2=L1.f,H2=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?D0:ime?D0[nme]||p1(nme,{}):(D0[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=$2(x_,$P))&&tme.value:x_[$P],!z2(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;P2(eme,zP)}(kh.sham||zP&&zP.sham)&&U1(eme,"sham",!0),p2(x_,$P,eme,kh)}},V2={};V2[k1("toStringTag")]="z";var U2=String(V2)==="[object z]",W2=k1("toStringTag"),G2=D0.Object,q2=R0(function(){return arguments}())=="Arguments",K2=U2?R0:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=G2(kh),W2))=="string"?x_:q2?R0(Ff):($P=R0(Ff))=="Object"&&W0(Ff.callee)?"Arguments":$P},Y2=D0.String,X2=function(kh){if(K2(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Y2(kh)},Z2=/"/g,J2=N0("".replace);H2({target:"String",proto:!0,forced:S0(function(){var kh="".anchor('"');return kh!==kh.toLowerCase()||kh.split('"').length>3})},{anchor:function(kh){return Ff=kh,x_=X2(V0(this)),$P="<a",($P+=' name="'+J2(X2(Ff),Z2,"&quot;")+'"')+">"+x_+"</a>";var Ff,x_,$P}});var Q2,e4=function(){var kh=z1(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},t4=D0.RegExp,n4=S0(function(){var kh=t4("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),r4=n4||S0(function(){return!t4("a","y").sticky}),o4={BROKEN_CARET:n4||S0(function(){var kh=t4("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:r4,UNSUPPORTED_Y:n4},i4=Object.keys||function(kh){return A2(kh,O2)},a4=x0?Object.defineProperties:function(kh,Ff){z1(kh);for(var x_,$P=U0(Ff),zP=i4(Ff),eme=zP.length,tme=0;eme>tme;)V1.f(kh,x_=zP[tme++],$P[x_]);return kh},u4=K0("document","documentElement"),s4=Q1("IE_PROTO"),l4=function(){},c4=function(kh){return"<script>"+kh+"<\/script>"},f4=function(kh){kh.write(c4("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},d4=function(){try{Q2=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;d4=typeof document!="undefined"?document.domain&&Q2?f4(Q2):((Ff=j1("iframe")).style.display="none",u4.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(c4("document.F=Object")),kh.close(),kh.F):f4(Q2);for(var x_=O2.length;x_--;)delete d4.prototype[O2[x_]];return d4()};e2[s4]=!0;var p4,h4,g4=Object.create||function(kh,Ff){var x_;return kh!==null?(l4.prototype=z1(kh),x_=new l4,l4.prototype=null,x_[s4]=kh):x_=d4(),Ff===void 0?x_:a4(x_,Ff)},v4=D0.RegExp,y4=S0(function(){var kh=v4(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),m4=D0.RegExp,b4=S0(function(){var kh=m4("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),w4=s2.get,E4=g1("native-string-replace",String.prototype.replace),D4=RegExp.prototype.exec,S4=D4,x4=N0("".charAt),C4=N0("".indexOf),A4=N0("".replace),O4=N0("".slice),k4=(h4=/b*/g,A0(D4,p4=/a/,"a"),A0(D4,h4,"a"),p4.lastIndex!==0||h4.lastIndex!==0),B4=o4.BROKEN_CARET,F4=/()??/.exec("")[1]!==void 0;(k4||F4||B4||y4||b4)&&(S4=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=w4(rme),ome=X2(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=A0(S4,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=B4&&rme.sticky,ume=A0(e4,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=A4(ume,"y",""),C4(ume,"g")===-1&&(ume+="g"),hme=O4(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&x4(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),F4&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),k4&&($P=rme.lastIndex),zP=A0(D4,lme?x_:rme,hme),lme?zP?(zP.input=O4(zP.input,pme),zP[0]=O4(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:k4&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),F4&&zP&&zP.length>1&&A0(E4,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=g4(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var T4=S4;H2({target:"RegExp",proto:!0,forced:/./.exec!==T4},{exec:T4});var _4=Array.isArray||function(kh){return R0(kh)=="Array"},P4=function(){},j4=[],N4=K0("Reflect","construct"),I4=/^\s*(?:class|function)\b/,L4=N0(I4.exec),R4=!I4.exec(P4),M4=function(kh){if(!W0(kh))return!1;try{return N4(P4,j4,kh),!0}catch(Ff){return!1}},z4=!N4||S0(function(){var kh;return M4(M4.call)||!M4(Object)||!M4(function(){kh=!0})||kh})?function(kh){if(!W0(kh))return!1;switch(K2(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return R4||!!L4(I4,Y1(kh))}:M4,$4=function(kh,Ff,x_){var $P=T1(Ff);$P in kh?V1.f(kh,$P,F0(0,x_)):kh[$P]=x_},H4=k1("species"),V4=function(kh){return t1>=51||!S0(function(){var Ff=[];return(Ff.constructor={})[H4]=function(){return{foo:1}},Ff[kh](Boolean).foo!==1})},U4=N0([].slice),W4=V4("slice"),G4=k1("species"),q4=D0.Array,K4=Math.max;function Y4(kh,Ff){var x_=typeof Symbol=="function"&&kh[Symbol.iterator];if(!x_)return kh;var $P,zP,eme=x_.call(kh),tme=[];try{for(;(Ff===void 0||Ff-- >0)&&!($P=eme.next()).done;)tme.push($P.value)}catch(nme){zP={error:nme}}finally{try{$P&&!$P.done&&(x_=eme.return)&&x_.call(eme)}finally{if(zP)throw zP.error}}return tme}function X4(kh){var Ff=kh.selection;if(Ff==null)return!1;var x_=Y4(Bf.nodes(kh,{match:function(eme){return QO.checkNodeType(eme,"table-cell")}}),1)[0];if(x_){var $P=Y4(x_,2)[1],zP=Bf.start(kh,$P);if(Vf.equals(Ff.anchor,zP))return!0}return!1}function Z4(kh,Ff){var x_,$P,zP=Bf.nodes(kh,{at:Ff,match:function(rme){return QO.getNodeType(rme)==="table"}}),eme=!1;try{for(var tme=function(rme){var ime=typeof Symbol=="function"&&Symbol.iterator,ome=ime&&rme[ime],sme=0;if(ome)return ome.call(rme);if(rme&&typeof rme.length=="number")return{next:function(){return rme&&sme>=rme.length&&(rme=void 0),{value:rme&&rme[sme++],done:!rme}}};throw new TypeError(ime?"Object is not iterable.":"Symbol.iterator is not defined.")}(zP),nme=tme.next();!nme.done;nme=tme.next())nme.value,eme=!0}catch(rme){x_={error:rme}}finally{try{nme&&!nme.done&&($P=tme.return)&&$P.call(tme)}finally{if(x_)throw x_.error}}return eme}H2({target:"Array",proto:!0,forced:!W4},{slice:function(kh,Ff){var x_,$P,zP,eme=U0(this),tme=D2(eme),nme=b2(kh,tme),rme=b2(Ff===void 0?tme:Ff,tme);if(_4(eme)&&(x_=eme.constructor,(z4(x_)&&(x_===q4||_4(x_.prototype))||G0(x_)&&(x_=x_[G4])===null)&&(x_=void 0),x_===q4||x_===void 0))return U4(eme,nme,rme);for($P=new(x_===void 0?q4:x_)(K4(rme-nme,0)),zP=0;nme<rme;nme++,zP++)nme in eme&&$4($P,zP,eme[nme]);return $P.length=zP,$P}});var J4=N0(N0.bind),Q4=k1("species"),e6=D0.Array,t6=function(kh,Ff){return new(function(x_){var $P;return _4(x_)&&($P=x_.constructor,(z4($P)&&($P===e6||_4($P.prototype))||G0($P)&&($P=$P[Q4])===null)&&($P=void 0)),$P===void 0?e6:$P}(kh))(Ff===0?0:Ff)},n6=N0([].push),r6=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=y1(rme),dme=$0(ume),pme=function(Eme,wme){return l1(Eme),wme===void 0?Eme:J4?J4(Eme,wme):function(){return Eme.apply(wme,arguments)}}(ime,ome),hme=D2(dme),cme=0,_me=sme||t6,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:n6(vme,ame)}else switch(kh){case 4:return!1;case 7:n6(vme,ame)}return eme?-1:$P||zP?zP:vme}},o6={forEach:r6(0),map:r6(1),filter:r6(2),some:r6(3),every:r6(4),find:r6(5),findIndex:r6(6),filterReject:r6(7)},i6=o6.map;H2({target:"Array",proto:!0,forced:!V4("map")},{map:function(kh){return i6(this,kh,arguments.length>1?arguments[1]:void 0)}});var a6=U2?{}.toString:function(){return"[object "+K2(this)+"]"};function u6(kh){var Ff=kh.children||[];return Ff.length===0?[]:(Ff[0]||{}).children||[]}function s6(kh){return u6(kh).every(function(Ff){return!!Ff.isHeader})}U2||p2(Object.prototype,"toString",a6,{unsafe:!0});var l6=d2.PROPER,c6=RegExp.prototype,f6=c6.toString,d6=N0(e4),p6=S0(function(){return f6.call({source:"a",flags:"b"})!="/a/b"}),h6=l6&&f6.name!="toString";(p6||h6)&&p2(RegExp.prototype,"toString",function(){var kh=z1(this),Ff=X2(kh.source),x_=kh.flags;return"/"+Ff+"/"+X2(x_===void 0&&Y0(c6,kh)&&!("flags"in c6)?d6(kh):x_)},{unsafe:!0});var g6=k1("unscopables"),v6=Array.prototype;v6[g6]==null&&V1.f(v6,g6,{configurable:!0,value:g4(null)});var y6=o6.find,m6=!0;"find"in[]&&Array(1).find(function(){m6=!1}),H2({target:"Array",proto:!0,forced:m6},{find:function(kh){return y6(this,kh,arguments.length>1?arguments[1]:void 0)}}),v6[g6].find=!0;var b6=Function.prototype,w6=b6.apply,E6=b6.bind,D6=b6.call,S6=typeof Reflect=="object"&&Reflect.apply||(E6?D6.bind(w6):function(){return D6.apply(w6,arguments)}),x6=k1("species"),C6=RegExp.prototype,A6=function(kh,Ff,x_,$P){var zP=k1(kh),eme=!S0(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!S0(function(){var ime=!1,ome=/a/;return kh==="split"&&((ome={}).constructor={},ome.constructor[x6]=function(){return ome},ome.flags="",ome[zP]=/./[zP]),ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=N0(/./[zP]),rme=Ff(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=N0(ime),dme=ome.exec;return dme===T4||dme===C6.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});p2(String.prototype,kh,rme[0]),p2(C6,zP,rme[1])}$P&&U1(C6[zP],"sham",!0)},O6=k1("match"),k6=D0.TypeError,B6=k1("species"),F6=N0("".charAt),T6=N0("".charCodeAt),_6=N0("".slice),P6=function(kh){return function(Ff,x_){var $P,zP,eme=X2(V0(Ff)),tme=v2(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=T6(eme,tme))<55296||$P>56319||tme+1===nme||(zP=T6(eme,tme+1))<56320||zP>57343?kh?F6(eme,tme):$P:kh?_6(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},j6=P6(!0),N6=function(kh,Ff,x_){return Ff+(x_?j6(kh,Ff).length:1)},I6=D0.Array,L6=Math.max,R6=function(kh,Ff,x_){for(var $P=D2(kh),zP=b2(Ff,$P),eme=b2(x_===void 0?$P:x_,$P),tme=I6(L6(eme-zP,0)),nme=0;zP<eme;zP++,nme++)$4(tme,nme,kh[zP]);return tme.length=nme,tme},M6=D0.TypeError,z6=function(kh,Ff){var x_=kh.exec;if(W0(x_)){var $P=A0(x_,kh,Ff);return $P!==null&&z1($P),$P}if(R0(kh)==="RegExp")return A0(T4,kh,Ff);throw M6("RegExp#exec called on incompatible receiver")},$6=o4.UNSUPPORTED_Y,H6=Math.min,V6=[].push,U6=N0(/./.exec),W6=N0(V6),G6=N0("".slice);A6("split",function(kh,Ff,x_){var $P;return $P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(zP,eme){var tme,nme,rme=X2(V0(this)),ime=eme===void 0?4294967295:eme>>>0;if(ime===0)return[];if(zP===void 0)return[rme];if(!G0(tme=zP)||!((nme=tme[O6])!==void 0?nme:R0(tme)=="RegExp"))return A0(Ff,rme,zP,ime);for(var ome,sme,ame,lme=[],ume=(zP.ignoreCase?"i":"")+(zP.multiline?"m":"")+(zP.unicode?"u":"")+(zP.sticky?"y":""),dme=0,pme=new RegExp(zP.source,ume+"g");(ome=A0(T4,pme,rme))&&!((sme=pme.lastIndex)>dme&&(W6(lme,G6(rme,dme,ome.index)),ome.length>1&&ome.index<rme.length&&S6(V6,lme,R6(ome,1)),ame=ome[0].length,dme=sme,lme.length>=ime));)pme.lastIndex===ome.index&&pme.lastIndex++;return dme===rme.length?!ame&&U6(pme,"")||W6(lme,""):W6(lme,G6(rme,dme)),lme.length>ime?R6(lme,0,ime):lme}:"0".split(void 0,0).length?function(zP,eme){return zP===void 0&&eme===0?[]:A0(Ff,this,zP,eme)}:Ff,[function(zP,eme){var tme=V0(this),nme=zP==null?void 0:c1(zP,kh);return nme?A0(nme,zP,tme,eme):A0($P,X2(tme),zP,eme)},function(zP,eme){var tme=z1(this),nme=X2(zP),rme=x_($P,tme,nme,eme,$P!==Ff);if(rme.done)return rme.value;var ime=function(vme,Eme){var wme,Tme=z1(vme).constructor;return Tme===void 0||(wme=z1(Tme)[B6])==null?Eme:function(Dme){if(z4(Dme))return Dme;throw k6(u1(Dme)+" is not a constructor")}(wme)}(tme,RegExp),ome=tme.unicode,sme=(tme.ignoreCase?"i":"")+(tme.multiline?"m":"")+(tme.unicode?"u":"")+($6?"g":"y"),ame=new ime($6?"^(?:"+tme.source+")":tme,sme),lme=eme===void 0?4294967295:eme>>>0;if(lme===0)return[];if(nme.length===0)return z6(ame,nme)===null?[nme]:[];for(var ume=0,dme=0,pme=[];dme<nme.length;){ame.lastIndex=$6?0:dme;var hme,cme=z6(ame,$6?G6(nme,dme):nme);if(cme===null||(hme=H6(E2(ame.lastIndex+($6?dme:0)),nme.length))===ume)dme=N6(nme,dme,ome);else{if(W6(pme,G6(nme,ume,dme)),pme.length===lme)return pme;for(var _me=1;_me<=cme.length-1;_me++)if(W6(pme,cme[_me]),pme.length===lme)return pme;dme=ume=hme}}return W6(pme,G6(nme,ume)),pme}]},!!S0(function(){var kh=/(?:)/,Ff=kh.exec;kh.exec=function(){return Ff.apply(this,arguments)};var x_="ab".split(kh);return x_.length!==2||x_[0]!=="a"||x_[1]!=="b"}),$6);var q6=`	
\v\f\r                　\u2028\u2029\uFEFF`,K6=N0("".replace),Y6="["+q6+"]",X6=RegExp("^"+Y6+Y6+"*"),Z6=RegExp(Y6+Y6+"*$"),J6=function(kh){return function(Ff){var x_=X2(V0(Ff));return 1&kh&&(x_=K6(x_,X6,"")),2&kh&&(x_=K6(x_,Z6,"")),x_}},Q6={start:J6(1),end:J6(2),trim:J6(3)},e3=d2.PROPER,t3=Q6.trim;function n3(kh){return kh.length?kh[0].tagName.toLowerCase():""}H2({target:"String",proto:!0,forced:function(kh){return S0(function(){return!!q6[kh]()||"​᠎"[kh]()!=="​᠎"||e3&&q6[kh].name!==kh})}("trim")},{trim:function(){return t3(this)}}),H2({global:!0},{globalThis:D0}),ah&&(Mp.fn.append=ah),qp&&(Mp.fn.on=qp),yh&&(Mp.fn.focus=yh),Vp&&(Mp.fn.attr=Vp),Gp&&(Mp.fn.val=Gp),rh&&(Mp.fn.html=rh),Wp&&(Mp.fn.dataset=Wp),zp&&(Mp.fn.addClass=zp),$p&&(Mp.fn.removeClass=$p),fh&&(Mp.fn.children=fh),th&&(Mp.fn.each=th),ch&&(Mp.fn.find=ch);var r3=!1,o3=0,i3=0,a3=null,u3=null,s3=Mp("body");function l3(kh){r3=!1,u3=null,a3=null,s3.off("mousemove",c3),s3.off("mouseup",l3)}s3.on("mousedown",function(kh){var Ff=kh.target;if((Ff.tagName==="TH"||Ff.tagName==="TD")&&Ff.style.cursor==="col-resize"){Ff.style.cursor="auto",kh.preventDefault(),r3=!0;var x_=kh.clientX;o3=x_;var $P=Ff.getBoundingClientRect().width;i3=$P,s3.on("mousemove",c3),s3.on("mouseup",l3)}});var c3=eg(function(kh){if(r3&&u3!=null&&a3!=null){kh.preventDefault();var Ff=kh.clientX,x_=i3+(Ff-o3);(x_=Math.floor(100*x_)/100)<30&&(x_=30),md.setNodes(u3,{width:x_.toString()},{at:a3})}},100),f3={type:"table",renderElem:function(kh,Ff,x_){var $P=function(nme,rme){if(nme.isDisabled())return!1;var ime=nme.selection;if(ime==null||qf.isCollapsed(ime))return!0;var ome=ime.anchor,sme=ime.focus,ame=QO.findPath(nme,rme),lme=Bf.start(nme,ame),ume=Bf.end(nme,ame),dme=Vf.compare(ome,ume)<=0&&Vf.compare(ome,lme)>=0,pme=Vf.compare(sme,ume)<=0&&Vf.compare(sme,lme)>=0;return!!(dme&&pme&&Mf.equals(ome.path.slice(0,3),sme.path.slice(0,3)))}(x_,kh),zP=kh.width,eme=zP===void 0?"auto":zP,tme=Pg("div",{className:"table-container","data-selected":QO.isNodeSelected(x_,kh),on:{mousedown:function(nme){if(nme.target.tagName==="DIV"&&nme.preventDefault(),!x_.isDisabled()){var rme=QO.findPath(x_,kh),ime=Bf.start(x_,rme),ome=x_.selection;ome!=null?ome.anchor.path[0]!==rme[0]&&x_.select(ime):x_.select(ime)}}}},Pg("table",{width:eme,contentEditable:$P},Pg("colgroup",null,u6(kh).map(function(nme){var rme=nme.width;return Pg("col",{width:rme===void 0?"auto":rme})})),Pg("tbody",null,Ff)));return tme}},d3={type:"table-row",renderElem:function(kh,Ff,x_){return Pg("tr",null,Ff)}},p3={type:"table-cell",renderElem:function(kh,Ff,x_){var $P=function(ame,lme){var ume=QO.getParentNode(ame,lme);if(ume==null)return!1;var dme=QO.getParentNode(ame,ume);return dme!=null&&u6(dme).some(function(pme){return pme===lme})}(x_,kh),zP=kh,eme=zP.colSpan,tme=eme===void 0?1:eme,nme=zP.rowSpan,rme=nme===void 0?1:nme,ime=zP.isHeader,ome=ime!==void 0&&ime;if(!$P)return Pg("td",{colSpan:tme,rowSpan:rme},Ff);var sme=Pg(ome?"th":"td",{colSpan:tme,rowSpan:rme,style:{borderRightWidth:"3px"},on:{mousemove:eg(function(ame){var lme=this.elm;if(lme!=null){var ume=lme.getBoundingClientRect(),dme=ume.left,pme=ume.width,hme=ume.top,cme=ume.height,_me=ame.clientX,vme=ame.clientY;r3||(_me>dme+pme-5&&_me<dme+pme&&vme>hme&&vme<hme+cme?(lme.style.cursor="col-resize",u3=x_,a3=QO.findPath(x_,kh)):r3||(lme.style.cursor="auto",u3=null,a3=null))}},100)}},Ff);return sme}},h3={selector:"table",preParseHtml:function(kh){var Ff=Mp(kh);if(n3(Ff)!=="table")return kh;var x_=Ff.find("tbody");if(x_.length===0)return kh;var $P=Ff.find("tr");return Ff.append($P),x_.remove(),Ff[0]}},g3=o6.filter;H2({target:"Array",proto:!0,forced:!V4("filter")},{filter:function(kh){return g3(this,kh,arguments.length>1?arguments[1]:void 0)}});var v3=Math.floor,y3=N0("".charAt),m3=N0("".replace),b3=N0("".slice),w3=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E3=/\$([$&'`]|\d{1,2})/g,D3=function(kh,Ff,x_,$P,zP,eme){var tme=x_+kh.length,nme=$P.length,rme=E3;return zP!==void 0&&(zP=y1(zP),rme=w3),m3(eme,rme,function(ime,ome){var sme;switch(y3(ome,0)){case"$":return"$";case"&":return kh;case"`":return b3(Ff,0,x_);case"'":return b3(Ff,tme);case"<":sme=zP[b3(ome,1,-1)];break;default:var ame=+ome;if(ame===0)return ime;if(ame>nme){var lme=v3(ame/10);return lme===0?ime:lme<=nme?$P[lme-1]===void 0?y3(ome,1):$P[lme-1]+y3(ome,1):ime}sme=$P[ame-1]}return sme===void 0?"":sme})},S3=k1("replace"),x3=Math.max,C3=Math.min,A3=N0([].concat),O3=N0([].push),k3=N0("".indexOf),B3=N0("".slice),F3="a".replace(/./,"$0")==="$0",T3=!!/./[S3]&&/./[S3]("a","$0")==="";A6("replace",function(kh,Ff,x_){var $P=T3?"$":"$0";return[function(zP,eme){var tme=V0(this),nme=zP==null?void 0:c1(zP,S3);return nme?A0(nme,zP,tme,eme):A0(Ff,X2(tme),zP,eme)},function(zP,eme){var tme=z1(this),nme=X2(zP);if(typeof eme=="string"&&k3(eme,$P)===-1&&k3(eme,"$<")===-1){var rme=x_(Ff,tme,nme,eme);if(rme.done)return rme.value}var ime=W0(eme);ime||(eme=X2(eme));var ome=tme.global;if(ome){var sme=tme.unicode;tme.lastIndex=0}for(var ame=[];;){var lme=z6(tme,nme);if(lme===null||(O3(ame,lme),!ome))break;X2(lme[0])===""&&(tme.lastIndex=N6(nme,E2(tme.lastIndex),sme))}for(var ume,dme="",pme=0,hme=0;hme<ame.length;hme++){for(var cme=X2((lme=ame[hme])[0]),_me=x3(C3(v2(lme.index),nme.length),0),vme=[],Eme=1;Eme<lme.length;Eme++)O3(vme,(ume=lme[Eme])===void 0?ume:String(ume));var wme=lme.groups;if(ime){var Tme=A3([cme],vme,_me,nme);wme!==void 0&&O3(Tme,wme);var Dme=X2(S6(eme,void 0,Tme))}else Dme=D3(cme,nme,_me,vme,wme,eme);_me>=pme&&(dme+=B3(nme,pme,_me)+Dme,pme=_me+cme.length)}return dme+B3(nme,pme)}]},!!S0(function(){var kh=/./;return kh.exec=function(){var Ff=[];return Ff.groups={a:"7"},Ff},"".replace(kh,"$<a>")!=="7"})||!F3||T3);var _3={selector:"td:not([data-w-e-type]),th:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh);(Ff=Ff.filter(function(nme){return!!ed.isText(nme)||!!x_.isInline(nme)})).length===0&&(Ff=[{text:$P.text().replace(/\s+/gm," ")}]);var zP=parseInt($P.attr("colSpan")||"1"),eme=parseInt($P.attr("rowSpan")||"1"),tme=$P.attr("width")||"auto";return{type:"table-cell",isHeader:n3($P)==="th",colSpan:zP,rowSpan:eme,width:tme,children:Ff}}},P3={selector:"tr:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){return{type:"table-row",children:Ff.filter(function($P){return QO.getNodeType($P)==="table-cell"})}}},j3={selector:"table:not([data-w-e-type])",parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh),zP="auto";return function(eme,tme){for(var nme="",rme=(eme.attr("style")||"").split(";"),ime=rme.length,ome=0;ome<ime;ome++){var sme=rme[ome];if(sme){var ame=sme.split(":");ame[0].trim()==="width"&&(nme=ame[1].trim())}}return nme}($P)==="100%"&&(zP="100%"),$P.attr("width")==="100%"&&(zP="100%"),{type:"table",width:zP,children:Ff.filter(function(eme){return QO.getNodeType(eme)==="table-row"})}}},N3=function(){function kh(){this.title=HP("tableModule.insertTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M0 64v896h1024V64H0z m384 576v-192h256v192h-256z m256 64v192h-256v-192h256z m0-512v192h-256V192h256zM320 192v192H64V192h256z m-256 256h256v192H64v-192z m640 0h256v192h-256v-192z m0-64V192h256v192h-256zM64 704h256v192H64v-192z m640 192v-192h256v192h-256z"></path></svg>',this.tag="button",this.showDropPanel=!0,this.$content=null}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||!!QO.getSelectedElems(Ff).some(function($P){var zP=QO.getNodeType($P);return zP==="pre"||zP==="table"||zP==="list-item"||!!Ff.isVoid($P)})},kh.prototype.getPanelContentElem=function(Ff){var x_=this;if(this.$content)return this.$content[0];for(var $P=Mp('<div class="w-e-panel-content-table"></div>'),zP=Mp("<span>0 &times; 0</span>"),eme=Mp("<table></table>"),tme=0;tme<10;tme++){for(var nme=Mp("<tr></tr>"),rme=0;rme<10;rme++){var ime=Mp("<td></td>");ime.attr("data-x",rme.toString()),ime.attr("data-y",tme.toString()),nme.append(ime),ime.on("mouseenter",function(ome){var sme=ome.target;if(sme!=null){var ame=Mp(sme).dataset(),lme=ame.x,ume=ame.y;zP[0].innerHTML=lme+1+" &times; "+(ume+1),eme.children().each(function(dme){Mp(dme).children().each(function(pme){var hme=Mp(pme),cme=hme.dataset(),_me=cme.x,vme=cme.y;_me<=lme&&vme<=ume?hme.addClass("active"):hme.removeClass("active")})})}}),ime.on("click",function(ome){ome.preventDefault();var sme=ome.target;if(sme!=null){var ame=Mp(sme).dataset(),lme=ame.x,ume=ame.y;x_.insertTable(Ff,ume+1,lme+1)}})}eme.append(nme)}return $P.append(eme),$P.append(zP),this.$content=$P,$P[0]},kh.prototype.insertTable=function(Ff,x_,$P){var zP=parseInt(x_,10),eme=parseInt($P,10);if(zP&&eme&&!(zP<=0||eme<=0)){QO.isSelectedEmptyParagraph(Ff)&&md.removeNodes(Ff,{mode:"highest"});var tme=function(nme,rme){for(var ime=[],ome=0;ome<nme;ome++){for(var sme=[],ame=0;ame<rme;ame++){var lme={type:"table-cell",children:[{text:""}]};ome===0&&(lme.isHeader=!0),sme.push(lme)}ime.push({type:"table-row",children:sme})}return{type:"table",width:"auto",children:ime}}(zP,eme);md.insertNodes(Ff,tme,{mode:"highest"})}},kh}(),I3=function(){function kh(){this.title=HP("tableModule.deleteTable"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M826.8032 356.5312c-19.328 0-36.3776 15.6928-36.3776 35.0464v524.2624c0 19.328-16 34.56-35.328 34.56H264.9344c-19.328 0-35.5072-15.3088-35.5072-34.56V390.0416c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.6928-33.5104 35.0464V915.712c0 57.9328 44.6208 108.288 102.528 108.288H755.2c57.9328 0 108.0832-50.4576 108.0832-108.288V391.4752c-0.1024-19.2512-17.1264-34.944-36.48-34.944z" p-id="9577"></path><path d="M437.1712 775.7568V390.6048c0-19.328-14.1568-35.0464-33.5104-35.0464s-33.5104 15.616-33.5104 35.0464v385.152c0 19.328 14.1568 35.0464 33.5104 35.0464s33.5104-15.7184 33.5104-35.0464zM649.7024 775.7568V390.6048c0-19.328-17.0496-35.0464-36.3776-35.0464s-36.3776 15.616-36.3776 35.0464v385.152c0 19.328 17.0496 35.0464 36.3776 35.0464s36.3776-15.7184 36.3776-35.0464zM965.0432 217.0368h-174.6176V145.5104c0-57.9328-47.2064-101.76-104.6528-101.76h-350.976c-57.8304 0-105.3952 43.8528-105.3952 101.76v71.5264H54.784c-19.4304 0-35.0464 14.1568-35.0464 33.5104 0 19.328 15.616 33.5104 35.0464 33.5104h910.3616c19.328 0 35.0464-14.1568 35.0464-33.5104 0-19.3536-15.6928-33.5104-35.1488-33.5104z m-247.3728 0H297.3952V145.5104c0-19.328 18.2016-34.7648 37.4272-34.7648h350.976c19.1488 0 31.872 15.1296 31.872 34.7648v71.5264z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||QO.getSelectedNodeByType(Ff,"table")==null},kh.prototype.exec=function(Ff,x_){this.isDisabled(Ff)||md.removeNodes(Ff,{mode:"highest"})},kh}(),L3=function(){function kh(){this.title=HP("tableModule.insertRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M707.7888 521.0112h-147.456v-147.456H488.2432v147.456h-147.456v68.8128h147.456v147.456h72.0896v-147.456h147.456zM0 917.504V0h1048.576v917.504H0zM327.68 65.536H65.536v196.608H327.68V65.536z m327.68 0H393.216v196.608h262.144V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 258.8672H65.536v462.0288H983.04V324.4032z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=Y4(Bf.nodes(Ff,{match:function(lme){return QO.checkNodeType(lme,"table-cell")},universal:!0}),1),zP=Y4($P[0],2),eme=zP[0],tme=zP[1],nme=QO.getParentNode(Ff,eme),rme=(nme==null?void 0:nme.children.length)||0;if(rme!==0){for(var ime={type:"table-row",children:[]},ome=0;ome<rme;ome++)ime.children.push({type:"table-cell",children:[{text:""}]});var sme=Mf.parent(tme),ame=Mf.next(sme);md.insertNodes(Ff,ime,{at:ame})}}},kh}(),R3=function(){function kh(){this.title=HP("tableModule.deleteRow"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M907.6736 586.5472L747.1104 425.984l163.84-163.84-78.6432-78.6432-163.84 163.84L507.904 186.7776 429.2608 262.144l163.84 163.84-167.1168 167.1168 78.6432 78.6432 167.1168-167.1168 160.5632 160.5632 75.3664-78.6432zM0 917.504V0h1048.576v917.504H0z m983.04-327.68h-22.9376l-65.536-65.536H983.04V327.68h-91.7504l65.536-65.536h26.2144V65.536H65.536v196.608h317.8496l65.536 65.536H65.536v196.608h380.1088l-65.536 65.536H65.536v196.608H983.04v-196.608z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table-row")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=Y4(Bf.nodes(Ff,{match:function(rme){return QO.checkNodeType(rme,"table-row")},universal:!0}),1),zP=Y4($P[0],2),eme=zP[0],tme=zP[1],nme=QO.getParentNode(Ff,eme);((nme==null?void 0:nme.children.length)||0)<=1?md.removeNodes(Ff,{mode:"highest"}):md.removeNodes(Ff,{at:tme})}},kh}(),M3={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},z3=j1("span").classList,$3=z3&&z3.constructor&&z3.constructor.prototype,H3=$3===Object.prototype?void 0:$3,V3=o6.forEach,U3=function(kh,Ff){var x_=[].forEach;return!!x_&&S0(function(){x_.call(null,function(){throw 1},1)})}(),W3=U3?[].forEach:function(kh){return V3(this,kh,arguments.length>1?arguments[1]:void 0)},G3=function(kh){if(kh&&kh.forEach!==W3)try{U1(kh,"forEach",W3)}catch(Ff){kh.forEach=W3}};for(var q3 in M3)M3[q3]&&G3(D0[q3]&&D0[q3].prototype);G3(H3);var K3=function(){function kh(){this.title=HP("tableModule.insertCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 193.3312v186.7776H140.9024v91.7504H327.68v186.7776h88.4736V471.8592h190.0544V380.1088H416.1536V193.3312zM0 917.504V0h1048.576v917.504H0zM655.36 65.536H65.536v720.896H655.36V65.536z m327.68 0h-262.144v196.608h262.144V65.536z m0 262.144h-262.144v196.608h262.144V327.68z m0 262.144h-262.144v196.608h262.144v-196.608z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=Y4(Bf.nodes(Ff,{match:function(ime){return QO.checkNodeType(ime,"table-cell")},universal:!0}),1),zP=Y4($P[0],2),eme=zP[0],tme=zP[1],nme=QO.getParentNode(Ff,eme);if(nme!=null){var rme=QO.getParentNode(Ff,nme);rme!=null&&(rme.children||[]).forEach(function(ime,ome){Sf.isElement(ime)&&(ime.children||[]).forEach(function(sme){var ame=QO.findPath(Ff,sme);if(ame.length===tme.length&&v0(ame.slice(-1),tme.slice(-1))){var lme={type:"table-cell",children:[{text:""}]};ome===0&&s6(rme)&&(lme.isHeader=!0),md.insertNodes(Ff,lme,{at:ame})}})})}}},kh}(),Y3=function(){function kh(){this.title=HP("tableModule.deleteCol"),this.iconSvg='<svg viewBox="0 0 1048 1024"><path d="M327.68 510.976L393.216 445.44v-13.1072L327.68 366.7968V510.976z m327.68-78.4384l65.536-65.536V507.904L655.36 442.368v-9.8304z m393.216 484.9664V0H0v917.504h1048.576z m-65.536-131.072h-262.144v-52.4288l-13.1072 13.1072-52.4288-52.4288v91.7504H393.216v-91.7504l-52.4288 52.4288-13.1072-13.1072v52.4288H65.536V65.536H327.68v121.2416l36.0448-36.0448 29.4912 29.4912V62.2592h262.144V180.224l49.152-49.152 16.384 16.384V62.2592h262.144V786.432z m-294.912-108.1344l-160.5632-160.5632-167.1168 167.1168-78.6432-78.6432 167.1168-167.1168L288.3584 278.528l78.6432-78.6432 160.5632 160.5632 163.84-163.84 78.6432 78.6432-163.84 163.84 160.5632 160.5632-78.6432 78.6432z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table-cell")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=Y4(Bf.nodes(Ff,{match:function(ome){return QO.checkNodeType(ome,"table-cell")},universal:!0}),1),zP=Y4($P[0],2),eme=zP[0],tme=zP[1],nme=QO.getParentNode(Ff,eme),rme=(nme==null?void 0:nme.children.length)||0;if(!nme||rme<=1)md.removeNodes(Ff,{mode:"highest"});else{var ime=QO.getParentNode(Ff,nme);ime!=null&&(ime.children||[]).forEach(function(ome){Sf.isElement(ome)&&(ome.children||[]).forEach(function(sme){var ame=QO.findPath(Ff,sme);ame.length===tme.length&&v0(ame.slice(-1),tme.slice(-1))&&md.removeNodes(Ff,{at:ame})})})}}},kh}(),X3=function(){function kh(){this.title=HP("tableModule.header"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M704 128l-64 0L384 128 320 128 0 128l0 256 0 64 0 192 0 64 0 256 320 0 64 0 256 0 64 0 320 0 0-256 0-64L1024 448 1024 384 1024 128 704 128zM640 640 384 640 384 448l256 0L640 640zM64 448l256 0 0 192L64 640 64 448zM320 896 64 896l0-192 256 0L320 896zM640 896 384 896l0-192 256 0L640 896zM960 896l-256 0 0-192 256 0L960 896zM960 640l-256 0L704 448l256 0L960 640z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"table");return x_!=null&&s6(x_)},kh.prototype.isActive=function(Ff){return!!this.getValue(Ff)},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P=!x_,zP=QO.getSelectedNodeByType(Ff,"table");zP!=null&&u6(zP).forEach(function(eme){return md.setNodes(Ff,{isHeader:$P},{at:QO.findPath(Ff,eme)})})}},kh}(),Z3=function(){function kh(){this.title=HP("tableModule.widthAuto"),this.iconSvg='<svg viewBox="0 0 1228 1024"><path d="M862.514337 563.200461H404.581995v121.753478a13.311987 13.311987 0 0 1-6.655993 11.468789 10.23999 10.23999 0 0 1-12.083188-1.433599l-204.799795-179.199821a13.721586 13.721586 0 0 1 0-20.479979l204.799795-179.302221a10.23999 10.23999 0 0 1 12.185588-1.535998 13.209587 13.209587 0 0 1 6.553593 11.673588v115.097485h457.932342V319.693504a11.571188 11.571188 0 0 1 18.841582-10.239989l204.799795 179.19982a13.721586 13.721586 0 0 1 0 20.47998l-204.799795 179.199821a10.23999 10.23999 0 0 1-12.185588 1.535998 13.311987 13.311987 0 0 1-6.655994-11.571188V563.200461zM136.499064 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785H15.155185A15.155185 15.155185 0 0 1 0 1008.844815V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086294a15.155185 15.155185 0 0 1 15.257585 15.155185zM1228.798771 14.951409v993.893406a15.257585 15.257585 0 0 1-15.155185 15.052785h-106.188693a15.155185 15.155185 0 0 1-15.155185-15.052785V14.951409a15.257585 15.257585 0 0 1 15.155185-15.052785h106.086293A15.155185 15.155185 0 0 1 1228.798771 15.053809z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"table");return x_!=null&&x_.width==="100%"},kh.prototype.isActive=function(Ff){return!!this.getValue(Ff)},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||QO.getSelectedNodeByType(Ff,"table")==null},kh.prototype.exec=function(Ff,x_){if(!this.isDisabled(Ff)){var $P={width:x_?"auto":"100%"};md.setNodes(Ff,$P,{mode:"highest"})}},kh}(),J3={renderElems:[f3,d3,p3],elemsToHtml:[{type:"table",elemToHtml:function(kh,Ff){var x_=kh.width;return'<table style="width: '+(x_===void 0?"auto":x_)+';"><tbody>'+Ff+"</tbody></table>"}},{type:"table-row",elemToHtml:function(kh,Ff){return"<tr>"+Ff+"</tr>"}},{type:"table-cell",elemToHtml:function(kh,Ff){var x_=kh,$P=x_.colSpan,zP=$P===void 0?1:$P,eme=x_.rowSpan,tme=eme===void 0?1:eme,nme=x_.isHeader,rme=nme!==void 0&&nme,ime=x_.width,ome=rme?"th":"td";return"<"+ome+' colSpan="'+zP+'" rowSpan="'+tme+'" width="'+(ime===void 0?"auto":ime)+'">'+Ff+"</"+ome+">"}}],preParseHtml:[h3],parseElemsHtml:[_3,P3,j3],menus:[{key:"insertTable",factory:function(){return new N3}},{key:"deleteTable",factory:function(){return new I3}},{key:"insertTableRow",factory:function(){return new L3}},{key:"deleteTableRow",factory:function(){return new R3}},{key:"insertTableCol",factory:function(){return new K3}},{key:"deleteTableCol",factory:function(){return new Y3}},{key:"tableHeader",factory:function(){return new X3}},{key:"tableFullWidth",factory:function(){return new Z3}}],editorPlugin:function(kh){var Ff=kh.insertBreak,x_=kh.deleteBackward,$P=kh.deleteForward,zP=kh.normalizeNode,eme=kh.insertData,tme=kh.handleTab,nme=kh.selectAll,rme=kh;return rme.insertBreak=function(){QO.getSelectedNodeByType(rme,"table")==null?Ff():rme.insertText(`
`)},rme.deleteBackward=function(ime){if(!X4(rme)){var ome=rme.selection;if(ome){var sme=Bf.before(rme,ome);if(sme){var ame=Z4(rme,sme),lme=Z4(rme,ome);if(ame&&!lme)return}}x_(ime)}},rme.handleTab=function(){var ime;if(QO.getSelectedNodeByType(rme,"table")){var ome=Bf.above(kh);QO.checkNodeType(ome[0],"table-cell")&&md.select(kh,ome[1]);var sme=Bf.next(kh);if(sme)sme[0]&&sme[0].text&&(sme=(ime=Bf.above(kh,{at:sme[1]}))!==null&&ime!==void 0?ime:sme),md.select(kh,sme[1]);else{var ame=rme.children||[],lme=ame.length;if(QO.checkNodeType(ame[lme-1],"table")){var ume=QO.genEmptyParagraph();md.insertNodes(rme,ume,{at:[lme]}),rme.handleTab()}}}else tme()},rme.deleteForward=function(ime){X4(rme)||$P(ime)},rme.normalizeNode=function(ime){var ome=Y4(ime,2),sme=ome[0],ame=ome[1];if(QO.getNodeType(sme)!=="table")return zP([sme,ame]);if(QO.isLastNode(rme,sme)){var lme=QO.genEmptyParagraph();md.insertNodes(rme,lme,{at:[ame[0]+1]})}},rme.insertData=function(ime){if(QO.getSelectedNodeByType(rme,"table")!=null){var ome=ime.getData("text/plain");ome===`
`||/<img[^>]+>/.test(ime.getData("text/html"))?eme(ime):Bf.insertText(rme,ome)}else eme(ime)},rme.selectAll=function(){var ime=rme.selection;if(ime!=null){var ome=QO.getSelectedNodeByType(rme,"table-cell");if(ome!=null){var sme=ime.anchor,ame=ime.focus;if(Mf.equals(sme.path.slice(0,3),ame.path.slice(0,3)))if(Nf.string(ome).length!==0){var lme=QO.findPath(rme,ome),ume={anchor:Bf.start(rme,lme),focus:Bf.end(rme,lme)};rme.select(ume)}else nme();else nme()}else nme()}else nme()},rme}};MP("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"Video source",videoSrcPlaceHolder:"Video file url, or third-party <iframe>",videoPoster:"Video poster",videoPosterPlaceHolder:"Poster image url",ok:"Ok",editSize:"Edit size",width:"Width",height:"Height"}}),MP("zh-CN",{videoModule:{delete:"删除视频",uploadVideo:"上传视频",insertVideo:"插入视频",videoSrc:"视频地址",videoSrcPlaceHolder:"视频文件 url 或第三方 <iframe>",videoPoster:"视频封面",videoPosterPlaceHolder:"封面图片 url",ok:"确定",editSize:"修改尺寸",width:"宽度",height:"高度"}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q3=function(){return Q3=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++)for(var zP in Ff=arguments[x_])Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP]);return kh},Q3.apply(this,arguments)};function e5(kh,Ff,x_,$P){return new(x_||(x_=Promise))(function(zP,eme){function tme(ime){try{rme($P.next(ime))}catch(ome){eme(ome)}}function nme(ime){try{rme($P.throw(ime))}catch(ome){eme(ome)}}function rme(ime){var ome;ime.done?zP(ime.value):(ome=ime.value,ome instanceof x_?ome:new x_(function(sme){sme(ome)})).then(tme,nme)}rme(($P=$P.apply(kh,Ff||[])).next())})}function t5(kh,Ff){var x_,$P,zP,eme,tme={label:0,sent:function(){if(1&zP[0])throw zP[1];return zP[1]},trys:[],ops:[]};return eme={next:nme(0),throw:nme(1),return:nme(2)},typeof Symbol=="function"&&(eme[Symbol.iterator]=function(){return this}),eme;function nme(rme){return function(ime){return function(ome){if(x_)throw new TypeError("Generator is already executing.");for(;tme;)try{if(x_=1,$P&&(zP=2&ome[0]?$P.return:ome[0]?$P.throw||((zP=$P.return)&&zP.call($P),0):$P.next)&&!(zP=zP.call($P,ome[1])).done)return zP;switch($P=0,zP&&(ome=[2&ome[0],zP.value]),ome[0]){case 0:case 1:zP=ome;break;case 4:return tme.label++,{value:ome[1],done:!1};case 5:tme.label++,$P=ome[1],ome=[0];continue;case 7:ome=tme.ops.pop(),tme.trys.pop();continue;default:if(!((zP=(zP=tme.trys).length>0&&zP[zP.length-1])||ome[0]!==6&&ome[0]!==2)){tme=0;continue}if(ome[0]===3&&(!zP||ome[1]>zP[0]&&ome[1]<zP[3])){tme.label=ome[1];break}if(ome[0]===6&&tme.label<zP[1]){tme.label=zP[1],zP=ome;break}if(zP&&tme.label<zP[2]){tme.label=zP[2],tme.ops.push(ome);break}zP[2]&&tme.ops.pop(),tme.trys.pop();continue}ome=Ff.call(kh,tme)}catch(sme){ome=[6,sme],$P=0}finally{x_=zP=0}if(5&ome[0])throw ome[1];return{value:ome[0]?ome[1]:void 0,done:!0}}([rme,ime])}}}function n5(kh,Ff){var x_=typeof Symbol=="function"&&kh[Symbol.iterator];if(!x_)return kh;var $P,zP,eme=x_.call(kh),tme=[];try{for(;(Ff===void 0||Ff-- >0)&&!($P=eme.next()).done;)tme.push($P.value)}catch(nme){zP={error:nme}}finally{try{$P&&!$P.done&&(x_=eme.return)&&x_.call(eme)}finally{if(zP)throw zP.error}}return tme}function r5(kh){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ff,x_=kh[Symbol.asyncIterator];return x_?x_.call(kh):(kh=function(zP){var eme=typeof Symbol=="function"&&Symbol.iterator,tme=eme&&zP[eme],nme=0;if(tme)return tme.call(zP);if(zP&&typeof zP.length=="number")return{next:function(){return zP&&nme>=zP.length&&(zP=void 0),{value:zP&&zP[nme++],done:!zP}}};throw new TypeError(eme?"Object is not iterable.":"Symbol.iterator is not defined.")}(kh),Ff={},$P("next"),$P("throw"),$P("return"),Ff[Symbol.asyncIterator]=function(){return this},Ff);function $P(zP){Ff[zP]=kh[zP]&&function(eme){return new Promise(function(tme,nme){(function(rme,ime,ome,sme){Promise.resolve(sme).then(function(ame){rme({value:ame,done:ome})},ime)})(tme,nme,(eme=kh[zP](eme)).done,eme.value)})}}}var o5=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function i5(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var a5,u5,s5=function(kh){return kh&&kh.Math==Math&&kh},l5=s5(typeof globalThis=="object"&&globalThis)||s5(typeof window=="object"&&window)||s5(typeof self=="object"&&self)||s5(typeof o5=="object"&&o5)||function(){return this}()||Function("return this")(),c5=function(kh){try{return!!kh()}catch(Ff){return!0}},f5=!c5(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),d5=Function.prototype.call,p5=d5.bind?d5.bind(d5):function(){return d5.apply(d5,arguments)},h5={}.propertyIsEnumerable,g5=Object.getOwnPropertyDescriptor,v5={f:g5&&!h5.call({1:2},1)?function(kh){var Ff=g5(this,kh);return!!Ff&&Ff.enumerable}:h5},y5=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},m5=Function.prototype,b5=m5.bind,w5=m5.call,E5=b5&&b5.bind(w5),D5=b5?function(kh){return kh&&E5(w5,kh)}:function(kh){return kh&&function(){return w5.apply(kh,arguments)}},S5=D5({}.toString),x5=D5("".slice),C5=function(kh){return x5(S5(kh),8,-1)},A5=l5.Object,O5=D5("".split),k5=c5(function(){return!A5("z").propertyIsEnumerable(0)})?function(kh){return C5(kh)=="String"?O5(kh,""):A5(kh)}:A5,B5=l5.TypeError,F5=function(kh){if(kh==null)throw B5("Can't call method on "+kh);return kh},T5=function(kh){return k5(F5(kh))},_5=function(kh){return typeof kh=="function"},P5=function(kh){return typeof kh=="object"?kh!==null:_5(kh)},j5=function(kh){return _5(kh)?kh:void 0},N5=function(kh,Ff){return arguments.length<2?j5(l5[kh]):l5[kh]&&l5[kh][Ff]},I5=D5({}.isPrototypeOf),L5=N5("navigator","userAgent")||"",R5=l5.process,M5=l5.Deno,z5=R5&&R5.versions||M5&&M5.version,$5=z5&&z5.v8;$5&&(u5=(a5=$5.split("."))[0]>0&&a5[0]<4?1:+(a5[0]+a5[1])),!u5&&L5&&(!(a5=L5.match(/Edge\/(\d+)/))||a5[1]>=74)&&(a5=L5.match(/Chrome\/(\d+)/))&&(u5=+a5[1]);var H5=u5,V5=!!Object.getOwnPropertySymbols&&!c5(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&H5&&H5<41}),U5=V5&&!Symbol.sham&&typeof Symbol.iterator=="symbol",W5=l5.Object,G5=U5?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=N5("Symbol");return _5(Ff)&&I5(Ff.prototype,W5(kh))},q5=l5.String,K5=function(kh){try{return q5(kh)}catch(Ff){return"Object"}},Y5=l5.TypeError,X5=function(kh){if(_5(kh))return kh;throw Y5(K5(kh)+" is not a function")},Z5=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:X5(x_)},J5=l5.TypeError,Q5=Object.defineProperty,e8=function(kh,Ff){try{Q5(l5,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){l5[kh]=Ff}return Ff},t8=l5["__core-js_shared__"]||e8("__core-js_shared__",{}),n8=i5(function(kh){(kh.exports=function(Ff,x_){return t8[Ff]||(t8[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),r8=l5.Object,o8=function(kh){return r8(F5(kh))},i8=D5({}.hasOwnProperty),a8=Object.hasOwn||function(kh,Ff){return i8(o8(kh),Ff)},u8=0,s8=Math.random(),l8=D5(1 .toString),c8=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+l8(++u8+s8,36)},f8=n8("wks"),d8=l5.Symbol,p8=d8&&d8.for,h8=U5?d8:d8&&d8.withoutSetter||c8,g8=function(kh){if(!a8(f8,kh)||!V5&&typeof f8[kh]!="string"){var Ff="Symbol."+kh;V5&&a8(d8,kh)?f8[kh]=d8[kh]:f8[kh]=U5&&p8?p8(Ff):h8(Ff)}return f8[kh]},v8=l5.TypeError,y8=g8("toPrimitive"),m8=function(kh){var Ff=function(x_,$P){if(!P5(x_)||G5(x_))return x_;var zP,eme=Z5(x_,y8);if(eme){if($P===void 0&&($P="default"),zP=p5(eme,x_,$P),!P5(zP)||G5(zP))return zP;throw v8("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&_5(rme=tme.toString)&&!P5(ime=p5(rme,tme))||_5(rme=tme.valueOf)&&!P5(ime=p5(rme,tme))||nme!=="string"&&_5(rme=tme.toString)&&!P5(ime=p5(rme,tme)))return ime;throw J5("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return G5(Ff)?Ff:Ff+""},b8=l5.document,w8=P5(b8)&&P5(b8.createElement),E8=function(kh){return w8?b8.createElement(kh):{}},D8=!f5&&!c5(function(){return Object.defineProperty(E8("div"),"a",{get:function(){return 7}}).a!=7}),S8=Object.getOwnPropertyDescriptor,x8={f:f5?S8:function(kh,Ff){if(kh=T5(kh),Ff=m8(Ff),D8)try{return S8(kh,Ff)}catch(x_){}if(a8(kh,Ff))return y5(!p5(v5.f,kh,Ff),kh[Ff])}},C8=l5.String,A8=l5.TypeError,O8=function(kh){if(P5(kh))return kh;throw A8(C8(kh)+" is not an object")},k8=l5.TypeError,B8=Object.defineProperty,F8={f:f5?B8:function(kh,Ff,x_){if(O8(kh),Ff=m8(Ff),O8(x_),D8)try{return B8(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw k8("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},T8=f5?function(kh,Ff,x_){return F8.f(kh,Ff,y5(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},_8=D5(Function.toString);_5(t8.inspectSource)||(t8.inspectSource=function(kh){return _8(kh)});var P8,j8,N8,I8=t8.inspectSource,L8=l5.WeakMap,R8=_5(L8)&&/native code/.test(I8(L8)),M8=n8("keys"),z8=function(kh){return M8[kh]||(M8[kh]=c8(kh))},$8={},H8=l5.TypeError,V8=l5.WeakMap;if(R8||t8.state){var U8=t8.state||(t8.state=new V8),W8=D5(U8.get),G8=D5(U8.has),q8=D5(U8.set);P8=function(kh,Ff){if(G8(U8,kh))throw new H8("Object already initialized");return Ff.facade=kh,q8(U8,kh,Ff),Ff},j8=function(kh){return W8(U8,kh)||{}},N8=function(kh){return G8(U8,kh)}}else{var K8=z8("state");$8[K8]=!0,P8=function(kh,Ff){if(a8(kh,K8))throw new H8("Object already initialized");return Ff.facade=kh,T8(kh,K8,Ff),Ff},j8=function(kh){return a8(kh,K8)?kh[K8]:{}},N8=function(kh){return a8(kh,K8)}}var Y8={set:P8,get:j8,has:N8,enforce:function(kh){return N8(kh)?j8(kh):P8(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!P5(Ff)||(x_=j8(Ff)).type!==kh)throw H8("Incompatible receiver, "+kh+" required");return x_}}},X8=Function.prototype,Z8=f5&&Object.getOwnPropertyDescriptor,J8=a8(X8,"name"),Q8={EXISTS:J8,PROPER:J8&&function(){}.name==="something",CONFIGURABLE:J8&&(!f5||f5&&Z8(X8,"name").configurable)},e7=i5(function(kh){var Ff=Q8.CONFIGURABLE,x_=Y8.get,$P=Y8.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;_5(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a8(nme,"name")||Ff&&nme.name!==lme)&&T8(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==l5?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:T8(eme,tme,nme)):sme?eme[tme]=nme:e8(tme,nme)})(Function.prototype,"toString",function(){return _5(this)&&x_(this).source||I8(this)})}),t7=Math.ceil,n7=Math.floor,r7=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?n7:t7)(Ff)},o7=Math.max,i7=Math.min,a7=function(kh,Ff){var x_=r7(kh);return x_<0?o7(x_+Ff,0):i7(x_,Ff)},u7=Math.min,s7=function(kh){return kh>0?u7(r7(kh),9007199254740991):0},l7=function(kh){return s7(kh.length)},c7=function(kh){return function(Ff,x_,$P){var zP,eme=T5(Ff),tme=l7(eme),nme=a7($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},f7={includes:c7(!0),indexOf:c7(!1)},d7=f7.indexOf,p7=D5([].push),h7=function(kh,Ff){var x_,$P=T5(kh),zP=0,eme=[];for(x_ in $P)!a8($8,x_)&&a8($P,x_)&&p7(eme,x_);for(;Ff.length>zP;)a8($P,x_=Ff[zP++])&&(~d7(eme,x_)||p7(eme,x_));return eme},g7=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],v7=g7.concat("length","prototype"),y7={f:Object.getOwnPropertyNames||function(kh){return h7(kh,v7)}},m7={f:Object.getOwnPropertySymbols},b7=D5([].concat),w7=N5("Reflect","ownKeys")||function(kh){var Ff=y7.f(O8(kh)),x_=m7.f;return x_?b7(Ff,x_(kh)):Ff},E7=function(kh,Ff){for(var x_=w7(Ff),$P=F8.f,zP=x8.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];a8(kh,tme)||$P(kh,tme,zP(Ff,tme))}},D7=/#|\.prototype\./,S7=function(kh,Ff){var x_=C7[x7(kh)];return x_==O7||x_!=A7&&(_5(Ff)?c5(Ff):!!Ff)},x7=S7.normalize=function(kh){return String(kh).replace(D7,".").toLowerCase()},C7=S7.data={},A7=S7.NATIVE="N",O7=S7.POLYFILL="P",k7=S7,B7=x8.f,F7=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?l5:ime?l5[nme]||e8(nme,{}):(l5[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=B7(x_,$P))&&tme.value:x_[$P],!k7(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;E7(eme,zP)}(kh.sham||zP&&zP.sham)&&T8(eme,"sham",!0),e7(x_,$P,eme,kh)}},T7={};T7[g8("toStringTag")]="z";var _7=String(T7)==="[object z]",P7=g8("toStringTag"),j7=l5.Object,N7=C5(function(){return arguments}())=="Arguments",I7=_7?C5:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=j7(kh),P7))=="string"?x_:N7?C5(Ff):($P=C5(Ff))=="Object"&&_5(Ff.callee)?"Arguments":$P},L7=l5.String,R7=function(kh){if(I7(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return L7(kh)},M7=`	
\v\f\r                　\u2028\u2029\uFEFF`,z7=D5("".replace),$7="["+M7+"]",H7=RegExp("^"+$7+$7+"*"),V7=RegExp($7+$7+"*$"),U7=function(kh){return function(Ff){var x_=R7(F5(Ff));return 1&kh&&(x_=z7(x_,H7,"")),2&kh&&(x_=z7(x_,V7,"")),x_}},W7={start:U7(1),end:U7(2),trim:U7(3)},G7=Q8.PROPER,q7=W7.trim;function K7(kh){return kh.length?kh[0].tagName.toLowerCase():""}function Y7(kh,Ff,x_){Ff===void 0&&(Ff="auto"),x_===void 0&&(x_="auto");var $P=Mp(kh);return $P.attr("width",Ff),$P.attr("height",x_),$P[0].outerHTML}F7({target:"String",proto:!0,forced:c5(function(){return!!M7.trim()||"​᠎".trim()!=="​᠎"||G7&&M7.trim.name!=="trim"})},{trim:function(){return q7(this)}}),F7({global:!0},{globalThis:l5}),ah&&(Mp.fn.append=ah),qp&&(Mp.fn.on=qp),yh&&(Mp.fn.focus=yh),Vp&&(Mp.fn.attr=Vp),Gp&&(Mp.fn.val=Gp),rh&&(Mp.fn.html=rh),sh&&(Mp.fn.parent=sh),Hp&&(Mp.fn.hasClass=Hp),ph&&(Mp.fn.empty=ph);var X7,Z7={type:"video",renderElem:function(kh,Ff,x_){var $P,zP=kh,eme=zP.src,tme=eme===void 0?"":eme,nme=zP.poster,rme=nme===void 0?"":nme,ime=zP.width,ome=ime===void 0?"auto":ime,sme=zP.height,ame=sme===void 0?"auto":sme,lme=QO.isNodeSelected(x_,kh);if(tme.trim().indexOf("<iframe ")===0)$P=Pg("div",{className:"w-e-textarea-video-container","data-selected":lme?"true":"",innerHTML:Y7(tme,ome,ame)});else{var ume=Pg("video",{poster:rme,controls:!0},Pg("source",{src:tme,type:"video/mp4"}),`Sorry, your browser doesn't support embedded videos.
 抱歉，浏览器不支持 video 视频`);ome!=="auto"&&(ume.data.width=ome),ame!=="auto"&&(ume.data.height=ame),$P=Pg("div",{className:"w-e-textarea-video-container","data-selected":lme?"true":""},ume)}return pg("div",{props:{contentEditable:!1},on:{mousedown:function(dme){return dme.preventDefault()}}},$P)}},J7={type:"video",elemToHtml:function(kh,Ff){var x_=kh,$P=x_.src,zP=$P===void 0?"":$P,eme=x_.poster,tme=eme===void 0?"":eme,nme=x_.width,rme=nme===void 0?"auto":nme,ime=x_.height,ome=ime===void 0?"auto":ime,sme=`<div data-w-e-type="video" data-w-e-is-void>
`;return zP.trim().indexOf("<iframe ")===0?sme+=Y7(zP,rme,ome):sme+='<video poster="'+tme+'" controls="true" width="'+rme+'" height="'+ome+'"><source src="'+zP+'" type="video/mp4"/></video>',sme+`
</div>`}},Q7=Object.keys||function(kh){return h7(kh,g7)},e9=f5?Object.defineProperties:function(kh,Ff){O8(kh);for(var x_,$P=T5(Ff),zP=Q7(Ff),eme=zP.length,tme=0;eme>tme;)F8.f(kh,x_=zP[tme++],$P[x_]);return kh},t9=N5("document","documentElement"),n9=z8("IE_PROTO"),r9=function(){},o9=function(kh){return"<script>"+kh+"<\/script>"},i9=function(kh){kh.write(o9("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},a9=function(){try{X7=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;a9=typeof document!="undefined"?document.domain&&X7?i9(X7):((Ff=E8("iframe")).style.display="none",t9.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(o9("document.F=Object")),kh.close(),kh.F):i9(X7);for(var x_=g7.length;x_--;)delete a9.prototype[g7[x_]];return a9()};$8[n9]=!0;var u9=Object.create||function(kh,Ff){var x_;return kh!==null?(r9.prototype=O8(kh),x_=new r9,r9.prototype=null,x_[n9]=kh):x_=a9(),Ff===void 0?x_:e9(x_,Ff)},s9=g8("unscopables"),l9=Array.prototype;l9[s9]==null&&F8.f(l9,s9,{configurable:!0,value:u9(null)});var c9=function(kh){l9[s9][kh]=!0},f9=f7.includes;F7({target:"Array",proto:!0},{includes:function(kh){return f9(this,kh,arguments.length>1?arguments[1]:void 0)}}),c9("includes");var d9={selector:"iframe,video,p",preParseHtml:function(kh){var Ff=Mp(kh),x_=Ff;if(K7(Ff)==="p"){var $P=Ff.children();if($P.length===1){var zP=$P[0],eme=zP.tagName.toLowerCase();["iframe","video"].includes(eme)&&(x_=Mp(zP))}}var tme=K7(x_);if(tme!=="iframe"&&tme!=="video"||x_.parent().attr("data-w-e-type")==="video")return x_[0];var nme=Mp('<div data-w-e-type="video" data-w-e-is-void></div>');return nme.append(x_),nme[0]}},p9=D5(D5.bind),h9=function(kh,Ff){return X5(kh),Ff===void 0?kh:p9?p9(kh,Ff):function(){return kh.apply(Ff,arguments)}},g9=Array.isArray||function(kh){return C5(kh)=="Array"},v9=function(){},y9=[],m9=N5("Reflect","construct"),b9=/^\s*(?:class|function)\b/,w9=D5(b9.exec),E9=!b9.exec(v9),D9=function(kh){if(!_5(kh))return!1;try{return m9(v9,y9,kh),!0}catch(Ff){return!1}},S9=!m9||c5(function(){var kh;return D9(D9.call)||!D9(Object)||!D9(function(){kh=!0})||kh})?function(kh){if(!_5(kh))return!1;switch(I7(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return E9||!!w9(b9,I8(kh))}:D9,x9=g8("species"),C9=l5.Array,A9=function(kh,Ff){return new(function(x_){var $P;return g9(x_)&&($P=x_.constructor,(S9($P)&&($P===C9||g9($P.prototype))||P5($P)&&($P=$P[x9])===null)&&($P=void 0)),$P===void 0?C9:$P}(kh))(Ff===0?0:Ff)},O9=D5([].push),k9=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=o8(rme),dme=k5(ume),pme=h9(ime,ome),hme=l7(dme),cme=0,_me=sme||A9,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:O9(vme,ame)}else switch(kh){case 4:return!1;case 7:O9(vme,ame)}return eme?-1:$P||zP?zP:vme}},B9={forEach:k9(0),map:k9(1),filter:k9(2),some:k9(3),every:k9(4),find:k9(5),findIndex:k9(6),filterReject:k9(7)},F9=B9.find,T9=!0;"find"in[]&&Array(1).find(function(){T9=!1}),F7({target:"Array",proto:!0,forced:T9},{find:function(kh){return F9(this,kh,arguments.length>1?arguments[1]:void 0)}}),c9("find");var _9=_7?{}.toString:function(){return"[object "+I7(this)+"]"};function P9(kh,Ff,x_,$P){return Ff===void 0&&(Ff=""),x_===void 0&&(x_="auto"),$P===void 0&&($P="auto"),{type:"video",src:kh,poster:Ff,width:x_,height:$P,children:[{text:""}]}}_7||e7(Object.prototype,"toString",_9,{unsafe:!0});var j9,N9,I9={selector:'div[data-w-e-type="video"]',parseElemHtml:function(kh,Ff,x_){var $P=Mp(kh),zP="",eme="",tme="auto",nme="auto",rme=$P.find("iframe");if(rme.length>0)return tme=rme.attr("width")||"auto",nme=rme.attr("height")||"auto",P9(zP=rme[0].outerHTML,eme,tme,nme);var ime=$P.find("video");return(zP=ime.attr("src")||"")||ime.length>0&&(zP=ime.find("source").attr("src")||""),tme=ime.attr("width")||"auto",nme=ime.attr("height")||"auto",P9(zP,eme=ime.attr("poster")||"",tme,nme)}},L9=function(){var kh=O8(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},R9=l5.RegExp,M9=c5(function(){var kh=R9("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),z9=M9||c5(function(){return!R9("a","y").sticky}),$9={BROKEN_CARET:M9||c5(function(){var kh=R9("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:z9,UNSUPPORTED_Y:M9},H9=l5.RegExp,V9=c5(function(){var kh=H9(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),U9=l5.RegExp,W9=c5(function(){var kh=U9("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),G9=Y8.get,q9=n8("native-string-replace",String.prototype.replace),K9=RegExp.prototype.exec,Y9=K9,X9=D5("".charAt),Z9=D5("".indexOf),J9=D5("".replace),Q9=D5("".slice),eee=(N9=/b*/g,p5(K9,j9=/a/,"a"),p5(K9,N9,"a"),j9.lastIndex!==0||N9.lastIndex!==0),tee=$9.BROKEN_CARET,nee=/()??/.exec("")[1]!==void 0;(eee||nee||tee||V9||W9)&&(Y9=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=G9(rme),ome=R7(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=p5(Y9,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=tee&&rme.sticky,ume=p5(L9,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=J9(ume,"y",""),Z9(ume,"g")===-1&&(ume+="g"),hme=Q9(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&X9(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),nee&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),eee&&($P=rme.lastIndex),zP=p5(K9,lme?x_:rme,hme),lme?zP?(zP.input=Q9(zP.input,pme),zP[0]=Q9(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:eee&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),nee&&zP&&zP.length>1&&p5(q9,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=u9(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var ree=Y9;F7({target:"RegExp",proto:!0,forced:/./.exec!==ree},{exec:ree});var oee=Function.prototype,iee=oee.apply,aee=oee.bind,uee=oee.call,see=typeof Reflect=="object"&&Reflect.apply||(aee?uee.bind(iee):function(){return uee.apply(iee,arguments)}),lee=(g8("species"),RegExp.prototype),cee=D5("".charAt),fee=D5("".charCodeAt),dee=D5("".slice),pee=function(kh){return function(Ff,x_){var $P,zP,eme=R7(F5(Ff)),tme=r7(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=fee(eme,tme))<55296||$P>56319||tme+1===nme||(zP=fee(eme,tme+1))<56320||zP>57343?kh?cee(eme,tme):$P:kh?dee(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},hee={codeAt:pee(!1),charAt:pee(!0)},gee=hee.charAt,vee=function(kh,Ff,x_){return Ff+(x_?gee(kh,Ff).length:1)},yee=Math.floor,mee=D5("".charAt),bee=D5("".replace),wee=D5("".slice),Eee=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Dee=/\$([$&'`]|\d{1,2})/g,See=function(kh,Ff,x_,$P,zP,eme){var tme=x_+kh.length,nme=$P.length,rme=Dee;return zP!==void 0&&(zP=o8(zP),rme=Eee),bee(eme,rme,function(ime,ome){var sme;switch(mee(ome,0)){case"$":return"$";case"&":return kh;case"`":return wee(Ff,0,x_);case"'":return wee(Ff,tme);case"<":sme=zP[wee(ome,1,-1)];break;default:var ame=+ome;if(ame===0)return ime;if(ame>nme){var lme=yee(ame/10);return lme===0?ime:lme<=nme?$P[lme-1]===void 0?mee(ome,1):$P[lme-1]+mee(ome,1):ime}sme=$P[ame-1]}return sme===void 0?"":sme})},xee=l5.TypeError,Cee=function(kh,Ff){var x_=kh.exec;if(_5(x_)){var $P=p5(x_,kh,Ff);return $P!==null&&O8($P),$P}if(C5(kh)==="RegExp")return p5(ree,kh,Ff);throw xee("RegExp#exec called on incompatible receiver")},Aee=g8("replace"),Oee=Math.max,kee=Math.min,Bee=D5([].concat),Fee=D5([].push),Tee=D5("".indexOf),_ee=D5("".slice),Pee="a".replace(/./,"$0")==="$0",jee=!!/./[Aee]&&/./[Aee]("a","$0")==="";function Nee(kh){return kh===void 0&&(kh="r"),kh+"-"+Rh()}(function(kh,Ff,x_,$P){var zP=g8(kh),eme=!c5(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!c5(function(){var ime=!1,ome=/a/;return ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=D5(/./[zP]),rme=function(ime,ome,sme){var ame=jee?"$":"$0";return[function(lme,ume){var dme=F5(this),pme=lme==null?void 0:Z5(lme,Aee);return pme?p5(pme,lme,dme,ume):p5(ome,R7(dme),lme,ume)},function(lme,ume){var dme=O8(this),pme=R7(lme);if(typeof ume=="string"&&Tee(ume,ame)===-1&&Tee(ume,"$<")===-1){var hme=sme(ome,dme,pme,ume);if(hme.done)return hme.value}var cme=_5(ume);cme||(ume=R7(ume));var _me=dme.global;if(_me){var vme=dme.unicode;dme.lastIndex=0}for(var Eme=[];;){var wme=Cee(dme,pme);if(wme===null||(Fee(Eme,wme),!_me))break;R7(wme[0])===""&&(dme.lastIndex=vee(pme,s7(dme.lastIndex),vme))}for(var Tme,Dme="",Ame=0,Nme=0;Nme<Eme.length;Nme++){for(var Ume=R7((wme=Eme[Nme])[0]),jme=Oee(kee(r7(wme.index),pme.length),0),Fme=[],$me=1;$me<wme.length;$me++)Fee(Fme,(Tme=wme[$me])===void 0?Tme:String(Tme));var Gme=wme.groups;if(cme){var Wme=Bee([Ume],Fme,jme,pme);Gme!==void 0&&Fee(Wme,Gme);var Jme=R7(see(ume,void 0,Wme))}else Jme=See(Ume,pme,jme,Fme,Gme,ume);jme>=Ame&&(Dme+=_ee(pme,Ame,jme)+Jme,Ame=jme+Ume.length)}return Dme+_ee(pme,Ame)}]}(0,""[kh],function(ime,ome,sme,ame,lme){var ume=D5(ime),dme=ome.exec;return dme===ree||dme===lee.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});e7(String.prototype,kh,rme[0]),e7(lee,zP,rme[1])}})("replace",0,!!c5(function(){var kh=/./;return kh.exec=function(){var Ff=[];return Ff.groups={a:"7"},Ff},"".replace(kh,"$<a>")!=="7"})||!Pee||jee);var Iee=l5.Promise,Lee=function(kh,Ff,x_){for(var $P in Ff)e7(kh,$P,Ff[$P],x_);return kh},Ree=l5.String,Mee=l5.TypeError,zee=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=D5(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return O8($P),function(eme){if(typeof eme=="object"||_5(eme))return eme;throw Mee("Can't set "+Ree(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),$ee=F8.f,Hee=g8("toStringTag"),Vee=function(kh,Ff,x_){kh&&!a8(kh=x_?kh:kh.prototype,Hee)&&$ee(kh,Hee,{configurable:!0,value:Ff})},Uee=g8("species"),Wee=l5.TypeError,Gee=function(kh,Ff){if(I5(Ff,kh))return kh;throw Wee("Incorrect invocation")},qee={},Kee=g8("iterator"),Yee=Array.prototype,Xee=g8("iterator"),Zee=function(kh){if(kh!=null)return Z5(kh,Xee)||Z5(kh,"@@iterator")||qee[I7(kh)]},Jee=l5.TypeError,Qee=function(kh,Ff,x_){var $P,zP;O8(kh);try{if(!($P=Z5(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=p5($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return O8($P),x_},ete=l5.TypeError,tte=function(kh,Ff){this.stopped=kh,this.result=Ff},nte=tte.prototype,rte=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome,sme=x_&&x_.that,ame=!(!x_||!x_.AS_ENTRIES),lme=!(!x_||!x_.IS_ITERATOR),ume=!(!x_||!x_.INTERRUPTED),dme=h9(Ff,sme),pme=function(cme){return $P&&Qee($P,"normal",cme),new tte(!0,cme)},hme=function(cme){return ame?(O8(cme),ume?dme(cme[0],cme[1],pme):dme(cme[0],cme[1])):ume?dme(cme,pme):dme(cme)};if(lme)$P=kh;else{if(!(zP=Zee(kh)))throw ete(K5(kh)+" is not iterable");if((ome=zP)!==void 0&&(qee.Array===ome||Yee[Kee]===ome)){for(eme=0,tme=l7(kh);tme>eme;eme++)if((nme=hme(kh[eme]))&&I5(nte,nme))return nme;return new tte(!1)}$P=function(cme,_me){var vme=arguments.length<2?Zee(cme):_me;if(X5(vme))return O8(p5(vme,cme));throw Jee(K5(cme)+" is not iterable")}(kh,zP)}for(rme=$P.next;!(ime=p5(rme,$P)).done;){try{nme=hme(ime.value)}catch(cme){Qee($P,"throw",cme)}if(typeof nme=="object"&&nme&&I5(nte,nme))return nme}return new tte(!1)},ote=g8("iterator"),ite=!1;try{var ate=0,ute={next:function(){return{done:!!ate++}},return:function(){ite=!0}};ute[ote]=function(){return this},Array.from(ute,function(){throw 2})}catch(kh){}var ste,lte,cte,fte,dte=function(kh,Ff){if(!Ff&&!ite)return!1;var x_=!1;try{var $P={};$P[ote]=function(){return{next:function(){return{done:x_=!0}}}},kh($P)}catch(zP){}return x_},pte=l5.TypeError,hte=g8("species"),gte=D5([].slice),vte=/(?:ipad|iphone|ipod).*applewebkit/i.test(L5),yte=C5(l5.process)=="process",mte=l5.setImmediate,bte=l5.clearImmediate,wte=l5.process,Ete=l5.Dispatch,Dte=l5.Function,Ste=l5.MessageChannel,xte=l5.String,Cte=0,Ate={};try{ste=l5.location}catch(kh){}var Ote=function(kh){if(a8(Ate,kh)){var Ff=Ate[kh];delete Ate[kh],Ff()}},kte=function(kh){return function(){Ote(kh)}},Bte=function(kh){Ote(kh.data)},Fte=function(kh){l5.postMessage(xte(kh),ste.protocol+"//"+ste.host)};mte&&bte||(mte=function(kh){var Ff=gte(arguments,1);return Ate[++Cte]=function(){see(_5(kh)?kh:Dte(kh),void 0,Ff)},lte(Cte),Cte},bte=function(kh){delete Ate[kh]},yte?lte=function(kh){wte.nextTick(kte(kh))}:Ete&&Ete.now?lte=function(kh){Ete.now(kte(kh))}:Ste&&!vte?(fte=(cte=new Ste).port2,cte.port1.onmessage=Bte,lte=h9(fte.postMessage,fte)):l5.addEventListener&&_5(l5.postMessage)&&!l5.importScripts&&ste&&ste.protocol!=="file:"&&!c5(Fte)?(lte=Fte,l5.addEventListener("message",Bte,!1)):lte="onreadystatechange"in E8("script")?function(kh){t9.appendChild(E8("script")).onreadystatechange=function(){t9.removeChild(this),Ote(kh)}}:function(kh){setTimeout(kte(kh),0)});var Tte,_te,Pte,jte,Nte,Ite,Lte,Rte,Mte={set:mte,clear:bte},zte=/ipad|iphone|ipod/i.test(L5)&&l5.Pebble!==void 0,$te=/web0s(?!.*chrome)/i.test(L5),Hte=x8.f,Vte=Mte.set,Ute=l5.MutationObserver||l5.WebKitMutationObserver,Wte=l5.document,Gte=l5.process,qte=l5.Promise,Kte=Hte(l5,"queueMicrotask"),Yte=Kte&&Kte.value;Yte||(Tte=function(){var kh,Ff;for(yte&&(kh=Gte.domain)&&kh.exit();_te;){Ff=_te.fn,_te=_te.next;try{Ff()}catch(x_){throw _te?jte():Pte=void 0,x_}}Pte=void 0,kh&&kh.enter()},vte||yte||$te||!Ute||!Wte?!zte&&qte&&qte.resolve?((Lte=qte.resolve(void 0)).constructor=qte,Rte=h9(Lte.then,Lte),jte=function(){Rte(Tte)}):yte?jte=function(){Gte.nextTick(Tte)}:(Vte=h9(Vte,l5),jte=function(){Vte(Tte)}):(Nte=!0,Ite=Wte.createTextNode(""),new Ute(Tte).observe(Ite,{characterData:!0}),jte=function(){Ite.data=Nte=!Nte}));var Xte,Zte,Jte,Qte,ene=Yte||function(kh){var Ff={fn:kh,next:void 0};Pte&&(Pte.next=Ff),_te||(_te=Ff,jte()),Pte=Ff},tne=function(kh){var Ff,x_;this.promise=new kh(function($P,zP){if(Ff!==void 0||x_!==void 0)throw TypeError("Bad Promise constructor");Ff=$P,x_=zP}),this.resolve=X5(Ff),this.reject=X5(x_)},nne={f:function(kh){return new tne(kh)}},rne=function(kh){try{return{error:!1,value:kh()}}catch(Ff){return{error:!0,value:Ff}}},one$1=typeof window=="object",ine=Mte.set,ane=g8("species"),une="Promise",sne=Y8.getterFor(une),lne=Y8.set,cne=Y8.getterFor(une),fne=Iee&&Iee.prototype,dne=Iee,pne=fne,hne=l5.TypeError,gne=l5.document,vne=l5.process,yne=nne.f,mne=yne,bne=!!(gne&&gne.createEvent&&l5.dispatchEvent),wne=_5(l5.PromiseRejectionEvent),Ene=!1,Dne=k7(une,function(){var kh=I8(dne),Ff=kh!==String(dne);if(!Ff&&H5===66)return!0;if(H5>=51&&/native code/.test(kh))return!1;var x_=new dne(function(zP){zP(1)}),$P=function(zP){zP(function(){},function(){})};return(x_.constructor={})[ane]=$P,!(Ene=x_.then(function(){})instanceof $P)||!Ff&&one$1&&!wne}),Sne=Dne||!dte(function(kh){dne.all(kh).catch(function(){})}),xne=function(kh){var Ff;return!(!P5(kh)||!_5(Ff=kh.then))&&Ff},Cne=function(kh,Ff){if(!kh.notified){kh.notified=!0;var x_=kh.reactions;ene(function(){for(var $P=kh.value,zP=kh.state==1,eme=0;x_.length>eme;){var tme,nme,rme,ime=x_[eme++],ome=zP?ime.ok:ime.fail,sme=ime.resolve,ame=ime.reject,lme=ime.domain;try{ome?(zP||(kh.rejection===2&&Bne(kh),kh.rejection=1),ome===!0?tme=$P:(lme&&lme.enter(),tme=ome($P),lme&&(lme.exit(),rme=!0)),tme===ime.promise?ame(hne("Promise-chain cycle")):(nme=xne(tme))?p5(nme,tme,sme,ame):sme(tme)):ame($P)}catch(ume){lme&&!rme&&lme.exit(),ame(ume)}}kh.reactions=[],kh.notified=!1,Ff&&!kh.rejection&&One(kh)})}},Ane=function(kh,Ff,x_){var $P,zP;bne?(($P=gne.createEvent("Event")).promise=Ff,$P.reason=x_,$P.initEvent(kh,!1,!0),l5.dispatchEvent($P)):$P={promise:Ff,reason:x_},!wne&&(zP=l5["on"+kh])?zP($P):kh==="unhandledrejection"&&function(eme,tme){var nme=l5.console;nme&&nme.error&&(arguments.length==1?nme.error(eme):nme.error(eme,tme))}("Unhandled promise rejection",x_)},One=function(kh){p5(ine,l5,function(){var Ff,x_=kh.facade,$P=kh.value;if(kne(kh)&&(Ff=rne(function(){yte?vne.emit("unhandledRejection",$P,x_):Ane("unhandledrejection",x_,$P)}),kh.rejection=yte||kne(kh)?2:1,Ff.error))throw Ff.value})},kne=function(kh){return kh.rejection!==1&&!kh.parent},Bne=function(kh){p5(ine,l5,function(){var Ff=kh.facade;yte?vne.emit("rejectionHandled",Ff):Ane("rejectionhandled",Ff,kh.value)})},Fne=function(kh,Ff,x_){return function($P){kh(Ff,$P,x_)}},Tne=function(kh,Ff,x_){kh.done||(kh.done=!0,x_&&(kh=x_),kh.value=Ff,kh.state=2,Cne(kh,!0))},_ne=function(kh,Ff,x_){if(!kh.done){kh.done=!0,x_&&(kh=x_);try{if(kh.facade===Ff)throw hne("Promise can't be resolved itself");var $P=xne(Ff);$P?ene(function(){var zP={done:!1};try{p5($P,Ff,Fne(_ne,zP,kh),Fne(Tne,zP,kh))}catch(eme){Tne(zP,eme,kh)}}):(kh.value=Ff,kh.state=1,Cne(kh,!1))}catch(zP){Tne({done:!1},zP,kh)}}};if(Dne&&(pne=(dne=function(kh){Gee(this,pne),X5(kh),p5(Xte,this);var Ff=sne(this);try{kh(Fne(_ne,Ff),Fne(Tne,Ff))}catch(x_){Tne(Ff,x_)}}).prototype,(Xte=function(kh){lne(this,{type:une,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Lee(pne,{then:function(kh,Ff){var x_=cne(this),$P=x_.reactions,zP=yne(function(eme,tme){var nme,rme=O8(eme).constructor;return rme===void 0||(nme=O8(rme)[hte])==null?tme:function(ime){if(S9(ime))return ime;throw pte(K5(ime)+" is not a constructor")}(nme)}(this,dne));return zP.ok=!_5(kh)||kh,zP.fail=_5(Ff)&&Ff,zP.domain=yte?vne.domain:void 0,x_.parent=!0,$P[$P.length]=zP,x_.state!=0&&Cne(x_,!1),zP.promise},catch:function(kh){return this.then(void 0,kh)}}),Zte=function(){var kh=new Xte,Ff=sne(kh);this.promise=kh,this.resolve=Fne(_ne,Ff),this.reject=Fne(Tne,Ff)},nne.f=yne=function(kh){return kh===dne||kh===Jte?new Zte(kh):mne(kh)},_5(Iee)&&fne!==Object.prototype)){Qte=fne.then,Ene||(e7(fne,"then",function(kh,Ff){var x_=this;return new dne(function($P,zP){p5(Qte,x_,$P,zP)}).then(kh,Ff)},{unsafe:!0}),e7(fne,"catch",pne.catch,{unsafe:!0}));try{delete fne.constructor}catch(kh){}zee&&zee(fne,pne)}function Pne(kh,Ff,x_){return x_===void 0&&(x_=""),e5(this,void 0,void 0,function(){var $P,zP,eme,tme,nme,rme,ime;return t5(this,function(ome){switch(ome.label){case 0:return Ff?(kh.restoreSelection(),$P=kh.getMenuConfig("insertVideo"),zP=$P.onInsertedVideo,eme=$P.checkVideo,tme=$P.parseVideoSrc,[4,eme(Ff,x_)]):[2];case 1:return typeof(nme=ome.sent())=="string"?(kh.alert(nme,"error"),[2]):nme==null?[2]:[4,tme(Ff)];case 2:return(rme=ome.sent()).trim().indexOf("<iframe ")!==0&&(rme=rme.replace(/</g,"&lt;").replace(/>/g,"&gt;")),ime={type:"video",src:rme,poster:x_,children:[{text:""}]},Promise.resolve().then(function(){md.insertNodes(kh,ime)}),zP(ime),[2]}})})}function jne(){return Nee("w-e-insert-video")}F7({global:!0,wrap:!0,forced:Dne},{Promise:dne}),Vee(dne,une,!1),function(kh){var Ff=N5("Promise"),x_=F8.f;f5&&Ff&&!Ff[Uee]&&x_(Ff,Uee,{configurable:!0,get:function(){return this}})}(),Jte=N5(une),F7({target:une,stat:!0,forced:Dne},{reject:function(kh){var Ff=yne(this);return p5(Ff.reject,void 0,kh),Ff.promise}}),F7({target:une,stat:!0,forced:Dne},{resolve:function(kh){return function(Ff,x_){if(O8(Ff),P5(x_)&&x_.constructor===Ff)return x_;var $P=nne.f(Ff);return(0,$P.resolve)(x_),$P.promise}(this,kh)}}),F7({target:une,stat:!0,forced:Sne},{all:function(kh){var Ff=this,x_=yne(Ff),$P=x_.resolve,zP=x_.reject,eme=rne(function(){var tme=X5(Ff.resolve),nme=[],rme=0,ime=1;rte(kh,function(ome){var sme=rme++,ame=!1;ime++,p5(tme,Ff,ome).then(function(lme){ame||(ame=!0,nme[sme]=lme,--ime||$P(nme))},zP)}),--ime||$P(nme)});return eme.error&&zP(eme.value),x_.promise},race:function(kh){var Ff=this,x_=yne(Ff),$P=x_.reject,zP=rne(function(){var eme=X5(Ff.resolve);rte(kh,function(tme){p5(eme,Ff,tme).then(x_.resolve,$P)})});return zP.error&&$P(zP.value),x_.promise}});var Nne=function(){function kh(){this.title=HP("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=jne(),this.posterInputId=jne(),this.buttonId=jne()}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||!!QO.getSelectedElems(Ff).some(function($P){var zP=QO.getNodeType($P);return zP==="pre"||zP==="list-item"||!!Ff.isVoid($P)})},kh.prototype.getModalPositionNode=function(Ff){return null},kh.prototype.getModalContentElem=function(Ff){var x_=this,$P=this,zP=$P.srcInputId,eme=$P.posterInputId,tme=$P.buttonId,nme=n5(S_(HP("videoModule.videoSrc"),zP,HP("videoModule.videoSrcPlaceHolder")),2),rme=nme[0],ime=nme[1],ome=n5(S_(HP("videoModule.videoPoster"),eme,HP("videoModule.videoPosterPlaceHolder")),2),sme=ome[0],ame=ome[1],lme=Mp(ime),ume=Mp(ame),dme=n5(C_(tme,HP("videoModule.ok")),1)[0];if(this.$content==null){var pme=Mp("<div></div>");pme.on("click","#"+tme,function(cme){return e5(x_,void 0,void 0,function(){var _me,vme;return t5(this,function(Eme){switch(Eme.label){case 0:return cme.preventDefault(),_me=pme.find("#"+zP).val().trim(),vme=pme.find("#"+eme).val().trim(),[4,Pne(Ff,_me,vme)];case 1:return Eme.sent(),Ff.hidePanelOrModal(),[2]}})})}),this.$content=pme}var hme=this.$content;return hme.empty(),hme.append(rme),hme.append(sme),hme.append(dme),lme.val(""),ume.val(""),setTimeout(function(){lme.focus()}),hme[0]},kh}(),Ine=D5([].join),Lne=k5!=Object,Rne=function(kh,Ff){var x_=[].join;return!!x_&&c5(function(){x_.call(null,",",1)})}();F7({target:"Array",proto:!0,forced:Lne||!Rne},{join:function(kh){return Ine(T5(this),kh===void 0?",":kh)}});var Mne,zne,$ne,Hne=!c5(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),Vne=z8("IE_PROTO"),Une=l5.Object,Wne=Une.prototype,Gne=Hne?Une.getPrototypeOf:function(kh){var Ff=o8(kh);if(a8(Ff,Vne))return Ff[Vne];var x_=Ff.constructor;return _5(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof Une?Wne:null},qne=g8("iterator"),Kne=!1;[].keys&&("next"in($ne=[].keys())?(zne=Gne(Gne($ne)))!==Object.prototype&&(Mne=zne):Kne=!0);var Yne=Mne==null||c5(function(){var kh={};return Mne[qne].call(kh)!==kh});Yne&&(Mne={}),_5(Mne[qne])||e7(Mne,qne,function(){return this});var Xne={IteratorPrototype:Mne,BUGGY_SAFARI_ITERATORS:Kne},Zne=Xne.IteratorPrototype,Jne=function(){return this},Qne=Q8.PROPER,ere=Q8.CONFIGURABLE,tre=Xne.IteratorPrototype,nre=Xne.BUGGY_SAFARI_ITERATORS,rre=g8("iterator"),ore=function(){return this},ire=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=u9(Zne,{next:y5(1,_me)}),Vee(hme,Eme,!1),qee[Eme]=Jne})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!nre&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[rre]||lme["@@iterator"]||zP&&lme[zP],dme=!nre&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=Gne(pme.call(new kh)))!==Object.prototype&&nme.next&&(Gne(nme)!==tre&&(zee?zee(nme,tre):_5(nme[rre])||e7(nme,rre,ore)),Vee(nme,sme,!0)),Qne&&zP=="values"&&ume&&ume.name!=="values"&&(ere?T8(lme,"name","values"):(ame=!0,dme=function(){return p5(ume,this)})),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(nre||ame||!(ime in lme))&&e7(lme,ime,rme[ime]);else F7({target:Ff,proto:!0,forced:nre||ame},rme);return lme[rre]!==dme&&e7(lme,rre,dme,{name:zP}),qee[Ff]=dme,rme},are=Y8.set,ure=Y8.getterFor("Array Iterator"),sre=ire(Array,"Array",function(kh,Ff){are(this,{type:"Array Iterator",target:T5(kh),index:0,kind:Ff})},function(){var kh=ure(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values");qee.Arguments=qee.Array,c9("keys"),c9("values"),c9("entries");var lre=hee.charAt,cre=Y8.set,fre=Y8.getterFor("String Iterator");ire(String,"String",function(kh){cre(this,{type:"String Iterator",string:R7(kh),index:0})},function(){var kh,Ff=fre(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=lre(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var dre=function(kh,Ff,x_){var $P=m8(Ff);$P in kh?F8.f(kh,$P,y5(0,x_)):kh[$P]=x_},pre=l5.Array,hre=Math.max,gre=y7.f,vre=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],yre={f:function(kh){return vre&&C5(kh)=="Window"?function(Ff){try{return gre(Ff)}catch(x_){return function($P,zP,eme){for(var tme=l7($P),nme=a7(void 0,tme),rme=a7(tme,tme),ime=pre(hre(rme-nme,0)),ome=0;nme<rme;nme++,ome++)dre(ime,ome,$P[nme]);return ime.length=ome,ime}(vre)}}(kh):gre(T5(kh))}},mre=c5(function(){if(typeof ArrayBuffer=="function"){var kh=new ArrayBuffer(8);Object.isExtensible(kh)&&Object.defineProperty(kh,"a",{value:8})}}),bre=Object.isExtensible,wre=c5(function(){bre(1)})||mre?function(kh){return!!P5(kh)&&(!mre||C5(kh)!="ArrayBuffer")&&(!bre||bre(kh))}:bre,Ere=!c5(function(){return Object.isExtensible(Object.preventExtensions({}))}),Dre=i5(function(kh){var Ff=F8.f,x_=!1,$P=c8("meta"),zP=0,eme=function(nme){Ff(nme,$P,{value:{objectID:"O"+zP++,weakData:{}}})},tme=kh.exports={enable:function(){tme.enable=function(){},x_=!0;var nme=y7.f,rme=D5([].splice),ime={};ime[$P]=1,nme(ime).length&&(y7.f=function(ome){for(var sme=nme(ome),ame=0,lme=sme.length;ame<lme;ame++)if(sme[ame]===$P){rme(sme,ame,1);break}return sme},F7({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:yre.f}))},fastKey:function(nme,rme){if(!P5(nme))return typeof nme=="symbol"?nme:(typeof nme=="string"?"S":"P")+nme;if(!a8(nme,$P)){if(!wre(nme))return"F";if(!rme)return"E";eme(nme)}return nme[$P].objectID},getWeakData:function(nme,rme){if(!a8(nme,$P)){if(!wre(nme))return!0;if(!rme)return!1;eme(nme)}return nme[$P].weakData},onFreeze:function(nme){return Ere&&x_&&wre(nme)&&!a8(nme,$P)&&eme(nme),nme}};$8[$P]=!0}),Sre=Dre.getWeakData,xre=Y8.set,Cre=Y8.getterFor,Are=B9.find,Ore=B9.findIndex,kre=D5([].splice),Bre=0,Fre=function(kh){return kh.frozen||(kh.frozen=new Tre)},Tre=function(){this.entries=[]},_re=function(kh,Ff){return Are(kh.entries,function(x_){return x_[0]===Ff})};Tre.prototype={get:function(kh){var Ff=_re(this,kh);if(Ff)return Ff[1]},has:function(kh){return!!_re(this,kh)},set:function(kh,Ff){var x_=_re(this,kh);x_?x_[1]=Ff:this.entries.push([kh,Ff])},delete:function(kh){var Ff=Ore(this.entries,function(x_){return x_[0]===kh});return~Ff&&kre(this.entries,Ff,1),!!~Ff}};var Pre,jre={getConstructor:function(kh,Ff,x_,$P){var zP=kh(function(rme,ime){Gee(rme,eme),xre(rme,{type:Ff,id:Bre++,frozen:void 0}),ime!=null&&rte(ime,rme[$P],{that:rme,AS_ENTRIES:x_})}),eme=zP.prototype,tme=Cre(Ff),nme=function(rme,ime,ome){var sme=tme(rme),ame=Sre(O8(ime),!0);return ame===!0?Fre(sme).set(ime,ome):ame[sme.id]=ome,rme};return Lee(eme,{delete:function(rme){var ime=tme(this);if(!P5(rme))return!1;var ome=Sre(rme);return ome===!0?Fre(ime).delete(rme):ome&&a8(ome,ime.id)&&delete ome[ime.id]},has:function(rme){var ime=tme(this);if(!P5(rme))return!1;var ome=Sre(rme);return ome===!0?Fre(ime).has(rme):ome&&a8(ome,ime.id)}}),Lee(eme,x_?{get:function(rme){var ime=tme(this);if(P5(rme)){var ome=Sre(rme);return ome===!0?Fre(ime).get(rme):ome?ome[ime.id]:void 0}},set:function(rme,ime){return nme(this,rme,ime)}}:{add:function(rme){return nme(this,rme,!0)}}),zP}},Nre=Y8.enforce,Ire=!l5.ActiveXObject&&"ActiveXObject"in l5,Lre=function(kh){return function(){return kh(this,arguments.length?arguments[0]:void 0)}},Rre=function(kh,Ff,x_){var $P=kh.indexOf("Map")!==-1,zP=kh.indexOf("Weak")!==-1,eme=$P?"set":"add",tme=l5[kh],nme=tme&&tme.prototype,rme=tme,ime={},ome=function(pme){var hme=D5(nme[pme]);e7(nme,pme,pme=="add"?function(cme){return hme(this,cme===0?0:cme),this}:pme=="delete"?function(cme){return!(zP&&!P5(cme))&&hme(this,cme===0?0:cme)}:pme=="get"?function(cme){return zP&&!P5(cme)?void 0:hme(this,cme===0?0:cme)}:pme=="has"?function(cme){return!(zP&&!P5(cme))&&hme(this,cme===0?0:cme)}:function(cme,_me){return hme(this,cme===0?0:cme,_me),this})};if(k7(kh,!_5(tme)||!(zP||nme.forEach&&!c5(function(){new tme().entries().next()}))))rme=x_.getConstructor(Ff,kh,$P,eme),Dre.enable();else if(k7(kh,!0)){var sme=new rme,ame=sme[eme](zP?{}:-0,1)!=sme,lme=c5(function(){sme.has(1)}),ume=dte(function(pme){new tme(pme)}),dme=!zP&&c5(function(){for(var pme=new tme,hme=5;hme--;)pme[eme](hme,hme);return!pme.has(-0)});ume||((rme=Ff(function(pme,hme){Gee(pme,nme);var cme=function(_me,vme,Eme){var wme,Tme;return zee&&_5(wme=vme.constructor)&&wme!==Eme&&P5(Tme=wme.prototype)&&Tme!==Eme.prototype&&zee(_me,Tme),_me}(new tme,pme,rme);return hme!=null&&rte(hme,cme[eme],{that:cme,AS_ENTRIES:$P}),cme})).prototype=nme,nme.constructor=rme),(lme||dme)&&(ome("delete"),ome("has"),$P&&ome("get")),(dme||ame)&&ome(eme),zP&&nme.clear&&delete nme.clear}return ime[kh]=rme,F7({global:!0,forced:rme!=tme},ime),Vee(rme,kh),zP||x_.setStrong(rme,kh,$P),rme}("WeakMap",Lre,jre);if(R8&&Ire){Pre=jre.getConstructor(Lre,"WeakMap",!0),Dre.enable();var Mre=Rre.prototype,zre=D5(Mre.delete),$re=D5(Mre.has),Hre=D5(Mre.get),Vre=D5(Mre.set);Lee(Mre,{delete:function(kh){if(P5(kh)&&!wre(kh)){var Ff=Nre(this);return Ff.frozen||(Ff.frozen=new Pre),zre(this,kh)||Ff.frozen.delete(kh)}return zre(this,kh)},has:function(kh){if(P5(kh)&&!wre(kh)){var Ff=Nre(this);return Ff.frozen||(Ff.frozen=new Pre),$re(this,kh)||Ff.frozen.has(kh)}return $re(this,kh)},get:function(kh){if(P5(kh)&&!wre(kh)){var Ff=Nre(this);return Ff.frozen||(Ff.frozen=new Pre),$re(this,kh)?Hre(this,kh):Ff.frozen.get(kh)}return Hre(this,kh)},set:function(kh,Ff){if(P5(kh)&&!wre(kh)){var x_=Nre(this);x_.frozen||(x_.frozen=new Pre),$re(this,kh)?Vre(this,kh,Ff):x_.frozen.set(kh,Ff)}else Vre(this,kh,Ff);return this}})}var Ure={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Wre=E8("span").classList,Gre=Wre&&Wre.constructor&&Wre.constructor.prototype,qre=Gre===Object.prototype?void 0:Gre,Kre=g8("iterator"),Yre=g8("toStringTag"),Xre=sre.values,Zre=function(kh,Ff){if(kh){if(kh[Kre]!==Xre)try{T8(kh,Kre,Xre)}catch($P){kh[Kre]=Xre}if(kh[Yre]||T8(kh,Yre,Ff),Ure[Ff]){for(var x_ in sre)if(kh[x_]!==sre[x_])try{T8(kh,x_,sre[x_])}catch($P){kh[x_]=sre[x_]}}}};for(var Jre in Ure)Zre(l5[Jre]&&l5[Jre].prototype,Jre);Zre(qre,"DOMTokenList");var Qre=Q8.EXISTS,eoe=F8.f,toe=Function.prototype,noe=D5(toe.toString),roe=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ooe=D5(roe.exec);f5&&!Qre&&eoe(toe,"name",{configurable:!0,get:function(){try{return ooe(roe,noe(this))[1]}catch(kh){return""}}});var ioe=g8("species"),aoe=H5>=51||!c5(function(){var kh=[];return(kh.constructor={})[ioe]=function(){return{foo:1}},kh.slice(Boolean).foo!==1}),uoe=g8("species"),soe=l5.Array,loe=Math.max;function coe(kh){return kh.getMenuConfig("uploadVideo")}F7({target:"Array",proto:!0,forced:!aoe},{slice:function(kh,Ff){var x_,$P,zP,eme=T5(this),tme=l7(eme),nme=a7(kh,tme),rme=a7(Ff===void 0?tme:Ff,tme);if(g9(eme)&&(x_=eme.constructor,(S9(x_)&&(x_===soe||g9(x_.prototype))||P5(x_)&&(x_=x_[uoe])===null)&&(x_=void 0),x_===soe||x_===void 0))return gte(eme,nme,rme);for($P=new(x_===void 0?soe:x_)(loe(rme-nme,0)),zP=0;nme<rme;nme++,zP++)nme in eme&&dre($P,zP,eme[nme]);return $P.length=zP,$P}});var foe=new WeakMap;function doe(kh,Ff){return e5(this,void 0,void 0,function(){var x_,$P,zP,eme;return t5(this,function(tme){switch(tme.label){case 0:return x_=function(nme){var rme=foe.get(nme);if(rme!=null)return rme;var ime=coe(nme),ome=ime.onSuccess,sme=ime.onProgress,ame=ime.onFailed,lme=ime.customInsert,ume=ime.onError;return rme=K_(Q3(Q3({},ime),{onProgress:function(dme){nme.showProgressBar(dme),sme&&sme(dme)},onSuccess:function(dme,pme){if(lme)return lme(pme,function(Dme,Ame){return Pne(nme,Dme,Ame)}),void ome(dme,pme);var hme=pme.errno,cme=hme===void 0?1:hme,_me=pme.data,vme=_me===void 0?{}:_me;if(cme===0){var Eme=vme.url,wme=Eme===void 0?"":Eme,Tme=vme.poster;Pne(nme,wme,Tme===void 0?"":Tme),ome(dme,pme)}else ame(dme,pme)},onError:function(dme,pme,hme){ume(dme,pme,hme)}})),foe.set(nme,rme),rme}(kh),$P=Ff.name,zP=Ff.type,eme=Ff.size,x_.addFile({name:$P,type:zP,size:eme,data:Ff}),[4,x_.upload()];case 1:return tme.sent(),[2]}})})}var poe=function(){function kh(){this.title=HP("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){var $P=this.getMenuConfig(Ff),zP=$P.allowedFileTypes,eme=zP===void 0?[]:zP,tme=$P.customBrowseAndUpload;if(tme)tme(function(ome,sme){return Pne(Ff,ome,sme)});else{var nme="";eme.length>0&&(nme='accept="'+eme.join(", ")+'"');var rme=Mp("body"),ime=Mp('<input type="file" '+nme+" multiple/>");ime.hide(),rme.append(ime),ime.click(),ime.on("change",function(){var ome=ime[0].files;(function(sme,ame){var lme,ume;e5(this,void 0,void 0,function(){var dme,pme,hme,cme,_me,vme;return t5(this,function(Eme){switch(Eme.label){case 0:if(ame==null)return[2];dme=Array.prototype.slice.call(ame),pme=coe(sme).customUpload,Eme.label=1;case 1:Eme.trys.push([1,9,10,15]),hme=r5(dme),Eme.label=2;case 2:return[4,hme.next()];case 3:return(cme=Eme.sent()).done?[3,8]:(_me=cme.value,pme?[4,pme(_me,function(wme,Tme){return Pne(sme,wme,Tme)})]:[3,5]);case 4:return Eme.sent(),[3,7];case 5:return[4,doe(sme,_me)];case 6:Eme.sent(),Eme.label=7;case 7:return[3,2];case 8:return[3,15];case 9:return vme=Eme.sent(),lme={error:vme},[3,15];case 10:return Eme.trys.push([10,,13,14]),cme&&!cme.done&&(ume=hme.return)?[4,ume.call(hme)]:[3,12];case 11:Eme.sent(),Eme.label=12;case 12:return[3,14];case 13:if(lme)throw lme.error;return[7];case 14:return[7];case 15:return[2]}})})})(Ff,ome)})}},kh.prototype.isDisabled=function(Ff){var x_=Ff.selection;return x_==null||!qf.isCollapsed(x_)||!!QO.getSelectedElems(Ff).some(function($P){var zP=QO.getNodeType($P);return zP==="pre"||zP==="list-item"||!!Ff.isVoid($P)})},kh.prototype.getMenuConfig=function(Ff){return Ff.getMenuConfig("uploadVideo")},kh}(),hoe=Q8.PROPER,goe=RegExp.prototype,voe=goe.toString,yoe=D5(L9),moe=c5(function(){return voe.call({source:"a",flags:"b"})!="/a/b"}),boe=hoe&&voe.name!="toString";function woe(){return Nee("w-e-insert-video")}(moe||boe)&&e7(RegExp.prototype,"toString",function(){var kh=O8(this),Ff=R7(kh.source),x_=kh.flags;return"/"+Ff+"/"+R7(x_===void 0&&I5(goe,kh)&&!("flags"in goe)?yoe(kh):x_)},{unsafe:!0});var Eoe=function(){function kh(){this.title=HP("videoModule.editSize"),this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.widthInputId=woe(),this.heightInputId=woe(),this.buttonId=woe()}return kh.prototype.getSelectedVideoNode=function(Ff){return QO.getSelectedNodeByType(Ff,"video")},kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.exec=function(Ff,x_){},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||this.getSelectedVideoNode(Ff)==null},kh.prototype.getModalPositionNode=function(Ff){return this.getSelectedVideoNode(Ff)},kh.prototype.getModalContentElem=function(Ff){var x_=this,$P=x_.widthInputId,zP=x_.heightInputId,eme=x_.buttonId,tme=n5(S_(HP("videoModule.width"),$P,"auto"),2),nme=tme[0],rme=Mp(tme[1]),ime=n5(S_(HP("videoModule.height"),zP,"auto"),2),ome=ime[0],sme=Mp(ime[1]),ame=n5(C_(eme,HP("videoModule.ok")),1)[0];if(this.$content==null){var lme=Mp("<div></div>");lme.on("click","#"+eme,function(vme){vme.preventDefault();var Eme=lme.find("#"+$P).val().trim(),wme=lme.find("#"+zP).val().trim(),Tme=parseInt(Eme),Dme=parseInt(wme),Ame=Tme?Tme.toString():"auto",Nme=Dme?Dme.toString():"auto";Ff.restoreSelection(),md.setNodes(Ff,{width:Ame,height:Nme},{match:function(Ume){return QO.checkNodeType(Ume,"video")}}),Ff.hidePanelOrModal()}),this.$content=lme}var ume=this.$content;ume.empty(),ume.append(nme),ume.append(ome),ume.append(ame);var dme=this.getSelectedVideoNode(Ff);if(dme==null)return ume[0];var pme=dme.width,hme=pme===void 0?"auto":pme,cme=dme.height,_me=cme===void 0?"auto":cme;return rme.val(hme),sme.val(_me),setTimeout(function(){rme.focus()}),ume[0]},kh}(),Doe={renderElems:[Z7],elemsToHtml:[J7],preParseHtml:[d9],parseElemsHtml:[I9],menus:[{key:"insertVideo",factory:function(){return new Nne},config:{onInsertedVideo:function(kh){},checkVideo:function(kh,Ff){return!0},parseVideoSrc:function(kh){return kh}}},{key:"uploadVideo",factory:function(){return new poe},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(kh){return kh},onProgress:function(kh){},onSuccess:function(kh,Ff){},onFailed:function(kh,Ff){console.error("'"+kh.name+"' upload failed",Ff)},onError:function(kh,Ff,x_){console.error("'"+kh.name+" upload error",Ff,x_)}}},{key:"editVideoSize",factory:function(){return new Eoe}}],editorPlugin:function(kh){var Ff=kh.isVoid,x_=kh.normalizeNode,$P=kh;return $P.isVoid=function(zP){return zP.type==="video"||Ff(zP)},$P.normalizeNode=function(zP){var eme=n5(zP,2),tme=eme[0],nme=eme[1];return QO.getNodeType(tme)==="video"&&QO.isLastNode($P,tme)&&md.insertNodes($P,QO.genEmptyParagraph(),{at:[nme[0]+1]}),x_([tme,nme])},$P}};MP("en",{uploadImgModule:{uploadImage:"Upload Image",uploadError:"{{fileName}} upload error"}}),MP("zh-CN",{uploadImgModule:{uploadImage:"上传图片",uploadError:"{{fileName}} 上传出错"}});var Soe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function xoe(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var Coe,Aoe,Ooe=function(kh){return kh&&kh.Math==Math&&kh},koe=Ooe(typeof globalThis=="object"&&globalThis)||Ooe(typeof window=="object"&&window)||Ooe(typeof self=="object"&&self)||Ooe(typeof Soe=="object"&&Soe)||function(){return this}()||Function("return this")(),Boe=function(kh){try{return!!kh()}catch(Ff){return!0}},Foe=!Boe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Toe=Function.prototype.call,_oe=Toe.bind?Toe.bind(Toe):function(){return Toe.apply(Toe,arguments)},Poe={}.propertyIsEnumerable,joe=Object.getOwnPropertyDescriptor,Noe={f:joe&&!Poe.call({1:2},1)?function(kh){var Ff=joe(this,kh);return!!Ff&&Ff.enumerable}:Poe},Ioe=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},Loe=Function.prototype,Roe=Loe.bind,Moe=Loe.call,zoe=Roe&&Roe.bind(Moe),$oe=Roe?function(kh){return kh&&zoe(Moe,kh)}:function(kh){return kh&&function(){return Moe.apply(kh,arguments)}},Hoe=$oe({}.toString),Voe=$oe("".slice),Uoe=function(kh){return Voe(Hoe(kh),8,-1)},Woe=koe.Object,Goe=$oe("".split),qoe=Boe(function(){return!Woe("z").propertyIsEnumerable(0)})?function(kh){return Uoe(kh)=="String"?Goe(kh,""):Woe(kh)}:Woe,Koe=koe.TypeError,Yoe=function(kh){if(kh==null)throw Koe("Can't call method on "+kh);return kh},Xoe=function(kh){return qoe(Yoe(kh))},Zoe=function(kh){return typeof kh=="function"},Joe=function(kh){return typeof kh=="object"?kh!==null:Zoe(kh)},Qoe=function(kh){return Zoe(kh)?kh:void 0},eie=function(kh,Ff){return arguments.length<2?Qoe(koe[kh]):koe[kh]&&koe[kh][Ff]},tie=$oe({}.isPrototypeOf),nie=eie("navigator","userAgent")||"",rie=koe.process,oie=koe.Deno,iie=rie&&rie.versions||oie&&oie.version,aie=iie&&iie.v8;aie&&(Aoe=(Coe=aie.split("."))[0]>0&&Coe[0]<4?1:+(Coe[0]+Coe[1])),!Aoe&&nie&&(!(Coe=nie.match(/Edge\/(\d+)/))||Coe[1]>=74)&&(Coe=nie.match(/Chrome\/(\d+)/))&&(Aoe=+Coe[1]);var uie=Aoe,sie=!!Object.getOwnPropertySymbols&&!Boe(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&uie&&uie<41}),lie=sie&&!Symbol.sham&&typeof Symbol.iterator=="symbol",cie=koe.Object,fie=lie?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=eie("Symbol");return Zoe(Ff)&&tie(Ff.prototype,cie(kh))},die=koe.String,pie=function(kh){try{return die(kh)}catch(Ff){return"Object"}},hie=koe.TypeError,gie=function(kh){if(Zoe(kh))return kh;throw hie(pie(kh)+" is not a function")},vie=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:gie(x_)},yie=koe.TypeError,mie=Object.defineProperty,bie=function(kh,Ff){try{mie(koe,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){koe[kh]=Ff}return Ff},wie=koe["__core-js_shared__"]||bie("__core-js_shared__",{}),Eie=xoe(function(kh){(kh.exports=function(Ff,x_){return wie[Ff]||(wie[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Die=koe.Object,Sie=function(kh){return Die(Yoe(kh))},xie=$oe({}.hasOwnProperty),Cie=Object.hasOwn||function(kh,Ff){return xie(Sie(kh),Ff)},Aie=0,Oie=Math.random(),kie=$oe(1 .toString),Bie=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+kie(++Aie+Oie,36)},Fie=Eie("wks"),Tie=koe.Symbol,_ie=Tie&&Tie.for,Pie=lie?Tie:Tie&&Tie.withoutSetter||Bie,jie=function(kh){if(!Cie(Fie,kh)||!sie&&typeof Fie[kh]!="string"){var Ff="Symbol."+kh;sie&&Cie(Tie,kh)?Fie[kh]=Tie[kh]:Fie[kh]=lie&&_ie?_ie(Ff):Pie(Ff)}return Fie[kh]},Nie=koe.TypeError,Iie=jie("toPrimitive"),Lie=function(kh){var Ff=function(x_,$P){if(!Joe(x_)||fie(x_))return x_;var zP,eme=vie(x_,Iie);if(eme){if($P===void 0&&($P="default"),zP=_oe(eme,x_,$P),!Joe(zP)||fie(zP))return zP;throw Nie("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&Zoe(rme=tme.toString)&&!Joe(ime=_oe(rme,tme))||Zoe(rme=tme.valueOf)&&!Joe(ime=_oe(rme,tme))||nme!=="string"&&Zoe(rme=tme.toString)&&!Joe(ime=_oe(rme,tme)))return ime;throw yie("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return fie(Ff)?Ff:Ff+""},Rie=koe.document,Mie=Joe(Rie)&&Joe(Rie.createElement),zie=function(kh){return Mie?Rie.createElement(kh):{}},$ie=!Foe&&!Boe(function(){return Object.defineProperty(zie("div"),"a",{get:function(){return 7}}).a!=7}),Hie=Object.getOwnPropertyDescriptor,Vie={f:Foe?Hie:function(kh,Ff){if(kh=Xoe(kh),Ff=Lie(Ff),$ie)try{return Hie(kh,Ff)}catch(x_){}if(Cie(kh,Ff))return Ioe(!_oe(Noe.f,kh,Ff),kh[Ff])}},Uie=koe.String,Wie=koe.TypeError,Gie=function(kh){if(Joe(kh))return kh;throw Wie(Uie(kh)+" is not an object")},qie=koe.TypeError,Kie=Object.defineProperty,Yie={f:Foe?Kie:function(kh,Ff,x_){if(Gie(kh),Ff=Lie(Ff),Gie(x_),$ie)try{return Kie(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw qie("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},Xie=Foe?function(kh,Ff,x_){return Yie.f(kh,Ff,Ioe(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},Zie=$oe(Function.toString);Zoe(wie.inspectSource)||(wie.inspectSource=function(kh){return Zie(kh)});var Jie,Qie,eae,tae=wie.inspectSource,nae=koe.WeakMap,rae=Zoe(nae)&&/native code/.test(tae(nae)),oae=Eie("keys"),iae=function(kh){return oae[kh]||(oae[kh]=Bie(kh))},aae={},uae=koe.TypeError,sae=koe.WeakMap;if(rae||wie.state){var lae=wie.state||(wie.state=new sae),cae=$oe(lae.get),fae=$oe(lae.has),dae=$oe(lae.set);Jie=function(kh,Ff){if(fae(lae,kh))throw new uae("Object already initialized");return Ff.facade=kh,dae(lae,kh,Ff),Ff},Qie=function(kh){return cae(lae,kh)||{}},eae=function(kh){return fae(lae,kh)}}else{var pae=iae("state");aae[pae]=!0,Jie=function(kh,Ff){if(Cie(kh,pae))throw new uae("Object already initialized");return Ff.facade=kh,Xie(kh,pae,Ff),Ff},Qie=function(kh){return Cie(kh,pae)?kh[pae]:{}},eae=function(kh){return Cie(kh,pae)}}var hae={set:Jie,get:Qie,has:eae,enforce:function(kh){return eae(kh)?Qie(kh):Jie(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!Joe(Ff)||(x_=Qie(Ff)).type!==kh)throw uae("Incompatible receiver, "+kh+" required");return x_}}},gae=Function.prototype,vae=Foe&&Object.getOwnPropertyDescriptor,yae=Cie(gae,"name"),mae={EXISTS:yae,PROPER:yae&&function(){}.name==="something",CONFIGURABLE:yae&&(!Foe||Foe&&vae(gae,"name").configurable)},bae=xoe(function(kh){var Ff=mae.CONFIGURABLE,x_=hae.get,$P=hae.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;Zoe(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!Cie(nme,"name")||Ff&&nme.name!==lme)&&Xie(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==koe?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:Xie(eme,tme,nme)):sme?eme[tme]=nme:bie(tme,nme)})(Function.prototype,"toString",function(){return Zoe(this)&&x_(this).source||tae(this)})}),wae=Math.ceil,Eae=Math.floor,Dae=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?Eae:wae)(Ff)},Sae=Math.max,xae=Math.min,Cae=function(kh,Ff){var x_=Dae(kh);return x_<0?Sae(x_+Ff,0):xae(x_,Ff)},Aae=Math.min,Oae=function(kh){return kh>0?Aae(Dae(kh),9007199254740991):0},kae=function(kh){return Oae(kh.length)},Bae=function(kh){return function(Ff,x_,$P){var zP,eme=Xoe(Ff),tme=kae(eme),nme=Cae($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},Fae=Bae(!1),Tae=$oe([].push),_ae=function(kh,Ff){var x_,$P=Xoe(kh),zP=0,eme=[];for(x_ in $P)!Cie(aae,x_)&&Cie($P,x_)&&Tae(eme,x_);for(;Ff.length>zP;)Cie($P,x_=Ff[zP++])&&(~Fae(eme,x_)||Tae(eme,x_));return eme},Pae=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],jae=Pae.concat("length","prototype"),Nae={f:Object.getOwnPropertyNames||function(kh){return _ae(kh,jae)}},Iae={f:Object.getOwnPropertySymbols},Lae=$oe([].concat),Rae=eie("Reflect","ownKeys")||function(kh){var Ff=Nae.f(Gie(kh)),x_=Iae.f;return x_?Lae(Ff,x_(kh)):Ff},Mae=function(kh,Ff){for(var x_=Rae(Ff),$P=Yie.f,zP=Vie.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];Cie(kh,tme)||$P(kh,tme,zP(Ff,tme))}},zae=/#|\.prototype\./,$ae=function(kh,Ff){var x_=Vae[Hae(kh)];return x_==Wae||x_!=Uae&&(Zoe(Ff)?Boe(Ff):!!Ff)},Hae=$ae.normalize=function(kh){return String(kh).replace(zae,".").toLowerCase()},Vae=$ae.data={},Uae=$ae.NATIVE="N",Wae=$ae.POLYFILL="P",Gae=$ae,qae=Vie.f,Kae=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?koe:ime?koe[nme]||bie(nme,{}):(koe[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=qae(x_,$P))&&tme.value:x_[$P],!Gae(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;Mae(eme,zP)}(kh.sham||zP&&zP.sham)&&Xie(eme,"sham",!0),bae(x_,$P,eme,kh)}},Yae=Array.isArray||function(kh){return Uoe(kh)=="Array"},Xae={};Xae[jie("toStringTag")]="z";var Zae=String(Xae)==="[object z]",Jae=jie("toStringTag"),Qae=koe.Object,eue=Uoe(function(){return arguments}())=="Arguments",tue=Zae?Uoe:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=Qae(kh),Jae))=="string"?x_:eue?Uoe(Ff):($P=Uoe(Ff))=="Object"&&Zoe(Ff.callee)?"Arguments":$P},nue=function(){},rue=[],oue=eie("Reflect","construct"),iue=/^\s*(?:class|function)\b/,aue=$oe(iue.exec),uue=!iue.exec(nue),sue=function(kh){if(!Zoe(kh))return!1;try{return oue(nue,rue,kh),!0}catch(Ff){return!1}},lue=!oue||Boe(function(){var kh;return sue(sue.call)||!sue(Object)||!sue(function(){kh=!0})||kh})?function(kh){if(!Zoe(kh))return!1;switch(tue(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return uue||!!aue(iue,tae(kh))}:sue,cue=function(kh,Ff,x_){var $P=Lie(Ff);$P in kh?Yie.f(kh,$P,Ioe(0,x_)):kh[$P]=x_},fue=jie("species"),due=$oe([].slice),pue=uie>=51||!Boe(function(){var kh=[];return(kh.constructor={})[fue]=function(){return{foo:1}},kh.slice(Boolean).foo!==1}),hue=jie("species"),gue=koe.Array,vue=Math.max;Kae({target:"Array",proto:!0,forced:!pue},{slice:function(kh,Ff){var x_,$P,zP,eme=Xoe(this),tme=kae(eme),nme=Cae(kh,tme),rme=Cae(Ff===void 0?tme:Ff,tme);if(Yae(eme)&&(x_=eme.constructor,(lue(x_)&&(x_===gue||Yae(x_.prototype))||Joe(x_)&&(x_=x_[hue])===null)&&(x_=void 0),x_===gue||x_===void 0))return due(eme,nme,rme);for($P=new(x_===void 0?gue:x_)(vue(rme-nme,0)),zP=0;nme<rme;nme++,zP++)nme in eme&&cue($P,zP,eme[nme]);return $P.length=zP,$P}});var yue=Zae?{}.toString:function(){return"[object "+tue(this)+"]"};Zae||bae(Object.prototype,"toString",yue,{unsafe:!0});var mue,bue=koe.String,wue=function(kh){if(tue(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return bue(kh)},Eue=function(){var kh=Gie(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},Due=koe.RegExp,Sue=Boe(function(){var kh=Due("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),xue=Sue||Boe(function(){return!Due("a","y").sticky}),Cue={BROKEN_CARET:Sue||Boe(function(){var kh=Due("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:xue,UNSUPPORTED_Y:Sue},Aue=Object.keys||function(kh){return _ae(kh,Pae)},Oue=Foe?Object.defineProperties:function(kh,Ff){Gie(kh);for(var x_,$P=Xoe(Ff),zP=Aue(Ff),eme=zP.length,tme=0;eme>tme;)Yie.f(kh,x_=zP[tme++],$P[x_]);return kh},kue=eie("document","documentElement"),Bue=iae("IE_PROTO"),Fue=function(){},Tue=function(kh){return"<script>"+kh+"<\/script>"},_ue=function(kh){kh.write(Tue("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},Pue=function(){try{mue=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;Pue=typeof document!="undefined"?document.domain&&mue?_ue(mue):((Ff=zie("iframe")).style.display="none",kue.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(Tue("document.F=Object")),kh.close(),kh.F):_ue(mue);for(var x_=Pae.length;x_--;)delete Pue.prototype[Pae[x_]];return Pue()};aae[Bue]=!0;var jue,Nue,Iue=Object.create||function(kh,Ff){var x_;return kh!==null?(Fue.prototype=Gie(kh),x_=new Fue,Fue.prototype=null,x_[Bue]=kh):x_=Pue(),Ff===void 0?x_:Oue(x_,Ff)},Lue=koe.RegExp,Rue=Boe(function(){var kh=Lue(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),Mue=koe.RegExp,zue=Boe(function(){var kh=Mue("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),$ue=hae.get,Hue=Eie("native-string-replace",String.prototype.replace),Vue=RegExp.prototype.exec,Uue=Vue,Wue=$oe("".charAt),Gue=$oe("".indexOf),que=$oe("".replace),Kue=$oe("".slice),Yue=(Nue=/b*/g,_oe(Vue,jue=/a/,"a"),_oe(Vue,Nue,"a"),jue.lastIndex!==0||Nue.lastIndex!==0),Xue=Cue.BROKEN_CARET,Zue=/()??/.exec("")[1]!==void 0;(Yue||Zue||Xue||Rue||zue)&&(Uue=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=$ue(rme),ome=wue(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=_oe(Uue,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=Xue&&rme.sticky,ume=_oe(Eue,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=que(ume,"y",""),Gue(ume,"g")===-1&&(ume+="g"),hme=Kue(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&Wue(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),Zue&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),Yue&&($P=rme.lastIndex),zP=_oe(Vue,lme?x_:rme,hme),lme?zP?(zP.input=Kue(zP.input,pme),zP[0]=Kue(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:Yue&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),Zue&&zP&&zP.length>1&&_oe(Hue,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=Iue(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var Jue=Uue;Kae({target:"RegExp",proto:!0,forced:/./.exec!==Jue},{exec:Jue});var Que=Function.prototype,ese=Que.apply,tse=Que.bind,nse=Que.call,rse=typeof Reflect=="object"&&Reflect.apply||(tse?nse.bind(ese):function(){return nse.apply(ese,arguments)}),ose=jie("species"),ise=RegExp.prototype,ase=jie("match"),use$1=koe.TypeError,sse=jie("species"),lse=function(kh,Ff){var x_,$P=Gie(kh).constructor;return $P===void 0||(x_=Gie($P)[sse])==null?Ff:function(zP){if(lue(zP))return zP;throw use$1(pie(zP)+" is not a constructor")}(x_)},cse=$oe("".charAt),fse=$oe("".charCodeAt),dse=$oe("".slice),pse=function(kh){return function(Ff,x_){var $P,zP,eme=wue(Yoe(Ff)),tme=Dae(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=fse(eme,tme))<55296||$P>56319||tme+1===nme||(zP=fse(eme,tme+1))<56320||zP>57343?kh?cse(eme,tme):$P:kh?dse(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},hse={codeAt:pse(!1),charAt:pse(!0)},gse=hse.charAt,vse=function(kh,Ff,x_){return Ff+(x_?gse(kh,Ff).length:1)},yse=koe.Array,mse=Math.max,bse=function(kh,Ff,x_){for(var $P=kae(kh),zP=Cae(Ff,$P),eme=Cae(x_===void 0?$P:x_,$P),tme=yse(mse(eme-zP,0)),nme=0;zP<eme;zP++,nme++)cue(tme,nme,kh[zP]);return tme.length=nme,tme},wse=koe.TypeError,Ese=function(kh,Ff){var x_=kh.exec;if(Zoe(x_)){var $P=_oe(x_,kh,Ff);return $P!==null&&Gie($P),$P}if(Uoe(kh)==="RegExp")return _oe(Jue,kh,Ff);throw wse("RegExp#exec called on incompatible receiver")},Dse=Cue.UNSUPPORTED_Y,Sse=Math.min,xse=[].push,Cse=$oe(/./.exec),Ase=$oe(xse),Ose=$oe("".slice);(function(kh,Ff,x_,$P){var zP=jie(kh),eme=!Boe(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!Boe(function(){var ime=!1,ome=/a/;return(ome={}).constructor={},ome.constructor[ose]=function(){return ome},ome.flags="",ome[zP]=/./[zP],ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=$oe(/./[zP]),rme=function(ime,ome,sme){var ame;return ame="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(lme,ume){var dme,pme,hme=wue(Yoe(this)),cme=ume===void 0?4294967295:ume>>>0;if(cme===0)return[];if(lme===void 0)return[hme];if(!Joe(dme=lme)||!((pme=dme[ase])!==void 0?pme:Uoe(dme)=="RegExp"))return _oe(ome,hme,lme,cme);for(var _me,vme,Eme,wme=[],Tme=(lme.ignoreCase?"i":"")+(lme.multiline?"m":"")+(lme.unicode?"u":"")+(lme.sticky?"y":""),Dme=0,Ame=new RegExp(lme.source,Tme+"g");(_me=_oe(Jue,Ame,hme))&&!((vme=Ame.lastIndex)>Dme&&(Ase(wme,Ose(hme,Dme,_me.index)),_me.length>1&&_me.index<hme.length&&rse(xse,wme,bse(_me,1)),Eme=_me[0].length,Dme=vme,wme.length>=cme));)Ame.lastIndex===_me.index&&Ame.lastIndex++;return Dme===hme.length?!Eme&&Cse(Ame,"")||Ase(wme,""):Ase(wme,Ose(hme,Dme)),wme.length>cme?bse(wme,0,cme):wme}:"0".split(void 0,0).length?function(lme,ume){return lme===void 0&&ume===0?[]:_oe(ome,this,lme,ume)}:ome,[function(lme,ume){var dme=Yoe(this),pme=lme==null?void 0:vie(lme,ime);return pme?_oe(pme,lme,dme,ume):_oe(ame,wue(dme),lme,ume)},function(lme,ume){var dme=Gie(this),pme=wue(lme),hme=sme(ame,dme,pme,ume,ame!==ome);if(hme.done)return hme.value;var cme=lse(dme,RegExp),_me=dme.unicode,vme=(dme.ignoreCase?"i":"")+(dme.multiline?"m":"")+(dme.unicode?"u":"")+(Dse?"g":"y"),Eme=new cme(Dse?"^(?:"+dme.source+")":dme,vme),wme=ume===void 0?4294967295:ume>>>0;if(wme===0)return[];if(pme.length===0)return Ese(Eme,pme)===null?[pme]:[];for(var Tme=0,Dme=0,Ame=[];Dme<pme.length;){Eme.lastIndex=Dse?0:Dme;var Nme,Ume=Ese(Eme,Dse?Ose(pme,Dme):pme);if(Ume===null||(Nme=Sse(Oae(Eme.lastIndex+(Dse?Dme:0)),pme.length))===Tme)Dme=vse(pme,Dme,_me);else{if(Ase(Ame,Ose(pme,Tme,Dme)),Ame.length===wme)return Ame;for(var jme=1;jme<=Ume.length-1;jme++)if(Ase(Ame,Ume[jme]),Ame.length===wme)return Ame;Dme=Tme=Nme}}return Ase(Ame,Ose(pme,Tme)),Ame}]}(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=$oe(ime),dme=ome.exec;return dme===Jue||dme===ise.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});bae(String.prototype,kh,rme[0]),bae(ise,zP,rme[1])}$P&&Xie(ise[zP],"sham",!0)})("split",0,!!Boe(function(){var kh=/(?:)/,Ff=kh.exec;kh.exec=function(){return Ff.apply(this,arguments)};var x_="ab".split(kh);return x_.length!==2||x_[0]!=="a"||x_[1]!=="b"}),Dse);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kse=function(){return kse=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++)for(var zP in Ff=arguments[x_])Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP]);return kh},kse.apply(this,arguments)};function Bse(kh,Ff,x_,$P){return new(x_||(x_=Promise))(function(zP,eme){function tme(ime){try{rme($P.next(ime))}catch(ome){eme(ome)}}function nme(ime){try{rme($P.throw(ime))}catch(ome){eme(ome)}}function rme(ime){var ome;ime.done?zP(ime.value):(ome=ime.value,ome instanceof x_?ome:new x_(function(sme){sme(ome)})).then(tme,nme)}rme(($P=$P.apply(kh,Ff||[])).next())})}function Fse(kh,Ff){var x_,$P,zP,eme,tme={label:0,sent:function(){if(1&zP[0])throw zP[1];return zP[1]},trys:[],ops:[]};return eme={next:nme(0),throw:nme(1),return:nme(2)},typeof Symbol=="function"&&(eme[Symbol.iterator]=function(){return this}),eme;function nme(rme){return function(ime){return function(ome){if(x_)throw new TypeError("Generator is already executing.");for(;tme;)try{if(x_=1,$P&&(zP=2&ome[0]?$P.return:ome[0]?$P.throw||((zP=$P.return)&&zP.call($P),0):$P.next)&&!(zP=zP.call($P,ome[1])).done)return zP;switch($P=0,zP&&(ome=[2&ome[0],zP.value]),ome[0]){case 0:case 1:zP=ome;break;case 4:return tme.label++,{value:ome[1],done:!1};case 5:tme.label++,$P=ome[1],ome=[0];continue;case 7:ome=tme.ops.pop(),tme.trys.pop();continue;default:if(!((zP=(zP=tme.trys).length>0&&zP[zP.length-1])||ome[0]!==6&&ome[0]!==2)){tme=0;continue}if(ome[0]===3&&(!zP||ome[1]>zP[0]&&ome[1]<zP[3])){tme.label=ome[1];break}if(ome[0]===6&&tme.label<zP[1]){tme.label=zP[1],zP=ome;break}if(zP&&tme.label<zP[2]){tme.label=zP[2],tme.ops.push(ome);break}zP[2]&&tme.ops.pop(),tme.trys.pop();continue}ome=Ff.call(kh,tme)}catch(sme){ome=[6,sme],$P=0}finally{x_=zP=0}if(5&ome[0])throw ome[1];return{value:ome[0]?ome[1]:void 0,done:!0}}([rme,ime])}}}function Tse(kh){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ff,x_=kh[Symbol.asyncIterator];return x_?x_.call(kh):(kh=function(zP){var eme=typeof Symbol=="function"&&Symbol.iterator,tme=eme&&zP[eme],nme=0;if(tme)return tme.call(zP);if(zP&&typeof zP.length=="number")return{next:function(){return zP&&nme>=zP.length&&(zP=void 0),{value:zP&&zP[nme++],done:!zP}}};throw new TypeError(eme?"Object is not iterable.":"Symbol.iterator is not defined.")}(kh),Ff={},$P("next"),$P("throw"),$P("return"),Ff[Symbol.asyncIterator]=function(){return this},Ff);function $P(zP){Ff[zP]=kh[zP]&&function(eme){return new Promise(function(tme,nme){(function(rme,ime,ome,sme){Promise.resolve(sme).then(function(ame){rme({value:ame,done:ome})},ime)})(tme,nme,(eme=kh[zP](eme)).done,eme.value)})}}}var _se=jie("unscopables"),Pse=Array.prototype;Pse[_se]==null&&Yie.f(Pse,_se,{configurable:!0,value:Iue(null)});var jse,Nse,Ise,Lse=function(kh){Pse[_se][kh]=!0},Rse={},Mse=!Boe(function(){function kh(){}return kh.prototype.constructor=null,Object.getPrototypeOf(new kh)!==kh.prototype}),zse=iae("IE_PROTO"),$se=koe.Object,Hse=$se.prototype,Vse=Mse?$se.getPrototypeOf:function(kh){var Ff=Sie(kh);if(Cie(Ff,zse))return Ff[zse];var x_=Ff.constructor;return Zoe(x_)&&Ff instanceof x_?x_.prototype:Ff instanceof $se?Hse:null},Use=jie("iterator"),Wse=!1;[].keys&&("next"in(Ise=[].keys())?(Nse=Vse(Vse(Ise)))!==Object.prototype&&(jse=Nse):Wse=!0);var Gse=jse==null||Boe(function(){var kh={};return jse[Use].call(kh)!==kh});Gse&&(jse={}),Zoe(jse[Use])||bae(jse,Use,function(){return this});var qse={IteratorPrototype:jse,BUGGY_SAFARI_ITERATORS:Wse},Kse=Yie.f,Yse=jie("toStringTag"),Xse=function(kh,Ff,x_){kh&&!Cie(kh=x_?kh:kh.prototype,Yse)&&Kse(kh,Yse,{configurable:!0,value:Ff})},Zse=qse.IteratorPrototype,Jse=function(){return this},Qse=koe.String,ele=koe.TypeError,tle=Object.setPrototypeOf||("__proto__"in{}?function(){var kh,Ff=!1,x_={};try{(kh=$oe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(x_,[]),Ff=x_ instanceof Array}catch($P){}return function($P,zP){return Gie($P),function(eme){if(typeof eme=="object"||Zoe(eme))return eme;throw ele("Can't set "+Qse(eme)+" as a prototype")}(zP),Ff?kh($P,zP):$P.__proto__=zP,$P}}():void 0),nle=mae.PROPER,rle=mae.CONFIGURABLE,ole=qse.IteratorPrototype,ile=qse.BUGGY_SAFARI_ITERATORS,ale=jie("iterator"),ule=function(){return this},sle=function(kh,Ff,x_,$P,zP,eme,tme){(function(hme,cme,_me,vme){var Eme=cme+" Iterator";hme.prototype=Iue(Zse,{next:Ioe(1,_me)}),Xse(hme,Eme,!1),Rse[Eme]=Jse})(x_,Ff,$P);var nme,rme,ime,ome=function(hme){if(hme===zP&&dme)return dme;if(!ile&&hme in lme)return lme[hme];switch(hme){case"keys":case"values":case"entries":return function(){return new x_(this,hme)}}return function(){return new x_(this)}},sme=Ff+" Iterator",ame=!1,lme=kh.prototype,ume=lme[ale]||lme["@@iterator"]||zP&&lme[zP],dme=!ile&&ume||ome(zP),pme=Ff=="Array"&&lme.entries||ume;if(pme&&(nme=Vse(pme.call(new kh)))!==Object.prototype&&nme.next&&(Vse(nme)!==ole&&(tle?tle(nme,ole):Zoe(nme[ale])||bae(nme,ale,ule)),Xse(nme,sme,!0)),nle&&zP=="values"&&ume&&ume.name!=="values"&&(rle?Xie(lme,"name","values"):(ame=!0,dme=function(){return _oe(ume,this)})),zP)if(rme={values:ome("values"),keys:eme?dme:ome("keys"),entries:ome("entries")},tme)for(ime in rme)(ile||ame||!(ime in lme))&&bae(lme,ime,rme[ime]);else Kae({target:Ff,proto:!0,forced:ile||ame},rme);return lme[ale]!==dme&&bae(lme,ale,dme,{name:zP}),Rse[Ff]=dme,rme},lle=hae.set,cle=hae.getterFor("Array Iterator"),fle=sle(Array,"Array",function(kh,Ff){lle(this,{type:"Array Iterator",target:Xoe(kh),index:0,kind:Ff})},function(){var kh=cle(this),Ff=kh.target,x_=kh.kind,$P=kh.index++;return!Ff||$P>=Ff.length?(kh.target=void 0,{value:void 0,done:!0}):x_=="keys"?{value:$P,done:!1}:x_=="values"?{value:Ff[$P],done:!1}:{value:[$P,Ff[$P]],done:!1}},"values");Rse.Arguments=Rse.Array,Lse("keys"),Lse("values"),Lse("entries");var dle=hse.charAt,ple=hae.set,hle=hae.getterFor("String Iterator");sle(String,"String",function(kh){ple(this,{type:"String Iterator",string:wue(kh),index:0})},function(){var kh,Ff=hle(this),x_=Ff.string,$P=Ff.index;return $P>=x_.length?{value:void 0,done:!0}:(kh=dle(x_,$P),Ff.index+=kh.length,{value:kh,done:!1})});var gle=function(kh,Ff,x_){for(var $P in Ff)bae(kh,$P,Ff[$P],x_);return kh},vle=Nae.f,yle=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],mle={f:function(kh){return yle&&Uoe(kh)=="Window"?function(Ff){try{return vle(Ff)}catch(x_){return bse(yle)}}(kh):vle(Xoe(kh))}},ble=Boe(function(){if(typeof ArrayBuffer=="function"){var kh=new ArrayBuffer(8);Object.isExtensible(kh)&&Object.defineProperty(kh,"a",{value:8})}}),wle=Object.isExtensible,Ele=Boe(function(){wle(1)})||ble?function(kh){return!!Joe(kh)&&(!ble||Uoe(kh)!="ArrayBuffer")&&(!wle||wle(kh))}:wle,Dle=!Boe(function(){return Object.isExtensible(Object.preventExtensions({}))}),Sle=xoe(function(kh){var Ff=Yie.f,x_=!1,$P=Bie("meta"),zP=0,eme=function(nme){Ff(nme,$P,{value:{objectID:"O"+zP++,weakData:{}}})},tme=kh.exports={enable:function(){tme.enable=function(){},x_=!0;var nme=Nae.f,rme=$oe([].splice),ime={};ime[$P]=1,nme(ime).length&&(Nae.f=function(ome){for(var sme=nme(ome),ame=0,lme=sme.length;ame<lme;ame++)if(sme[ame]===$P){rme(sme,ame,1);break}return sme},Kae({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:mle.f}))},fastKey:function(nme,rme){if(!Joe(nme))return typeof nme=="symbol"?nme:(typeof nme=="string"?"S":"P")+nme;if(!Cie(nme,$P)){if(!Ele(nme))return"F";if(!rme)return"E";eme(nme)}return nme[$P].objectID},getWeakData:function(nme,rme){if(!Cie(nme,$P)){if(!Ele(nme))return!0;if(!rme)return!1;eme(nme)}return nme[$P].weakData},onFreeze:function(nme){return Dle&&x_&&Ele(nme)&&!Cie(nme,$P)&&eme(nme),nme}};aae[$P]=!0}),xle=$oe($oe.bind),Cle=function(kh,Ff){return gie(kh),Ff===void 0?kh:xle?xle(kh,Ff):function(){return kh.apply(Ff,arguments)}},Ale=jie("iterator"),Ole=Array.prototype,kle=jie("iterator"),Ble=function(kh){if(kh!=null)return vie(kh,kle)||vie(kh,"@@iterator")||Rse[tue(kh)]},Fle=koe.TypeError,Tle=function(kh,Ff,x_){var $P,zP;Gie(kh);try{if(!($P=vie(kh,"return"))){if(Ff==="throw")throw x_;return x_}$P=_oe($P,kh)}catch(eme){zP=!0,$P=eme}if(Ff==="throw")throw x_;if(zP)throw $P;return Gie($P),x_},_le=koe.TypeError,Ple=function(kh,Ff){this.stopped=kh,this.result=Ff},jle=Ple.prototype,Nle=function(kh,Ff,x_){var $P,zP,eme,tme,nme,rme,ime,ome,sme=x_&&x_.that,ame=!(!x_||!x_.AS_ENTRIES),lme=!(!x_||!x_.IS_ITERATOR),ume=!(!x_||!x_.INTERRUPTED),dme=Cle(Ff,sme),pme=function(cme){return $P&&Tle($P,"normal",cme),new Ple(!0,cme)},hme=function(cme){return ame?(Gie(cme),ume?dme(cme[0],cme[1],pme):dme(cme[0],cme[1])):ume?dme(cme,pme):dme(cme)};if(lme)$P=kh;else{if(!(zP=Ble(kh)))throw _le(pie(kh)+" is not iterable");if((ome=zP)!==void 0&&(Rse.Array===ome||Ole[Ale]===ome)){for(eme=0,tme=kae(kh);tme>eme;eme++)if((nme=hme(kh[eme]))&&tie(jle,nme))return nme;return new Ple(!1)}$P=function(cme,_me){var vme=arguments.length<2?Ble(cme):_me;if(gie(vme))return Gie(_oe(vme,cme));throw Fle(pie(cme)+" is not iterable")}(kh,zP)}for(rme=$P.next;!(ime=_oe(rme,$P)).done;){try{nme=hme(ime.value)}catch(cme){Tle($P,"throw",cme)}if(typeof nme=="object"&&nme&&tie(jle,nme))return nme}return new Ple(!1)},Ile=koe.TypeError,Lle=function(kh,Ff){if(tie(Ff,kh))return kh;throw Ile("Incorrect invocation")},Rle=jie("iterator"),Mle=!1;try{var zle=0,$le={next:function(){return{done:!!zle++}},return:function(){Mle=!0}};$le[Rle]=function(){return this},Array.from($le,function(){throw 2})}catch(kh){}var Hle=function(kh,Ff){if(!Ff&&!Mle)return!1;var x_=!1;try{var $P={};$P[Rle]=function(){return{next:function(){return{done:x_=!0}}}},kh($P)}catch(zP){}return x_},Vle=jie("species"),Ule=koe.Array,Wle=function(kh,Ff){return new(function(x_){var $P;return Yae(x_)&&($P=x_.constructor,(lue($P)&&($P===Ule||Yae($P.prototype))||Joe($P)&&($P=$P[Vle])===null)&&($P=void 0)),$P===void 0?Ule:$P}(kh))(Ff===0?0:Ff)},Gle=$oe([].push),qle=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=Sie(rme),dme=qoe(ume),pme=Cle(ime,ome),hme=kae(dme),cme=0,_me=sme||Wle,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:Gle(vme,ame)}else switch(kh){case 4:return!1;case 7:Gle(vme,ame)}return eme?-1:$P||zP?zP:vme}},Kle={forEach:qle(0),map:qle(1),filter:qle(2),some:qle(3),every:qle(4),find:qle(5),findIndex:qle(6),filterReject:qle(7)},Yle=Sle.getWeakData,Xle=hae.set,Zle=hae.getterFor,Jle=Kle.find,Qle=Kle.findIndex,ece=$oe([].splice),tce=0,nce=function(kh){return kh.frozen||(kh.frozen=new rce)},rce=function(){this.entries=[]},oce=function(kh,Ff){return Jle(kh.entries,function(x_){return x_[0]===Ff})};rce.prototype={get:function(kh){var Ff=oce(this,kh);if(Ff)return Ff[1]},has:function(kh){return!!oce(this,kh)},set:function(kh,Ff){var x_=oce(this,kh);x_?x_[1]=Ff:this.entries.push([kh,Ff])},delete:function(kh){var Ff=Qle(this.entries,function(x_){return x_[0]===kh});return~Ff&&ece(this.entries,Ff,1),!!~Ff}};var ice,ace={getConstructor:function(kh,Ff,x_,$P){var zP=kh(function(rme,ime){Lle(rme,eme),Xle(rme,{type:Ff,id:tce++,frozen:void 0}),ime!=null&&Nle(ime,rme[$P],{that:rme,AS_ENTRIES:x_})}),eme=zP.prototype,tme=Zle(Ff),nme=function(rme,ime,ome){var sme=tme(rme),ame=Yle(Gie(ime),!0);return ame===!0?nce(sme).set(ime,ome):ame[sme.id]=ome,rme};return gle(eme,{delete:function(rme){var ime=tme(this);if(!Joe(rme))return!1;var ome=Yle(rme);return ome===!0?nce(ime).delete(rme):ome&&Cie(ome,ime.id)&&delete ome[ime.id]},has:function(rme){var ime=tme(this);if(!Joe(rme))return!1;var ome=Yle(rme);return ome===!0?nce(ime).has(rme):ome&&Cie(ome,ime.id)}}),gle(eme,x_?{get:function(rme){var ime=tme(this);if(Joe(rme)){var ome=Yle(rme);return ome===!0?nce(ime).get(rme):ome?ome[ime.id]:void 0}},set:function(rme,ime){return nme(this,rme,ime)}}:{add:function(rme){return nme(this,rme,!0)}}),zP}},uce=hae.enforce,sce=!koe.ActiveXObject&&"ActiveXObject"in koe,lce=function(kh){return function(){return kh(this,arguments.length?arguments[0]:void 0)}},cce=function(kh,Ff,x_){var $P=kh.indexOf("Map")!==-1,zP=kh.indexOf("Weak")!==-1,eme=$P?"set":"add",tme=koe[kh],nme=tme&&tme.prototype,rme=tme,ime={},ome=function(pme){var hme=$oe(nme[pme]);bae(nme,pme,pme=="add"?function(cme){return hme(this,cme===0?0:cme),this}:pme=="delete"?function(cme){return!(zP&&!Joe(cme))&&hme(this,cme===0?0:cme)}:pme=="get"?function(cme){return zP&&!Joe(cme)?void 0:hme(this,cme===0?0:cme)}:pme=="has"?function(cme){return!(zP&&!Joe(cme))&&hme(this,cme===0?0:cme)}:function(cme,_me){return hme(this,cme===0?0:cme,_me),this})};if(Gae(kh,!Zoe(tme)||!(zP||nme.forEach&&!Boe(function(){new tme().entries().next()}))))rme=x_.getConstructor(Ff,kh,$P,eme),Sle.enable();else if(Gae(kh,!0)){var sme=new rme,ame=sme[eme](zP?{}:-0,1)!=sme,lme=Boe(function(){sme.has(1)}),ume=Hle(function(pme){new tme(pme)}),dme=!zP&&Boe(function(){for(var pme=new tme,hme=5;hme--;)pme[eme](hme,hme);return!pme.has(-0)});ume||((rme=Ff(function(pme,hme){Lle(pme,nme);var cme=function(_me,vme,Eme){var wme,Tme;return tle&&Zoe(wme=vme.constructor)&&wme!==Eme&&Joe(Tme=wme.prototype)&&Tme!==Eme.prototype&&tle(_me,Tme),_me}(new tme,pme,rme);return hme!=null&&Nle(hme,cme[eme],{that:cme,AS_ENTRIES:$P}),cme})).prototype=nme,nme.constructor=rme),(lme||dme)&&(ome("delete"),ome("has"),$P&&ome("get")),(dme||ame)&&ome(eme),zP&&nme.clear&&delete nme.clear}return ime[kh]=rme,Kae({global:!0,forced:rme!=tme},ime),Xse(rme,kh),zP||x_.setStrong(rme,kh,$P),rme}("WeakMap",lce,ace);if(rae&&sce){ice=ace.getConstructor(lce,"WeakMap",!0),Sle.enable();var fce=cce.prototype,dce=$oe(fce.delete),pce=$oe(fce.has),hce=$oe(fce.get),gce=$oe(fce.set);gle(fce,{delete:function(kh){if(Joe(kh)&&!Ele(kh)){var Ff=uce(this);return Ff.frozen||(Ff.frozen=new ice),dce(this,kh)||Ff.frozen.delete(kh)}return dce(this,kh)},has:function(kh){if(Joe(kh)&&!Ele(kh)){var Ff=uce(this);return Ff.frozen||(Ff.frozen=new ice),pce(this,kh)||Ff.frozen.has(kh)}return pce(this,kh)},get:function(kh){if(Joe(kh)&&!Ele(kh)){var Ff=uce(this);return Ff.frozen||(Ff.frozen=new ice),pce(this,kh)?hce(this,kh):Ff.frozen.get(kh)}return hce(this,kh)},set:function(kh,Ff){if(Joe(kh)&&!Ele(kh)){var x_=uce(this);x_.frozen||(x_.frozen=new ice),pce(this,kh)?gce(this,kh,Ff):x_.frozen.set(kh,Ff)}else gce(this,kh,Ff);return this}})}var vce={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yce=zie("span").classList,mce=yce&&yce.constructor&&yce.constructor.prototype,bce=mce===Object.prototype?void 0:mce,wce=jie("iterator"),Ece=jie("toStringTag"),Dce=fle.values,Sce=function(kh,Ff){if(kh){if(kh[wce]!==Dce)try{Xie(kh,wce,Dce)}catch($P){kh[wce]=Dce}if(kh[Ece]||Xie(kh,Ece,Ff),vce[Ff]){for(var x_ in fle)if(kh[x_]!==fle[x_])try{Xie(kh,x_,fle[x_])}catch($P){kh[x_]=fle[x_]}}}};for(var xce in vce)Sce(koe[xce]&&koe[xce].prototype,xce);Sce(bce,"DOMTokenList");var Cce=function(kh,Ff){var x_=[][kh];return!!x_&&Boe(function(){x_.call(null,Ff||function(){throw 1},1)})},Ace=Kle.forEach,Oce=Cce("forEach")?[].forEach:function(kh){return Ace(this,kh,arguments.length>1?arguments[1]:void 0)},kce=function(kh){if(kh&&kh.forEach!==Oce)try{Xie(kh,"forEach",Oce)}catch(Ff){kh.forEach=Oce}};for(var Bce in vce)vce[Bce]&&kce(koe[Bce]&&koe[Bce].prototype);kce(bce);var Fce,Tce,_ce,Pce,jce=koe.Promise,Nce=jie("species"),Ice=/(?:ipad|iphone|ipod).*applewebkit/i.test(nie),Lce=Uoe(koe.process)=="process",Rce=koe.setImmediate,Mce=koe.clearImmediate,zce=koe.process,$ce=koe.Dispatch,Hce=koe.Function,Vce=koe.MessageChannel,Uce=koe.String,Wce=0,Gce={};try{Fce=koe.location}catch(kh){}var qce=function(kh){if(Cie(Gce,kh)){var Ff=Gce[kh];delete Gce[kh],Ff()}},Kce=function(kh){return function(){qce(kh)}},Yce=function(kh){qce(kh.data)},Xce=function(kh){koe.postMessage(Uce(kh),Fce.protocol+"//"+Fce.host)};Rce&&Mce||(Rce=function(kh){var Ff=due(arguments,1);return Gce[++Wce]=function(){rse(Zoe(kh)?kh:Hce(kh),void 0,Ff)},Tce(Wce),Wce},Mce=function(kh){delete Gce[kh]},Lce?Tce=function(kh){zce.nextTick(Kce(kh))}:$ce&&$ce.now?Tce=function(kh){$ce.now(Kce(kh))}:Vce&&!Ice?(Pce=(_ce=new Vce).port2,_ce.port1.onmessage=Yce,Tce=Cle(Pce.postMessage,Pce)):koe.addEventListener&&Zoe(koe.postMessage)&&!koe.importScripts&&Fce&&Fce.protocol!=="file:"&&!Boe(Xce)?(Tce=Xce,koe.addEventListener("message",Yce,!1)):Tce="onreadystatechange"in zie("script")?function(kh){kue.appendChild(zie("script")).onreadystatechange=function(){kue.removeChild(this),qce(kh)}}:function(kh){setTimeout(Kce(kh),0)});var Zce,Jce,Qce,efe,tfe,nfe,rfe,ofe,ife={set:Rce,clear:Mce},afe=/ipad|iphone|ipod/i.test(nie)&&koe.Pebble!==void 0,ufe=/web0s(?!.*chrome)/i.test(nie),sfe=Vie.f,lfe=ife.set,cfe=koe.MutationObserver||koe.WebKitMutationObserver,ffe=koe.document,dfe=koe.process,pfe=koe.Promise,hfe=sfe(koe,"queueMicrotask"),gfe=hfe&&hfe.value;gfe||(Zce=function(){var kh,Ff;for(Lce&&(kh=dfe.domain)&&kh.exit();Jce;){Ff=Jce.fn,Jce=Jce.next;try{Ff()}catch(x_){throw Jce?efe():Qce=void 0,x_}}Qce=void 0,kh&&kh.enter()},Ice||Lce||ufe||!cfe||!ffe?!afe&&pfe&&pfe.resolve?((rfe=pfe.resolve(void 0)).constructor=pfe,ofe=Cle(rfe.then,rfe),efe=function(){ofe(Zce)}):Lce?efe=function(){dfe.nextTick(Zce)}:(lfe=Cle(lfe,koe),efe=function(){lfe(Zce)}):(tfe=!0,nfe=ffe.createTextNode(""),new cfe(Zce).observe(nfe,{characterData:!0}),efe=function(){nfe.data=tfe=!tfe}));var vfe,yfe,mfe,bfe,wfe=gfe||function(kh){var Ff={fn:kh,next:void 0};Qce&&(Qce.next=Ff),Jce||(Jce=Ff,efe()),Qce=Ff},Efe=function(kh){var Ff,x_;this.promise=new kh(function($P,zP){if(Ff!==void 0||x_!==void 0)throw TypeError("Bad Promise constructor");Ff=$P,x_=zP}),this.resolve=gie(Ff),this.reject=gie(x_)},Dfe={f:function(kh){return new Efe(kh)}},Sfe=function(kh){try{return{error:!1,value:kh()}}catch(Ff){return{error:!0,value:Ff}}},xfe=typeof window=="object",Cfe=ife.set,Afe=jie("species"),Ofe="Promise",kfe=hae.getterFor(Ofe),Bfe=hae.set,Ffe=hae.getterFor(Ofe),Tfe=jce&&jce.prototype,_fe=jce,Pfe=Tfe,jfe=koe.TypeError,Nfe=koe.document,Ife=koe.process,Lfe=Dfe.f,Rfe=Lfe,Mfe=!!(Nfe&&Nfe.createEvent&&koe.dispatchEvent),zfe=Zoe(koe.PromiseRejectionEvent),$fe=!1,Hfe=Gae(Ofe,function(){var kh=tae(_fe),Ff=kh!==String(_fe);if(!Ff&&uie===66)return!0;if(uie>=51&&/native code/.test(kh))return!1;var x_=new _fe(function(zP){zP(1)}),$P=function(zP){zP(function(){},function(){})};return(x_.constructor={})[Afe]=$P,!($fe=x_.then(function(){})instanceof $P)||!Ff&&xfe&&!zfe}),Vfe=Hfe||!Hle(function(kh){_fe.all(kh).catch(function(){})}),Ufe=function(kh){var Ff;return!(!Joe(kh)||!Zoe(Ff=kh.then))&&Ff},Wfe=function(kh,Ff){if(!kh.notified){kh.notified=!0;var x_=kh.reactions;wfe(function(){for(var $P=kh.value,zP=kh.state==1,eme=0;x_.length>eme;){var tme,nme,rme,ime=x_[eme++],ome=zP?ime.ok:ime.fail,sme=ime.resolve,ame=ime.reject,lme=ime.domain;try{ome?(zP||(kh.rejection===2&&Yfe(kh),kh.rejection=1),ome===!0?tme=$P:(lme&&lme.enter(),tme=ome($P),lme&&(lme.exit(),rme=!0)),tme===ime.promise?ame(jfe("Promise-chain cycle")):(nme=Ufe(tme))?_oe(nme,tme,sme,ame):sme(tme)):ame($P)}catch(ume){lme&&!rme&&lme.exit(),ame(ume)}}kh.reactions=[],kh.notified=!1,Ff&&!kh.rejection&&qfe(kh)})}},Gfe=function(kh,Ff,x_){var $P,zP;Mfe?(($P=Nfe.createEvent("Event")).promise=Ff,$P.reason=x_,$P.initEvent(kh,!1,!0),koe.dispatchEvent($P)):$P={promise:Ff,reason:x_},!zfe&&(zP=koe["on"+kh])?zP($P):kh==="unhandledrejection"&&function(eme,tme){var nme=koe.console;nme&&nme.error&&(arguments.length==1?nme.error(eme):nme.error(eme,tme))}("Unhandled promise rejection",x_)},qfe=function(kh){_oe(Cfe,koe,function(){var Ff,x_=kh.facade,$P=kh.value;if(Kfe(kh)&&(Ff=Sfe(function(){Lce?Ife.emit("unhandledRejection",$P,x_):Gfe("unhandledrejection",x_,$P)}),kh.rejection=Lce||Kfe(kh)?2:1,Ff.error))throw Ff.value})},Kfe=function(kh){return kh.rejection!==1&&!kh.parent},Yfe=function(kh){_oe(Cfe,koe,function(){var Ff=kh.facade;Lce?Ife.emit("rejectionHandled",Ff):Gfe("rejectionhandled",Ff,kh.value)})},Xfe=function(kh,Ff,x_){return function($P){kh(Ff,$P,x_)}},Zfe=function(kh,Ff,x_){kh.done||(kh.done=!0,x_&&(kh=x_),kh.value=Ff,kh.state=2,Wfe(kh,!0))},Jfe=function(kh,Ff,x_){if(!kh.done){kh.done=!0,x_&&(kh=x_);try{if(kh.facade===Ff)throw jfe("Promise can't be resolved itself");var $P=Ufe(Ff);$P?wfe(function(){var zP={done:!1};try{_oe($P,Ff,Xfe(Jfe,zP,kh),Xfe(Zfe,zP,kh))}catch(eme){Zfe(zP,eme,kh)}}):(kh.value=Ff,kh.state=1,Wfe(kh,!1))}catch(zP){Zfe({done:!1},zP,kh)}}};if(Hfe&&(Pfe=(_fe=function(kh){Lle(this,Pfe),gie(kh),_oe(vfe,this);var Ff=kfe(this);try{kh(Xfe(Jfe,Ff),Xfe(Zfe,Ff))}catch(x_){Zfe(Ff,x_)}}).prototype,(vfe=function(kh){Bfe(this,{type:Ofe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=gle(Pfe,{then:function(kh,Ff){var x_=Ffe(this),$P=x_.reactions,zP=Lfe(lse(this,_fe));return zP.ok=!Zoe(kh)||kh,zP.fail=Zoe(Ff)&&Ff,zP.domain=Lce?Ife.domain:void 0,x_.parent=!0,$P[$P.length]=zP,x_.state!=0&&Wfe(x_,!1),zP.promise},catch:function(kh){return this.then(void 0,kh)}}),yfe=function(){var kh=new vfe,Ff=kfe(kh);this.promise=kh,this.resolve=Xfe(Jfe,Ff),this.reject=Xfe(Zfe,Ff)},Dfe.f=Lfe=function(kh){return kh===_fe||kh===mfe?new yfe(kh):Rfe(kh)},Zoe(jce)&&Tfe!==Object.prototype)){bfe=Tfe.then,$fe||(bae(Tfe,"then",function(kh,Ff){var x_=this;return new _fe(function($P,zP){_oe(bfe,x_,$P,zP)}).then(kh,Ff)},{unsafe:!0}),bae(Tfe,"catch",Pfe.catch,{unsafe:!0}));try{delete Tfe.constructor}catch(kh){}tle&&tle(Tfe,Pfe)}Kae({global:!0,wrap:!0,forced:Hfe},{Promise:_fe}),Xse(_fe,Ofe,!1),function(kh){var Ff=eie("Promise"),x_=Yie.f;Foe&&Ff&&!Ff[Nce]&&x_(Ff,Nce,{configurable:!0,get:function(){return this}})}(),mfe=eie(Ofe),Kae({target:Ofe,stat:!0,forced:Hfe},{reject:function(kh){var Ff=Lfe(this);return _oe(Ff.reject,void 0,kh),Ff.promise}}),Kae({target:Ofe,stat:!0,forced:Hfe},{resolve:function(kh){return function(Ff,x_){if(Gie(Ff),Joe(x_)&&x_.constructor===Ff)return x_;var $P=Dfe.f(Ff);return(0,$P.resolve)(x_),$P.promise}(this,kh)}}),Kae({target:Ofe,stat:!0,forced:Vfe},{all:function(kh){var Ff=this,x_=Lfe(Ff),$P=x_.resolve,zP=x_.reject,eme=Sfe(function(){var tme=gie(Ff.resolve),nme=[],rme=0,ime=1;Nle(kh,function(ome){var sme=rme++,ame=!1;ime++,_oe(tme,Ff,ome).then(function(lme){ame||(ame=!0,nme[sme]=lme,--ime||$P(nme))},zP)}),--ime||$P(nme)});return eme.error&&zP(eme.value),x_.promise},race:function(kh){var Ff=this,x_=Lfe(Ff),$P=x_.reject,zP=Sfe(function(){var eme=gie(Ff.resolve);Nle(kh,function(tme){_oe(eme,Ff,tme).then(x_.resolve,$P)})});return zP.error&&$P(zP.value),x_.promise}});var Qfe=mae.PROPER,ede=RegExp.prototype,tde=ede.toString,nde=$oe(Eue),rde=Boe(function(){return tde.call({source:"a",flags:"b"})!="/a/b"}),ode=Qfe&&tde.name!="toString";(rde||ode)&&bae(RegExp.prototype,"toString",function(){var kh=Gie(this),Ff=wue(kh.source),x_=kh.flags;return"/"+Ff+"/"+wue(x_===void 0&&tie(ede,kh)&&!("flags"in ede)?nde(kh):x_)},{unsafe:!0});var ide=mae.EXISTS,ade=Yie.f,ude=Function.prototype,sde=$oe(ude.toString),lde=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,cde=$oe(lde.exec);Foe&&!ide&&ade(ude,"name",{configurable:!0,get:function(){try{return cde(lde,sde(this))[1]}catch(kh){return""}}});var fde=new WeakMap;function dde(kh){return kh.getMenuConfig("uploadImage")}function pde(kh,Ff){return Bse(this,void 0,void 0,function(){return Fse(this,function(x_){return[2,new Promise(function($P){var zP=new FileReader;zP.readAsDataURL(Ff),zP.onload=function(){var eme=zP.result;if(eme){var tme=eme.toString(),nme=tme.indexOf("data:image")===0?"":tme;M$(kh,tme,Ff.name,nme),$P("ok")}}})]})})}function hde(kh,Ff){return Bse(this,void 0,void 0,function(){var x_,$P,zP,eme;return Fse(this,function(tme){switch(tme.label){case 0:return x_=function(nme){var rme=fde.get(nme);if(rme!=null)return rme;var ime=dde(nme),ome=ime.onSuccess,sme=ime.onProgress,ame=ime.onFailed,lme=ime.customInsert,ume=ime.onError;return rme=K_(kse(kse({},ime),{onProgress:function(dme){nme.showProgressBar(dme),sme&&sme(dme)},onSuccess:function(dme,pme){if(lme)return lme(pme,function(Nme,Ume,jme){return M$(nme,Nme,Ume,jme)}),void ome(dme,pme);var hme=pme.errno,cme=hme===void 0?1:hme,_me=pme.data,vme=_me===void 0?{}:_me;if(cme===0){if(Array.isArray(vme))vme.forEach(function(Nme){var Ume=Nme.url,jme=Ume===void 0?"":Ume,Fme=Nme.alt,$me=Fme===void 0?"":Fme,Gme=Nme.href;M$(nme,jme,$me,Gme===void 0?"":Gme)});else{var Eme=vme.url,wme=Eme===void 0?"":Eme,Tme=vme.alt,Dme=Tme===void 0?"":Tme,Ame=vme.href;M$(nme,wme,Dme,Ame===void 0?"":Ame)}ome(dme,pme)}else ame(dme,pme)},onError:function(dme,pme,hme){ume(dme,pme,hme)}})),fde.set(nme,rme),rme}(kh),$P=Ff.name,zP=Ff.type,eme=Ff.size,x_.addFile({name:$P,type:zP,size:eme,data:Ff}),[4,x_.upload()];case 1:return tme.sent(),[2]}})})}function gde(kh,Ff){var x_,$P;return Bse(this,void 0,void 0,function(){var zP,eme,tme,nme,rme,ime,ome,sme,ame;return Fse(this,function(lme){switch(lme.label){case 0:if(Ff==null)return[2];zP=Array.prototype.slice.call(Ff),eme=dde(kh),tme=eme.customUpload,nme=eme.base64LimitSize,lme.label=1;case 1:lme.trys.push([1,11,12,17]),rme=Tse(zP),lme.label=2;case 2:return[4,rme.next()];case 3:return(ime=lme.sent()).done?[3,10]:(ome=ime.value,sme=ome.size,nme&&sme<=nme?[4,pde(kh,ome)]:[3,5]);case 4:return lme.sent(),[3,9];case 5:return tme?[4,tme(ome,function(ume,dme,pme){return M$(kh,ume,dme,pme)})]:[3,7];case 6:return lme.sent(),[3,9];case 7:return[4,hde(kh,ome)];case 8:lme.sent(),lme.label=9;case 9:return[3,2];case 10:return[3,17];case 11:return ame=lme.sent(),x_={error:ame},[3,17];case 12:return lme.trys.push([12,,15,16]),ime&&!ime.done&&($P=rme.return)?[4,$P.call(rme)]:[3,14];case 13:lme.sent(),lme.label=14;case 14:return[3,16];case 15:if(x_)throw x_.error;return[7];case 16:return[7];case 17:return[2]}})})}var vde=$oe([].join),yde=qoe!=Object,mde=Cce("join",",");Kae({target:"Array",proto:!0,forced:yde||!mde},{join:function(kh){return vde(Xoe(this),kh===void 0?",":kh)}}),ah&&(Mp.fn.append=ah),qp&&(Mp.fn.on=qp),dh&&(Mp.fn.remove=dh),Gp&&(Mp.fn.val=Gp),vh&&(Mp.fn.click=vh),Jp&&(Mp.fn.hide=Jp);var bde=function(){function kh(){this.title=HP("uploadImgModule.uploadImage"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M828.708571 585.045333a48.761905 48.761905 0 0 0-48.737523 48.761905v18.529524l-72.143238-72.167619a135.972571 135.972571 0 0 0-191.585524 0l-34.133334 34.133333-120.880762-120.953905a138.898286 138.898286 0 0 0-191.585523 0l-72.167619 72.167619V292.400762a48.786286 48.786286 0 0 1 48.761904-48.761905h341.23581a48.737524 48.737524 0 0 0 34.474667-83.285333 48.737524 48.737524 0 0 0-34.474667-14.287238H146.236952A146.212571 146.212571 0 0 0 0 292.400762v585.289143A146.358857 146.358857 0 0 0 146.236952 1024h584.996572a146.212571 146.212571 0 0 0 146.236952-146.310095V633.807238a48.786286 48.786286 0 0 0-48.761905-48.761905zM146.261333 926.45181a48.737524 48.737524 0 0 1-48.761904-48.761905v-174.128762l141.409523-141.458286a38.497524 38.497524 0 0 1 53.126096 0l154.526476 154.624 209.627428 209.724953H146.236952z m633.734096-48.761905c-0.073143 9.337905-3.145143 18.383238-8.777143 25.843809l-219.843048-220.94019 34.133333-34.133334a37.546667 37.546667 0 0 1 53.613715 0l140.873143 141.897143V877.714286zM1009.615238 160.231619L863.329524 13.897143a48.737524 48.737524 0 0 0-16.091429-10.24c-11.849143-4.87619-25.161143-4.87619-37.059047 0a48.761905 48.761905 0 0 0-16.067048 10.24l-146.236952 146.334476a49.005714 49.005714 0 0 0 69.217523 69.241905l62.902858-63.390476v272.627809a48.761905 48.761905 0 1 0 97.475047 0V166.083048l62.902857 63.390476a48.737524 48.737524 0 0 0 69.217524 0 48.761905 48.761905 0 0 0 0-69.241905z"></path></svg>',this.tag="button"}return kh.prototype.getValue=function(Ff){return""},kh.prototype.isActive=function(Ff){return!1},kh.prototype.isDisabled=function(Ff){return z$(Ff)},kh.prototype.getMenuConfig=function(Ff){return Ff.getMenuConfig("uploadImage")},kh.prototype.exec=function(Ff,x_){var $P=this.getMenuConfig(Ff),zP=$P.allowedFileTypes,eme=zP===void 0?[]:zP,tme=$P.customBrowseAndUpload;if(tme)tme(function(ome,sme,ame){return M$(Ff,ome,sme,ame)});else{var nme="";eme.length>0&&(nme='accept="'+eme.join(", ")+'"');var rme=Mp("body"),ime=Mp('<input type="file" '+nme+" multiple/>");ime.hide(),rme.append(ime),ime.click(),ime.on("change",function(){var ome=ime[0].files;gde(Ff,ome)})}},kh}(),wde={menus:[{key:"uploadImage",factory:function(){return new bde},config:{server:"",fieldName:"wangeditor-uploaded-image",maxFileSize:2097152,maxNumberOfFiles:100,allowedFileTypes:["image/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:1e4,onBeforeUpload:function(kh){return kh},onProgress:function(kh){},onSuccess:function(kh,Ff){},onFailed:function(kh,Ff){console.error("'"+kh.name+"' upload failed",Ff)},onError:function(kh,Ff,x_){console.error("'"+kh.name+"' upload error",x_)},base64LimitSize:0}}],editorPlugin:function(kh){var Ff=kh.insertData,x_=kh;return x_.insertData=function($P){if(z$(x_))Ff($P);else if($P.getData("text/plain"))Ff($P);else{var zP=$P.files;zP.length<=0?Ff($P):Array.prototype.slice.call(zP).some(function(eme){return function(tme,nme){var rme=typeof Symbol=="function"&&tme[Symbol.iterator];if(!rme)return tme;var ime,ome,sme=rme.call(tme),ame=[];try{for(;(nme===void 0||nme-- >0)&&!(ime=sme.next()).done;)ame.push(ime.value)}catch(lme){ome={error:lme}}finally{try{ime&&!ime.done&&(rme=sme.return)&&rme.call(sme)}finally{if(ome)throw ome.error}}return ame}(eme.type.split("/"),1)[0]==="image"})?gde(kh,zP):Ff($P)}},x_}};MP("en",{highLightModule:{selectLang:"Language"}}),MP("zh-CN",{highLightModule:{selectLang:"选择语言"}});var Ede=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Dde(kh){var Ff={exports:{}};return kh(Ff,Ff.exports),Ff.exports}var Sde,xde,Cde=function(kh){return kh&&kh.Math==Math&&kh},Ade=Cde(typeof globalThis=="object"&&globalThis)||Cde(typeof window=="object"&&window)||Cde(typeof self=="object"&&self)||Cde(typeof Ede=="object"&&Ede)||function(){return this}()||Function("return this")(),Ode=Object.defineProperty,kde=function(kh,Ff){try{Ode(Ade,kh,{value:Ff,configurable:!0,writable:!0})}catch(x_){Ade[kh]=Ff}return Ff},Bde=Ade["__core-js_shared__"]||kde("__core-js_shared__",{}),Fde=Dde(function(kh){(kh.exports=function(Ff,x_){return Bde[Ff]||(Bde[Ff]=x_!==void 0?x_:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Tde=Function.prototype,_de=Tde.bind,Pde=Tde.call,jde=_de&&_de.bind(Pde),Nde=_de?function(kh){return kh&&jde(Pde,kh)}:function(kh){return kh&&function(){return Pde.apply(kh,arguments)}},Ide=Ade.TypeError,Lde=function(kh){if(kh==null)throw Ide("Can't call method on "+kh);return kh},Rde=Ade.Object,Mde=function(kh){return Rde(Lde(kh))},zde=Nde({}.hasOwnProperty),$de=Object.hasOwn||function(kh,Ff){return zde(Mde(kh),Ff)},Hde=0,Vde=Math.random(),Ude=Nde(1 .toString),Wde=function(kh){return"Symbol("+(kh===void 0?"":kh)+")_"+Ude(++Hde+Vde,36)},Gde=function(kh){return typeof kh=="function"},qde=function(kh){return Gde(kh)?kh:void 0},Kde=function(kh,Ff){return arguments.length<2?qde(Ade[kh]):Ade[kh]&&Ade[kh][Ff]},Yde=Kde("navigator","userAgent")||"",Xde=Ade.process,Zde=Ade.Deno,Jde=Xde&&Xde.versions||Zde&&Zde.version,Qde=Jde&&Jde.v8;Qde&&(xde=(Sde=Qde.split("."))[0]>0&&Sde[0]<4?1:+(Sde[0]+Sde[1])),!xde&&Yde&&(!(Sde=Yde.match(/Edge\/(\d+)/))||Sde[1]>=74)&&(Sde=Yde.match(/Chrome\/(\d+)/))&&(xde=+Sde[1]);var epe=xde,tpe=function(kh){try{return!!kh()}catch(Ff){return!0}},npe=!!Object.getOwnPropertySymbols&&!tpe(function(){var kh=Symbol();return!String(kh)||!(Object(kh)instanceof Symbol)||!Symbol.sham&&epe&&epe<41}),rpe=npe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",ope=Fde("wks"),ipe=Ade.Symbol,ape=ipe&&ipe.for,upe=rpe?ipe:ipe&&ipe.withoutSetter||Wde,spe=function(kh){if(!$de(ope,kh)||!npe&&typeof ope[kh]!="string"){var Ff="Symbol."+kh;npe&&$de(ipe,kh)?ope[kh]=ipe[kh]:ope[kh]=rpe&&ape?ape(Ff):upe(Ff)}return ope[kh]},lpe={};lpe[spe("toStringTag")]="z";var cpe=String(lpe)==="[object z]",fpe=!tpe(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),dpe=function(kh){return typeof kh=="object"?kh!==null:Gde(kh)},ppe=Ade.document,hpe=dpe(ppe)&&dpe(ppe.createElement),gpe=function(kh){return hpe?ppe.createElement(kh):{}},vpe=!fpe&&!tpe(function(){return Object.defineProperty(gpe("div"),"a",{get:function(){return 7}}).a!=7}),ype=Ade.String,mpe=Ade.TypeError,bpe=function(kh){if(dpe(kh))return kh;throw mpe(ype(kh)+" is not an object")},wpe=Function.prototype.call,Epe=wpe.bind?wpe.bind(wpe):function(){return wpe.apply(wpe,arguments)},Dpe=Nde({}.isPrototypeOf),Spe=Ade.Object,xpe=rpe?function(kh){return typeof kh=="symbol"}:function(kh){var Ff=Kde("Symbol");return Gde(Ff)&&Dpe(Ff.prototype,Spe(kh))},Cpe=Ade.String,Ape=function(kh){try{return Cpe(kh)}catch(Ff){return"Object"}},Ope=Ade.TypeError,kpe=function(kh){if(Gde(kh))return kh;throw Ope(Ape(kh)+" is not a function")},Bpe=function(kh,Ff){var x_=kh[Ff];return x_==null?void 0:kpe(x_)},Fpe=Ade.TypeError,Tpe=Ade.TypeError,_pe=spe("toPrimitive"),Ppe=function(kh){var Ff=function(x_,$P){if(!dpe(x_)||xpe(x_))return x_;var zP,eme=Bpe(x_,_pe);if(eme){if($P===void 0&&($P="default"),zP=Epe(eme,x_,$P),!dpe(zP)||xpe(zP))return zP;throw Tpe("Can't convert object to primitive value")}return $P===void 0&&($P="number"),function(tme,nme){var rme,ime;if(nme==="string"&&Gde(rme=tme.toString)&&!dpe(ime=Epe(rme,tme))||Gde(rme=tme.valueOf)&&!dpe(ime=Epe(rme,tme))||nme!=="string"&&Gde(rme=tme.toString)&&!dpe(ime=Epe(rme,tme)))return ime;throw Fpe("Can't convert object to primitive value")}(x_,$P)}(kh,"string");return xpe(Ff)?Ff:Ff+""},jpe=Ade.TypeError,Npe=Object.defineProperty,Ipe={f:fpe?Npe:function(kh,Ff,x_){if(bpe(kh),Ff=Ppe(Ff),bpe(x_),vpe)try{return Npe(kh,Ff,x_)}catch($P){}if("get"in x_||"set"in x_)throw jpe("Accessors not supported");return"value"in x_&&(kh[Ff]=x_.value),kh}},Lpe=function(kh,Ff){return{enumerable:!(1&kh),configurable:!(2&kh),writable:!(4&kh),value:Ff}},Rpe=fpe?function(kh,Ff,x_){return Ipe.f(kh,Ff,Lpe(1,x_))}:function(kh,Ff,x_){return kh[Ff]=x_,kh},Mpe=Nde(Function.toString);Gde(Bde.inspectSource)||(Bde.inspectSource=function(kh){return Mpe(kh)});var zpe,$pe,Hpe,Vpe=Bde.inspectSource,Upe=Ade.WeakMap,Wpe=Gde(Upe)&&/native code/.test(Vpe(Upe)),Gpe=Fde("keys"),qpe=function(kh){return Gpe[kh]||(Gpe[kh]=Wde(kh))},Kpe={},Ype=Ade.TypeError,Xpe=Ade.WeakMap;if(Wpe||Bde.state){var Zpe=Bde.state||(Bde.state=new Xpe),Jpe=Nde(Zpe.get),Qpe=Nde(Zpe.has),ehe=Nde(Zpe.set);zpe=function(kh,Ff){if(Qpe(Zpe,kh))throw new Ype("Object already initialized");return Ff.facade=kh,ehe(Zpe,kh,Ff),Ff},$pe=function(kh){return Jpe(Zpe,kh)||{}},Hpe=function(kh){return Qpe(Zpe,kh)}}else{var the=qpe("state");Kpe[the]=!0,zpe=function(kh,Ff){if($de(kh,the))throw new Ype("Object already initialized");return Ff.facade=kh,Rpe(kh,the,Ff),Ff},$pe=function(kh){return $de(kh,the)?kh[the]:{}},Hpe=function(kh){return $de(kh,the)}}var nhe={set:zpe,get:$pe,has:Hpe,enforce:function(kh){return Hpe(kh)?$pe(kh):zpe(kh,{})},getterFor:function(kh){return function(Ff){var x_;if(!dpe(Ff)||(x_=$pe(Ff)).type!==kh)throw Ype("Incompatible receiver, "+kh+" required");return x_}}},rhe=Function.prototype,ohe=fpe&&Object.getOwnPropertyDescriptor,ihe=$de(rhe,"name"),ahe={EXISTS:ihe,PROPER:ihe&&function(){}.name==="something",CONFIGURABLE:ihe&&(!fpe||fpe&&ohe(rhe,"name").configurable)},uhe=Dde(function(kh){var Ff=ahe.CONFIGURABLE,x_=nhe.get,$P=nhe.enforce,zP=String(String).split("String");(kh.exports=function(eme,tme,nme,rme){var ime,ome=!!rme&&!!rme.unsafe,sme=!!rme&&!!rme.enumerable,ame=!!rme&&!!rme.noTargetGet,lme=rme&&rme.name!==void 0?rme.name:tme;Gde(nme)&&(String(lme).slice(0,7)==="Symbol("&&(lme="["+String(lme).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!$de(nme,"name")||Ff&&nme.name!==lme)&&Rpe(nme,"name",lme),(ime=$P(nme)).source||(ime.source=zP.join(typeof lme=="string"?lme:""))),eme!==Ade?(ome?!ame&&eme[tme]&&(sme=!0):delete eme[tme],sme?eme[tme]=nme:Rpe(eme,tme,nme)):sme?eme[tme]=nme:kde(tme,nme)})(Function.prototype,"toString",function(){return Gde(this)&&x_(this).source||Vpe(this)})}),she=Nde({}.toString),lhe=Nde("".slice),che=function(kh){return lhe(she(kh),8,-1)},fhe=spe("toStringTag"),dhe=Ade.Object,phe=che(function(){return arguments}())=="Arguments",hhe=cpe?che:function(kh){var Ff,x_,$P;return kh===void 0?"Undefined":kh===null?"Null":typeof(x_=function(zP,eme){try{return zP[eme]}catch(tme){}}(Ff=dhe(kh),fhe))=="string"?x_:phe?che(Ff):($P=che(Ff))=="Object"&&Gde(Ff.callee)?"Arguments":$P},ghe=cpe?{}.toString:function(){return"[object "+hhe(this)+"]"};cpe||uhe(Object.prototype,"toString",ghe,{unsafe:!0});var vhe,yhe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},mhe=gpe("span").classList,bhe=mhe&&mhe.constructor&&mhe.constructor.prototype,whe=bhe===Object.prototype?void 0:bhe,Ehe=Nde(Nde.bind),Dhe=Ade.Object,She=Nde("".split),xhe=tpe(function(){return!Dhe("z").propertyIsEnumerable(0)})?function(kh){return che(kh)=="String"?She(kh,""):Dhe(kh)}:Dhe,Che=Math.ceil,Ahe=Math.floor,Ohe=function(kh){var Ff=+kh;return Ff!=Ff||Ff===0?0:(Ff>0?Ahe:Che)(Ff)},khe=Math.min,Bhe=function(kh){return kh>0?khe(Ohe(kh),9007199254740991):0},Fhe=function(kh){return Bhe(kh.length)},The=Array.isArray||function(kh){return che(kh)=="Array"},_he=function(){},Phe=[],jhe=Kde("Reflect","construct"),Nhe=/^\s*(?:class|function)\b/,Ihe=Nde(Nhe.exec),Lhe=!Nhe.exec(_he),Rhe=function(kh){if(!Gde(kh))return!1;try{return jhe(_he,Phe,kh),!0}catch(Ff){return!1}},Mhe=!jhe||tpe(function(){var kh;return Rhe(Rhe.call)||!Rhe(Object)||!Rhe(function(){kh=!0})||kh})?function(kh){if(!Gde(kh))return!1;switch(hhe(kh)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Lhe||!!Ihe(Nhe,Vpe(kh))}:Rhe,zhe=spe("species"),$he=Ade.Array,Hhe=function(kh,Ff){return new(function(x_){var $P;return The(x_)&&($P=x_.constructor,(Mhe($P)&&($P===$he||The($P.prototype))||dpe($P)&&($P=$P[zhe])===null)&&($P=void 0)),$P===void 0?$he:$P}(kh))(Ff===0?0:Ff)},Vhe=Nde([].push),Uhe=function(kh){var Ff=kh==1,x_=kh==2,$P=kh==3,zP=kh==4,eme=kh==6,tme=kh==7,nme=kh==5||eme;return function(rme,ime,ome,sme){for(var ame,lme,ume=Mde(rme),dme=xhe(ume),pme=function(Eme,wme){return kpe(Eme),wme===void 0?Eme:Ehe?Ehe(Eme,wme):function(){return Eme.apply(wme,arguments)}}(ime,ome),hme=Fhe(dme),cme=0,_me=sme||Hhe,vme=Ff?_me(rme,hme):x_||tme?_me(rme,0):void 0;hme>cme;cme++)if((nme||cme in dme)&&(lme=pme(ame=dme[cme],cme,ume),kh))if(Ff)vme[cme]=lme;else if(lme)switch(kh){case 3:return!0;case 5:return ame;case 6:return cme;case 2:Vhe(vme,ame)}else switch(kh){case 4:return!1;case 7:Vhe(vme,ame)}return eme?-1:$P||zP?zP:vme}},Whe=[Uhe(0),Uhe(1),Uhe(2),Uhe(3),Uhe(4),Uhe(5),Uhe(6),Uhe(7)][0],Ghe=(vhe=[].forEach)&&tpe(function(){vhe.call(null,function(){throw 1},1)})?[].forEach:function(kh){return Whe(this,kh,arguments.length>1?arguments[1]:void 0)},qhe=function(kh){if(kh&&kh.forEach!==Ghe)try{Rpe(kh,"forEach",Ghe)}catch(Ff){kh.forEach=Ghe}};for(var Khe in yhe)yhe[Khe]&&qhe(Ade[Khe]&&Ade[Khe].prototype);qhe(whe);var Yhe={}.propertyIsEnumerable,Xhe=Object.getOwnPropertyDescriptor,Zhe={f:Xhe&&!Yhe.call({1:2},1)?function(kh){var Ff=Xhe(this,kh);return!!Ff&&Ff.enumerable}:Yhe},Jhe=function(kh){return xhe(Lde(kh))},Qhe=Object.getOwnPropertyDescriptor,ege={f:fpe?Qhe:function(kh,Ff){if(kh=Jhe(kh),Ff=Ppe(Ff),vpe)try{return Qhe(kh,Ff)}catch(x_){}if($de(kh,Ff))return Lpe(!Epe(Zhe.f,kh,Ff),kh[Ff])}},tge=Math.max,nge=Math.min,rge=function(kh,Ff){var x_=Ohe(kh);return x_<0?tge(x_+Ff,0):nge(x_,Ff)},oge=function(kh){return function(Ff,x_,$P){var zP,eme=Jhe(Ff),tme=Fhe(eme),nme=rge($P,tme);if(kh&&x_!=x_){for(;tme>nme;)if((zP=eme[nme++])!=zP)return!0}else for(;tme>nme;nme++)if((kh||nme in eme)&&eme[nme]===x_)return kh||nme||0;return!kh&&-1}},ige=oge(!1),age=Nde([].push),uge=function(kh,Ff){var x_,$P=Jhe(kh),zP=0,eme=[];for(x_ in $P)!$de(Kpe,x_)&&$de($P,x_)&&age(eme,x_);for(;Ff.length>zP;)$de($P,x_=Ff[zP++])&&(~ige(eme,x_)||age(eme,x_));return eme},sge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],lge=sge.concat("length","prototype"),cge={f:Object.getOwnPropertyNames||function(kh){return uge(kh,lge)}},fge={f:Object.getOwnPropertySymbols},dge=Nde([].concat),pge=Kde("Reflect","ownKeys")||function(kh){var Ff=cge.f(bpe(kh)),x_=fge.f;return x_?dge(Ff,x_(kh)):Ff},hge=function(kh,Ff){for(var x_=pge(Ff),$P=Ipe.f,zP=ege.f,eme=0;eme<x_.length;eme++){var tme=x_[eme];$de(kh,tme)||$P(kh,tme,zP(Ff,tme))}},gge=/#|\.prototype\./,vge=function(kh,Ff){var x_=mge[yge(kh)];return x_==wge||x_!=bge&&(Gde(Ff)?tpe(Ff):!!Ff)},yge=vge.normalize=function(kh){return String(kh).replace(gge,".").toLowerCase()},mge=vge.data={},bge=vge.NATIVE="N",wge=vge.POLYFILL="P",Ege=vge,Dge=ege.f,Sge=function(kh,Ff){var x_,$P,zP,eme,tme,nme=kh.target,rme=kh.global,ime=kh.stat;if(x_=rme?Ade:ime?Ade[nme]||kde(nme,{}):(Ade[nme]||{}).prototype)for($P in Ff){if(eme=Ff[$P],zP=kh.noTargetGet?(tme=Dge(x_,$P))&&tme.value:x_[$P],!Ege(rme?$P:nme+(ime?".":"#")+$P,kh.forced)&&zP!==void 0){if(typeof eme==typeof zP)continue;hge(eme,zP)}(kh.sham||zP&&zP.sham)&&Rpe(eme,"sham",!0),uhe(x_,$P,eme,kh)}},xge=Object.keys||function(kh){return uge(kh,sge)},Cge=Object.assign,Age=Object.defineProperty,Oge=Nde([].concat),kge=!Cge||tpe(function(){if(fpe&&Cge({b:1},Cge(Age({},"a",{enumerable:!0,get:function(){Age(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var kh={},Ff={},x_=Symbol(),$P="abcdefghijklmnopqrst";return kh[x_]=7,$P.split("").forEach(function(zP){Ff[zP]=zP}),Cge({},kh)[x_]!=7||xge(Cge({},Ff)).join("")!=$P})?function(kh,Ff){for(var x_=Mde(kh),$P=arguments.length,zP=1,eme=fge.f,tme=Zhe.f;$P>zP;)for(var nme,rme=xhe(arguments[zP++]),ime=eme?Oge(xge(rme),eme(rme)):xge(rme),ome=ime.length,sme=0;ome>sme;)nme=ime[sme++],fpe&&!Epe(tme,rme,nme)||(x_[nme]=rme[nme]);return x_}:Cge;Sge({target:"Object",stat:!0,forced:Object.assign!==kge},{assign:kge});var Bge=Dde(function(kh){var Ff=function(x_){var $P=/\blang(?:uage)?-([\w-]+)\b/i,zP=0,eme={},tme={manual:x_.Prism&&x_.Prism.manual,disableWorkerMessageHandler:x_.Prism&&x_.Prism.disableWorkerMessageHandler,util:{encode:function pme(hme){return hme instanceof nme?new nme(hme.type,pme(hme.content),hme.alias):Array.isArray(hme)?hme.map(pme):hme.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(pme){return Object.prototype.toString.call(pme).slice(8,-1)},objId:function(pme){return pme.__id||Object.defineProperty(pme,"__id",{value:++zP}),pme.__id},clone:function pme(hme,cme){var _me,vme;switch(cme=cme||{},tme.util.type(hme)){case"Object":if(vme=tme.util.objId(hme),cme[vme])return cme[vme];for(var Eme in _me={},cme[vme]=_me,hme)hme.hasOwnProperty(Eme)&&(_me[Eme]=pme(hme[Eme],cme));return _me;case"Array":return vme=tme.util.objId(hme),cme[vme]?cme[vme]:(_me=[],cme[vme]=_me,hme.forEach(function(wme,Tme){_me[Tme]=pme(wme,cme)}),_me);default:return hme}},getLanguage:function(pme){for(;pme&&!$P.test(pme.className);)pme=pme.parentElement;return pme?(pme.className.match($P)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(_me){var pme=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_me.stack)||[])[1];if(pme){var hme=document.getElementsByTagName("script");for(var cme in hme)if(hme[cme].src==pme)return hme[cme]}return null}},isActive:function(pme,hme,cme){for(var _me="no-"+hme;pme;){var vme=pme.classList;if(vme.contains(hme))return!0;if(vme.contains(_me))return!1;pme=pme.parentElement}return!!cme}},languages:{plain:eme,plaintext:eme,text:eme,txt:eme,extend:function(pme,hme){var cme=tme.util.clone(tme.languages[pme]);for(var _me in hme)cme[_me]=hme[_me];return cme},insertBefore:function(pme,hme,cme,_me){var vme=(_me=_me||tme.languages)[pme],Eme={};for(var wme in vme)if(vme.hasOwnProperty(wme)){if(wme==hme)for(var Tme in cme)cme.hasOwnProperty(Tme)&&(Eme[Tme]=cme[Tme]);cme.hasOwnProperty(wme)||(Eme[wme]=vme[wme])}var Dme=_me[pme];return _me[pme]=Eme,tme.languages.DFS(tme.languages,function(Ame,Nme){Nme===Dme&&Ame!=pme&&(this[Ame]=Eme)}),Eme},DFS:function pme(hme,cme,_me,vme){vme=vme||{};var Eme=tme.util.objId;for(var wme in hme)if(hme.hasOwnProperty(wme)){cme.call(hme,wme,hme[wme],_me||wme);var Tme=hme[wme],Dme=tme.util.type(Tme);Dme!=="Object"||vme[Eme(Tme)]?Dme!=="Array"||vme[Eme(Tme)]||(vme[Eme(Tme)]=!0,pme(Tme,cme,wme,vme)):(vme[Eme(Tme)]=!0,pme(Tme,cme,null,vme))}}},plugins:{},highlightAll:function(pme,hme){tme.highlightAllUnder(document,pme,hme)},highlightAllUnder:function(pme,hme,cme){var _me={callback:cme,container:pme,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};tme.hooks.run("before-highlightall",_me),_me.elements=Array.prototype.slice.apply(_me.container.querySelectorAll(_me.selector)),tme.hooks.run("before-all-elements-highlight",_me);for(var vme,Eme=0;vme=_me.elements[Eme++];)tme.highlightElement(vme,hme===!0,_me.callback)},highlightElement:function(pme,hme,cme){var _me=tme.util.getLanguage(pme),vme=tme.languages[_me];pme.className=pme.className.replace($P,"").replace(/\s+/g," ")+" language-"+_me;var Eme=pme.parentElement;Eme&&Eme.nodeName.toLowerCase()==="pre"&&(Eme.className=Eme.className.replace($P,"").replace(/\s+/g," ")+" language-"+_me);var wme={element:pme,language:_me,grammar:vme,code:pme.textContent};function Tme(Ame){wme.highlightedCode=Ame,tme.hooks.run("before-insert",wme),wme.element.innerHTML=wme.highlightedCode,tme.hooks.run("after-highlight",wme),tme.hooks.run("complete",wme),cme&&cme.call(wme.element)}if(tme.hooks.run("before-sanity-check",wme),(Eme=wme.element.parentElement)&&Eme.nodeName.toLowerCase()==="pre"&&!Eme.hasAttribute("tabindex")&&Eme.setAttribute("tabindex","0"),!wme.code)return tme.hooks.run("complete",wme),void(cme&&cme.call(wme.element));if(tme.hooks.run("before-highlight",wme),wme.grammar)if(hme&&x_.Worker){var Dme=new Worker(tme.filename);Dme.onmessage=function(Ame){Tme(Ame.data)},Dme.postMessage(JSON.stringify({language:wme.language,code:wme.code,immediateClose:!0}))}else Tme(tme.highlight(wme.code,wme.grammar,wme.language));else Tme(tme.util.encode(wme.code))},highlight:function(pme,hme,cme){var _me={code:pme,grammar:hme,language:cme};return tme.hooks.run("before-tokenize",_me),_me.tokens=tme.tokenize(_me.code,_me.grammar),tme.hooks.run("after-tokenize",_me),nme.stringify(tme.util.encode(_me.tokens),_me.language)},tokenize:function(pme,hme){var cme=hme.rest;if(cme){for(var _me in cme)hme[_me]=cme[_me];delete hme.rest}var vme=new ome;return sme(vme,vme.head,pme),ime(pme,vme,hme,vme.head,0),function(Eme){for(var wme=[],Tme=Eme.head.next;Tme!==Eme.tail;)wme.push(Tme.value),Tme=Tme.next;return wme}(vme)},hooks:{all:{},add:function(pme,hme){var cme=tme.hooks.all;cme[pme]=cme[pme]||[],cme[pme].push(hme)},run:function(pme,hme){var cme=tme.hooks.all[pme];if(cme&&cme.length)for(var _me,vme=0;_me=cme[vme++];)_me(hme)}},Token:nme};function nme(pme,hme,cme,_me){this.type=pme,this.content=hme,this.alias=cme,this.length=0|(_me||"").length}function rme(pme,hme,cme,_me){pme.lastIndex=hme;var vme=pme.exec(cme);if(vme&&_me&&vme[1]){var Eme=vme[1].length;vme.index+=Eme,vme[0]=vme[0].slice(Eme)}return vme}function ime(pme,hme,cme,_me,vme,Eme){for(var wme in cme)if(cme.hasOwnProperty(wme)&&cme[wme]){var Tme=cme[wme];Tme=Array.isArray(Tme)?Tme:[Tme];for(var Dme=0;Dme<Tme.length;++Dme){if(Eme&&Eme.cause==wme+","+Dme)return;var Ame=Tme[Dme],Nme=Ame.inside,Ume=!!Ame.lookbehind,jme=!!Ame.greedy,Fme=Ame.alias;if(jme&&!Ame.pattern.global){var $me=Ame.pattern.toString().match(/[imsuy]*$/)[0];Ame.pattern=RegExp(Ame.pattern.source,$me+"g")}for(var Gme=Ame.pattern||Ame,Wme=_me.next,Jme=vme;Wme!==hme.tail&&!(Eme&&Jme>=Eme.reach);Jme+=Wme.value.length,Wme=Wme.next){var r_e=Wme.value;if(hme.length>pme.length)return;if(!(r_e instanceof nme)){var o_e,i_e=1;if(jme){if(!(o_e=rme(Gme,Jme,pme,Ume)))break;var Mme=o_e.index,Ome=o_e.index+o_e[0].length,Rme=Jme;for(Rme+=Wme.value.length;Mme>=Rme;)Rme+=(Wme=Wme.next).value.length;if(Jme=Rme-=Wme.value.length,Wme.value instanceof nme)continue;for(var zme=Wme;zme!==hme.tail&&(Rme<Ome||typeof zme.value=="string");zme=zme.next)i_e++,Rme+=zme.value.length;i_e--,r_e=pme.slice(Jme,Rme),o_e.index-=Jme}else if(!(o_e=rme(Gme,0,r_e,Ume)))continue;Mme=o_e.index;var Zme=o_e[0],Qme=r_e.slice(0,Mme),n_e=r_e.slice(Mme+Zme.length),c_e=Jme+r_e.length;Eme&&c_e>Eme.reach&&(Eme.reach=c_e);var f_e=Wme.prev;if(Qme&&(f_e=sme(hme,f_e,Qme),Jme+=Qme.length),ame(hme,f_e,i_e),Wme=sme(hme,f_e,new nme(wme,Nme?tme.tokenize(Zme,Nme):Zme,Fme,Zme)),n_e&&sme(hme,Wme,n_e),i_e>1){var h_e={cause:wme+","+Dme,reach:c_e};ime(pme,hme,cme,Wme.prev,Jme,h_e),Eme&&h_e.reach>Eme.reach&&(Eme.reach=h_e.reach)}}}}}}function ome(){var pme={value:null,prev:null,next:null},hme={value:null,prev:pme,next:null};pme.next=hme,this.head=pme,this.tail=hme,this.length=0}function sme(pme,hme,cme){var _me=hme.next,vme={value:cme,prev:hme,next:_me};return hme.next=vme,_me.prev=vme,pme.length++,vme}function ame(pme,hme,cme){for(var _me=hme.next,vme=0;vme<cme&&_me!==pme.tail;vme++)_me=_me.next;hme.next=_me,_me.prev=hme,pme.length-=vme}if(x_.Prism=tme,nme.stringify=function pme(hme,cme){if(typeof hme=="string")return hme;if(Array.isArray(hme)){var _me="";return hme.forEach(function(Dme){_me+=pme(Dme,cme)}),_me}var vme={type:hme.type,content:pme(hme.content,cme),tag:"span",classes:["token",hme.type],attributes:{},language:cme},Eme=hme.alias;Eme&&(Array.isArray(Eme)?Array.prototype.push.apply(vme.classes,Eme):vme.classes.push(Eme)),tme.hooks.run("wrap",vme);var wme="";for(var Tme in vme.attributes)wme+=" "+Tme+'="'+(vme.attributes[Tme]||"").replace(/"/g,"&quot;")+'"';return"<"+vme.tag+' class="'+vme.classes.join(" ")+'"'+wme+">"+vme.content+"</"+vme.tag+">"},!x_.document)return x_.addEventListener&&(tme.disableWorkerMessageHandler||x_.addEventListener("message",function(pme){var hme=JSON.parse(pme.data),cme=hme.language,_me=hme.code,vme=hme.immediateClose;x_.postMessage(tme.highlight(_me,tme.languages[cme],cme)),vme&&x_.close()},!1)),tme;var lme=tme.util.currentScript();function ume(){tme.manual||tme.highlightAll()}if(lme&&(tme.filename=lme.src,lme.hasAttribute("data-manual")&&(tme.manual=!0)),!tme.manual){var dme=document.readyState;dme==="loading"||dme==="interactive"&&lme&&lme.defer?document.addEventListener("DOMContentLoaded",ume):window.requestAnimationFrame?window.requestAnimationFrame(ume):window.setTimeout(ume,16)}return tme}(typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{});/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */kh.exports&&(kh.exports=Ff),Ede!==void 0&&(Ede.Prism=Ff),Ff.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Ff.languages.markup.tag.inside["attr-value"].inside.entity=Ff.languages.markup.entity,Ff.languages.markup.doctype.inside["internal-subset"].inside=Ff.languages.markup,Ff.hooks.add("wrap",function(x_){x_.type==="entity"&&(x_.attributes.title=x_.content.replace(/&amp;/,"&"))}),Object.defineProperty(Ff.languages.markup.tag,"addInlined",{value:function(x_,$P){var zP={};zP["language-"+$P]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Ff.languages[$P]},zP.cdata=/^<!\[CDATA\[|\]\]>$/i;var eme={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:zP}};eme["language-"+$P]={pattern:/[\s\S]+/,inside:Ff.languages[$P]};var tme={};tme[x_]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return x_}),"i"),lookbehind:!0,greedy:!0,inside:eme},Ff.languages.insertBefore("markup","cdata",tme)}}),Object.defineProperty(Ff.languages.markup.tag,"addAttribute",{value:function(x_,$P){Ff.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+x_+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[$P,"language-"+$P],inside:Ff.languages[$P]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Ff.languages.html=Ff.languages.markup,Ff.languages.mathml=Ff.languages.markup,Ff.languages.svg=Ff.languages.markup,Ff.languages.xml=Ff.languages.extend("markup",{}),Ff.languages.ssml=Ff.languages.xml,Ff.languages.atom=Ff.languages.xml,Ff.languages.rss=Ff.languages.xml,function(x_){var $P=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;x_.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+$P.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+$P.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+$P.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:$P,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},x_.languages.css.atrule.inside.rest=x_.languages.css;var zP=x_.languages.markup;zP&&(zP.tag.addInlined("style","css"),zP.tag.addAttribute("style","css"))}(Ff),Ff.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Ff.languages.javascript=Ff.languages.extend("clike",{"class-name":[Ff.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Ff.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Ff.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Ff.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Ff.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Ff.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Ff.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Ff.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Ff.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Ff.languages.javascript}},string:/[\s\S]+/}}}),Ff.languages.markup&&(Ff.languages.markup.tag.addInlined("script","javascript"),Ff.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Ff.languages.js=Ff.languages.javascript,function(){if(Ff!==void 0&&typeof document!="undefined"){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var x_={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},$P="data-src-status",zP='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',eme=/\blang(?:uage)?-([\w-]+)\b/i;Ff.hooks.add("before-highlightall",function(rme){rme.selector+=", "+zP}),Ff.hooks.add("before-sanity-check",function(rme){var ime=rme.element;if(ime.matches(zP)){rme.code="",ime.setAttribute($P,"loading");var ome=ime.appendChild(document.createElement("CODE"));ome.textContent="Loading…";var sme=ime.getAttribute("data-src"),ame=rme.language;if(ame==="none"){var lme=(/\.(\w+)$/.exec(sme)||[,"none"])[1];ame=x_[lme]||lme}nme(ome,ame),nme(ime,ame);var ume=Ff.plugins.autoloader;ume&&ume.loadLanguages(ame);var dme=new XMLHttpRequest;dme.open("GET",sme,!0),dme.onreadystatechange=function(){dme.readyState==4&&(dme.status<400&&dme.responseText?(ime.setAttribute($P,"loaded"),ome.textContent=dme.responseText,Ff.highlightElement(ome)):(ime.setAttribute($P,"failed"),dme.status>=400?ome.textContent="✖ Error "+dme.status+" while fetching file: "+dme.statusText:ome.textContent="✖ Error: File does not exist or is empty"))},dme.send(null)}}),Ff.plugins.fileHighlight={highlight:function(rme){for(var ime,ome=(rme||document).querySelectorAll(zP),sme=0;ime=ome[sme++];)Ff.highlightElement(ime)}};var tme=!1;Ff.fileHighlight=function(){tme||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),tme=!0),Ff.plugins.fileHighlight.highlight.apply(this,arguments)}}function nme(rme,ime){var ome=rme.className;ome=ome.replace(eme," ")+" language-"+ime,rme.className=ome.replace(/\s+/g," ").trim()}}()});(function(kh){var Ff=kh.util.clone(kh.languages.javascript),x_=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,$P=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,zP=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function eme(rme,ime){return rme=rme.replace(/<S>/g,function(){return x_}).replace(/<BRACES>/g,function(){return $P}).replace(/<SPREAD>/g,function(){return zP}),RegExp(rme,ime)}zP=eme(zP).source,kh.languages.jsx=kh.languages.extend("markup",Ff),kh.languages.jsx.tag.pattern=eme(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),kh.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,kh.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/i,kh.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,kh.languages.jsx.tag.inside.comment=Ff.comment,kh.languages.insertBefore("inside","attr-name",{spread:{pattern:eme(/<SPREAD>/.source),inside:kh.languages.jsx}},kh.languages.jsx.tag),kh.languages.insertBefore("inside","special-attr",{script:{pattern:eme(/=<BRACES>/.source),inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:kh.languages.jsx},alias:"language-javascript"}},kh.languages.jsx.tag);var tme=function(rme){return rme?typeof rme=="string"?rme:typeof rme.content=="string"?rme.content:rme.content.map(tme).join(""):""},nme=function(rme){for(var ime=[],ome=0;ome<rme.length;ome++){var sme=rme[ome],ame=!1;if(typeof sme!="string"&&(sme.type==="tag"&&sme.content[0]&&sme.content[0].type==="tag"?sme.content[0].content[0].content==="</"?ime.length>0&&ime[ime.length-1].tagName===tme(sme.content[0].content[1])&&ime.pop():sme.content[sme.content.length-1].content==="/>"||ime.push({tagName:tme(sme.content[0].content[1]),openedBraces:0}):ime.length>0&&sme.type==="punctuation"&&sme.content==="{"?ime[ime.length-1].openedBraces++:ime.length>0&&ime[ime.length-1].openedBraces>0&&sme.type==="punctuation"&&sme.content==="}"?ime[ime.length-1].openedBraces--:ame=!0),(ame||typeof sme=="string")&&ime.length>0&&ime[ime.length-1].openedBraces===0){var lme=tme(sme);ome<rme.length-1&&(typeof rme[ome+1]=="string"||rme[ome+1].type==="plain-text")&&(lme+=tme(rme[ome+1]),rme.splice(ome+1,1)),ome>0&&(typeof rme[ome-1]=="string"||rme[ome-1].type==="plain-text")&&(lme=tme(rme[ome-1])+lme,rme.splice(ome-1,1),ome--),rme[ome]=new kh.Token("plain-text",lme,null,lme)}sme.content&&typeof sme.content!="string"&&nme(sme.content)}};kh.hooks.add("after-tokenize",function(rme){rme.language!=="jsx"&&rme.language!=="tsx"||nme(rme.tokens)})})(Prism),function(kh){kh.languages.typescript=kh.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/}),kh.languages.typescript.keyword.push(/\b(?:abstract|as|declare|implements|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete kh.languages.typescript.parameter;var Ff=kh.languages.extend("typescript",{});delete Ff["class-name"],kh.languages.typescript["class-name"].inside=Ff,kh.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Ff}}}}),kh.languages.ts=kh.languages.typescript}(Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(kh){kh.type==="entity"&&(kh.attributes.title=kh.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(kh,Ff){var x_={};x_["language-"+Ff]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Ff]},x_.cdata=/^<!\[CDATA\[|\]\]>$/i;var $P={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:x_}};$P["language-"+Ff]={pattern:/[\s\S]+/,inside:Prism.languages[Ff]};var zP={};zP[kh]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return kh}),"i"),lookbehind:!0,greedy:!0,inside:$P},Prism.languages.insertBefore("markup","cdata",zP)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(kh,Ff){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+kh+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ff,"language-"+Ff],inside:Prism.languages[Ff]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|iota|nil|true|false)\b/,number:/(?:\b0x[a-f\d]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[-+]?\d+)?)i?/i,operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:bool|byte|complex(?:64|128)|error|float(?:32|64)|rune|string|u?int(?:8|16|32|64)?|uintptr|append|cap|close|complex|copy|delete|imag|len|make|new|panic|print(?:ln)?|real|recover)\b/}),delete Prism.languages.go["class-name"],function(kh){var Ff=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,x_=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],$P=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,zP=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,eme=/[{}\[\](),:;]/;kh.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:Ff,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:x_,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:$P,operator:zP,punctuation:eme};var tme={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:kh.languages.php},nme=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:tme}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:tme}}];kh.languages.insertBefore("php","variable",{string:nme,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:Ff,string:nme,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:x_,number:$P,operator:zP,punctuation:eme}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),kh.hooks.add("before-tokenize",function(rme){/<\?/.test(rme.code)&&kh.languages["markup-templating"].buildPlaceholders(rme,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi)}),kh.hooks.add("after-tokenize",function(rme){kh.languages["markup-templating"].tokenizePlaceholders(rme,"php")})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(kh){var Ff=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,x_=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,$P={pattern:RegExp(x_+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};kh.languages.java=kh.languages.extend("clike",{"class-name":[$P,{pattern:RegExp(x_+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:$P.inside}],keyword:Ff,function:[kh.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),kh.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),kh.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":$P,keyword:Ff,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return Ff.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(kh){var Ff=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,x_=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return Ff.source});kh.languages.cpp=kh.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return Ff.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:Ff,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),kh.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return x_})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),kh.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:kh.languages.cpp}}}}),kh.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),kh.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:kh.languages.extend("cpp",{})}}),kh.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},kh.languages.cpp["base-clause"])}(Prism),function(kh){function Ff(Ome,Rme){return Ome.replace(/<<(\d+)>>/g,function(zme,Zme){return"(?:"+Rme[+Zme]+")"})}function x_(Ome,Rme,zme){return RegExp(Ff(Ome,Rme),zme||"")}function $P(Ome,Rme){for(var zme=0;zme<Rme;zme++)Ome=Ome.replace(/<<self>>/g,function(){return"(?:"+Ome+")"});return Ome.replace(/<<self>>/g,"[^\\s\\S]")}var zP="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",eme="class enum interface record struct",tme="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",nme="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function rme(Ome){return"\\b(?:"+Ome.trim().replace(/ /g,"|")+")\\b"}var ime=rme(eme),ome=RegExp(rme(zP+" "+eme+" "+tme+" "+nme)),sme=rme(eme+" "+tme+" "+nme),ame=rme(zP+" "+eme+" "+nme),lme=$P(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),ume=$P(/\((?:[^()]|<<self>>)*\)/.source,2),dme=/@?\b[A-Za-z_]\w*\b/.source,pme=Ff(/<<0>>(?:\s*<<1>>)?/.source,[dme,lme]),hme=Ff(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[sme,pme]),cme=/\[\s*(?:,\s*)*\]/.source,_me=Ff(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[hme,cme]),vme=Ff(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[lme,ume,cme]),Eme=Ff(/\(<<0>>+(?:,<<0>>+)+\)/.source,[vme]),wme=Ff(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Eme,hme,cme]),Tme={keyword:ome,punctuation:/[<>()?,.:[\]]/},Dme=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Ame=/"(?:\\.|[^\\"\r\n])*"/.source,Nme=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;kh.languages.csharp=kh.languages.extend("clike",{string:[{pattern:x_(/(^|[^$\\])<<0>>/.source,[Nme]),lookbehind:!0,greedy:!0},{pattern:x_(/(^|[^@$\\])<<0>>/.source,[Ame]),lookbehind:!0,greedy:!0},{pattern:RegExp(Dme),greedy:!0,alias:"character"}],"class-name":[{pattern:x_(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[hme]),lookbehind:!0,inside:Tme},{pattern:x_(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[dme,wme]),lookbehind:!0,inside:Tme},{pattern:x_(/(\busing\s+)<<0>>(?=\s*=)/.source,[dme]),lookbehind:!0},{pattern:x_(/(\b<<0>>\s+)<<1>>/.source,[ime,pme]),lookbehind:!0,inside:Tme},{pattern:x_(/(\bcatch\s*\(\s*)<<0>>/.source,[hme]),lookbehind:!0,inside:Tme},{pattern:x_(/(\bwhere\s+)<<0>>/.source,[dme]),lookbehind:!0},{pattern:x_(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[_me]),lookbehind:!0,inside:Tme},{pattern:x_(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[wme,ame,dme]),inside:Tme}],keyword:ome,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),kh.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),kh.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:x_(/([(,]\s*)<<0>>(?=\s*:)/.source,[dme]),lookbehind:!0,alias:"punctuation"}}),kh.languages.insertBefore("csharp","class-name",{namespace:{pattern:x_(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[dme]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:x_(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[ume]),lookbehind:!0,alias:"class-name",inside:Tme},"return-type":{pattern:x_(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[wme,hme]),inside:Tme,alias:"class-name"},"constructor-invocation":{pattern:x_(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[wme]),lookbehind:!0,inside:Tme,alias:"class-name"},"generic-method":{pattern:x_(/<<0>>\s*<<1>>(?=\s*\()/.source,[dme,lme]),inside:{function:x_(/^<<0>>/.source,[dme]),generic:{pattern:RegExp(lme),alias:"class-name",inside:Tme}}},"type-list":{pattern:x_(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[ime,pme,dme,wme,ome.source,ume,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:x_(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[pme,ume]),lookbehind:!0,greedy:!0,inside:kh.languages.csharp},keyword:ome,"class-name":{pattern:RegExp(wme),greedy:!0,inside:Tme},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Ume=Ame+"|"+Dme,jme=Ff(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Ume]),Fme=$P(Ff(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[jme]),2),$me=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Gme=Ff(/<<0>>(?:\s*\(<<1>>*\))?/.source,[hme,Fme]);kh.languages.insertBefore("csharp","class-name",{attribute:{pattern:x_(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[$me,Gme]),lookbehind:!0,greedy:!0,inside:{target:{pattern:x_(/^<<0>>(?=\s*:)/.source,[$me]),alias:"keyword"},"attribute-arguments":{pattern:x_(/\(<<0>>*\)/.source,[Fme]),inside:kh.languages.csharp},"class-name":{pattern:RegExp(hme),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Wme=/:[^}\r\n]+/.source,Jme=$P(Ff(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[jme]),2),r_e=Ff(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Jme,Wme]),o_e=$P(Ff(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Ume]),2),i_e=Ff(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[o_e,Wme]);function Mme(Ome,Rme){return{interpolation:{pattern:x_(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ome]),lookbehind:!0,inside:{"format-string":{pattern:x_(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Rme,Wme]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:kh.languages.csharp}}},string:/[\s\S]+/}}kh.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:x_(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[r_e]),lookbehind:!0,greedy:!0,inside:Mme(r_e,Jme)},{pattern:x_(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[i_e]),lookbehind:!0,greedy:!0,inside:Mme(i_e,o_e)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,Prism.languages["visual-basic"]={comment:{pattern:/(?:['‘’]|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:[^\S\r\n]_[^\S\r\n]*(?:\r\n?|\n)|.)+/i,alias:"comment",greedy:!0},string:{pattern:/\$?["“”](?:["“”]{2}|[^"“”])*["“”]C?/i,greedy:!0},date:{pattern:/#[^\S\r\n]*(?:\d+([/-])\d+\1\d+(?:[^\S\r\n]+(?:\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?))?|\d+[^\S\r\n]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[^\S\r\n]*(?:AM|PM))?)[^\S\r\n]*#/i,alias:"builtin"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:U?[ILS]|[FRD])?/i,boolean:/\b(?:True|False|Nothing)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Until|Xor)\b/i,operator:[/[+\-*/\\^<=>&#@$%!]/,{pattern:/([^\S\r\n])_(?=[^\S\r\n]*[\r\n])/,lookbehind:!0}],punctuation:/[{}().,:?]/},Prism.languages.vb=Prism.languages["visual-basic"],Prism.languages.vba=Prism.languages["visual-basic"],Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:_INSERT|COL)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:S|ING)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|IN|ILIKE|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(kh){kh.languages.ruby=kh.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var Ff={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:kh.languages.ruby}};delete kh.languages.ruby.function,kh.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:Ff}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:Ff}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:kh.languages.ruby}}}),kh.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),kh.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:Ff}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:Ff}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:Ff}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],kh.languages.rb=kh.languages.ruby}(Prism),Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:true|false)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:true|false)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(kh){kh.inside.interpolation.inside=Prism.languages.swift}),function(kh){var Ff="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",x_={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},$P={bash:x_,environment:{pattern:RegExp("\\$"+Ff),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+Ff),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};kh.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+Ff),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:$P},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:x_}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:$P},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:$P.entity}}],environment:{pattern:RegExp("\\$?"+Ff),alias:"constant"},variable:$P.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},x_.inside=kh.languages.bash;for(var zP=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],eme=$P.variable[1].inside,tme=0;tme<zP.length;tme++)eme[zP[tme]]=kh.languages.bash[zP[tme]];kh.languages.shell=kh.languages.bash}(Prism),function(kh){var Ff=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function x_(ime){return ime=ime.replace(/<inner>/g,function(){return Ff}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+ime+")")}var $P=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,zP=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return $P}),eme=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;kh.languages.markdown=kh.languages.extend("markup",{}),kh.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:kh.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+zP+eme+"(?:"+zP+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+zP+eme+")(?:"+zP+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp($P),inside:kh.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+zP+")"+eme+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+zP+"$"),inside:{"table-header":{pattern:RegExp($P),alias:"important",inside:kh.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:x_(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:x_(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:x_(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:x_(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(ime){["url","bold","italic","strike","code-snippet"].forEach(function(ome){ime!==ome&&(kh.languages.markdown[ime].inside.content.inside[ome]=kh.languages.markdown[ome])})}),kh.hooks.add("after-tokenize",function(ime){ime.language!=="markdown"&&ime.language!=="md"||function ome(sme){if(sme&&typeof sme!="string")for(var ame=0,lme=sme.length;ame<lme;ame++){var ume=sme[ame];if(ume.type==="code"){var dme=ume.content[1],pme=ume.content[3];if(dme&&pme&&dme.type==="code-language"&&pme.type==="code-block"&&typeof dme.content=="string"){var hme=dme.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),cme="language-"+(hme=(/[a-z][\w-]*/i.exec(hme)||[""])[0].toLowerCase());pme.alias?typeof pme.alias=="string"?pme.alias=[pme.alias,cme]:pme.alias.push(cme):pme.alias=[cme]}}else ome(ume.content)}}(ime.tokens)}),kh.hooks.add("wrap",function(ime){if(ime.type==="code-block"){for(var ome="",sme=0,ame=ime.classes.length;sme<ame;sme++){var lme=ime.classes[sme],ume=/language-(.+)/.exec(lme);if(ume){ome=ume[1];break}}var dme=kh.languages[ome];if(dme)ime.content=kh.highlight(function(hme){var cme=hme.replace(tme,"");return cme.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(_me,vme){var Eme;return(vme=vme.toLowerCase())[0]==="#"?(Eme=vme[1]==="x"?parseInt(vme.slice(2),16):Number(vme.slice(1)),rme(Eme)):nme[vme]||_me})}(ime.content),dme,ome);else if(ome&&ome!=="none"&&kh.plugins.autoloader){var pme="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());ime.attributes.id=pme,kh.plugins.autoloader.loadLanguages(ome,function(){var hme=document.getElementById(pme);hme&&(hme.innerHTML=kh.highlight(hme.textContent,kh.languages[ome],ome))})}}});var tme=RegExp(kh.languages.markup.tag.pattern.source,"gi"),nme={amp:"&",lt:"<",gt:">",quot:'"'},rme=String.fromCodePoint||String.fromCharCode;kh.languages.md=kh.languages.markdown}(Prism),Prism.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/},Prism.languages.groovy=Prism.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),Prism.hooks.add("wrap",function(kh){if(kh.language==="groovy"&&kh.type==="string"){var Ff=kh.content[0];if(Ff!="'"){var x_=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;Ff==="$"&&(x_=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),kh.content=kh.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),kh.content=Prism.highlight(kh.content,{expression:{pattern:x_,lookbehind:!0,inside:Prism.languages.groovy}}),kh.classes.push(Ff==="/"?"regex":"gstring")}}});var Fge=["comment","prolog","doctype","cdata","punctuation","namespace","property","tag","boolean","number","constant","symbol","deleted","selector","attr-name","string","builtin","inserted","operator","entity","url","string","atrule","attr-value","keyword","function","class-name","regex","important","variable","bold","italic","entity","char"];function Tge(kh){return typeof kh=="string"?kh.length:typeof kh.content=="string"?kh.content.length:kh.content.reduce(function(Ff,x_){return Ff+Tge(x_)},0)}var _ge,Pge=Ade.String,jge=function(kh){if(hhe(kh)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Pge(kh)},Nge=function(){var kh=bpe(this),Ff="";return kh.global&&(Ff+="g"),kh.ignoreCase&&(Ff+="i"),kh.multiline&&(Ff+="m"),kh.dotAll&&(Ff+="s"),kh.unicode&&(Ff+="u"),kh.sticky&&(Ff+="y"),Ff},Ige=Ade.RegExp,Lge=tpe(function(){var kh=Ige("a","y");return kh.lastIndex=2,kh.exec("abcd")!=null}),Rge=Lge||tpe(function(){return!Ige("a","y").sticky}),Mge={BROKEN_CARET:Lge||tpe(function(){var kh=Ige("^r","gy");return kh.lastIndex=2,kh.exec("str")!=null}),MISSED_STICKY:Rge,UNSUPPORTED_Y:Lge},zge=fpe?Object.defineProperties:function(kh,Ff){bpe(kh);for(var x_,$P=Jhe(Ff),zP=xge(Ff),eme=zP.length,tme=0;eme>tme;)Ipe.f(kh,x_=zP[tme++],$P[x_]);return kh},$ge=Kde("document","documentElement"),Hge=qpe("IE_PROTO"),Vge=function(){},Uge=function(kh){return"<script>"+kh+"<\/script>"},Wge=function(kh){kh.write(Uge("")),kh.close();var Ff=kh.parentWindow.Object;return kh=null,Ff},Gge=function(){try{_ge=new ActiveXObject("htmlfile")}catch($P){}var kh,Ff;Gge=typeof document!="undefined"?document.domain&&_ge?Wge(_ge):((Ff=gpe("iframe")).style.display="none",$ge.appendChild(Ff),Ff.src="javascript:",(kh=Ff.contentWindow.document).open(),kh.write(Uge("document.F=Object")),kh.close(),kh.F):Wge(_ge);for(var x_=sge.length;x_--;)delete Gge.prototype[sge[x_]];return Gge()};Kpe[Hge]=!0;var qge,Kge,Yge=Object.create||function(kh,Ff){var x_;return kh!==null?(Vge.prototype=bpe(kh),x_=new Vge,Vge.prototype=null,x_[Hge]=kh):x_=Gge(),Ff===void 0?x_:zge(x_,Ff)},Xge=Ade.RegExp,Zge=tpe(function(){var kh=Xge(".","s");return!(kh.dotAll&&kh.exec(`
`)&&kh.flags==="s")}),Jge=Ade.RegExp,Qge=tpe(function(){var kh=Jge("(?<a>b)","g");return kh.exec("b").groups.a!=="b"||"b".replace(kh,"$<a>c")!=="bc"}),eve=nhe.get,tve=Fde("native-string-replace",String.prototype.replace),nve=RegExp.prototype.exec,rve=nve,ove=Nde("".charAt),ive=Nde("".indexOf),ave=Nde("".replace),uve=Nde("".slice),sve=(Kge=/b*/g,Epe(nve,qge=/a/,"a"),Epe(nve,Kge,"a"),qge.lastIndex!==0||Kge.lastIndex!==0),lve=Mge.BROKEN_CARET,cve=/()??/.exec("")[1]!==void 0;(sve||cve||lve||Zge||Qge)&&(rve=function(kh){var Ff,x_,$P,zP,eme,tme,nme,rme=this,ime=eve(rme),ome=jge(kh),sme=ime.raw;if(sme)return sme.lastIndex=rme.lastIndex,Ff=Epe(rve,sme,ome),rme.lastIndex=sme.lastIndex,Ff;var ame=ime.groups,lme=lve&&rme.sticky,ume=Epe(Nge,rme),dme=rme.source,pme=0,hme=ome;if(lme&&(ume=ave(ume,"y",""),ive(ume,"g")===-1&&(ume+="g"),hme=uve(ome,rme.lastIndex),rme.lastIndex>0&&(!rme.multiline||rme.multiline&&ove(ome,rme.lastIndex-1)!==`
`)&&(dme="(?: "+dme+")",hme=" "+hme,pme++),x_=new RegExp("^(?:"+dme+")",ume)),cve&&(x_=new RegExp("^"+dme+"$(?!\\s)",ume)),sve&&($P=rme.lastIndex),zP=Epe(nve,lme?x_:rme,hme),lme?zP?(zP.input=uve(zP.input,pme),zP[0]=uve(zP[0],pme),zP.index=rme.lastIndex,rme.lastIndex+=zP[0].length):rme.lastIndex=0:sve&&zP&&(rme.lastIndex=rme.global?zP.index+zP[0].length:$P),cve&&zP&&zP.length>1&&Epe(tve,zP[0],x_,function(){for(eme=1;eme<arguments.length-2;eme++)arguments[eme]===void 0&&(zP[eme]=void 0)}),zP&&ame)for(zP.groups=tme=Yge(null),eme=0;eme<ame.length;eme++)tme[(nme=ame[eme])[0]]=zP[nme[1]];return zP});var fve=rve;Sge({target:"RegExp",proto:!0,forced:/./.exec!==fve},{exec:fve});var dve=Function.prototype,pve=dve.apply,hve=dve.bind,gve=dve.call,vve=typeof Reflect=="object"&&Reflect.apply||(hve?gve.bind(pve):function(){return gve.apply(pve,arguments)}),yve=spe("species"),mve=RegExp.prototype,bve=spe("match"),wve=Ade.TypeError,Eve=spe("species"),Dve=Nde("".charAt),Sve=Nde("".charCodeAt),xve=Nde("".slice),Cve=function(kh){return function(Ff,x_){var $P,zP,eme=jge(Lde(Ff)),tme=Ohe(x_),nme=eme.length;return tme<0||tme>=nme?kh?"":void 0:($P=Sve(eme,tme))<55296||$P>56319||tme+1===nme||(zP=Sve(eme,tme+1))<56320||zP>57343?kh?Dve(eme,tme):$P:kh?xve(eme,tme,tme+2):zP-56320+($P-55296<<10)+65536}},Ave=Cve(!0),Ove=function(kh,Ff,x_){return Ff+(x_?Ave(kh,Ff).length:1)},kve=Ade.Array,Bve=Math.max,Fve=function(kh,Ff,x_){for(var $P,zP,eme,tme,nme=Fhe(kh),rme=rge(Ff,nme),ime=rge(x_===void 0?nme:x_,nme),ome=kve(Bve(ime-rme,0)),sme=0;rme<ime;rme++,sme++)$P=ome,zP=sme,eme=kh[rme],(tme=Ppe(zP))in $P?Ipe.f($P,tme,Lpe(0,eme)):$P[tme]=eme;return ome.length=sme,ome},Tve=Ade.TypeError,_ve=function(kh,Ff){var x_=kh.exec;if(Gde(x_)){var $P=Epe(x_,kh,Ff);return $P!==null&&bpe($P),$P}if(che(kh)==="RegExp")return Epe(fve,kh,Ff);throw Tve("RegExp#exec called on incompatible receiver")},Pve=Mge.UNSUPPORTED_Y,jve=Math.min,Nve=[].push,Ive=Nde(/./.exec),Lve=Nde(Nve),Rve=Nde("".slice);(function(kh,Ff,x_,$P){var zP=spe(kh),eme=!tpe(function(){var ime={};return ime[zP]=function(){return 7},""[kh](ime)!=7}),tme=eme&&!tpe(function(){var ime=!1,ome=/a/;return(ome={}).constructor={},ome.constructor[yve]=function(){return ome},ome.flags="",ome[zP]=/./[zP],ome.exec=function(){return ime=!0,null},ome[zP](""),!ime});if(!eme||!tme||x_){var nme=Nde(/./[zP]),rme=function(ime,ome,sme){var ame;return ame="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(lme,ume){var dme,pme,hme=jge(Lde(this)),cme=ume===void 0?4294967295:ume>>>0;if(cme===0)return[];if(lme===void 0)return[hme];if(!dpe(dme=lme)||!((pme=dme[bve])!==void 0?pme:che(dme)=="RegExp"))return Epe(ome,hme,lme,cme);for(var _me,vme,Eme,wme=[],Tme=(lme.ignoreCase?"i":"")+(lme.multiline?"m":"")+(lme.unicode?"u":"")+(lme.sticky?"y":""),Dme=0,Ame=new RegExp(lme.source,Tme+"g");(_me=Epe(fve,Ame,hme))&&!((vme=Ame.lastIndex)>Dme&&(Lve(wme,Rve(hme,Dme,_me.index)),_me.length>1&&_me.index<hme.length&&vve(Nve,wme,Fve(_me,1)),Eme=_me[0].length,Dme=vme,wme.length>=cme));)Ame.lastIndex===_me.index&&Ame.lastIndex++;return Dme===hme.length?!Eme&&Ive(Ame,"")||Lve(wme,""):Lve(wme,Rve(hme,Dme)),wme.length>cme?Fve(wme,0,cme):wme}:"0".split(void 0,0).length?function(lme,ume){return lme===void 0&&ume===0?[]:Epe(ome,this,lme,ume)}:ome,[function(lme,ume){var dme=Lde(this),pme=lme==null?void 0:Bpe(lme,ime);return pme?Epe(pme,lme,dme,ume):Epe(ame,jge(dme),lme,ume)},function(lme,ume){var dme=bpe(this),pme=jge(lme),hme=sme(ame,dme,pme,ume,ame!==ome);if(hme.done)return hme.value;var cme=function(Fme,$me){var Gme,Wme=bpe(Fme).constructor;return Wme===void 0||(Gme=bpe(Wme)[Eve])==null?$me:function(Jme){if(Mhe(Jme))return Jme;throw wve(Ape(Jme)+" is not a constructor")}(Gme)}(dme,RegExp),_me=dme.unicode,vme=(dme.ignoreCase?"i":"")+(dme.multiline?"m":"")+(dme.unicode?"u":"")+(Pve?"g":"y"),Eme=new cme(Pve?"^(?:"+dme.source+")":dme,vme),wme=ume===void 0?4294967295:ume>>>0;if(wme===0)return[];if(pme.length===0)return _ve(Eme,pme)===null?[pme]:[];for(var Tme=0,Dme=0,Ame=[];Dme<pme.length;){Eme.lastIndex=Pve?0:Dme;var Nme,Ume=_ve(Eme,Pve?Rve(pme,Dme):pme);if(Ume===null||(Nme=jve(Bhe(Eme.lastIndex+(Pve?Dme:0)),pme.length))===Tme)Dme=Ove(pme,Dme,_me);else{if(Lve(Ame,Rve(pme,Tme,Dme)),Ame.length===wme)return Ame;for(var jme=1;jme<=Ume.length-1;jme++)if(Lve(Ame,Ume[jme]),Ame.length===wme)return Ame;Dme=Tme=Nme}}return Lve(Ame,Rve(pme,Tme)),Ame}]}(zP,""[kh],function(ime,ome,sme,ame,lme){var ume=Nde(ime),dme=ome.exec;return dme===fve||dme===mve.exec?eme&&!lme?{done:!0,value:nme(ome,sme,ame)}:{done:!0,value:ume(sme,ome,ame)}:{done:!1}});uhe(String.prototype,kh,rme[0]),uhe(mve,zP,rme[1])}$P&&Rpe(mve[zP],"sham",!0)})("split",0,!!tpe(function(){var kh=/(?:)/,Ff=kh.exec;kh.exec=function(){return Ff.apply(this,arguments)};var x_="ab".split(kh);return x_.length!==2||x_[0]!=="a"||x_[1]!=="b"}),Pve),Sge({global:!0},{globalThis:Ade}),Vp&&(Mp.fn.attr=Vp);var Mve=ahe.PROPER,zve=RegExp.prototype,$ve=zve.toString,Hve=Nde(Nge),Vve=tpe(function(){return $ve.call({source:"a",flags:"b"})!="/a/b"}),Uve=Mve&&$ve.name!="toString";(Vve||Uve)&&uhe(RegExp.prototype,"toString",function(){var kh=bpe(this),Ff=jge(kh.source),x_=kh.flags;return"/"+Ff+"/"+jge(x_===void 0&&Dpe(zve,kh)&&!("flags"in zve)?Hve(kh):x_)},{unsafe:!0});var Wve=function(){function kh(){this.title=HP("highLightModule.selectLang"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M64 64v896h896V64H64z m487.6 698.8c0 87.2-51.2 127-125.8 127-67.4 0-106.4-34.8-126.4-77l68.6-41.4c13.2 23.4 25.2 43.2 54.2 43.2 27.6 0 45.2-10.8 45.2-53V475.4h84.2v287.4z m199.2 127c-78.2 0-128.8-37.2-153.4-86l68.6-39.6c18 29.4 41.6 51.2 83 51.2 34.8 0 57.2-17.4 57.2-41.6 0-28.8-22.8-39-61.4-56l-21-9c-60.8-25.8-101-58.4-101-127 0-63.2 48.2-111.2 123.2-111.2 53.6 0 92 18.6 119.6 67.4L800 580c-14.4-25.8-30-36-54.2-36-24.6 0-40.2 15.6-40.2 36 0 25.2 15.6 35.4 51.8 51.2l21 9c71.6 30.6 111.8 62 111.8 132.4 0 75.6-59.6 117.2-139.4 117.2z"></path></svg>',this.tag="select",this.width=95,this.selectPanelWidth=115}return kh.prototype.getOptions=function(Ff){var x_=[],$P=Ff.getMenuConfig("codeSelectLang").codeLangs,zP=$P===void 0?[]:$P;x_.push({text:"plain text",value:""}),zP.forEach(function(tme){var nme=tme.text,rme=tme.value;x_.push({text:nme,value:rme})});var eme=this.getValue(Ff);return x_.forEach(function(tme){tme.value===eme?tme.selected=!0:delete tme.selected}),x_},kh.prototype.isActive=function(Ff){return!1},kh.prototype.getValue=function(Ff){var x_=this.getSelectCodeElem(Ff);if(x_==null||!Sf.isElement(x_))return"";var $P=x_.language.toString(),zP=Ff.getMenuConfig("codeSelectLang").codeLangs;return(zP===void 0?[]:zP).some(function(eme){return eme.value===$P})?$P:""},kh.prototype.isDisabled=function(Ff){return Ff.selection==null||!this.getSelectCodeElem(Ff)},kh.prototype.exec=function(Ff,x_){if(this.getSelectCodeElem(Ff)!=null){var $P={language:x_.toString()};md.setNodes(Ff,$P,{match:function(zP){return QO.checkNodeType(zP,"code")}})}},kh.prototype.getSelectCodeElem=function(Ff){var x_=QO.getSelectedNodeByType(Ff,"code");if(x_==null)return null;var $P=QO.getParentNode(Ff,x_);return Sf.isElement($P)?$P.type!=="pre"?null:x_:null},kh}(),Gve={renderStyle:function(kh,Ff){var x_=kh,$P=Ff,zP="";return Fge.forEach(function(eme){x_[eme]&&(zP=eme)}),zP&&function(eme,tme){eme.data==null&&(eme.data={});var nme=eme.data;nme.props==null&&(nme.props={}),Object.assign(nme.props,{className:tme})}($P,zP="token "+zP),$P},parseStyleHtml:function(kh,Ff,x_){var $P=Mp(kh);if(!Sf.isElement(Ff)||QO.getNodeType(Ff)!=="code")return Ff;var zP=Ff,eme=$P.attr("class")||"";return eme.indexOf("language-")===0?zP.language=eme.split("-")[1]||"":zP.language=eme.toLowerCase(),zP},menus:[{key:"codeSelectLang",factory:function(){return new Wve},config:{codeLangs:[{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"Javascript",value:"javascript"},{text:"Typescript",value:"typescript"},{text:"JSX",value:"jsx"},{text:"Go",value:"go"},{text:"PHP",value:"php"},{text:"C",value:"c"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C++",value:"cpp"},{text:"C#",value:"csharp"},{text:"Visual Basic",value:"visual-basic"},{text:"SQL",value:"sql"},{text:"Ruby",value:"ruby"},{text:"Swift",value:"swift"},{text:"Bash",value:"bash"},{text:"Lua",value:"lua"},{text:"Groovy",value:"groovy"},{text:"Markdown",value:"markdown"}]}}],elemsToHtml:[{type:"code",elemToHtml:function(kh,Ff){var x_=kh.language,$P=x_===void 0?"":x_;return"<code "+($P?'class="language-'+$P+'"':"")+">"+Ff+"</code>"}}]},qve=/"/g,Kve=Nde("".replace);Sge({target:"String",proto:!0,forced:tpe(function(){var kh="".anchor('"');return kh!==kh.toLowerCase()||kh.split('"').length>3})},{anchor:function(kh){return Ff=kh,x_=jge(Lde(this)),$P="<a",($P+=' name="'+Kve(jge(Ff),qve,"&quot;")+'"')+">"+x_+"</a>";var Ff,x_,$P}});var Yve=function(kh){var Ff,x_,$P,zP=function(hme,cme){var _me=typeof Symbol=="function"&&hme[Symbol.iterator];if(!_me)return hme;var vme,Eme,wme=_me.call(hme),Tme=[];try{for(;(cme===void 0||cme-- >0)&&!(vme=wme.next()).done;)Tme.push(vme.value)}catch(Dme){Eme={error:Dme}}finally{try{vme&&!vme.done&&(_me=wme.return)&&_me.call(wme)}finally{if(Eme)throw Eme.error}}return Tme}(kh,2),eme=zP[0],tme=zP[1],nme=[],rme=function(hme){if(!ed.isText(hme))return null;var cme=QO.getParentNode(null,hme);if(cme&&QO.getNodeType(cme)==="code"){var _me=QO.getParentNode(null,cme);if(_me&&QO.getNodeType(_me)==="pre")return cme}return null}(eme);if(rme==null)return nme;var ime=rme.language,ome=ime===void 0?"":ime;if(!ome)return nme;var sme=function(hme,cme){if(!cme)return[];var _me=Bge.languages[cme];return _me?Bge.tokenize(hme.text,_me):[]}(eme,ome),ame=0;try{for(var lme=function(hme){var cme=typeof Symbol=="function"&&Symbol.iterator,_me=cme&&hme[cme],vme=0;if(_me)return _me.call(hme);if(hme&&typeof hme.length=="number")return{next:function(){return hme&&vme>=hme.length&&(hme=void 0),{value:hme&&hme[vme++],done:!hme}}};throw new TypeError(cme?"Object is not iterable.":"Symbol.iterator is not defined.")}(sme),ume=lme.next();!ume.done;ume=lme.next()){var dme=ume.value,pme=ame+Tge(dme);typeof dme!="string"&&nme.push((($P={})[dme.type]=!0,$P.anchor={path:tme,offset:ame},$P.focus={path:tme,offset:pme},$P)),ame=pme}}catch(hme){Ff={error:hme}}finally{try{ume&&!ume.done&&(x_=lme.return)&&x_.call(lme)}finally{if(Ff)throw Ff.error}}return nme},Xve=function(){return Xve=Object.assign||function(kh){for(var Ff,x_=1,$P=arguments.length;x_<$P;x_++)for(var zP in Ff=arguments[x_])Object.prototype.hasOwnProperty.call(Ff,zP)&&(kh[zP]=Ff[zP]);return kh},Xve.apply(this,arguments)},Zve=function(){function kh(){throw new Error(`不能实例化
Can not construct a instance`)}return kh.setEditorConfig=function(Ff){Ff===void 0&&(Ff={}),this.editorConfig=Xve(Xve({},this.editorConfig),Ff)},kh.setSimpleEditorConfig=function(Ff){Ff===void 0&&(Ff={}),this.simpleEditorConfig=Xve(Xve({},this.simpleEditorConfig),Ff)},kh.setToolbarConfig=function(Ff){Ff===void 0&&(Ff={}),this.toolbarConfig=Xve(Xve({},this.toolbarConfig),Ff)},kh.setSimpleToolbarConfig=function(Ff){Ff===void 0&&(Ff={}),this.simpleToolbarConfig=Xve(Xve({},this.simpleToolbarConfig),Ff)},kh.registerPlugin=function(Ff){this.plugins.push(Ff)},kh.registerMenu=function(Ff,x_){(function($P,zP){var eme=$P.key,tme=$P.factory,nme=$P.config,rme=oA(oA({},nme),zP||{});if(nk[eme]!=null)throw new Error("Duplicated key '"+eme+"' in menu items");nk[eme]=tme,function(ime,ome){ome!=null&&(tk[ime]=ome)}(eme,rme)})(Ff,x_)},kh.registerRenderElem=function(Ff){(function(x_){var $P=x_.type,zP=x_.renderElem;zT[$P||""]=zP})(Ff)},kh.registerRenderStyle=function(Ff){(function(x_){MT.push(x_)})(Ff)},kh.registerElemToHtml=function(Ff){(function(x_){var $P=x_.type,zP=x_.elemToHtml;gk[$P||""]=zP})(Ff)},kh.registerStyleToHtml=function(Ff){(function(x_){hk.push(x_)})(Ff)},kh.registerPreParseHtml=function(Ff){(function(x_){rF.push(x_)})(Ff)},kh.registerParseElemHtml=function(Ff){(function(x_){var $P=x_.selector,zP=x_.parseElemHtml;iF[$P]=zP})(Ff)},kh.registerParseStyleHtml=function(Ff){(function(x_){oF.push(x_)})(Ff)},kh.registerModule=function(Ff){Jve(Ff)},kh.editorConfig={},kh.simpleEditorConfig={},kh.toolbarConfig={},kh.simpleToolbarConfig={},kh.plugins=[],kh}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Jve(kh){var Ff=kh.menus,x_=kh.renderElems,$P=kh.renderStyle,zP=kh.elemsToHtml,eme=kh.styleToHtml,tme=kh.preParseHtml,nme=kh.parseElemsHtml,rme=kh.parseStyleHtml,ime=kh.editorPlugin;Ff&&Ff.forEach(function(ome){return Zve.registerMenu(ome)}),x_&&x_.forEach(function(ome){return Zve.registerRenderElem(ome)}),$P&&Zve.registerRenderStyle($P),zP&&zP.forEach(function(ome){return Zve.registerElemToHtml(ome)}),eme&&Zve.registerStyleToHtml(eme),tme&&tme.forEach(function(ome){return Zve.registerPreParseHtml(ome)}),nme&&nme.forEach(function(ome){return Zve.registerParseElemHtml(ome)}),rme&&Zve.registerParseStyleHtml(rme),ime&&Zve.registerPlugin(ime)}Yq.forEach(function(kh){return Jve(kh)}),Jve(g0),Jve(J3),Jve(Doe),Jve(wde),Jve(Gve);var Qve='<svg viewBox="0 0 1024 1024"><path d="M959.877 128l0.123 0.123v767.775l-0.123 0.122H64.102l-0.122-0.122V128.123l0.122-0.123h895.775zM960 64H64C28.795 64 0 92.795 0 128v768c0 35.205 28.795 64 64 64h896c35.205 0 64-28.795 64-64V128c0-35.205-28.795-64-64-64zM832 288.01c0 53.023-42.988 96.01-96.01 96.01s-96.01-42.987-96.01-96.01S682.967 192 735.99 192 832 234.988 832 288.01zM896 832H128V704l224.01-384 256 320h64l224.01-192z"></path></svg>',eye={link:{menuKeys:["editLink","unLink","viewLink"]},image:{menuKeys:["imageWidth30","imageWidth50","imageWidth100","editImage","viewImageLink","deleteImage"]},pre:{menuKeys:["enter","codeBlock","codeSelectLang"]},table:{menuKeys:["enter","tableHeader","tableFullWidth","insertTableRow","deleteTableRow","insertTableCol","deleteTableCol","deleteTable"]},divider:{menuKeys:["enter"]},video:{menuKeys:["enter","editVideoSize"]}},tye={hoverbarKeys:Xve(Xve({},eye),{text:{menuKeys:["headerSelect","insertLink","bulletedList","|","bold","through","color","bgColor","clearStyle"]}})};Zve.setEditorConfig(Xve(Xve({},tye),{decorate:Yve}));var nye={hoverbarKeys:eye};Zve.setSimpleEditorConfig(Xve(Xve({},nye),{decorate:Yve}));var rye={toolbarKeys:["headerSelect","blockquote","|","bold","underline","italic",{key:"group-more-style",title:HP("editor.more"),iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M204.8 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M505.6 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path><path d="M806.4 505.6m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z"></path></svg>',menuKeys:["through","code","sup","sub","clearStyle"]},"color","bgColor","|","fontSize","fontFamily","lineHeight","|","bulletedList","numberedList","todo",{key:"group-justify",title:HP("editor.justify"),iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M768 793.6v102.4H51.2v-102.4h716.8z m204.8-230.4v102.4H51.2v-102.4h921.6z m-204.8-230.4v102.4H51.2v-102.4h716.8zM972.8 102.4v102.4H51.2V102.4h921.6z"></path></svg>',menuKeys:["justifyLeft","justifyRight","justifyCenter","justifyJustify"]},{key:"group-indent",title:HP("editor.indent"),iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M0 64h1024v128H0z m384 192h640v128H384z m0 192h640v128H384z m0 192h640v128H384zM0 832h1024v128H0z m0-128V320l256 192z"></path></svg>',menuKeys:["indent","delIndent"]},"|","emotion","insertLink",{key:"group-image",title:HP("editor.image"),iconSvg:Qve,menuKeys:["insertImage","uploadImage"]},{key:"group-video",title:HP("editor.video"),iconSvg:'<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',menuKeys:["insertVideo","uploadVideo"]},"insertTable","codeBlock","divider","|","undo","redo","|","fullScreen"]};Zve.setToolbarConfig(rye);var oye={toolbarKeys:["blockquote","header1","header2","header3","|","bold","underline","italic","through","color","bgColor","clearStyle","|","bulletedList","numberedList","todo","justifyLeft","justifyRight","justifyCenter","|","insertLink",{key:"group-image",title:HP("editor.image"),iconSvg:Qve,menuKeys:["insertImage","uploadImage"]},"insertVideo","insertTable","codeBlock","|","undo","redo","|","fullScreen"]};function iye(kh){kh===void 0&&(kh={});var Ff=kh.selector,x_=Ff===void 0?"":Ff,$P=kh.content,zP=$P===void 0?[]:$P,eme=kh.html,tme=kh.config,nme=tme===void 0?{}:tme,rme=kh.mode,ime=(rme===void 0?"default":rme)==="simple"?Zve.simpleEditorConfig:Zve.editorConfig,ome=Xve(Xve({},ime.hoverbarKeys||{}),nme.hoverbarKeys||{});return I_({selector:x_,config:Xve(Xve(Xve({},ime),nme),{hoverbarKeys:ome}),content:zP,html:eme,plugins:Zve.plugins})}function aye(kh){var Ff=kh.selector,x_=kh.editor,$P=kh.config,zP=$P===void 0?{}:$P,eme=kh.mode,tme=eme===void 0?"default":eme;if(!Ff)throw new Error("Cannot find 'selector' when create toolbar");var nme=tme==="simple"?Zve.simpleToolbarConfig:Zve.toolbarConfig,rme=function(ime,ome){if(ime==null)throw new Error("Cannot create toolbar, because editor is null");var sme=ome.selector,ame=ome.config,lme=ame===void 0?{}:ame;if(function(pme,hme){return LF(pme,"data-w-e-toolbar",hme)}(ime,sme))throw new Error("Repeated create toolbar by selector '"+sme+"'");var ume=oA({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},lme||{}),dme=new $_(sme,ume);return uO.set(dme,ime),sO.set(ime,dme),dme}(x_,{selector:Ff,config:Xve(Xve({},nme),zP)});return rme}Zve.setSimpleToolbarConfig(oye);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(kh,Ff,x_)=>Ff in kh?__defProp(kh,Ff,{enumerable:!0,configurable:!0,writable:!0,value:x_}):kh[Ff]=x_,__spreadValues=(kh,Ff)=>{for(var x_ in Ff||(Ff={}))__hasOwnProp.call(Ff,x_)&&__defNormalProp(kh,x_,Ff[x_]);if(__getOwnPropSymbols)for(var x_ of __getOwnPropSymbols(Ff))__propIsEnum.call(Ff,x_)&&__defNormalProp(kh,x_,Ff[x_]);return kh},__spreadProps=(kh,Ff)=>__defProps(kh,__getOwnPropDescs(Ff));function genErrorInfo(kh){let Ff=`请使用 '@${kh}' 事件，不要放在 props 中`;return Ff+=`
Please use '@${kh}' event instead of props`,Ff}var _export_sfc=(kh,Ff)=>{for(const[x_,$P]of Ff)kh[x_]=$P;return kh};const _sfc_main$1$1=defineComponent({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(kh,Ff){const x_=ref(null),$P=shallowRef(null),zP=ref(""),eme=()=>{if(!x_.value)return;const nme=toRaw(kh.defaultContent);iye({selector:x_.value,mode:kh.mode,content:nme||[],html:kh.defaultHtml||kh.modelValue||"",config:__spreadProps(__spreadValues({},kh.defaultConfig),{onCreated(rme){if($P.value=rme,Ff.emit("onCreated",rme),kh.defaultConfig.onCreated){const ime=genErrorInfo("onCreated");throw new Error(ime)}},onChange(rme){const ime=rme.getHtml();if(zP.value=ime,Ff.emit("update:modelValue",ime),Ff.emit("onChange",rme),kh.defaultConfig.onChange){const ome=genErrorInfo("onChange");throw new Error(ome)}},onDestroyed(rme){if(Ff.emit("onDestroyed",rme),kh.defaultConfig.onDestroyed){const ime=genErrorInfo("onDestroyed");throw new Error(ime)}},onMaxLength(rme){if(Ff.emit("onMaxLength",rme),kh.defaultConfig.onMaxLength){const ime=genErrorInfo("onMaxLength");throw new Error(ime)}},onFocus(rme){if(Ff.emit("onFocus",rme),kh.defaultConfig.onFocus){const ime=genErrorInfo("onFocus");throw new Error(ime)}},onBlur(rme){if(Ff.emit("onBlur",rme),kh.defaultConfig.onBlur){const ime=genErrorInfo("onBlur");throw new Error(ime)}},customAlert(rme,ime){if(Ff.emit("customAlert",rme,ime),kh.defaultConfig.customAlert){const ome=genErrorInfo("customAlert");throw new Error(ome)}},customPaste:(rme,ime)=>{if(kh.defaultConfig.customPaste){const sme=genErrorInfo("customPaste");throw new Error(sme)}let ome;return Ff.emit("customPaste",rme,ime,sme=>{ome=sme}),ome}})})};function tme(nme){const rme=$P.value;rme!=null&&rme.setHtml(nme)}return onMounted(()=>{eme()}),watch(()=>kh.modelValue,nme=>{nme!==zP.value&&tme(nme)}),{box:x_}}}),_hoisted_1$1$1={ref:"box",style:{height:"100%"}};function _sfc_render$1(kh,Ff,x_,$P,zP,eme){return openBlock(),createElementBlock("div",_hoisted_1$1$1,null,512)}var Editor=_export_sfc(_sfc_main$1$1,[["render",_sfc_render$1]]);const _sfc_main$2=defineComponent({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(kh){const Ff=ref(null),x_=$P=>{if(Ff.value){if($P==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");QO.getToolbar($P)||aye({editor:$P,selector:Ff.value||"<div></div>",mode:kh.mode,config:kh.defaultConfig})}};return watchEffect(()=>{const{editor:$P}=kh;$P!=null&&x_($P)}),{selector:Ff}}}),_hoisted_1$2={ref:"selector"};function _sfc_render(kh,Ff,x_,$P,zP,eme){return openBlock(),createElementBlock("div",_hoisted_1$2,null,512)}var Toolbar=_export_sfc(_sfc_main$2,[["render",_sfc_render]]);const _hoisted_1$1={class:"editor"},_sfc_main$1=defineComponent({__name:"WangEditor",setup(kh){let Ff=ref();const x_=$P=>o0e(this,null,function*(){Ff.value=Object.seal($P)});return onMounted(()=>o0e(this,null,function*(){log$2("Component <<WangEditor>> mounted.")})),onBeforeUnmount(()=>o0e(this,null,function*(){log$2("Component <<WangEditor>> onBeforeUnmount.")})),($P,zP)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(unref(Toolbar),{editor:unref(Ff)},null,8,["editor"]),createVNode(unref(Editor),{style:{height:"500px","overflow-y":"hidden"},onOnCreated:x_})]))}});var win;typeof window!="undefined"?win=window:typeof commonjsGlobal!="undefined"?win=commonjsGlobal:typeof self!="undefined"?win=self:win={};var window_1=win;const window$1$1=getDefaultExportFromCjs(window_1);var topLevel=typeof commonjsGlobal!="undefined"?commonjsGlobal:typeof window!="undefined"?window:{},minDoc=require$$0,doccy;typeof document!="undefined"?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"],doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc));var document_1=doccy;const document$2=getDefaultExportFromCjs(document_1);var keycode$1={exports:{}};(function(kh,Ff){function x_(rme){if(rme&&typeof rme=="object"){var ime=rme.which||rme.keyCode||rme.charCode;ime&&(rme=ime)}if(typeof rme=="number")return tme[rme];var ome=String(rme),sme=$P[ome.toLowerCase()];if(sme)return sme;var sme=zP[ome.toLowerCase()];if(sme)return sme;if(ome.length===1)return ome.charCodeAt(0)}x_.isEventKey=function(ime,ome){if(ime&&typeof ime=="object"){var sme=ime.which||ime.keyCode||ime.charCode;if(sme==null)return!1;if(typeof ome=="string"){var ame=$P[ome.toLowerCase()];if(ame)return ame===sme;var ame=zP[ome.toLowerCase()];if(ame)return ame===sme}else if(typeof ome=="number")return ome===sme;return!1}},Ff=kh.exports=x_;var $P=Ff.code=Ff.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},zP=Ff.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(eme=97;eme<123;eme++)$P[String.fromCharCode(eme)]=eme-32;for(var eme=48;eme<58;eme++)$P[eme-48]=eme;for(eme=1;eme<13;eme++)$P["f"+eme]=eme+111;for(eme=0;eme<10;eme++)$P["numpad "+eme]=eme+96;var tme=Ff.names=Ff.title={};for(eme in $P)tme[$P[eme]]=eme;for(var nme in zP)$P[nme]=zP[nme]})(keycode$1,keycode$1.exports);var keycodeExports=keycode$1.exports;const keycode=getDefaultExportFromCjs(keycodeExports);var tuple=SafeParseTuple;function SafeParseTuple(kh,Ff){var x_,$P=null;try{x_=JSON.parse(kh,Ff)}catch(zP){$P=zP}return[$P,x_]}const safeParseTuple=getDefaultExportFromCjs(tuple);var lib={exports:{}},_extends$3={exports:{}};(function(kh){function Ff(){return kh.exports=Ff=Object.assign?Object.assign.bind():function(x_){for(var $P=1;$P<arguments.length;$P++){var zP=arguments[$P];for(var eme in zP)Object.prototype.hasOwnProperty.call(zP,eme)&&(x_[eme]=zP[eme])}return x_},kh.exports.__esModule=!0,kh.exports.default=kh.exports,Ff.apply(this,arguments)}kh.exports=Ff,kh.exports.__esModule=!0,kh.exports.default=kh.exports})(_extends$3);var _extendsExports=_extends$3.exports,isFunction_1=isFunction$1,toString$1=Object.prototype.toString;function isFunction$1(kh){if(!kh)return!1;var Ff=toString$1.call(kh);return Ff==="[object Function]"||typeof kh=="function"&&Ff!=="[object RegExp]"||typeof window!="undefined"&&(kh===window.setTimeout||kh===window.alert||kh===window.confirm||kh===window.prompt)}var window$3=window_1,httpResponseHandler=function kh(Ff,x_){return x_===void 0&&(x_=!1),function($P,zP,eme){if($P){Ff($P);return}if(zP.statusCode>=400&&zP.statusCode<=599){var tme=eme;if(x_)if(window$3.TextDecoder){var nme=getCharset(zP.headers&&zP.headers["content-type"]);try{tme=new TextDecoder(nme).decode(eme)}catch(rme){}}else tme=String.fromCharCode.apply(null,new Uint8Array(eme));Ff({cause:tme});return}Ff(null,eme)}};function getCharset(kh){return kh===void 0&&(kh=""),kh.toLowerCase().split(";").reduce(function(Ff,x_){var $P=x_.split("="),zP=$P[0],eme=$P[1];return zP.trim()==="charset"?eme.trim():Ff},"utf-8")}var httpHandler=httpResponseHandler,window$2=window_1,_extends$2=_extendsExports,isFunction=isFunction_1;createXHR.httpHandler=httpHandler;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var parseHeaders=function kh(Ff){var x_={};return Ff&&Ff.trim().split(`
`).forEach(function($P){var zP=$P.indexOf(":"),eme=$P.slice(0,zP).trim().toLowerCase(),tme=$P.slice(zP+1).trim();typeof x_[eme]=="undefined"?x_[eme]=tme:Array.isArray(x_[eme])?x_[eme].push(tme):x_[eme]=[x_[eme],tme]}),x_};lib.exports=createXHR;lib.exports.default=createXHR;createXHR.XMLHttpRequest=window$2.XMLHttpRequest||noop$1;createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window$2.XDomainRequest;forEachArray(["get","put","post","patch","head","delete"],function(kh){createXHR[kh==="delete"?"del":kh]=function(Ff,x_,$P){return x_=initParams(Ff,x_,$P),x_.method=kh.toUpperCase(),_createXHR(x_)}});function forEachArray(kh,Ff){for(var x_=0;x_<kh.length;x_++)Ff(kh[x_])}function isEmpty(kh){for(var Ff in kh)if(kh.hasOwnProperty(Ff))return!1;return!0}function initParams(kh,Ff,x_){var $P=kh;return isFunction(Ff)?(x_=Ff,typeof kh=="string"&&($P={uri:kh})):$P=_extends$2({},Ff,{uri:kh}),$P.callback=x_,$P}function createXHR(kh,Ff,x_){return Ff=initParams(kh,Ff,x_),_createXHR(Ff)}function _createXHR(kh){if(typeof kh.callback=="undefined")throw new Error("callback argument missing");var Ff=!1,x_=function(_me,vme,Eme){Ff||(Ff=!0,kh.callback(_me,vme,Eme))};function $P(){nme.readyState===4&&setTimeout(tme,0)}function zP(){var cme=void 0;if(nme.response?cme=nme.response:cme=nme.responseText||getXml(nme),dme)try{cme=JSON.parse(cme)}catch(_me){}return cme}function eme(cme){return clearTimeout(pme),cme instanceof Error||(cme=new Error(""+(cme||"Unknown XMLHttpRequest Error"))),cme.statusCode=0,x_(cme,hme)}function tme(){if(!ime){var cme;clearTimeout(pme),kh.useXDR&&nme.status===void 0?cme=200:cme=nme.status===1223?204:nme.status;var _me=hme,vme=null;return cme!==0?(_me={body:zP(),statusCode:cme,method:sme,headers:{},url:ome,rawRequest:nme},nme.getAllResponseHeaders&&(_me.headers=parseHeaders(nme.getAllResponseHeaders()))):vme=new Error("Internal XMLHttpRequest Error"),x_(vme,_me,_me.body)}}var nme=kh.xhr||null;nme||(kh.cors||kh.useXDR?nme=new createXHR.XDomainRequest:nme=new createXHR.XMLHttpRequest);var rme,ime,ome=nme.url=kh.uri||kh.url,sme=nme.method=kh.method||"GET",ame=kh.body||kh.data,lme=nme.headers=kh.headers||{},ume=!!kh.sync,dme=!1,pme,hme={body:void 0,headers:{},statusCode:0,method:sme,url:ome,rawRequest:nme};if("json"in kh&&kh.json!==!1&&(dme=!0,lme.accept||lme.Accept||(lme.Accept="application/json"),sme!=="GET"&&sme!=="HEAD"&&(lme["content-type"]||lme["Content-Type"]||(lme["Content-Type"]="application/json"),ame=JSON.stringify(kh.json===!0?ame:kh.json))),nme.onreadystatechange=$P,nme.onload=tme,nme.onerror=eme,nme.onprogress=function(){},nme.onabort=function(){ime=!0},nme.ontimeout=eme,nme.open(sme,ome,!ume,kh.username,kh.password),ume||(nme.withCredentials=!!kh.withCredentials),!ume&&kh.timeout>0&&(pme=setTimeout(function(){if(!ime){ime=!0,nme.abort("timeout");var cme=new Error("XMLHttpRequest timeout");cme.code="ETIMEDOUT",eme(cme)}},kh.timeout)),nme.setRequestHeader)for(rme in lme)lme.hasOwnProperty(rme)&&nme.setRequestHeader(rme,lme[rme]);else if(kh.headers&&!isEmpty(kh.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in kh&&(nme.responseType=kh.responseType),"beforeSend"in kh&&typeof kh.beforeSend=="function"&&kh.beforeSend(nme),nme.send(ame||null),nme}function getXml(kh){try{if(kh.responseType==="document")return kh.responseXML;var Ff=kh.responseXML&&kh.responseXML.documentElement.nodeName==="parsererror";if(kh.responseType===""&&!Ff)return kh.responseXML}catch(x_){}return null}function noop$1(){}var libExports=lib.exports;const XHR=getDefaultExportFromCjs(libExports);var browserIndex={exports:{}},document$1=document_1,_objCreate=Object.create||function(){function kh(){}return function(Ff){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return kh.prototype=Ff,new kh}}();function ParsingError(kh,Ff){this.name="ParsingError",this.code=kh.code,this.message=Ff||kh.message}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function parseTimeStamp(kh){function Ff($P,zP,eme,tme){return($P|0)*3600+(zP|0)*60+(eme|0)+(tme|0)/1e3}var x_=kh.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return x_?x_[3]?Ff(x_[1],x_[2],x_[3].replace(":",""),x_[4]):x_[1]>59?Ff(x_[1],x_[2],0,x_[4]):Ff(0,x_[1],x_[2],x_[4]):null}function Settings(){this.values=_objCreate(null)}Settings.prototype={set:function(kh,Ff){!this.get(kh)&&Ff!==""&&(this.values[kh]=Ff)},get:function(kh,Ff,x_){return x_?this.has(kh)?this.values[kh]:Ff[x_]:this.has(kh)?this.values[kh]:Ff},has:function(kh){return kh in this.values},alt:function(kh,Ff,x_){for(var $P=0;$P<x_.length;++$P)if(Ff===x_[$P]){this.set(kh,Ff);break}},integer:function(kh,Ff){/^-?\d+$/.test(Ff)&&this.set(kh,parseInt(Ff,10))},percent:function(kh,Ff){return Ff.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(Ff=parseFloat(Ff),Ff>=0&&Ff<=100)?(this.set(kh,Ff),!0):!1}};function parseOptions(kh,Ff,x_,$P){var zP=$P?kh.split($P):[kh];for(var eme in zP)if(typeof zP[eme]=="string"){var tme=zP[eme].split(x_);if(tme.length===2){var nme=tme[0].trim(),rme=tme[1].trim();Ff(nme,rme)}}}function parseCue(kh,Ff,x_){var $P=kh;function zP(){var nme=parseTimeStamp(kh);if(nme===null)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+$P);return kh=kh.replace(/^[^\sa-zA-Z-]+/,""),nme}function eme(nme,rme){var ime=new Settings;parseOptions(nme,function(ome,sme){switch(ome){case"region":for(var ame=x_.length-1;ame>=0;ame--)if(x_[ame].id===sme){ime.set(ome,x_[ame].region);break}break;case"vertical":ime.alt(ome,sme,["rl","lr"]);break;case"line":var lme=sme.split(","),ume=lme[0];ime.integer(ome,ume),ime.percent(ome,ume)&&ime.set("snapToLines",!1),ime.alt(ome,ume,["auto"]),lme.length===2&&ime.alt("lineAlign",lme[1],["start","center","end"]);break;case"position":lme=sme.split(","),ime.percent(ome,lme[0]),lme.length===2&&ime.alt("positionAlign",lme[1],["start","center","end"]);break;case"size":ime.percent(ome,sme);break;case"align":ime.alt(ome,sme,["start","center","end","left","right"]);break}},/:/,/\s/),rme.region=ime.get("region",null),rme.vertical=ime.get("vertical","");try{rme.line=ime.get("line","auto")}catch(ome){}rme.lineAlign=ime.get("lineAlign","start"),rme.snapToLines=ime.get("snapToLines",!0),rme.size=ime.get("size",100);try{rme.align=ime.get("align","center")}catch(ome){rme.align=ime.get("align","middle")}try{rme.position=ime.get("position","auto")}catch(ome){rme.position=ime.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},rme.align)}rme.positionAlign=ime.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},rme.align)}function tme(){kh=kh.replace(/^\s+/,"")}if(tme(),Ff.startTime=zP(),tme(),kh.substr(0,3)!=="-->")throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+$P);kh=kh.substr(3),tme(),Ff.endTime=zP(),tme(),eme(kh,Ff)}var TEXTAREA_ELEMENT=document$1.createElement&&document$1.createElement("textarea"),TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},DEFAULT_COLOR_CLASS={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"};function parseContent(kh,Ff){function x_(){if(!Ff)return null;function ume(pme){return Ff=Ff.substr(pme.length),pme}var dme=Ff.match(/^([^<]*)(<[^>]*>?)?/);return ume(dme[1]?dme[1]:dme[2])}function $P(ume){return TEXTAREA_ELEMENT.innerHTML=ume,ume=TEXTAREA_ELEMENT.textContent,TEXTAREA_ELEMENT.textContent="",ume}function zP(ume,dme){return!NEEDS_PARENT[dme.localName]||NEEDS_PARENT[dme.localName]===ume.localName}function eme(ume,dme){var pme=TAG_NAME[ume];if(!pme)return null;var hme=kh.document.createElement(pme),cme=TAG_ANNOTATION[ume];return cme&&dme&&(hme[cme]=dme.trim()),hme}for(var tme=kh.document.createElement("div"),nme=tme,rme,ime=[];(rme=x_())!==null;){if(rme[0]==="<"){if(rme[1]==="/"){ime.length&&ime[ime.length-1]===rme.substr(2).replace(">","")&&(ime.pop(),nme=nme.parentNode);continue}var ome=parseTimeStamp(rme.substr(1,rme.length-2)),sme;if(ome){sme=kh.document.createProcessingInstruction("timestamp",ome),nme.appendChild(sme);continue}var ame=rme.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ame||(sme=eme(ame[1],ame[3]),!sme)||!zP(nme,sme))continue;if(ame[2]){var lme=ame[2].split(".");lme.forEach(function(ume){var dme=/^bg_/.test(ume),pme=dme?ume.slice(3):ume;if(DEFAULT_COLOR_CLASS.hasOwnProperty(pme)){var hme=dme?"background-color":"color",cme=DEFAULT_COLOR_CLASS[pme];sme.style[hme]=cme}}),sme.className=lme.join(" ")}ime.push(ame[1]),nme.appendChild(sme),nme=sme;continue}nme.appendChild(kh.document.createTextNode($P(rme)))}return tme}var strongRTLRanges=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(kh){for(var Ff=0;Ff<strongRTLRanges.length;Ff++){var x_=strongRTLRanges[Ff];if(kh>=x_[0]&&kh<=x_[1])return!0}return!1}function determineBidi(kh){var Ff=[],x_="",$P;if(!kh||!kh.childNodes)return"ltr";function zP(nme,rme){for(var ime=rme.childNodes.length-1;ime>=0;ime--)nme.push(rme.childNodes[ime])}function eme(nme){if(!nme||!nme.length)return null;var rme=nme.pop(),ime=rme.textContent||rme.innerText;if(ime){var ome=ime.match(/^.*(\n|\r)/);return ome?(nme.length=0,ome[0]):ime}if(rme.tagName==="ruby")return eme(nme);if(rme.childNodes)return zP(nme,rme),eme(nme)}for(zP(Ff,kh);x_=eme(Ff);)for(var tme=0;tme<x_.length;tme++)if($P=x_.charCodeAt(tme),isStrongRTLChar($P))return"rtl";return"ltr"}function computeLinePos(kh){if(typeof kh.line=="number"&&(kh.snapToLines||kh.line>=0&&kh.line<=100))return kh.line;if(!kh.track||!kh.track.textTrackList||!kh.track.textTrackList.mediaElement)return-1;for(var Ff=kh.track,x_=Ff.textTrackList,$P=0,zP=0;zP<x_.length&&x_[zP]!==Ff;zP++)x_[zP].mode==="showing"&&$P++;return++$P*-1}function StyleBox(){}StyleBox.prototype.applyStyles=function(kh,Ff){Ff=Ff||this.div;for(var x_ in kh)kh.hasOwnProperty(x_)&&(Ff.style[x_]=kh[x_])};StyleBox.prototype.formatStyle=function(kh,Ff){return kh===0?0:kh+Ff};function CueStyleBox(kh,Ff,x_){StyleBox.call(this),this.cue=Ff,this.cueDiv=parseContent(kh,Ff.text);var $P={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:Ff.vertical===""?"horizontal-tb":Ff.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles($P,this.cueDiv),this.div=kh.document.createElement("div"),$P={direction:determineBidi(this.cueDiv),writingMode:Ff.vertical===""?"horizontal-tb":Ff.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:Ff.align==="middle"?"center":Ff.align,font:x_.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles($P),this.div.appendChild(this.cueDiv);var zP=0;switch(Ff.positionAlign){case"start":case"line-left":zP=Ff.position;break;case"center":zP=Ff.position-Ff.size/2;break;case"end":case"line-right":zP=Ff.position-Ff.size;break}Ff.vertical===""?this.applyStyles({left:this.formatStyle(zP,"%"),width:this.formatStyle(Ff.size,"%")}):this.applyStyles({top:this.formatStyle(zP,"%"),height:this.formatStyle(Ff.size,"%")}),this.move=function(eme){this.applyStyles({top:this.formatStyle(eme.top,"px"),bottom:this.formatStyle(eme.bottom,"px"),left:this.formatStyle(eme.left,"px"),right:this.formatStyle(eme.right,"px"),height:this.formatStyle(eme.height,"px"),width:this.formatStyle(eme.width,"px")})}}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(kh){var Ff,x_,$P,zP;if(kh.div){x_=kh.div.offsetHeight,$P=kh.div.offsetWidth,zP=kh.div.offsetTop;var eme=(eme=kh.div.childNodes)&&(eme=eme[0])&&eme.getClientRects&&eme.getClientRects();kh=kh.div.getBoundingClientRect(),Ff=eme?Math.max(eme[0]&&eme[0].height||0,kh.height/eme.length):0}this.left=kh.left,this.right=kh.right,this.top=kh.top||zP,this.height=kh.height||x_,this.bottom=kh.bottom||zP+(kh.height||x_),this.width=kh.width||$P,this.lineHeight=Ff!==void 0?Ff:kh.lineHeight}BoxPosition.prototype.move=function(kh,Ff){switch(Ff=Ff!==void 0?Ff:this.lineHeight,kh){case"+x":this.left+=Ff,this.right+=Ff;break;case"-x":this.left-=Ff,this.right-=Ff;break;case"+y":this.top+=Ff,this.bottom+=Ff;break;case"-y":this.top-=Ff,this.bottom-=Ff;break}};BoxPosition.prototype.overlaps=function(kh){return this.left<kh.right&&this.right>kh.left&&this.top<kh.bottom&&this.bottom>kh.top};BoxPosition.prototype.overlapsAny=function(kh){for(var Ff=0;Ff<kh.length;Ff++)if(this.overlaps(kh[Ff]))return!0;return!1};BoxPosition.prototype.within=function(kh){return this.top>=kh.top&&this.bottom<=kh.bottom&&this.left>=kh.left&&this.right<=kh.right};BoxPosition.prototype.overlapsOppositeAxis=function(kh,Ff){switch(Ff){case"+x":return this.left<kh.left;case"-x":return this.right>kh.right;case"+y":return this.top<kh.top;case"-y":return this.bottom>kh.bottom}};BoxPosition.prototype.intersectPercentage=function(kh){var Ff=Math.max(0,Math.min(this.right,kh.right)-Math.max(this.left,kh.left)),x_=Math.max(0,Math.min(this.bottom,kh.bottom)-Math.max(this.top,kh.top)),$P=Ff*x_;return $P/(this.height*this.width)};BoxPosition.prototype.toCSSCompatValues=function(kh){return{top:this.top-kh.top,bottom:kh.bottom-this.bottom,left:this.left-kh.left,right:kh.right-this.right,height:this.height,width:this.width}};BoxPosition.getSimpleBoxPosition=function(kh){var Ff=kh.div?kh.div.offsetHeight:kh.tagName?kh.offsetHeight:0,x_=kh.div?kh.div.offsetWidth:kh.tagName?kh.offsetWidth:0,$P=kh.div?kh.div.offsetTop:kh.tagName?kh.offsetTop:0;kh=kh.div?kh.div.getBoundingClientRect():kh.tagName?kh.getBoundingClientRect():kh;var zP={left:kh.left,right:kh.right,top:kh.top||$P,height:kh.height||Ff,bottom:kh.bottom||$P+(kh.height||Ff),width:kh.width||x_};return zP};function moveBoxToLinePosition(kh,Ff,x_,$P){function zP(pme,hme){for(var cme,_me=new BoxPosition(pme),vme=1,Eme=0;Eme<hme.length;Eme++){for(;pme.overlapsOppositeAxis(x_,hme[Eme])||pme.within(x_)&&pme.overlapsAny($P);)pme.move(hme[Eme]);if(pme.within(x_))return pme;var wme=pme.intersectPercentage(x_);vme>wme&&(cme=new BoxPosition(pme),vme=wme),pme=new BoxPosition(_me)}return cme||_me}var eme=new BoxPosition(Ff),tme=Ff.cue,nme=computeLinePos(tme),rme=[];if(tme.snapToLines){var ime;switch(tme.vertical){case"":rme=["+y","-y"],ime="height";break;case"rl":rme=["+x","-x"],ime="width";break;case"lr":rme=["-x","+x"],ime="width";break}var ome=eme.lineHeight,sme=ome*Math.round(nme),ame=x_[ime]+ome,lme=rme[0];Math.abs(sme)>ame&&(sme=sme<0?-1:1,sme*=Math.ceil(ame/ome)*ome),nme<0&&(sme+=tme.vertical===""?x_.height:x_.width,rme=rme.reverse()),eme.move(lme,sme)}else{var ume=eme.lineHeight/x_.height*100;switch(tme.lineAlign){case"center":nme-=ume/2;break;case"end":nme-=ume;break}switch(tme.vertical){case"":Ff.applyStyles({top:Ff.formatStyle(nme,"%")});break;case"rl":Ff.applyStyles({left:Ff.formatStyle(nme,"%")});break;case"lr":Ff.applyStyles({right:Ff.formatStyle(nme,"%")});break}rme=["+y","-x","+x","-y"],eme=new BoxPosition(Ff)}var dme=zP(eme,rme);Ff.move(dme.toCSSCompatValues(x_))}function WebVTT$1(){}WebVTT$1.StringDecoder=function(){return{decode:function(kh){if(!kh)return"";if(typeof kh!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(kh))}}};WebVTT$1.convertCueToDOMTree=function(kh,Ff){return!kh||!Ff?null:parseContent(kh,Ff)};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT$1.processCues=function(kh,Ff,x_){if(!kh||!Ff||!x_)return null;for(;x_.firstChild;)x_.removeChild(x_.firstChild);var $P=kh.document.createElement("div");$P.style.position="absolute",$P.style.left="0",$P.style.right="0",$P.style.top="0",$P.style.bottom="0",$P.style.margin=CUE_BACKGROUND_PADDING,x_.appendChild($P);function zP(ome){for(var sme=0;sme<ome.length;sme++)if(ome[sme].hasBeenReset||!ome[sme].displayState)return!0;return!1}if(!zP(Ff)){for(var eme=0;eme<Ff.length;eme++)$P.appendChild(Ff[eme].displayState);return}var tme=[],nme=BoxPosition.getSimpleBoxPosition($P),rme=Math.round(nme.height*FONT_SIZE_PERCENT*100)/100,ime={font:rme+"px "+FONT_STYLE};(function(){for(var ome,sme,ame=0;ame<Ff.length;ame++)sme=Ff[ame],ome=new CueStyleBox(kh,sme,ime),$P.appendChild(ome.div),moveBoxToLinePosition(kh,ome,nme,tme),sme.displayState=ome.div,tme.push(BoxPosition.getSimpleBoxPosition(ome))})()};WebVTT$1.Parser=function(kh,Ff,x_){x_||(x_=Ff,Ff={}),Ff||(Ff={}),this.window=kh,this.vttjs=Ff,this.state="INITIAL",this.buffer="",this.decoder=x_||new TextDecoder("utf8"),this.regionList=[]};WebVTT$1.Parser.prototype={reportOrThrowError:function(kh){if(kh instanceof ParsingError)this.onparsingerror&&this.onparsingerror(kh);else throw kh},parse:function(kh){var Ff=this;kh&&(Ff.buffer+=Ff.decoder.decode(kh,{stream:!0}));function x_(){for(var ome=Ff.buffer,sme=0;sme<ome.length&&ome[sme]!=="\r"&&ome[sme]!==`
`;)++sme;var ame=ome.substr(0,sme);return ome[sme]==="\r"&&++sme,ome[sme]===`
`&&++sme,Ff.buffer=ome.substr(sme),ame}function $P(ome){var sme=new Settings;if(parseOptions(ome,function(lme,ume){switch(lme){case"id":sme.set(lme,ume);break;case"width":sme.percent(lme,ume);break;case"lines":sme.integer(lme,ume);break;case"regionanchor":case"viewportanchor":var dme=ume.split(",");if(dme.length!==2)break;var pme=new Settings;if(pme.percent("x",dme[0]),pme.percent("y",dme[1]),!pme.has("x")||!pme.has("y"))break;sme.set(lme+"X",pme.get("x")),sme.set(lme+"Y",pme.get("y"));break;case"scroll":sme.alt(lme,ume,["up"]);break}},/=/,/\s/),sme.has("id")){var ame=new(Ff.vttjs.VTTRegion||Ff.window.VTTRegion);ame.width=sme.get("width",100),ame.lines=sme.get("lines",3),ame.regionAnchorX=sme.get("regionanchorX",0),ame.regionAnchorY=sme.get("regionanchorY",100),ame.viewportAnchorX=sme.get("viewportanchorX",0),ame.viewportAnchorY=sme.get("viewportanchorY",100),ame.scroll=sme.get("scroll",""),Ff.onregion&&Ff.onregion(ame),Ff.regionList.push({id:sme.get("id"),region:ame})}}function zP(ome){var sme=new Settings;parseOptions(ome,function(ame,lme){switch(ame){case"MPEGT":sme.integer(ame+"S",lme);break;case"LOCA":sme.set(ame+"L",parseTimeStamp(lme));break}},/[^\d]:/,/,/),Ff.ontimestampmap&&Ff.ontimestampmap({MPEGTS:sme.get("MPEGTS"),LOCAL:sme.get("LOCAL")})}function eme(ome){ome.match(/X-TIMESTAMP-MAP/)?parseOptions(ome,function(sme,ame){switch(sme){case"X-TIMESTAMP-MAP":zP(ame);break}},/=/):parseOptions(ome,function(sme,ame){switch(sme){case"Region":$P(ame);break}},/:/)}try{var tme;if(Ff.state==="INITIAL"){if(!/\r\n|\n/.test(Ff.buffer))return this;tme=x_();var nme=tme.match(/^WEBVTT([ \t].*)?$/);if(!nme||!nme[0])throw new ParsingError(ParsingError.Errors.BadSignature);Ff.state="HEADER"}for(var rme=!1;Ff.buffer;){if(!/\r\n|\n/.test(Ff.buffer))return this;switch(rme?rme=!1:tme=x_(),Ff.state){case"HEADER":/:/.test(tme)?eme(tme):tme||(Ff.state="ID");continue;case"NOTE":tme||(Ff.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(tme)){Ff.state="NOTE";break}if(!tme)continue;Ff.cue=new(Ff.vttjs.VTTCue||Ff.window.VTTCue)(0,0,"");try{Ff.cue.align="center"}catch(ome){Ff.cue.align="middle"}if(Ff.state="CUE",tme.indexOf("-->")===-1){Ff.cue.id=tme;continue}case"CUE":try{parseCue(tme,Ff.cue,Ff.regionList)}catch(ome){Ff.reportOrThrowError(ome),Ff.cue=null,Ff.state="BADCUE";continue}Ff.state="CUETEXT";continue;case"CUETEXT":var ime=tme.indexOf("-->")!==-1;if(!tme||ime&&(rme=!0)){Ff.oncue&&Ff.oncue(Ff.cue),Ff.cue=null,Ff.state="ID";continue}Ff.cue.text&&(Ff.cue.text+=`
`),Ff.cue.text+=tme.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":tme||(Ff.state="ID");continue}}}catch(ome){Ff.reportOrThrowError(ome),Ff.state==="CUETEXT"&&Ff.cue&&Ff.oncue&&Ff.oncue(Ff.cue),Ff.cue=null,Ff.state=Ff.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var kh=this;try{if(kh.buffer+=kh.decoder.decode(),(kh.cue||kh.state==="HEADER")&&(kh.buffer+=`

`,kh.parse()),kh.state==="INITIAL")throw new ParsingError(ParsingError.Errors.BadSignature)}catch(Ff){kh.reportOrThrowError(Ff)}return kh.onflush&&kh.onflush(),this}};var vtt$1=WebVTT$1,autoKeyword="auto",directionSetting={"":1,lr:1,rl:1},alignSetting={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findDirectionSetting(kh){if(typeof kh!="string")return!1;var Ff=directionSetting[kh.toLowerCase()];return Ff?kh.toLowerCase():!1}function findAlignSetting(kh){if(typeof kh!="string")return!1;var Ff=alignSetting[kh.toLowerCase()];return Ff?kh.toLowerCase():!1}function VTTCue(kh,Ff,x_){this.hasBeenReset=!1;var $P="",zP=!1,eme=kh,tme=Ff,nme=x_,rme=null,ime="",ome=!0,sme="auto",ame="start",lme="auto",ume="auto",dme=100,pme="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return $P},set:function(hme){$P=""+hme}},pauseOnExit:{enumerable:!0,get:function(){return zP},set:function(hme){zP=!!hme}},startTime:{enumerable:!0,get:function(){return eme},set:function(hme){if(typeof hme!="number")throw new TypeError("Start time must be set to a number.");eme=hme,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return tme},set:function(hme){if(typeof hme!="number")throw new TypeError("End time must be set to a number.");tme=hme,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return nme},set:function(hme){nme=""+hme,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return rme},set:function(hme){rme=hme,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return ime},set:function(hme){var cme=findDirectionSetting(hme);if(cme===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");ime=cme,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return ome},set:function(hme){ome=!!hme,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return sme},set:function(hme){if(typeof hme!="number"&&hme!==autoKeyword)throw new SyntaxError("Line: an invalid number or illegal string was specified.");sme=hme,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return ame},set:function(hme){var cme=findAlignSetting(hme);cme?(ame=cme,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return lme},set:function(hme){if(hme<0||hme>100)throw new Error("Position must be between 0 and 100.");lme=hme,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return ume},set:function(hme){var cme=findAlignSetting(hme);cme?(ume=cme,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return dme},set:function(hme){if(hme<0||hme>100)throw new Error("Size must be between 0 and 100.");dme=hme,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return pme},set:function(hme){var cme=findAlignSetting(hme);if(!cme)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");pme=cme,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var vttcue=VTTCue,scrollSetting={"":!0,up:!0};function findScrollSetting(kh){if(typeof kh!="string")return!1;var Ff=scrollSetting[kh.toLowerCase()];return Ff?kh.toLowerCase():!1}function isValidPercentValue(kh){return typeof kh=="number"&&kh>=0&&kh<=100}function VTTRegion(){var kh=100,Ff=3,x_=0,$P=100,zP=0,eme=100,tme="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return kh},set:function(nme){if(!isValidPercentValue(nme))throw new Error("Width must be between 0 and 100.");kh=nme}},lines:{enumerable:!0,get:function(){return Ff},set:function(nme){if(typeof nme!="number")throw new TypeError("Lines must be set to a number.");Ff=nme}},regionAnchorY:{enumerable:!0,get:function(){return $P},set:function(nme){if(!isValidPercentValue(nme))throw new Error("RegionAnchorX must be between 0 and 100.");$P=nme}},regionAnchorX:{enumerable:!0,get:function(){return x_},set:function(nme){if(!isValidPercentValue(nme))throw new Error("RegionAnchorY must be between 0 and 100.");x_=nme}},viewportAnchorY:{enumerable:!0,get:function(){return eme},set:function(nme){if(!isValidPercentValue(nme))throw new Error("ViewportAnchorY must be between 0 and 100.");eme=nme}},viewportAnchorX:{enumerable:!0,get:function(){return zP},set:function(nme){if(!isValidPercentValue(nme))throw new Error("ViewportAnchorX must be between 0 and 100.");zP=nme}},scroll:{enumerable:!0,get:function(){return tme},set:function(nme){var rme=findScrollSetting(nme);rme===!1?console.warn("Scroll: an invalid or illegal string was specified."):tme=rme}}})}var vttregion=VTTRegion,window$1=window_1,vttjs=browserIndex.exports={WebVTT:vtt$1,VTTCue:vttcue,VTTRegion:vttregion};window$1.vttjs=vttjs;window$1.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,nativeVTTCue=window$1.VTTCue,nativeVTTRegion=window$1.VTTRegion;vttjs.shim=function(){window$1.VTTCue=cueShim,window$1.VTTRegion=regionShim};vttjs.restore=function(){window$1.VTTCue=nativeVTTCue,window$1.VTTRegion=nativeVTTRegion};window$1.VTTCue||vttjs.shim();var browserIndexExports=browserIndex.exports;const vtt=getDefaultExportFromCjs(browserIndexExports);var urlToolkit={exports:{}};(function(kh,Ff){(function(x_){var $P=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,zP=/^(?=([^\/?#]*))\1([^]*)$/,eme=/(?:\/|^)\.(?=\/)/g,tme=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,nme={buildAbsoluteURL:function(rme,ime,ome){if(ome=ome||{},rme=rme.trim(),ime=ime.trim(),!ime){if(!ome.alwaysNormalize)return rme;var sme=nme.parseURL(rme);if(!sme)throw new Error("Error trying to parse base URL.");return sme.path=nme.normalizePath(sme.path),nme.buildURLFromParts(sme)}var ame=nme.parseURL(ime);if(!ame)throw new Error("Error trying to parse relative URL.");if(ame.scheme)return ome.alwaysNormalize?(ame.path=nme.normalizePath(ame.path),nme.buildURLFromParts(ame)):ime;var lme=nme.parseURL(rme);if(!lme)throw new Error("Error trying to parse base URL.");if(!lme.netLoc&&lme.path&&lme.path[0]!=="/"){var ume=zP.exec(lme.path);lme.netLoc=ume[1],lme.path=ume[2]}lme.netLoc&&!lme.path&&(lme.path="/");var dme={scheme:lme.scheme,netLoc:ame.netLoc,path:null,params:ame.params,query:ame.query,fragment:ame.fragment};if(!ame.netLoc&&(dme.netLoc=lme.netLoc,ame.path[0]!=="/"))if(!ame.path)dme.path=lme.path,ame.params||(dme.params=lme.params,ame.query||(dme.query=lme.query));else{var pme=lme.path,hme=pme.substring(0,pme.lastIndexOf("/")+1)+ame.path;dme.path=nme.normalizePath(hme)}return dme.path===null&&(dme.path=ome.alwaysNormalize?nme.normalizePath(ame.path):ame.path),nme.buildURLFromParts(dme)},parseURL:function(rme){var ime=$P.exec(rme);return ime?{scheme:ime[1]||"",netLoc:ime[2]||"",path:ime[3]||"",params:ime[4]||"",query:ime[5]||"",fragment:ime[6]||""}:null},normalizePath:function(rme){for(rme=rme.split("").reverse().join("").replace(eme,"");rme.length!==(rme=rme.replace(tme,"")).length;);return rme.split("").reverse().join("")},buildURLFromParts:function(rme){return rme.scheme+rme.netLoc+rme.path+rme.params+rme.query+rme.fragment}};kh.exports=nme})()})(urlToolkit);var urlToolkitExports=urlToolkit.exports;const URLToolkit=getDefaultExportFromCjs(urlToolkitExports);var DEFAULT_LOCATION$1="http://example.com",resolveUrl$2=function kh(Ff,x_){if(/^[a-z]+:/i.test(x_))return x_;/^data:/.test(Ff)&&(Ff=window$1$1.location&&window$1$1.location.href||"");var $P=typeof window$1$1.URL=="function",zP=/^\/\//.test(Ff),eme=!window$1$1.location&&!/\/\//i.test(Ff);if($P?Ff=new window$1$1.URL(Ff,window$1$1.location||DEFAULT_LOCATION$1):/\/\//i.test(Ff)||(Ff=URLToolkit.buildAbsoluteURL(window$1$1.location&&window$1$1.location.href||"",Ff)),$P){var tme=new URL(x_,Ff);return eme?tme.href.slice(DEFAULT_LOCATION$1.length):zP?tme.href.slice(tme.protocol.length):tme.href}return URLToolkit.buildAbsoluteURL(Ff,x_)};function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(kh){for(var Ff=1;Ff<arguments.length;Ff++){var x_=arguments[Ff];for(var $P in x_)Object.prototype.hasOwnProperty.call(x_,$P)&&(kh[$P]=x_[$P])}return kh},_extends$1.apply(this,arguments)}var Stream=function(){function kh(){this.listeners={}}var Ff=kh.prototype;return Ff.on=function($P,zP){this.listeners[$P]||(this.listeners[$P]=[]),this.listeners[$P].push(zP)},Ff.off=function($P,zP){if(!this.listeners[$P])return!1;var eme=this.listeners[$P].indexOf(zP);return this.listeners[$P]=this.listeners[$P].slice(0),this.listeners[$P].splice(eme,1),eme>-1},Ff.trigger=function($P){var zP=this.listeners[$P];if(zP)if(arguments.length===2)for(var eme=zP.length,tme=0;tme<eme;++tme)zP[tme].call(this,arguments[1]);else for(var nme=Array.prototype.slice.call(arguments,1),rme=zP.length,ime=0;ime<rme;++ime)zP[ime].apply(this,nme)},Ff.dispose=function(){this.listeners={}},Ff.pipe=function($P){this.on("data",function(zP){$P.push(zP)})},kh}(),atob=function kh(Ff){return window$1$1.atob?window$1$1.atob(Ff):Buffer.from(Ff,"base64").toString("binary")};function decodeB64ToUint8Array(kh){for(var Ff=atob(kh),x_=new Uint8Array(Ff.length),$P=0;$P<Ff.length;$P++)x_[$P]=Ff.charCodeAt($P);return x_}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class LineStream extends Stream{constructor(){super(),this.buffer=""}push(Ff){let x_;for(this.buffer+=Ff,x_=this.buffer.indexOf(`
`);x_>-1;x_=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,x_)),this.buffer=this.buffer.substring(x_+1)}}const TAB="	",parseByterange=function(kh){const Ff=/([0-9.]*)?@?([0-9.]*)?/.exec(kh||""),x_={};return Ff[1]&&(x_.length=parseInt(Ff[1],10)),Ff[2]&&(x_.offset=parseInt(Ff[2],10)),x_},attributeSeparator=function(){const kh="[^=]*",Ff='"[^"]*"|[^,]*',x_="(?:"+kh+")=(?:"+Ff+")";return new RegExp("(?:^|,)("+x_+")")},parseAttributes$1=function(kh){const Ff={};if(!kh)return Ff;const x_=kh.split(attributeSeparator());let $P=x_.length,zP;for(;$P--;)x_[$P]!==""&&(zP=/([^=]*)=(.*)/.exec(x_[$P]).slice(1),zP[0]=zP[0].replace(/^\s+|\s+$/g,""),zP[1]=zP[1].replace(/^\s+|\s+$/g,""),zP[1]=zP[1].replace(/^['"](.*)['"]$/g,"$1"),Ff[zP[0]]=zP[1]);return Ff};class ParseStream extends Stream{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(Ff){let x_,$P;if(Ff=Ff.trim(),Ff.length===0)return;if(Ff[0]!=="#"){this.trigger("data",{type:"uri",uri:Ff});return}this.tagMappers.reduce((eme,tme)=>{const nme=tme(Ff);return nme===Ff?eme:eme.concat([nme])},[Ff]).forEach(eme=>{for(let tme=0;tme<this.customParsers.length;tme++)if(this.customParsers[tme].call(this,eme))return;if(eme.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:eme.slice(1)});return}if(eme=eme.replace("\r",""),x_=/^#EXTM3U/.exec(eme),x_){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(x_=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(eme),x_){$P={type:"tag",tagType:"inf"},x_[1]&&($P.duration=parseFloat(x_[1])),x_[2]&&($P.title=x_[2]),this.trigger("data",$P);return}if(x_=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(eme),x_){$P={type:"tag",tagType:"targetduration"},x_[1]&&($P.duration=parseInt(x_[1],10)),this.trigger("data",$P);return}if(x_=/^#EXT-X-VERSION:([0-9.]*)?/.exec(eme),x_){$P={type:"tag",tagType:"version"},x_[1]&&($P.version=parseInt(x_[1],10)),this.trigger("data",$P);return}if(x_=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(eme),x_){$P={type:"tag",tagType:"media-sequence"},x_[1]&&($P.number=parseInt(x_[1],10)),this.trigger("data",$P);return}if(x_=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(eme),x_){$P={type:"tag",tagType:"discontinuity-sequence"},x_[1]&&($P.number=parseInt(x_[1],10)),this.trigger("data",$P);return}if(x_=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(eme),x_){$P={type:"tag",tagType:"playlist-type"},x_[1]&&($P.playlistType=x_[1]),this.trigger("data",$P);return}if(x_=/^#EXT-X-BYTERANGE:(.*)?$/.exec(eme),x_){$P=_extends$1(parseByterange(x_[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",$P);return}if(x_=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(eme),x_){$P={type:"tag",tagType:"allow-cache"},x_[1]&&($P.allowed=!/NO/.test(x_[1])),this.trigger("data",$P);return}if(x_=/^#EXT-X-MAP:(.*)$/.exec(eme),x_){if($P={type:"tag",tagType:"map"},x_[1]){const tme=parseAttributes$1(x_[1]);tme.URI&&($P.uri=tme.URI),tme.BYTERANGE&&($P.byterange=parseByterange(tme.BYTERANGE))}this.trigger("data",$P);return}if(x_=/^#EXT-X-STREAM-INF:(.*)$/.exec(eme),x_){if($P={type:"tag",tagType:"stream-inf"},x_[1]){if($P.attributes=parseAttributes$1(x_[1]),$P.attributes.RESOLUTION){const tme=$P.attributes.RESOLUTION.split("x"),nme={};tme[0]&&(nme.width=parseInt(tme[0],10)),tme[1]&&(nme.height=parseInt(tme[1],10)),$P.attributes.RESOLUTION=nme}$P.attributes.BANDWIDTH&&($P.attributes.BANDWIDTH=parseInt($P.attributes.BANDWIDTH,10)),$P.attributes["FRAME-RATE"]&&($P.attributes["FRAME-RATE"]=parseFloat($P.attributes["FRAME-RATE"])),$P.attributes["PROGRAM-ID"]&&($P.attributes["PROGRAM-ID"]=parseInt($P.attributes["PROGRAM-ID"],10))}this.trigger("data",$P);return}if(x_=/^#EXT-X-MEDIA:(.*)$/.exec(eme),x_){$P={type:"tag",tagType:"media"},x_[1]&&($P.attributes=parseAttributes$1(x_[1])),this.trigger("data",$P);return}if(x_=/^#EXT-X-ENDLIST/.exec(eme),x_){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(x_=/^#EXT-X-DISCONTINUITY/.exec(eme),x_){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(x_=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(eme),x_){$P={type:"tag",tagType:"program-date-time"},x_[1]&&($P.dateTimeString=x_[1],$P.dateTimeObject=new Date(x_[1])),this.trigger("data",$P);return}if(x_=/^#EXT-X-KEY:(.*)$/.exec(eme),x_){$P={type:"tag",tagType:"key"},x_[1]&&($P.attributes=parseAttributes$1(x_[1]),$P.attributes.IV&&($P.attributes.IV.substring(0,2).toLowerCase()==="0x"&&($P.attributes.IV=$P.attributes.IV.substring(2)),$P.attributes.IV=$P.attributes.IV.match(/.{8}/g),$P.attributes.IV[0]=parseInt($P.attributes.IV[0],16),$P.attributes.IV[1]=parseInt($P.attributes.IV[1],16),$P.attributes.IV[2]=parseInt($P.attributes.IV[2],16),$P.attributes.IV[3]=parseInt($P.attributes.IV[3],16),$P.attributes.IV=new Uint32Array($P.attributes.IV))),this.trigger("data",$P);return}if(x_=/^#EXT-X-START:(.*)$/.exec(eme),x_){$P={type:"tag",tagType:"start"},x_[1]&&($P.attributes=parseAttributes$1(x_[1]),$P.attributes["TIME-OFFSET"]=parseFloat($P.attributes["TIME-OFFSET"]),$P.attributes.PRECISE=/YES/.test($P.attributes.PRECISE)),this.trigger("data",$P);return}if(x_=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(eme),x_){$P={type:"tag",tagType:"cue-out-cont"},x_[1]?$P.data=x_[1]:$P.data="",this.trigger("data",$P);return}if(x_=/^#EXT-X-CUE-OUT:(.*)?$/.exec(eme),x_){$P={type:"tag",tagType:"cue-out"},x_[1]?$P.data=x_[1]:$P.data="",this.trigger("data",$P);return}if(x_=/^#EXT-X-CUE-IN:(.*)?$/.exec(eme),x_){$P={type:"tag",tagType:"cue-in"},x_[1]?$P.data=x_[1]:$P.data="",this.trigger("data",$P);return}if(x_=/^#EXT-X-SKIP:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"skip"},$P.attributes=parseAttributes$1(x_[1]),$P.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&($P.attributes["SKIPPED-SEGMENTS"]=parseInt($P.attributes["SKIPPED-SEGMENTS"],10)),$P.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&($P.attributes["RECENTLY-REMOVED-DATERANGES"]=$P.attributes["RECENTLY-REMOVED-DATERANGES"].split(TAB)),this.trigger("data",$P);return}if(x_=/^#EXT-X-PART:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"part"},$P.attributes=parseAttributes$1(x_[1]),["DURATION"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=parseFloat($P.attributes[tme]))}),["INDEPENDENT","GAP"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=/YES/.test($P.attributes[tme]))}),$P.attributes.hasOwnProperty("BYTERANGE")&&($P.attributes.byterange=parseByterange($P.attributes.BYTERANGE)),this.trigger("data",$P);return}if(x_=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"server-control"},$P.attributes=parseAttributes$1(x_[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=parseFloat($P.attributes[tme]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=/YES/.test($P.attributes[tme]))}),this.trigger("data",$P);return}if(x_=/^#EXT-X-PART-INF:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"part-inf"},$P.attributes=parseAttributes$1(x_[1]),["PART-TARGET"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=parseFloat($P.attributes[tme]))}),this.trigger("data",$P);return}if(x_=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"preload-hint"},$P.attributes=parseAttributes$1(x_[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(tme){if($P.attributes.hasOwnProperty(tme)){$P.attributes[tme]=parseInt($P.attributes[tme],10);const nme=tme==="BYTERANGE-LENGTH"?"length":"offset";$P.attributes.byterange=$P.attributes.byterange||{},$P.attributes.byterange[nme]=$P.attributes[tme],delete $P.attributes[tme]}}),this.trigger("data",$P);return}if(x_=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"rendition-report"},$P.attributes=parseAttributes$1(x_[1]),["LAST-MSN","LAST-PART"].forEach(function(tme){$P.attributes.hasOwnProperty(tme)&&($P.attributes[tme]=parseInt($P.attributes[tme],10))}),this.trigger("data",$P);return}if(x_=/^#EXT-X-DATERANGE:(.*)$/.exec(eme),x_&&x_[1]){$P={type:"tag",tagType:"daterange"},$P.attributes=parseAttributes$1(x_[1]),["ID","CLASS"].forEach(function(nme){$P.attributes.hasOwnProperty(nme)&&($P.attributes[nme]=String($P.attributes[nme]))}),["START-DATE","END-DATE"].forEach(function(nme){$P.attributes.hasOwnProperty(nme)&&($P.attributes[nme]=new Date($P.attributes[nme]))}),["DURATION","PLANNED-DURATION"].forEach(function(nme){$P.attributes.hasOwnProperty(nme)&&($P.attributes[nme]=parseFloat($P.attributes[nme]))}),["END-ON-NEXT"].forEach(function(nme){$P.attributes.hasOwnProperty(nme)&&($P.attributes[nme]=/YES/i.test($P.attributes[nme]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(nme){$P.attributes.hasOwnProperty(nme)&&($P.attributes[nme]=$P.attributes[nme].toString(16))});const tme=/^X-([A-Z]+-)+[A-Z]+$/;for(const nme in $P.attributes){if(!tme.test(nme))continue;const rme=/[0-9A-Fa-f]{6}/g.test($P.attributes[nme]),ime=/^\d+(\.\d+)?$/.test($P.attributes[nme]);$P.attributes[nme]=rme?$P.attributes[nme].toString(16):ime?parseFloat($P.attributes[nme]):String($P.attributes[nme])}this.trigger("data",$P);return}if(x_=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(eme),x_){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:eme.slice(4)})})}addParser({expression:Ff,customType:x_,dataParser:$P,segment:zP}){typeof $P!="function"&&($P=eme=>eme),this.customParsers.push(eme=>{if(Ff.exec(eme))return this.trigger("data",{type:"custom",data:$P(eme),customType:x_,segment:zP}),!0})}addTagMapper({expression:Ff,map:x_}){const $P=zP=>Ff.test(zP)?x_(zP):zP;this.tagMappers.push($P)}}const camelCase=kh=>kh.toLowerCase().replace(/-(\w)/g,Ff=>Ff[1].toUpperCase()),camelCaseKeys=function(kh){const Ff={};return Object.keys(kh).forEach(function(x_){Ff[camelCase(x_)]=kh[x_]}),Ff},setHoldBack=function(kh){const{serverControl:Ff,targetDuration:x_,partTargetDuration:$P}=kh;if(!Ff)return;const zP="#EXT-X-SERVER-CONTROL",eme="holdBack",tme="partHoldBack",nme=x_&&x_*3,rme=$P&&$P*2;x_&&!Ff.hasOwnProperty(eme)&&(Ff[eme]=nme,this.trigger("info",{message:`${zP} defaulting HOLD-BACK to targetDuration * 3 (${nme}).`})),nme&&Ff[eme]<nme&&(this.trigger("warn",{message:`${zP} clamping HOLD-BACK (${Ff[eme]}) to targetDuration * 3 (${nme})`}),Ff[eme]=nme),$P&&!Ff.hasOwnProperty(tme)&&(Ff[tme]=$P*3,this.trigger("info",{message:`${zP} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${Ff[tme]}).`})),$P&&Ff[tme]<rme&&(this.trigger("warn",{message:`${zP} clamping PART-HOLD-BACK (${Ff[tme]}) to partTargetDuration * 2 (${rme}).`}),Ff[tme]=rme)};class Parser extends Stream{constructor(){super(),this.lineStream=new LineStream,this.parseStream=new ParseStream,this.lineStream.pipe(this.parseStream);const Ff=this,x_=[];let $P={},zP,eme,tme=!1;const nme=function(){},rme={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},ime="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let ome=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let sme=0,ame=0;const lme={};this.on("end",()=>{$P.uri||!$P.parts&&!$P.preloadHints||(!$P.map&&zP&&($P.map=zP),!$P.key&&eme&&($P.key=eme),!$P.timeline&&typeof ome=="number"&&($P.timeline=ome),this.manifest.preloadSegment=$P)}),this.parseStream.on("data",function(ume){let dme,pme;({tag(){({version(){ume.version&&(this.manifest.version=ume.version)},"allow-cache"(){this.manifest.allowCache=ume.allowed,"allowed"in ume||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const hme={};"length"in ume&&($P.byterange=hme,hme.length=ume.length,"offset"in ume||(ume.offset=sme)),"offset"in ume&&($P.byterange=hme,hme.offset=ume.offset),sme=hme.offset+hme.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),ume.duration>0&&($P.duration=ume.duration),ume.duration===0&&($P.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=x_},key(){if(!ume.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(ume.attributes.METHOD==="NONE"){eme=null;return}if(!ume.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(ume.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:ume.attributes};return}if(ume.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:ume.attributes.URI};return}if(ume.attributes.KEYFORMAT===ime){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(ume.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(ume.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),ume.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(ume.attributes.KEYID&&ume.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:ume.attributes.KEYFORMAT,keyId:ume.attributes.KEYID.substring(2)},pssh:decodeB64ToUint8Array(ume.attributes.URI.split(",")[1])};return}ume.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),eme={method:ume.attributes.METHOD||"AES-128",uri:ume.attributes.URI},typeof ume.attributes.IV!="undefined"&&(eme.iv=ume.attributes.IV)},"media-sequence"(){if(!isFinite(ume.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+ume.number});return}this.manifest.mediaSequence=ume.number},"discontinuity-sequence"(){if(!isFinite(ume.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+ume.number});return}this.manifest.discontinuitySequence=ume.number,ome=ume.number},"playlist-type"(){if(!/VOD|EVENT/.test(ume.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+ume.playlist});return}this.manifest.playlistType=ume.playlistType},map(){zP={},ume.uri&&(zP.uri=ume.uri),ume.byterange&&(zP.byterange=ume.byterange),eme&&(zP.key=eme)},"stream-inf"(){if(this.manifest.playlists=x_,this.manifest.mediaGroups=this.manifest.mediaGroups||rme,!ume.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}$P.attributes||($P.attributes={}),_extends$1($P.attributes,ume.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||rme,!(ume.attributes&&ume.attributes.TYPE&&ume.attributes["GROUP-ID"]&&ume.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const hme=this.manifest.mediaGroups[ume.attributes.TYPE];hme[ume.attributes["GROUP-ID"]]=hme[ume.attributes["GROUP-ID"]]||{},dme=hme[ume.attributes["GROUP-ID"]],pme={default:/yes/i.test(ume.attributes.DEFAULT)},pme.default?pme.autoselect=!0:pme.autoselect=/yes/i.test(ume.attributes.AUTOSELECT),ume.attributes.LANGUAGE&&(pme.language=ume.attributes.LANGUAGE),ume.attributes.URI&&(pme.uri=ume.attributes.URI),ume.attributes["INSTREAM-ID"]&&(pme.instreamId=ume.attributes["INSTREAM-ID"]),ume.attributes.CHARACTERISTICS&&(pme.characteristics=ume.attributes.CHARACTERISTICS),ume.attributes.FORCED&&(pme.forced=/yes/i.test(ume.attributes.FORCED)),dme[ume.attributes.NAME]=pme},discontinuity(){ome+=1,$P.discontinuity=!0,this.manifest.discontinuityStarts.push(x_.length)},"program-date-time"(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=ume.dateTimeString,this.manifest.dateTimeObject=ume.dateTimeObject),$P.dateTimeString=ume.dateTimeString,$P.dateTimeObject=ume.dateTimeObject},targetduration(){if(!isFinite(ume.duration)||ume.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+ume.duration});return}this.manifest.targetDuration=ume.duration,setHoldBack.call(this,this.manifest)},start(){if(!ume.attributes||isNaN(ume.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:ume.attributes["TIME-OFFSET"],precise:ume.attributes.PRECISE}},"cue-out"(){$P.cueOut=ume.data},"cue-out-cont"(){$P.cueOutCont=ume.data},"cue-in"(){$P.cueIn=ume.data},skip(){this.manifest.skip=camelCaseKeys(ume.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",ume.attributes,["SKIPPED-SEGMENTS"])},part(){tme=!0;const hme=this.manifest.segments.length,cme=camelCaseKeys(ume.attributes);$P.parts=$P.parts||[],$P.parts.push(cme),cme.byterange&&(cme.byterange.hasOwnProperty("offset")||(cme.byterange.offset=ame),ame=cme.byterange.offset+cme.byterange.length);const _me=$P.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${_me} for segment #${hme}`,ume.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((vme,Eme)=>{vme.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${Eme} lacks required attribute(s): LAST-PART`})})},"server-control"(){const hme=this.manifest.serverControl=camelCaseKeys(ume.attributes);hme.hasOwnProperty("canBlockReload")||(hme.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),setHoldBack.call(this,this.manifest),hme.canSkipDateranges&&!hme.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const hme=this.manifest.segments.length,cme=camelCaseKeys(ume.attributes),_me=cme.type&&cme.type==="PART";$P.preloadHints=$P.preloadHints||[],$P.preloadHints.push(cme),cme.byterange&&(cme.byterange.hasOwnProperty("offset")||(cme.byterange.offset=_me?ame:0,_me&&(ame=cme.byterange.offset+cme.byterange.length)));const vme=$P.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${vme} for segment #${hme}`,ume.attributes,["TYPE","URI"]),!!cme.type)for(let Eme=0;Eme<$P.preloadHints.length-1;Eme++){const wme=$P.preloadHints[Eme];wme.type&&wme.type===cme.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${vme} for segment #${hme} has the same TYPE ${cme.type} as preload hint #${Eme}`})}},"rendition-report"(){const hme=camelCaseKeys(ume.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(hme);const cme=this.manifest.renditionReports.length-1,_me=["LAST-MSN","URI"];tme&&_me.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${cme}`,ume.attributes,_me)},"part-inf"(){this.manifest.partInf=camelCaseKeys(ume.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",ume.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),setHoldBack.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(camelCaseKeys(ume.attributes));const hme=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${hme}`,ume.attributes,["ID","START-DATE"]);const cme=this.manifest.daterange[hme];cme.endDate&&cme.startDate&&new Date(cme.endDate)<new Date(cme.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),cme.duration&&cme.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),cme.plannedDuration&&cme.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const _me=!!cme.endOnNext;if(_me&&!cme.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),_me&&(cme.duration||cme.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),cme.duration&&cme.endDate){const vme=cme.startDate,Eme=vme.setSeconds(vme.getSeconds()+cme.duration);this.manifest.daterange[hme].endDate=new Date(Eme)}if(cme&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!lme[cme.id])lme[cme.id]=cme;else for(const vme in lme[cme.id])if(lme[cme.id][vme]!==cme[vme]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[ume.tagType]||nme).call(Ff)},uri(){$P.uri=ume.uri,x_.push($P),this.manifest.targetDuration&&!("duration"in $P)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),$P.duration=this.manifest.targetDuration),eme&&($P.key=eme),$P.timeline=ome,zP&&($P.map=zP),ame=0,$P={}},comment(){},custom(){ume.segment?($P.custom=$P.custom||{},$P.custom[ume.customType]=ume.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[ume.customType]=ume.data)}})[ume.type].call(Ff)})}warnOnMissingAttributes_(Ff,x_,$P){const zP=[];$P.forEach(function(eme){x_.hasOwnProperty(eme)||zP.push(eme)}),zP.length&&this.trigger("warn",{message:`${Ff} lacks required attribute(s): ${zP.join(", ")}`})}push(Ff){this.lineStream.push(Ff)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(Ff){this.parseStream.addParser(Ff)}addTagMapper(Ff){this.parseStream.addTagMapper(Ff)}}var regexs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},mediaTypes=["video","audio","text"],upperMediaTypes=["Video","Audio","Text"],translateLegacyCodec=function kh(Ff){return Ff&&Ff.replace(/avc1\.(\d+)\.(\d+)/i,function(x_,$P,zP){var eme=("00"+Number($P).toString(16)).slice(-2),tme=("00"+Number(zP).toString(16)).slice(-2);return"avc1."+eme+"00"+tme})},parseCodecs=function kh(Ff){Ff===void 0&&(Ff="");var x_=Ff.split(","),$P=[];return x_.forEach(function(zP){zP=zP.trim();var eme;mediaTypes.forEach(function(tme){var nme=regexs[tme].exec(zP.toLowerCase());if(!(!nme||nme.length<=1)){eme=tme;var rme=zP.substring(0,nme[1].length),ime=zP.replace(rme,"");$P.push({type:rme,details:ime,mediaType:tme})}}),eme||$P.push({type:zP,details:"",mediaType:"unknown"})}),$P},codecsFromDefault=function kh(Ff,x_){if(!Ff.mediaGroups.AUDIO||!x_)return null;var $P=Ff.mediaGroups.AUDIO[x_];if(!$P)return null;for(var zP in $P){var eme=$P[zP];if(eme.default&&eme.playlists)return parseCodecs(eme.playlists[0].attributes.CODECS)}return null},isAudioCodec=function kh(Ff){return Ff===void 0&&(Ff=""),regexs.audio.test(Ff.trim().toLowerCase())},isTextCodec=function kh(Ff){return Ff===void 0&&(Ff=""),regexs.text.test(Ff.trim().toLowerCase())},getMimeForCodec=function kh(Ff){if(!(!Ff||typeof Ff!="string")){var x_=Ff.toLowerCase().split(",").map(function(eme){return translateLegacyCodec(eme.trim())}),$P="video";x_.length===1&&isAudioCodec(x_[0])?$P="audio":x_.length===1&&isTextCodec(x_[0])&&($P="application");var zP="mp4";return x_.every(function(eme){return regexs.mp4.test(eme)})?zP="mp4":x_.every(function(eme){return regexs.webm.test(eme)})?zP="webm":x_.every(function(eme){return regexs.ogg.test(eme)})&&(zP="ogg"),$P+"/"+zP+';codecs="'+Ff+'"'}},browserSupportsCodec=function kh(Ff){return Ff===void 0&&(Ff=""),window$1$1.MediaSource&&window$1$1.MediaSource.isTypeSupported&&window$1$1.MediaSource.isTypeSupported(getMimeForCodec(Ff))||!1},muxerSupportsCodec=function kh(Ff){return Ff===void 0&&(Ff=""),Ff.toLowerCase().split(",").every(function(x_){x_=x_.trim();for(var $P=0;$P<upperMediaTypes.length;$P++){var zP=upperMediaTypes[$P];if(regexs["muxer"+zP].test(x_))return!0}return!1})},DEFAULT_AUDIO_CODEC="mp4a.40.2",DEFAULT_VIDEO_CODEC="avc1.4d400d",MPEGURL_REGEX=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,DASH_REGEX=/^application\/dash\+xml/i,simpleTypeFromSourceType=function kh(Ff){return MPEGURL_REGEX.test(Ff)?"hls":DASH_REGEX.test(Ff)?"dash":Ff==="application/vnd.videojs.vhs+json"?"vhs-json":null},countBits=function kh(Ff){return Ff.toString(2).length},countBytes=function kh(Ff){return Math.ceil(countBits(Ff)/8)},isArrayBufferView=function kh(Ff){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(Ff):Ff&&Ff.buffer instanceof ArrayBuffer},isTypedArray=function kh(Ff){return isArrayBufferView(Ff)},toUint8=function kh(Ff){return Ff instanceof Uint8Array?Ff:(!Array.isArray(Ff)&&!isTypedArray(Ff)&&!(Ff instanceof ArrayBuffer)&&(typeof Ff!="number"||typeof Ff=="number"&&Ff!==Ff?Ff=0:Ff=[Ff]),new Uint8Array(Ff&&Ff.buffer||Ff,Ff&&Ff.byteOffset||0,Ff&&Ff.byteLength||0))},BigInt=window$1$1.BigInt||Number,BYTE_TABLE=[BigInt("0x1"),BigInt("0x100"),BigInt("0x10000"),BigInt("0x1000000"),BigInt("0x100000000"),BigInt("0x10000000000"),BigInt("0x1000000000000"),BigInt("0x100000000000000"),BigInt("0x10000000000000000")];(function(){var kh=new Uint16Array([65484]),Ff=new Uint8Array(kh.buffer,kh.byteOffset,kh.byteLength);return Ff[0]===255?"big":Ff[0]===204?"little":"unknown"})();var bytesToNumber=function kh(Ff,x_){var $P=x_===void 0?{}:x_,zP=$P.signed,eme=zP===void 0?!1:zP,tme=$P.le,nme=tme===void 0?!1:tme;Ff=toUint8(Ff);var rme=nme?"reduce":"reduceRight",ime=Ff[rme]?Ff[rme]:Array.prototype[rme],ome=ime.call(Ff,function(ame,lme,ume){var dme=nme?ume:Math.abs(ume+1-Ff.length);return ame+BigInt(lme)*BYTE_TABLE[dme]},BigInt(0));if(eme){var sme=BYTE_TABLE[Ff.length]/BigInt(2)-BigInt(1);ome=BigInt(ome),ome>sme&&(ome-=sme,ome-=sme,ome-=BigInt(2))}return Number(ome)},numberToBytes=function kh(Ff,x_){var $P=x_===void 0?{}:x_,zP=$P.le,eme=zP===void 0?!1:zP;(typeof Ff!="bigint"&&typeof Ff!="number"||typeof Ff=="number"&&Ff!==Ff)&&(Ff=0),Ff=BigInt(Ff);for(var tme=countBytes(Ff),nme=new Uint8Array(new ArrayBuffer(tme)),rme=0;rme<tme;rme++){var ime=eme?rme:Math.abs(rme+1-nme.length);nme[ime]=Number(Ff/BYTE_TABLE[rme]&BigInt(255)),Ff<0&&(nme[ime]=Math.abs(~nme[ime]),nme[ime]-=rme===0?1:2)}return nme},stringToBytes=function kh(Ff,x_){if(typeof Ff!="string"&&Ff&&typeof Ff.toString=="function"&&(Ff=Ff.toString()),typeof Ff!="string")return new Uint8Array;x_||(Ff=unescape(encodeURIComponent(Ff)));for(var $P=new Uint8Array(Ff.length),zP=0;zP<Ff.length;zP++)$P[zP]=Ff.charCodeAt(zP);return $P},concatTypedArrays=function kh(){for(var Ff=arguments.length,x_=new Array(Ff),$P=0;$P<Ff;$P++)x_[$P]=arguments[$P];if(x_=x_.filter(function(nme){return nme&&(nme.byteLength||nme.length)&&typeof nme!="string"}),x_.length<=1)return toUint8(x_[0]);var zP=x_.reduce(function(nme,rme,ime){return nme+(rme.byteLength||rme.length)},0),eme=new Uint8Array(zP),tme=0;return x_.forEach(function(nme){nme=toUint8(nme),eme.set(nme,tme),tme+=nme.byteLength}),eme},bytesMatch=function kh(Ff,x_,$P){var zP=$P===void 0?{}:$P,eme=zP.offset,tme=eme===void 0?0:eme,nme=zP.mask,rme=nme===void 0?[]:nme;Ff=toUint8(Ff),x_=toUint8(x_);var ime=x_.every?x_.every:Array.prototype.every;return x_.length&&Ff.length-tme>=x_.length&&ime.call(x_,function(ome,sme){var ame=rme[sme]?rme[sme]&Ff[tme+sme]:Ff[tme+sme];return ome===ame})},DEFAULT_LOCATION="http://example.com",resolveUrl$1=function kh(Ff,x_){if(/^[a-z]+:/i.test(x_))return x_;/^data:/.test(Ff)&&(Ff=window$1$1.location&&window$1$1.location.href||"");var $P=typeof window$1$1.URL=="function",zP=/^\/\//.test(Ff),eme=!window$1$1.location&&!/\/\//i.test(Ff);if($P?Ff=new window$1$1.URL(Ff,window$1$1.location||DEFAULT_LOCATION):/\/\//i.test(Ff)||(Ff=URLToolkit.buildAbsoluteURL(window$1$1.location&&window$1$1.location.href||"",Ff)),$P){var tme=new URL(x_,Ff);return eme?tme.href.slice(DEFAULT_LOCATION.length):zP?tme.href.slice(tme.protocol.length):tme.href}return URLToolkit.buildAbsoluteURL(Ff,x_)},forEachMediaGroup$1=function kh(Ff,x_,$P){x_.forEach(function(zP){for(var eme in Ff.mediaGroups[zP])for(var tme in Ff.mediaGroups[zP][eme]){var nme=Ff.mediaGroups[zP][eme][tme];$P(nme,zP,eme,tme)}})},dom$1={},conventions$2={};function find$1(kh,Ff,x_){if(x_===void 0&&(x_=Array.prototype),kh&&typeof x_.find=="function")return x_.find.call(kh,Ff);for(var $P=0;$P<kh.length;$P++)if(Object.prototype.hasOwnProperty.call(kh,$P)){var zP=kh[$P];if(Ff.call(void 0,zP,$P,kh))return zP}}function freeze(kh,Ff){return Ff===void 0&&(Ff=Object),Ff&&typeof Ff.freeze=="function"?Ff.freeze(kh):kh}function assign(kh,Ff){if(kh===null||typeof kh!="object")throw new TypeError("target is not an object");for(var x_ in Ff)Object.prototype.hasOwnProperty.call(Ff,x_)&&(kh[x_]=Ff[x_]);return kh}var MIME_TYPE=freeze({HTML:"text/html",isHTML:function(kh){return kh===MIME_TYPE.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),NAMESPACE$3=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(kh){return kh===NAMESPACE$3.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});conventions$2.assign=assign;conventions$2.find=find$1;conventions$2.freeze=freeze;conventions$2.MIME_TYPE=MIME_TYPE;conventions$2.NAMESPACE=NAMESPACE$3;var conventions$1=conventions$2,find=conventions$1.find,NAMESPACE$2=conventions$1.NAMESPACE;function notEmptyString(kh){return kh!==""}function splitOnASCIIWhitespace(kh){return kh?kh.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}function orderedSetReducer(kh,Ff){return kh.hasOwnProperty(Ff)||(kh[Ff]=!0),kh}function toOrderedSet(kh){if(!kh)return[];var Ff=splitOnASCIIWhitespace(kh);return Object.keys(Ff.reduce(orderedSetReducer,{}))}function arrayIncludes(kh){return function(Ff){return kh&&kh.indexOf(Ff)!==-1}}function copy(kh,Ff){for(var x_ in kh)Object.prototype.hasOwnProperty.call(kh,x_)&&(Ff[x_]=kh[x_])}function _extends(kh,Ff){var x_=kh.prototype;if(!(x_ instanceof Ff)){let $P=function(){};$P.prototype=Ff.prototype,$P=new $P,copy(x_,$P),kh.prototype=x_=$P}x_.constructor!=kh&&(typeof kh!="function"&&console.error("unknown Class:"+kh),x_.constructor=kh)}var NodeType={},ELEMENT_NODE=NodeType.ELEMENT_NODE=1,ATTRIBUTE_NODE=NodeType.ATTRIBUTE_NODE=2,TEXT_NODE=NodeType.TEXT_NODE=3,CDATA_SECTION_NODE=NodeType.CDATA_SECTION_NODE=4,ENTITY_REFERENCE_NODE=NodeType.ENTITY_REFERENCE_NODE=5,ENTITY_NODE=NodeType.ENTITY_NODE=6,PROCESSING_INSTRUCTION_NODE=NodeType.PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=NodeType.COMMENT_NODE=8,DOCUMENT_NODE=NodeType.DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=NodeType.DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=NodeType.DOCUMENT_FRAGMENT_NODE=11,NOTATION_NODE=NodeType.NOTATION_NODE=12,ExceptionCode={},ExceptionMessage={};ExceptionCode.INDEX_SIZE_ERR=(ExceptionMessage[1]="Index size error",1);ExceptionCode.DOMSTRING_SIZE_ERR=(ExceptionMessage[2]="DOMString size error",2);var HIERARCHY_REQUEST_ERR=ExceptionCode.HIERARCHY_REQUEST_ERR=(ExceptionMessage[3]="Hierarchy request error",3);ExceptionCode.WRONG_DOCUMENT_ERR=(ExceptionMessage[4]="Wrong document",4);ExceptionCode.INVALID_CHARACTER_ERR=(ExceptionMessage[5]="Invalid character",5);ExceptionCode.NO_DATA_ALLOWED_ERR=(ExceptionMessage[6]="No data allowed",6);ExceptionCode.NO_MODIFICATION_ALLOWED_ERR=(ExceptionMessage[7]="No modification allowed",7);var NOT_FOUND_ERR=ExceptionCode.NOT_FOUND_ERR=(ExceptionMessage[8]="Not found",8);ExceptionCode.NOT_SUPPORTED_ERR=(ExceptionMessage[9]="Not supported",9);var INUSE_ATTRIBUTE_ERR=ExceptionCode.INUSE_ATTRIBUTE_ERR=(ExceptionMessage[10]="Attribute in use",10);ExceptionCode.INVALID_STATE_ERR=(ExceptionMessage[11]="Invalid state",11);ExceptionCode.SYNTAX_ERR=(ExceptionMessage[12]="Syntax error",12);ExceptionCode.INVALID_MODIFICATION_ERR=(ExceptionMessage[13]="Invalid modification",13);ExceptionCode.NAMESPACE_ERR=(ExceptionMessage[14]="Invalid namespace",14);ExceptionCode.INVALID_ACCESS_ERR=(ExceptionMessage[15]="Invalid access",15);function DOMException(kh,Ff){if(Ff instanceof Error)var x_=Ff;else x_=this,Error.call(this,ExceptionMessage[kh]),this.message=ExceptionMessage[kh],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return x_.code=kh,Ff&&(this.message=this.message+": "+Ff),x_}DOMException.prototype=Error.prototype;copy(ExceptionCode,DOMException);function NodeList(){}NodeList.prototype={length:0,item:function(kh){return kh>=0&&kh<this.length?this[kh]:null},toString:function(kh,Ff){for(var x_=[],$P=0;$P<this.length;$P++)serializeToString(this[$P],x_,kh,Ff);return x_.join("")},filter:function(kh){return Array.prototype.filter.call(this,kh)},indexOf:function(kh){return Array.prototype.indexOf.call(this,kh)}};function LiveNodeList(kh,Ff){this._node=kh,this._refresh=Ff,_updateLiveList(this)}function _updateLiveList(kh){var Ff=kh._node._inc||kh._node.ownerDocument._inc;if(kh._inc!==Ff){var x_=kh._refresh(kh._node);if(__set__(kh,"length",x_.length),!kh.$$length||x_.length<kh.$$length)for(var $P=x_.length;$P in kh;$P++)Object.prototype.hasOwnProperty.call(kh,$P)&&delete kh[$P];copy(x_,kh),kh._inc=Ff}}LiveNodeList.prototype.item=function(kh){return _updateLiveList(this),this[kh]||null};_extends(LiveNodeList,NodeList);function NamedNodeMap(){}function _findNodeIndex(kh,Ff){for(var x_=kh.length;x_--;)if(kh[x_]===Ff)return x_}function _addNamedNode(kh,Ff,x_,$P){if($P?Ff[_findNodeIndex(Ff,$P)]=x_:Ff[Ff.length++]=x_,kh){x_.ownerElement=kh;var zP=kh.ownerDocument;zP&&($P&&_onRemoveAttribute(zP,kh,$P),_onAddAttribute(zP,kh,x_))}}function _removeNamedNode(kh,Ff,x_){var $P=_findNodeIndex(Ff,x_);if($P>=0){for(var zP=Ff.length-1;$P<zP;)Ff[$P]=Ff[++$P];if(Ff.length=zP,kh){var eme=kh.ownerDocument;eme&&(_onRemoveAttribute(eme,kh,x_),x_.ownerElement=null)}}else throw new DOMException(NOT_FOUND_ERR,new Error(kh.tagName+"@"+x_))}NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(kh){for(var Ff=this.length;Ff--;){var x_=this[Ff];if(x_.nodeName==kh)return x_}},setNamedItem:function(kh){var Ff=kh.ownerElement;if(Ff&&Ff!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);var x_=this.getNamedItem(kh.nodeName);return _addNamedNode(this._ownerElement,this,kh,x_),x_},setNamedItemNS:function(kh){var Ff=kh.ownerElement,x_;if(Ff&&Ff!=this._ownerElement)throw new DOMException(INUSE_ATTRIBUTE_ERR);return x_=this.getNamedItemNS(kh.namespaceURI,kh.localName),_addNamedNode(this._ownerElement,this,kh,x_),x_},removeNamedItem:function(kh){var Ff=this.getNamedItem(kh);return _removeNamedNode(this._ownerElement,this,Ff),Ff},removeNamedItemNS:function(kh,Ff){var x_=this.getNamedItemNS(kh,Ff);return _removeNamedNode(this._ownerElement,this,x_),x_},getNamedItemNS:function(kh,Ff){for(var x_=this.length;x_--;){var $P=this[x_];if($P.localName==Ff&&$P.namespaceURI==kh)return $P}return null}};function DOMImplementation$1(){}DOMImplementation$1.prototype={hasFeature:function(kh,Ff){return!0},createDocument:function(kh,Ff,x_){var $P=new Document$1;if($P.implementation=this,$P.childNodes=new NodeList,$P.doctype=x_||null,x_&&$P.appendChild(x_),Ff){var zP=$P.createElementNS(kh,Ff);$P.appendChild(zP)}return $P},createDocumentType:function(kh,Ff,x_){var $P=new DocumentType;return $P.name=kh,$P.nodeName=kh,$P.publicId=Ff||"",$P.systemId=x_||"",$P}};function Node$1(){}Node$1.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(kh,Ff){return _insertBefore(this,kh,Ff)},replaceChild:function(kh,Ff){_insertBefore(this,kh,Ff,assertPreReplacementValidityInDocument),Ff&&this.removeChild(Ff)},removeChild:function(kh){return _removeChild(this,kh)},appendChild:function(kh){return this.insertBefore(kh,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(kh){return cloneNode(this.ownerDocument||this,this,kh)},normalize:function(){for(var kh=this.firstChild;kh;){var Ff=kh.nextSibling;Ff&&Ff.nodeType==TEXT_NODE&&kh.nodeType==TEXT_NODE?(this.removeChild(Ff),kh.appendData(Ff.data)):(kh.normalize(),kh=Ff)}},isSupported:function(kh,Ff){return this.ownerDocument.implementation.hasFeature(kh,Ff)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(kh){for(var Ff=this;Ff;){var x_=Ff._nsMap;if(x_){for(var $P in x_)if(Object.prototype.hasOwnProperty.call(x_,$P)&&x_[$P]===kh)return $P}Ff=Ff.nodeType==ATTRIBUTE_NODE?Ff.ownerDocument:Ff.parentNode}return null},lookupNamespaceURI:function(kh){for(var Ff=this;Ff;){var x_=Ff._nsMap;if(x_&&Object.prototype.hasOwnProperty.call(x_,kh))return x_[kh];Ff=Ff.nodeType==ATTRIBUTE_NODE?Ff.ownerDocument:Ff.parentNode}return null},isDefaultNamespace:function(kh){var Ff=this.lookupPrefix(kh);return Ff==null}};function _xmlEncoder(kh){return kh=="<"&&"&lt;"||kh==">"&&"&gt;"||kh=="&"&&"&amp;"||kh=='"'&&"&quot;"||"&#"+kh.charCodeAt()+";"}copy(NodeType,Node$1);copy(NodeType,Node$1.prototype);function _visitNode(kh,Ff){if(Ff(kh))return!0;if(kh=kh.firstChild)do if(_visitNode(kh,Ff))return!0;while(kh=kh.nextSibling)}function Document$1(){this.ownerDocument=this}function _onAddAttribute(kh,Ff,x_){kh&&kh._inc++;var $P=x_.namespaceURI;$P===NAMESPACE$2.XMLNS&&(Ff._nsMap[x_.prefix?x_.localName:""]=x_.value)}function _onRemoveAttribute(kh,Ff,x_,$P){kh&&kh._inc++;var zP=x_.namespaceURI;zP===NAMESPACE$2.XMLNS&&delete Ff._nsMap[x_.prefix?x_.localName:""]}function _onUpdateChild(kh,Ff,x_){if(kh&&kh._inc){kh._inc++;var $P=Ff.childNodes;if(x_)$P[$P.length++]=x_;else{for(var zP=Ff.firstChild,eme=0;zP;)$P[eme++]=zP,zP=zP.nextSibling;$P.length=eme,delete $P[$P.length]}}}function _removeChild(kh,Ff){var x_=Ff.previousSibling,$P=Ff.nextSibling;return x_?x_.nextSibling=$P:kh.firstChild=$P,$P?$P.previousSibling=x_:kh.lastChild=x_,Ff.parentNode=null,Ff.previousSibling=null,Ff.nextSibling=null,_onUpdateChild(kh.ownerDocument,kh),Ff}function hasValidParentNodeType(kh){return kh&&(kh.nodeType===Node$1.DOCUMENT_NODE||kh.nodeType===Node$1.DOCUMENT_FRAGMENT_NODE||kh.nodeType===Node$1.ELEMENT_NODE)}function hasInsertableNodeType(kh){return kh&&(isElementNode(kh)||isTextNode$1(kh)||isDocTypeNode(kh)||kh.nodeType===Node$1.DOCUMENT_FRAGMENT_NODE||kh.nodeType===Node$1.COMMENT_NODE||kh.nodeType===Node$1.PROCESSING_INSTRUCTION_NODE)}function isDocTypeNode(kh){return kh&&kh.nodeType===Node$1.DOCUMENT_TYPE_NODE}function isElementNode(kh){return kh&&kh.nodeType===Node$1.ELEMENT_NODE}function isTextNode$1(kh){return kh&&kh.nodeType===Node$1.TEXT_NODE}function isElementInsertionPossible(kh,Ff){var x_=kh.childNodes||[];if(find(x_,isElementNode)||isDocTypeNode(Ff))return!1;var $P=find(x_,isDocTypeNode);return!(Ff&&$P&&x_.indexOf($P)>x_.indexOf(Ff))}function isElementReplacementPossible(kh,Ff){var x_=kh.childNodes||[];function $P(eme){return isElementNode(eme)&&eme!==Ff}if(find(x_,$P))return!1;var zP=find(x_,isDocTypeNode);return!(Ff&&zP&&x_.indexOf(zP)>x_.indexOf(Ff))}function assertPreInsertionValidity1to5(kh,Ff,x_){if(!hasValidParentNodeType(kh))throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+kh.nodeType);if(x_&&x_.parentNode!==kh)throw new DOMException(NOT_FOUND_ERR,"child not in parent");if(!hasInsertableNodeType(Ff)||isDocTypeNode(Ff)&&kh.nodeType!==Node$1.DOCUMENT_NODE)throw new DOMException(HIERARCHY_REQUEST_ERR,"Unexpected node type "+Ff.nodeType+" for parent node type "+kh.nodeType)}function assertPreInsertionValidityInDocument(kh,Ff,x_){var $P=kh.childNodes||[],zP=Ff.childNodes||[];if(Ff.nodeType===Node$1.DOCUMENT_FRAGMENT_NODE){var eme=zP.filter(isElementNode);if(eme.length>1||find(zP,isTextNode$1))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(eme.length===1&&!isElementInsertionPossible(kh,x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(Ff)&&!isElementInsertionPossible(kh,x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(Ff)){if(find($P,isDocTypeNode))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var tme=find($P,isElementNode);if(x_&&$P.indexOf(tme)<$P.indexOf(x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!x_&&tme)throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function assertPreReplacementValidityInDocument(kh,Ff,x_){var $P=kh.childNodes||[],zP=Ff.childNodes||[];if(Ff.nodeType===Node$1.DOCUMENT_FRAGMENT_NODE){var eme=zP.filter(isElementNode);if(eme.length>1||find(zP,isTextNode$1))throw new DOMException(HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(eme.length===1&&!isElementReplacementPossible(kh,x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(isElementNode(Ff)&&!isElementReplacementPossible(kh,x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(isDocTypeNode(Ff)){if(find($P,function(rme){return isDocTypeNode(rme)&&rme!==x_}))throw new DOMException(HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var tme=find($P,isElementNode);if(x_&&$P.indexOf(tme)<$P.indexOf(x_))throw new DOMException(HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function _insertBefore(kh,Ff,x_,$P){assertPreInsertionValidity1to5(kh,Ff,x_),kh.nodeType===Node$1.DOCUMENT_NODE&&($P||assertPreInsertionValidityInDocument)(kh,Ff,x_);var zP=Ff.parentNode;if(zP&&zP.removeChild(Ff),Ff.nodeType===DOCUMENT_FRAGMENT_NODE){var eme=Ff.firstChild;if(eme==null)return Ff;var tme=Ff.lastChild}else eme=tme=Ff;var nme=x_?x_.previousSibling:kh.lastChild;eme.previousSibling=nme,tme.nextSibling=x_,nme?nme.nextSibling=eme:kh.firstChild=eme,x_==null?kh.lastChild=tme:x_.previousSibling=tme;do eme.parentNode=kh;while(eme!==tme&&(eme=eme.nextSibling));return _onUpdateChild(kh.ownerDocument||kh,kh),Ff.nodeType==DOCUMENT_FRAGMENT_NODE&&(Ff.firstChild=Ff.lastChild=null),Ff}function _appendSingleChild(kh,Ff){return Ff.parentNode&&Ff.parentNode.removeChild(Ff),Ff.parentNode=kh,Ff.previousSibling=kh.lastChild,Ff.nextSibling=null,Ff.previousSibling?Ff.previousSibling.nextSibling=Ff:kh.firstChild=Ff,kh.lastChild=Ff,_onUpdateChild(kh.ownerDocument,kh,Ff),Ff}Document$1.prototype={nodeName:"#document",nodeType:DOCUMENT_NODE,doctype:null,documentElement:null,_inc:1,insertBefore:function(kh,Ff){if(kh.nodeType==DOCUMENT_FRAGMENT_NODE){for(var x_=kh.firstChild;x_;){var $P=x_.nextSibling;this.insertBefore(x_,Ff),x_=$P}return kh}return _insertBefore(this,kh,Ff),kh.ownerDocument=this,this.documentElement===null&&kh.nodeType===ELEMENT_NODE&&(this.documentElement=kh),kh},removeChild:function(kh){return this.documentElement==kh&&(this.documentElement=null),_removeChild(this,kh)},replaceChild:function(kh,Ff){_insertBefore(this,kh,Ff,assertPreReplacementValidityInDocument),kh.ownerDocument=this,Ff&&this.removeChild(Ff),isElementNode(kh)&&(this.documentElement=kh)},importNode:function(kh,Ff){return importNode(this,kh,Ff)},getElementById:function(kh){var Ff=null;return _visitNode(this.documentElement,function(x_){if(x_.nodeType==ELEMENT_NODE&&x_.getAttribute("id")==kh)return Ff=x_,!0}),Ff},getElementsByClassName:function(kh){var Ff=toOrderedSet(kh);return new LiveNodeList(this,function(x_){var $P=[];return Ff.length>0&&_visitNode(x_.documentElement,function(zP){if(zP!==x_&&zP.nodeType===ELEMENT_NODE){var eme=zP.getAttribute("class");if(eme){var tme=kh===eme;if(!tme){var nme=toOrderedSet(eme);tme=Ff.every(arrayIncludes(nme))}tme&&$P.push(zP)}}}),$P})},createElement:function(kh){var Ff=new Element$1;Ff.ownerDocument=this,Ff.nodeName=kh,Ff.tagName=kh,Ff.localName=kh,Ff.childNodes=new NodeList;var x_=Ff.attributes=new NamedNodeMap;return x_._ownerElement=Ff,Ff},createDocumentFragment:function(){var kh=new DocumentFragment;return kh.ownerDocument=this,kh.childNodes=new NodeList,kh},createTextNode:function(kh){var Ff=new Text;return Ff.ownerDocument=this,Ff.appendData(kh),Ff},createComment:function(kh){var Ff=new Comment;return Ff.ownerDocument=this,Ff.appendData(kh),Ff},createCDATASection:function(kh){var Ff=new CDATASection;return Ff.ownerDocument=this,Ff.appendData(kh),Ff},createProcessingInstruction:function(kh,Ff){var x_=new ProcessingInstruction;return x_.ownerDocument=this,x_.tagName=x_.nodeName=x_.target=kh,x_.nodeValue=x_.data=Ff,x_},createAttribute:function(kh){var Ff=new Attr;return Ff.ownerDocument=this,Ff.name=kh,Ff.nodeName=kh,Ff.localName=kh,Ff.specified=!0,Ff},createEntityReference:function(kh){var Ff=new EntityReference;return Ff.ownerDocument=this,Ff.nodeName=kh,Ff},createElementNS:function(kh,Ff){var x_=new Element$1,$P=Ff.split(":"),zP=x_.attributes=new NamedNodeMap;return x_.childNodes=new NodeList,x_.ownerDocument=this,x_.nodeName=Ff,x_.tagName=Ff,x_.namespaceURI=kh,$P.length==2?(x_.prefix=$P[0],x_.localName=$P[1]):x_.localName=Ff,zP._ownerElement=x_,x_},createAttributeNS:function(kh,Ff){var x_=new Attr,$P=Ff.split(":");return x_.ownerDocument=this,x_.nodeName=Ff,x_.name=Ff,x_.namespaceURI=kh,x_.specified=!0,$P.length==2?(x_.prefix=$P[0],x_.localName=$P[1]):x_.localName=Ff,x_}};_extends(Document$1,Node$1);function Element$1(){this._nsMap={}}Element$1.prototype={nodeType:ELEMENT_NODE,hasAttribute:function(kh){return this.getAttributeNode(kh)!=null},getAttribute:function(kh){var Ff=this.getAttributeNode(kh);return Ff&&Ff.value||""},getAttributeNode:function(kh){return this.attributes.getNamedItem(kh)},setAttribute:function(kh,Ff){var x_=this.ownerDocument.createAttribute(kh);x_.value=x_.nodeValue=""+Ff,this.setAttributeNode(x_)},removeAttribute:function(kh){var Ff=this.getAttributeNode(kh);Ff&&this.removeAttributeNode(Ff)},appendChild:function(kh){return kh.nodeType===DOCUMENT_FRAGMENT_NODE?this.insertBefore(kh,null):_appendSingleChild(this,kh)},setAttributeNode:function(kh){return this.attributes.setNamedItem(kh)},setAttributeNodeNS:function(kh){return this.attributes.setNamedItemNS(kh)},removeAttributeNode:function(kh){return this.attributes.removeNamedItem(kh.nodeName)},removeAttributeNS:function(kh,Ff){var x_=this.getAttributeNodeNS(kh,Ff);x_&&this.removeAttributeNode(x_)},hasAttributeNS:function(kh,Ff){return this.getAttributeNodeNS(kh,Ff)!=null},getAttributeNS:function(kh,Ff){var x_=this.getAttributeNodeNS(kh,Ff);return x_&&x_.value||""},setAttributeNS:function(kh,Ff,x_){var $P=this.ownerDocument.createAttributeNS(kh,Ff);$P.value=$P.nodeValue=""+x_,this.setAttributeNode($P)},getAttributeNodeNS:function(kh,Ff){return this.attributes.getNamedItemNS(kh,Ff)},getElementsByTagName:function(kh){return new LiveNodeList(this,function(Ff){var x_=[];return _visitNode(Ff,function($P){$P!==Ff&&$P.nodeType==ELEMENT_NODE&&(kh==="*"||$P.tagName==kh)&&x_.push($P)}),x_})},getElementsByTagNameNS:function(kh,Ff){return new LiveNodeList(this,function(x_){var $P=[];return _visitNode(x_,function(zP){zP!==x_&&zP.nodeType===ELEMENT_NODE&&(kh==="*"||zP.namespaceURI===kh)&&(Ff==="*"||zP.localName==Ff)&&$P.push(zP)}),$P})}};Document$1.prototype.getElementsByTagName=Element$1.prototype.getElementsByTagName;Document$1.prototype.getElementsByTagNameNS=Element$1.prototype.getElementsByTagNameNS;_extends(Element$1,Node$1);function Attr(){}Attr.prototype.nodeType=ATTRIBUTE_NODE;_extends(Attr,Node$1);function CharacterData(){}CharacterData.prototype={data:"",substringData:function(kh,Ff){return this.data.substring(kh,kh+Ff)},appendData:function(kh){kh=this.data+kh,this.nodeValue=this.data=kh,this.length=kh.length},insertData:function(kh,Ff){this.replaceData(kh,0,Ff)},appendChild:function(kh){throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])},deleteData:function(kh,Ff){this.replaceData(kh,Ff,"")},replaceData:function(kh,Ff,x_){var $P=this.data.substring(0,kh),zP=this.data.substring(kh+Ff);x_=$P+x_+zP,this.nodeValue=this.data=x_,this.length=x_.length}};_extends(CharacterData,Node$1);function Text(){}Text.prototype={nodeName:"#text",nodeType:TEXT_NODE,splitText:function(kh){var Ff=this.data,x_=Ff.substring(kh);Ff=Ff.substring(0,kh),this.data=this.nodeValue=Ff,this.length=Ff.length;var $P=this.ownerDocument.createTextNode(x_);return this.parentNode&&this.parentNode.insertBefore($P,this.nextSibling),$P}};_extends(Text,CharacterData);function Comment(){}Comment.prototype={nodeName:"#comment",nodeType:COMMENT_NODE};_extends(Comment,CharacterData);function CDATASection(){}CDATASection.prototype={nodeName:"#cdata-section",nodeType:CDATA_SECTION_NODE};_extends(CDATASection,CharacterData);function DocumentType(){}DocumentType.prototype.nodeType=DOCUMENT_TYPE_NODE;_extends(DocumentType,Node$1);function Notation(){}Notation.prototype.nodeType=NOTATION_NODE;_extends(Notation,Node$1);function Entity(){}Entity.prototype.nodeType=ENTITY_NODE;_extends(Entity,Node$1);function EntityReference(){}EntityReference.prototype.nodeType=ENTITY_REFERENCE_NODE;_extends(EntityReference,Node$1);function DocumentFragment(){}DocumentFragment.prototype.nodeName="#document-fragment";DocumentFragment.prototype.nodeType=DOCUMENT_FRAGMENT_NODE;_extends(DocumentFragment,Node$1);function ProcessingInstruction(){}ProcessingInstruction.prototype.nodeType=PROCESSING_INSTRUCTION_NODE;_extends(ProcessingInstruction,Node$1);function XMLSerializer(){}XMLSerializer.prototype.serializeToString=function(kh,Ff,x_){return nodeSerializeToString.call(kh,Ff,x_)};Node$1.prototype.toString=nodeSerializeToString;function nodeSerializeToString(kh,Ff){var x_=[],$P=this.nodeType==9&&this.documentElement||this,zP=$P.prefix,eme=$P.namespaceURI;if(eme&&zP==null){var zP=$P.lookupPrefix(eme);if(zP==null)var tme=[{namespace:eme,prefix:null}]}return serializeToString(this,x_,kh,Ff,tme),x_.join("")}function needNamespaceDefine(kh,Ff,x_){var $P=kh.prefix||"",zP=kh.namespaceURI;if(!zP||$P==="xml"&&zP===NAMESPACE$2.XML||zP===NAMESPACE$2.XMLNS)return!1;for(var eme=x_.length;eme--;){var tme=x_[eme];if(tme.prefix===$P)return tme.namespace!==zP}return!0}function addSerializedAttribute(kh,Ff,x_){kh.push(" ",Ff,'="',x_.replace(/[<>&"\t\n\r]/g,_xmlEncoder),'"')}function serializeToString(kh,Ff,x_,$P,zP){if(zP||(zP=[]),$P)if(kh=$P(kh),kh){if(typeof kh=="string"){Ff.push(kh);return}}else return;switch(kh.nodeType){case ELEMENT_NODE:var eme=kh.attributes,tme=eme.length,hme=kh.firstChild,nme=kh.tagName;x_=NAMESPACE$2.isHTML(kh.namespaceURI)||x_;var rme=nme;if(!x_&&!kh.prefix&&kh.namespaceURI){for(var ime,ome=0;ome<eme.length;ome++)if(eme.item(ome).name==="xmlns"){ime=eme.item(ome).value;break}if(!ime)for(var sme=zP.length-1;sme>=0;sme--){var ame=zP[sme];if(ame.prefix===""&&ame.namespace===kh.namespaceURI){ime=ame.namespace;break}}if(ime!==kh.namespaceURI)for(var sme=zP.length-1;sme>=0;sme--){var ame=zP[sme];if(ame.namespace===kh.namespaceURI){ame.prefix&&(rme=ame.prefix+":"+nme);break}}}Ff.push("<",rme);for(var lme=0;lme<tme;lme++){var ume=eme.item(lme);ume.prefix=="xmlns"?zP.push({prefix:ume.localName,namespace:ume.value}):ume.nodeName=="xmlns"&&zP.push({prefix:"",namespace:ume.value})}for(var lme=0;lme<tme;lme++){var ume=eme.item(lme);if(needNamespaceDefine(ume,x_,zP)){var dme=ume.prefix||"",pme=ume.namespaceURI;addSerializedAttribute(Ff,dme?"xmlns:"+dme:"xmlns",pme),zP.push({prefix:dme,namespace:pme})}serializeToString(ume,Ff,x_,$P,zP)}if(nme===rme&&needNamespaceDefine(kh,x_,zP)){var dme=kh.prefix||"",pme=kh.namespaceURI;addSerializedAttribute(Ff,dme?"xmlns:"+dme:"xmlns",pme),zP.push({prefix:dme,namespace:pme})}if(hme||x_&&!/^(?:meta|link|img|br|hr|input)$/i.test(nme)){if(Ff.push(">"),x_&&/^script$/i.test(nme))for(;hme;)hme.data?Ff.push(hme.data):serializeToString(hme,Ff,x_,$P,zP.slice()),hme=hme.nextSibling;else for(;hme;)serializeToString(hme,Ff,x_,$P,zP.slice()),hme=hme.nextSibling;Ff.push("</",rme,">")}else Ff.push("/>");return;case DOCUMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(var hme=kh.firstChild;hme;)serializeToString(hme,Ff,x_,$P,zP.slice()),hme=hme.nextSibling;return;case ATTRIBUTE_NODE:return addSerializedAttribute(Ff,kh.name,kh.value);case TEXT_NODE:return Ff.push(kh.data.replace(/[<&>]/g,_xmlEncoder));case CDATA_SECTION_NODE:return Ff.push("<![CDATA[",kh.data,"]]>");case COMMENT_NODE:return Ff.push("<!--",kh.data,"-->");case DOCUMENT_TYPE_NODE:var cme=kh.publicId,_me=kh.systemId;if(Ff.push("<!DOCTYPE ",kh.name),cme)Ff.push(" PUBLIC ",cme),_me&&_me!="."&&Ff.push(" ",_me),Ff.push(">");else if(_me&&_me!=".")Ff.push(" SYSTEM ",_me,">");else{var vme=kh.internalSubset;vme&&Ff.push(" [",vme,"]"),Ff.push(">")}return;case PROCESSING_INSTRUCTION_NODE:return Ff.push("<?",kh.target," ",kh.data,"?>");case ENTITY_REFERENCE_NODE:return Ff.push("&",kh.nodeName,";");default:Ff.push("??",kh.nodeName)}}function importNode(kh,Ff,x_){var $P;switch(Ff.nodeType){case ELEMENT_NODE:$P=Ff.cloneNode(!1),$P.ownerDocument=kh;case DOCUMENT_FRAGMENT_NODE:break;case ATTRIBUTE_NODE:x_=!0;break}if($P||($P=Ff.cloneNode(!1)),$P.ownerDocument=kh,$P.parentNode=null,x_)for(var zP=Ff.firstChild;zP;)$P.appendChild(importNode(kh,zP,x_)),zP=zP.nextSibling;return $P}function cloneNode(kh,Ff,x_){var $P=new Ff.constructor;for(var zP in Ff)if(Object.prototype.hasOwnProperty.call(Ff,zP)){var eme=Ff[zP];typeof eme!="object"&&eme!=$P[zP]&&($P[zP]=eme)}switch(Ff.childNodes&&($P.childNodes=new NodeList),$P.ownerDocument=kh,$P.nodeType){case ELEMENT_NODE:var tme=Ff.attributes,nme=$P.attributes=new NamedNodeMap,rme=tme.length;nme._ownerElement=$P;for(var ime=0;ime<rme;ime++)$P.setAttributeNode(cloneNode(kh,tme.item(ime),!0));break;case ATTRIBUTE_NODE:x_=!0}if(x_)for(var ome=Ff.firstChild;ome;)$P.appendChild(cloneNode(kh,ome,x_)),ome=ome.nextSibling;return $P}function __set__(kh,Ff,x_){kh[Ff]=x_}try{if(Object.defineProperty){let kh=function(Ff){switch(Ff.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:var x_=[];for(Ff=Ff.firstChild;Ff;)Ff.nodeType!==7&&Ff.nodeType!==8&&x_.push(kh(Ff)),Ff=Ff.nextSibling;return x_.join("");default:return Ff.nodeValue}};Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node$1.prototype,"textContent",{get:function(){return kh(this)},set:function(Ff){switch(this.nodeType){case ELEMENT_NODE:case DOCUMENT_FRAGMENT_NODE:for(;this.firstChild;)this.removeChild(this.firstChild);(Ff||String(Ff))&&this.appendChild(this.ownerDocument.createTextNode(Ff));break;default:this.data=Ff,this.value=Ff,this.nodeValue=Ff}}}),__set__=function(Ff,x_,$P){Ff["$$"+x_]=$P}}}catch(kh){}dom$1.DocumentType=DocumentType;dom$1.DOMException=DOMException;dom$1.DOMImplementation=DOMImplementation$1;dom$1.Element=Element$1;dom$1.Node=Node$1;dom$1.NodeList=NodeList;dom$1.XMLSerializer=XMLSerializer;var domParser={},entities$1={};(function(kh){var Ff=conventions$2.freeze;kh.XML_ENTITIES=Ff({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),kh.HTML_ENTITIES=Ff({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),kh.entityMap=kh.HTML_ENTITIES})(entities$1);var sax$1={},NAMESPACE$1=conventions$2.NAMESPACE,nameStartChar=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,nameChar=new RegExp("[\\-\\.0-9"+nameStartChar.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),tagNamePattern=new RegExp("^"+nameStartChar.source+nameChar.source+"*(?::"+nameStartChar.source+nameChar.source+"*)?$"),S_TAG=0,S_ATTR=1,S_ATTR_SPACE=2,S_EQ=3,S_ATTR_NOQUOT_VALUE=4,S_ATTR_END=5,S_TAG_SPACE=6,S_TAG_CLOSE=7;function ParseError$1(kh,Ff){this.message=kh,this.locator=Ff,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError$1)}ParseError$1.prototype=new Error;ParseError$1.prototype.name=ParseError$1.name;function XMLReader$1(){}XMLReader$1.prototype={parse:function(kh,Ff,x_){var $P=this.domBuilder;$P.startDocument(),_copy(Ff,Ff={}),parse$1(kh,Ff,x_,$P,this.errorHandler),$P.endDocument()}};function parse$1(kh,Ff,x_,$P,zP){function eme(Wme){if(Wme>65535){Wme-=65536;var Jme=55296+(Wme>>10),r_e=56320+(Wme&1023);return String.fromCharCode(Jme,r_e)}else return String.fromCharCode(Wme)}function tme(Wme){var Jme=Wme.slice(1,-1);return Object.hasOwnProperty.call(x_,Jme)?x_[Jme]:Jme.charAt(0)==="#"?eme(parseInt(Jme.substr(1).replace("x","0x"))):(zP.error("entity not found:"+Wme),Wme)}function nme(Wme){if(Wme>dme){var Jme=kh.substring(dme,Wme).replace(/&#?\w+;/g,tme);ame&&rme(dme),$P.characters(Jme,0,Wme-dme),dme=Wme}}function rme(Wme,Jme){for(;Wme>=ome&&(Jme=sme.exec(kh));)ime=Jme.index,ome=ime+Jme[0].length,ame.lineNumber++;ame.columnNumber=Wme-ime+1}for(var ime=0,ome=0,sme=/.*(?:\r\n?|\n)|.*$/g,ame=$P.locator,lme=[{currentNSMap:Ff}],ume={},dme=0;;){try{var pme=kh.indexOf("<",dme);if(pme<0){if(!kh.substr(dme).match(/^\s*$/)){var hme=$P.doc,cme=hme.createTextNode(kh.substr(dme));hme.appendChild(cme),$P.currentElement=cme}return}switch(pme>dme&&nme(pme),kh.charAt(pme+1)){case"/":var Ume=kh.indexOf(">",pme+3),_me=kh.substring(pme+2,Ume).replace(/[ \t\n\r]+$/g,""),vme=lme.pop();Ume<0?(_me=kh.substring(pme+2).replace(/[\s<].*/,""),zP.error("end tag name: "+_me+" is not complete:"+vme.tagName),Ume=pme+1+_me.length):_me.match(/\s</)&&(_me=_me.replace(/[\s<].*/,""),zP.error("end tag name: "+_me+" maybe not complete"),Ume=pme+1+_me.length);var Eme=vme.localNSMap,wme=vme.tagName==_me,Tme=wme||vme.tagName&&vme.tagName.toLowerCase()==_me.toLowerCase();if(Tme){if($P.endElement(vme.uri,vme.localName,_me),Eme)for(var Dme in Eme)Object.prototype.hasOwnProperty.call(Eme,Dme)&&$P.endPrefixMapping(Dme);wme||zP.fatalError("end tag name: "+_me+" is not match the current start tagName:"+vme.tagName)}else lme.push(vme);Ume++;break;case"?":ame&&rme(pme),Ume=parseInstruction(kh,pme,$P);break;case"!":ame&&rme(pme),Ume=parseDCC(kh,pme,$P,zP);break;default:ame&&rme(pme);var Ame=new ElementAttributes,Nme=lme[lme.length-1].currentNSMap,Ume=parseElementStartPart(kh,pme,Ame,Nme,tme,zP),jme=Ame.length;if(!Ame.closed&&fixSelfClosed(kh,Ume,Ame.tagName,ume)&&(Ame.closed=!0,x_.nbsp||zP.warning("unclosed xml attribute")),ame&&jme){for(var Fme=copyLocator(ame,{}),$me=0;$me<jme;$me++){var Gme=Ame[$me];rme(Gme.offset),Gme.locator=copyLocator(ame,{})}$P.locator=Fme,appendElement$1(Ame,$P,Nme)&&lme.push(Ame),$P.locator=ame}else appendElement$1(Ame,$P,Nme)&&lme.push(Ame);NAMESPACE$1.isHTML(Ame.uri)&&!Ame.closed?Ume=parseHtmlSpecialContent(kh,Ume,Ame.tagName,tme,$P):Ume++}}catch(Wme){if(Wme instanceof ParseError$1)throw Wme;zP.error("element parse error: "+Wme),Ume=-1}Ume>dme?dme=Ume:nme(Math.max(pme,dme)+1)}}function copyLocator(kh,Ff){return Ff.lineNumber=kh.lineNumber,Ff.columnNumber=kh.columnNumber,Ff}function parseElementStartPart(kh,Ff,x_,$P,zP,eme){function tme(ame,lme,ume){x_.attributeNames.hasOwnProperty(ame)&&eme.fatalError("Attribute "+ame+" redefined"),x_.addValue(ame,lme.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,zP),ume)}for(var nme,rme,ime=++Ff,ome=S_TAG;;){var sme=kh.charAt(ime);switch(sme){case"=":if(ome===S_ATTR)nme=kh.slice(Ff,ime),ome=S_EQ;else if(ome===S_ATTR_SPACE)ome=S_EQ;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ome===S_EQ||ome===S_ATTR)if(ome===S_ATTR&&(eme.warning('attribute value must after "="'),nme=kh.slice(Ff,ime)),Ff=ime+1,ime=kh.indexOf(sme,Ff),ime>0)rme=kh.slice(Ff,ime),tme(nme,rme,Ff-1),ome=S_ATTR_END;else throw new Error("attribute value no end '"+sme+"' match");else if(ome==S_ATTR_NOQUOT_VALUE)rme=kh.slice(Ff,ime),tme(nme,rme,Ff),eme.warning('attribute "'+nme+'" missed start quot('+sme+")!!"),Ff=ime+1,ome=S_ATTR_END;else throw new Error('attribute value must after "="');break;case"/":switch(ome){case S_TAG:x_.setTagName(kh.slice(Ff,ime));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:ome=S_TAG_CLOSE,x_.closed=!0;case S_ATTR_NOQUOT_VALUE:case S_ATTR:break;case S_ATTR_SPACE:x_.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return eme.error("unexpected end of input"),ome==S_TAG&&x_.setTagName(kh.slice(Ff,ime)),ime;case">":switch(ome){case S_TAG:x_.setTagName(kh.slice(Ff,ime));case S_ATTR_END:case S_TAG_SPACE:case S_TAG_CLOSE:break;case S_ATTR_NOQUOT_VALUE:case S_ATTR:rme=kh.slice(Ff,ime),rme.slice(-1)==="/"&&(x_.closed=!0,rme=rme.slice(0,-1));case S_ATTR_SPACE:ome===S_ATTR_SPACE&&(rme=nme),ome==S_ATTR_NOQUOT_VALUE?(eme.warning('attribute "'+rme+'" missed quot(")!'),tme(nme,rme,Ff)):((!NAMESPACE$1.isHTML($P[""])||!rme.match(/^(?:disabled|checked|selected)$/i))&&eme.warning('attribute "'+rme+'" missed value!! "'+rme+'" instead!!'),tme(rme,rme,Ff));break;case S_EQ:throw new Error("attribute value missed!!")}return ime;case"":sme=" ";default:if(sme<=" ")switch(ome){case S_TAG:x_.setTagName(kh.slice(Ff,ime)),ome=S_TAG_SPACE;break;case S_ATTR:nme=kh.slice(Ff,ime),ome=S_ATTR_SPACE;break;case S_ATTR_NOQUOT_VALUE:var rme=kh.slice(Ff,ime);eme.warning('attribute "'+rme+'" missed quot(")!!'),tme(nme,rme,Ff);case S_ATTR_END:ome=S_TAG_SPACE;break}else switch(ome){case S_ATTR_SPACE:x_.tagName,(!NAMESPACE$1.isHTML($P[""])||!nme.match(/^(?:disabled|checked|selected)$/i))&&eme.warning('attribute "'+nme+'" missed value!! "'+nme+'" instead2!!'),tme(nme,nme,Ff),Ff=ime,ome=S_ATTR;break;case S_ATTR_END:eme.warning('attribute space is required"'+nme+'"!!');case S_TAG_SPACE:ome=S_ATTR,Ff=ime;break;case S_EQ:ome=S_ATTR_NOQUOT_VALUE,Ff=ime;break;case S_TAG_CLOSE:throw new Error("elements closed character '/' and '>' must be connected to")}}ime++}}function appendElement$1(kh,Ff,x_){for(var $P=kh.tagName,zP=null,sme=kh.length;sme--;){var eme=kh[sme],tme=eme.qName,nme=eme.value,ame=tme.indexOf(":");if(ame>0)var rme=eme.prefix=tme.slice(0,ame),ime=tme.slice(ame+1),ome=rme==="xmlns"&&ime;else ime=tme,rme=null,ome=tme==="xmlns"&&"";eme.localName=ime,ome!==!1&&(zP==null&&(zP={},_copy(x_,x_={})),x_[ome]=zP[ome]=nme,eme.uri=NAMESPACE$1.XMLNS,Ff.startPrefixMapping(ome,nme))}for(var sme=kh.length;sme--;){eme=kh[sme];var rme=eme.prefix;rme&&(rme==="xml"&&(eme.uri=NAMESPACE$1.XML),rme!=="xmlns"&&(eme.uri=x_[rme||""]))}var ame=$P.indexOf(":");ame>0?(rme=kh.prefix=$P.slice(0,ame),ime=kh.localName=$P.slice(ame+1)):(rme=null,ime=kh.localName=$P);var lme=kh.uri=x_[rme||""];if(Ff.startElement(lme,ime,$P,kh),kh.closed){if(Ff.endElement(lme,ime,$P),zP)for(rme in zP)Object.prototype.hasOwnProperty.call(zP,rme)&&Ff.endPrefixMapping(rme)}else return kh.currentNSMap=x_,kh.localNSMap=zP,!0}function parseHtmlSpecialContent(kh,Ff,x_,$P,zP){if(/^(?:script|textarea)$/i.test(x_)){var eme=kh.indexOf("</"+x_+">",Ff),tme=kh.substring(Ff+1,eme);if(/[&<]/.test(tme))return/^script$/i.test(x_)?(zP.characters(tme,0,tme.length),eme):(tme=tme.replace(/&#?\w+;/g,$P),zP.characters(tme,0,tme.length),eme)}return Ff+1}function fixSelfClosed(kh,Ff,x_,$P){var zP=$P[x_];return zP==null&&(zP=kh.lastIndexOf("</"+x_+">"),zP<Ff&&(zP=kh.lastIndexOf("</"+x_)),$P[x_]=zP),zP<Ff}function _copy(kh,Ff){for(var x_ in kh)Object.prototype.hasOwnProperty.call(kh,x_)&&(Ff[x_]=kh[x_])}function parseDCC(kh,Ff,x_,$P){var zP=kh.charAt(Ff+2);switch(zP){case"-":if(kh.charAt(Ff+3)==="-"){var eme=kh.indexOf("-->",Ff+4);return eme>Ff?(x_.comment(kh,Ff+4,eme-Ff-4),eme+3):($P.error("Unclosed comment"),-1)}else return-1;default:if(kh.substr(Ff+3,6)=="CDATA["){var eme=kh.indexOf("]]>",Ff+9);return x_.startCDATA(),x_.characters(kh,Ff+9,eme-Ff-9),x_.endCDATA(),eme+3}var tme=split(kh,Ff),nme=tme.length;if(nme>1&&/!doctype/i.test(tme[0][0])){var rme=tme[1][0],ime=!1,ome=!1;nme>3&&(/^public$/i.test(tme[2][0])?(ime=tme[3][0],ome=nme>4&&tme[4][0]):/^system$/i.test(tme[2][0])&&(ome=tme[3][0]));var sme=tme[nme-1];return x_.startDTD(rme,ime,ome),x_.endDTD(),sme.index+sme[0].length}}return-1}function parseInstruction(kh,Ff,x_){var $P=kh.indexOf("?>",Ff);if($P){var zP=kh.substring(Ff,$P).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return zP?(zP[0].length,x_.processingInstruction(zP[1],zP[2]),$P+2):-1}return-1}function ElementAttributes(){this.attributeNames={}}ElementAttributes.prototype={setTagName:function(kh){if(!tagNamePattern.test(kh))throw new Error("invalid tagName:"+kh);this.tagName=kh},addValue:function(kh,Ff,x_){if(!tagNamePattern.test(kh))throw new Error("invalid attribute:"+kh);this.attributeNames[kh]=this.length,this[this.length++]={qName:kh,value:Ff,offset:x_}},length:0,getLocalName:function(kh){return this[kh].localName},getLocator:function(kh){return this[kh].locator},getQName:function(kh){return this[kh].qName},getURI:function(kh){return this[kh].uri},getValue:function(kh){return this[kh].value}};function split(kh,Ff){var x_,$P=[],zP=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(zP.lastIndex=Ff,zP.exec(kh);x_=zP.exec(kh);)if($P.push(x_),x_[1])return $P}sax$1.XMLReader=XMLReader$1;sax$1.ParseError=ParseError$1;var conventions=conventions$2,dom=dom$1,entities=entities$1,sax=sax$1,DOMImplementation=dom.DOMImplementation,NAMESPACE=conventions.NAMESPACE,ParseError=sax.ParseError,XMLReader=sax.XMLReader;function normalizeLineEndings(kh){return kh.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function DOMParser$1(kh){this.options=kh||{locator:{}}}DOMParser$1.prototype.parseFromString=function(kh,Ff){var x_=this.options,$P=new XMLReader,zP=x_.domBuilder||new DOMHandler,eme=x_.errorHandler,tme=x_.locator,nme=x_.xmlns||{},rme=/\/x?html?$/.test(Ff),ime=rme?entities.HTML_ENTITIES:entities.XML_ENTITIES;tme&&zP.setDocumentLocator(tme),$P.errorHandler=buildErrorHandler(eme,zP,tme),$P.domBuilder=x_.domBuilder||zP,rme&&(nme[""]=NAMESPACE.HTML),nme.xml=nme.xml||NAMESPACE.XML;var ome=x_.normalizeLineEndings||normalizeLineEndings;return kh&&typeof kh=="string"?$P.parse(ome(kh),nme,ime):$P.errorHandler.error("invalid doc source"),zP.doc};function buildErrorHandler(kh,Ff,x_){if(!kh){if(Ff instanceof DOMHandler)return Ff;kh=Ff}var $P={},zP=kh instanceof Function;x_=x_||{};function eme(tme){var nme=kh[tme];!nme&&zP&&(nme=kh.length==2?function(rme){kh(tme,rme)}:kh),$P[tme]=nme&&function(rme){nme("[xmldom "+tme+"]	"+rme+_locator(x_))}||function(){}}return eme("warning"),eme("error"),eme("fatalError"),$P}function DOMHandler(){this.cdata=!1}function position(kh,Ff){Ff.lineNumber=kh.lineNumber,Ff.columnNumber=kh.columnNumber}DOMHandler.prototype={startDocument:function(){this.doc=new DOMImplementation().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(kh,Ff,x_,$P){var zP=this.doc,eme=zP.createElementNS(kh,x_||Ff),tme=$P.length;appendElement(this,eme),this.currentElement=eme,this.locator&&position(this.locator,eme);for(var nme=0;nme<tme;nme++){var kh=$P.getURI(nme),rme=$P.getValue(nme),x_=$P.getQName(nme),ime=zP.createAttributeNS(kh,x_);this.locator&&position($P.getLocator(nme),ime),ime.value=ime.nodeValue=rme,eme.setAttributeNode(ime)}},endElement:function(kh,Ff,x_){var $P=this.currentElement;$P.tagName,this.currentElement=$P.parentNode},startPrefixMapping:function(kh,Ff){},endPrefixMapping:function(kh){},processingInstruction:function(kh,Ff){var x_=this.doc.createProcessingInstruction(kh,Ff);this.locator&&position(this.locator,x_),appendElement(this,x_)},ignorableWhitespace:function(kh,Ff,x_){},characters:function(kh,Ff,x_){if(kh=_toString.apply(this,arguments),kh){if(this.cdata)var $P=this.doc.createCDATASection(kh);else var $P=this.doc.createTextNode(kh);this.currentElement?this.currentElement.appendChild($P):/^\s*$/.test(kh)&&this.doc.appendChild($P),this.locator&&position(this.locator,$P)}},skippedEntity:function(kh){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(kh){(this.locator=kh)&&(kh.lineNumber=0)},comment:function(kh,Ff,x_){kh=_toString.apply(this,arguments);var $P=this.doc.createComment(kh);this.locator&&position(this.locator,$P),appendElement(this,$P)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(kh,Ff,x_){var $P=this.doc.implementation;if($P&&$P.createDocumentType){var zP=$P.createDocumentType(kh,Ff,x_);this.locator&&position(this.locator,zP),appendElement(this,zP),this.doc.doctype=zP}},warning:function(kh){console.warn("[xmldom warning]	"+kh,_locator(this.locator))},error:function(kh){console.error("[xmldom error]	"+kh,_locator(this.locator))},fatalError:function(kh){throw new ParseError(kh,this.locator)}};function _locator(kh){if(kh)return`
@`+(kh.systemId||"")+"#[line:"+kh.lineNumber+",col:"+kh.columnNumber+"]"}function _toString(kh,Ff,x_){return typeof kh=="string"?kh.substr(Ff,x_):kh.length>=Ff+x_||Ff?new java.lang.String(kh,Ff,x_)+"":kh}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(kh){DOMHandler.prototype[kh]=function(){return null}});function appendElement(kh,Ff){kh.currentElement?kh.currentElement.appendChild(Ff):kh.doc.appendChild(Ff)}domParser.__DOMHandler=DOMHandler;domParser.normalizeLineEndings=normalizeLineEndings;domParser.DOMParser=DOMParser$1;var DOMParser=domParser.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const isObject$1=kh=>!!kh&&typeof kh=="object",merge$2=(...kh)=>kh.reduce((Ff,x_)=>(typeof x_!="object"||Object.keys(x_).forEach($P=>{Array.isArray(Ff[$P])&&Array.isArray(x_[$P])?Ff[$P]=Ff[$P].concat(x_[$P]):isObject$1(Ff[$P])&&isObject$1(x_[$P])?Ff[$P]=merge$2(Ff[$P],x_[$P]):Ff[$P]=x_[$P]}),Ff),{}),values$1=kh=>Object.keys(kh).map(Ff=>kh[Ff]),range=(kh,Ff)=>{const x_=[];for(let $P=kh;$P<Ff;$P++)x_.push($P);return x_},flatten=kh=>kh.reduce((Ff,x_)=>Ff.concat(x_),[]),from=kh=>{if(!kh.length)return[];const Ff=[];for(let x_=0;x_<kh.length;x_++)Ff.push(kh[x_]);return Ff},findIndexes=(kh,Ff)=>kh.reduce((x_,$P,zP)=>($P[Ff]&&x_.push(zP),x_),[]),union=(kh,Ff)=>values$1(kh.reduce((x_,$P)=>($P.forEach(zP=>{x_[Ff(zP)]=zP}),x_),{}));var errors={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const urlTypeToSegment=({baseUrl:kh="",source:Ff="",range:x_="",indexRange:$P=""})=>{const zP={uri:Ff,resolvedUri:resolveUrl$1(kh||"",Ff)};if(x_||$P){const tme=(x_||$P).split("-");let nme=window$1$1.BigInt?window$1$1.BigInt(tme[0]):parseInt(tme[0],10),rme=window$1$1.BigInt?window$1$1.BigInt(tme[1]):parseInt(tme[1],10);nme<Number.MAX_SAFE_INTEGER&&typeof nme=="bigint"&&(nme=Number(nme)),rme<Number.MAX_SAFE_INTEGER&&typeof rme=="bigint"&&(rme=Number(rme));let ime;typeof rme=="bigint"||typeof nme=="bigint"?ime=window$1$1.BigInt(rme)-window$1$1.BigInt(nme)+window$1$1.BigInt(1):ime=rme-nme+1,typeof ime=="bigint"&&ime<Number.MAX_SAFE_INTEGER&&(ime=Number(ime)),zP.byterange={length:ime,offset:nme}}return zP},byteRangeToString=kh=>{let Ff;return typeof kh.offset=="bigint"||typeof kh.length=="bigint"?Ff=window$1$1.BigInt(kh.offset)+window$1$1.BigInt(kh.length)-window$1$1.BigInt(1):Ff=kh.offset+kh.length-1,`${kh.offset}-${Ff}`},parseEndNumber=kh=>(kh&&typeof kh!="number"&&(kh=parseInt(kh,10)),isNaN(kh)?null:kh),segmentRange={static(kh){const{duration:Ff,timescale:x_=1,sourceDuration:$P,periodDuration:zP}=kh,eme=parseEndNumber(kh.endNumber),tme=Ff/x_;return typeof eme=="number"?{start:0,end:eme}:typeof zP=="number"?{start:0,end:zP/tme}:{start:0,end:$P/tme}},dynamic(kh){const{NOW:Ff,clientOffset:x_,availabilityStartTime:$P,timescale:zP=1,duration:eme,periodStart:tme=0,minimumUpdatePeriod:nme=0,timeShiftBufferDepth:rme=1/0}=kh,ime=parseEndNumber(kh.endNumber),ome=(Ff+x_)/1e3,sme=$P+tme,lme=ome+nme-sme,ume=Math.ceil(lme*zP/eme),dme=Math.floor((ome-sme-rme)*zP/eme),pme=Math.floor((ome-sme)*zP/eme);return{start:Math.max(0,dme),end:typeof ime=="number"?ime:Math.min(ume,pme)}}},toSegments=kh=>Ff=>{const{duration:x_,timescale:$P=1,periodStart:zP,startNumber:eme=1}=kh;return{number:eme+Ff,duration:x_/$P,timeline:zP,time:Ff*x_}},parseByDuration=kh=>{const{type:Ff,duration:x_,timescale:$P=1,periodDuration:zP,sourceDuration:eme}=kh,{start:tme,end:nme}=segmentRange[Ff](kh),rme=range(tme,nme).map(toSegments(kh));if(Ff==="static"){const ime=rme.length-1,ome=typeof zP=="number"?zP:eme;rme[ime].duration=ome-x_/$P*ime}return rme},segmentsFromBase=kh=>{const{baseUrl:Ff,initialization:x_={},sourceDuration:$P,indexRange:zP="",periodStart:eme,presentationTime:tme,number:nme=0,duration:rme}=kh;if(!Ff)throw new Error(errors.NO_BASE_URL);const ime=urlTypeToSegment({baseUrl:Ff,source:x_.sourceURL,range:x_.range}),ome=urlTypeToSegment({baseUrl:Ff,source:Ff,indexRange:zP});if(ome.map=ime,rme){const sme=parseByDuration(kh);sme.length&&(ome.duration=sme[0].duration,ome.timeline=sme[0].timeline)}else $P&&(ome.duration=$P,ome.timeline=eme);return ome.presentationTime=tme||eme,ome.number=nme,[ome]},addSidxSegmentsToPlaylist$1=(kh,Ff,x_)=>{const $P=kh.sidx.map?kh.sidx.map:null,zP=kh.sidx.duration,eme=kh.timeline||0,tme=kh.sidx.byterange,nme=tme.offset+tme.length,rme=Ff.timescale,ime=Ff.references.filter(pme=>pme.referenceType!==1),ome=[],sme=kh.endList?"static":"dynamic",ame=kh.sidx.timeline;let lme=ame,ume=kh.mediaSequence||0,dme;typeof Ff.firstOffset=="bigint"?dme=window$1$1.BigInt(nme)+Ff.firstOffset:dme=nme+Ff.firstOffset;for(let pme=0;pme<ime.length;pme++){const hme=Ff.references[pme],cme=hme.referencedSize,_me=hme.subsegmentDuration;let vme;typeof dme=="bigint"?vme=dme+window$1$1.BigInt(cme)-window$1$1.BigInt(1):vme=dme+cme-1;const Eme=`${dme}-${vme}`,Tme=segmentsFromBase({baseUrl:x_,timescale:rme,timeline:eme,periodStart:ame,presentationTime:lme,number:ume,duration:_me,sourceDuration:zP,indexRange:Eme,type:sme})[0];$P&&(Tme.map=$P),ome.push(Tme),typeof dme=="bigint"?dme+=window$1$1.BigInt(cme):dme+=cme,lme+=_me/rme,ume++}return kh.segments=ome,kh},SUPPORTED_MEDIA_TYPES=["AUDIO","SUBTITLES"],TIME_FUDGE=1/60,getUniqueTimelineStarts=kh=>union(kh,({timeline:Ff})=>Ff).sort((Ff,x_)=>Ff.timeline>x_.timeline?1:-1),findPlaylistWithName=(kh,Ff)=>{for(let x_=0;x_<kh.length;x_++)if(kh[x_].attributes.NAME===Ff)return kh[x_];return null},getMediaGroupPlaylists=kh=>{let Ff=[];return forEachMediaGroup$1(kh,SUPPORTED_MEDIA_TYPES,(x_,$P,zP,eme)=>{Ff=Ff.concat(x_.playlists||[])}),Ff},updateMediaSequenceForPlaylist=({playlist:kh,mediaSequence:Ff})=>{kh.mediaSequence=Ff,kh.segments.forEach((x_,$P)=>{x_.number=kh.mediaSequence+$P})},updateSequenceNumbers=({oldPlaylists:kh,newPlaylists:Ff,timelineStarts:x_})=>{Ff.forEach($P=>{$P.discontinuitySequence=x_.findIndex(function({timeline:rme}){return rme===$P.timeline});const zP=findPlaylistWithName(kh,$P.attributes.NAME);if(!zP||$P.sidx)return;const eme=$P.segments[0],tme=zP.segments.findIndex(function(rme){return Math.abs(rme.presentationTime-eme.presentationTime)<TIME_FUDGE});if(tme===-1){updateMediaSequenceForPlaylist({playlist:$P,mediaSequence:zP.mediaSequence+zP.segments.length}),$P.segments[0].discontinuity=!0,$P.discontinuityStarts.unshift(0),(!zP.segments.length&&$P.timeline>zP.timeline||zP.segments.length&&$P.timeline>zP.segments[zP.segments.length-1].timeline)&&$P.discontinuitySequence--;return}zP.segments[tme].discontinuity&&!eme.discontinuity&&(eme.discontinuity=!0,$P.discontinuityStarts.unshift(0),$P.discontinuitySequence--),updateMediaSequenceForPlaylist({playlist:$P,mediaSequence:zP.segments[tme].number})})},positionManifestOnTimeline=({oldManifest:kh,newManifest:Ff})=>{const x_=kh.playlists.concat(getMediaGroupPlaylists(kh)),$P=Ff.playlists.concat(getMediaGroupPlaylists(Ff));return Ff.timelineStarts=getUniqueTimelineStarts([kh.timelineStarts,Ff.timelineStarts]),updateSequenceNumbers({oldPlaylists:x_,newPlaylists:$P,timelineStarts:Ff.timelineStarts}),Ff},generateSidxKey=kh=>kh&&kh.uri+"-"+byteRangeToString(kh.byterange),mergeDiscontiguousPlaylists=kh=>{const Ff=kh.reduce(function($P,zP){return $P[zP.attributes.baseUrl]||($P[zP.attributes.baseUrl]=[]),$P[zP.attributes.baseUrl].push(zP),$P},{});let x_=[];return Object.values(Ff).forEach($P=>{const zP=values$1($P.reduce((eme,tme)=>{const nme=tme.attributes.id+(tme.attributes.lang||"");return eme[nme]?(tme.segments&&(tme.segments[0]&&(tme.segments[0].discontinuity=!0),eme[nme].segments.push(...tme.segments)),tme.attributes.contentProtection&&(eme[nme].attributes.contentProtection=tme.attributes.contentProtection)):(eme[nme]=tme,eme[nme].attributes.timelineStarts=[]),eme[nme].attributes.timelineStarts.push({start:tme.attributes.periodStart,timeline:tme.attributes.periodStart}),eme},{}));x_=x_.concat(zP)}),x_.map($P=>($P.discontinuityStarts=findIndexes($P.segments||[],"discontinuity"),$P))},addSidxSegmentsToPlaylist=(kh,Ff)=>{const x_=generateSidxKey(kh.sidx),$P=x_&&Ff[x_]&&Ff[x_].sidx;return $P&&addSidxSegmentsToPlaylist$1(kh,$P,kh.sidx.resolvedUri),kh},addSidxSegmentsToPlaylists=(kh,Ff={})=>{if(!Object.keys(Ff).length)return kh;for(const x_ in kh)kh[x_]=addSidxSegmentsToPlaylist(kh[x_],Ff);return kh},formatAudioPlaylist=({attributes:kh,segments:Ff,sidx:x_,mediaSequence:$P,discontinuitySequence:zP,discontinuityStarts:eme},tme)=>{const nme={attributes:{NAME:kh.id,BANDWIDTH:kh.bandwidth,CODECS:kh.codecs,"PROGRAM-ID":1},uri:"",endList:kh.type==="static",timeline:kh.periodStart,resolvedUri:kh.baseUrl||"",targetDuration:kh.duration,discontinuitySequence:zP,discontinuityStarts:eme,timelineStarts:kh.timelineStarts,mediaSequence:$P,segments:Ff};return kh.contentProtection&&(nme.contentProtection=kh.contentProtection),kh.serviceLocation&&(nme.attributes.serviceLocation=kh.serviceLocation),x_&&(nme.sidx=x_),tme&&(nme.attributes.AUDIO="audio",nme.attributes.SUBTITLES="subs"),nme},formatVttPlaylist=({attributes:kh,segments:Ff,mediaSequence:x_,discontinuityStarts:$P,discontinuitySequence:zP})=>{typeof Ff=="undefined"&&(Ff=[{uri:kh.baseUrl,timeline:kh.periodStart,resolvedUri:kh.baseUrl||"",duration:kh.sourceDuration,number:0}],kh.duration=kh.sourceDuration);const eme={NAME:kh.id,BANDWIDTH:kh.bandwidth,"PROGRAM-ID":1};kh.codecs&&(eme.CODECS=kh.codecs);const tme={attributes:eme,uri:"",endList:kh.type==="static",timeline:kh.periodStart,resolvedUri:kh.baseUrl||"",targetDuration:kh.duration,timelineStarts:kh.timelineStarts,discontinuityStarts:$P,discontinuitySequence:zP,mediaSequence:x_,segments:Ff};return kh.serviceLocation&&(tme.attributes.serviceLocation=kh.serviceLocation),tme},organizeAudioPlaylists=(kh,Ff={},x_=!1)=>{let $P;const zP=kh.reduce((eme,tme)=>{const nme=tme.attributes.role&&tme.attributes.role.value||"",rme=tme.attributes.lang||"";let ime=tme.attributes.label||"main";if(rme&&!tme.attributes.label){const sme=nme?` (${nme})`:"";ime=`${tme.attributes.lang}${sme}`}eme[ime]||(eme[ime]={language:rme,autoselect:!0,default:nme==="main",playlists:[],uri:""});const ome=addSidxSegmentsToPlaylist(formatAudioPlaylist(tme,x_),Ff);return eme[ime].playlists.push(ome),typeof $P=="undefined"&&nme==="main"&&($P=tme,$P.default=!0),eme},{});if(!$P){const eme=Object.keys(zP)[0];zP[eme].default=!0}return zP},organizeVttPlaylists=(kh,Ff={})=>kh.reduce((x_,$P)=>{const zP=$P.attributes.label||$P.attributes.lang||"text";return x_[zP]||(x_[zP]={language:zP,default:!1,autoselect:!1,playlists:[],uri:""}),x_[zP].playlists.push(addSidxSegmentsToPlaylist(formatVttPlaylist($P),Ff)),x_},{}),organizeCaptionServices=kh=>kh.reduce((Ff,x_)=>(x_&&x_.forEach($P=>{const{channel:zP,language:eme}=$P;Ff[eme]={autoselect:!1,default:!1,instreamId:zP,language:eme},$P.hasOwnProperty("aspectRatio")&&(Ff[eme].aspectRatio=$P.aspectRatio),$P.hasOwnProperty("easyReader")&&(Ff[eme].easyReader=$P.easyReader),$P.hasOwnProperty("3D")&&(Ff[eme]["3D"]=$P["3D"])}),Ff),{}),formatVideoPlaylist=({attributes:kh,segments:Ff,sidx:x_,discontinuityStarts:$P})=>{const zP={attributes:{NAME:kh.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:kh.width,height:kh.height},CODECS:kh.codecs,BANDWIDTH:kh.bandwidth,"PROGRAM-ID":1},uri:"",endList:kh.type==="static",timeline:kh.periodStart,resolvedUri:kh.baseUrl||"",targetDuration:kh.duration,discontinuityStarts:$P,timelineStarts:kh.timelineStarts,segments:Ff};return kh.frameRate&&(zP.attributes["FRAME-RATE"]=kh.frameRate),kh.contentProtection&&(zP.contentProtection=kh.contentProtection),kh.serviceLocation&&(zP.attributes.serviceLocation=kh.serviceLocation),x_&&(zP.sidx=x_),zP},videoOnly=({attributes:kh})=>kh.mimeType==="video/mp4"||kh.mimeType==="video/webm"||kh.contentType==="video",audioOnly=({attributes:kh})=>kh.mimeType==="audio/mp4"||kh.mimeType==="audio/webm"||kh.contentType==="audio",vttOnly=({attributes:kh})=>kh.mimeType==="text/vtt"||kh.contentType==="text",addMediaSequenceValues=(kh,Ff)=>{kh.forEach(x_=>{x_.mediaSequence=0,x_.discontinuitySequence=Ff.findIndex(function({timeline:$P}){return $P===x_.timeline}),x_.segments&&x_.segments.forEach(($P,zP)=>{$P.number=zP})})},flattenMediaGroupPlaylists=kh=>kh?Object.keys(kh).reduce((Ff,x_)=>{const $P=kh[x_];return Ff.concat($P.playlists)},[]):[],toM3u8=({dashPlaylists:kh,locations:Ff,contentSteering:x_,sidxMapping:$P={},previousManifest:zP,eventStream:eme})=>{if(!kh.length)return{};const{sourceDuration:tme,type:nme,suggestedPresentationDelay:rme,minimumUpdatePeriod:ime}=kh[0].attributes,ome=mergeDiscontiguousPlaylists(kh.filter(videoOnly)).map(formatVideoPlaylist),sme=mergeDiscontiguousPlaylists(kh.filter(audioOnly)),ame=mergeDiscontiguousPlaylists(kh.filter(vttOnly)),lme=kh.map(vme=>vme.attributes.captionServices).filter(Boolean),ume={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:tme,playlists:addSidxSegmentsToPlaylists(ome,$P)};ime>=0&&(ume.minimumUpdatePeriod=ime*1e3),Ff&&(ume.locations=Ff),x_&&(ume.contentSteering=x_),nme==="dynamic"&&(ume.suggestedPresentationDelay=rme),eme&&eme.length>0&&(ume.eventStream=eme);const dme=ume.playlists.length===0,pme=sme.length?organizeAudioPlaylists(sme,$P,dme):null,hme=ame.length?organizeVttPlaylists(ame,$P):null,cme=ome.concat(flattenMediaGroupPlaylists(pme),flattenMediaGroupPlaylists(hme)),_me=cme.map(({timelineStarts:vme})=>vme);return ume.timelineStarts=getUniqueTimelineStarts(_me),addMediaSequenceValues(cme,ume.timelineStarts),pme&&(ume.mediaGroups.AUDIO.audio=pme),hme&&(ume.mediaGroups.SUBTITLES.subs=hme),lme.length&&(ume.mediaGroups["CLOSED-CAPTIONS"].cc=organizeCaptionServices(lme)),zP?positionManifestOnTimeline({oldManifest:zP,newManifest:ume}):ume},getLiveRValue=(kh,Ff,x_)=>{const{NOW:$P,clientOffset:zP,availabilityStartTime:eme,timescale:tme=1,periodStart:nme=0,minimumUpdatePeriod:rme=0}=kh,ime=($P+zP)/1e3,ome=eme+nme,ame=ime+rme-ome;return Math.ceil((ame*tme-Ff)/x_)},parseByTimeline=(kh,Ff)=>{const{type:x_,minimumUpdatePeriod:$P=0,media:zP="",sourceDuration:eme,timescale:tme=1,startNumber:nme=1,periodStart:rme}=kh,ime=[];let ome=-1;for(let sme=0;sme<Ff.length;sme++){const ame=Ff[sme],lme=ame.d,ume=ame.r||0,dme=ame.t||0;ome<0&&(ome=dme),dme&&dme>ome&&(ome=dme);let pme;if(ume<0){const _me=sme+1;_me===Ff.length?x_==="dynamic"&&$P>0&&zP.indexOf("$Number$")>0?pme=getLiveRValue(kh,ome,lme):pme=(eme*tme-ome)/lme:pme=(Ff[_me].t-ome)/lme}else pme=ume+1;const hme=nme+ime.length+pme;let cme=nme+ime.length;for(;cme<hme;)ime.push({number:cme,duration:lme/tme,time:ome,timeline:rme}),ome+=lme,cme++}return ime},identifierPattern=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,identifierReplacement=kh=>(Ff,x_,$P,zP)=>{if(Ff==="$$")return"$";if(typeof kh[x_]=="undefined")return Ff;const eme=""+kh[x_];return x_==="RepresentationID"||($P?zP=parseInt(zP,10):zP=1,eme.length>=zP)?eme:`${new Array(zP-eme.length+1).join("0")}${eme}`},constructTemplateUrl=(kh,Ff)=>kh.replace(identifierPattern,identifierReplacement(Ff)),parseTemplateInfo=(kh,Ff)=>!kh.duration&&!Ff?[{number:kh.startNumber||1,duration:kh.sourceDuration,time:0,timeline:kh.periodStart}]:kh.duration?parseByDuration(kh):parseByTimeline(kh,Ff),segmentsFromTemplate=(kh,Ff)=>{const x_={RepresentationID:kh.id,Bandwidth:kh.bandwidth||0},{initialization:$P={sourceURL:"",range:""}}=kh,zP=urlTypeToSegment({baseUrl:kh.baseUrl,source:constructTemplateUrl($P.sourceURL,x_),range:$P.range});return parseTemplateInfo(kh,Ff).map(tme=>{x_.Number=tme.number,x_.Time=tme.time;const nme=constructTemplateUrl(kh.media||"",x_),rme=kh.timescale||1,ime=kh.presentationTimeOffset||0,ome=kh.periodStart+(tme.time-ime)/rme;return{uri:nme,timeline:tme.timeline,duration:tme.duration,resolvedUri:resolveUrl$1(kh.baseUrl||"",nme),map:zP,number:tme.number,presentationTime:ome}})},SegmentURLToSegmentObject=(kh,Ff)=>{const{baseUrl:x_,initialization:$P={}}=kh,zP=urlTypeToSegment({baseUrl:x_,source:$P.sourceURL,range:$P.range}),eme=urlTypeToSegment({baseUrl:x_,source:Ff.media,range:Ff.mediaRange});return eme.map=zP,eme},segmentsFromList=(kh,Ff)=>{const{duration:x_,segmentUrls:$P=[],periodStart:zP}=kh;if(!x_&&!Ff||x_&&Ff)throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);const eme=$P.map(rme=>SegmentURLToSegmentObject(kh,rme));let tme;return x_&&(tme=parseByDuration(kh)),Ff&&(tme=parseByTimeline(kh,Ff)),tme.map((rme,ime)=>{if(eme[ime]){const ome=eme[ime],sme=kh.timescale||1,ame=kh.presentationTimeOffset||0;return ome.timeline=rme.timeline,ome.duration=rme.duration,ome.number=rme.number,ome.presentationTime=zP+(rme.time-ame)/sme,ome}}).filter(rme=>rme)},generateSegments=({attributes:kh,segmentInfo:Ff})=>{let x_,$P;Ff.template?($P=segmentsFromTemplate,x_=merge$2(kh,Ff.template)):Ff.base?($P=segmentsFromBase,x_=merge$2(kh,Ff.base)):Ff.list&&($P=segmentsFromList,x_=merge$2(kh,Ff.list));const zP={attributes:kh};if(!$P)return zP;const eme=$P(x_,Ff.segmentTimeline);if(x_.duration){const{duration:tme,timescale:nme=1}=x_;x_.duration=tme/nme}else eme.length?x_.duration=eme.reduce((tme,nme)=>Math.max(tme,Math.ceil(nme.duration)),0):x_.duration=0;return zP.attributes=x_,zP.segments=eme,Ff.base&&x_.indexRange&&(zP.sidx=eme[0],zP.segments=[]),zP},toPlaylists=kh=>kh.map(generateSegments),findChildren=(kh,Ff)=>from(kh.childNodes).filter(({tagName:x_})=>x_===Ff),getContent=kh=>kh.textContent.trim(),parseDivisionValue=kh=>parseFloat(kh.split("/").reduce((Ff,x_)=>Ff/x_)),parseDuration=kh=>{const nme=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(kh);if(!nme)return 0;const[rme,ime,ome,sme,ame,lme]=nme.slice(1);return parseFloat(rme||0)*31536e3+parseFloat(ime||0)*2592e3+parseFloat(ome||0)*86400+parseFloat(sme||0)*3600+parseFloat(ame||0)*60+parseFloat(lme||0)},parseDate=kh=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(kh)&&(kh+="Z"),Date.parse(kh)),parsers={mediaPresentationDuration(kh){return parseDuration(kh)},availabilityStartTime(kh){return parseDate(kh)/1e3},minimumUpdatePeriod(kh){return parseDuration(kh)},suggestedPresentationDelay(kh){return parseDuration(kh)},type(kh){return kh},timeShiftBufferDepth(kh){return parseDuration(kh)},start(kh){return parseDuration(kh)},width(kh){return parseInt(kh,10)},height(kh){return parseInt(kh,10)},bandwidth(kh){return parseInt(kh,10)},frameRate(kh){return parseDivisionValue(kh)},startNumber(kh){return parseInt(kh,10)},timescale(kh){return parseInt(kh,10)},presentationTimeOffset(kh){return parseInt(kh,10)},duration(kh){const Ff=parseInt(kh,10);return isNaN(Ff)?parseDuration(kh):Ff},d(kh){return parseInt(kh,10)},t(kh){return parseInt(kh,10)},r(kh){return parseInt(kh,10)},presentationTime(kh){return parseInt(kh,10)},DEFAULT(kh){return kh}},parseAttributes=kh=>kh&&kh.attributes?from(kh.attributes).reduce((Ff,x_)=>{const $P=parsers[x_.name]||parsers.DEFAULT;return Ff[x_.name]=$P(x_.value),Ff},{}):{},keySystemsMap={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},buildBaseUrls=(kh,Ff)=>Ff.length?flatten(kh.map(function(x_){return Ff.map(function($P){const zP=getContent($P),eme=resolveUrl$1(x_.baseUrl,zP),tme=merge$2(parseAttributes($P),{baseUrl:eme});return eme!==zP&&!tme.serviceLocation&&x_.serviceLocation&&(tme.serviceLocation=x_.serviceLocation),tme})})):kh,getSegmentInformation=kh=>{const Ff=findChildren(kh,"SegmentTemplate")[0],x_=findChildren(kh,"SegmentList")[0],$P=x_&&findChildren(x_,"SegmentURL").map(sme=>merge$2({tag:"SegmentURL"},parseAttributes(sme))),zP=findChildren(kh,"SegmentBase")[0],eme=x_||Ff,tme=eme&&findChildren(eme,"SegmentTimeline")[0],nme=x_||zP||Ff,rme=nme&&findChildren(nme,"Initialization")[0],ime=Ff&&parseAttributes(Ff);ime&&rme?ime.initialization=rme&&parseAttributes(rme):ime&&ime.initialization&&(ime.initialization={sourceURL:ime.initialization});const ome={template:ime,segmentTimeline:tme&&findChildren(tme,"S").map(sme=>parseAttributes(sme)),list:x_&&merge$2(parseAttributes(x_),{segmentUrls:$P,initialization:parseAttributes(rme)}),base:zP&&merge$2(parseAttributes(zP),{initialization:parseAttributes(rme)})};return Object.keys(ome).forEach(sme=>{ome[sme]||delete ome[sme]}),ome},inheritBaseUrls=(kh,Ff,x_)=>$P=>{const zP=findChildren($P,"BaseURL"),eme=buildBaseUrls(Ff,zP),tme=merge$2(kh,parseAttributes($P)),nme=getSegmentInformation($P);return eme.map(rme=>({segmentInfo:merge$2(x_,nme),attributes:merge$2(tme,rme)}))},generateKeySystemInformation=kh=>kh.reduce((Ff,x_)=>{const $P=parseAttributes(x_);$P.schemeIdUri&&($P.schemeIdUri=$P.schemeIdUri.toLowerCase());const zP=keySystemsMap[$P.schemeIdUri];if(zP){Ff[zP]={attributes:$P};const eme=findChildren(x_,"cenc:pssh")[0];if(eme){const tme=getContent(eme);Ff[zP].pssh=tme&&decodeB64ToUint8Array(tme)}}return Ff},{}),parseCaptionServiceMetadata=kh=>{if(kh.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof kh.value!="string"?[]:kh.value.split(";")).map(x_=>{let $P,zP;return zP=x_,/^CC\d=/.test(x_)?[$P,zP]=x_.split("="):/^CC\d$/.test(x_)&&($P=x_),{channel:$P,language:zP}});if(kh.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof kh.value!="string"?[]:kh.value.split(";")).map(x_=>{const $P={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(x_)){const[zP,eme=""]=x_.split("=");$P.channel=zP,$P.language=x_,eme.split(",").forEach(tme=>{const[nme,rme]=tme.split(":");nme==="lang"?$P.language=rme:nme==="er"?$P.easyReader=Number(rme):nme==="war"?$P.aspectRatio=Number(rme):nme==="3D"&&($P["3D"]=Number(rme))})}else $P.language=x_;return $P.channel&&($P.channel="SERVICE"+$P.channel),$P})},toEventStream=kh=>flatten(findChildren(kh.node,"EventStream").map(Ff=>{const x_=parseAttributes(Ff),$P=x_.schemeIdUri;return findChildren(Ff,"Event").map(zP=>{const eme=parseAttributes(zP),tme=eme.presentationTime||0,nme=x_.timescale||1,rme=eme.duration||0,ime=tme/nme+kh.attributes.start;return{schemeIdUri:$P,value:x_.value,id:eme.id,start:ime,end:ime+rme/nme,messageData:getContent(zP)||eme.messageData,contentEncoding:x_.contentEncoding,presentationTimeOffset:x_.presentationTimeOffset||0}})})),toRepresentations=(kh,Ff,x_)=>$P=>{const zP=parseAttributes($P),eme=buildBaseUrls(Ff,findChildren($P,"BaseURL")),tme=findChildren($P,"Role")[0],nme={role:parseAttributes(tme)};let rme=merge$2(kh,zP,nme);const ime=findChildren($P,"Accessibility")[0],ome=parseCaptionServiceMetadata(parseAttributes(ime));ome&&(rme=merge$2(rme,{captionServices:ome}));const sme=findChildren($P,"Label")[0];if(sme&&sme.childNodes.length){const pme=sme.childNodes[0].nodeValue.trim();rme=merge$2(rme,{label:pme})}const ame=generateKeySystemInformation(findChildren($P,"ContentProtection"));Object.keys(ame).length&&(rme=merge$2(rme,{contentProtection:ame}));const lme=getSegmentInformation($P),ume=findChildren($P,"Representation"),dme=merge$2(x_,lme);return flatten(ume.map(inheritBaseUrls(rme,eme,dme)))},toAdaptationSets=(kh,Ff)=>(x_,$P)=>{const zP=buildBaseUrls(Ff,findChildren(x_.node,"BaseURL")),eme=merge$2(kh,{periodStart:x_.attributes.start});typeof x_.attributes.duration=="number"&&(eme.periodDuration=x_.attributes.duration);const tme=findChildren(x_.node,"AdaptationSet"),nme=getSegmentInformation(x_.node);return flatten(tme.map(toRepresentations(eme,zP,nme)))},generateContentSteeringInformation=(kh,Ff)=>{if(kh.length>1&&Ff({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!kh.length)return null;const x_=merge$2({serverURL:getContent(kh[0])},parseAttributes(kh[0]));return x_.queryBeforeStart=x_.queryBeforeStart==="true",x_},getPeriodStart=({attributes:kh,priorPeriodAttributes:Ff,mpdType:x_})=>typeof kh.start=="number"?kh.start:Ff&&typeof Ff.start=="number"&&typeof Ff.duration=="number"?Ff.start+Ff.duration:!Ff&&x_==="static"?0:null,inheritAttributes=(kh,Ff={})=>{const{manifestUri:x_="",NOW:$P=Date.now(),clientOffset:zP=0,eventHandler:eme=function(){}}=Ff,tme=findChildren(kh,"Period");if(!tme.length)throw new Error(errors.INVALID_NUMBER_OF_PERIOD);const nme=findChildren(kh,"Location"),rme=parseAttributes(kh),ime=buildBaseUrls([{baseUrl:x_}],findChildren(kh,"BaseURL")),ome=findChildren(kh,"ContentSteering");rme.type=rme.type||"static",rme.sourceDuration=rme.mediaPresentationDuration||0,rme.NOW=$P,rme.clientOffset=zP,nme.length&&(rme.locations=nme.map(getContent));const sme=[];return tme.forEach((ame,lme)=>{const ume=parseAttributes(ame),dme=sme[lme-1];ume.start=getPeriodStart({attributes:ume,priorPeriodAttributes:dme?dme.attributes:null,mpdType:rme.type}),sme.push({node:ame,attributes:ume})}),{locations:rme.locations,contentSteeringInfo:generateContentSteeringInformation(ome,eme),representationInfo:flatten(sme.map(toAdaptationSets(rme,ime))),eventStream:flatten(sme.map(toEventStream))}},stringToMpdXml=kh=>{if(kh==="")throw new Error(errors.DASH_EMPTY_MANIFEST);const Ff=new DOMParser;let x_,$P;try{x_=Ff.parseFromString(kh,"application/xml"),$P=x_&&x_.documentElement.tagName==="MPD"?x_.documentElement:null}catch(zP){}if(!$P||$P&&$P.getElementsByTagName("parsererror").length>0)throw new Error(errors.DASH_INVALID_XML);return $P},parseUTCTimingScheme=kh=>{const Ff=findChildren(kh,"UTCTiming")[0];if(!Ff)return null;const x_=parseAttributes(Ff);switch(x_.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":x_.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":x_.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":x_.method="DIRECT",x_.value=Date.parse(x_.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME)}return x_},parse=(kh,Ff={})=>{const x_=inheritAttributes(stringToMpdXml(kh),Ff),$P=toPlaylists(x_.representationInfo);return toM3u8({dashPlaylists:$P,locations:x_.locations,contentSteering:x_.contentSteeringInfo,sidxMapping:Ff.sidxMapping,previousManifest:Ff.previousManifest,eventStream:x_.eventStream})},parseUTCTiming=kh=>parseUTCTimingScheme(stringToMpdXml(kh));var MAX_UINT32=Math.pow(2,32),getUint64$1=function(kh){var Ff=new DataView(kh.buffer,kh.byteOffset,kh.byteLength),x_;return Ff.getBigUint64?(x_=Ff.getBigUint64(0),x_<Number.MAX_SAFE_INTEGER?Number(x_):x_):Ff.getUint32(0)*MAX_UINT32+Ff.getUint32(4)},numbers={getUint64:getUint64$1,MAX_UINT32},getUint64=numbers.getUint64,parseSidx=function(kh){var Ff=new DataView(kh.buffer,kh.byteOffset,kh.byteLength),x_={version:kh[0],flags:new Uint8Array(kh.subarray(1,4)),references:[],referenceId:Ff.getUint32(4),timescale:Ff.getUint32(8)},$P=12;x_.version===0?(x_.earliestPresentationTime=Ff.getUint32($P),x_.firstOffset=Ff.getUint32($P+4),$P+=8):(x_.earliestPresentationTime=getUint64(kh.subarray($P)),x_.firstOffset=getUint64(kh.subarray($P+8)),$P+=16),$P+=2;var zP=Ff.getUint16($P);for($P+=2;zP>0;$P+=12,zP--)x_.references.push({referenceType:(kh[$P]&128)>>>7,referencedSize:Ff.getUint32($P)&2147483647,subsegmentDuration:Ff.getUint32($P+4),startsWithSap:!!(kh[$P+8]&128),sapType:(kh[$P+8]&112)>>>4,sapDeltaTime:Ff.getUint32($P+8)&268435455});return x_},parseSidx_1=parseSidx;const parseSidx$1=getDefaultExportFromCjs(parseSidx_1);var ID3=toUint8([73,68,51]),getId3Size=function kh(Ff,x_){x_===void 0&&(x_=0),Ff=toUint8(Ff);var $P=Ff[x_+5],zP=Ff[x_+6]<<21|Ff[x_+7]<<14|Ff[x_+8]<<7|Ff[x_+9],eme=($P&16)>>4;return eme?zP+20:zP+10},getId3Offset=function kh(Ff,x_){return x_===void 0&&(x_=0),Ff=toUint8(Ff),Ff.length-x_<10||!bytesMatch(Ff,ID3,{offset:x_})?x_:(x_+=getId3Size(Ff,x_),kh(Ff,x_))},normalizePath$1=function kh(Ff){return typeof Ff=="string"?stringToBytes(Ff):Ff},normalizePaths$1=function kh(Ff){return Array.isArray(Ff)?Ff.map(function(x_){return normalizePath$1(x_)}):[normalizePath$1(Ff)]},findBox=function kh(Ff,x_,$P){$P===void 0&&($P=!1),x_=normalizePaths$1(x_),Ff=toUint8(Ff);var zP=[];if(!x_.length)return zP;for(var eme=0;eme<Ff.length;){var tme=(Ff[eme]<<24|Ff[eme+1]<<16|Ff[eme+2]<<8|Ff[eme+3])>>>0,nme=Ff.subarray(eme+4,eme+8);if(tme===0)break;var rme=eme+tme;if(rme>Ff.length){if($P)break;rme=Ff.length}var ime=Ff.subarray(eme+8,rme);bytesMatch(nme,x_[0])&&(x_.length===1?zP.push(ime):zP.push.apply(zP,kh(ime,x_.slice(1),$P))),eme=rme}return zP},EBML_TAGS={EBML:toUint8([26,69,223,163]),DocType:toUint8([66,130]),Segment:toUint8([24,83,128,103]),SegmentInfo:toUint8([21,73,169,102]),Tracks:toUint8([22,84,174,107]),Track:toUint8([174]),TrackNumber:toUint8([215]),DefaultDuration:toUint8([35,227,131]),TrackEntry:toUint8([174]),TrackType:toUint8([131]),FlagDefault:toUint8([136]),CodecID:toUint8([134]),CodecPrivate:toUint8([99,162]),VideoTrack:toUint8([224]),AudioTrack:toUint8([225]),Cluster:toUint8([31,67,182,117]),Timestamp:toUint8([231]),TimestampScale:toUint8([42,215,177]),BlockGroup:toUint8([160]),BlockDuration:toUint8([155]),Block:toUint8([161]),SimpleBlock:toUint8([163])},LENGTH_TABLE=[128,64,32,16,8,4,2,1],getLength=function kh(Ff){for(var x_=1,$P=0;$P<LENGTH_TABLE.length&&!(Ff&LENGTH_TABLE[$P]);$P++)x_++;return x_},getvint=function kh(Ff,x_,$P,zP){$P===void 0&&($P=!0),zP===void 0&&(zP=!1);var eme=getLength(Ff[x_]),tme=Ff.subarray(x_,x_+eme);return $P&&(tme=Array.prototype.slice.call(Ff,x_,x_+eme),tme[0]^=LENGTH_TABLE[eme-1]),{length:eme,value:bytesToNumber(tme,{signed:zP}),bytes:tme}},normalizePath=function kh(Ff){return typeof Ff=="string"?Ff.match(/.{1,2}/g).map(function(x_){return kh(x_)}):typeof Ff=="number"?numberToBytes(Ff):Ff},normalizePaths=function kh(Ff){return Array.isArray(Ff)?Ff.map(function(x_){return normalizePath(x_)}):[normalizePath(Ff)]},getInfinityDataSize=function kh(Ff,x_,$P){if($P>=x_.length)return x_.length;var zP=getvint(x_,$P,!1);if(bytesMatch(Ff.bytes,zP.bytes))return $P;var eme=getvint(x_,$P+zP.length);return kh(Ff,x_,$P+eme.length+eme.value+zP.length)},findEbml=function kh(Ff,x_){x_=normalizePaths(x_),Ff=toUint8(Ff);var $P=[];if(!x_.length)return $P;for(var zP=0;zP<Ff.length;){var eme=getvint(Ff,zP,!1),tme=getvint(Ff,zP+eme.length),nme=zP+eme.length+tme.length;tme.value===127&&(tme.value=getInfinityDataSize(eme,Ff,nme),tme.value!==Ff.length&&(tme.value-=nme));var rme=nme+tme.value>Ff.length?Ff.length:nme+tme.value,ime=Ff.subarray(nme,rme);bytesMatch(x_[0],eme.bytes)&&(x_.length===1?$P.push(ime):$P=$P.concat(kh(ime,x_.slice(1))));var ome=eme.length+tme.length+ime.length;zP+=ome}return $P},NAL_TYPE_ONE=toUint8([0,0,0,1]),NAL_TYPE_TWO=toUint8([0,0,1]),EMULATION_PREVENTION=toUint8([0,0,3]),discardEmulationPreventionBytes=function kh(Ff){for(var x_=[],$P=1;$P<Ff.length-2;)bytesMatch(Ff.subarray($P,$P+3),EMULATION_PREVENTION)&&(x_.push($P+2),$P++),$P++;if(x_.length===0)return Ff;var zP=Ff.length-x_.length,eme=new Uint8Array(zP),tme=0;for($P=0;$P<zP;tme++,$P++)tme===x_[0]&&(tme++,x_.shift()),eme[$P]=Ff[tme];return eme},findNal=function kh(Ff,x_,$P,zP){zP===void 0&&(zP=1/0),Ff=toUint8(Ff),$P=[].concat($P);for(var eme=0,tme,nme=0;eme<Ff.length&&(nme<zP||tme);){var rme=void 0;if(bytesMatch(Ff.subarray(eme),NAL_TYPE_ONE)?rme=4:bytesMatch(Ff.subarray(eme),NAL_TYPE_TWO)&&(rme=3),!rme){eme++;continue}if(nme++,tme)return discardEmulationPreventionBytes(Ff.subarray(tme,eme));var ime=void 0;x_==="h264"?ime=Ff[eme+rme]&31:x_==="h265"&&(ime=Ff[eme+rme]>>1&63),$P.indexOf(ime)!==-1&&(tme=eme+rme),eme+=rme+(x_==="h264"?1:2)}return Ff.subarray(0,0)},findH264Nal=function kh(Ff,x_,$P){return findNal(Ff,"h264",x_,$P)},findH265Nal=function kh(Ff,x_,$P){return findNal(Ff,"h265",x_,$P)},CONSTANTS={webm:toUint8([119,101,98,109]),matroska:toUint8([109,97,116,114,111,115,107,97]),flac:toUint8([102,76,97,67]),ogg:toUint8([79,103,103,83]),ac3:toUint8([11,119]),riff:toUint8([82,73,70,70]),avi:toUint8([65,86,73]),wav:toUint8([87,65,86,69]),"3gp":toUint8([102,116,121,112,51,103]),mp4:toUint8([102,116,121,112]),fmp4:toUint8([115,116,121,112]),mov:toUint8([102,116,121,112,113,116]),moov:toUint8([109,111,111,118]),moof:toUint8([109,111,111,102])},_isLikely={aac:function kh(Ff){var x_=getId3Offset(Ff);return bytesMatch(Ff,[255,16],{offset:x_,mask:[255,22]})},mp3:function kh(Ff){var x_=getId3Offset(Ff);return bytesMatch(Ff,[255,2],{offset:x_,mask:[255,6]})},webm:function kh(Ff){var x_=findEbml(Ff,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(x_,CONSTANTS.webm)},mkv:function kh(Ff){var x_=findEbml(Ff,[EBML_TAGS.EBML,EBML_TAGS.DocType])[0];return bytesMatch(x_,CONSTANTS.matroska)},mp4:function kh(Ff){if(_isLikely["3gp"](Ff)||_isLikely.mov(Ff))return!1;if(bytesMatch(Ff,CONSTANTS.mp4,{offset:4})||bytesMatch(Ff,CONSTANTS.fmp4,{offset:4})||bytesMatch(Ff,CONSTANTS.moof,{offset:4})||bytesMatch(Ff,CONSTANTS.moov,{offset:4}))return!0},mov:function kh(Ff){return bytesMatch(Ff,CONSTANTS.mov,{offset:4})},"3gp":function kh(Ff){return bytesMatch(Ff,CONSTANTS["3gp"],{offset:4})},ac3:function kh(Ff){var x_=getId3Offset(Ff);return bytesMatch(Ff,CONSTANTS.ac3,{offset:x_})},ts:function kh(Ff){if(Ff.length<189&&Ff.length>=1)return Ff[0]===71;for(var x_=0;x_+188<Ff.length&&x_<188;){if(Ff[x_]===71&&Ff[x_+188]===71)return!0;x_+=1}return!1},flac:function kh(Ff){var x_=getId3Offset(Ff);return bytesMatch(Ff,CONSTANTS.flac,{offset:x_})},ogg:function kh(Ff){return bytesMatch(Ff,CONSTANTS.ogg)},avi:function kh(Ff){return bytesMatch(Ff,CONSTANTS.riff)&&bytesMatch(Ff,CONSTANTS.avi,{offset:8})},wav:function kh(Ff){return bytesMatch(Ff,CONSTANTS.riff)&&bytesMatch(Ff,CONSTANTS.wav,{offset:8})},h264:function kh(Ff){return findH264Nal(Ff,7,3).length},h265:function kh(Ff){return findH265Nal(Ff,[32,33],3).length}},isLikelyTypes=Object.keys(_isLikely).filter(function(kh){return kh!=="ts"&&kh!=="h264"&&kh!=="h265"}).concat(["ts","h264","h265"]);isLikelyTypes.forEach(function(kh){var Ff=_isLikely[kh];_isLikely[kh]=function(x_){return Ff(toUint8(x_))}});var isLikely=_isLikely,detectContainerForBytes=function kh(Ff){Ff=toUint8(Ff);for(var x_=0;x_<isLikelyTypes.length;x_++){var $P=isLikelyTypes[x_];if(isLikely[$P](Ff))return $P}return""},isLikelyFmp4MediaSegment=function kh(Ff){return findBox(Ff,["moof"]).length>0},ONE_SECOND_IN_TS=9e4,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds;secondsToVideoTs=function(kh){return kh*ONE_SECOND_IN_TS};secondsToAudioTs=function(kh,Ff){return kh*Ff};videoTsToSeconds=function(kh){return kh/ONE_SECOND_IN_TS};audioTsToSeconds=function(kh,Ff){return kh/Ff};audioTsToVideoTs=function(kh,Ff){return secondsToVideoTs(audioTsToSeconds(kh,Ff))};videoTsToAudioTs=function(kh,Ff){return secondsToAudioTs(videoTsToSeconds(kh),Ff)};metadataTsToSeconds=function(kh,Ff,x_){return videoTsToSeconds(x_?kh:kh-Ff)};var clock={ONE_SECOND_IN_TS,secondsToVideoTs,secondsToAudioTs,videoTsToSeconds,audioTsToSeconds,audioTsToVideoTs,videoTsToAudioTs,metadataTsToSeconds};/**
 * @license
 * Video.js 8.6.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var version$6="8.6.1";const hooks_={},hooks=function(kh,Ff){return hooks_[kh]=hooks_[kh]||[],Ff&&(hooks_[kh]=hooks_[kh].concat(Ff)),hooks_[kh]},hook=function(kh,Ff){hooks(kh,Ff)},removeHook=function(kh,Ff){const x_=hooks(kh).indexOf(Ff);return x_<=-1?!1:(hooks_[kh]=hooks_[kh].slice(),hooks_[kh].splice(x_,1),!0)},hookOnce=function(kh,Ff){hooks(kh,[].concat(Ff).map(x_=>{const $P=(...zP)=>(removeHook(kh,$P),x_(...zP));return $P}))},FullscreenApi={prefixed:!0},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],specApi=apiMap[0];let browserApi;for(let kh=0;kh<apiMap.length;kh++)if(apiMap[kh][1]in document$2){browserApi=apiMap[kh];break}if(browserApi){for(let kh=0;kh<browserApi.length;kh++)FullscreenApi[specApi[kh]]=browserApi[kh];FullscreenApi.prefixed=browserApi[0]!==specApi[0]}let history=[];const LogByTypeFactory=(kh,Ff,x_)=>($P,zP,eme)=>{const tme=Ff.levels[zP],nme=new RegExp(`^(${tme})$`);let rme=kh;if($P!=="log"&&eme.unshift($P.toUpperCase()+":"),x_&&(rme=`%c${kh}`,eme.unshift(x_)),eme.unshift(rme+":"),history){history.push([].concat(eme));const ome=history.length-1e3;history.splice(0,ome>0?ome:0)}if(!window$1$1.console)return;let ime=window$1$1.console[$P];!ime&&$P==="debug"&&(ime=window$1$1.console.info||window$1$1.console.log),!(!ime||!tme||!nme.test($P))&&ime[Array.isArray(eme)?"apply":"call"](window$1$1.console,eme)};function createLogger$1(kh,Ff=":",x_=""){let $P="info",zP;const eme=function(...tme){zP("log",$P,tme)};return zP=LogByTypeFactory(kh,eme,x_),eme.createLogger=(tme,nme,rme)=>{const ime=nme!==void 0?nme:Ff,ome=rme!==void 0?rme:x_,sme=`${kh} ${ime} ${tme}`;return createLogger$1(sme,ime,ome)},eme.createNewLogger=(tme,nme,rme)=>createLogger$1(tme,nme,rme),eme.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:$P},eme.level=tme=>{if(typeof tme=="string"){if(!eme.levels.hasOwnProperty(tme))throw new Error(`"${tme}" in not a valid log level`);$P=tme}return $P},eme.history=()=>history?[].concat(history):[],eme.history.filter=tme=>(history||[]).filter(nme=>new RegExp(`.*${tme}.*`).test(nme[0])),eme.history.clear=()=>{history&&(history.length=0)},eme.history.disable=()=>{history!==null&&(history.length=0,history=null)},eme.history.enable=()=>{history===null&&(history=[])},eme.error=(...tme)=>zP("error",$P,tme),eme.warn=(...tme)=>zP("warn",$P,tme),eme.debug=(...tme)=>zP("debug",$P,tme),eme}const log$1=createLogger$1("VIDEOJS"),createLogger=log$1.createLogger,toString=Object.prototype.toString,keys=function(kh){return isObject(kh)?Object.keys(kh):[]};function each(kh,Ff){keys(kh).forEach(x_=>Ff(kh[x_],x_))}function reduce(kh,Ff,x_=0){return keys(kh).reduce(($P,zP)=>Ff($P,kh[zP],zP),x_)}function isObject(kh){return!!kh&&typeof kh=="object"}function isPlain(kh){return isObject(kh)&&toString.call(kh)==="[object Object]"&&kh.constructor===Object}function merge$1(...kh){const Ff={};return kh.forEach(x_=>{x_&&each(x_,($P,zP)=>{if(!isPlain($P)){Ff[zP]=$P;return}isPlain(Ff[zP])||(Ff[zP]={}),Ff[zP]=merge$1(Ff[zP],$P)})}),Ff}function values(kh={}){const Ff=[];for(const x_ in kh)if(kh.hasOwnProperty(x_)){const $P=kh[x_];Ff.push($P)}return Ff}function defineLazyProperty(kh,Ff,x_,$P=!0){const zP=tme=>Object.defineProperty(kh,Ff,{value:tme,enumerable:!0,writable:!0}),eme={configurable:!0,enumerable:!0,get(){const tme=x_();return zP(tme),tme}};return $P&&(eme.set=zP),Object.defineProperty(kh,Ff,eme)}var Obj=Object.freeze({__proto__:null,each,reduce,isObject,isPlain,merge:merge$1,values,defineLazyProperty});let IS_IPOD=!1,IOS_VERSION=null,IS_ANDROID=!1,ANDROID_VERSION,IS_FIREFOX=!1,IS_EDGE=!1,IS_CHROMIUM=!1,IS_CHROME=!1,CHROMIUM_VERSION=null,CHROME_VERSION=null,IE_VERSION=null,IS_SAFARI=!1,IS_WINDOWS=!1,IS_IPAD=!1,IS_IPHONE=!1;const TOUCH_ENABLED=!!(isReal()&&("ontouchstart"in window$1$1||window$1$1.navigator.maxTouchPoints||window$1$1.DocumentTouch&&window$1$1.document instanceof window$1$1.DocumentTouch)),UAD=window$1$1.navigator&&window$1$1.navigator.userAgentData;UAD&&(IS_ANDROID=UAD.platform==="Android",IS_EDGE=!!UAD.brands.find(kh=>kh.brand==="Microsoft Edge"),IS_CHROMIUM=!!UAD.brands.find(kh=>kh.brand==="Chromium"),IS_CHROME=!IS_EDGE&&IS_CHROMIUM,CHROMIUM_VERSION=CHROME_VERSION=(UAD.brands.find(kh=>kh.brand==="Chromium")||{}).version||null,IS_WINDOWS=UAD.platform==="Windows");if(!IS_CHROMIUM){const kh=window$1$1.navigator&&window$1$1.navigator.userAgent||"";IS_IPOD=/iPod/i.test(kh),IOS_VERSION=function(){const Ff=kh.match(/OS (\d+)_/i);return Ff&&Ff[1]?Ff[1]:null}(),IS_ANDROID=/Android/i.test(kh),ANDROID_VERSION=function(){const Ff=kh.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!Ff)return null;const x_=Ff[1]&&parseFloat(Ff[1]),$P=Ff[2]&&parseFloat(Ff[2]);return x_&&$P?parseFloat(Ff[1]+"."+Ff[2]):x_||null}(),IS_FIREFOX=/Firefox/i.test(kh),IS_EDGE=/Edg/i.test(kh),IS_CHROMIUM=/Chrome/i.test(kh)||/CriOS/i.test(kh),IS_CHROME=!IS_EDGE&&IS_CHROMIUM,CHROMIUM_VERSION=CHROME_VERSION=function(){const Ff=kh.match(/(Chrome|CriOS)\/(\d+)/);return Ff&&Ff[2]?parseFloat(Ff[2]):null}(),IE_VERSION=function(){const Ff=/MSIE\s(\d+)\.\d/.exec(kh);let x_=Ff&&parseFloat(Ff[1]);return!x_&&/Trident\/7.0/i.test(kh)&&/rv:11.0/.test(kh)&&(x_=11),x_}(),IS_SAFARI=/Safari/i.test(kh)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE,IS_WINDOWS=/Windows/i.test(kh),IS_IPAD=/iPad/i.test(kh)||IS_SAFARI&&TOUCH_ENABLED&&!/iPhone/i.test(kh),IS_IPHONE=/iPhone/i.test(kh)&&!IS_IPAD}const IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD,IS_ANY_SAFARI=(IS_SAFARI||IS_IOS)&&!IS_CHROME;var browser=Object.freeze({__proto__:null,get IS_IPOD(){return IS_IPOD},get IOS_VERSION(){return IOS_VERSION},get IS_ANDROID(){return IS_ANDROID},get ANDROID_VERSION(){return ANDROID_VERSION},get IS_FIREFOX(){return IS_FIREFOX},get IS_EDGE(){return IS_EDGE},get IS_CHROMIUM(){return IS_CHROMIUM},get IS_CHROME(){return IS_CHROME},get CHROMIUM_VERSION(){return CHROMIUM_VERSION},get CHROME_VERSION(){return CHROME_VERSION},get IE_VERSION(){return IE_VERSION},get IS_SAFARI(){return IS_SAFARI},get IS_WINDOWS(){return IS_WINDOWS},get IS_IPAD(){return IS_IPAD},get IS_IPHONE(){return IS_IPHONE},TOUCH_ENABLED,IS_IOS,IS_ANY_SAFARI});function isNonBlankString(kh){return typeof kh=="string"&&!!kh.trim()}function throwIfWhitespace(kh){if(kh.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function isReal(){return document$2===window$1$1.document}function isEl(kh){return isObject(kh)&&kh.nodeType===1}function isInFrame(){try{return window$1$1.parent!==window$1$1.self}catch(kh){return!0}}function createQuerier(kh){return function(Ff,x_){if(!isNonBlankString(Ff))return document$2[kh](null);isNonBlankString(x_)&&(x_=document$2.querySelector(x_));const $P=isEl(x_)?x_:document$2;return $P[kh]&&$P[kh](Ff)}}function createEl(kh="div",Ff={},x_={},$P){const zP=document$2.createElement(kh);return Object.getOwnPropertyNames(Ff).forEach(function(eme){const tme=Ff[eme];eme==="textContent"?textContent(zP,tme):(zP[eme]!==tme||eme==="tabIndex")&&(zP[eme]=tme)}),Object.getOwnPropertyNames(x_).forEach(function(eme){zP.setAttribute(eme,x_[eme])}),$P&&appendContent(zP,$P),zP}function textContent(kh,Ff){return typeof kh.textContent=="undefined"?kh.innerText=Ff:kh.textContent=Ff,kh}function prependTo(kh,Ff){Ff.firstChild?Ff.insertBefore(kh,Ff.firstChild):Ff.appendChild(kh)}function hasClass(kh,Ff){return throwIfWhitespace(Ff),kh.classList.contains(Ff)}function addClass(kh,...Ff){return kh.classList.add(...Ff.reduce((x_,$P)=>x_.concat($P.split(/\s+/)),[])),kh}function removeClass(kh,...Ff){return kh?(kh.classList.remove(...Ff.reduce((x_,$P)=>x_.concat($P.split(/\s+/)),[])),kh):(log$1.warn("removeClass was called with an element that doesn't exist"),null)}function toggleClass(kh,Ff,x_){return typeof x_=="function"&&(x_=x_(kh,Ff)),typeof x_!="boolean"&&(x_=void 0),Ff.split(/\s+/).forEach($P=>kh.classList.toggle($P,x_)),kh}function setAttributes(kh,Ff){Object.getOwnPropertyNames(Ff).forEach(function(x_){const $P=Ff[x_];$P===null||typeof $P=="undefined"||$P===!1?kh.removeAttribute(x_):kh.setAttribute(x_,$P===!0?"":$P)})}function getAttributes(kh){const Ff={},x_=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(kh&&kh.attributes&&kh.attributes.length>0){const $P=kh.attributes;for(let zP=$P.length-1;zP>=0;zP--){const eme=$P[zP].name;let tme=$P[zP].value;x_.includes(eme)&&(tme=tme!==null),Ff[eme]=tme}}return Ff}function getAttribute(kh,Ff){return kh.getAttribute(Ff)}function setAttribute(kh,Ff,x_){kh.setAttribute(Ff,x_)}function removeAttribute(kh,Ff){kh.removeAttribute(Ff)}function blockTextSelection(){document$2.body.focus(),document$2.onselectstart=function(){return!1}}function unblockTextSelection(){document$2.onselectstart=function(){return!0}}function getBoundingClientRect(kh){if(kh&&kh.getBoundingClientRect&&kh.parentNode){const Ff=kh.getBoundingClientRect(),x_={};return["bottom","height","left","right","top","width"].forEach($P=>{Ff[$P]!==void 0&&(x_[$P]=Ff[$P])}),x_.height||(x_.height=parseFloat(computedStyle(kh,"height"))),x_.width||(x_.width=parseFloat(computedStyle(kh,"width"))),x_}}function findPosition(kh){if(!kh||kh&&!kh.offsetParent)return{left:0,top:0,width:0,height:0};const Ff=kh.offsetWidth,x_=kh.offsetHeight;let $P=0,zP=0;for(;kh.offsetParent&&kh!==document$2[FullscreenApi.fullscreenElement];)$P+=kh.offsetLeft,zP+=kh.offsetTop,kh=kh.offsetParent;return{left:$P,top:zP,width:Ff,height:x_}}function getPointerPosition(kh,Ff){const x_={x:0,y:0};if(IS_IOS){let ome=kh;for(;ome&&ome.nodeName.toLowerCase()!=="html";){const sme=computedStyle(ome,"transform");if(/^matrix/.test(sme)){const ame=sme.slice(7,-1).split(/,\s/).map(Number);x_.x+=ame[4],x_.y+=ame[5]}else if(/^matrix3d/.test(sme)){const ame=sme.slice(9,-1).split(/,\s/).map(Number);x_.x+=ame[12],x_.y+=ame[13]}ome=ome.parentNode}}const $P={},zP=findPosition(Ff.target),eme=findPosition(kh),tme=eme.width,nme=eme.height;let rme=Ff.offsetY-(eme.top-zP.top),ime=Ff.offsetX-(eme.left-zP.left);return Ff.changedTouches&&(ime=Ff.changedTouches[0].pageX-eme.left,rme=Ff.changedTouches[0].pageY+eme.top,IS_IOS&&(ime-=x_.x,rme-=x_.y)),$P.y=1-Math.max(0,Math.min(1,rme/nme)),$P.x=Math.max(0,Math.min(1,ime/tme)),$P}function isTextNode(kh){return isObject(kh)&&kh.nodeType===3}function emptyEl(kh){for(;kh.firstChild;)kh.removeChild(kh.firstChild);return kh}function normalizeContent(kh){return typeof kh=="function"&&(kh=kh()),(Array.isArray(kh)?kh:[kh]).map(Ff=>{if(typeof Ff=="function"&&(Ff=Ff()),isEl(Ff)||isTextNode(Ff))return Ff;if(typeof Ff=="string"&&/\S/.test(Ff))return document$2.createTextNode(Ff)}).filter(Ff=>Ff)}function appendContent(kh,Ff){return normalizeContent(Ff).forEach(x_=>kh.appendChild(x_)),kh}function insertContent(kh,Ff){return appendContent(emptyEl(kh),Ff)}function isSingleLeftClick(kh){return kh.button===void 0&&kh.buttons===void 0||kh.button===0&&kh.buttons===void 0||kh.type==="mouseup"&&kh.button===0&&kh.buttons===0?!0:!(kh.button!==0||kh.buttons!==1)}const $=createQuerier("querySelector"),$$=createQuerier("querySelectorAll");function computedStyle(kh,Ff){if(!kh||!Ff)return"";if(typeof window$1$1.getComputedStyle=="function"){let x_;try{x_=window$1$1.getComputedStyle(kh)}catch($P){return""}return x_?x_.getPropertyValue(Ff)||x_[Ff]:""}return""}function copyStyleSheetsToWindow(kh){[...document$2.styleSheets].forEach(Ff=>{try{const x_=[...Ff.cssRules].map(zP=>zP.cssText).join(""),$P=document$2.createElement("style");$P.textContent=x_,kh.document.head.appendChild($P)}catch(x_){const $P=document$2.createElement("link");$P.rel="stylesheet",$P.type=Ff.type,$P.media=Ff.media.mediaText,$P.href=Ff.href,kh.document.head.appendChild($P)}})}var Dom=Object.freeze({__proto__:null,isReal,isEl,isInFrame,createEl,textContent,prependTo,hasClass,addClass,removeClass,toggleClass,setAttributes,getAttributes,getAttribute,setAttribute,removeAttribute,blockTextSelection,unblockTextSelection,getBoundingClientRect,findPosition,getPointerPosition,isTextNode,emptyEl,normalizeContent,appendContent,insertContent,isSingleLeftClick,$,$$,computedStyle,copyStyleSheetsToWindow});let _windowLoaded=!1,videojs$1;const autoSetup=function(){if(videojs$1.options.autoSetup===!1)return;const kh=Array.prototype.slice.call(document$2.getElementsByTagName("video")),Ff=Array.prototype.slice.call(document$2.getElementsByTagName("audio")),x_=Array.prototype.slice.call(document$2.getElementsByTagName("video-js")),$P=kh.concat(Ff,x_);if($P&&$P.length>0)for(let zP=0,eme=$P.length;zP<eme;zP++){const tme=$P[zP];if(tme&&tme.getAttribute)tme.player===void 0&&tme.getAttribute("data-setup")!==null&&videojs$1(tme);else{autoSetupTimeout(1);break}}else _windowLoaded||autoSetupTimeout(1)};function autoSetupTimeout(kh,Ff){isReal()&&(Ff&&(videojs$1=Ff),window$1$1.setTimeout(autoSetup,kh))}function setWindowLoaded(){_windowLoaded=!0,window$1$1.removeEventListener("load",setWindowLoaded)}isReal()&&(document$2.readyState==="complete"?setWindowLoaded():window$1$1.addEventListener("load",setWindowLoaded));const createStyleElement=function(kh){const Ff=document$2.createElement("style");return Ff.className=kh,Ff},setTextContent=function(kh,Ff){kh.styleSheet?kh.styleSheet.cssText=Ff:kh.textContent=Ff};var DomData=new WeakMap;const _initialGuid=3;let _guid=_initialGuid;function newGUID(){return _guid++}function _cleanUpEvents(kh,Ff){if(!DomData.has(kh))return;const x_=DomData.get(kh);x_.handlers[Ff].length===0&&(delete x_.handlers[Ff],kh.removeEventListener?kh.removeEventListener(Ff,x_.dispatcher,!1):kh.detachEvent&&kh.detachEvent("on"+Ff,x_.dispatcher)),Object.getOwnPropertyNames(x_.handlers).length<=0&&(delete x_.handlers,delete x_.dispatcher,delete x_.disabled),Object.getOwnPropertyNames(x_).length===0&&DomData.delete(kh)}function _handleMultipleEvents(kh,Ff,x_,$P){x_.forEach(function(zP){kh(Ff,zP,$P)})}function fixEvent(kh){if(kh.fixed_)return kh;function Ff(){return!0}function x_(){return!1}if(!kh||!kh.isPropagationStopped||!kh.isImmediatePropagationStopped){const $P=kh||window$1$1.event;kh={};for(const zP in $P)zP!=="layerX"&&zP!=="layerY"&&zP!=="keyLocation"&&zP!=="webkitMovementX"&&zP!=="webkitMovementY"&&zP!=="path"&&(zP==="returnValue"&&$P.preventDefault||(kh[zP]=$P[zP]));if(kh.target||(kh.target=kh.srcElement||document$2),kh.relatedTarget||(kh.relatedTarget=kh.fromElement===kh.target?kh.toElement:kh.fromElement),kh.preventDefault=function(){$P.preventDefault&&$P.preventDefault(),kh.returnValue=!1,$P.returnValue=!1,kh.defaultPrevented=!0},kh.defaultPrevented=!1,kh.stopPropagation=function(){$P.stopPropagation&&$P.stopPropagation(),kh.cancelBubble=!0,$P.cancelBubble=!0,kh.isPropagationStopped=Ff},kh.isPropagationStopped=x_,kh.stopImmediatePropagation=function(){$P.stopImmediatePropagation&&$P.stopImmediatePropagation(),kh.isImmediatePropagationStopped=Ff,kh.stopPropagation()},kh.isImmediatePropagationStopped=x_,kh.clientX!==null&&kh.clientX!==void 0){const zP=document$2.documentElement,eme=document$2.body;kh.pageX=kh.clientX+(zP&&zP.scrollLeft||eme&&eme.scrollLeft||0)-(zP&&zP.clientLeft||eme&&eme.clientLeft||0),kh.pageY=kh.clientY+(zP&&zP.scrollTop||eme&&eme.scrollTop||0)-(zP&&zP.clientTop||eme&&eme.clientTop||0)}kh.which=kh.charCode||kh.keyCode,kh.button!==null&&kh.button!==void 0&&(kh.button=kh.button&1?0:kh.button&4?1:kh.button&2?2:0)}return kh.fixed_=!0,kh}let _supportsPassive;const supportsPassive=function(){if(typeof _supportsPassive!="boolean"){_supportsPassive=!1;try{const kh=Object.defineProperty({},"passive",{get(){_supportsPassive=!0}});window$1$1.addEventListener("test",null,kh),window$1$1.removeEventListener("test",null,kh)}catch(kh){}}return _supportsPassive},passiveEvents=["touchstart","touchmove"];function on(kh,Ff,x_){if(Array.isArray(Ff))return _handleMultipleEvents(on,kh,Ff,x_);DomData.has(kh)||DomData.set(kh,{});const $P=DomData.get(kh);if($P.handlers||($P.handlers={}),$P.handlers[Ff]||($P.handlers[Ff]=[]),x_.guid||(x_.guid=newGUID()),$P.handlers[Ff].push(x_),$P.dispatcher||($P.disabled=!1,$P.dispatcher=function(zP,eme){if($P.disabled)return;zP=fixEvent(zP);const tme=$P.handlers[zP.type];if(tme){const nme=tme.slice(0);for(let rme=0,ime=nme.length;rme<ime&&!zP.isImmediatePropagationStopped();rme++)try{nme[rme].call(kh,zP,eme)}catch(ome){log$1.error(ome)}}}),$P.handlers[Ff].length===1)if(kh.addEventListener){let zP=!1;supportsPassive()&&passiveEvents.indexOf(Ff)>-1&&(zP={passive:!0}),kh.addEventListener(Ff,$P.dispatcher,zP)}else kh.attachEvent&&kh.attachEvent("on"+Ff,$P.dispatcher)}function off(kh,Ff,x_){if(!DomData.has(kh))return;const $P=DomData.get(kh);if(!$P.handlers)return;if(Array.isArray(Ff))return _handleMultipleEvents(off,kh,Ff,x_);const zP=function(tme,nme){$P.handlers[nme]=[],_cleanUpEvents(tme,nme)};if(Ff===void 0){for(const tme in $P.handlers)Object.prototype.hasOwnProperty.call($P.handlers||{},tme)&&zP(kh,tme);return}const eme=$P.handlers[Ff];if(eme){if(!x_){zP(kh,Ff);return}if(x_.guid)for(let tme=0;tme<eme.length;tme++)eme[tme].guid===x_.guid&&eme.splice(tme--,1);_cleanUpEvents(kh,Ff)}}function trigger(kh,Ff,x_){const $P=DomData.has(kh)?DomData.get(kh):{},zP=kh.parentNode||kh.ownerDocument;if(typeof Ff=="string"?Ff={type:Ff,target:kh}:Ff.target||(Ff.target=kh),Ff=fixEvent(Ff),$P.dispatcher&&$P.dispatcher.call(kh,Ff,x_),zP&&!Ff.isPropagationStopped()&&Ff.bubbles===!0)trigger.call(null,zP,Ff,x_);else if(!zP&&!Ff.defaultPrevented&&Ff.target&&Ff.target[Ff.type]){DomData.has(Ff.target)||DomData.set(Ff.target,{});const eme=DomData.get(Ff.target);Ff.target[Ff.type]&&(eme.disabled=!0,typeof Ff.target[Ff.type]=="function"&&Ff.target[Ff.type](),eme.disabled=!1)}return!Ff.defaultPrevented}function one(kh,Ff,x_){if(Array.isArray(Ff))return _handleMultipleEvents(one,kh,Ff,x_);const $P=function(){off(kh,Ff,$P),x_.apply(this,arguments)};$P.guid=x_.guid=x_.guid||newGUID(),on(kh,Ff,$P)}function any(kh,Ff,x_){const $P=function(){off(kh,Ff,$P),x_.apply(this,arguments)};$P.guid=x_.guid=x_.guid||newGUID(),on(kh,Ff,$P)}var Events=Object.freeze({__proto__:null,fixEvent,on,off,trigger,one,any});const UPDATE_REFRESH_INTERVAL=30,bind_=function(kh,Ff,x_){Ff.guid||(Ff.guid=newGUID());const $P=Ff.bind(kh);return $P.guid=x_?x_+"_"+Ff.guid:Ff.guid,$P},throttle=function(kh,Ff){let x_=window$1$1.performance.now();return function(...zP){const eme=window$1$1.performance.now();eme-x_>=Ff&&(kh(...zP),x_=eme)}},debounce=function(kh,Ff,x_,$P=window$1$1){let zP;const eme=()=>{$P.clearTimeout(zP),zP=null},tme=function(){const nme=this,rme=arguments;let ime=function(){zP=null,ime=null,x_||kh.apply(nme,rme)};!zP&&x_&&kh.apply(nme,rme),$P.clearTimeout(zP),zP=$P.setTimeout(ime,Ff)};return tme.cancel=eme,tme};var Fn=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL,bind_,throttle,debounce});let EVENT_MAP;class EventTarget$2{on(Ff,x_){const $P=this.addEventListener;this.addEventListener=()=>{},on(this,Ff,x_),this.addEventListener=$P}off(Ff,x_){off(this,Ff,x_)}one(Ff,x_){const $P=this.addEventListener;this.addEventListener=()=>{},one(this,Ff,x_),this.addEventListener=$P}any(Ff,x_){const $P=this.addEventListener;this.addEventListener=()=>{},any(this,Ff,x_),this.addEventListener=$P}trigger(Ff){const x_=Ff.type||Ff;typeof Ff=="string"&&(Ff={type:x_}),Ff=fixEvent(Ff),this.allowedEvents_[x_]&&this["on"+x_]&&this["on"+x_](Ff),trigger(this,Ff)}queueTrigger(Ff){EVENT_MAP||(EVENT_MAP=new Map);const x_=Ff.type||Ff;let $P=EVENT_MAP.get(this);$P||($P=new Map,EVENT_MAP.set(this,$P));const zP=$P.get(x_);$P.delete(x_),window$1$1.clearTimeout(zP);const eme=window$1$1.setTimeout(()=>{$P.delete(x_),$P.size===0&&($P=null,EVENT_MAP.delete(this)),this.trigger(Ff)},0);$P.set(x_,eme)}}EventTarget$2.prototype.allowedEvents_={};EventTarget$2.prototype.addEventListener=EventTarget$2.prototype.on;EventTarget$2.prototype.removeEventListener=EventTarget$2.prototype.off;EventTarget$2.prototype.dispatchEvent=EventTarget$2.prototype.trigger;const objName=kh=>typeof kh.name=="function"?kh.name():typeof kh.name=="string"?kh.name:kh.name_?kh.name_:kh.constructor&&kh.constructor.name?kh.constructor.name:typeof kh,isEvented=kh=>kh instanceof EventTarget$2||!!kh.eventBusEl_&&["on","one","off","trigger"].every(Ff=>typeof kh[Ff]=="function"),addEventedCallback=(kh,Ff)=>{isEvented(kh)?Ff():(kh.eventedCallbacks||(kh.eventedCallbacks=[]),kh.eventedCallbacks.push(Ff))},isValidEventType=kh=>typeof kh=="string"&&/\S/.test(kh)||Array.isArray(kh)&&!!kh.length,validateTarget=(kh,Ff,x_)=>{if(!kh||!kh.nodeName&&!isEvented(kh))throw new Error(`Invalid target for ${objName(Ff)}#${x_}; must be a DOM node or evented object.`)},validateEventType=(kh,Ff,x_)=>{if(!isValidEventType(kh))throw new Error(`Invalid event type for ${objName(Ff)}#${x_}; must be a non-empty string or array.`)},validateListener=(kh,Ff,x_)=>{if(typeof kh!="function")throw new Error(`Invalid listener for ${objName(Ff)}#${x_}; must be a function.`)},normalizeListenArgs=(kh,Ff,x_)=>{const $P=Ff.length<3||Ff[0]===kh||Ff[0]===kh.eventBusEl_;let zP,eme,tme;return $P?(zP=kh.eventBusEl_,Ff.length>=3&&Ff.shift(),[eme,tme]=Ff):[zP,eme,tme]=Ff,validateTarget(zP,kh,x_),validateEventType(eme,kh,x_),validateListener(tme,kh,x_),tme=bind_(kh,tme),{isTargetingSelf:$P,target:zP,type:eme,listener:tme}},listen=(kh,Ff,x_,$P)=>{validateTarget(kh,kh,Ff),kh.nodeName?Events[Ff](kh,x_,$P):kh[Ff](x_,$P)},EventedMixin={on(...kh){const{isTargetingSelf:Ff,target:x_,type:$P,listener:zP}=normalizeListenArgs(this,kh,"on");if(listen(x_,"on",$P,zP),!Ff){const eme=()=>this.off(x_,$P,zP);eme.guid=zP.guid;const tme=()=>this.off("dispose",eme);tme.guid=zP.guid,listen(this,"on","dispose",eme),listen(x_,"on","dispose",tme)}},one(...kh){const{isTargetingSelf:Ff,target:x_,type:$P,listener:zP}=normalizeListenArgs(this,kh,"one");if(Ff)listen(x_,"one",$P,zP);else{const eme=(...tme)=>{this.off(x_,$P,eme),zP.apply(null,tme)};eme.guid=zP.guid,listen(x_,"one",$P,eme)}},any(...kh){const{isTargetingSelf:Ff,target:x_,type:$P,listener:zP}=normalizeListenArgs(this,kh,"any");if(Ff)listen(x_,"any",$P,zP);else{const eme=(...tme)=>{this.off(x_,$P,eme),zP.apply(null,tme)};eme.guid=zP.guid,listen(x_,"any",$P,eme)}},off(kh,Ff,x_){if(!kh||isValidEventType(kh))off(this.eventBusEl_,kh,Ff);else{const $P=kh,zP=Ff;validateTarget($P,this,"off"),validateEventType(zP,this,"off"),validateListener(x_,this,"off"),x_=bind_(this,x_),this.off("dispose",x_),$P.nodeName?(off($P,zP,x_),off($P,"dispose",x_)):isEvented($P)&&($P.off(zP,x_),$P.off("dispose",x_))}},trigger(kh,Ff){validateTarget(this.eventBusEl_,this,"trigger");const x_=kh&&typeof kh!="string"?kh.type:kh;if(!isValidEventType(x_))throw new Error(`Invalid event type for ${objName(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return trigger(this.eventBusEl_,kh,Ff)}};function evented(kh,Ff={}){const{eventBusKey:x_}=Ff;if(x_){if(!kh[x_].nodeName)throw new Error(`The eventBusKey "${x_}" does not refer to an element.`);kh.eventBusEl_=kh[x_]}else kh.eventBusEl_=createEl("span",{className:"vjs-event-bus"});return Object.assign(kh,EventedMixin),kh.eventedCallbacks&&kh.eventedCallbacks.forEach($P=>{$P()}),kh.on("dispose",()=>{kh.off(),[kh,kh.el_,kh.eventBusEl_].forEach(function($P){$P&&DomData.has($P)&&DomData.delete($P)}),window$1$1.setTimeout(()=>{kh.eventBusEl_=null},0)}),kh}const StatefulMixin={state:{},setState(kh){typeof kh=="function"&&(kh=kh());let Ff;return each(kh,(x_,$P)=>{this.state[$P]!==x_&&(Ff=Ff||{},Ff[$P]={from:this.state[$P],to:x_}),this.state[$P]=x_}),Ff&&isEvented(this)&&this.trigger({changes:Ff,type:"statechanged"}),Ff}};function stateful(kh,Ff){return Object.assign(kh,StatefulMixin),kh.state=Object.assign({},kh.state,Ff),typeof kh.handleStateChanged=="function"&&isEvented(kh)&&kh.on("statechanged",kh.handleStateChanged),kh}const toLowerCase=function(kh){return typeof kh!="string"?kh:kh.replace(/./,Ff=>Ff.toLowerCase())},toTitleCase$1=function(kh){return typeof kh!="string"?kh:kh.replace(/./,Ff=>Ff.toUpperCase())},titleCaseEquals=function(kh,Ff){return toTitleCase$1(kh)===toTitleCase$1(Ff)};var Str=Object.freeze({__proto__:null,toLowerCase,toTitleCase:toTitleCase$1,titleCaseEquals});class Component$1{constructor(Ff,x_,$P){if(!Ff&&this.play?this.player_=Ff=this:this.player_=Ff,this.isDisposed_=!1,this.parentComponent_=null,this.options_=merge$1({},this.options_),x_=this.options_=merge$1(this.options_,x_),this.id_=x_.id||x_.el&&x_.el.id,!this.id_){const zP=Ff&&Ff.id&&Ff.id()||"no_player";this.id_=`${zP}_component_${newGUID()}`}this.name_=x_.name||null,x_.el?this.el_=x_.el:x_.createEl!==!1&&(this.el_=this.createEl()),x_.className&&this.el_&&x_.className.split(" ").forEach(zP=>this.addClass(zP)),["on","off","one","any","trigger"].forEach(zP=>{this[zP]=void 0}),x_.evented!==!1&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,x_.initChildren!==!1&&this.initChildren(),this.ready($P),x_.reportTouchActivity!==!1&&this.enableTouchActivity()}on(Ff,x_){}off(Ff,x_){}one(Ff,x_){}any(Ff,x_){}trigger(Ff,x_){}dispose(Ff={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let x_=this.children_.length-1;x_>=0;x_--)this.children_[x_].dispose&&this.children_[x_].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(Ff.restoreEl?this.el_.parentNode.replaceChild(Ff.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(Ff){return Ff?(this.options_=merge$1(this.options_,Ff),this.options_):this.options_}el(){return this.el_}createEl(Ff,x_,$P){return createEl(Ff,x_,$P)}localize(Ff,x_,$P=Ff){const zP=this.player_.language&&this.player_.language(),eme=this.player_.languages&&this.player_.languages(),tme=eme&&eme[zP],nme=zP&&zP.split("-")[0],rme=eme&&eme[nme];let ime=$P;return tme&&tme[Ff]?ime=tme[Ff]:rme&&rme[Ff]&&(ime=rme[Ff]),x_&&(ime=ime.replace(/\{(\d+)\}/g,function(ome,sme){const ame=x_[sme-1];let lme=ame;return typeof ame=="undefined"&&(lme=ome),lme})),ime}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(Ff){return this.childIndex_[Ff]}getChild(Ff){if(Ff)return this.childNameIndex_[Ff]}getDescendant(...Ff){Ff=Ff.reduce(($P,zP)=>$P.concat(zP),[]);let x_=this;for(let $P=0;$P<Ff.length;$P++)if(x_=x_.getChild(Ff[$P]),!x_||!x_.getChild)return;return x_}setIcon(Ff,x_=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const $P="http://www.w3.org/2000/svg",zP=createEl("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),eme=document$2.createElementNS($P,"svg");eme.setAttributeNS(null,"viewBox","0 0 512 512");const tme=document$2.createElementNS($P,"use");return eme.appendChild(tme),tme.setAttributeNS(null,"href",`#vjs-icon-${Ff}`),zP.appendChild(eme),this.iconIsSet_?x_.replaceChild(zP,x_.querySelector(".vjs-icon-placeholder")):x_.appendChild(zP),this.iconIsSet_=!0,zP}addChild(Ff,x_={},$P=this.children_.length){let zP,eme;if(typeof Ff=="string"){eme=toTitleCase$1(Ff);const tme=x_.componentClass||eme;x_.name=eme;const nme=Component$1.getComponent(tme);if(!nme)throw new Error(`Component ${tme} does not exist`);if(typeof nme!="function")return null;zP=new nme(this.player_||this,x_)}else zP=Ff;if(zP.parentComponent_&&zP.parentComponent_.removeChild(zP),this.children_.splice($P,0,zP),zP.parentComponent_=this,typeof zP.id=="function"&&(this.childIndex_[zP.id()]=zP),eme=eme||zP.name&&toTitleCase$1(zP.name()),eme&&(this.childNameIndex_[eme]=zP,this.childNameIndex_[toLowerCase(eme)]=zP),typeof zP.el=="function"&&zP.el()){let tme=null;this.children_[$P+1]&&(this.children_[$P+1].el_?tme=this.children_[$P+1].el_:isEl(this.children_[$P+1])&&(tme=this.children_[$P+1])),this.contentEl().insertBefore(zP.el(),tme)}return zP}removeChild(Ff){if(typeof Ff=="string"&&(Ff=this.getChild(Ff)),!Ff||!this.children_)return;let x_=!1;for(let zP=this.children_.length-1;zP>=0;zP--)if(this.children_[zP]===Ff){x_=!0,this.children_.splice(zP,1);break}if(!x_)return;Ff.parentComponent_=null,this.childIndex_[Ff.id()]=null,this.childNameIndex_[toTitleCase$1(Ff.name())]=null,this.childNameIndex_[toLowerCase(Ff.name())]=null;const $P=Ff.el();$P&&$P.parentNode===this.contentEl()&&this.contentEl().removeChild(Ff.el())}initChildren(){const Ff=this.options_.children;if(Ff){const x_=this.options_,$P=tme=>{const nme=tme.name;let rme=tme.opts;if(x_[nme]!==void 0&&(rme=x_[nme]),rme===!1)return;rme===!0&&(rme={}),rme.playerOptions=this.options_.playerOptions;const ime=this.addChild(nme,rme);ime&&(this[nme]=ime)};let zP;const eme=Component$1.getComponent("Tech");Array.isArray(Ff)?zP=Ff:zP=Object.keys(Ff),zP.concat(Object.keys(this.options_).filter(function(tme){return!zP.some(function(nme){return typeof nme=="string"?tme===nme:tme===nme.name})})).map(tme=>{let nme,rme;return typeof tme=="string"?(nme=tme,rme=Ff[nme]||this.options_[nme]||{}):(nme=tme.name,rme=tme),{name:nme,opts:rme}}).filter(tme=>{const nme=Component$1.getComponent(tme.opts.componentClass||toTitleCase$1(tme.name));return nme&&!eme.isTech(nme)}).forEach($P)}}buildCSSClass(){return""}ready(Ff,x_=!1){if(Ff){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(Ff);return}x_?Ff.call(this):this.setTimeout(Ff,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const Ff=this.readyQueue_;this.readyQueue_=[],Ff&&Ff.length>0&&Ff.forEach(function(x_){x_.call(this)},this),this.trigger("ready")},1)}$(Ff,x_){return $(Ff,x_||this.contentEl())}$$(Ff,x_){return $$(Ff,x_||this.contentEl())}hasClass(Ff){return hasClass(this.el_,Ff)}addClass(...Ff){addClass(this.el_,...Ff)}removeClass(...Ff){removeClass(this.el_,...Ff)}toggleClass(Ff,x_){toggleClass(this.el_,Ff,x_)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(Ff){return getAttribute(this.el_,Ff)}setAttribute(Ff,x_){setAttribute(this.el_,Ff,x_)}removeAttribute(Ff){removeAttribute(this.el_,Ff)}width(Ff,x_){return this.dimension("width",Ff,x_)}height(Ff,x_){return this.dimension("height",Ff,x_)}dimensions(Ff,x_){this.width(Ff,!0),this.height(x_)}dimension(Ff,x_,$P){if(x_!==void 0){(x_===null||x_!==x_)&&(x_=0),(""+x_).indexOf("%")!==-1||(""+x_).indexOf("px")!==-1?this.el_.style[Ff]=x_:x_==="auto"?this.el_.style[Ff]="":this.el_.style[Ff]=x_+"px",$P||this.trigger("componentresize");return}if(!this.el_)return 0;const zP=this.el_.style[Ff],eme=zP.indexOf("px");return parseInt(eme!==-1?zP.slice(0,eme):this.el_["offset"+toTitleCase$1(Ff)],10)}currentDimension(Ff){let x_=0;if(Ff!=="width"&&Ff!=="height")throw new Error("currentDimension only accepts width or height value");if(x_=computedStyle(this.el_,Ff),x_=parseFloat(x_),x_===0||isNaN(x_)){const $P=`offset${toTitleCase$1(Ff)}`;x_=this.el_[$P]}return x_}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(Ff){this.player_&&(keycode.isEventKey(Ff,"Tab")||Ff.stopPropagation(),this.player_.handleKeyDown(Ff))}handleKeyPress(Ff){this.handleKeyDown(Ff)}emitTapEvents(){let Ff=0,x_=null;const $P=10,zP=200;let eme;this.on("touchstart",function(nme){nme.touches.length===1&&(x_={pageX:nme.touches[0].pageX,pageY:nme.touches[0].pageY},Ff=window$1$1.performance.now(),eme=!0)}),this.on("touchmove",function(nme){if(nme.touches.length>1)eme=!1;else if(x_){const rme=nme.touches[0].pageX-x_.pageX,ime=nme.touches[0].pageY-x_.pageY;Math.sqrt(rme*rme+ime*ime)>$P&&(eme=!1)}});const tme=function(){eme=!1};this.on("touchleave",tme),this.on("touchcancel",tme),this.on("touchend",function(nme){x_=null,eme===!0&&window$1$1.performance.now()-Ff<zP&&(nme.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const Ff=bind_(this.player(),this.player().reportUserActivity);let x_;this.on("touchstart",function(){Ff(),this.clearInterval(x_),x_=this.setInterval(Ff,250)});const $P=function(zP){Ff(),this.clearInterval(x_)};this.on("touchmove",Ff),this.on("touchend",$P),this.on("touchcancel",$P)}setTimeout(Ff,x_){var $P;return Ff=bind_(this,Ff),this.clearTimersOnDispose_(),$P=window$1$1.setTimeout(()=>{this.setTimeoutIds_.has($P)&&this.setTimeoutIds_.delete($P),Ff()},x_),this.setTimeoutIds_.add($P),$P}clearTimeout(Ff){return this.setTimeoutIds_.has(Ff)&&(this.setTimeoutIds_.delete(Ff),window$1$1.clearTimeout(Ff)),Ff}setInterval(Ff,x_){Ff=bind_(this,Ff),this.clearTimersOnDispose_();const $P=window$1$1.setInterval(Ff,x_);return this.setIntervalIds_.add($P),$P}clearInterval(Ff){return this.setIntervalIds_.has(Ff)&&(this.setIntervalIds_.delete(Ff),window$1$1.clearInterval(Ff)),Ff}requestAnimationFrame(Ff){this.clearTimersOnDispose_();var x_;return Ff=bind_(this,Ff),x_=window$1$1.requestAnimationFrame(()=>{this.rafIds_.has(x_)&&this.rafIds_.delete(x_),Ff()}),this.rafIds_.add(x_),x_}requestNamedAnimationFrame(Ff,x_){if(this.namedRafs_.has(Ff))return;this.clearTimersOnDispose_(),x_=bind_(this,x_);const $P=this.requestAnimationFrame(()=>{x_(),this.namedRafs_.has(Ff)&&this.namedRafs_.delete(Ff)});return this.namedRafs_.set(Ff,$P),Ff}cancelNamedAnimationFrame(Ff){this.namedRafs_.has(Ff)&&(this.cancelAnimationFrame(this.namedRafs_.get(Ff)),this.namedRafs_.delete(Ff))}cancelAnimationFrame(Ff){return this.rafIds_.has(Ff)&&(this.rafIds_.delete(Ff),window$1$1.cancelAnimationFrame(Ff)),Ff}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([Ff,x_])=>{this[Ff].forEach(($P,zP)=>this[x_](zP))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(Ff,x_){if(typeof Ff!="string"||!Ff)throw new Error(`Illegal component name, "${Ff}"; must be a non-empty string.`);const $P=Component$1.getComponent("Tech"),zP=$P&&$P.isTech(x_),eme=Component$1===x_||Component$1.prototype.isPrototypeOf(x_.prototype);if(zP||!eme){let nme;throw zP?nme="techs must be registered using Tech.registerTech()":nme="must be a Component subclass",new Error(`Illegal component, "${Ff}"; ${nme}.`)}Ff=toTitleCase$1(Ff),Component$1.components_||(Component$1.components_={});const tme=Component$1.getComponent("Player");if(Ff==="Player"&&tme&&tme.players){const nme=tme.players,rme=Object.keys(nme);if(nme&&rme.length>0&&rme.map(ime=>nme[ime]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component$1.components_[Ff]=x_,Component$1.components_[toLowerCase(Ff)]=x_,x_}static getComponent(Ff){if(!(!Ff||!Component$1.components_))return Component$1.components_[Ff]}}Component$1.registerComponent("Component",Component$1);function rangeCheck(kh,Ff,x_){if(typeof Ff!="number"||Ff<0||Ff>x_)throw new Error(`Failed to execute '${kh}' on 'TimeRanges': The index provided (${Ff}) is non-numeric or out of bounds (0-${x_}).`)}function getRange(kh,Ff,x_,$P){return rangeCheck(kh,$P,x_.length-1),x_[$P][Ff]}function createTimeRangesObj(kh){let Ff;return kh===void 0||kh.length===0?Ff={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:Ff={length:kh.length,start:getRange.bind(null,"start",0,kh),end:getRange.bind(null,"end",1,kh)},window$1$1.Symbol&&window$1$1.Symbol.iterator&&(Ff[window$1$1.Symbol.iterator]=()=>(kh||[]).values()),Ff}function createTimeRanges$1(kh,Ff){return Array.isArray(kh)?createTimeRangesObj(kh):kh===void 0||Ff===void 0?createTimeRangesObj():createTimeRangesObj([[kh,Ff]])}const defaultImplementation=function(kh,Ff){kh=kh<0?0:kh;let x_=Math.floor(kh%60),$P=Math.floor(kh/60%60),zP=Math.floor(kh/3600);const eme=Math.floor(Ff/60%60),tme=Math.floor(Ff/3600);return(isNaN(kh)||kh===1/0)&&(zP=$P=x_="-"),zP=zP>0||tme>0?zP+":":"",$P=((zP||eme>=10)&&$P<10?"0"+$P:$P)+":",x_=x_<10?"0"+x_:x_,zP+$P+x_};let implementation=defaultImplementation;function setFormatTime(kh){implementation=kh}function resetFormatTime(){implementation=defaultImplementation}function formatTime(kh,Ff=kh){return implementation(kh,Ff)}var Time=Object.freeze({__proto__:null,createTimeRanges:createTimeRanges$1,createTimeRange:createTimeRanges$1,setFormatTime,resetFormatTime,formatTime});function bufferedPercent(kh,Ff){let x_=0,$P,zP;if(!Ff)return 0;(!kh||!kh.length)&&(kh=createTimeRanges$1(0,0));for(let eme=0;eme<kh.length;eme++)$P=kh.start(eme),zP=kh.end(eme),zP>Ff&&(zP=Ff),x_+=zP-$P;return x_/Ff}function MediaError(kh){if(kh instanceof MediaError)return kh;typeof kh=="number"?this.code=kh:typeof kh=="string"?this.message=kh:isObject(kh)&&(typeof kh.code=="number"&&(this.code=kh.code),Object.assign(this,kh)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}MediaError.prototype.code=0;MediaError.prototype.message="";MediaError.prototype.status=null;MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let kh=0;kh<MediaError.errorTypes.length;kh++)MediaError[MediaError.errorTypes[kh]]=kh,MediaError.prototype[MediaError.errorTypes[kh]]=kh;function isPromise(kh){return kh!=null&&typeof kh.then=="function"}function silencePromise(kh){isPromise(kh)&&kh.then(null,Ff=>{})}const trackToJson_=function(kh){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((x_,$P,zP)=>(kh[$P]&&(x_[$P]=kh[$P]),x_),{cues:kh.cues&&Array.prototype.map.call(kh.cues,function(x_){return{startTime:x_.startTime,endTime:x_.endTime,text:x_.text,id:x_.id}})})},textTracksToJson=function(kh){const Ff=kh.$$("track"),x_=Array.prototype.map.call(Ff,zP=>zP.track);return Array.prototype.map.call(Ff,function(zP){const eme=trackToJson_(zP.track);return zP.src&&(eme.src=zP.src),eme}).concat(Array.prototype.filter.call(kh.textTracks(),function(zP){return x_.indexOf(zP)===-1}).map(trackToJson_))},jsonToTextTracks=function(kh,Ff){return kh.forEach(function(x_){const $P=Ff.addRemoteTextTrack(x_).track;!x_.src&&x_.cues&&x_.cues.forEach(zP=>$P.addCue(zP))}),Ff.textTracks()};var textTrackConverter={textTracksToJson,jsonToTextTracks,trackToJson_};const MODAL_CLASS_NAME="vjs-modal-dialog";class ModalDialog extends Component$1{constructor(Ff,x_){super(Ff,x_),this.handleKeyDown_=$P=>this.handleKeyDown($P),this.close_=$P=>this.close($P),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=createEl("div",{className:`${MODAL_CLASS_NAME}-content`},{role:"document"}),this.descEl_=createEl("p",{className:`${MODAL_CLASS_NAME}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${MODAL_CLASS_NAME} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let Ff=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(Ff+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),Ff}open(){if(!this.opened_){const Ff=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!Ff.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&Ff.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=Ff.controls(),Ff.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(Ff){return typeof Ff=="boolean"&&this[Ff?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const Ff=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&Ff.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&Ff.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(Ff){if(typeof Ff=="boolean"){const x_=this.closeable_=!!Ff;let $P=this.getChild("closeButton");if(x_&&!$P){const zP=this.contentEl_;this.contentEl_=this.el_,$P=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=zP,this.on($P,"close",this.close_)}!x_&&$P&&(this.off($P,"close",this.close_),this.removeChild($P),$P.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(Ff){const x_=this.contentEl(),$P=x_.parentNode,zP=x_.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,$P.removeChild(x_),this.empty(),insertContent(x_,Ff),this.trigger("modalfill"),zP?$P.insertBefore(x_,zP):$P.appendChild(x_);const eme=this.getChild("closeButton");eme&&$P.appendChild(eme.el_)}empty(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")}content(Ff){return typeof Ff!="undefined"&&(this.content_=Ff),this.content_}conditionalFocus_(){const Ff=document$2.activeElement,x_=this.player_.el_;this.previouslyActiveEl_=null,(x_.contains(Ff)||x_===Ff)&&(this.previouslyActiveEl_=Ff,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(Ff){if(Ff.stopPropagation(),keycode.isEventKey(Ff,"Escape")&&this.closeable()){Ff.preventDefault(),this.close();return}if(!keycode.isEventKey(Ff,"Tab"))return;const x_=this.focusableEls_(),$P=this.el_.querySelector(":focus");let zP;for(let eme=0;eme<x_.length;eme++)if($P===x_[eme]){zP=eme;break}document$2.activeElement===this.el_&&(zP=0),Ff.shiftKey&&zP===0?(x_[x_.length-1].focus(),Ff.preventDefault()):!Ff.shiftKey&&zP===x_.length-1&&(x_[0].focus(),Ff.preventDefault())}focusableEls_(){const Ff=this.el_.querySelectorAll("*");return Array.prototype.filter.call(Ff,x_=>(x_ instanceof window$1$1.HTMLAnchorElement||x_ instanceof window$1$1.HTMLAreaElement)&&x_.hasAttribute("href")||(x_ instanceof window$1$1.HTMLInputElement||x_ instanceof window$1$1.HTMLSelectElement||x_ instanceof window$1$1.HTMLTextAreaElement||x_ instanceof window$1$1.HTMLButtonElement)&&!x_.hasAttribute("disabled")||x_ instanceof window$1$1.HTMLIFrameElement||x_ instanceof window$1$1.HTMLObjectElement||x_ instanceof window$1$1.HTMLEmbedElement||x_.hasAttribute("tabindex")&&x_.getAttribute("tabindex")!==-1||x_.hasAttribute("contenteditable"))}}ModalDialog.prototype.options_={pauseOnOpen:!0,temporary:!0};Component$1.registerComponent("ModalDialog",ModalDialog);class TrackList extends EventTarget$2{constructor(Ff=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let x_=0;x_<Ff.length;x_++)this.addTrack(Ff[x_])}addTrack(Ff){const x_=this.tracks_.length;""+x_ in this||Object.defineProperty(this,x_,{get(){return this.tracks_[x_]}}),this.tracks_.indexOf(Ff)===-1&&(this.tracks_.push(Ff),this.trigger({track:Ff,type:"addtrack",target:this})),Ff.labelchange_=()=>{this.trigger({track:Ff,type:"labelchange",target:this})},isEvented(Ff)&&Ff.addEventListener("labelchange",Ff.labelchange_)}removeTrack(Ff){let x_;for(let $P=0,zP=this.length;$P<zP;$P++)if(this[$P]===Ff){x_=this[$P],x_.off&&x_.off(),this.tracks_.splice($P,1);break}x_&&this.trigger({track:x_,type:"removetrack",target:this})}getTrackById(Ff){let x_=null;for(let $P=0,zP=this.length;$P<zP;$P++){const eme=this[$P];if(eme.id===Ff){x_=eme;break}}return x_}}TrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const kh in TrackList.prototype.allowedEvents_)TrackList.prototype["on"+kh]=null;const disableOthers$1=function(kh,Ff){for(let x_=0;x_<kh.length;x_++)!Object.keys(kh[x_]).length||Ff.id===kh[x_].id||(kh[x_].enabled=!1)};class AudioTrackList extends TrackList{constructor(Ff=[]){for(let x_=Ff.length-1;x_>=0;x_--)if(Ff[x_].enabled){disableOthers$1(Ff,Ff[x_]);break}super(Ff),this.changing_=!1}addTrack(Ff){Ff.enabled&&disableOthers$1(this,Ff),super.addTrack(Ff),Ff.addEventListener&&(Ff.enabledChange_=()=>{this.changing_||(this.changing_=!0,disableOthers$1(this,Ff),this.changing_=!1,this.trigger("change"))},Ff.addEventListener("enabledchange",Ff.enabledChange_))}removeTrack(Ff){super.removeTrack(Ff),Ff.removeEventListener&&Ff.enabledChange_&&(Ff.removeEventListener("enabledchange",Ff.enabledChange_),Ff.enabledChange_=null)}}const disableOthers=function(kh,Ff){for(let x_=0;x_<kh.length;x_++)!Object.keys(kh[x_]).length||Ff.id===kh[x_].id||(kh[x_].selected=!1)};class VideoTrackList extends TrackList{constructor(Ff=[]){for(let x_=Ff.length-1;x_>=0;x_--)if(Ff[x_].selected){disableOthers(Ff,Ff[x_]);break}super(Ff),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let x_=0;x_<this.length;x_++)if(this[x_].selected)return x_;return-1},set(){}})}addTrack(Ff){Ff.selected&&disableOthers(this,Ff),super.addTrack(Ff),Ff.addEventListener&&(Ff.selectedChange_=()=>{this.changing_||(this.changing_=!0,disableOthers(this,Ff),this.changing_=!1,this.trigger("change"))},Ff.addEventListener("selectedchange",Ff.selectedChange_))}removeTrack(Ff){super.removeTrack(Ff),Ff.removeEventListener&&Ff.selectedChange_&&(Ff.removeEventListener("selectedchange",Ff.selectedChange_),Ff.selectedChange_=null)}}class TextTrackList extends TrackList{addTrack(Ff){super.addTrack(Ff),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),Ff.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(Ff.kind)===-1&&Ff.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(Ff){super.removeTrack(Ff),Ff.removeEventListener&&(this.queueChange_&&Ff.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&Ff.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class HtmlTrackElementList{constructor(Ff=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let x_=0,$P=Ff.length;x_<$P;x_++)this.addTrackElement_(Ff[x_])}addTrackElement_(Ff){const x_=this.trackElements_.length;""+x_ in this||Object.defineProperty(this,x_,{get(){return this.trackElements_[x_]}}),this.trackElements_.indexOf(Ff)===-1&&this.trackElements_.push(Ff)}getTrackElementByTrack_(Ff){let x_;for(let $P=0,zP=this.trackElements_.length;$P<zP;$P++)if(Ff===this.trackElements_[$P].track){x_=this.trackElements_[$P];break}return x_}removeTrackElement_(Ff){for(let x_=0,$P=this.trackElements_.length;x_<$P;x_++)if(Ff===this.trackElements_[x_]){this.trackElements_[x_].track&&typeof this.trackElements_[x_].track.off=="function"&&this.trackElements_[x_].track.off(),typeof this.trackElements_[x_].off=="function"&&this.trackElements_[x_].off(),this.trackElements_.splice(x_,1);break}}}class TextTrackCueList{constructor(Ff){TextTrackCueList.prototype.setCues_.call(this,Ff),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(Ff){const x_=this.length||0;let $P=0;const zP=Ff.length;this.cues_=Ff,this.length_=Ff.length;const eme=function(tme){""+tme in this||Object.defineProperty(this,""+tme,{get(){return this.cues_[tme]}})};if(x_<zP)for($P=x_;$P<zP;$P++)eme.call(this,$P)}getCueById(Ff){let x_=null;for(let $P=0,zP=this.length;$P<zP;$P++){const eme=this[$P];if(eme.id===Ff){x_=eme;break}}return x_}}const VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"};class Track extends EventTarget$2{constructor(Ff={}){super();const x_={id:Ff.id||"vjs_track_"+newGUID(),kind:Ff.kind||"",language:Ff.language||""};let $P=Ff.label||"";for(const zP in x_)Object.defineProperty(this,zP,{get(){return x_[zP]},set(){}});Object.defineProperty(this,"label",{get(){return $P},set(zP){zP!==$P&&($P=zP,this.trigger("labelchange"))}})}}const parseUrl=function(kh){const Ff=["protocol","hostname","port","pathname","search","hash","host"],x_=document$2.createElement("a");x_.href=kh;const $P={};for(let zP=0;zP<Ff.length;zP++)$P[Ff[zP]]=x_[Ff[zP]];return $P.protocol==="http:"&&($P.host=$P.host.replace(/:80$/,"")),$P.protocol==="https:"&&($P.host=$P.host.replace(/:443$/,"")),$P.protocol||($P.protocol=window$1$1.location.protocol),$P.host||($P.host=window$1$1.location.host),$P},getAbsoluteURL=function(kh){if(!kh.match(/^https?:\/\//)){const Ff=document$2.createElement("a");Ff.href=kh,kh=Ff.href}return kh},getFileExtension=function(kh){if(typeof kh=="string"){const x_=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(kh);if(x_)return x_.pop().toLowerCase()}return""},isCrossOrigin=function(kh,Ff=window$1$1.location){const x_=parseUrl(kh);return(x_.protocol===":"?Ff.protocol:x_.protocol)+x_.host!==Ff.protocol+Ff.host};var Url=Object.freeze({__proto__:null,parseUrl,getAbsoluteURL,getFileExtension,isCrossOrigin});const parseCues=function(kh,Ff){const x_=new window$1$1.WebVTT.Parser(window$1$1,window$1$1.vttjs,window$1$1.WebVTT.StringDecoder()),$P=[];x_.oncue=function(zP){Ff.addCue(zP)},x_.onparsingerror=function(zP){$P.push(zP)},x_.onflush=function(){Ff.trigger({type:"loadeddata",target:Ff})},x_.parse(kh),$P.length>0&&(window$1$1.console&&window$1$1.console.groupCollapsed&&window$1$1.console.groupCollapsed(`Text Track parsing errors for ${Ff.src}`),$P.forEach(zP=>log$1.error(zP)),window$1$1.console&&window$1$1.console.groupEnd&&window$1$1.console.groupEnd()),x_.flush()},loadTrack=function(kh,Ff){const x_={uri:kh},$P=isCrossOrigin(kh);$P&&(x_.cors=$P);const zP=Ff.tech_.crossOrigin()==="use-credentials";zP&&(x_.withCredentials=zP),XHR(x_,bind_(this,function(eme,tme,nme){if(eme)return log$1.error(eme,tme);Ff.loaded_=!0,typeof window$1$1.WebVTT!="function"?Ff.tech_&&Ff.tech_.any(["vttjsloaded","vttjserror"],rme=>{if(rme.type==="vttjserror"){log$1.error(`vttjs failed to load, stopping trying to process ${Ff.src}`);return}return parseCues(nme,Ff)}):parseCues(nme,Ff)}))};class TextTrack extends Track{constructor(Ff={}){if(!Ff.tech)throw new Error("A tech was not provided.");const x_=merge$1(Ff,{kind:TextTrackKind[Ff.kind]||"subtitles",language:Ff.language||Ff.srclang||""});let $P=TextTrackMode[x_.mode]||"disabled";const zP=x_.default;(x_.kind==="metadata"||x_.kind==="chapters")&&($P="hidden"),super(x_),this.tech_=x_.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const eme=new TextTrackCueList(this.cues_),tme=new TextTrackCueList(this.activeCues_);let nme=!1;this.timeupdateHandler=bind_(this,function(ime={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){ime.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,nme&&(this.trigger("cuechange"),nme=!1),ime.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const rme=()=>{this.stopTracking()};this.tech_.one("dispose",rme),$P!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return zP},set(){}},mode:{get(){return $P},set(ime){TextTrackMode[ime]&&$P!==ime&&($P=ime,!this.preload_&&$P!=="disabled"&&this.cues.length===0&&loadTrack(this.src,this),this.stopTracking(),$P!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?eme:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return tme;const ime=this.tech_.currentTime(),ome=[];for(let sme=0,ame=this.cues.length;sme<ame;sme++){const lme=this.cues[sme];lme.startTime<=ime&&lme.endTime>=ime&&ome.push(lme)}if(nme=!1,ome.length!==this.activeCues_.length)nme=!0;else for(let sme=0;sme<ome.length;sme++)this.activeCues_.indexOf(ome[sme])===-1&&(nme=!0);return this.activeCues_=ome,tme.setCues_(this.activeCues_),tme},set(){}}}),x_.src?(this.src=x_.src,this.preload_||(this.loaded_=!0),(this.preload_||x_.kind!=="subtitles"&&x_.kind!=="captions")&&loadTrack(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(Ff){let x_=Ff;if(!("getCueAsHTML"in x_)){x_=new window$1$1.vttjs.VTTCue(Ff.startTime,Ff.endTime,Ff.text);for(const zP in Ff)zP in x_||(x_[zP]=Ff[zP]);x_.id=Ff.id,x_.originalCue_=Ff}const $P=this.tech_.textTracks();for(let zP=0;zP<$P.length;zP++)$P[zP]!==this&&$P[zP].removeCue(x_);this.cues_.push(x_),this.cues.setCues_(this.cues_)}removeCue(Ff){let x_=this.cues_.length;for(;x_--;){const $P=this.cues_[x_];if($P===Ff||$P.originalCue_&&$P.originalCue_===Ff){this.cues_.splice(x_,1),this.cues.setCues_(this.cues_);break}}}}TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};class AudioTrack extends Track{constructor(Ff={}){const x_=merge$1(Ff,{kind:AudioTrackKind[Ff.kind]||""});super(x_);let $P=!1;Object.defineProperty(this,"enabled",{get(){return $P},set(zP){typeof zP!="boolean"||zP===$P||($P=zP,this.trigger("enabledchange"))}}),x_.enabled&&(this.enabled=x_.enabled),this.loaded_=!0}}class VideoTrack extends Track{constructor(Ff={}){const x_=merge$1(Ff,{kind:VideoTrackKind[Ff.kind]||""});super(x_);let $P=!1;Object.defineProperty(this,"selected",{get(){return $P},set(zP){typeof zP!="boolean"||zP===$P||($P=zP,this.trigger("selectedchange"))}}),x_.selected&&(this.selected=x_.selected)}}class HTMLTrackElement extends EventTarget$2{constructor(Ff={}){super();let x_;const $P=new TextTrack(Ff);this.kind=$P.kind,this.src=$P.src,this.srclang=$P.language,this.label=$P.label,this.default=$P.default,Object.defineProperties(this,{readyState:{get(){return x_}},track:{get(){return $P}}}),x_=HTMLTrackElement.NONE,$P.addEventListener("loadeddata",()=>{x_=HTMLTrackElement.LOADED,this.trigger({type:"load",target:this})})}}HTMLTrackElement.prototype.allowedEvents_={load:"load"};HTMLTrackElement.NONE=0;HTMLTrackElement.LOADING=1;HTMLTrackElement.LOADED=2;HTMLTrackElement.ERROR=3;const NORMAL={audio:{ListClass:AudioTrackList,TrackClass:AudioTrack,capitalName:"Audio"},video:{ListClass:VideoTrackList,TrackClass:VideoTrack,capitalName:"Video"},text:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"Text"}};Object.keys(NORMAL).forEach(function(kh){NORMAL[kh].getterName=`${kh}Tracks`,NORMAL[kh].privateName=`${kh}Tracks_`});const REMOTE={remoteText:{ListClass:TextTrackList,TrackClass:TextTrack,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:HtmlTrackElementList,TrackClass:HTMLTrackElement,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ALL=Object.assign({},NORMAL,REMOTE);REMOTE.names=Object.keys(REMOTE);NORMAL.names=Object.keys(NORMAL);ALL.names=[].concat(REMOTE.names).concat(NORMAL.names);function createTrackHelper(kh,Ff,x_,$P,zP={}){const eme=kh.textTracks();zP.kind=Ff,x_&&(zP.label=x_),$P&&(zP.language=$P),zP.tech=kh;const tme=new ALL.text.TrackClass(zP);return eme.addTrack(tme),tme}class Tech extends Component$1{constructor(Ff={},x_=function(){}){Ff.reportTouchActivity=!1,super(null,Ff,x_),this.onDurationChange_=$P=>this.onDurationChange($P),this.trackProgress_=$P=>this.trackProgress($P),this.trackCurrentTime_=$P=>this.trackCurrentTime($P),this.stopTrackingCurrentTime_=$P=>this.stopTrackingCurrentTime($P),this.disposeSourceHandler_=$P=>this.disposeSourceHandler($P),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),ALL.names.forEach($P=>{const zP=ALL[$P];Ff&&Ff[zP.getterName]&&(this[zP.privateName]=Ff[zP.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach($P=>{Ff[`native${$P}Tracks`]===!1&&(this[`featuresNative${$P}Tracks`]=!1)}),Ff.nativeCaptions===!1||Ff.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(Ff.nativeCaptions===!0||Ff.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=Ff.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new ALL.text.ListClass,this.initTrackListeners(),Ff.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(Ff){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(Ff),1)),this.trigger({src:Ff,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(Ff){this.stopTrackingProgress(),this.progressInterval=this.setInterval(bind_(this,function(){const x_=this.bufferedPercent();this.bufferedPercent_!==x_&&this.trigger("progress"),this.bufferedPercent_=x_,x_===1&&this.stopTrackingProgress()}),500)}onDurationChange(Ff){this.duration_=this.duration()}buffered(){return createTimeRanges$1(0,0)}bufferedPercent(){return bufferedPercent(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(NORMAL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(Ff){Ff=[].concat(Ff),Ff.forEach(x_=>{const $P=this[`${x_}Tracks`]()||[];let zP=$P.length;for(;zP--;){const eme=$P[zP];x_==="text"&&this.removeRemoteTextTrack(eme),$P.removeTrack(eme)}})}cleanupAutoTextTracks(){const Ff=this.autoRemoteTextTracks_||[];let x_=Ff.length;for(;x_--;){const $P=Ff[x_];this.removeRemoteTextTrack($P)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(Ff){return Ff!==void 0&&(this.error_=new MediaError(Ff),this.trigger("error")),this.error_}played(){return this.hasStarted_?createTimeRanges$1(0,0):createTimeRanges$1()}play(){}setScrubbing(Ff){}scrubbing(){}setCurrentTime(Ff){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){NORMAL.names.forEach(Ff=>{const x_=NORMAL[Ff],$P=()=>{this.trigger(`${Ff}trackchange`)},zP=this[x_.getterName]();zP.addEventListener("removetrack",$P),zP.addEventListener("addtrack",$P),this.on("dispose",()=>{zP.removeEventListener("removetrack",$P),zP.removeEventListener("addtrack",$P)})})}addWebVttScript_(){if(!window$1$1.WebVTT)if(document$2.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(vtt)&&Object.keys(vtt).length>0){this.trigger("vttjsloaded");return}const Ff=document$2.createElement("script");Ff.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",Ff.onload=()=>{this.trigger("vttjsloaded")},Ff.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{Ff.onload=null,Ff.onerror=null}),window$1$1.WebVTT=!0,this.el().parentNode.appendChild(Ff)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const Ff=this.textTracks(),x_=this.remoteTextTracks(),$P=nme=>Ff.addTrack(nme.track),zP=nme=>Ff.removeTrack(nme.track);x_.on("addtrack",$P),x_.on("removetrack",zP),this.addWebVttScript_();const eme=()=>this.trigger("texttrackchange"),tme=()=>{eme();for(let nme=0;nme<Ff.length;nme++){const rme=Ff[nme];rme.removeEventListener("cuechange",eme),rme.mode==="showing"&&rme.addEventListener("cuechange",eme)}};tme(),Ff.addEventListener("change",tme),Ff.addEventListener("addtrack",tme),Ff.addEventListener("removetrack",tme),this.on("dispose",function(){x_.off("addtrack",$P),x_.off("removetrack",zP),Ff.removeEventListener("change",tme),Ff.removeEventListener("addtrack",tme),Ff.removeEventListener("removetrack",tme);for(let nme=0;nme<Ff.length;nme++)Ff[nme].removeEventListener("cuechange",eme)})}addTextTrack(Ff,x_,$P){if(!Ff)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,Ff,x_,$P)}createRemoteTextTrack(Ff){const x_=merge$1(Ff,{tech:this});return new REMOTE.remoteTextEl.TrackClass(x_)}addRemoteTextTrack(Ff={},x_){const $P=this.createRemoteTextTrack(Ff);return typeof x_!="boolean"&&(x_=!1),this.remoteTextTrackEls().addTrackElement_($P),this.remoteTextTracks().addTrack($P.track),x_===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack($P.track)),$P}removeRemoteTextTrack(Ff){const x_=this.remoteTextTrackEls().getTrackElementByTrack_(Ff);this.remoteTextTrackEls().removeTrackElement_(x_),this.remoteTextTracks().removeTrack(Ff),this.autoRemoteTextTracks_.removeTrack(Ff)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(Ff){const x_=newGUID();return!this.isReady_||this.paused()?(this.queuedHanders_.add(x_),this.one("playing",()=>{this.queuedHanders_.has(x_)&&(this.queuedHanders_.delete(x_),Ff())})):this.requestNamedAnimationFrame(x_,Ff),x_}cancelVideoFrameCallback(Ff){this.queuedHanders_.has(Ff)?this.queuedHanders_.delete(Ff):this.cancelNamedAnimationFrame(Ff)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(Ff){}overrideNativeVideoTracks(Ff){}canPlayType(Ff){return""}static canPlayType(Ff){return""}static canPlaySource(Ff,x_){return Tech.canPlayType(Ff.type)}static isTech(Ff){return Ff.prototype instanceof Tech||Ff instanceof Tech||Ff===Tech}static registerTech(Ff,x_){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(x_))throw new Error(`Tech ${Ff} must be a Tech`);if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return Ff=toTitleCase$1(Ff),Tech.techs_[Ff]=x_,Tech.techs_[toLowerCase(Ff)]=x_,Ff!=="Tech"&&Tech.defaultTechOrder_.push(Ff),x_}static getTech(Ff){if(Ff){if(Tech.techs_&&Tech.techs_[Ff])return Tech.techs_[Ff];if(Ff=toTitleCase$1(Ff),window$1$1&&window$1$1.videojs&&window$1$1.videojs[Ff])return log$1.warn(`The ${Ff} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),window$1$1.videojs[Ff]}}}ALL.names.forEach(function(kh){const Ff=ALL[kh];Tech.prototype[Ff.getterName]=function(){return this[Ff.privateName]=this[Ff.privateName]||new Ff.ListClass,this[Ff.privateName]}});Tech.prototype.featuresVolumeControl=!0;Tech.prototype.featuresMuteControl=!0;Tech.prototype.featuresFullscreenResize=!1;Tech.prototype.featuresPlaybackRate=!1;Tech.prototype.featuresProgressEvents=!1;Tech.prototype.featuresSourceset=!1;Tech.prototype.featuresTimeupdateEvents=!1;Tech.prototype.featuresNativeTextTracks=!1;Tech.prototype.featuresVideoFrameCallback=!1;Tech.withSourceHandlers=function(kh){kh.registerSourceHandler=function(x_,$P){let zP=kh.sourceHandlers;zP||(zP=kh.sourceHandlers=[]),$P===void 0&&($P=zP.length),zP.splice($P,0,x_)},kh.canPlayType=function(x_){const $P=kh.sourceHandlers||[];let zP;for(let eme=0;eme<$P.length;eme++)if(zP=$P[eme].canPlayType(x_),zP)return zP;return""},kh.selectSourceHandler=function(x_,$P){const zP=kh.sourceHandlers||[];let eme;for(let tme=0;tme<zP.length;tme++)if(eme=zP[tme].canHandleSource(x_,$P),eme)return zP[tme];return null},kh.canPlaySource=function(x_,$P){const zP=kh.selectSourceHandler(x_,$P);return zP?zP.canHandleSource(x_,$P):""},["seekable","seeking","duration"].forEach(function(x_){const $P=this[x_];typeof $P=="function"&&(this[x_]=function(){return this.sourceHandler_&&this.sourceHandler_[x_]?this.sourceHandler_[x_].apply(this.sourceHandler_,arguments):$P.apply(this,arguments)})},kh.prototype),kh.prototype.setSource=function(x_){let $P=kh.selectSourceHandler(x_,this.options_);$P||(kh.nativeSourceHandler?$P=kh.nativeSourceHandler:log$1.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),$P!==kh.nativeSourceHandler&&(this.currentSource_=x_),this.sourceHandler_=$P.handleSource(x_,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},kh.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Component$1.registerComponent("Tech",Tech);Tech.registerTech("Tech",Tech);Tech.defaultTechOrder_=[];const middlewares={},middlewareInstances={},TERMINATOR={};function use(kh,Ff){middlewares[kh]=middlewares[kh]||[],middlewares[kh].push(Ff)}function setSource(kh,Ff,x_){kh.setTimeout(()=>setSourceHelper(Ff,middlewares[Ff.type],x_,kh),1)}function setTech(kh,Ff){kh.forEach(x_=>x_.setTech&&x_.setTech(Ff))}function get(kh,Ff,x_){return kh.reduceRight(middlewareIterator(x_),Ff[x_]())}function set(kh,Ff,x_,$P){return Ff[x_](kh.reduce(middlewareIterator(x_),$P))}function mediate(kh,Ff,x_,$P=null){const zP="call"+toTitleCase$1(x_),eme=kh.reduce(middlewareIterator(zP),$P),tme=eme===TERMINATOR,nme=tme?null:Ff[x_](eme);return executeRight(kh,x_,nme,tme),nme}const allowedGetters={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},allowedSetters={setCurrentTime:1,setMuted:1,setVolume:1},allowedMediators={play:1,pause:1};function middlewareIterator(kh){return(Ff,x_)=>Ff===TERMINATOR?TERMINATOR:x_[kh]?x_[kh](Ff):Ff}function executeRight(kh,Ff,x_,$P){for(let zP=kh.length-1;zP>=0;zP--){const eme=kh[zP];eme[Ff]&&eme[Ff]($P,x_)}}function clearCacheForPlayer(kh){middlewareInstances[kh.id()]=null}function getOrCreateFactory(kh,Ff){const x_=middlewareInstances[kh.id()];let $P=null;if(x_==null)return $P=Ff(kh),middlewareInstances[kh.id()]=[[Ff,$P]],$P;for(let zP=0;zP<x_.length;zP++){const[eme,tme]=x_[zP];eme===Ff&&($P=tme)}return $P===null&&($P=Ff(kh),x_.push([Ff,$P])),$P}function setSourceHelper(kh={},Ff=[],x_,$P,zP=[],eme=!1){const[tme,...nme]=Ff;if(typeof tme=="string")setSourceHelper(kh,middlewares[tme],x_,$P,zP,eme);else if(tme){const rme=getOrCreateFactory($P,tme);if(!rme.setSource)return zP.push(rme),setSourceHelper(kh,nme,x_,$P,zP,eme);rme.setSource(Object.assign({},kh),function(ime,ome){if(ime)return setSourceHelper(kh,nme,x_,$P,zP,eme);zP.push(rme),setSourceHelper(ome,kh.type===ome.type?nme:middlewares[ome.type],x_,$P,zP,eme)})}else nme.length?setSourceHelper(kh,nme,x_,$P,zP,eme):eme?x_(kh,zP):setSourceHelper(kh,middlewares["*"],x_,$P,zP,!0)}const MimetypesKind={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},getMimetype=function(kh=""){const Ff=getFileExtension(kh);return MimetypesKind[Ff.toLowerCase()]||""},findMimetype=(kh,Ff)=>{if(!Ff)return"";if(kh.cache_.source.src===Ff&&kh.cache_.source.type)return kh.cache_.source.type;const x_=kh.cache_.sources.filter(zP=>zP.src===Ff);if(x_.length)return x_[0].type;const $P=kh.$$("source");for(let zP=0;zP<$P.length;zP++){const eme=$P[zP];if(eme.type&&eme.src&&eme.src===Ff)return eme.type}return getMimetype(Ff)},filterSource=function(kh){if(Array.isArray(kh)){let Ff=[];kh.forEach(function(x_){x_=filterSource(x_),Array.isArray(x_)?Ff=Ff.concat(x_):isObject(x_)&&Ff.push(x_)}),kh=Ff}else typeof kh=="string"&&kh.trim()?kh=[fixSource({src:kh})]:isObject(kh)&&typeof kh.src=="string"&&kh.src&&kh.src.trim()?kh=[fixSource(kh)]:kh=[];return kh};function fixSource(kh){if(!kh.type){const Ff=getMimetype(kh.src);Ff&&(kh.type=Ff)}return kh}var icons=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class MediaLoader extends Component$1{constructor(Ff,x_,$P){const zP=merge$1({createEl:!1},x_);if(super(Ff,zP,$P),!x_.playerOptions.sources||x_.playerOptions.sources.length===0)for(let eme=0,tme=x_.playerOptions.techOrder;eme<tme.length;eme++){const nme=toTitleCase$1(tme[eme]);let rme=Tech.getTech(nme);if(nme||(rme=Component$1.getComponent(nme)),rme&&rme.isSupported()){Ff.loadTech_(nme);break}}else Ff.src(x_.playerOptions.sources)}}Component$1.registerComponent("MediaLoader",MediaLoader);class ClickableComponent extends Component$1{constructor(Ff,x_){super(Ff,x_),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=$P=>this.handleMouseOver($P),this.handleMouseOut_=$P=>this.handleMouseOut($P),this.handleClick_=$P=>this.handleClick($P),this.handleKeyDown_=$P=>this.handleKeyDown($P),this.emitTapEvents(),this.enable()}createEl(Ff="div",x_={},$P={}){x_=Object.assign({className:this.buildCSSClass(),tabIndex:0},x_),Ff==="button"&&log$1.error(`Creating a ClickableComponent with an HTML element of ${Ff} is not supported; use a Button instead.`),$P=Object.assign({role:"button"},$P),this.tabIndex_=x_.tabIndex;const zP=createEl(Ff,x_,$P);return this.player_.options_.experimentalSvgIcons||zP.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(zP),zP}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(Ff){return this.controlTextEl_=createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),Ff&&Ff.appendChild(this.controlTextEl_),this.controlText(this.controlText_,Ff),this.controlTextEl_}controlText(Ff,x_=this.el()){if(Ff===void 0)return this.controlText_||"Need Text";const $P=this.localize(Ff);this.controlText_=Ff,textContent(this.controlTextEl_,$P),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&x_.setAttribute("title",$P)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(Ff){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(Ff){keycode.isEventKey(Ff,"Space")||keycode.isEventKey(Ff,"Enter")?(Ff.preventDefault(),Ff.stopPropagation(),this.trigger("click")):super.handleKeyDown(Ff)}}Component$1.registerComponent("ClickableComponent",ClickableComponent);class PosterImage extends ClickableComponent{constructor(Ff,x_){super(Ff,x_),this.update(),this.update_=$P=>this.update($P),Ff.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return createEl("div",{className:"vjs-poster"})}crossOrigin(Ff){if(typeof Ff=="undefined")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(Ff!==null&&Ff!=="anonymous"&&Ff!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${Ff}"`);return}this.$("img")&&(this.$("img").crossOrigin=Ff)}update(Ff){const x_=this.player().poster();this.setSrc(x_),x_?this.show():this.hide()}setSrc(Ff){if(!Ff){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(createEl("picture",{className:"vjs-poster",tabIndex:-1},{},createEl("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=Ff}handleClick(Ff){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause())}}PosterImage.prototype.crossorigin=PosterImage.prototype.crossOrigin;Component$1.registerComponent("PosterImage",PosterImage);const darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(kh,Ff){let x_;if(kh.length===4)x_=kh[1]+kh[1]+kh[2]+kh[2]+kh[3]+kh[3];else if(kh.length===7)x_=kh.slice(1);else throw new Error("Invalid color code provided, "+kh+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(x_.slice(0,2),16)+","+parseInt(x_.slice(2,4),16)+","+parseInt(x_.slice(4,6),16)+","+Ff+")"}function tryUpdateStyle(kh,Ff,x_){try{kh.style[Ff]=x_}catch($P){return}}function getCSSPositionValue(kh){return kh?`${kh}px`:""}class TextTrackDisplay extends Component$1{constructor(Ff,x_,$P){super(Ff,x_,$P);const zP=tme=>this.updateDisplay(tme),eme=tme=>{this.updateDisplayOverlay(),this.updateDisplay(tme)};Ff.on("loadstart",tme=>this.toggleDisplay(tme)),Ff.on("texttrackchange",zP),Ff.on("loadedmetadata",tme=>{this.updateDisplayOverlay(),this.preselectTrack(tme)}),Ff.ready(bind_(this,function(){if(Ff.tech_&&Ff.tech_.featuresNativeTextTracks){this.hide();return}Ff.on("fullscreenchange",eme),Ff.on("playerresize",eme);const tme=window$1$1.screen.orientation||window$1$1,nme=window$1$1.screen.orientation?"change":"orientationchange";tme.addEventListener(nme,eme),Ff.on("dispose",()=>tme.removeEventListener(nme,eme));const rme=this.options_.playerOptions.tracks||[];for(let ime=0;ime<rme.length;ime++)this.player_.addRemoteTextTrack(rme[ime],!0);this.preselectTrack()}))}preselectTrack(){const Ff={captions:1,subtitles:1},x_=this.player_.textTracks(),$P=this.player_.cache_.selectedLanguage;let zP,eme,tme;for(let nme=0;nme<x_.length;nme++){const rme=x_[nme];$P&&$P.enabled&&$P.language&&$P.language===rme.language&&rme.kind in Ff?rme.kind===$P.kind?tme=rme:tme||(tme=rme):$P&&!$P.enabled?(tme=null,zP=null,eme=null):rme.default&&(rme.kind==="descriptions"&&!zP?zP=rme:rme.kind in Ff&&!eme&&(eme=rme))}tme?tme.mode="showing":eme?eme.mode="showing":zP&&(zP.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof window$1$1.WebVTT=="function"&&window$1$1.WebVTT.processCues(window$1$1,[],this.el_)}updateDisplay(){const Ff=this.player_.textTracks(),x_=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),x_){const tme=[];for(let nme=0;nme<Ff.length;++nme){const rme=Ff[nme];rme.mode==="showing"&&tme.push(rme)}this.updateForTrack(tme);return}let $P=null,zP=null,eme=Ff.length;for(;eme--;){const tme=Ff[eme];tme.mode==="showing"&&(tme.kind==="descriptions"?$P=tme:zP=tme)}zP?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(zP)):$P&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack($P))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!window$1$1.CSS.supports("inset-inline: 10px"))return;const Ff=this.player_.currentWidth(),x_=this.player_.currentHeight(),$P=Ff/x_,zP=this.player_.videoWidth()/this.player_.videoHeight();let eme=0,tme=0;Math.abs($P-zP)>.1&&($P>zP?eme=Math.round((Ff-x_*zP)/2):tme=Math.round((x_-Ff/zP)/2)),tryUpdateStyle(this.el_,"insetInline",getCSSPositionValue(eme)),tryUpdateStyle(this.el_,"insetBlock",getCSSPositionValue(tme))}updateDisplayState(Ff){const x_=this.player_.textTrackSettings.getValues(),$P=Ff.activeCues;let zP=$P.length;for(;zP--;){const eme=$P[zP];if(!eme)continue;const tme=eme.displayState;if(x_.color&&(tme.firstChild.style.color=x_.color),x_.textOpacity&&tryUpdateStyle(tme.firstChild,"color",constructColor(x_.color||"#fff",x_.textOpacity)),x_.backgroundColor&&(tme.firstChild.style.backgroundColor=x_.backgroundColor),x_.backgroundOpacity&&tryUpdateStyle(tme.firstChild,"backgroundColor",constructColor(x_.backgroundColor||"#000",x_.backgroundOpacity)),x_.windowColor&&(x_.windowOpacity?tryUpdateStyle(tme,"backgroundColor",constructColor(x_.windowColor,x_.windowOpacity)):tme.style.backgroundColor=x_.windowColor),x_.edgeStyle&&(x_.edgeStyle==="dropshadow"?tme.firstChild.style.textShadow=`2px 2px 3px ${darkGray}, 2px 2px 4px ${darkGray}, 2px 2px 5px ${darkGray}`:x_.edgeStyle==="raised"?tme.firstChild.style.textShadow=`1px 1px ${darkGray}, 2px 2px ${darkGray}, 3px 3px ${darkGray}`:x_.edgeStyle==="depressed"?tme.firstChild.style.textShadow=`1px 1px ${lightGray}, 0 1px ${lightGray}, -1px -1px ${darkGray}, 0 -1px ${darkGray}`:x_.edgeStyle==="uniform"&&(tme.firstChild.style.textShadow=`0 0 4px ${darkGray}, 0 0 4px ${darkGray}, 0 0 4px ${darkGray}, 0 0 4px ${darkGray}`)),x_.fontPercent&&x_.fontPercent!==1){const nme=window$1$1.parseFloat(tme.style.fontSize);tme.style.fontSize=nme*x_.fontPercent+"px",tme.style.height="auto",tme.style.top="auto"}x_.fontFamily&&x_.fontFamily!=="default"&&(x_.fontFamily==="small-caps"?tme.firstChild.style.fontVariant="small-caps":tme.firstChild.style.fontFamily=fontMap[x_.fontFamily])}}updateForTrack(Ff){if(Array.isArray(Ff)||(Ff=[Ff]),typeof window$1$1.WebVTT!="function"||Ff.every($P=>!$P.activeCues))return;const x_=[];for(let $P=0;$P<Ff.length;++$P){const zP=Ff[$P];for(let eme=0;eme<zP.activeCues.length;++eme)x_.push(zP.activeCues[eme])}window$1$1.WebVTT.processCues(window$1$1,x_,this.el_);for(let $P=0;$P<Ff.length;++$P){const zP=Ff[$P];for(let eme=0;eme<zP.activeCues.length;++eme){const tme=zP.activeCues[eme].displayState;addClass(tme,"vjs-text-track-cue","vjs-text-track-cue-"+(zP.language?zP.language:$P)),zP.language&&setAttribute(tme,"lang",zP.language)}this.player_.textTrackSettings&&this.updateDisplayState(zP)}}}Component$1.registerComponent("TextTrackDisplay",TextTrackDisplay);class LoadingSpinner extends Component$1{createEl(){const Ff=this.player_.isAudio(),x_=this.localize(Ff?"Audio Player":"Video Player"),$P=createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[x_])}),zP=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return zP.appendChild($P),zP}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Component$1.registerComponent("LoadingSpinner",LoadingSpinner);class Button extends ClickableComponent{createEl(Ff,x_={},$P={}){Ff="button",x_=Object.assign({className:this.buildCSSClass()},x_),$P=Object.assign({type:"button"},$P);const zP=createEl(Ff,x_,$P);return this.player_.options_.experimentalSvgIcons||zP.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(zP),zP}addChild(Ff,x_={}){const $P=this.constructor.name;return log$1.warn(`Adding an actionable (user controllable) child to a Button (${$P}) is not supported; use a ClickableComponent instead.`),Component$1.prototype.addChild.call(this,Ff,x_)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(Ff){if(keycode.isEventKey(Ff,"Space")||keycode.isEventKey(Ff,"Enter")){Ff.stopPropagation();return}super.handleKeyDown(Ff)}}Component$1.registerComponent("Button",Button);class BigPlayButton extends Button{constructor(Ff,x_){super(Ff,x_),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",$P=>this.handleMouseDown($P))}buildCSSClass(){return"vjs-big-play-button"}handleClick(Ff){const x_=this.player_.play();if(this.mouseused_&&"clientX"in Ff&&"clientY"in Ff){silencePromise(x_),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const $P=this.player_.getChild("controlBar"),zP=$P&&$P.getChild("playToggle");if(!zP){this.player_.tech(!0).focus();return}const eme=()=>zP.focus();isPromise(x_)?x_.then(eme,()=>{}):this.setTimeout(eme,1)}handleKeyDown(Ff){this.mouseused_=!1,super.handleKeyDown(Ff)}handleMouseDown(Ff){this.mouseused_=!0}}BigPlayButton.prototype.controlText_="Play Video";Component$1.registerComponent("BigPlayButton",BigPlayButton);class CloseButton extends Button{constructor(Ff,x_){super(Ff,x_),this.setIcon("cancel"),this.controlText(x_&&x_.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(Ff){this.trigger({type:"close",bubbles:!1})}handleKeyDown(Ff){keycode.isEventKey(Ff,"Esc")?(Ff.preventDefault(),Ff.stopPropagation(),this.trigger("click")):super.handleKeyDown(Ff)}}Component$1.registerComponent("CloseButton",CloseButton);class PlayToggle extends Button{constructor(Ff,x_={}){super(Ff,x_),x_.replay=x_.replay===void 0||x_.replay,this.setIcon("play"),this.on(Ff,"play",$P=>this.handlePlay($P)),this.on(Ff,"pause",$P=>this.handlePause($P)),x_.replay&&this.on(Ff,"ended",$P=>this.handleEnded($P))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(Ff){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}handleSeeked(Ff){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(Ff):this.handlePlay(Ff)}handlePlay(Ff){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(Ff){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(Ff){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",x_=>this.handleSeeked(x_))}}PlayToggle.prototype.controlText_="Play";Component$1.registerComponent("PlayToggle",PlayToggle);class TimeDisplay extends Component$1{constructor(Ff,x_){super(Ff,x_),this.on(Ff,["timeupdate","ended"],$P=>this.updateContent($P)),this.updateTextNode_()}createEl(){const Ff=this.buildCSSClass(),x_=super.createEl("div",{className:`${Ff} vjs-time-control vjs-control`}),$P=createEl("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return x_.appendChild($P),this.contentEl_=createEl("span",{className:`${Ff}-display`},{role:"presentation"}),x_.appendChild(this.contentEl_),x_}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(Ff=0){Ff=formatTime(Ff),this.formattedTime_!==Ff&&(this.formattedTime_=Ff,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let x_=this.textNode_;x_&&this.contentEl_.firstChild!==x_&&(x_=null,log$1.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=document$2.createTextNode(this.formattedTime_),this.textNode_&&(x_?this.contentEl_.replaceChild(this.textNode_,x_):this.contentEl_.appendChild(this.textNode_))}))}updateContent(Ff){}}TimeDisplay.prototype.labelText_="Time";TimeDisplay.prototype.controlText_="Time";Component$1.registerComponent("TimeDisplay",TimeDisplay);class CurrentTimeDisplay extends TimeDisplay{buildCSSClass(){return"vjs-current-time"}updateContent(Ff){let x_;this.player_.ended()?x_=this.player_.duration():x_=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(x_)}}CurrentTimeDisplay.prototype.labelText_="Current Time";CurrentTimeDisplay.prototype.controlText_="Current Time";Component$1.registerComponent("CurrentTimeDisplay",CurrentTimeDisplay);class DurationDisplay extends TimeDisplay{constructor(Ff,x_){super(Ff,x_);const $P=zP=>this.updateContent(zP);this.on(Ff,"durationchange",$P),this.on(Ff,"loadstart",$P),this.on(Ff,"loadedmetadata",$P)}buildCSSClass(){return"vjs-duration"}updateContent(Ff){const x_=this.player_.duration();this.updateTextNode_(x_)}}DurationDisplay.prototype.labelText_="Duration";DurationDisplay.prototype.controlText_="Duration";Component$1.registerComponent("DurationDisplay",DurationDisplay);class TimeDivider extends Component$1{createEl(){const Ff=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),x_=super.createEl("div"),$P=super.createEl("span",{textContent:"/"});return x_.appendChild($P),Ff.appendChild(x_),Ff}}Component$1.registerComponent("TimeDivider",TimeDivider);class RemainingTimeDisplay extends TimeDisplay{constructor(Ff,x_){super(Ff,x_),this.on(Ff,"durationchange",$P=>this.updateContent($P))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const Ff=super.createEl();return this.options_.displayNegative!==!1&&Ff.insertBefore(createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),Ff}updateContent(Ff){if(typeof this.player_.duration()!="number")return;let x_;this.player_.ended()?x_=0:this.player_.remainingTimeDisplay?x_=this.player_.remainingTimeDisplay():x_=this.player_.remainingTime(),this.updateTextNode_(x_)}}RemainingTimeDisplay.prototype.labelText_="Remaining Time";RemainingTimeDisplay.prototype.controlText_="Remaining Time";Component$1.registerComponent("RemainingTimeDisplay",RemainingTimeDisplay);class LiveDisplay extends Component$1{constructor(Ff,x_){super(Ff,x_),this.updateShowing(),this.on(this.player(),"durationchange",$P=>this.updateShowing($P))}createEl(){const Ff=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(createEl("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(document$2.createTextNode(this.localize("LIVE"))),Ff.appendChild(this.contentEl_),Ff}dispose(){this.contentEl_=null,super.dispose()}updateShowing(Ff){this.player().duration()===1/0?this.show():this.hide()}}Component$1.registerComponent("LiveDisplay",LiveDisplay);class SeekToLive extends Button{constructor(Ff,x_){super(Ff,x_),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=$P=>this.updateLiveEdgeStatus($P),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const Ff=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",Ff),this.textEl_=createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),Ff.appendChild(this.textEl_),Ff}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}SeekToLive.prototype.controlText_="Seek to live, currently playing live";Component$1.registerComponent("SeekToLive",SeekToLive);function clamp(kh,Ff,x_){return kh=Number(kh),Math.min(x_,Math.max(Ff,isNaN(kh)?Ff:kh))}var Num=Object.freeze({__proto__:null,clamp});class Slider extends Component$1{constructor(Ff,x_){super(Ff,x_),this.handleMouseDown_=$P=>this.handleMouseDown($P),this.handleMouseUp_=$P=>this.handleMouseUp($P),this.handleKeyDown_=$P=>this.handleKeyDown($P),this.handleClick_=$P=>this.handleClick($P),this.handleMouseMove_=$P=>this.handleMouseMove($P),this.update_=$P=>this.update($P),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const Ff=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(Ff,"mousemove",this.handleMouseMove_),this.off(Ff,"mouseup",this.handleMouseUp_),this.off(Ff,"touchmove",this.handleMouseMove_),this.off(Ff,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(Ff,x_={},$P={}){return x_.className=x_.className+" vjs-slider",x_=Object.assign({tabIndex:0},x_),$P=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},$P),super.createEl(Ff,x_,$P)}handleMouseDown(Ff){const x_=this.bar.el_.ownerDocument;Ff.type==="mousedown"&&Ff.preventDefault(),Ff.type==="touchstart"&&!IS_CHROME&&Ff.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(x_,"mousemove",this.handleMouseMove_),this.on(x_,"mouseup",this.handleMouseUp_),this.on(x_,"touchmove",this.handleMouseMove_),this.on(x_,"touchend",this.handleMouseUp_),this.handleMouseMove(Ff,!0)}handleMouseMove(Ff){}handleMouseUp(Ff){const x_=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(x_,"mousemove",this.handleMouseMove_),this.off(x_,"mouseup",this.handleMouseUp_),this.off(x_,"touchmove",this.handleMouseMove_),this.off(x_,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const Ff=this.getProgress();return Ff===this.progress_||(this.progress_=Ff,this.requestNamedAnimationFrame("Slider#update",()=>{const x_=this.vertical()?"height":"width";this.bar.el().style[x_]=(Ff*100).toFixed(2)+"%"})),Ff}getProgress(){return Number(clamp(this.getPercent(),0,1).toFixed(4))}calculateDistance(Ff){const x_=getPointerPosition(this.el_,Ff);return this.vertical()?x_.y:x_.x}handleKeyDown(Ff){keycode.isEventKey(Ff,"Left")||keycode.isEventKey(Ff,"Down")?(Ff.preventDefault(),Ff.stopPropagation(),this.stepBack()):keycode.isEventKey(Ff,"Right")||keycode.isEventKey(Ff,"Up")?(Ff.preventDefault(),Ff.stopPropagation(),this.stepForward()):super.handleKeyDown(Ff)}handleClick(Ff){Ff.stopPropagation(),Ff.preventDefault()}vertical(Ff){if(Ff===void 0)return this.vertical_||!1;this.vertical_=!!Ff,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Component$1.registerComponent("Slider",Slider);const percentify=(kh,Ff)=>clamp(kh/Ff*100,0,100).toFixed(2)+"%";class LoadProgressBar extends Component$1{constructor(Ff,x_){super(Ff,x_),this.partEls_=[],this.on(Ff,"progress",$P=>this.update($P))}createEl(){const Ff=super.createEl("div",{className:"vjs-load-progress"}),x_=createEl("span",{className:"vjs-control-text"}),$P=createEl("span",{textContent:this.localize("Loaded")}),zP=document$2.createTextNode(": ");return this.percentageEl_=createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),Ff.appendChild(x_),x_.appendChild($P),x_.appendChild(zP),x_.appendChild(this.percentageEl_),Ff}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(Ff){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const x_=this.player_.liveTracker,$P=this.player_.buffered(),zP=x_&&x_.isLive()?x_.seekableEnd():this.player_.duration(),eme=this.player_.bufferedEnd(),tme=this.partEls_,nme=percentify(eme,zP);this.percent_!==nme&&(this.el_.style.width=nme,textContent(this.percentageEl_,nme),this.percent_=nme);for(let rme=0;rme<$P.length;rme++){const ime=$P.start(rme),ome=$P.end(rme);let sme=tme[rme];sme||(sme=this.el_.appendChild(createEl()),tme[rme]=sme),!(sme.dataset.start===ime&&sme.dataset.end===ome)&&(sme.dataset.start=ime,sme.dataset.end=ome,sme.style.left=percentify(ime,eme),sme.style.width=percentify(ome-ime,eme))}for(let rme=tme.length;rme>$P.length;rme--)this.el_.removeChild(tme[rme-1]);tme.length=$P.length})}}Component$1.registerComponent("LoadProgressBar",LoadProgressBar);class TimeTooltip extends Component$1{constructor(Ff,x_){super(Ff,x_),this.update=throttle(bind_(this,this.update),UPDATE_REFRESH_INTERVAL)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(Ff,x_,$P){const zP=findPosition(this.el_),eme=getBoundingClientRect(this.player_.el()),tme=Ff.width*x_;if(!eme||!zP)return;const nme=Ff.left-eme.left+tme,rme=Ff.width-tme+(eme.right-Ff.right);let ime=zP.width/2;nme<ime?ime+=ime-nme:rme<ime&&(ime=rme),ime<0?ime=0:ime>zP.width&&(ime=zP.width),ime=Math.round(ime),this.el_.style.right=`-${ime}px`,this.write($P)}write(Ff){textContent(this.el_,Ff)}updateTime(Ff,x_,$P,zP){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let eme;const tme=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const nme=this.player_.liveTracker.liveWindow(),rme=nme-x_*nme;eme=(rme<1?"":"-")+formatTime(rme,nme)}else eme=formatTime($P,tme);this.update(Ff,x_,eme),zP&&zP()})}}Component$1.registerComponent("TimeTooltip",TimeTooltip);class PlayProgressBar extends Component$1{constructor(Ff,x_){super(Ff,x_),this.setIcon("circle"),this.update=throttle(bind_(this,this.update),UPDATE_REFRESH_INTERVAL)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(Ff,x_){const $P=this.getChild("timeTooltip");if(!$P)return;const zP=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();$P.updateTime(Ff,x_,zP)}}PlayProgressBar.prototype.options_={children:[]};!IS_IOS&&!IS_ANDROID&&PlayProgressBar.prototype.options_.children.push("timeTooltip");Component$1.registerComponent("PlayProgressBar",PlayProgressBar);class MouseTimeDisplay extends Component$1{constructor(Ff,x_){super(Ff,x_),this.update=throttle(bind_(this,this.update),UPDATE_REFRESH_INTERVAL)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(Ff,x_){const $P=x_*this.player_.duration();this.getChild("timeTooltip").updateTime(Ff,x_,$P,()=>{this.el_.style.left=`${Ff.width*x_}px`})}}MouseTimeDisplay.prototype.options_={children:["timeTooltip"]};Component$1.registerComponent("MouseTimeDisplay",MouseTimeDisplay);const STEP_SECONDS=5,PAGE_KEY_MULTIPLIER=12;class SeekBar extends Slider{constructor(Ff,x_){super(Ff,x_),this.setEventHandlers_()}setEventHandlers_(){this.update_=bind_(this,this.update),this.update=throttle(this.update_,UPDATE_REFRESH_INTERVAL),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=Ff=>this.enableInterval_(Ff),this.disableIntervalHandler_=Ff=>this.disableInterval_(Ff),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.on(document$2,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(Ff){document$2.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(Ff)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,UPDATE_REFRESH_INTERVAL))}disableInterval_(Ff){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&Ff&&Ff.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(Ff){if(document$2.visibilityState==="hidden")return;const x_=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const $P=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),zP=this.player_.liveTracker;let eme=this.player_.duration();zP&&zP.isLive()&&(eme=this.player_.liveTracker.liveCurrentTime()),this.percent_!==x_&&(this.el_.setAttribute("aria-valuenow",(x_*100).toFixed(2)),this.percent_=x_),(this.currentTime_!==$P||this.duration_!==eme)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[formatTime($P,eme),formatTime(eme,eme)],"{1} of {2}")),this.currentTime_=$P,this.duration_=eme),this.bar&&this.bar.update(getBoundingClientRect(this.el()),this.getProgress())}),x_}userSeek_(Ff){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(Ff)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const Ff=this.getCurrentTime_();let x_;const $P=this.player_.liveTracker;return $P&&$P.isLive()?(x_=(Ff-$P.seekableStart())/$P.liveWindow(),$P.atLiveEdge()&&(x_=1)):x_=Ff/this.player_.duration(),x_}handleMouseDown(Ff){isSingleLeftClick(Ff)&&(Ff.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(Ff))}handleMouseMove(Ff,x_=!1){if(!isSingleLeftClick(Ff)||isNaN(this.player_.duration()))return;!x_&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let $P;const zP=this.calculateDistance(Ff),eme=this.player_.liveTracker;if(!eme||!eme.isLive())$P=zP*this.player_.duration(),$P===this.player_.duration()&&($P=$P-.1);else{if(zP>=.99){eme.seekToLiveEdge();return}const tme=eme.seekableStart(),nme=eme.liveCurrentTime();if($P=tme+zP*eme.liveWindow(),$P>=nme&&($P=nme),$P<=tme&&($P=tme+.1),$P===1/0)return}this.userSeek_($P)}enable(){super.enable();const Ff=this.getChild("mouseTimeDisplay");Ff&&Ff.show()}disable(){super.disable();const Ff=this.getChild("mouseTimeDisplay");Ff&&Ff.hide()}handleMouseUp(Ff){super.handleMouseUp(Ff),Ff&&Ff.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+STEP_SECONDS)}stepBack(){this.userSeek_(this.player_.currentTime()-STEP_SECONDS)}handleAction(Ff){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(Ff){const x_=this.player_.liveTracker;if(keycode.isEventKey(Ff,"Space")||keycode.isEventKey(Ff,"Enter"))Ff.preventDefault(),Ff.stopPropagation(),this.handleAction(Ff);else if(keycode.isEventKey(Ff,"Home"))Ff.preventDefault(),Ff.stopPropagation(),this.userSeek_(0);else if(keycode.isEventKey(Ff,"End"))Ff.preventDefault(),Ff.stopPropagation(),x_&&x_.isLive()?this.userSeek_(x_.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(keycode(Ff))){Ff.preventDefault(),Ff.stopPropagation();const $P=(keycode.codes[keycode(Ff)]-keycode.codes[0])*10/100;x_&&x_.isLive()?this.userSeek_(x_.seekableStart()+x_.liveWindow()*$P):this.userSeek_(this.player_.duration()*$P)}else keycode.isEventKey(Ff,"PgDn")?(Ff.preventDefault(),Ff.stopPropagation(),this.userSeek_(this.player_.currentTime()-STEP_SECONDS*PAGE_KEY_MULTIPLIER)):keycode.isEventKey(Ff,"PgUp")?(Ff.preventDefault(),Ff.stopPropagation(),this.userSeek_(this.player_.currentTime()+STEP_SECONDS*PAGE_KEY_MULTIPLIER)):super.handleKeyDown(Ff)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in document$2&&"visibilityState"in document$2&&this.off(document$2,"visibilitychange",this.toggleVisibility_),super.dispose()}}SeekBar.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!IS_IOS&&!IS_ANDROID&&SeekBar.prototype.options_.children.splice(1,0,"mouseTimeDisplay");Component$1.registerComponent("SeekBar",SeekBar);class ProgressControl extends Component$1{constructor(Ff,x_){super(Ff,x_),this.handleMouseMove=throttle(bind_(this,this.handleMouseMove),UPDATE_REFRESH_INTERVAL),this.throttledHandleMouseSeek=throttle(bind_(this,this.handleMouseSeek),UPDATE_REFRESH_INTERVAL),this.handleMouseUpHandler_=$P=>this.handleMouseUp($P),this.handleMouseDownHandler_=$P=>this.handleMouseDown($P),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(Ff){const x_=this.getChild("seekBar");if(!x_)return;const $P=x_.getChild("playProgressBar"),zP=x_.getChild("mouseTimeDisplay");if(!$P&&!zP)return;const eme=x_.el(),tme=findPosition(eme);let nme=getPointerPosition(eme,Ff).x;nme=clamp(nme,0,1),zP&&zP.update(tme,nme),$P&&$P.update(tme,x_.getProgress())}handleMouseSeek(Ff){const x_=this.getChild("seekBar");x_&&x_.handleMouseMove(Ff)}enabled(){return this.enabled_}disable(){if(this.children().forEach(Ff=>Ff.disable&&Ff.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const Ff=this.getChild("seekBar");this.player_.scrubbing(!1),Ff.videoWasPlaying&&silencePromise(this.player_.play())}}enable(){this.children().forEach(Ff=>Ff.enable&&Ff.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const Ff=this.el_.ownerDocument;this.off(Ff,"mousemove",this.throttledHandleMouseSeek),this.off(Ff,"touchmove",this.throttledHandleMouseSeek),this.off(Ff,"mouseup",this.handleMouseUpHandler_),this.off(Ff,"touchend",this.handleMouseUpHandler_)}handleMouseDown(Ff){const x_=this.el_.ownerDocument,$P=this.getChild("seekBar");$P&&$P.handleMouseDown(Ff),this.on(x_,"mousemove",this.throttledHandleMouseSeek),this.on(x_,"touchmove",this.throttledHandleMouseSeek),this.on(x_,"mouseup",this.handleMouseUpHandler_),this.on(x_,"touchend",this.handleMouseUpHandler_)}handleMouseUp(Ff){const x_=this.getChild("seekBar");x_&&x_.handleMouseUp(Ff),this.removeListenersAddedOnMousedownAndTouchstart()}}ProgressControl.prototype.options_={children:["seekBar"]};Component$1.registerComponent("ProgressControl",ProgressControl);class PictureInPictureToggle extends Button{constructor(Ff,x_){super(Ff,x_),this.setIcon("picture-in-picture-enter"),this.on(Ff,["enterpictureinpicture","leavepictureinpicture"],$P=>this.handlePictureInPictureChange($P)),this.on(Ff,["disablepictureinpicturechanged","loadedmetadata"],$P=>this.handlePictureInPictureEnabledChange($P)),this.on(Ff,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){document$2.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in window$1$1?this.enable():this.disable()}handlePictureInPictureChange(Ff){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(Ff){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof document$2.exitPictureInPicture=="function"&&super.show()}}PictureInPictureToggle.prototype.controlText_="Picture-in-Picture";Component$1.registerComponent("PictureInPictureToggle",PictureInPictureToggle);class FullscreenToggle extends Button{constructor(Ff,x_){super(Ff,x_),this.setIcon("fullscreen-enter"),this.on(Ff,"fullscreenchange",$P=>this.handleFullscreenChange($P)),document$2[Ff.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(Ff){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(Ff){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}FullscreenToggle.prototype.controlText_="Fullscreen";Component$1.registerComponent("FullscreenToggle",FullscreenToggle);const checkVolumeSupport=function(kh,Ff){Ff.tech_&&!Ff.tech_.featuresVolumeControl&&kh.addClass("vjs-hidden"),kh.on(Ff,"loadstart",function(){Ff.tech_.featuresVolumeControl?kh.removeClass("vjs-hidden"):kh.addClass("vjs-hidden")})};class VolumeLevel extends Component$1{createEl(){const Ff=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",Ff),Ff.appendChild(super.createEl("span",{className:"vjs-control-text"})),Ff}}Component$1.registerComponent("VolumeLevel",VolumeLevel);class VolumeLevelTooltip extends Component$1{constructor(Ff,x_){super(Ff,x_),this.update=throttle(bind_(this,this.update),UPDATE_REFRESH_INTERVAL)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(Ff,x_,$P,zP){if(!$P){const eme=getBoundingClientRect(this.el_),tme=getBoundingClientRect(this.player_.el()),nme=Ff.width*x_;if(!tme||!eme)return;const rme=Ff.left-tme.left+nme,ime=Ff.width-nme+(tme.right-Ff.right);let ome=eme.width/2;rme<ome?ome+=ome-rme:ime<ome&&(ome=ime),ome<0?ome=0:ome>eme.width&&(ome=eme.width),this.el_.style.right=`-${ome}px`}this.write(`${zP}%`)}write(Ff){textContent(this.el_,Ff)}updateVolume(Ff,x_,$P,zP,eme){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(Ff,x_,$P,zP.toFixed(0)),eme&&eme()})}}Component$1.registerComponent("VolumeLevelTooltip",VolumeLevelTooltip);class MouseVolumeLevelDisplay extends Component$1{constructor(Ff,x_){super(Ff,x_),this.update=throttle(bind_(this,this.update),UPDATE_REFRESH_INTERVAL)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(Ff,x_,$P){const zP=100*x_;this.getChild("volumeLevelTooltip").updateVolume(Ff,x_,$P,zP,()=>{$P?this.el_.style.bottom=`${Ff.height*x_}px`:this.el_.style.left=`${Ff.width*x_}px`})}}MouseVolumeLevelDisplay.prototype.options_={children:["volumeLevelTooltip"]};Component$1.registerComponent("MouseVolumeLevelDisplay",MouseVolumeLevelDisplay);class VolumeBar extends Slider{constructor(Ff,x_){super(Ff,x_),this.on("slideractive",$P=>this.updateLastVolume_($P)),this.on(Ff,"volumechange",$P=>this.updateARIAAttributes($P)),Ff.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(Ff){isSingleLeftClick(Ff)&&super.handleMouseDown(Ff)}handleMouseMove(Ff){const x_=this.getChild("mouseVolumeLevelDisplay");if(x_){const $P=this.el(),zP=getBoundingClientRect($P),eme=this.vertical();let tme=getPointerPosition($P,Ff);tme=eme?tme.y:tme.x,tme=clamp(tme,0,1),x_.update(zP,tme,eme)}isSingleLeftClick(Ff)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(Ff)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(Ff){const x_=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",x_),this.el_.setAttribute("aria-valuetext",x_+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const Ff=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(Ff)})}}VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!IS_IOS&&!IS_ANDROID&&VolumeBar.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");VolumeBar.prototype.playerEvent="volumechange";Component$1.registerComponent("VolumeBar",VolumeBar);class VolumeControl extends Component$1{constructor(Ff,x_={}){x_.vertical=x_.vertical||!1,(typeof x_.volumeBar=="undefined"||isPlain(x_.volumeBar))&&(x_.volumeBar=x_.volumeBar||{},x_.volumeBar.vertical=x_.vertical),super(Ff,x_),checkVolumeSupport(this,Ff),this.throttledHandleMouseMove=throttle(bind_(this,this.handleMouseMove),UPDATE_REFRESH_INTERVAL),this.handleMouseUpHandler_=$P=>this.handleMouseUp($P),this.on("mousedown",$P=>this.handleMouseDown($P)),this.on("touchstart",$P=>this.handleMouseDown($P)),this.on("mousemove",$P=>this.handleMouseMove($P)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let Ff="vjs-volume-horizontal";return this.options_.vertical&&(Ff="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${Ff}`})}handleMouseDown(Ff){const x_=this.el_.ownerDocument;this.on(x_,"mousemove",this.throttledHandleMouseMove),this.on(x_,"touchmove",this.throttledHandleMouseMove),this.on(x_,"mouseup",this.handleMouseUpHandler_),this.on(x_,"touchend",this.handleMouseUpHandler_)}handleMouseUp(Ff){const x_=this.el_.ownerDocument;this.off(x_,"mousemove",this.throttledHandleMouseMove),this.off(x_,"touchmove",this.throttledHandleMouseMove),this.off(x_,"mouseup",this.handleMouseUpHandler_),this.off(x_,"touchend",this.handleMouseUpHandler_)}handleMouseMove(Ff){this.volumeBar.handleMouseMove(Ff)}}VolumeControl.prototype.options_={children:["volumeBar"]};Component$1.registerComponent("VolumeControl",VolumeControl);const checkMuteSupport=function(kh,Ff){Ff.tech_&&!Ff.tech_.featuresMuteControl&&kh.addClass("vjs-hidden"),kh.on(Ff,"loadstart",function(){Ff.tech_.featuresMuteControl?kh.removeClass("vjs-hidden"):kh.addClass("vjs-hidden")})};class MuteToggle extends Button{constructor(Ff,x_){super(Ff,x_),checkMuteSupport(this,Ff),this.on(Ff,["loadstart","volumechange"],$P=>this.update($P))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(Ff){const x_=this.player_.volume(),$P=this.player_.lastVolume_();if(x_===0){const zP=$P<.1?.1:$P;this.player_.volume(zP),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(Ff){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const Ff=this.player_.volume();let x_=3;this.setIcon("volume-high"),IS_IOS&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),Ff===0||this.player_.muted()?(this.setIcon("volume-mute"),x_=0):Ff<.33?(this.setIcon("volume-low"),x_=1):Ff<.67&&(this.setIcon("volume-medium"),x_=2),removeClass(this.el_,[0,1,2,3].reduce(($P,zP)=>$P+`${zP?" ":""}vjs-vol-${zP}`,"")),addClass(this.el_,`vjs-vol-${x_}`)}updateControlText_(){const x_=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==x_&&this.controlText(x_)}}MuteToggle.prototype.controlText_="Mute";Component$1.registerComponent("MuteToggle",MuteToggle);class VolumePanel extends Component$1{constructor(Ff,x_={}){typeof x_.inline!="undefined"?x_.inline=x_.inline:x_.inline=!0,(typeof x_.volumeControl=="undefined"||isPlain(x_.volumeControl))&&(x_.volumeControl=x_.volumeControl||{},x_.volumeControl.vertical=!x_.inline),super(Ff,x_),this.handleKeyPressHandler_=$P=>this.handleKeyPress($P),this.on(Ff,["loadstart"],$P=>this.volumePanelState_($P)),this.on(this.muteToggle,"keyup",$P=>this.handleKeyPress($P)),this.on(this.volumeControl,"keyup",$P=>this.handleVolumeControlKeyUp($P)),this.on("keydown",$P=>this.handleKeyPress($P)),this.on("mouseover",$P=>this.handleMouseOver($P)),this.on("mouseout",$P=>this.handleMouseOut($P)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let Ff="vjs-volume-panel-horizontal";return this.options_.inline||(Ff="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${Ff}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(Ff){keycode.isEventKey(Ff,"Esc")&&this.muteToggle.focus()}handleMouseOver(Ff){this.addClass("vjs-hover"),on(document$2,"keyup",this.handleKeyPressHandler_)}handleMouseOut(Ff){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleKeyPressHandler_)}handleKeyPress(Ff){keycode.isEventKey(Ff,"Esc")&&this.handleMouseOut()}}VolumePanel.prototype.options_={children:["muteToggle","volumeControl"]};Component$1.registerComponent("VolumePanel",VolumePanel);class SkipForward extends Button{constructor(Ff,x_){super(Ff,x_),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const Ff=this.options_.playerOptions;return Ff.controlBar&&Ff.controlBar.skipButtons&&Ff.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(Ff){if(isNaN(this.player_.duration()))return;const x_=this.player_.currentTime(),$P=this.player_.liveTracker,zP=$P&&$P.isLive()?$P.seekableEnd():this.player_.duration();let eme;x_+this.skipTime<=zP?eme=x_+this.skipTime:eme=zP,this.player_.currentTime(eme)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}Component$1.registerComponent("SkipForward",SkipForward);class SkipBackward extends Button{constructor(Ff,x_){super(Ff,x_),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const Ff=this.options_.playerOptions;return Ff.controlBar&&Ff.controlBar.skipButtons&&Ff.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(Ff){const x_=this.player_.currentTime(),$P=this.player_.liveTracker,zP=$P&&$P.isLive()&&$P.seekableStart();let eme;zP&&x_-this.skipTime<=zP?eme=zP:x_>=this.skipTime?eme=x_-this.skipTime:eme=0,this.player_.currentTime(eme)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}SkipBackward.prototype.controlText_="Skip Backward";Component$1.registerComponent("SkipBackward",SkipBackward);class Menu extends Component$1{constructor(Ff,x_){super(Ff,x_),x_&&(this.menuButton_=x_.menuButton),this.focusedChild_=-1,this.on("keydown",$P=>this.handleKeyDown($P)),this.boundHandleBlur_=$P=>this.handleBlur($P),this.boundHandleTapClick_=$P=>this.handleTapClick($P)}addEventListenerForItem(Ff){Ff instanceof Component$1&&(this.on(Ff,"blur",this.boundHandleBlur_),this.on(Ff,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(Ff){Ff instanceof Component$1&&(this.off(Ff,"blur",this.boundHandleBlur_),this.off(Ff,["tap","click"],this.boundHandleTapClick_))}removeChild(Ff){typeof Ff=="string"&&(Ff=this.getChild(Ff)),this.removeEventListenerForItem(Ff),super.removeChild(Ff)}addItem(Ff){const x_=this.addChild(Ff);x_&&this.addEventListenerForItem(x_)}createEl(){const Ff=this.options_.contentElType||"ul";this.contentEl_=createEl(Ff,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const x_=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return x_.appendChild(this.contentEl_),on(x_,"click",function($P){$P.preventDefault(),$P.stopImmediatePropagation()}),x_}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(Ff){const x_=Ff.relatedTarget||document$2.activeElement;if(!this.children().some($P=>$P.el()===x_)){const $P=this.menuButton_;$P&&$P.buttonPressed_&&x_!==$P.el().firstChild&&$P.unpressButton()}}handleTapClick(Ff){if(this.menuButton_){this.menuButton_.unpressButton();const x_=this.children();if(!Array.isArray(x_))return;const $P=x_.filter(zP=>zP.el()===Ff.target)[0];if(!$P)return;$P.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(Ff){keycode.isEventKey(Ff,"Left")||keycode.isEventKey(Ff,"Down")?(Ff.preventDefault(),Ff.stopPropagation(),this.stepForward()):(keycode.isEventKey(Ff,"Right")||keycode.isEventKey(Ff,"Up"))&&(Ff.preventDefault(),Ff.stopPropagation(),this.stepBack())}stepForward(){let Ff=0;this.focusedChild_!==void 0&&(Ff=this.focusedChild_+1),this.focus(Ff)}stepBack(){let Ff=0;this.focusedChild_!==void 0&&(Ff=this.focusedChild_-1),this.focus(Ff)}focus(Ff=0){const x_=this.children().slice();x_.length&&x_[0].hasClass("vjs-menu-title")&&x_.shift(),x_.length>0&&(Ff<0?Ff=0:Ff>=x_.length&&(Ff=x_.length-1),this.focusedChild_=Ff,x_[Ff].el_.focus())}}Component$1.registerComponent("Menu",Menu);class MenuButton extends Component$1{constructor(Ff,x_={}){super(Ff,x_),this.menuButton_=new Button(Ff,x_),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const $P=Button.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+$P,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const zP=eme=>this.handleClick(eme);this.handleMenuKeyUp_=eme=>this.handleMenuKeyUp(eme),this.on(this.menuButton_,"tap",zP),this.on(this.menuButton_,"click",zP),this.on(this.menuButton_,"keydown",eme=>this.handleKeyDown(eme)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),on(document$2,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",eme=>this.handleMouseLeave(eme)),this.on("keydown",eme=>this.handleSubmenuKeyDown(eme))}update(){const Ff=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=Ff,this.addChild(Ff),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const Ff=new Menu(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const x_=createEl("li",{className:"vjs-menu-title",textContent:toTitleCase$1(this.options_.title),tabIndex:-1}),$P=new Component$1(this.player_,{el:x_});Ff.addItem($P)}if(this.items=this.createItems(),this.items)for(let x_=0;x_<this.items.length;x_++)Ff.addItem(this.items[x_]);return Ff}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(Ff){super.setIcon(Ff,this.menuButton_.el_)}buildWrapperCSSClass(){let Ff="vjs-menu-button";this.options_.inline===!0?Ff+="-inline":Ff+="-popup";const x_=Button.prototype.buildCSSClass();return`vjs-menu-button ${Ff} ${x_} ${super.buildCSSClass()}`}buildCSSClass(){let Ff="vjs-menu-button";return this.options_.inline===!0?Ff+="-inline":Ff+="-popup",`vjs-menu-button ${Ff} ${super.buildCSSClass()}`}controlText(Ff,x_=this.menuButton_.el()){return this.menuButton_.controlText(Ff,x_)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(Ff){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(Ff){this.removeClass("vjs-hover"),off(document$2,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(Ff){keycode.isEventKey(Ff,"Esc")||keycode.isEventKey(Ff,"Tab")?(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(Ff,"Tab")||(Ff.preventDefault(),this.menuButton_.focus())):(keycode.isEventKey(Ff,"Up")||keycode.isEventKey(Ff,"Down"))&&(this.buttonPressed_||(Ff.preventDefault(),this.pressButton()))}handleMenuKeyUp(Ff){(keycode.isEventKey(Ff,"Esc")||keycode.isEventKey(Ff,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(Ff){this.handleSubmenuKeyDown(Ff)}handleSubmenuKeyDown(Ff){(keycode.isEventKey(Ff,"Esc")||keycode.isEventKey(Ff,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),keycode.isEventKey(Ff,"Tab")||(Ff.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),IS_IOS&&isInFrame())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Component$1.registerComponent("MenuButton",MenuButton);class TrackButton extends MenuButton{constructor(Ff,x_){const $P=x_.tracks;if(super(Ff,x_),this.items.length<=1&&this.hide(),!$P)return;const zP=bind_(this,this.update);$P.addEventListener("removetrack",zP),$P.addEventListener("addtrack",zP),$P.addEventListener("labelchange",zP),this.player_.on("ready",zP),this.player_.on("dispose",function(){$P.removeEventListener("removetrack",zP),$P.removeEventListener("addtrack",zP),$P.removeEventListener("labelchange",zP)})}}Component$1.registerComponent("TrackButton",TrackButton);const MenuKeys=["Tab","Esc","Up","Down","Right","Left"];class MenuItem extends ClickableComponent{constructor(Ff,x_){super(Ff,x_),this.selectable=x_.selectable,this.isSelected_=x_.selected||!1,this.multiSelectable=x_.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(Ff,x_,$P){this.nonIconControl=!0;const zP=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},x_),$P),eme=createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?zP.appendChild(eme):zP.replaceChild(eme,zP.querySelector(".vjs-icon-placeholder")),zP}handleKeyDown(Ff){MenuKeys.some(x_=>keycode.isEventKey(Ff,x_))||super.handleKeyDown(Ff)}handleClick(Ff){this.selected(!0)}selected(Ff){this.selectable&&(Ff?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Component$1.registerComponent("MenuItem",MenuItem);class TextTrackMenuItem extends MenuItem{constructor(Ff,x_){const $P=x_.track,zP=Ff.textTracks();x_.label=$P.label||$P.language||"Unknown",x_.selected=$P.mode==="showing",super(Ff,x_),this.track=$P,this.kinds=(x_.kinds||[x_.kind||this.track.kind]).filter(Boolean);const eme=(...nme)=>{this.handleTracksChange.apply(this,nme)},tme=(...nme)=>{this.handleSelectedLanguageChange.apply(this,nme)};if(Ff.on(["loadstart","texttrackchange"],eme),zP.addEventListener("change",eme),zP.addEventListener("selectedlanguagechange",tme),this.on("dispose",function(){Ff.off(["loadstart","texttrackchange"],eme),zP.removeEventListener("change",eme),zP.removeEventListener("selectedlanguagechange",tme)}),zP.onchange===void 0){let nme;this.on(["tap","click"],function(){if(typeof window$1$1.Event!="object")try{nme=new window$1$1.Event("change")}catch(rme){}nme||(nme=document$2.createEvent("Event"),nme.initEvent("change",!0,!0)),zP.dispatchEvent(nme)})}this.handleTracksChange()}handleClick(Ff){const x_=this.track,$P=this.player_.textTracks();if(super.handleClick(Ff),!!$P)for(let zP=0;zP<$P.length;zP++){const eme=$P[zP];this.kinds.indexOf(eme.kind)!==-1&&(eme===x_?eme.mode!=="showing"&&(eme.mode="showing"):eme.mode!=="disabled"&&(eme.mode="disabled"))}}handleTracksChange(Ff){const x_=this.track.mode==="showing";x_!==this.isSelected_&&this.selected(x_)}handleSelectedLanguageChange(Ff){if(this.track.mode==="showing"){const x_=this.player_.cache_.selectedLanguage;if(x_&&x_.enabled&&x_.language===this.track.language&&x_.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Component$1.registerComponent("TextTrackMenuItem",TextTrackMenuItem);class OffTextTrackMenuItem extends TextTrackMenuItem{constructor(Ff,x_){x_.track={player:Ff,kind:x_.kind,kinds:x_.kinds,default:!1,mode:"disabled"},x_.kinds||(x_.kinds=[x_.kind]),x_.label?x_.track.label=x_.label:x_.track.label=x_.kinds.join(" and ")+" off",x_.selectable=!0,x_.multiSelectable=!1,super(Ff,x_)}handleTracksChange(Ff){const x_=this.player().textTracks();let $P=!0;for(let zP=0,eme=x_.length;zP<eme;zP++){const tme=x_[zP];if(this.options_.kinds.indexOf(tme.kind)>-1&&tme.mode==="showing"){$P=!1;break}}$P!==this.isSelected_&&this.selected($P)}handleSelectedLanguageChange(Ff){const x_=this.player().textTracks();let $P=!0;for(let zP=0,eme=x_.length;zP<eme;zP++){const tme=x_[zP];if(["captions","descriptions","subtitles"].indexOf(tme.kind)>-1&&tme.mode==="showing"){$P=!1;break}}$P&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Component$1.registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem);class TextTrackButton extends TrackButton{constructor(Ff,x_={}){x_.tracks=Ff.textTracks(),super(Ff,x_)}createItems(Ff=[],x_=TextTrackMenuItem){let $P;this.label_&&($P=`${this.label_} off`),Ff.push(new OffTextTrackMenuItem(this.player_,{kinds:this.kinds_,kind:this.kind_,label:$P})),this.hideThreshold_+=1;const zP=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let eme=0;eme<zP.length;eme++){const tme=zP[eme];if(this.kinds_.indexOf(tme.kind)>-1){const nme=new x_(this.player_,{track:tme,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});nme.addClass(`vjs-${tme.kind}-menu-item`),Ff.push(nme)}}return Ff}}Component$1.registerComponent("TextTrackButton",TextTrackButton);class ChaptersTrackMenuItem extends MenuItem{constructor(Ff,x_){const $P=x_.track,zP=x_.cue,eme=Ff.currentTime();x_.selectable=!0,x_.multiSelectable=!1,x_.label=zP.text,x_.selected=zP.startTime<=eme&&eme<zP.endTime,super(Ff,x_),this.track=$P,this.cue=zP}handleClick(Ff){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Component$1.registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem);class ChaptersButton extends TextTrackButton{constructor(Ff,x_,$P){super(Ff,x_,$P),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(zP=>{zP.selected(this.track_.activeCues[0]===zP.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(Ff){if(Ff&&Ff.track&&Ff.track.kind!=="chapters")return;const x_=this.findChaptersTrack();x_!==this.track_?(this.setTrack(x_),super.update()):(!this.items||x_&&x_.cues&&x_.cues.length!==this.items.length)&&super.update()}setTrack(Ff){if(this.track_!==Ff){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const x_=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);x_&&x_.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=Ff,this.track_){this.track_.mode="hidden";const x_=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);x_&&x_.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const Ff=this.player_.textTracks()||[];for(let x_=Ff.length-1;x_>=0;x_--){const $P=Ff[x_];if($P.kind===this.kind_)return $P}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(toTitleCase$1(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const Ff=[];if(!this.track_)return Ff;const x_=this.track_.cues;if(!x_)return Ff;for(let $P=0,zP=x_.length;$P<zP;$P++){const eme=x_[$P],tme=new ChaptersTrackMenuItem(this.player_,{track:this.track_,cue:eme});Ff.push(tme)}return Ff}}ChaptersButton.prototype.kind_="chapters";ChaptersButton.prototype.controlText_="Chapters";Component$1.registerComponent("ChaptersButton",ChaptersButton);class DescriptionsButton extends TextTrackButton{constructor(Ff,x_,$P){super(Ff,x_,$P),this.setIcon("audio-description");const zP=Ff.textTracks(),eme=bind_(this,this.handleTracksChange);zP.addEventListener("change",eme),this.on("dispose",function(){zP.removeEventListener("change",eme)})}handleTracksChange(Ff){const x_=this.player().textTracks();let $P=!1;for(let zP=0,eme=x_.length;zP<eme;zP++){const tme=x_[zP];if(tme.kind!==this.kind_&&tme.mode==="showing"){$P=!0;break}}$P?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}DescriptionsButton.prototype.kind_="descriptions";DescriptionsButton.prototype.controlText_="Descriptions";Component$1.registerComponent("DescriptionsButton",DescriptionsButton);class SubtitlesButton extends TextTrackButton{constructor(Ff,x_,$P){super(Ff,x_,$P),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}SubtitlesButton.prototype.kind_="subtitles";SubtitlesButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubtitlesButton",SubtitlesButton);class CaptionSettingsMenuItem extends TextTrackMenuItem{constructor(Ff,x_){x_.track={player:Ff,kind:x_.kind,label:x_.kind+" settings",selectable:!1,default:!1,mode:"disabled"},x_.selectable=!1,x_.name="CaptionSettingsMenuItem",super(Ff,x_),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+x_.kind+" settings dialog")}handleClick(Ff){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Component$1.registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem);class CaptionsButton extends TextTrackButton{constructor(Ff,x_,$P){super(Ff,x_,$P),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const Ff=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(Ff.push(new CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(Ff)}}CaptionsButton.prototype.kind_="captions";CaptionsButton.prototype.controlText_="Captions";Component$1.registerComponent("CaptionsButton",CaptionsButton);class SubsCapsMenuItem extends TextTrackMenuItem{createEl(Ff,x_,$P){const zP=super.createEl(Ff,x_,$P),eme=zP.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",zP):eme.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),eme.appendChild(createEl("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),zP}}Component$1.registerComponent("SubsCapsMenuItem",SubsCapsMenuItem);class SubsCapsButton extends TextTrackButton{constructor(Ff,x_={}){super(Ff,x_),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(toTitleCase$1(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let Ff=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(Ff.push(new CaptionSettingsMenuItem(this.player_,{kind:this.label_})),this.hideThreshold_+=1),Ff=super.createItems(Ff,SubsCapsMenuItem),Ff}}SubsCapsButton.prototype.kinds_=["captions","subtitles"];SubsCapsButton.prototype.controlText_="Subtitles";Component$1.registerComponent("SubsCapsButton",SubsCapsButton);class AudioTrackMenuItem extends MenuItem{constructor(Ff,x_){const $P=x_.track,zP=Ff.audioTracks();x_.label=$P.label||$P.language||"Unknown",x_.selected=$P.enabled,super(Ff,x_),this.track=$P,this.addClass(`vjs-${$P.kind}-menu-item`);const eme=(...tme)=>{this.handleTracksChange.apply(this,tme)};zP.addEventListener("change",eme),this.on("dispose",()=>{zP.removeEventListener("change",eme)})}createEl(Ff,x_,$P){const zP=super.createEl(Ff,x_,$P),eme=zP.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(eme.appendChild(createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),eme.appendChild(createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),zP}handleClick(Ff){if(super.handleClick(Ff),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const x_=this.player_.audioTracks();for(let $P=0;$P<x_.length;$P++){const zP=x_[$P];zP!==this.track&&(zP.enabled=zP===this.track)}}}handleTracksChange(Ff){this.selected(this.track.enabled)}}Component$1.registerComponent("AudioTrackMenuItem",AudioTrackMenuItem);class AudioTrackButton extends TrackButton{constructor(Ff,x_={}){x_.tracks=Ff.audioTracks(),super(Ff,x_),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(Ff=[]){this.hideThreshold_=1;const x_=this.player_.audioTracks();for(let $P=0;$P<x_.length;$P++){const zP=x_[$P];Ff.push(new AudioTrackMenuItem(this.player_,{track:zP,selectable:!0,multiSelectable:!1}))}return Ff}}AudioTrackButton.prototype.controlText_="Audio Track";Component$1.registerComponent("AudioTrackButton",AudioTrackButton);class PlaybackRateMenuItem extends MenuItem{constructor(Ff,x_){const $P=x_.rate,zP=parseFloat($P,10);x_.label=$P,x_.selected=zP===Ff.playbackRate(),x_.selectable=!0,x_.multiSelectable=!1,super(Ff,x_),this.label=$P,this.rate=zP,this.on(Ff,"ratechange",eme=>this.update(eme))}handleClick(Ff){super.handleClick(),this.player().playbackRate(this.rate)}update(Ff){this.selected(this.player().playbackRate()===this.rate)}}PlaybackRateMenuItem.prototype.contentElType="button";Component$1.registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem);class PlaybackRateMenuButton extends MenuButton{constructor(Ff,x_){super(Ff,x_),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(Ff,"loadstart",$P=>this.updateVisibility($P)),this.on(Ff,"ratechange",$P=>this.updateLabel($P)),this.on(Ff,"playbackrateschange",$P=>this.handlePlaybackRateschange($P))}createEl(){const Ff=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),Ff.appendChild(this.labelEl_),Ff}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const Ff=this.playbackRates(),x_=[];for(let $P=Ff.length-1;$P>=0;$P--)x_.push(new PlaybackRateMenuItem(this.player(),{rate:Ff[$P]+"x"}));return x_}handlePlaybackRateschange(Ff){this.update()}playbackRates(){const Ff=this.player();return Ff.playbackRates&&Ff.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(Ff){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(Ff){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}PlaybackRateMenuButton.prototype.controlText_="Playback Rate";Component$1.registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton);class Spacer extends Component$1{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(Ff="div",x_={},$P={}){return x_.className||(x_.className=this.buildCSSClass()),super.createEl(Ff,x_,$P)}}Component$1.registerComponent("Spacer",Spacer);class CustomControlSpacer extends Spacer{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Component$1.registerComponent("CustomControlSpacer",CustomControlSpacer);class ControlBar extends Component$1{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}ControlBar.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Component$1.registerComponent("ControlBar",ControlBar);class ErrorDisplay extends ModalDialog{constructor(Ff,x_){super(Ff,x_),this.on(Ff,"error",$P=>this.open($P))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const Ff=this.player().error();return Ff?this.localize(Ff.message):""}}ErrorDisplay.prototype.options_=Object.assign({},ModalDialog.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Component$1.registerComponent("ErrorDisplay",ErrorDisplay);const LOCAL_STORAGE_KEY$1="vjs-text-track-settings",COLOR_BLACK=["#000","Black"],COLOR_BLUE=["#00F","Blue"],COLOR_CYAN=["#0FF","Cyan"],COLOR_GREEN=["#0F0","Green"],COLOR_MAGENTA=["#F0F","Magenta"],COLOR_RED=["#F00","Red"],COLOR_WHITE=["#FFF","White"],COLOR_YELLOW=["#FF0","Yellow"],OPACITY_OPAQUE=["1","Opaque"],OPACITY_SEMI=["0.5","Semi-Transparent"],OPACITY_TRANS=["0","Transparent"],selectConfigs={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:kh=>kh==="1.00"?null:Number(kh)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;function parseOptionValue(kh,Ff){if(Ff&&(kh=Ff(kh)),kh&&kh!=="none")return kh}function getSelectedOptionValue(kh,Ff){const x_=kh.options[kh.options.selectedIndex].value;return parseOptionValue(x_,Ff)}function setSelectedOption(kh,Ff,x_){if(Ff){for(let $P=0;$P<kh.options.length;$P++)if(parseOptionValue(kh.options[$P].value,x_)===Ff){kh.selectedIndex=$P;break}}}class TextTrackSettings extends ModalDialog{constructor(Ff,x_){x_.temporary=!1,super(Ff,x_),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=createEl("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),x_.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),each(selectConfigs,$P=>{this.on(this.$($P.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(Ff,x_="",$P="label"){const zP=selectConfigs[Ff],eme=zP.id.replace("%s",this.id_),tme=[x_,eme].join(" ").trim();return[`<${$P} id="${eme}" class="${$P==="label"?"vjs-label":""}">`,this.localize(zP.label),`</${$P}>`,`<select aria-labelledby="${tme}">`].concat(zP.options.map(nme=>{const rme=eme+"-"+nme[1].replace(/\W+/g,"");return[`<option id="${rme}" value="${nme[0]}" `,`aria-labelledby="${tme} ${rme}">`,this.localize(nme[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const Ff=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${Ff}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",Ff),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",Ff),"</span>","</fieldset>"].join("")}createElBgColor_(){const Ff=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${Ff}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",Ff),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",Ff),"</span>","</fieldset>"].join("")}createElWinColor_(){const Ff=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${Ff}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",Ff),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",Ff),"</span>","</fieldset>"].join("")}createElColors_(){return createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const Ff=this.localize("restore all settings to the default values");return createEl("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${Ff}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${Ff}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return reduce(selectConfigs,(Ff,x_,$P)=>{const zP=getSelectedOptionValue(this.$(x_.selector),x_.parser);return zP!==void 0&&(Ff[$P]=zP),Ff},{})}setValues(Ff){each(selectConfigs,(x_,$P)=>{setSelectedOption(this.$(x_.selector),Ff[$P],x_.parser)})}setDefaults(){each(selectConfigs,Ff=>{const x_=Ff.hasOwnProperty("default")?Ff.default:0;this.$(Ff.selector).selectedIndex=x_})}restoreSettings(){let Ff;try{Ff=JSON.parse(window$1$1.localStorage.getItem(LOCAL_STORAGE_KEY$1))}catch(x_){log$1.warn(x_)}Ff&&this.setValues(Ff)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const Ff=this.getValues();try{Object.keys(Ff).length?window$1$1.localStorage.setItem(LOCAL_STORAGE_KEY$1,JSON.stringify(Ff)):window$1$1.localStorage.removeItem(LOCAL_STORAGE_KEY$1)}catch(x_){log$1.warn(x_)}}updateDisplay(){const Ff=this.player_.getChild("textTrackDisplay");Ff&&Ff.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const Ff=this.player_.controlBar,x_=Ff&&Ff.subsCapsButton,$P=Ff&&Ff.captionsButton;x_?x_.focus():$P&&$P.focus()}handleLanguagechange(){this.fill()}}Component$1.registerComponent("TextTrackSettings",TextTrackSettings);class ResizeManager extends Component$1{constructor(Ff,x_){let $P=x_.ResizeObserver||window$1$1.ResizeObserver;x_.ResizeObserver===null&&($P=!1);const zP=merge$1({createEl:!$P,reportTouchActivity:!1},x_);super(Ff,zP),this.ResizeObserver=x_.ResizeObserver||window$1$1.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=debounce(()=>{this.resizeHandler()},100,!1,this),$P?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(Ff.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const eme=this.debouncedHandler_;let tme=this.unloadListener_=function(){off(this,"resize",eme),off(this,"unload",tme),tme=null};on(this.el_.contentWindow,"unload",tme),on(this.el_.contentWindow,"resize",eme)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Component$1.registerComponent("ResizeManager",ResizeManager);const defaults={trackingThreshold:20,liveTolerance:15};class LiveTracker extends Component$1{constructor(Ff,x_){const $P=merge$1(defaults,x_,{createEl:!1});super(Ff,$P),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=zP=>this.handlePlay(zP),this.handleFirstTimeupdate_=zP=>this.handleFirstTimeupdate(zP),this.handleSeeked_=zP=>this.handleSeeked(zP),this.seekToLiveEdge_=zP=>this.seekToLiveEdge(zP),this.reset_(),this.on(this.player_,"durationchange",zP=>this.handleDurationchange(zP)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const Ff=this.player_.seekable();if(!Ff||!Ff.length)return;const x_=Number(window$1$1.performance.now().toFixed(4)),$P=this.lastTime_===-1?0:(x_-this.lastTime_)/1e3;this.lastTime_=x_,this.pastSeekEnd_=this.pastSeekEnd()+$P;const zP=this.liveCurrentTime(),eme=this.player_.currentTime();let tme=this.player_.paused()||this.seekedBehindLive_||Math.abs(zP-eme)>this.options_.liveTolerance;(!this.timeupdateSeen_||zP===1/0)&&(tme=!1),tme!==this.behindLiveEdge_&&(this.behindLiveEdge_=tme,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,UPDATE_REFRESH_INTERVAL),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const Ff=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&Ff>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const Ff=this.player_.seekable(),x_=[];let $P=Ff?Ff.length:0;for(;$P--;)x_.push(Ff.end($P));return x_.length?x_.sort()[x_.length-1]:1/0}seekableStart(){const Ff=this.player_.seekable(),x_=[];let $P=Ff?Ff.length:0;for(;$P--;)x_.push(Ff.start($P));return x_.length?x_.sort()[0]:0}liveWindow(){const Ff=this.liveCurrentTime();return Ff===1/0?0:Ff-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const Ff=this.seekableEnd();return this.lastSeekEnd_!==-1&&Ff!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=Ff,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Component$1.registerComponent("LiveTracker",LiveTracker);class TitleBar extends Component$1{constructor(Ff,x_){super(Ff,x_),this.on("statechanged",$P=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:createEl("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${newGUID()}`}),description:createEl("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${newGUID()}`})},createEl("div",{className:"vjs-title-bar"},{},values(this.els))}updateDom_(){const Ff=this.player_.tech_,x_=Ff&&Ff.el_,$P={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(zP=>{const eme=this.state[zP],tme=this.els[zP],nme=$P[zP];emptyEl(tme),eme&&textContent(tme,eme),x_&&(x_.removeAttribute(nme),eme&&x_.setAttribute(nme,tme.id))}),this.state.title||this.state.description?this.show():this.hide()}update(Ff){this.setState(Ff)}dispose(){const Ff=this.player_.tech_,x_=Ff&&Ff.el_;x_&&(x_.removeAttribute("aria-labelledby"),x_.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Component$1.registerComponent("TitleBar",TitleBar);const sourcesetLoad=kh=>{const Ff=kh.el();if(Ff.hasAttribute("src"))return kh.triggerSourceset(Ff.src),!0;const x_=kh.$$("source"),$P=[];let zP="";if(!x_.length)return!1;for(let eme=0;eme<x_.length;eme++){const tme=x_[eme].src;tme&&$P.indexOf(tme)===-1&&$P.push(tme)}return $P.length?($P.length===1&&(zP=$P[0]),kh.triggerSourceset(zP),!0):!1},innerHTMLDescriptorPolyfill=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(kh){const Ff=document$2.createElement(this.nodeName.toLowerCase());Ff.innerHTML=kh;const x_=document$2.createDocumentFragment();for(;Ff.childNodes.length;)x_.appendChild(Ff.childNodes[0]);return this.innerText="",window$1$1.Element.prototype.appendChild.call(this,x_),this.innerHTML}}),getDescriptor=(kh,Ff)=>{let x_={};for(let $P=0;$P<kh.length&&(x_=Object.getOwnPropertyDescriptor(kh[$P],Ff),!(x_&&x_.set&&x_.get));$P++);return x_.enumerable=!0,x_.configurable=!0,x_},getInnerHTMLDescriptor=kh=>getDescriptor([kh.el(),window$1$1.HTMLMediaElement.prototype,window$1$1.Element.prototype,innerHTMLDescriptorPolyfill],"innerHTML"),firstSourceWatch=function(kh){const Ff=kh.el();if(Ff.resetSourceWatch_)return;const x_={},$P=getInnerHTMLDescriptor(kh),zP=eme=>(...tme)=>{const nme=eme.apply(Ff,tme);return sourcesetLoad(kh),nme};["append","appendChild","insertAdjacentHTML"].forEach(eme=>{Ff[eme]&&(x_[eme]=Ff[eme],Ff[eme]=zP(x_[eme]))}),Object.defineProperty(Ff,"innerHTML",merge$1($P,{set:zP($P.set)})),Ff.resetSourceWatch_=()=>{Ff.resetSourceWatch_=null,Object.keys(x_).forEach(eme=>{Ff[eme]=x_[eme]}),Object.defineProperty(Ff,"innerHTML",$P)},kh.one("sourceset",Ff.resetSourceWatch_)},srcDescriptorPolyfill=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?getAbsoluteURL(window$1$1.Element.prototype.getAttribute.call(this,"src")):""},set(kh){return window$1$1.Element.prototype.setAttribute.call(this,"src",kh),kh}}),getSrcDescriptor=kh=>getDescriptor([kh.el(),window$1$1.HTMLMediaElement.prototype,srcDescriptorPolyfill],"src"),setupSourceset=function(kh){if(!kh.featuresSourceset)return;const Ff=kh.el();if(Ff.resetSourceset_)return;const x_=getSrcDescriptor(kh),$P=Ff.setAttribute,zP=Ff.load;Object.defineProperty(Ff,"src",merge$1(x_,{set:eme=>{const tme=x_.set.call(Ff,eme);return kh.triggerSourceset(Ff.src),tme}})),Ff.setAttribute=(eme,tme)=>{const nme=$P.call(Ff,eme,tme);return/src/i.test(eme)&&kh.triggerSourceset(Ff.src),nme},Ff.load=()=>{const eme=zP.call(Ff);return sourcesetLoad(kh)||(kh.triggerSourceset(""),firstSourceWatch(kh)),eme},Ff.currentSrc?kh.triggerSourceset(Ff.currentSrc):sourcesetLoad(kh)||firstSourceWatch(kh),Ff.resetSourceset_=()=>{Ff.resetSourceset_=null,Ff.load=zP,Ff.setAttribute=$P,Object.defineProperty(Ff,"src",x_),Ff.resetSourceWatch_&&Ff.resetSourceWatch_()}};class Html5 extends Tech{constructor(Ff,x_){super(Ff,x_);const $P=Ff.source;let zP=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",$P&&(this.el_.currentSrc!==$P.src||Ff.tag&&Ff.tag.initNetworkState_===3)?this.setSource($P):this.handleLateInit_(this.el_),Ff.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const eme=this.el_.childNodes;let tme=eme.length;const nme=[];for(;tme--;){const rme=eme[tme];rme.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(rme),this.remoteTextTracks().addTrack(rme.track),this.textTracks().addTrack(rme.track),!zP&&!this.el_.hasAttribute("crossorigin")&&isCrossOrigin(rme.src)&&(zP=!0)):nme.push(rme))}for(let rme=0;rme<nme.length;rme++)this.el_.removeChild(nme[rme])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&zP&&log$1.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(TOUCH_ENABLED||IS_IPHONE)&&Ff.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Html5.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){setupSourceset(this)}restoreMetadataTracksInIOSNativePlayer_(){const Ff=this.textTracks();let x_;const $P=()=>{x_=[];for(let eme=0;eme<Ff.length;eme++){const tme=Ff[eme];tme.kind==="metadata"&&x_.push({track:tme,storedMode:tme.mode})}};$P(),Ff.addEventListener("change",$P),this.on("dispose",()=>Ff.removeEventListener("change",$P));const zP=()=>{for(let eme=0;eme<x_.length;eme++){const tme=x_[eme];tme.track.mode==="disabled"&&tme.track.mode!==tme.storedMode&&(tme.track.mode=tme.storedMode)}Ff.removeEventListener("change",zP)};this.on("webkitbeginfullscreen",()=>{Ff.removeEventListener("change",$P),Ff.removeEventListener("change",zP),Ff.addEventListener("change",zP)}),this.on("webkitendfullscreen",()=>{Ff.removeEventListener("change",$P),Ff.addEventListener("change",$P),Ff.removeEventListener("change",zP)})}overrideNative_(Ff,x_){if(x_!==this[`featuresNative${Ff}Tracks`])return;const $P=Ff.toLowerCase();this[`${$P}TracksListeners_`]&&Object.keys(this[`${$P}TracksListeners_`]).forEach(zP=>{this.el()[`${$P}Tracks`].removeEventListener(zP,this[`${$P}TracksListeners_`][zP])}),this[`featuresNative${Ff}Tracks`]=!x_,this[`${$P}TracksListeners_`]=null,this.proxyNativeTracksForType_($P)}overrideNativeAudioTracks(Ff){this.overrideNative_("Audio",Ff)}overrideNativeVideoTracks(Ff){this.overrideNative_("Video",Ff)}proxyNativeTracksForType_(Ff){const x_=NORMAL[Ff],$P=this.el()[x_.getterName],zP=this[x_.getterName]();if(!this[`featuresNative${x_.capitalName}Tracks`]||!$P||!$P.addEventListener)return;const eme={change:nme=>{const rme={type:"change",target:zP,currentTarget:zP,srcElement:zP};zP.trigger(rme),Ff==="text"&&this[REMOTE.remoteText.getterName]().trigger(rme)},addtrack(nme){zP.addTrack(nme.track)},removetrack(nme){zP.removeTrack(nme.track)}},tme=function(){const nme=[];for(let rme=0;rme<zP.length;rme++){let ime=!1;for(let ome=0;ome<$P.length;ome++)if($P[ome]===zP[rme]){ime=!0;break}ime||nme.push(zP[rme])}for(;nme.length;)zP.removeTrack(nme.shift())};this[x_.getterName+"Listeners_"]=eme,Object.keys(eme).forEach(nme=>{const rme=eme[nme];$P.addEventListener(nme,rme),this.on("dispose",ime=>$P.removeEventListener(nme,rme))}),this.on("loadstart",tme),this.on("dispose",nme=>this.off("loadstart",tme))}proxyNativeTracks_(){NORMAL.names.forEach(Ff=>{this.proxyNativeTracksForType_(Ff)})}createEl(){let Ff=this.options_.tag;if(!Ff||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(Ff){const $P=Ff.cloneNode(!0);Ff.parentNode&&Ff.parentNode.insertBefore($P,Ff),Html5.disposeMediaElement(Ff),Ff=$P}else{Ff=document$2.createElement("video");const $P=this.options_.tag&&getAttributes(this.options_.tag),zP=merge$1({},$P);(!TOUCH_ENABLED||this.options_.nativeControlsForTouch!==!0)&&delete zP.controls,setAttributes(Ff,Object.assign(zP,{id:this.options_.techId,class:"vjs-tech"}))}Ff.playerId=this.options_.playerId}typeof this.options_.preload!="undefined"&&setAttribute(Ff,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(Ff.disablePictureInPicture=this.options_.disablePictureInPicture);const x_=["loop","muted","playsinline","autoplay"];for(let $P=0;$P<x_.length;$P++){const zP=x_[$P],eme=this.options_[zP];typeof eme!="undefined"&&(eme?setAttribute(Ff,zP,zP):removeAttribute(Ff,zP),Ff[zP]=eme)}return Ff}handleLateInit_(Ff){if(Ff.networkState===0||Ff.networkState===3)return;if(Ff.readyState===0){let $P=!1;const zP=function(){$P=!0};this.on("loadstart",zP);const eme=function(){$P||this.trigger("loadstart")};this.on("loadedmetadata",eme),this.ready(function(){this.off("loadstart",zP),this.off("loadedmetadata",eme),$P||this.trigger("loadstart")});return}const x_=["loadstart"];x_.push("loadedmetadata"),Ff.readyState>=2&&x_.push("loadeddata"),Ff.readyState>=3&&x_.push("canplay"),Ff.readyState>=4&&x_.push("canplaythrough"),this.ready(function(){x_.forEach(function($P){this.trigger($P)},this)})}setScrubbing(Ff){this.isScrubbing_=Ff}scrubbing(){return this.isScrubbing_}setCurrentTime(Ff){try{this.isScrubbing_&&this.el_.fastSeek&&IS_ANY_SAFARI?this.el_.fastSeek(Ff):this.el_.currentTime=Ff}catch(x_){log$1(x_,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&IS_ANDROID&&IS_CHROME&&this.el_.currentTime===0){const Ff=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",Ff))};return this.on("timeupdate",Ff),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const Ff=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},x_=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",Ff),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",x_),this.on("dispose",()=>{this.off("webkitbeginfullscreen",x_),this.off("webkitendfullscreen",Ff)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const Ff=this.el_;if(Ff.paused&&Ff.networkState<=Ff.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout(function(){Ff.pause();try{Ff.webkitEnterFullScreen()}catch(x_){this.trigger("fullscreenerror",x_)}},0);else try{Ff.webkitEnterFullScreen()}catch(x_){this.trigger("fullscreenerror",x_)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(Ff){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(Ff):super.requestVideoFrameCallback(Ff)}cancelVideoFrameCallback(Ff){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(Ff):super.cancelVideoFrameCallback(Ff)}src(Ff){if(Ff===void 0)return this.el_.src;this.setSrc(Ff)}reset(){Html5.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(Ff){this.el_.controls=!!Ff}addTextTrack(Ff,x_,$P){return this.featuresNativeTextTracks?this.el_.addTextTrack(Ff,x_,$P):super.addTextTrack(Ff,x_,$P)}createRemoteTextTrack(Ff){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(Ff);const x_=document$2.createElement("track");return Ff.kind&&(x_.kind=Ff.kind),Ff.label&&(x_.label=Ff.label),(Ff.language||Ff.srclang)&&(x_.srclang=Ff.language||Ff.srclang),Ff.default&&(x_.default=Ff.default),Ff.id&&(x_.id=Ff.id),Ff.src&&(x_.src=Ff.src),x_}addRemoteTextTrack(Ff,x_){const $P=super.addRemoteTextTrack(Ff,x_);return this.featuresNativeTextTracks&&this.el().appendChild($P),$P}removeRemoteTextTrack(Ff){if(super.removeRemoteTextTrack(Ff),this.featuresNativeTextTracks){const x_=this.$$("track");let $P=x_.length;for(;$P--;)(Ff===x_[$P]||Ff===x_[$P].track)&&this.el().removeChild(x_[$P])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const Ff={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(Ff.droppedVideoFrames=this.el().webkitDroppedFrameCount,Ff.totalVideoFrames=this.el().webkitDecodedFrameCount),window$1$1.performance&&(Ff.creationTime=window$1$1.performance.now()),Ff}}defineLazyProperty(Html5,"TEST_VID",function(){if(!isReal())return;const kh=document$2.createElement("video"),Ff=document$2.createElement("track");return Ff.kind="captions",Ff.srclang="en",Ff.label="English",kh.appendChild(Ff),kh});Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch(kh){return!1}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType)};Html5.canPlayType=function(kh){return Html5.TEST_VID.canPlayType(kh)};Html5.canPlaySource=function(kh,Ff){return Html5.canPlayType(kh.type)};Html5.canControlVolume=function(){try{const kh=Html5.TEST_VID.volume;Html5.TEST_VID.volume=kh/2+.1;const Ff=kh!==Html5.TEST_VID.volume;return Ff&&IS_IOS?(window$1$1.setTimeout(()=>{Html5&&Html5.prototype&&(Html5.prototype.featuresVolumeControl=kh!==Html5.TEST_VID.volume)}),!1):Ff}catch(kh){return!1}};Html5.canMuteVolume=function(){try{const kh=Html5.TEST_VID.muted;return Html5.TEST_VID.muted=!kh,Html5.TEST_VID.muted?setAttribute(Html5.TEST_VID,"muted","muted"):removeAttribute(Html5.TEST_VID,"muted","muted"),kh!==Html5.TEST_VID.muted}catch(kh){return!1}};Html5.canControlPlaybackRate=function(){if(IS_ANDROID&&IS_CHROME&&CHROME_VERSION<58)return!1;try{const kh=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=kh/2+.1,kh!==Html5.TEST_VID.playbackRate}catch(kh){return!1}};Html5.canOverrideAttributes=function(){try{const kh=()=>{};Object.defineProperty(document$2.createElement("video"),"src",{get:kh,set:kh}),Object.defineProperty(document$2.createElement("audio"),"src",{get:kh,set:kh}),Object.defineProperty(document$2.createElement("video"),"innerHTML",{get:kh,set:kh}),Object.defineProperty(document$2.createElement("audio"),"innerHTML",{get:kh,set:kh})}catch(kh){return!1}return!0};Html5.supportsNativeTextTracks=function(){return IS_ANY_SAFARI||IS_IOS&&IS_CHROME};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks)};Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks)};Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([kh,Ff]){defineLazyProperty(Html5.prototype,kh,()=>Html5[Ff](),!0)});Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.movingMediaElementInDOM=!IS_IOS;Html5.prototype.featuresFullscreenResize=!0;Html5.prototype.featuresProgressEvents=!0;Html5.prototype.featuresTimeupdateEvents=!0;Html5.prototype.featuresVideoFrameCallback=!!(Html5.TEST_VID&&Html5.TEST_VID.requestVideoFrameCallback);Html5.disposeMediaElement=function(kh){if(kh){for(kh.parentNode&&kh.parentNode.removeChild(kh);kh.hasChildNodes();)kh.removeChild(kh.firstChild);kh.removeAttribute("src"),typeof kh.load=="function"&&function(){try{kh.load()}catch(Ff){}}()}};Html5.resetMediaElement=function(kh){if(!kh)return;const Ff=kh.querySelectorAll("source");let x_=Ff.length;for(;x_--;)kh.removeChild(Ff[x_]);kh.removeAttribute("src"),typeof kh.load=="function"&&function(){try{kh.load()}catch($P){}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(kh){Html5.prototype[kh]=function(){return this.el_[kh]||this.el_.hasAttribute(kh)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(kh){Html5.prototype["set"+toTitleCase$1(kh)]=function(Ff){this.el_[kh]=Ff,Ff?this.el_.setAttribute(kh,kh):this.el_.removeAttribute(kh)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(kh){Html5.prototype[kh]=function(){return this.el_[kh]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(kh){Html5.prototype["set"+toTitleCase$1(kh)]=function(Ff){this.el_[kh]=Ff}});["pause","load","play"].forEach(function(kh){Html5.prototype[kh]=function(){return this.el_[kh]()}});Tech.withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=function(kh){try{return Html5.TEST_VID.canPlayType(kh)}catch(Ff){return""}};Html5.nativeSourceHandler.canHandleSource=function(kh,Ff){if(kh.type)return Html5.nativeSourceHandler.canPlayType(kh.type);if(kh.src){const x_=getFileExtension(kh.src);return Html5.nativeSourceHandler.canPlayType(`video/${x_}`)}return""};Html5.nativeSourceHandler.handleSource=function(kh,Ff,x_){Ff.setSrc(kh.src)};Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);Tech.registerTech("Html5",Html5);const TECH_EVENTS_RETRIGGER=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],TECH_EVENTS_QUEUE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},BREAKPOINT_ORDER=["tiny","xsmall","small","medium","large","xlarge","huge"],BREAKPOINT_CLASSES={};BREAKPOINT_ORDER.forEach(kh=>{const Ff=kh.charAt(0)==="x"?`x-${kh.substring(1)}`:kh;BREAKPOINT_CLASSES[kh]=`vjs-layout-${Ff}`});const DEFAULT_BREAKPOINTS={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Player extends Component$1{constructor(Ff,x_,$P){if(Ff.id=Ff.id||x_.id||`vjs_video_${newGUID()}`,x_=Object.assign(Player.getTagSettings(Ff),x_),x_.initChildren=!1,x_.createEl=!1,x_.evented=!1,x_.reportTouchActivity=!1,!x_.language){const tme=Ff.closest("[lang]");tme&&(x_.language=tme.getAttribute("lang"))}if(super(null,x_,$P),this.boundDocumentFullscreenChange_=tme=>this.documentFullscreenChange_(tme),this.boundFullWindowOnEscKey_=tme=>this.fullWindowOnEscKey(tme),this.boundUpdateStyleEl_=tme=>this.updateStyleEl_(tme),this.boundApplyInitTime_=tme=>this.applyInitTime_(tme),this.boundUpdateCurrentBreakpoint_=tme=>this.updateCurrentBreakpoint_(tme),this.boundHandleTechClick_=tme=>this.handleTechClick_(tme),this.boundHandleTechDoubleClick_=tme=>this.handleTechDoubleClick_(tme),this.boundHandleTechTouchStart_=tme=>this.handleTechTouchStart_(tme),this.boundHandleTechTouchMove_=tme=>this.handleTechTouchMove_(tme),this.boundHandleTechTouchEnd_=tme=>this.handleTechTouchEnd_(tme),this.boundHandleTechTap_=tme=>this.handleTechTap_(tme),this.isFullscreen_=!1,this.log=createLogger(this.id_),this.fsApi_=FullscreenApi,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=Ff,this.tagAttributes=Ff&&getAttributes(Ff),this.language(this.options_.language),x_.languages){const tme={};Object.getOwnPropertyNames(x_.languages).forEach(function(nme){tme[nme.toLowerCase()]=x_.languages[nme]}),this.languages_=tme}else this.languages_=Player.prototype.options_.languages;this.resetCache_(),this.poster_=x_.poster||"",this.controls_=!!x_.controls,Ff.controls=!1,Ff.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],Ff.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),x_.plugins&&Object.keys(x_.plugins).forEach(tme=>{if(typeof this[tme]!="function")throw new Error(`plugin "${tme}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),evented(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(on(document$2,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const zP=merge$1(this.options_);if(x_.plugins&&Object.keys(x_.plugins).forEach(tme=>{this[tme](x_.plugins[tme])}),x_.debug&&this.debug(!0),this.options_.playerOptions=zP,this.middleware_=[],this.playbackRates(x_.playbackRates),x_.experimentalSvgIcons){const nme=new window$1$1.DOMParser().parseFromString(icons,"image/svg+xml");if(nme.querySelector("parsererror"))log$1.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const ime=nme.documentElement;ime.style.display="none",this.el_.appendChild(ime),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(Ff.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),TOUCH_ENABLED&&this.addClass("vjs-touch-enabled"),IS_IOS||this.addClass("vjs-workinghover"),Player.players[this.id_]=this;const eme=version$6.split(".")[0];this.addClass(`vjs-v${eme}`),this.userActive(!0),this.reportUserActivity(),this.one("play",tme=>this.listenForUserActivity_(tme)),this.on("keydown",tme=>this.handleKeyDown(tme)),this.on("languagechange",tme=>this.handleLanguagechange(tme)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),off(document$2,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(document$2,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),clearCacheForPlayer(this),ALL.names.forEach(Ff=>{const x_=ALL[Ff],$P=this[x_.getterName]();$P&&$P.off&&$P.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let Ff=this.tag,x_,$P=this.playerElIngest_=Ff.parentNode&&Ff.parentNode.hasAttribute&&Ff.parentNode.hasAttribute("data-vjs-player");const zP=this.tag.tagName.toLowerCase()==="video-js";$P?x_=this.el_=Ff.parentNode:zP||(x_=this.el_=super.createEl("div"));const eme=getAttributes(Ff);if(zP){for(x_=this.el_=Ff,Ff=this.tag=document$2.createElement("video");x_.children.length;)Ff.appendChild(x_.firstChild);hasClass(x_,"video-js")||addClass(x_,"video-js"),x_.appendChild(Ff),$P=this.playerElIngest_=x_,Object.keys(x_).forEach(nme=>{try{Ff[nme]=x_[nme]}catch(rme){}})}if(Ff.setAttribute("tabindex","-1"),eme.tabindex="-1",IS_CHROME&&IS_WINDOWS&&(Ff.setAttribute("role","application"),eme.role="application"),Ff.removeAttribute("width"),Ff.removeAttribute("height"),"width"in eme&&delete eme.width,"height"in eme&&delete eme.height,Object.getOwnPropertyNames(eme).forEach(function(nme){zP&&nme==="class"||x_.setAttribute(nme,eme[nme]),zP&&Ff.setAttribute(nme,eme[nme])}),Ff.playerId=Ff.id,Ff.id+="_html5_api",Ff.className="vjs-tech",Ff.player=x_.player=this,this.addClass("vjs-paused"),window$1$1.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=createStyleElement("vjs-styles-dimensions");const nme=$(".vjs-styles-defaults"),rme=$("head");rme.insertBefore(this.styleEl_,nme?nme.nextSibling:rme.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const tme=Ff.getElementsByTagName("a");for(let nme=0;nme<tme.length;nme++){const rme=tme.item(nme);addClass(rme,"vjs-hidden"),rme.setAttribute("hidden","hidden")}return Ff.initNetworkState_=Ff.networkState,Ff.parentNode&&!$P&&Ff.parentNode.insertBefore(x_,Ff),prependTo(Ff,x_),this.children_.unshift(Ff),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=x_,x_}crossOrigin(Ff){if(typeof Ff=="undefined")return this.techGet_("crossOrigin");if(Ff!==null&&Ff!=="anonymous"&&Ff!=="use-credentials"){log$1.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${Ff}"`);return}this.techCall_("setCrossOrigin",Ff),this.posterImage&&this.posterImage.crossOrigin(Ff)}width(Ff){return this.dimension("width",Ff)}height(Ff){return this.dimension("height",Ff)}dimension(Ff,x_){const $P=Ff+"_";if(x_===void 0)return this[$P]||0;if(x_===""||x_==="auto"){this[$P]=void 0,this.updateStyleEl_();return}const zP=parseFloat(x_);if(isNaN(zP)){log$1.error(`Improper value "${x_}" supplied for for ${Ff}`);return}this[$P]=zP,this.updateStyleEl_()}fluid(Ff){if(Ff===void 0)return!!this.fluid_;this.fluid_=!!Ff,isEvented(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),Ff?(this.addClass("vjs-fluid"),this.fill(!1),addEventedCallback(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(Ff){if(Ff===void 0)return!!this.fill_;this.fill_=!!Ff,Ff?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(Ff){if(Ff===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(Ff))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=Ff,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(window$1$1.VIDEOJS_NO_DYNAMIC_STYLE===!0){const nme=typeof this.width_=="number"?this.width_:this.options_.width,rme=typeof this.height_=="number"?this.height_:this.options_.height,ime=this.tech_&&this.tech_.el();ime&&(nme>=0&&(ime.width=nme),rme>=0&&(ime.height=rme));return}let Ff,x_,$P,zP;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?$P=this.aspectRatio_:this.videoWidth()>0?$P=this.videoWidth()+":"+this.videoHeight():$P="16:9";const eme=$P.split(":"),tme=eme[1]/eme[0];this.width_!==void 0?Ff=this.width_:this.height_!==void 0?Ff=this.height_/tme:Ff=this.videoWidth()||300,this.height_!==void 0?x_=this.height_:x_=Ff*tme,/^[^a-zA-Z]/.test(this.id())?zP="dimensions-"+this.id():zP=this.id()+"-dimensions",this.addClass(zP),setTextContent(this.styleEl_,`
      .${zP} {
        width: ${Ff}px;
        height: ${x_}px;
      }

      .${zP}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${tme*100}%;
      }
    `)}loadTech_(Ff,x_){this.tech_&&this.unloadTech_();const $P=toTitleCase$1(Ff),zP=Ff.charAt(0).toLowerCase()+Ff.slice(1);$P!=="Html5"&&this.tag&&(Tech.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=$P,this.isReady_=!1;let eme=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(eme=!1);const tme={source:x_,autoplay:eme,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${zP}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ALL.names.forEach(rme=>{const ime=ALL[rme];tme[ime.getterName]=this[ime.privateName]}),Object.assign(tme,this.options_[$P]),Object.assign(tme,this.options_[zP]),Object.assign(tme,this.options_[Ff.toLowerCase()]),this.tag&&(tme.tag=this.tag),x_&&x_.src===this.cache_.src&&this.cache_.currentTime>0&&(tme.startTime=this.cache_.currentTime);const nme=Tech.getTech(Ff);if(!nme)throw new Error(`No Tech named '${$P}' exists! '${$P}' should be registered using videojs.registerTech()'`);this.tech_=new nme(tme),this.tech_.ready(bind_(this,this.handleTechReady_),!0),textTrackConverter.jsonToTextTracks(this.textTracksJson_||[],this.tech_),TECH_EVENTS_RETRIGGER.forEach(rme=>{this.on(this.tech_,rme,ime=>this[`handleTech${toTitleCase$1(rme)}_`](ime))}),Object.keys(TECH_EVENTS_QUEUE).forEach(rme=>{this.on(this.tech_,rme,ime=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${TECH_EVENTS_QUEUE[rme]}_`].bind(this),event:ime});return}this[`handleTech${TECH_EVENTS_QUEUE[rme]}_`](ime)})}),this.on(this.tech_,"loadstart",rme=>this.handleTechLoadStart_(rme)),this.on(this.tech_,"sourceset",rme=>this.handleTechSourceset_(rme)),this.on(this.tech_,"waiting",rme=>this.handleTechWaiting_(rme)),this.on(this.tech_,"ended",rme=>this.handleTechEnded_(rme)),this.on(this.tech_,"seeking",rme=>this.handleTechSeeking_(rme)),this.on(this.tech_,"play",rme=>this.handleTechPlay_(rme)),this.on(this.tech_,"pause",rme=>this.handleTechPause_(rme)),this.on(this.tech_,"durationchange",rme=>this.handleTechDurationChange_(rme)),this.on(this.tech_,"fullscreenchange",(rme,ime)=>this.handleTechFullscreenChange_(rme,ime)),this.on(this.tech_,"fullscreenerror",(rme,ime)=>this.handleTechFullscreenError_(rme,ime)),this.on(this.tech_,"enterpictureinpicture",rme=>this.handleTechEnterPictureInPicture_(rme)),this.on(this.tech_,"leavepictureinpicture",rme=>this.handleTechLeavePictureInPicture_(rme)),this.on(this.tech_,"error",rme=>this.handleTechError_(rme)),this.on(this.tech_,"posterchange",rme=>this.handleTechPosterChange_(rme)),this.on(this.tech_,"textdata",rme=>this.handleTechTextData_(rme)),this.on(this.tech_,"ratechange",rme=>this.handleTechRateChange_(rme)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&($P!=="Html5"||!this.tag)&&prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){ALL.names.forEach(Ff=>{const x_=ALL[Ff];this[x_.privateName]=this[x_.getterName]()}),this.textTracksJson_=textTrackConverter.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(Ff){return Ff===void 0&&log$1.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(Ff){if(!this.tech_||typeof Ff!="string")return;const x_=()=>{const zP=this.muted();this.muted(!0);const eme=()=>{this.muted(zP)};this.playTerminatedQueue_.push(eme);const tme=this.play();if(isPromise(tme))return tme.catch(nme=>{throw eme(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${nme||""}`)})};let $P;if(Ff==="any"&&!this.muted()?($P=this.play(),isPromise($P)&&($P=$P.catch(x_))):Ff==="muted"&&!this.muted()?$P=x_():$P=this.play(),!!isPromise($P))return $P.then(()=>{this.trigger({type:"autoplay-success",autoplay:Ff})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:Ff})})}updateSourceCaches_(Ff=""){let x_=Ff,$P="";typeof x_!="string"&&(x_=Ff.src,$P=Ff.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],x_&&!$P&&($P=findMimetype(this,x_)),this.cache_.source=merge$1({},Ff,{src:x_,type:$P});const zP=this.cache_.sources.filter(rme=>rme.src&&rme.src===x_),eme=[],tme=this.$$("source"),nme=[];for(let rme=0;rme<tme.length;rme++){const ime=getAttributes(tme[rme]);eme.push(ime),ime.src&&ime.src===x_&&nme.push(ime.src)}nme.length&&!zP.length?this.cache_.sources=eme:zP.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=x_}handleTechSourceset_(Ff){if(!this.changingSrc_){let x_=eme=>this.updateSourceCaches_(eme);const $P=this.currentSource().src,zP=Ff.src;$P&&!/^blob:/.test($P)&&/^blob:/.test(zP)&&(!this.lastSource_||this.lastSource_.tech!==zP&&this.lastSource_.player!==$P)&&(x_=()=>{}),x_(zP),Ff.src||this.tech_.any(["sourceset","loadstart"],eme=>{if(eme.type==="sourceset")return;const tme=this.techGet_("currentSrc");this.lastSource_.tech=tme,this.updateSourceCaches_(tme)})}this.lastSource_={player:this.currentSource().src,tech:Ff.src},this.trigger({src:Ff.src,type:"sourceset"})}hasStarted(Ff){if(Ff===void 0)return this.hasStarted_;Ff!==this.hasStarted_&&(this.hasStarted_=Ff,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(Ff=>Ff.callback(Ff.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const Ff=this.currentTime(),x_=()=>{Ff!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",x_))};this.on("timeupdate",x_)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(Ff){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,Ff):this.paused()?silencePromise(this.play()):this.pause())}handleTechDoubleClick_(Ff){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),$P=>$P.contains(Ff.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,Ff):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(Ff){Ff.cancelable&&Ff.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(Ff){const x_=Ff.target.player;if(x_&&x_!==this)return;const $P=this.el();let zP=document$2[this.fsApi_.fullscreenElement]===$P;!zP&&$P.matches&&(zP=$P.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(zP)}handleTechFullscreenChange_(Ff,x_){x_&&(x_.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(x_.isFullscreen))}handleTechFullscreenError_(Ff,x_){this.trigger("fullscreenerror",x_)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(Ff){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(Ff){this.isInPictureInPicture(!1)}handleTechError_(){const Ff=this.tech_.error();Ff&&this.error(Ff)}handleTechTextData_(){let Ff=null;arguments.length>1&&(Ff=arguments[1]),this.trigger("textdata",Ff)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(Ff,x_){this.ready(function(){if(Ff in allowedSetters)return set(this.middleware_,this.tech_,Ff,x_);if(Ff in allowedMediators)return mediate(this.middleware_,this.tech_,Ff,x_);try{this.tech_&&this.tech_[Ff](x_)}catch($P){throw log$1($P),$P}},!0)}techGet_(Ff){if(!(!this.tech_||!this.tech_.isReady_)){if(Ff in allowedGetters)return get(this.middleware_,this.tech_,Ff);if(Ff in allowedMediators)return mediate(this.middleware_,this.tech_,Ff);try{return this.tech_[Ff]()}catch(x_){throw this.tech_[Ff]===void 0?(log$1(`Video.js: ${Ff} method not defined for ${this.techName_} playback technology.`,x_),x_):x_.name==="TypeError"?(log$1(`Video.js: ${Ff} unavailable on ${this.techName_} playback technology element.`,x_),this.tech_.isReady_=!1,x_):(log$1(x_),x_)}}}play(){return new Promise(Ff=>{this.play_(Ff)})}play_(Ff=silencePromise){this.playCallbacks_.push(Ff);const x_=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),$P=!!(IS_ANY_SAFARI||IS_IOS);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!x_){this.waitToPlay_=tme=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!x_&&$P&&this.load();return}const zP=this.techGet_("play");$P&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),zP===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(zP)}runPlayTerminatedQueue_(){const Ff=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],Ff.forEach(function(x_){x_()})}runPlayCallbacks_(Ff){const x_=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],x_.forEach(function($P){$P(Ff)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||createTimeRanges$1(0,0)}scrubbing(Ff){if(typeof Ff=="undefined")return this.scrubbing_;this.scrubbing_=!!Ff,this.techCall_("setScrubbing",this.scrubbing_),Ff?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(Ff){if(Ff===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(Ff<0&&(Ff=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=Ff,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",Ff),this.cache_.initTime=0,isFinite(Ff)&&(this.cache_.currentTime=Number(Ff))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(Ff){if(Ff===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;Ff=parseFloat(Ff),Ff<0&&(Ff=1/0),Ff!==this.cache_.duration&&(this.cache_.duration=Ff,Ff===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(Ff)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let Ff=this.techGet_("buffered");return(!Ff||!Ff.length)&&(Ff=createTimeRanges$1(0,0)),Ff}bufferedPercent(){return bufferedPercent(this.buffered(),this.duration())}bufferedEnd(){const Ff=this.buffered(),x_=this.duration();let $P=Ff.end(Ff.length-1);return $P>x_&&($P=x_),$P}volume(Ff){let x_;if(Ff!==void 0){x_=Math.max(0,Math.min(1,Ff)),this.cache_.volume=x_,this.techCall_("setVolume",x_),x_>0&&this.lastVolume_(x_);return}return x_=parseFloat(this.techGet_("volume")),isNaN(x_)?1:x_}muted(Ff){if(Ff!==void 0){this.techCall_("setMuted",Ff);return}return this.techGet_("muted")||!1}defaultMuted(Ff){return Ff!==void 0&&this.techCall_("setDefaultMuted",Ff),this.techGet_("defaultMuted")||!1}lastVolume_(Ff){if(Ff!==void 0&&Ff!==0){this.cache_.lastVolume=Ff;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(Ff){if(Ff!==void 0){const x_=this.isFullscreen_;this.isFullscreen_=!!Ff,this.isFullscreen_!==x_&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(Ff){this.isInPictureInPicture()&&this.exitPictureInPicture();const x_=this;return new Promise(($P,zP)=>{function eme(){x_.off("fullscreenerror",nme),x_.off("fullscreenchange",tme)}function tme(){eme(),$P()}function nme(ime,ome){eme(),zP(ome)}x_.one("fullscreenchange",tme),x_.one("fullscreenerror",nme);const rme=x_.requestFullscreenHelper_(Ff);rme&&(rme.then(eme,eme),rme.then($P,zP))})}requestFullscreenHelper_(Ff){let x_;if(this.fsApi_.prefixed||(x_=this.options_.fullscreen&&this.options_.fullscreen.options||{},Ff!==void 0&&(x_=Ff)),this.fsApi_.requestFullscreen){const $P=this.el_[this.fsApi_.requestFullscreen](x_);return $P&&$P.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),$P}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const Ff=this;return new Promise((x_,$P)=>{function zP(){Ff.off("fullscreenerror",tme),Ff.off("fullscreenchange",eme)}function eme(){zP(),x_()}function tme(rme,ime){zP(),$P(ime)}Ff.one("fullscreenchange",eme),Ff.one("fullscreenerror",tme);const nme=Ff.exitFullscreenHelper_();nme&&(nme.then(zP,zP),nme.then(x_,$P))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const Ff=document$2[this.fsApi_.exitFullscreen]();return Ff&&silencePromise(Ff.then(()=>this.isFullscreen(!1))),Ff}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=document$2.documentElement.style.overflow,on(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow="hidden",addClass(document$2.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(Ff){keycode.isEventKey(Ff,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,off(document$2,"keydown",this.boundFullWindowOnEscKey_),document$2.documentElement.style.overflow=this.docOrigOverflow,removeClass(document$2.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(Ff){if(Ff===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",Ff),this.options_.disablePictureInPicture=Ff,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(Ff){if(Ff!==void 0){this.isInPictureInPicture_=!!Ff,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&window$1$1.documentPictureInPicture){const Ff=document$2.createElement(this.el().tagName);return Ff.classList=this.el().classList,Ff.classList.add("vjs-pip-container"),this.posterImage&&Ff.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&Ff.appendChild(this.titleBar.el().cloneNode(!0)),Ff.appendChild(createEl("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),window$1$1.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(x_=>(copyStyleSheetsToWindow(x_),this.el_.parentNode.insertBefore(Ff,this.el_),x_.document.body.appendChild(this.el_),x_.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),x_.addEventListener("pagehide",$P=>{const zP=$P.target.querySelector(".video-js");Ff.parentNode.replaceChild(zP,Ff),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),x_))}return"pictureInPictureEnabled"in document$2&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(window$1$1.documentPictureInPicture&&window$1$1.documentPictureInPicture.window)return window$1$1.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in document$2)return document$2.exitPictureInPicture()}handleKeyDown(Ff){const{userActions:x_}=this.options_;!x_||!x_.hotkeys||(zP=>{const eme=zP.tagName.toLowerCase();if(zP.isContentEditable)return!0;const tme=["button","checkbox","hidden","radio","reset","submit"];return eme==="input"?tme.indexOf(zP.type)===-1:["textarea"].indexOf(eme)!==-1})(this.el_.ownerDocument.activeElement)||(typeof x_.hotkeys=="function"?x_.hotkeys.call(this,Ff):this.handleHotkeys(Ff))}handleHotkeys(Ff){const x_=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:$P=tme=>keycode.isEventKey(tme,"f"),muteKey:zP=tme=>keycode.isEventKey(tme,"m"),playPauseKey:eme=tme=>keycode.isEventKey(tme,"k")||keycode.isEventKey(tme,"Space")}=x_;if($P.call(this,Ff)){Ff.preventDefault(),Ff.stopPropagation();const tme=Component$1.getComponent("FullscreenToggle");document$2[this.fsApi_.fullscreenEnabled]!==!1&&tme.prototype.handleClick.call(this,Ff)}else zP.call(this,Ff)?(Ff.preventDefault(),Ff.stopPropagation(),Component$1.getComponent("MuteToggle").prototype.handleClick.call(this,Ff)):eme.call(this,Ff)&&(Ff.preventDefault(),Ff.stopPropagation(),Component$1.getComponent("PlayToggle").prototype.handleClick.call(this,Ff))}canPlayType(Ff){let x_;for(let $P=0,zP=this.options_.techOrder;$P<zP.length;$P++){const eme=zP[$P];let tme=Tech.getTech(eme);if(tme||(tme=Component$1.getComponent(eme)),!tme){log$1.error(`The "${eme}" tech is undefined. Skipped browser support check for that tech.`);continue}if(tme.isSupported()&&(x_=tme.canPlayType(Ff),x_))return x_}return""}selectSource(Ff){const x_=this.options_.techOrder.map(nme=>[nme,Tech.getTech(nme)]).filter(([nme,rme])=>rme?rme.isSupported():(log$1.error(`The "${nme}" tech is undefined. Skipped browser support check for that tech.`),!1)),$P=function(nme,rme,ime){let ome;return nme.some(sme=>rme.some(ame=>{if(ome=ime(sme,ame),ome)return!0})),ome};let zP;const eme=nme=>(rme,ime)=>nme(ime,rme),tme=([nme,rme],ime)=>{if(rme.canPlaySource(ime,this.options_[nme.toLowerCase()]))return{source:ime,tech:nme}};return this.options_.sourceOrder?zP=$P(Ff,x_,eme(tme)):zP=$P(x_,Ff,tme),zP||!1}handleSrc_(Ff,x_){if(typeof Ff=="undefined")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const $P=filterSource(Ff);if(!$P.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,x_||(this.cache_.sources=$P),this.updateSourceCaches_($P[0]),setSource(this,$P[0],(zP,eme)=>{if(this.middleware_=eme,x_||(this.cache_.sources=$P),this.updateSourceCaches_(zP),this.src_(zP)){if($P.length>1)return this.handleSrc_($P.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}setTech(eme,this.tech_)}),$P.length>1){const zP=()=>{this.error(null),this.handleSrc_($P.slice(1),!0)},eme=()=>{this.off("error",zP)};this.one("error",zP),this.one("playing",eme),this.resetRetryOnError_=()=>{this.off("error",zP),this.off("playing",eme)}}}src(Ff){return this.handleSrc_(Ff,!1)}src_(Ff){const x_=this.selectSource([Ff]);return x_?titleCaseEquals(x_.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",Ff):this.techCall_("src",Ff.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(x_.tech,x_.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const Ff=this.play();silencePromise(Ff.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),isEvented(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:Ff,durationDisplay:x_,progressControl:$P,remainingTimeDisplay:zP}=this.controlBar||{},{seekBar:eme}=$P||{};Ff&&Ff.updateContent(),x_&&x_.updateContent(),zP&&zP.updateContent(),eme&&(eme.update(),eme.loadProgressBar&&eme.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const Ff=this.currentSource(),x_=[];return Object.keys(Ff).length!==0&&x_.push(Ff),this.cache_.sources||x_}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(Ff){if(Ff!==void 0){this.techCall_("setPreload",Ff),this.options_.preload=Ff;return}return this.techGet_("preload")}autoplay(Ff){if(Ff===void 0)return this.options_.autoplay||!1;let x_;typeof Ff=="string"&&/(any|play|muted)/.test(Ff)||Ff===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=Ff,this.manualAutoplay_(typeof Ff=="string"?Ff:"play"),x_=!1):Ff?this.options_.autoplay=!0:this.options_.autoplay=!1,x_=typeof x_=="undefined"?this.options_.autoplay:x_,this.tech_&&this.techCall_("setAutoplay",x_)}playsinline(Ff){return Ff!==void 0&&(this.techCall_("setPlaysinline",Ff),this.options_.playsinline=Ff),this.techGet_("playsinline")}loop(Ff){if(Ff!==void 0){this.techCall_("setLoop",Ff),this.options_.loop=Ff;return}return this.techGet_("loop")}poster(Ff){if(Ff===void 0)return this.poster_;Ff||(Ff=""),Ff!==this.poster_&&(this.poster_=Ff,this.techCall_("setPoster",Ff),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const Ff=this.tech_.poster()||"";Ff!==this.poster_&&(this.poster_=Ff,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(Ff){if(Ff===void 0)return!!this.controls_;Ff=!!Ff,this.controls_!==Ff&&(this.controls_=Ff,this.usingNativeControls()&&this.techCall_("setControls",Ff),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(Ff){if(Ff===void 0)return!!this.usingNativeControls_;Ff=!!Ff,this.usingNativeControls_!==Ff&&(this.usingNativeControls_=Ff,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(Ff){if(Ff===void 0)return this.error_||null;if(hooks("beforeerror").forEach(x_=>{const $P=x_(this,Ff);if(!(isObject($P)&&!Array.isArray($P)||typeof $P=="string"||typeof $P=="number"||$P===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}Ff=$P}),this.options_.suppressNotSupportedError&&Ff&&Ff.code===4){const x_=function(){this.error(Ff)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],x_),this.one("loadstart",function(){this.off(["click","touchstart"],x_)});return}if(Ff===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new MediaError(Ff),this.addClass("vjs-error"),log$1.error(`(CODE:${this.error_.code} ${MediaError.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),hooks("error").forEach(x_=>x_(this,this.error_))}reportUserActivity(Ff){this.userActivity_=!0}userActive(Ff){if(Ff===void 0)return this.userActive_;if(Ff=!!Ff,Ff!==this.userActive_){if(this.userActive_=Ff,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(x_){x_.stopPropagation(),x_.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let Ff,x_,$P;const zP=bind_(this,this.reportUserActivity),eme=function(sme){(sme.screenX!==x_||sme.screenY!==$P)&&(x_=sme.screenX,$P=sme.screenY,zP())},tme=function(){zP(),this.clearInterval(Ff),Ff=this.setInterval(zP,250)},nme=function(sme){zP(),this.clearInterval(Ff)};this.on("mousedown",tme),this.on("mousemove",eme),this.on("mouseup",nme),this.on("mouseleave",nme);const rme=this.getChild("controlBar");rme&&!IS_IOS&&!IS_ANDROID&&(rme.on("mouseenter",function(sme){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),rme.on("mouseleave",function(sme){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",zP),this.on("keyup",zP);let ime;const ome=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(ime);const sme=this.options_.inactivityTimeout;sme<=0||(ime=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},sme))};this.setInterval(ome,250)}playbackRate(Ff){if(Ff!==void 0){this.techCall_("setPlaybackRate",Ff);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(Ff){return Ff!==void 0?this.techCall_("setDefaultPlaybackRate",Ff):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(Ff){if(Ff!==void 0){this.isAudio_=!!Ff;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const Ff=this.children(),x_=this.getChild("ControlBar"),$P=x_&&x_.currentHeight();Ff.forEach(zP=>{zP!==x_&&zP.el_&&!zP.hasClass("vjs-hidden")&&(zP.hide(),this.audioOnlyCache_.hiddenChildren.push(zP))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height($P),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(Ff=>Ff.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(Ff){if(typeof Ff!="boolean"||Ff===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=Ff,Ff){const x_=[];return this.isInPictureInPicture()&&x_.push(this.exitPictureInPicture()),this.isFullscreen()&&x_.push(this.exitFullscreen()),this.audioPosterMode()&&x_.push(this.audioPosterMode(!1)),Promise.all(x_).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(Ff){return typeof Ff!="boolean"||Ff===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=Ff,Ff?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(Ff,x_,$P){if(this.tech_)return this.tech_.addTextTrack(Ff,x_,$P)}addRemoteTextTrack(Ff,x_){if(this.tech_)return this.tech_.addRemoteTextTrack(Ff,x_)}removeRemoteTextTrack(Ff={}){let{track:x_}=Ff;if(x_||(x_=Ff),this.tech_)return this.tech_.removeRemoteTextTrack(x_)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(Ff){if(Ff===void 0)return this.language_;this.language_!==String(Ff).toLowerCase()&&(this.language_=String(Ff).toLowerCase(),isEvented(this)&&this.trigger("languagechange"))}languages(){return merge$1(Player.prototype.options_.languages,this.languages_)}toJSON(){const Ff=merge$1(this.options_),x_=Ff.tracks;Ff.tracks=[];for(let $P=0;$P<x_.length;$P++){let zP=x_[$P];zP=merge$1(zP),zP.player=void 0,Ff.tracks[$P]=zP}return Ff}createModal(Ff,x_){x_=x_||{},x_.content=Ff||"";const $P=new ModalDialog(this,x_);return this.addChild($P),$P.on("dispose",()=>{this.removeChild($P)}),$P.open(),$P}updateCurrentBreakpoint_(){if(!this.responsive())return;const Ff=this.currentBreakpoint(),x_=this.currentWidth();for(let $P=0;$P<BREAKPOINT_ORDER.length;$P++){const zP=BREAKPOINT_ORDER[$P],eme=this.breakpoints_[zP];if(x_<=eme){if(Ff===zP)return;Ff&&this.removeClass(BREAKPOINT_CLASSES[Ff]),this.addClass(BREAKPOINT_CLASSES[zP]),this.breakpoint_=zP;break}}}removeCurrentBreakpoint_(){const Ff=this.currentBreakpointClass();this.breakpoint_="",Ff&&this.removeClass(Ff)}breakpoints(Ff){return Ff===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},DEFAULT_BREAKPOINTS,Ff),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(Ff){if(Ff===void 0)return this.responsive_;Ff=!!Ff;const x_=this.responsive_;if(Ff!==x_)return this.responsive_=Ff,Ff?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),Ff}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return BREAKPOINT_CLASSES[this.breakpoint_]||""}loadMedia(Ff,x_){if(!Ff||typeof Ff!="object")return;const $P=this.crossOrigin();this.reset(),this.cache_.media=merge$1(Ff);const{artist:zP,artwork:eme,description:tme,poster:nme,src:rme,textTracks:ime,title:ome}=this.cache_.media;!eme&&nme&&(this.cache_.media.artwork=[{src:nme,type:getMimetype(nme)}]),$P&&this.crossOrigin($P),rme&&this.src(rme),nme&&this.poster(nme),Array.isArray(ime)&&ime.forEach(sme=>this.addRemoteTextTrack(sme,!1)),this.titleBar&&this.titleBar.update({title:ome,description:tme||zP||""}),this.ready(x_)}getMedia(){if(!this.cache_.media){const Ff=this.poster(),x_=this.currentSources(),$P=Array.prototype.map.call(this.remoteTextTracks(),eme=>({kind:eme.kind,label:eme.label,language:eme.language,src:eme.src})),zP={src:x_,textTracks:$P};return Ff&&(zP.poster=Ff,zP.artwork=[{src:zP.poster,type:getMimetype(zP.poster)}]),zP}return merge$1(this.cache_.media)}static getTagSettings(Ff){const x_={sources:[],tracks:[]},$P=getAttributes(Ff),zP=$P["data-setup"];if(hasClass(Ff,"vjs-fill")&&($P.fill=!0),hasClass(Ff,"vjs-fluid")&&($P.fluid=!0),zP!==null){const[eme,tme]=safeParseTuple(zP||"{}");eme&&log$1.error(eme),Object.assign($P,tme)}if(Object.assign(x_,$P),Ff.hasChildNodes()){const eme=Ff.childNodes;for(let tme=0,nme=eme.length;tme<nme;tme++){const rme=eme[tme],ime=rme.nodeName.toLowerCase();ime==="source"?x_.sources.push(getAttributes(rme)):ime==="track"&&x_.tracks.push(getAttributes(rme))}}return x_}debug(Ff){if(Ff===void 0)return this.debugEnabled_;Ff?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(Ff){if(Ff===void 0)return this.cache_.playbackRates;Array.isArray(Ff)&&Ff.every(x_=>typeof x_=="number")&&(this.cache_.playbackRates=Ff,this.trigger("playbackrateschange"))}}ALL.names.forEach(function(kh){const Ff=ALL[kh];Player.prototype[Ff.getterName]=function(){return this.tech_?this.tech_[Ff.getterName]():(this[Ff.privateName]=this[Ff.privateName]||new Ff.ListClass,this[Ff.privateName])}});Player.prototype.crossorigin=Player.prototype.crossOrigin;Player.players={};const navigator$1=window$1$1.navigator;Player.prototype.options_={techOrder:Tech.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:navigator$1&&(navigator$1.languages&&navigator$1.languages[0]||navigator$1.userLanguage||navigator$1.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(kh){Player.prototype[kh]=function(){return this.techGet_(kh)}});TECH_EVENTS_RETRIGGER.forEach(function(kh){Player.prototype[`handleTech${toTitleCase$1(kh)}_`]=function(){return this.trigger(kh)}});Component$1.registerComponent("Player",Player);const BASE_PLUGIN_NAME="plugin",PLUGIN_CACHE_KEY="activePlugins_",pluginStorage={},pluginExists=kh=>pluginStorage.hasOwnProperty(kh),getPlugin=kh=>pluginExists(kh)?pluginStorage[kh]:void 0,markPluginAsActive=(kh,Ff)=>{kh[PLUGIN_CACHE_KEY]=kh[PLUGIN_CACHE_KEY]||{},kh[PLUGIN_CACHE_KEY][Ff]=!0},triggerSetupEvent=(kh,Ff,x_)=>{const $P=(x_?"before":"")+"pluginsetup";kh.trigger($P,Ff),kh.trigger($P+":"+Ff.name,Ff)},createBasicPlugin=function(kh,Ff){const x_=function(){triggerSetupEvent(this,{name:kh,plugin:Ff,instance:null},!0);const $P=Ff.apply(this,arguments);return markPluginAsActive(this,kh),triggerSetupEvent(this,{name:kh,plugin:Ff,instance:$P}),$P};return Object.keys(Ff).forEach(function($P){x_[$P]=Ff[$P]}),x_},createPluginFactory=(kh,Ff)=>(Ff.prototype.name=kh,function(...x_){triggerSetupEvent(this,{name:kh,plugin:Ff,instance:null},!0);const $P=new Ff(this,...x_);return this[kh]=()=>$P,triggerSetupEvent(this,$P.getEventHash()),$P});class Plugin{constructor(Ff){if(this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=Ff,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),markPluginAsActive(Ff,this.name),this.dispose=this.dispose.bind(this),Ff.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(Ff={}){return Ff.name=this.name,Ff.plugin=this.constructor,Ff.instance=this,Ff}trigger(Ff,x_={}){return trigger(this.eventBusEl_,Ff,this.getEventHash(x_))}handleStateChanged(Ff){}dispose(){const{name:Ff,player:x_}=this;this.trigger("dispose"),this.off(),x_.off("dispose",this.dispose),x_[PLUGIN_CACHE_KEY][Ff]=!1,this.player=this.state=null,x_[Ff]=createPluginFactory(Ff,pluginStorage[Ff])}static isBasic(Ff){const x_=typeof Ff=="string"?getPlugin(Ff):Ff;return typeof x_=="function"&&!Plugin.prototype.isPrototypeOf(x_.prototype)}static registerPlugin(Ff,x_){if(typeof Ff!="string")throw new Error(`Illegal plugin name, "${Ff}", must be a string, was ${typeof Ff}.`);if(pluginExists(Ff))log$1.warn(`A plugin named "${Ff}" already exists. You may want to avoid re-registering plugins!`);else if(Player.prototype.hasOwnProperty(Ff))throw new Error(`Illegal plugin name, "${Ff}", cannot share a name with an existing player method!`);if(typeof x_!="function")throw new Error(`Illegal plugin for "${Ff}", must be a function, was ${typeof x_}.`);return pluginStorage[Ff]=x_,Ff!==BASE_PLUGIN_NAME&&(Plugin.isBasic(x_)?Player.prototype[Ff]=createBasicPlugin(Ff,x_):Player.prototype[Ff]=createPluginFactory(Ff,x_)),x_}static deregisterPlugin(Ff){if(Ff===BASE_PLUGIN_NAME)throw new Error("Cannot de-register base plugin.");pluginExists(Ff)&&(delete pluginStorage[Ff],delete Player.prototype[Ff])}static getPlugins(Ff=Object.keys(pluginStorage)){let x_;return Ff.forEach($P=>{const zP=getPlugin($P);zP&&(x_=x_||{},x_[$P]=zP)}),x_}static getPluginVersion(Ff){const x_=getPlugin(Ff);return x_&&x_.VERSION||""}}Plugin.getPlugin=getPlugin;Plugin.BASE_PLUGIN_NAME=BASE_PLUGIN_NAME;Plugin.registerPlugin(BASE_PLUGIN_NAME,Plugin);Player.prototype.usingPlugin=function(kh){return!!this[PLUGIN_CACHE_KEY]&&this[PLUGIN_CACHE_KEY][kh]===!0};Player.prototype.hasPlugin=function(kh){return!!pluginExists(kh)};function deprecate(kh,Ff){let x_=!1;return function(...$P){return x_||log$1.warn(kh),x_=!0,Ff.apply(this,$P)}}function deprecateForMajor(kh,Ff,x_,$P){return deprecate(`${Ff} is deprecated and will be removed in ${kh}.0; please use ${x_} instead.`,$P)}const normalizeId=kh=>kh.indexOf("#")===0?kh.slice(1):kh;function videojs(kh,Ff,x_){let $P=videojs.getPlayer(kh);if($P)return Ff&&log$1.warn(`Player "${kh}" is already initialised. Options will not be applied.`),x_&&$P.ready(x_),$P;const zP=typeof kh=="string"?$("#"+normalizeId(kh)):kh;if(!isEl(zP))throw new TypeError("The element or ID supplied is not valid. (videojs)");const tme=("getRootNode"in zP?zP.getRootNode()instanceof window$1$1.ShadowRoot:!1)?zP.getRootNode():zP.ownerDocument.body;(!zP.ownerDocument.defaultView||!tme.contains(zP))&&log$1.warn("The element supplied is not included in the DOM"),Ff=Ff||{},Ff.restoreEl===!0&&(Ff.restoreEl=(zP.parentNode&&zP.parentNode.hasAttribute("data-vjs-player")?zP.parentNode:zP).cloneNode(!0)),hooks("beforesetup").forEach(rme=>{const ime=rme(zP,merge$1(Ff));if(!isObject(ime)||Array.isArray(ime)){log$1.error("please return an object in beforesetup hooks");return}Ff=merge$1(Ff,ime)});const nme=Component$1.getComponent("Player");return $P=new nme(zP,Ff,x_),hooks("setup").forEach(rme=>rme($P)),$P}videojs.hooks_=hooks_;videojs.hooks=hooks;videojs.hook=hook;videojs.hookOnce=hookOnce;videojs.removeHook=removeHook;if(window$1$1.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&isReal()){let kh=$(".vjs-styles-defaults");if(!kh){kh=createStyleElement("vjs-styles-defaults");const Ff=$("head");Ff&&Ff.insertBefore(kh,Ff.firstChild),setTextContent(kh,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}autoSetupTimeout(1,videojs);videojs.VERSION=version$6;videojs.options=Player.prototype.options_;videojs.getPlayers=()=>Player.players;videojs.getPlayer=kh=>{const Ff=Player.players;let x_;if(typeof kh=="string"){const $P=normalizeId(kh),zP=Ff[$P];if(zP)return zP;x_=$("#"+$P)}else x_=kh;if(isEl(x_)){const{player:$P,playerId:zP}=x_;if($P||Ff[zP])return $P||Ff[zP]}};videojs.getAllPlayers=()=>Object.keys(Player.players).map(kh=>Player.players[kh]).filter(Boolean);videojs.players=Player.players;videojs.getComponent=Component$1.getComponent;videojs.registerComponent=(kh,Ff)=>(Tech.isTech(Ff)&&log$1.warn(`The ${kh} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Component$1.registerComponent.call(Component$1,kh,Ff));videojs.getTech=Tech.getTech;videojs.registerTech=Tech.registerTech;videojs.use=use;Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(videojs.middleware,"TERMINATOR",{value:TERMINATOR,writeable:!1,enumerable:!0});videojs.browser=browser;videojs.obj=Obj;videojs.mergeOptions=deprecateForMajor(9,"videojs.mergeOptions","videojs.obj.merge",merge$1);videojs.defineLazyProperty=deprecateForMajor(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",defineLazyProperty);videojs.bind=deprecateForMajor(9,"videojs.bind","native Function.prototype.bind",bind_);videojs.registerPlugin=Plugin.registerPlugin;videojs.deregisterPlugin=Plugin.deregisterPlugin;videojs.plugin=(kh,Ff)=>(log$1.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Plugin.registerPlugin(kh,Ff));videojs.getPlugins=Plugin.getPlugins;videojs.getPlugin=Plugin.getPlugin;videojs.getPluginVersion=Plugin.getPluginVersion;videojs.addLanguage=function(kh,Ff){return kh=(""+kh).toLowerCase(),videojs.options.languages=merge$1(videojs.options.languages,{[kh]:Ff}),videojs.options.languages[kh]};videojs.log=log$1;videojs.createLogger=createLogger;videojs.time=Time;videojs.createTimeRange=deprecateForMajor(9,"videojs.createTimeRange","videojs.time.createTimeRanges",createTimeRanges$1);videojs.createTimeRanges=deprecateForMajor(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",createTimeRanges$1);videojs.formatTime=deprecateForMajor(9,"videojs.formatTime","videojs.time.formatTime",formatTime);videojs.setFormatTime=deprecateForMajor(9,"videojs.setFormatTime","videojs.time.setFormatTime",setFormatTime);videojs.resetFormatTime=deprecateForMajor(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",resetFormatTime);videojs.parseUrl=deprecateForMajor(9,"videojs.parseUrl","videojs.url.parseUrl",parseUrl);videojs.isCrossOrigin=deprecateForMajor(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",isCrossOrigin);videojs.EventTarget=EventTarget$2;videojs.any=any;videojs.on=on;videojs.one=one;videojs.off=off;videojs.trigger=trigger;videojs.xhr=XHR;videojs.TextTrack=TextTrack;videojs.AudioTrack=AudioTrack;videojs.VideoTrack=VideoTrack;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(kh=>{videojs[kh]=function(){return log$1.warn(`videojs.${kh}() is deprecated; use videojs.dom.${kh}() instead`),Dom[kh].apply(null,arguments)}});videojs.computedStyle=deprecateForMajor(9,"videojs.computedStyle","videojs.dom.computedStyle",computedStyle);videojs.dom=Dom;videojs.fn=Fn;videojs.num=Num;videojs.str=Str;videojs.url=Url;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class QualityLevel{constructor(Ff){let x_=this;return x_.id=Ff.id,x_.label=x_.id,x_.width=Ff.width,x_.height=Ff.height,x_.bitrate=Ff.bandwidth,x_.frameRate=Ff.frameRate,x_.enabled_=Ff.enabled,Object.defineProperty(x_,"enabled",{get(){return x_.enabled_()},set($P){x_.enabled_($P)}}),x_}}class QualityLevelList extends videojs.EventTarget{constructor(){super();let Ff=this;return Ff.levels_=[],Ff.selectedIndex_=-1,Object.defineProperty(Ff,"selectedIndex",{get(){return Ff.selectedIndex_}}),Object.defineProperty(Ff,"length",{get(){return Ff.levels_.length}}),Ff[Symbol.iterator]=()=>Ff.levels_.values(),Ff}addQualityLevel(Ff){let x_=this.getQualityLevelById(Ff.id);if(x_)return x_;const $P=this.levels_.length;return x_=new QualityLevel(Ff),""+$P in this||Object.defineProperty(this,$P,{get(){return this.levels_[$P]}}),this.levels_.push(x_),this.trigger({qualityLevel:x_,type:"addqualitylevel"}),x_}removeQualityLevel(Ff){let x_=null;for(let $P=0,zP=this.length;$P<zP;$P++)if(this[$P]===Ff){x_=this.levels_.splice($P,1)[0],this.selectedIndex_===$P?this.selectedIndex_=-1:this.selectedIndex_>$P&&this.selectedIndex_--;break}return x_&&this.trigger({qualityLevel:Ff,type:"removequalitylevel"}),x_}getQualityLevelById(Ff){for(let x_=0,$P=this.length;x_<$P;x_++){const zP=this[x_];if(zP.id===Ff)return zP}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}QualityLevelList.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const kh in QualityLevelList.prototype.allowedEvents_)QualityLevelList.prototype["on"+kh]=null;var version$5="4.0.0";const initPlugin$1=function(kh,Ff){const x_=kh.qualityLevels,$P=new QualityLevelList,zP=function(){$P.dispose(),kh.qualityLevels=x_,kh.off("dispose",zP)};return kh.on("dispose",zP),kh.qualityLevels=()=>$P,kh.qualityLevels.VERSION=version$5,$P},qualityLevels=function(kh){return initPlugin$1(this,videojs.obj.merge({},kh))};videojs.registerPlugin("qualityLevels",qualityLevels);qualityLevels.VERSION=version$5;/*! @name @videojs/http-streaming @version 3.7.0 @license Apache-2.0 */const resolveUrl=resolveUrl$2,resolveManifestRedirect=(kh,Ff)=>Ff&&Ff.responseURL&&kh!==Ff.responseURL?Ff.responseURL:kh,logger=kh=>videojs.log.debug?videojs.log.debug.bind(videojs,"VHS:",`${kh} >`):function(){};function merge(...kh){const Ff=videojs.obj||videojs;return(Ff.merge||Ff.mergeOptions).apply(Ff,kh)}function createTimeRanges(...kh){const Ff=videojs.time||videojs;return(Ff.createTimeRanges||Ff.createTimeRanges).apply(Ff,kh)}function prettyBuffered(kh){let Ff="";for(let x_=0;x_<kh.length;x_++){const $P=kh.start(x_),zP=kh.end(x_),eme=zP-$P;Ff.length&&(Ff+=`
`),Ff+=`[${eme}](${$P} -> ${zP})`}return Ff||"empty"}const TIME_FUDGE_FACTOR=1/30,SAFE_TIME_DELTA=TIME_FUDGE_FACTOR*3,filterRanges=function(kh,Ff){const x_=[];let $P;if(kh&&kh.length)for($P=0;$P<kh.length;$P++)Ff(kh.start($P),kh.end($P))&&x_.push([kh.start($P),kh.end($P)]);return createTimeRanges(x_)},findRange=function(kh,Ff){return filterRanges(kh,function(x_,$P){return x_-SAFE_TIME_DELTA<=Ff&&$P+SAFE_TIME_DELTA>=Ff})},findNextRange=function(kh,Ff){return filterRanges(kh,function(x_){return x_-TIME_FUDGE_FACTOR>=Ff})},findGaps=function(kh){if(kh.length<2)return createTimeRanges();const Ff=[];for(let x_=1;x_<kh.length;x_++){const $P=kh.end(x_-1),zP=kh.start(x_);Ff.push([$P,zP])}return createTimeRanges(Ff)},bufferIntersection=function(kh,Ff){let x_=null,$P=null,zP=0;const eme=[],tme=[];if(!kh||!kh.length||!Ff||!Ff.length)return createTimeRanges();let nme=kh.length;for(;nme--;)eme.push({time:kh.start(nme),type:"start"}),eme.push({time:kh.end(nme),type:"end"});for(nme=Ff.length;nme--;)eme.push({time:Ff.start(nme),type:"start"}),eme.push({time:Ff.end(nme),type:"end"});for(eme.sort(function(rme,ime){return rme.time-ime.time}),nme=0;nme<eme.length;nme++)eme[nme].type==="start"?(zP++,zP===2&&(x_=eme[nme].time)):eme[nme].type==="end"&&(zP--,zP===1&&($P=eme[nme].time)),x_!==null&&$P!==null&&(tme.push([x_,$P]),x_=null,$P=null);return createTimeRanges(tme)},printableRange=kh=>{const Ff=[];if(!kh||!kh.length)return"";for(let x_=0;x_<kh.length;x_++)Ff.push(kh.start(x_)+" => "+kh.end(x_));return Ff.join(", ")},timeUntilRebuffer=function(kh,Ff,x_=1){return((kh.length?kh.end(kh.length-1):0)-Ff)/x_},timeRangesToArray=kh=>{const Ff=[];for(let x_=0;x_<kh.length;x_++)Ff.push({start:kh.start(x_),end:kh.end(x_)});return Ff},isRangeDifferent=function(kh,Ff){if(kh===Ff)return!1;if(!kh&&Ff||!Ff&&kh||kh.length!==Ff.length)return!0;for(let x_=0;x_<kh.length;x_++)if(kh.start(x_)!==Ff.start(x_)||kh.end(x_)!==Ff.end(x_))return!0;return!1},lastBufferedEnd=function(kh){if(!(!kh||!kh.length||!kh.end))return kh.end(kh.length-1)},timeAheadOf=function(kh,Ff){let x_=0;if(!kh||!kh.length)return x_;for(let $P=0;$P<kh.length;$P++){const zP=kh.start($P),eme=kh.end($P);if(!(Ff>eme)){if(Ff>zP&&Ff<=eme){x_+=eme-Ff;continue}x_+=eme-zP}}return x_},segmentDurationWithParts=(kh,Ff)=>{if(!Ff.preload)return Ff.duration;let x_=0;return(Ff.parts||[]).forEach(function($P){x_+=$P.duration}),(Ff.preloadHints||[]).forEach(function($P){$P.type==="PART"&&(x_+=kh.partTargetDuration)}),x_},getPartsAndSegments=kh=>(kh.segments||[]).reduce((Ff,x_,$P)=>(x_.parts?x_.parts.forEach(function(zP,eme){Ff.push({duration:zP.duration,segmentIndex:$P,partIndex:eme,part:zP,segment:x_})}):Ff.push({duration:x_.duration,segmentIndex:$P,partIndex:null,segment:x_,part:null}),Ff),[]),getLastParts=kh=>{const Ff=kh.segments&&kh.segments.length&&kh.segments[kh.segments.length-1];return Ff&&Ff.parts||[]},getKnownPartCount=({preloadSegment:kh})=>{if(!kh)return;const{parts:Ff,preloadHints:x_}=kh;let $P=(x_||[]).reduce((zP,eme)=>zP+(eme.type==="PART"?1:0),0);return $P+=Ff&&Ff.length?Ff.length:0,$P},liveEdgeDelay=(kh,Ff)=>{if(Ff.endList)return 0;if(kh&&kh.suggestedPresentationDelay)return kh.suggestedPresentationDelay;const x_=getLastParts(Ff).length>0;return x_&&Ff.serverControl&&Ff.serverControl.partHoldBack?Ff.serverControl.partHoldBack:x_&&Ff.partTargetDuration?Ff.partTargetDuration*3:Ff.serverControl&&Ff.serverControl.holdBack?Ff.serverControl.holdBack:Ff.targetDuration?Ff.targetDuration*3:0},backwardDuration=function(kh,Ff){let x_=0,$P=Ff-kh.mediaSequence,zP=kh.segments[$P];if(zP){if(typeof zP.start!="undefined")return{result:zP.start,precise:!0};if(typeof zP.end!="undefined")return{result:zP.end-zP.duration,precise:!0}}for(;$P--;){if(zP=kh.segments[$P],typeof zP.end!="undefined")return{result:x_+zP.end,precise:!0};if(x_+=segmentDurationWithParts(kh,zP),typeof zP.start!="undefined")return{result:x_+zP.start,precise:!0}}return{result:x_,precise:!1}},forwardDuration=function(kh,Ff){let x_=0,$P,zP=Ff-kh.mediaSequence;for(;zP<kh.segments.length;zP++){if($P=kh.segments[zP],typeof $P.start!="undefined")return{result:$P.start-x_,precise:!0};if(x_+=segmentDurationWithParts(kh,$P),typeof $P.end!="undefined")return{result:$P.end-x_,precise:!0}}return{result:-1,precise:!1}},intervalDuration=function(kh,Ff,x_){if(typeof Ff=="undefined"&&(Ff=kh.mediaSequence+kh.segments.length),Ff<kh.mediaSequence)return 0;const $P=backwardDuration(kh,Ff);if($P.precise)return $P.result;const zP=forwardDuration(kh,Ff);return zP.precise?zP.result:$P.result+x_},duration=function(kh,Ff,x_){if(!kh)return 0;if(typeof x_!="number"&&(x_=0),typeof Ff=="undefined"){if(kh.totalDuration)return kh.totalDuration;if(!kh.endList)return window$1$1.Infinity}return intervalDuration(kh,Ff,x_)},sumDurations=function({defaultDuration:kh,durationList:Ff,startIndex:x_,endIndex:$P}){let zP=0;if(x_>$P&&([x_,$P]=[$P,x_]),x_<0){for(let eme=x_;eme<Math.min(0,$P);eme++)zP+=kh;x_=0}for(let eme=x_;eme<$P;eme++)zP+=Ff[eme].duration;return zP},playlistEnd=function(kh,Ff,x_,$P){if(!kh||!kh.segments)return null;if(kh.endList)return duration(kh);if(Ff===null)return null;Ff=Ff||0;let zP=intervalDuration(kh,kh.mediaSequence+kh.segments.length,Ff);return x_&&($P=typeof $P=="number"?$P:liveEdgeDelay(null,kh),zP-=$P),Math.max(0,zP)},seekable=function(kh,Ff,x_){const zP=Ff||0;let eme=playlistEnd(kh,Ff,!0,x_);return eme===null?createTimeRanges():(eme<zP&&(eme=zP),createTimeRanges(zP,eme))},getMediaInfoForTime=function({playlist:kh,currentTime:Ff,startingSegmentIndex:x_,startingPartIndex:$P,startTime:zP,exactManifestTimings:eme}){let tme=Ff-zP;const nme=getPartsAndSegments(kh);let rme=0;for(let ime=0;ime<nme.length;ime++){const ome=nme[ime];if(x_===ome.segmentIndex&&!(typeof $P=="number"&&typeof ome.partIndex=="number"&&$P!==ome.partIndex)){rme=ime;break}}if(tme<0){if(rme>0)for(let ime=rme-1;ime>=0;ime--){const ome=nme[ime];if(tme+=ome.duration,eme){if(tme<0)continue}else if(tme+TIME_FUDGE_FACTOR<=0)continue;return{partIndex:ome.partIndex,segmentIndex:ome.segmentIndex,startTime:zP-sumDurations({defaultDuration:kh.targetDuration,durationList:nme,startIndex:rme,endIndex:ime})}}return{partIndex:nme[0]&&nme[0].partIndex||null,segmentIndex:nme[0]&&nme[0].segmentIndex||0,startTime:Ff}}if(rme<0){for(let ime=rme;ime<0;ime++)if(tme-=kh.targetDuration,tme<0)return{partIndex:nme[0]&&nme[0].partIndex||null,segmentIndex:nme[0]&&nme[0].segmentIndex||0,startTime:Ff};rme=0}for(let ime=rme;ime<nme.length;ime++){const ome=nme[ime];if(tme-=ome.duration,eme){if(tme>0)continue}else if(tme-TIME_FUDGE_FACTOR>=0)continue;return{partIndex:ome.partIndex,segmentIndex:ome.segmentIndex,startTime:zP+sumDurations({defaultDuration:kh.targetDuration,durationList:nme,startIndex:rme,endIndex:ime})}}return{segmentIndex:nme[nme.length-1].segmentIndex,partIndex:nme[nme.length-1].partIndex,startTime:Ff}},isExcluded=function(kh){return kh.excludeUntil&&kh.excludeUntil>Date.now()},isIncompatible=function(kh){return kh.excludeUntil&&kh.excludeUntil===1/0},isEnabled=function(kh){const Ff=isExcluded(kh);return!kh.disabled&&!Ff},isDisabled=function(kh){return kh.disabled},isAes=function(kh){for(let Ff=0;Ff<kh.segments.length;Ff++)if(kh.segments[Ff].key)return!0;return!1},hasAttribute=function(kh,Ff){return Ff.attributes&&Ff.attributes[kh]},estimateSegmentRequestTime=function(kh,Ff,x_,$P=0){return hasAttribute("BANDWIDTH",x_)?(kh*x_.attributes.BANDWIDTH-$P*8)/Ff:NaN},isLowestEnabledRendition=(kh,Ff)=>{if(kh.playlists.length===1)return!0;const x_=Ff.attributes.BANDWIDTH||Number.MAX_VALUE;return kh.playlists.filter($P=>isEnabled($P)?($P.attributes.BANDWIDTH||0)<x_:!1).length===0},playlistMatch=(kh,Ff)=>!kh&&!Ff||!kh&&Ff||kh&&!Ff?!1:!!(kh===Ff||kh.id&&Ff.id&&kh.id===Ff.id||kh.resolvedUri&&Ff.resolvedUri&&kh.resolvedUri===Ff.resolvedUri||kh.uri&&Ff.uri&&kh.uri===Ff.uri),someAudioVariant=function(kh,Ff){const x_=kh&&kh.mediaGroups&&kh.mediaGroups.AUDIO||{};let $P=!1;for(const zP in x_){for(const eme in x_[zP])if($P=Ff(x_[zP][eme]),$P)break;if($P)break}return!!$P},isAudioOnly=kh=>{if(!kh||!kh.playlists||!kh.playlists.length)return someAudioVariant(kh,x_=>x_.playlists&&x_.playlists.length||x_.uri);for(let Ff=0;Ff<kh.playlists.length;Ff++){const x_=kh.playlists[Ff],$P=x_.attributes&&x_.attributes.CODECS;if(!($P&&$P.split(",").every(eme=>isAudioCodec(eme))||someAudioVariant(kh,eme=>playlistMatch(x_,eme))))return!1}return!0};var Playlist={liveEdgeDelay,duration,seekable,getMediaInfoForTime,isEnabled,isDisabled,isExcluded,isIncompatible,playlistEnd,isAes,hasAttribute,estimateSegmentRequestTime,isLowestEnabledRendition,isAudioOnly,playlistMatch,segmentDurationWithParts};const{log}=videojs,createPlaylistID=(kh,Ff)=>`${kh}-${Ff}`,groupID=(kh,Ff,x_)=>`placeholder-uri-${kh}-${Ff}-${x_}`,parseManifest=({onwarn:kh,oninfo:Ff,manifestString:x_,customTagParsers:$P=[],customTagMappers:zP=[],llhls:eme})=>{const tme=new Parser;kh&&tme.on("warn",kh),Ff&&tme.on("info",Ff),$P.forEach(ime=>tme.addParser(ime)),zP.forEach(ime=>tme.addTagMapper(ime)),tme.push(x_),tme.end();const nme=tme.manifest;if(eme||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(ime){nme.hasOwnProperty(ime)&&delete nme[ime]}),nme.segments&&nme.segments.forEach(function(ime){["parts","preloadHints"].forEach(function(ome){ime.hasOwnProperty(ome)&&delete ime[ome]})})),!nme.targetDuration){let ime=10;nme.segments&&nme.segments.length&&(ime=nme.segments.reduce((ome,sme)=>Math.max(ome,sme.duration),0)),kh&&kh(`manifest has no targetDuration defaulting to ${ime}`),nme.targetDuration=ime}const rme=getLastParts(nme);if(rme.length&&!nme.partTargetDuration){const ime=rme.reduce((ome,sme)=>Math.max(ome,sme.duration),0);kh&&(kh(`manifest has no partTargetDuration defaulting to ${ime}`),log.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),nme.partTargetDuration=ime}return nme},forEachMediaGroup=(kh,Ff)=>{kh.mediaGroups&&["AUDIO","SUBTITLES"].forEach(x_=>{if(kh.mediaGroups[x_])for(const $P in kh.mediaGroups[x_])for(const zP in kh.mediaGroups[x_][$P]){const eme=kh.mediaGroups[x_][$P][zP];Ff(eme,x_,$P,zP)}})},setupMediaPlaylist=({playlist:kh,uri:Ff,id:x_})=>{kh.id=x_,kh.playlistErrors_=0,Ff&&(kh.uri=Ff),kh.attributes=kh.attributes||{}},setupMediaPlaylists=kh=>{let Ff=kh.playlists.length;for(;Ff--;){const x_=kh.playlists[Ff];setupMediaPlaylist({playlist:x_,id:createPlaylistID(Ff,x_.uri)}),x_.resolvedUri=resolveUrl(kh.uri,x_.uri),kh.playlists[x_.id]=x_,kh.playlists[x_.uri]=x_,x_.attributes.BANDWIDTH||log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},resolveMediaGroupUris=kh=>{forEachMediaGroup(kh,Ff=>{Ff.uri&&(Ff.resolvedUri=resolveUrl(kh.uri,Ff.uri))})},mainForMedia=(kh,Ff)=>{const x_=createPlaylistID(0,Ff),$P={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:window$1$1.location.href,resolvedUri:window$1$1.location.href,playlists:[{uri:Ff,id:x_,resolvedUri:Ff,attributes:{}}]};return $P.playlists[x_]=$P.playlists[0],$P.playlists[Ff]=$P.playlists[0],$P},addPropertiesToMain=(kh,Ff,x_=groupID)=>{kh.uri=Ff;for(let zP=0;zP<kh.playlists.length;zP++)if(!kh.playlists[zP].uri){const eme=`placeholder-uri-${zP}`;kh.playlists[zP].uri=eme}const $P=isAudioOnly(kh);forEachMediaGroup(kh,(zP,eme,tme,nme)=>{if(!zP.playlists||!zP.playlists.length){if($P&&eme==="AUDIO"&&!zP.uri)for(let rme=0;rme<kh.playlists.length;rme++){const ime=kh.playlists[rme];if(ime.attributes&&ime.attributes.AUDIO&&ime.attributes.AUDIO===tme)return}zP.playlists=[_extends$1({},zP)]}zP.playlists.forEach(function(rme,ime){const ome=x_(eme,tme,nme,rme),sme=createPlaylistID(ime,ome);rme.uri?rme.resolvedUri=rme.resolvedUri||resolveUrl(kh.uri,rme.uri):(rme.uri=ime===0?ome:sme,rme.resolvedUri=rme.uri),rme.id=rme.id||sme,rme.attributes=rme.attributes||{},kh.playlists[rme.id]=rme,kh.playlists[rme.uri]=rme})}),setupMediaPlaylists(kh),resolveMediaGroupUris(kh)};class DateRangesStorage{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(Ff=[]){if(this.offset_!==null||!Ff.length)return;const[x_]=Ff;x_.programDateTime!==void 0&&(this.offset_=x_.programDateTime/1e3)}setPendingDateRanges(Ff=[]){if(!Ff.length)return;const[x_]=Ff,$P=x_.startDate.getTime();this.trimProcessedDateRanges_($P),this.pendingDateRanges_=Ff.reduce((zP,eme)=>(zP.set(eme.id,eme),zP),new Map)}processDateRange(Ff){this.pendingDateRanges_.delete(Ff.id),this.processedDateRanges_.set(Ff.id,Ff)}getDateRangesToProcess(){if(this.offset_===null)return[];const Ff={},x_=[];this.pendingDateRanges_.forEach(($P,zP)=>{if(!this.processedDateRanges_.has(zP)&&($P.startTime=$P.startDate.getTime()/1e3-this.offset_,$P.processDateRange=()=>this.processDateRange($P),x_.push($P),!!$P.class))if(Ff[$P.class]){const eme=Ff[$P.class].push($P);$P.classListIndex=eme-1}else Ff[$P.class]=[$P],$P.classListIndex=0});for(const $P of x_){const zP=Ff[$P.class]||[];$P.endDate?$P.endTime=$P.endDate.getTime()/1e3-this.offset_:$P.endOnNext&&zP[$P.classListIndex+1]?$P.endTime=zP[$P.classListIndex+1].startTime:$P.duration?$P.endTime=$P.startTime+$P.duration:$P.plannedDuration?$P.endTime=$P.startTime+$P.plannedDuration:$P.endTime=$P.startTime}return x_}trimProcessedDateRanges_(Ff){new Map(this.processedDateRanges_).forEach(($P,zP)=>{$P.startDate.getTime()<Ff&&this.processedDateRanges_.delete(zP)})}}const{EventTarget:EventTarget$1}=videojs,addLLHLSQueryDirectives=(kh,Ff)=>{if(Ff.endList||!Ff.serverControl)return kh;const x_={};if(Ff.serverControl.canBlockReload){const{preloadSegment:$P}=Ff;let zP=Ff.mediaSequence+Ff.segments.length;if($P){const eme=$P.parts||[],tme=getKnownPartCount(Ff)-1;tme>-1&&tme!==eme.length-1&&(x_._HLS_part=tme),(tme>-1||eme.length)&&zP--}x_._HLS_msn=zP}if(Ff.serverControl&&Ff.serverControl.canSkipUntil&&(x_._HLS_skip=Ff.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(x_).length){const $P=new window$1$1.URL(kh);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(zP){x_.hasOwnProperty(zP)&&$P.searchParams.set(zP,x_[zP])}),kh=$P.toString()}return kh},updateSegment=(kh,Ff)=>{if(!kh)return Ff;const x_=merge(kh,Ff);if(kh.preloadHints&&!Ff.preloadHints&&delete x_.preloadHints,kh.parts&&!Ff.parts)delete x_.parts;else if(kh.parts&&Ff.parts)for(let $P=0;$P<Ff.parts.length;$P++)kh.parts&&kh.parts[$P]&&(x_.parts[$P]=merge(kh.parts[$P],Ff.parts[$P]));return!kh.skipped&&Ff.skipped&&(x_.skipped=!1),kh.preload&&!Ff.preload&&(x_.preload=!1),x_},updateSegments=(kh,Ff,x_)=>{const $P=kh.slice(),zP=Ff.slice();x_=x_||0;const eme=[];let tme;for(let nme=0;nme<zP.length;nme++){const rme=$P[nme+x_],ime=zP[nme];rme?(tme=rme.map||tme,eme.push(updateSegment(rme,ime))):(tme&&!ime.map&&(ime.map=tme),eme.push(ime))}return eme},resolveSegmentUris=(kh,Ff)=>{!kh.resolvedUri&&kh.uri&&(kh.resolvedUri=resolveUrl(Ff,kh.uri)),kh.key&&!kh.key.resolvedUri&&(kh.key.resolvedUri=resolveUrl(Ff,kh.key.uri)),kh.map&&!kh.map.resolvedUri&&(kh.map.resolvedUri=resolveUrl(Ff,kh.map.uri)),kh.map&&kh.map.key&&!kh.map.key.resolvedUri&&(kh.map.key.resolvedUri=resolveUrl(Ff,kh.map.key.uri)),kh.parts&&kh.parts.length&&kh.parts.forEach(x_=>{x_.resolvedUri||(x_.resolvedUri=resolveUrl(Ff,x_.uri))}),kh.preloadHints&&kh.preloadHints.length&&kh.preloadHints.forEach(x_=>{x_.resolvedUri||(x_.resolvedUri=resolveUrl(Ff,x_.uri))})},getAllSegments=function(kh){const Ff=kh.segments||[],x_=kh.preloadSegment;if(x_&&x_.parts&&x_.parts.length){if(x_.preloadHints){for(let $P=0;$P<x_.preloadHints.length;$P++)if(x_.preloadHints[$P].type==="MAP")return Ff}x_.duration=kh.targetDuration,x_.preload=!0,Ff.push(x_)}return Ff},isPlaylistUnchanged=(kh,Ff)=>kh===Ff||kh.segments&&Ff.segments&&kh.segments.length===Ff.segments.length&&kh.endList===Ff.endList&&kh.mediaSequence===Ff.mediaSequence&&kh.preloadSegment===Ff.preloadSegment,updateMain$1=(kh,Ff,x_=isPlaylistUnchanged)=>{const $P=merge(kh,{}),zP=$P.playlists[Ff.id];if(!zP||x_(zP,Ff))return null;Ff.segments=getAllSegments(Ff);const eme=merge(zP,Ff);if(eme.preloadSegment&&!Ff.preloadSegment&&delete eme.preloadSegment,zP.segments){if(Ff.skip){Ff.segments=Ff.segments||[];for(let tme=0;tme<Ff.skip.skippedSegments;tme++)Ff.segments.unshift({skipped:!0})}eme.segments=updateSegments(zP.segments,Ff.segments,Ff.mediaSequence-zP.mediaSequence)}eme.segments.forEach(tme=>{resolveSegmentUris(tme,eme.resolvedUri)});for(let tme=0;tme<$P.playlists.length;tme++)$P.playlists[tme].id===Ff.id&&($P.playlists[tme]=eme);return $P.playlists[Ff.id]=eme,$P.playlists[Ff.uri]=eme,forEachMediaGroup(kh,(tme,nme,rme,ime)=>{if(tme.playlists)for(let ome=0;ome<tme.playlists.length;ome++)Ff.id===tme.playlists[ome].id&&(tme.playlists[ome]=eme)}),$P},refreshDelay=(kh,Ff)=>{const x_=kh.segments||[],$P=x_[x_.length-1],zP=$P&&$P.parts&&$P.parts[$P.parts.length-1],eme=zP&&zP.duration||$P&&$P.duration;return Ff&&eme?eme*1e3:(kh.partTargetDuration||kh.targetDuration||10)*500};class PlaylistLoader extends EventTarget$1{constructor(Ff,x_,$P={}){if(super(),!Ff)throw new Error("A non-empty playlist URL or object is required");this.logger_=logger("PlaylistLoader");const{withCredentials:zP=!1}=$P;this.src=Ff,this.vhs_=x_,this.withCredentials=zP,this.addDateRangesToTextTrack_=$P.addDateRangesToTextTrack;const eme=x_.options_;this.customTagParsers=eme&&eme.customTagParsers||[],this.customTagMappers=eme&&eme.customTagMappers||[],this.llhls=eme&&eme.llhls,this.dateRangesStorage_=new DateRangesStorage,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const Ff=this.media();if(!Ff)return;this.dateRangesStorage_.setOffset(Ff.segments),this.dateRangesStorage_.setPendingDateRanges(Ff.dateRanges);const x_=this.dateRangesStorage_.getDateRangesToProcess();!x_.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(x_)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const Ff=this.media();let x_=resolveUrl(this.main.uri,Ff.uri);this.llhls&&(x_=addLLHLSQueryDirectives(x_,Ff)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:x_,withCredentials:this.withCredentials},($P,zP)=>{if(this.request){if($P)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(Ff,x_,$P){const{uri:zP,id:eme}=x_;this.request=null,$P&&(this.state=$P),this.error={playlist:this.main.playlists[eme],status:Ff.status,message:`HLS playlist request error at URL: ${zP}.`,responseText:Ff.responseText,code:Ff.status>=500?4:2},this.trigger("error")}parseManifest_({url:Ff,manifestString:x_}){return parseManifest({onwarn:({message:$P})=>this.logger_(`m3u8-parser warn for ${Ff}: ${$P}`),oninfo:({message:$P})=>this.logger_(`m3u8-parser info for ${Ff}: ${$P}`),manifestString:x_,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:Ff,playlistObject:x_,url:$P,id:zP}){this.request=null,this.state="HAVE_METADATA";const eme=x_||this.parseManifest_({url:$P,manifestString:Ff});eme.lastRequest=Date.now(),setupMediaPlaylist({playlist:eme,uri:$P,id:zP});const tme=updateMain$1(this.main,eme);this.targetDuration=eme.partTargetDuration||eme.targetDuration,this.pendingMedia_=null,tme?(this.main=tme,this.media_=this.main.playlists[zP]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(refreshDelay(this.media(),!!tme)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),window$1$1.clearTimeout(this.mediaUpdateTimeout),window$1$1.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new DateRangesStorage,this.off()}stopRequest(){if(this.request){const Ff=this.request;this.request=null,Ff.onreadystatechange=null,Ff.abort()}}media(Ff,x_){if(!Ff)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof Ff=="string"){if(!this.main.playlists[Ff])throw new Error("Unknown playlist URI: "+Ff);Ff=this.main.playlists[Ff]}if(window$1$1.clearTimeout(this.finalRenditionTimeout),x_){const tme=(Ff.partTargetDuration||Ff.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=window$1$1.setTimeout(this.media.bind(this,Ff,!1),tme);return}const $P=this.state,zP=!this.media_||Ff.id!==this.media_.id,eme=this.main.playlists[Ff.id];if(eme&&eme.endList||Ff.endList&&Ff.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=Ff,zP&&(this.trigger("mediachanging"),$P==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(refreshDelay(Ff,!0)),!!zP){if(this.state="SWITCHING_MEDIA",this.request){if(Ff.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=Ff,this.request=this.vhs_.xhr({uri:Ff.resolvedUri,withCredentials:this.withCredentials},(tme,nme)=>{if(this.request){if(Ff.lastRequest=Date.now(),Ff.resolvedUri=resolveManifestRedirect(Ff.resolvedUri,nme),tme)return this.playlistRequestError(this.request,Ff,$P);this.haveMetadata({playlistString:nme.responseText,url:Ff.uri,id:Ff.id}),$P==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(Ff){this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const x_=this.media();if(Ff){const $P=x_?(x_.partTargetDuration||x_.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=window$1$1.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},$P);return}if(!this.started){this.start();return}x_&&!x_.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(Ff){this.mediaUpdateTimeout&&(window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=window$1$1.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(Ff)},Ff))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=window$1$1.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(Ff,x_)=>{if(!this.request)return;if(this.request=null,Ff)return this.error={status:x_.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:x_.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=resolveManifestRedirect(this.src,x_);const $P=this.parseManifest_({manifestString:x_.responseText,url:this.src});this.setupInitialPlaylist($P)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(Ff){if(this.state="HAVE_MAIN_MANIFEST",Ff.playlists){this.main=Ff,addPropertiesToMain(this.main,this.srcUri()),Ff.playlists.forEach($P=>{$P.segments=getAllSegments($P),$P.segments.forEach(zP=>{resolveSegmentUris(zP,$P.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const x_=this.srcUri()||window$1$1.location.href;this.main=mainForMedia(Ff,x_),this.haveMetadata({playlistObject:Ff,url:x_,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:videojsXHR}=videojs,callbackWrapper=function(kh,Ff,x_,$P){const zP=kh.responseType==="arraybuffer"?kh.response:kh.responseText;!Ff&&zP&&(kh.responseTime=Date.now(),kh.roundTripTime=kh.responseTime-kh.requestTime,kh.bytesReceived=zP.byteLength||zP.length,kh.bandwidth||(kh.bandwidth=Math.floor(kh.bytesReceived/kh.roundTripTime*8*1e3))),x_.headers&&(kh.responseHeaders=x_.headers),Ff&&Ff.code==="ETIMEDOUT"&&(kh.timedout=!0),!Ff&&!kh.aborted&&x_.statusCode!==200&&x_.statusCode!==206&&x_.statusCode!==0&&(Ff=new Error("XHR Failed with a response of: "+(kh&&(zP||kh.responseText)))),$P(Ff,kh)},callAllRequestHooks=(kh,Ff)=>{if(!kh||!kh.size)return;let x_=Ff;return kh.forEach($P=>{x_=$P(x_)}),x_},callAllResponseHooks=(kh,Ff,x_,$P)=>{!kh||!kh.size||kh.forEach(zP=>{zP(Ff,x_,$P)})},xhrFactory=function(){const kh=function Ff(x_,$P){x_=merge({timeout:45e3},x_);const zP=Ff.beforeRequest||videojs.Vhs.xhr.beforeRequest,eme=Ff._requestCallbackSet||videojs.Vhs.xhr._requestCallbackSet||new Set,tme=Ff._responseCallbackSet||videojs.Vhs.xhr._responseCallbackSet;zP&&typeof zP=="function"&&(videojs.log.warn("beforeRequest is deprecated, use onRequest instead."),eme.add(zP));const nme=videojs.Vhs.xhr.original===!0?videojsXHR:videojs.Vhs.xhr,rme=callAllRequestHooks(eme,x_);eme.delete(zP);const ime=nme(rme||x_,function(sme,ame){return callAllResponseHooks(tme,ime,sme,ame),callbackWrapper(ime,sme,ame,$P)}),ome=ime.abort;return ime.abort=function(){return ime.aborted=!0,ome.apply(ime,arguments)},ime.uri=x_.uri,ime.requestTime=Date.now(),ime};return kh.original=!0,kh},byterangeStr=function(kh){let Ff;const x_=kh.offset;return typeof kh.offset=="bigint"||typeof kh.length=="bigint"?Ff=window$1$1.BigInt(kh.offset)+window$1$1.BigInt(kh.length)-window$1$1.BigInt(1):Ff=kh.offset+kh.length-1,"bytes="+x_+"-"+Ff},segmentXhrHeaders=function(kh){const Ff={};return kh.byterange&&(Ff.Range=byterangeStr(kh.byterange)),Ff},textRange=function(kh,Ff){return kh.start(Ff)+"-"+kh.end(Ff)},formatHexString=function(kh,Ff){const x_=kh.toString(16);return"00".substring(0,2-x_.length)+x_+(Ff%2?" ":"")},formatAsciiString=function(kh){return kh>=32&&kh<126?String.fromCharCode(kh):"."},createTransferableMessage=function(kh){const Ff={};return Object.keys(kh).forEach(x_=>{const $P=kh[x_];isArrayBufferView($P)?Ff[x_]={bytes:$P.buffer,byteOffset:$P.byteOffset,byteLength:$P.byteLength}:Ff[x_]=$P}),Ff},initSegmentId=function(kh){const Ff=kh.byterange||{length:1/0,offset:0};return[Ff.length,Ff.offset,kh.resolvedUri].join(",")},segmentKeyId=function(kh){return kh.resolvedUri},hexDump=kh=>{const Ff=Array.prototype.slice.call(kh),x_=16;let $P="",zP,eme;for(let tme=0;tme<Ff.length/x_;tme++)zP=Ff.slice(tme*x_,tme*x_+x_).map(formatHexString).join(""),eme=Ff.slice(tme*x_,tme*x_+x_).map(formatAsciiString).join(""),$P+=zP+" "+eme+`
`;return $P},tagDump=({bytes:kh})=>hexDump(kh),textRanges=kh=>{let Ff="",x_;for(x_=0;x_<kh.length;x_++)Ff+=textRange(kh,x_)+" ";return Ff};var utils=Object.freeze({__proto__:null,createTransferableMessage,initSegmentId,segmentKeyId,hexDump,tagDump,textRanges});const SEGMENT_END_FUDGE_PERCENT=.25,playerTimeToProgramTime=(kh,Ff)=>{if(!Ff.dateTimeObject)return null;const x_=Ff.videoTimingInfo.transmuxerPrependedSeconds,zP=Ff.videoTimingInfo.transmuxedPresentationStart+x_,eme=kh-zP;return new Date(Ff.dateTimeObject.getTime()+eme*1e3)},originalSegmentVideoDuration=kh=>kh.transmuxedPresentationEnd-kh.transmuxedPresentationStart-kh.transmuxerPrependedSeconds,findSegmentForProgramTime=(kh,Ff)=>{let x_;try{x_=new Date(kh)}catch(rme){return null}if(!Ff||!Ff.segments||Ff.segments.length===0)return null;let $P=Ff.segments[0];if(x_<new Date($P.dateTimeObject))return null;for(let rme=0;rme<Ff.segments.length-1;rme++){$P=Ff.segments[rme];const ime=new Date(Ff.segments[rme+1].dateTimeObject);if(x_<ime)break}const zP=Ff.segments[Ff.segments.length-1],eme=zP.dateTimeObject,tme=zP.videoTimingInfo?originalSegmentVideoDuration(zP.videoTimingInfo):zP.duration+zP.duration*SEGMENT_END_FUDGE_PERCENT,nme=new Date(eme.getTime()+tme*1e3);return x_>nme?null:(x_>new Date(eme)&&($P=zP),{segment:$P,estimatedStart:$P.videoTimingInfo?$P.videoTimingInfo.transmuxedPresentationStart:Playlist.duration(Ff,Ff.mediaSequence+Ff.segments.indexOf($P)),type:$P.videoTimingInfo?"accurate":"estimate"})},findSegmentForPlayerTime=(kh,Ff)=>{if(!Ff||!Ff.segments||Ff.segments.length===0)return null;let x_=0,$P;for(let eme=0;eme<Ff.segments.length&&($P=Ff.segments[eme],x_=$P.videoTimingInfo?$P.videoTimingInfo.transmuxedPresentationEnd:x_+$P.duration,!(kh<=x_));eme++);const zP=Ff.segments[Ff.segments.length-1];if(zP.videoTimingInfo&&zP.videoTimingInfo.transmuxedPresentationEnd<kh)return null;if(kh>x_){if(kh>x_+zP.duration*SEGMENT_END_FUDGE_PERCENT)return null;$P=zP}return{segment:$P,estimatedStart:$P.videoTimingInfo?$P.videoTimingInfo.transmuxedPresentationStart:x_-$P.duration,type:$P.videoTimingInfo?"accurate":"estimate"}},getOffsetFromTimestamp=(kh,Ff)=>{let x_,$P;try{x_=new Date(kh),$P=new Date(Ff)}catch(tme){}const zP=x_.getTime();return($P.getTime()-zP)/1e3},verifyProgramDateTimeTags=kh=>{if(!kh.segments||kh.segments.length===0)return!1;for(let Ff=0;Ff<kh.segments.length;Ff++)if(!kh.segments[Ff].dateTimeObject)return!1;return!0},getProgramTime=({playlist:kh,time:Ff=void 0,callback:x_})=>{if(!x_)throw new Error("getProgramTime: callback must be provided");if(!kh||Ff===void 0)return x_({message:"getProgramTime: playlist and time must be provided"});const $P=findSegmentForPlayerTime(Ff,kh);if(!$P)return x_({message:"valid programTime was not found"});if($P.type==="estimate")return x_({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:$P.estimatedStart});const zP={mediaSeconds:Ff},eme=playerTimeToProgramTime(Ff,$P.segment);return eme&&(zP.programDateTime=eme.toISOString()),x_(null,zP)},seekToProgramTime=({programTime:kh,playlist:Ff,retryCount:x_=2,seekTo:$P,pauseAfterSeek:zP=!0,tech:eme,callback:tme})=>{if(!tme)throw new Error("seekToProgramTime: callback must be provided");if(typeof kh=="undefined"||!Ff||!$P)return tme({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!Ff.endList&&!eme.hasStarted_)return tme({message:"player must be playing a live stream to start buffering"});if(!verifyProgramDateTimeTags(Ff))return tme({message:"programDateTime tags must be provided in the manifest "+Ff.resolvedUri});const nme=findSegmentForProgramTime(kh,Ff);if(!nme)return tme({message:`${kh} was not found in the stream`});const rme=nme.segment,ime=getOffsetFromTimestamp(rme.dateTimeObject,kh);if(nme.type==="estimate"){if(x_===0)return tme({message:`${kh} is not buffered yet. Try again`});$P(nme.estimatedStart+ime),eme.one("seeked",()=>{seekToProgramTime({programTime:kh,playlist:Ff,retryCount:x_-1,seekTo:$P,pauseAfterSeek:zP,tech:eme,callback:tme})});return}const ome=rme.start+ime,sme=()=>tme(null,eme.currentTime());eme.one("seeked",sme),zP&&eme.pause(),$P(ome)},callbackOnCompleted=(kh,Ff)=>{if(kh.readyState===4)return Ff()},containerRequest=(kh,Ff,x_)=>{let $P=[],zP,eme=!1;const tme=function(ome,sme,ame,lme){return sme.abort(),eme=!0,x_(ome,sme,ame,lme)},nme=function(ome,sme){if(eme)return;if(ome)return tme(ome,sme,"",$P);const ame=sme.responseText.substring($P&&$P.byteLength||0,sme.responseText.length);if($P=concatTypedArrays($P,stringToBytes(ame,!0)),zP=zP||getId3Offset($P),$P.length<10||zP&&$P.length<zP+2)return callbackOnCompleted(sme,()=>tme(ome,sme,"",$P));const lme=detectContainerForBytes($P);return lme==="ts"&&$P.length<188?callbackOnCompleted(sme,()=>tme(ome,sme,"",$P)):!lme&&$P.length<376?callbackOnCompleted(sme,()=>tme(ome,sme,"",$P)):tme(null,sme,lme,$P)},ime=Ff({uri:kh,beforeSend(ome){ome.overrideMimeType("text/plain; charset=x-user-defined"),ome.addEventListener("progress",function({total:sme,loaded:ame}){return callbackWrapper(ome,null,{statusCode:ome.status},nme)})}},function(ome,sme){return callbackWrapper(ime,ome,sme,nme)});return ime},{EventTarget}=videojs,dashPlaylistUnchanged=function(kh,Ff){if(!isPlaylistUnchanged(kh,Ff)||kh.sidx&&Ff.sidx&&(kh.sidx.offset!==Ff.sidx.offset||kh.sidx.length!==Ff.sidx.length))return!1;if(!kh.sidx&&Ff.sidx||kh.sidx&&!Ff.sidx||kh.segments&&!Ff.segments||!kh.segments&&Ff.segments)return!1;if(!kh.segments&&!Ff.segments)return!0;for(let x_=0;x_<kh.segments.length;x_++){const $P=kh.segments[x_],zP=Ff.segments[x_];if($P.uri!==zP.uri)return!1;if(!$P.byterange&&!zP.byterange)continue;const eme=$P.byterange,tme=zP.byterange;if(eme&&!tme||!eme&&tme||eme.offset!==tme.offset||eme.length!==tme.length)return!1}return!0},dashGroupId=(kh,Ff,x_,$P)=>{const zP=$P.attributes.NAME||x_;return`placeholder-uri-${kh}-${Ff}-${zP}`},parseMainXml=({mainXml:kh,srcUrl:Ff,clientOffset:x_,sidxMapping:$P,previousManifest:zP})=>{const eme=parse(kh,{manifestUri:Ff,clientOffset:x_,sidxMapping:$P,previousManifest:zP});return addPropertiesToMain(eme,Ff,dashGroupId),eme},removeOldMediaGroupLabels=(kh,Ff)=>{forEachMediaGroup(kh,(x_,$P,zP,eme)=>{eme in Ff.mediaGroups[$P][zP]||delete kh.mediaGroups[$P][zP][eme]})},updateMain=(kh,Ff,x_)=>{let $P=!0,zP=merge(kh,{duration:Ff.duration,minimumUpdatePeriod:Ff.minimumUpdatePeriod,timelineStarts:Ff.timelineStarts});for(let eme=0;eme<Ff.playlists.length;eme++){const tme=Ff.playlists[eme];if(tme.sidx){const rme=generateSidxKey(tme.sidx);x_&&x_[rme]&&x_[rme].sidx&&addSidxSegmentsToPlaylist$1(tme,x_[rme].sidx,tme.sidx.resolvedUri)}const nme=updateMain$1(zP,tme,dashPlaylistUnchanged);nme&&(zP=nme,$P=!1)}return forEachMediaGroup(Ff,(eme,tme,nme,rme)=>{if(eme.playlists&&eme.playlists.length){const ime=eme.playlists[0].id,ome=updateMain$1(zP,eme.playlists[0],dashPlaylistUnchanged);ome&&(zP=ome,rme in zP.mediaGroups[tme][nme]||(zP.mediaGroups[tme][nme][rme]=eme),zP.mediaGroups[tme][nme][rme].playlists[0]=zP.playlists[ime],$P=!1)}}),removeOldMediaGroupLabels(zP,Ff),Ff.minimumUpdatePeriod!==kh.minimumUpdatePeriod&&($P=!1),$P?null:zP},equivalentSidx=(kh,Ff)=>(!kh.map&&!Ff.map||!!(kh.map&&Ff.map&&kh.map.byterange.offset===Ff.map.byterange.offset&&kh.map.byterange.length===Ff.map.byterange.length))&&kh.uri===Ff.uri&&kh.byterange.offset===Ff.byterange.offset&&kh.byterange.length===Ff.byterange.length,compareSidxEntry=(kh,Ff)=>{const x_={};for(const $P in kh){const eme=kh[$P].sidx;if(eme){const tme=generateSidxKey(eme);if(!Ff[tme])break;const nme=Ff[tme].sidxInfo;equivalentSidx(nme,eme)&&(x_[tme]=Ff[tme])}}return x_},filterChangedSidxMappings=(kh,Ff)=>{let $P=compareSidxEntry(kh.playlists,Ff);return forEachMediaGroup(kh,(zP,eme,tme,nme)=>{if(zP.playlists&&zP.playlists.length){const rme=zP.playlists;$P=merge($P,compareSidxEntry(rme,Ff))}}),$P};class DashPlaylistLoader extends EventTarget{constructor(Ff,x_,$P={},zP){super(),this.mainPlaylistLoader_=zP||this,zP||(this.isMain_=!0);const{withCredentials:eme=!1}=$P;if(this.vhs_=x_,this.withCredentials=eme,this.addMetadataToTextTrack=$P.addMetadataToTextTrack,!Ff)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.media().attributes.serviceLocation||this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=logger("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=Ff,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=Ff}requestErrored_(Ff,x_,$P){if(!this.request)return!0;if(this.request=null,Ff)return this.error=typeof Ff=="object"&&!(Ff instanceof Error)?Ff:{status:x_.status,message:"DASH request error at URL: "+x_.uri,response:x_.response,code:2},$P&&(this.state=$P),this.trigger("error"),!0}addSidxSegments_(Ff,x_,$P){const zP=Ff.sidx&&generateSidxKey(Ff.sidx);if(!Ff.sidx||!zP||this.mainPlaylistLoader_.sidxMapping_[zP]){this.mediaRequest_=window$1$1.setTimeout(()=>$P(!1),0);return}const eme=resolveManifestRedirect(Ff.sidx.resolvedUri),tme=(nme,rme)=>{if(this.requestErrored_(nme,rme,x_))return;const ime=this.mainPlaylistLoader_.sidxMapping_;let ome;try{ome=parseSidx$1(toUint8(rme.response).subarray(8))}catch(sme){this.requestErrored_(sme,rme,x_);return}return ime[zP]={sidxInfo:Ff.sidx,sidx:ome},addSidxSegmentsToPlaylist$1(Ff,ome,Ff.sidx.resolvedUri),$P(!0)};this.request=containerRequest(eme,this.vhs_.xhr,(nme,rme,ime,ome)=>{if(nme)return tme(nme,rme);if(!ime||ime!=="mp4")return tme({status:rme.status,message:`Unsupported ${ime||"unknown"} container type for sidx segment at URL: ${eme}`,response:"",playlist:Ff,internal:!0,playlistExclusionDuration:1/0,code:2},rme);const{offset:sme,length:ame}=Ff.sidx.byterange;if(ome.length>=ame+sme)return tme(nme,{response:ome.subarray(sme,sme+ame),status:rme.status,uri:rme.uri});this.request=this.vhs_.xhr({uri:eme,responseType:"arraybuffer",headers:segmentXhrHeaders({byterange:Ff.sidx.byterange})},tme)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},window$1$1.clearTimeout(this.minimumUpdatePeriodTimeout_),window$1$1.clearTimeout(this.mediaRequest_),window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const Ff=this.request;this.request=null,Ff.onreadystatechange=null,Ff.abort()}}media(Ff){if(!Ff)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const x_=this.state;if(typeof Ff=="string"){if(!this.mainPlaylistLoader_.main.playlists[Ff])throw new Error("Unknown playlist URI: "+Ff);Ff=this.mainPlaylistLoader_.main.playlists[Ff]}const $P=!this.media_||Ff.id!==this.media_.id;if($P&&this.loadedPlaylists_[Ff.id]&&this.loadedPlaylists_[Ff.id].endList){this.state="HAVE_METADATA",this.media_=Ff,$P&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}$P&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(Ff,x_,zP=>{this.haveMetadata({startingState:x_,playlist:Ff})}))}haveMetadata({startingState:Ff,playlist:x_}){this.state="HAVE_METADATA",this.loadedPlaylists_[x_.id]=x_,this.mediaRequest_=null,this.refreshMedia_(x_.id),Ff==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(window$1$1.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(Ff){window$1$1.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const x_=this.media();if(Ff){const $P=x_?x_.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=window$1$1.setTimeout(()=>this.load(),$P);return}if(!this.started){this.start();return}x_&&!x_.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=window$1$1.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((Ff,x_)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(Ff){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(x_,$P)=>{if(this.requestErrored_(x_,$P)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const zP=$P.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=$P.responseText,$P.responseHeaders&&$P.responseHeaders.date?this.mainLoaded_=Date.parse($P.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=resolveManifestRedirect(this.mainPlaylistLoader_.srcUrl,$P),zP){this.handleMain_(),this.syncClientServerClock_(()=>Ff($P,zP));return}return Ff($P,zP)})}syncClientServerClock_(Ff){const x_=parseUTCTiming(this.mainPlaylistLoader_.mainXml_);if(x_===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),Ff();if(x_.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=x_.value-Date.now(),Ff();this.request=this.vhs_.xhr({uri:resolveUrl(this.mainPlaylistLoader_.srcUrl,x_.value),method:x_.method,withCredentials:this.withCredentials},($P,zP)=>{if(!this.request)return;if($P)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),Ff();let eme;x_.method==="HEAD"?!zP.responseHeaders||!zP.responseHeaders.date?eme=this.mainLoaded_:eme=Date.parse(zP.responseHeaders.date):eme=Date.parse(zP.responseText),this.mainPlaylistLoader_.clientOffset_=eme-Date.now(),Ff()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const Ff=this.mainPlaylistLoader_.main;let x_=parseMainXml({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:Ff});Ff&&(x_=updateMain(Ff,x_,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=x_||Ff;const $P=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return $P&&$P!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=$P),(!Ff||x_&&x_.minimumUpdatePeriod!==Ff.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(x_),!!x_}updateMinimumUpdatePeriodTimeout_(){const Ff=this.mainPlaylistLoader_;Ff.createMupOnMedia_&&(Ff.off("loadedmetadata",Ff.createMupOnMedia_),Ff.createMupOnMedia_=null),Ff.minimumUpdatePeriodTimeout_&&(window$1$1.clearTimeout(Ff.minimumUpdatePeriodTimeout_),Ff.minimumUpdatePeriodTimeout_=null);let x_=Ff.main&&Ff.main.minimumUpdatePeriod;if(x_===0&&(Ff.media()?x_=Ff.media().targetDuration*1e3:(Ff.createMupOnMedia_=Ff.updateMinimumUpdatePeriodTimeout_,Ff.one("loadedmetadata",Ff.createMupOnMedia_))),typeof x_!="number"||x_<=0){x_<0&&this.logger_(`found invalid minimumUpdatePeriod of ${x_}, not setting a timeout`);return}this.createMUPTimeout_(x_)}createMUPTimeout_(Ff){const x_=this.mainPlaylistLoader_;x_.minimumUpdatePeriodTimeout_=window$1$1.setTimeout(()=>{x_.minimumUpdatePeriodTimeout_=null,x_.trigger("minimumUpdatePeriod"),x_.createMUPTimeout_(Ff)},Ff)}refreshXml_(){this.requestMain_((Ff,x_)=>{x_&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=filterChangedSidxMappings(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,$P=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(Ff){if(!Ff)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const x_=this.mainPlaylistLoader_.main.playlists,$P=!this.media_||this.media_!==x_[Ff];if($P?this.media_=x_[Ff]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const zP=()=>{this.media().endList||(this.mediaUpdateTimeout=window$1$1.setTimeout(()=>{this.trigger("mediaupdatetimeout"),zP()},refreshDelay(this.media(),!!$P)))};zP()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(Ff){if(Ff&&this.mainPlaylistLoader_.main.eventStream){const x_=this.mainPlaylistLoader_.main.eventStream.map($P=>({cueTime:$P.start,frames:[{data:$P.messageData}]}));this.addMetadataToTextTrack("EventStream",x_,this.mainPlaylistLoader_.main.duration)}}}var Config={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const stringToArrayBuffer=kh=>{const Ff=new Uint8Array(new ArrayBuffer(kh.length));for(let x_=0;x_<kh.length;x_++)Ff[x_]=kh.charCodeAt(x_);return Ff.buffer},browserWorkerPolyFill=function(kh){return kh.on=kh.addEventListener,kh.off=kh.removeEventListener,kh},createObjectURL=function(kh){try{return URL.createObjectURL(new Blob([kh],{type:"application/javascript"}))}catch(Ff){const x_=new BlobBuilder;return x_.append(kh),URL.createObjectURL(x_.getBlob())}},factory=function(kh){return function(){const Ff=createObjectURL(kh),x_=browserWorkerPolyFill(new Worker(Ff));x_.objURL=Ff;const $P=x_.terminate;return x_.on=x_.addEventListener,x_.off=x_.removeEventListener,x_.terminate=function(){return URL.revokeObjectURL(Ff),$P.call(this)},x_}},transform=function(kh){return`var browserWorkerPolyFill = ${browserWorkerPolyFill.toString()};
browserWorkerPolyFill(self);
`+kh},getWorkerString=function(kh){return kh.toString().replace(/^function.+?{/,"").slice(0,-1)},workerCode$1=transform(getWorkerString(function(){var kh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Ff=function(){this.init=function(){var fme={};this.on=function(mme,yme){fme[mme]||(fme[mme]=[]),fme[mme]=fme[mme].concat(yme)},this.off=function(mme,yme){var gme;return fme[mme]?(gme=fme[mme].indexOf(yme),fme[mme]=fme[mme].slice(),fme[mme].splice(gme,1),gme>-1):!1},this.trigger=function(mme){var yme,gme,bme,xme;if(yme=fme[mme],!!yme)if(arguments.length===2)for(bme=yme.length,gme=0;gme<bme;++gme)yme[gme].call(this,arguments[1]);else{for(xme=[],gme=arguments.length,gme=1;gme<arguments.length;++gme)xme.push(arguments[gme]);for(bme=yme.length,gme=0;gme<bme;++gme)yme[gme].apply(this,xme)}},this.dispose=function(){fme={}}}};Ff.prototype.pipe=function(fme){return this.on("data",function(mme){fme.push(mme)}),this.on("done",function(mme){fme.flush(mme)}),this.on("partialdone",function(mme){fme.partialFlush(mme)}),this.on("endedtimeline",function(mme){fme.endTimeline(mme)}),this.on("reset",function(mme){fme.reset(mme)}),fme},Ff.prototype.push=function(fme){this.trigger("data",fme)},Ff.prototype.flush=function(fme){this.trigger("done",fme)},Ff.prototype.partialFlush=function(fme){this.trigger("partialdone",fme)},Ff.prototype.endTimeline=function(fme){this.trigger("endedtimeline",fme)},Ff.prototype.reset=function(fme){this.trigger("reset",fme)};var x_=Ff,$P=Math.pow(2,32),zP=function(fme){var mme=new DataView(fme.buffer,fme.byteOffset,fme.byteLength),yme;return mme.getBigUint64?(yme=mme.getBigUint64(0),yme<Number.MAX_SAFE_INTEGER?Number(yme):yme):mme.getUint32(0)*$P+mme.getUint32(4)},eme={getUint64:zP,MAX_UINT32:$P},tme=eme.MAX_UINT32,nme,rme,ime,ome,sme,ame,lme,ume,dme,pme,hme,cme,_me,vme,Eme,wme,Tme,Dme,Ame,Nme,Ume,jme,Fme,$me,Gme,Wme,Jme,r_e,o_e,i_e,Mme,Ome,Rme,zme,Zme,Qme;(function(){var fme;if(Fme={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(fme in Fme)Fme.hasOwnProperty(fme)&&(Fme[fme]=[fme.charCodeAt(0),fme.charCodeAt(1),fme.charCodeAt(2),fme.charCodeAt(3)]);$me=new Uint8Array([105,115,111,109]),Wme=new Uint8Array([97,118,99,49]),Gme=new Uint8Array([0,0,0,1]),Jme=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r_e=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),o_e={video:Jme,audio:r_e},Ome=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Mme=new Uint8Array([0,0,0,0,0,0,0,0]),Rme=new Uint8Array([0,0,0,0,0,0,0,0]),zme=Rme,Zme=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Qme=Rme,i_e=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),nme=function(fme){var mme=[],yme=0,gme,bme,xme;for(gme=1;gme<arguments.length;gme++)mme.push(arguments[gme]);for(gme=mme.length;gme--;)yme+=mme[gme].byteLength;for(bme=new Uint8Array(yme+8),xme=new DataView(bme.buffer,bme.byteOffset,bme.byteLength),xme.setUint32(0,bme.byteLength),bme.set(fme,4),gme=0,yme=8;gme<mme.length;gme++)bme.set(mme[gme],yme),yme+=mme[gme].byteLength;return bme},rme=function(){return nme(Fme.dinf,nme(Fme.dref,Ome))},ime=function(fme){return nme(Fme.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,fme.audioobjecttype<<3|fme.samplingfrequencyindex>>>1,fme.samplingfrequencyindex<<7|fme.channelcount<<3,6,1,2]))},ome=function(){return nme(Fme.ftyp,$me,Gme,$me,Wme)},wme=function(fme){return nme(Fme.hdlr,o_e[fme])},sme=function(fme){return nme(Fme.mdat,fme)},Eme=function(fme){var mme=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,fme.duration>>>24&255,fme.duration>>>16&255,fme.duration>>>8&255,fme.duration&255,85,196,0,0]);return fme.samplerate&&(mme[12]=fme.samplerate>>>24&255,mme[13]=fme.samplerate>>>16&255,mme[14]=fme.samplerate>>>8&255,mme[15]=fme.samplerate&255),nme(Fme.mdhd,mme)},vme=function(fme){return nme(Fme.mdia,Eme(fme),wme(fme.type),lme(fme))},ame=function(fme){return nme(Fme.mfhd,new Uint8Array([0,0,0,0,(fme&4278190080)>>24,(fme&16711680)>>16,(fme&65280)>>8,fme&255]))},lme=function(fme){return nme(Fme.minf,fme.type==="video"?nme(Fme.vmhd,i_e):nme(Fme.smhd,Mme),rme(),Dme(fme))},ume=function(fme,mme){for(var yme=[],gme=mme.length;gme--;)yme[gme]=Nme(mme[gme]);return nme.apply(null,[Fme.moof,ame(fme)].concat(yme))},dme=function(fme){for(var mme=fme.length,yme=[];mme--;)yme[mme]=cme(fme[mme]);return nme.apply(null,[Fme.moov,hme(4294967295)].concat(yme).concat(pme(fme)))},pme=function(fme){for(var mme=fme.length,yme=[];mme--;)yme[mme]=Ume(fme[mme]);return nme.apply(null,[Fme.mvex].concat(yme))},hme=function(fme){var mme=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(fme&4278190080)>>24,(fme&16711680)>>16,(fme&65280)>>8,fme&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return nme(Fme.mvhd,mme)},Tme=function(fme){var mme=fme.samples||[],yme=new Uint8Array(4+mme.length),gme,bme;for(bme=0;bme<mme.length;bme++)gme=mme[bme].flags,yme[bme+4]=gme.dependsOn<<4|gme.isDependedOn<<2|gme.hasRedundancy;return nme(Fme.sdtp,yme)},Dme=function(fme){return nme(Fme.stbl,Ame(fme),nme(Fme.stts,Qme),nme(Fme.stsc,zme),nme(Fme.stsz,Zme),nme(Fme.stco,Rme))},function(){var fme,mme;Ame=function(yme){return nme(Fme.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),yme.type==="video"?fme(yme):mme(yme))},fme=function(yme){var gme=yme.sps||[],bme=yme.pps||[],xme=[],Sme=[],Cme,kme;for(Cme=0;Cme<gme.length;Cme++)xme.push((gme[Cme].byteLength&65280)>>>8),xme.push(gme[Cme].byteLength&255),xme=xme.concat(Array.prototype.slice.call(gme[Cme]));for(Cme=0;Cme<bme.length;Cme++)Sme.push((bme[Cme].byteLength&65280)>>>8),Sme.push(bme[Cme].byteLength&255),Sme=Sme.concat(Array.prototype.slice.call(bme[Cme]));if(kme=[Fme.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(yme.width&65280)>>8,yme.width&255,(yme.height&65280)>>8,yme.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),nme(Fme.avcC,new Uint8Array([1,yme.profileIdc,yme.profileCompatibility,yme.levelIdc,255].concat([gme.length],xme,[bme.length],Sme))),nme(Fme.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],yme.sarRatio){var Pme=yme.sarRatio[0],Lme=yme.sarRatio[1];kme.push(nme(Fme.pasp,new Uint8Array([(Pme&4278190080)>>24,(Pme&16711680)>>16,(Pme&65280)>>8,Pme&255,(Lme&4278190080)>>24,(Lme&16711680)>>16,(Lme&65280)>>8,Lme&255])))}return nme.apply(null,kme)},mme=function(yme){return nme(Fme.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(yme.channelcount&65280)>>8,yme.channelcount&255,(yme.samplesize&65280)>>8,yme.samplesize&255,0,0,0,0,(yme.samplerate&65280)>>8,yme.samplerate&255,0,0]),ime(yme))}}(),_me=function(fme){var mme=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(fme.id&4278190080)>>24,(fme.id&16711680)>>16,(fme.id&65280)>>8,fme.id&255,0,0,0,0,(fme.duration&4278190080)>>24,(fme.duration&16711680)>>16,(fme.duration&65280)>>8,fme.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(fme.width&65280)>>8,fme.width&255,0,0,(fme.height&65280)>>8,fme.height&255,0,0]);return nme(Fme.tkhd,mme)},Nme=function(fme){var mme,yme,gme,bme,xme,Sme,Cme;return mme=nme(Fme.tfhd,new Uint8Array([0,0,0,58,(fme.id&4278190080)>>24,(fme.id&16711680)>>16,(fme.id&65280)>>8,fme.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Sme=Math.floor(fme.baseMediaDecodeTime/tme),Cme=Math.floor(fme.baseMediaDecodeTime%tme),yme=nme(Fme.tfdt,new Uint8Array([1,0,0,0,Sme>>>24&255,Sme>>>16&255,Sme>>>8&255,Sme&255,Cme>>>24&255,Cme>>>16&255,Cme>>>8&255,Cme&255])),xme=92,fme.type==="audio"?(gme=jme(fme,xme),nme(Fme.traf,mme,yme,gme)):(bme=Tme(fme),gme=jme(fme,bme.length+xme),nme(Fme.traf,mme,yme,gme,bme))},cme=function(fme){return fme.duration=fme.duration||4294967295,nme(Fme.trak,_me(fme),vme(fme))},Ume=function(fme){var mme=new Uint8Array([0,0,0,0,(fme.id&4278190080)>>24,(fme.id&16711680)>>16,(fme.id&65280)>>8,fme.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return fme.type!=="video"&&(mme[mme.length-1]=0),nme(Fme.trex,mme)},function(){var fme,mme,yme;yme=function(gme,bme){var xme=0,Sme=0,Cme=0,kme=0;return gme.length&&(gme[0].duration!==void 0&&(xme=1),gme[0].size!==void 0&&(Sme=2),gme[0].flags!==void 0&&(Cme=4),gme[0].compositionTimeOffset!==void 0&&(kme=8)),[0,0,xme|Sme|Cme|kme,1,(gme.length&4278190080)>>>24,(gme.length&16711680)>>>16,(gme.length&65280)>>>8,gme.length&255,(bme&4278190080)>>>24,(bme&16711680)>>>16,(bme&65280)>>>8,bme&255]},mme=function(gme,bme){var xme,Sme,Cme,kme,Pme,Lme;for(kme=gme.samples||[],bme+=20+16*kme.length,Cme=yme(kme,bme),Sme=new Uint8Array(Cme.length+kme.length*16),Sme.set(Cme),xme=Cme.length,Lme=0;Lme<kme.length;Lme++)Pme=kme[Lme],Sme[xme++]=(Pme.duration&4278190080)>>>24,Sme[xme++]=(Pme.duration&16711680)>>>16,Sme[xme++]=(Pme.duration&65280)>>>8,Sme[xme++]=Pme.duration&255,Sme[xme++]=(Pme.size&4278190080)>>>24,Sme[xme++]=(Pme.size&16711680)>>>16,Sme[xme++]=(Pme.size&65280)>>>8,Sme[xme++]=Pme.size&255,Sme[xme++]=Pme.flags.isLeading<<2|Pme.flags.dependsOn,Sme[xme++]=Pme.flags.isDependedOn<<6|Pme.flags.hasRedundancy<<4|Pme.flags.paddingValue<<1|Pme.flags.isNonSyncSample,Sme[xme++]=Pme.flags.degradationPriority&61440,Sme[xme++]=Pme.flags.degradationPriority&15,Sme[xme++]=(Pme.compositionTimeOffset&4278190080)>>>24,Sme[xme++]=(Pme.compositionTimeOffset&16711680)>>>16,Sme[xme++]=(Pme.compositionTimeOffset&65280)>>>8,Sme[xme++]=Pme.compositionTimeOffset&255;return nme(Fme.trun,Sme)},fme=function(gme,bme){var xme,Sme,Cme,kme,Pme,Lme;for(kme=gme.samples||[],bme+=20+8*kme.length,Cme=yme(kme,bme),xme=new Uint8Array(Cme.length+kme.length*8),xme.set(Cme),Sme=Cme.length,Lme=0;Lme<kme.length;Lme++)Pme=kme[Lme],xme[Sme++]=(Pme.duration&4278190080)>>>24,xme[Sme++]=(Pme.duration&16711680)>>>16,xme[Sme++]=(Pme.duration&65280)>>>8,xme[Sme++]=Pme.duration&255,xme[Sme++]=(Pme.size&4278190080)>>>24,xme[Sme++]=(Pme.size&16711680)>>>16,xme[Sme++]=(Pme.size&65280)>>>8,xme[Sme++]=Pme.size&255;return nme(Fme.trun,xme)},jme=function(gme,bme){return gme.type==="audio"?fme(gme,bme):mme(gme,bme)}}();var n_e={ftyp:ome,mdat:sme,moof:ume,moov:dme,initSegment:function(fme){var mme=ome(),yme=dme(fme),gme;return gme=new Uint8Array(mme.byteLength+yme.byteLength),gme.set(mme),gme.set(yme,mme.byteLength),gme}},c_e=function(fme){var mme,yme,gme=[],bme=[];for(bme.byteLength=0,bme.nalCount=0,bme.duration=0,gme.byteLength=0,mme=0;mme<fme.length;mme++)yme=fme[mme],yme.nalUnitType==="access_unit_delimiter_rbsp"?(gme.length&&(gme.duration=yme.dts-gme.dts,bme.byteLength+=gme.byteLength,bme.nalCount+=gme.length,bme.duration+=gme.duration,bme.push(gme)),gme=[yme],gme.byteLength=yme.data.byteLength,gme.pts=yme.pts,gme.dts=yme.dts):(yme.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(gme.keyFrame=!0),gme.duration=yme.dts-gme.dts,gme.byteLength+=yme.data.byteLength,gme.push(yme));return bme.length&&(!gme.duration||gme.duration<=0)&&(gme.duration=bme[bme.length-1].duration),bme.byteLength+=gme.byteLength,bme.nalCount+=gme.length,bme.duration+=gme.duration,bme.push(gme),bme},f_e=function(fme){var mme,yme,gme=[],bme=[];for(gme.byteLength=0,gme.nalCount=0,gme.duration=0,gme.pts=fme[0].pts,gme.dts=fme[0].dts,bme.byteLength=0,bme.nalCount=0,bme.duration=0,bme.pts=fme[0].pts,bme.dts=fme[0].dts,mme=0;mme<fme.length;mme++)yme=fme[mme],yme.keyFrame?(gme.length&&(bme.push(gme),bme.byteLength+=gme.byteLength,bme.nalCount+=gme.nalCount,bme.duration+=gme.duration),gme=[yme],gme.nalCount=yme.length,gme.byteLength=yme.byteLength,gme.pts=yme.pts,gme.dts=yme.dts,gme.duration=yme.duration):(gme.duration+=yme.duration,gme.nalCount+=yme.length,gme.byteLength+=yme.byteLength,gme.push(yme));return bme.length&&gme.duration<=0&&(gme.duration=bme[bme.length-1].duration),bme.byteLength+=gme.byteLength,bme.nalCount+=gme.nalCount,bme.duration+=gme.duration,bme.push(gme),bme},h_e=function(fme){var mme;return!fme[0][0].keyFrame&&fme.length>1&&(mme=fme.shift(),fme.byteLength-=mme.byteLength,fme.nalCount-=mme.nalCount,fme[0][0].dts=mme.dts,fme[0][0].pts=mme.pts,fme[0][0].duration+=mme.duration),fme},Xme=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},x_e=function(fme,mme){var yme=Xme();return yme.dataOffset=mme,yme.compositionTimeOffset=fme.pts-fme.dts,yme.duration=fme.duration,yme.size=4*fme.length,yme.size+=fme.byteLength,fme.keyFrame&&(yme.flags.dependsOn=2,yme.flags.isNonSyncSample=0),yme},g_e=function(fme,mme){var yme,gme,bme,xme,Sme,Cme=mme||0,kme=[];for(yme=0;yme<fme.length;yme++)for(xme=fme[yme],gme=0;gme<xme.length;gme++)Sme=xme[gme],bme=x_e(Sme,Cme),Cme+=bme.size,kme.push(bme);return kme},u_e=function(fme){var mme,yme,gme,bme,xme,Sme,Cme=0,kme=fme.byteLength,Pme=fme.nalCount,Lme=kme+4*Pme,Kme=new Uint8Array(Lme),s_e=new DataView(Kme.buffer);for(mme=0;mme<fme.length;mme++)for(bme=fme[mme],yme=0;yme<bme.length;yme++)for(xme=bme[yme],gme=0;gme<xme.length;gme++)Sme=xme[gme],s_e.setUint32(Cme,Sme.data.byteLength),Cme+=4,Kme.set(Sme.data,Cme),Cme+=Sme.data.byteLength;return Kme},__e=function(fme,mme){var yme,gme=mme||0,bme=[];return yme=x_e(fme,gme),bme.push(yme),bme},F_e=function(fme){var mme,yme,gme=0,bme=fme.byteLength,xme=fme.length,Sme=bme+4*xme,Cme=new Uint8Array(Sme),kme=new DataView(Cme.buffer);for(mme=0;mme<fme.length;mme++)yme=fme[mme],kme.setUint32(gme,yme.data.byteLength),gme+=4,Cme.set(yme.data,gme),gme+=yme.data.byteLength;return Cme},k_e={groupNalsIntoFrames:c_e,groupFramesIntoGops:f_e,extendFirstKeyFrame:h_e,generateSampleTable:g_e,concatenateNalData:u_e,generateSampleTableForFrame:__e,concatenateNalDataForFrame:F_e},C_e=[33,16,5,32,164,27],B_e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],y_e=function(fme){for(var mme=[];fme--;)mme.push(0);return mme},A_e=function(fme){return Object.keys(fme).reduce(function(mme,yme){return mme[yme]=new Uint8Array(fme[yme].reduce(function(gme,bme){return gme.concat(bme)},[])),mme},{})},X_e,d0e=function(){if(!X_e){var fme={96e3:[C_e,[227,64],y_e(154),[56]],88200:[C_e,[231],y_e(170),[56]],64e3:[C_e,[248,192],y_e(240),[56]],48e3:[C_e,[255,192],y_e(268),[55,148,128],y_e(54),[112]],44100:[C_e,[255,192],y_e(268),[55,163,128],y_e(84),[112]],32e3:[C_e,[255,192],y_e(268),[55,234],y_e(226),[112]],24e3:[C_e,[255,192],y_e(268),[55,255,128],y_e(268),[111,112],y_e(126),[224]],16e3:[C_e,[255,192],y_e(268),[55,255,128],y_e(268),[111,255],y_e(269),[223,108],y_e(195),[1,192]],12e3:[B_e,y_e(268),[3,127,248],y_e(268),[6,255,240],y_e(268),[13,255,224],y_e(268),[27,253,128],y_e(259),[56]],11025:[B_e,y_e(268),[3,127,248],y_e(268),[6,255,240],y_e(268),[13,255,224],y_e(268),[27,255,192],y_e(268),[55,175,128],y_e(108),[112]],8e3:[B_e,y_e(268),[3,121,16],y_e(47),[7]]};X_e=A_e(fme)}return X_e},s0e=9e4,O0e,E0e,e0e,a0e,y0e,V_e,z_e;O0e=function(fme){return fme*s0e},E0e=function(fme,mme){return fme*mme},e0e=function(fme){return fme/s0e},a0e=function(fme,mme){return fme/mme},y0e=function(fme,mme){return O0e(a0e(fme,mme))},V_e=function(fme,mme){return E0e(e0e(fme),mme)},z_e=function(fme,mme,yme){return e0e(yme?fme:fme-mme)};var w_e={ONE_SECOND_IN_TS:s0e,secondsToVideoTs:O0e,secondsToAudioTs:E0e,videoTsToSeconds:e0e,audioTsToSeconds:a0e,audioTsToVideoTs:y0e,videoTsToAudioTs:V_e,metadataTsToSeconds:z_e},J_e=d0e,U_e=w_e,l0e=function(fme){var mme,yme,gme=0;for(mme=0;mme<fme.length;mme++)yme=fme[mme],gme+=yme.data.byteLength;return gme},V0e=function(fme,mme,yme,gme){var bme,xme=0,Sme=0,Cme=0,kme=0,Pme,Lme,Kme;if(mme.length&&(bme=U_e.audioTsToVideoTs(fme.baseMediaDecodeTime,fme.samplerate),xme=Math.ceil(U_e.ONE_SECOND_IN_TS/(fme.samplerate/1024)),yme&&gme&&(Sme=bme-Math.max(yme,gme),Cme=Math.floor(Sme/xme),kme=Cme*xme),!(Cme<1||kme>U_e.ONE_SECOND_IN_TS/2))){for(Pme=J_e()[fme.samplerate],Pme||(Pme=mme[0].data),Lme=0;Lme<Cme;Lme++)Kme=mme[0],mme.splice(0,0,{data:Pme,dts:Kme.dts-xme,pts:Kme.pts-xme});return fme.baseMediaDecodeTime-=Math.floor(U_e.videoTsToAudioTs(kme,fme.samplerate)),kme}},k0e=function(fme,mme,yme){return mme.minSegmentDts>=yme?fme:(mme.minSegmentDts=1/0,fme.filter(function(gme){return gme.dts>=yme?(mme.minSegmentDts=Math.min(mme.minSegmentDts,gme.dts),mme.minSegmentPts=mme.minSegmentDts,!0):!1}))},x0e=function(fme){var mme,yme,gme=[];for(mme=0;mme<fme.length;mme++)yme=fme[mme],gme.push({size:yme.data.byteLength,duration:1024});return gme},$0e=function(fme){var mme,yme,gme=0,bme=new Uint8Array(l0e(fme));for(mme=0;mme<fme.length;mme++)yme=fme[mme],bme.set(yme.data,gme),gme+=yme.data.byteLength;return bme},R0e={prefixWithSilence:V0e,trimAdtsFramesByEarliestDts:k0e,generateSampleTable:x0e,concatenateFrameData:$0e},q0e=w_e.ONE_SECOND_IN_TS,f0e=function(fme,mme){typeof mme.pts=="number"&&(fme.timelineStartInfo.pts===void 0&&(fme.timelineStartInfo.pts=mme.pts),fme.minSegmentPts===void 0?fme.minSegmentPts=mme.pts:fme.minSegmentPts=Math.min(fme.minSegmentPts,mme.pts),fme.maxSegmentPts===void 0?fme.maxSegmentPts=mme.pts:fme.maxSegmentPts=Math.max(fme.maxSegmentPts,mme.pts)),typeof mme.dts=="number"&&(fme.timelineStartInfo.dts===void 0&&(fme.timelineStartInfo.dts=mme.dts),fme.minSegmentDts===void 0?fme.minSegmentDts=mme.dts:fme.minSegmentDts=Math.min(fme.minSegmentDts,mme.dts),fme.maxSegmentDts===void 0?fme.maxSegmentDts=mme.dts:fme.maxSegmentDts=Math.max(fme.maxSegmentDts,mme.dts))},u0e=function(fme){delete fme.minSegmentDts,delete fme.maxSegmentDts,delete fme.minSegmentPts,delete fme.maxSegmentPts},w0e=function(fme,mme){var yme,gme,bme=fme.minSegmentDts;return mme||(bme-=fme.timelineStartInfo.dts),yme=fme.timelineStartInfo.baseMediaDecodeTime,yme+=bme,yme=Math.max(0,yme),fme.type==="audio"&&(gme=fme.samplerate/q0e,yme*=gme,yme=Math.floor(yme)),yme},p0e={clearDtsInfo:u0e,calculateTrackBaseMediaDecodeTime:w0e,collectDtsInfo:f0e},T0e=4,sye=128,n0e=function(fme){for(var mme=0,yme={payloadType:-1,payloadSize:0},gme=0,bme=0;mme<fme.byteLength&&fme[mme]!==sye;){for(;fme[mme]===255;)gme+=255,mme++;for(gme+=fme[mme++];fme[mme]===255;)bme+=255,mme++;if(bme+=fme[mme++],!yme.payload&&gme===T0e){var xme=String.fromCharCode(fme[mme+3],fme[mme+4],fme[mme+5],fme[mme+6]);if(xme==="GA94"){yme.payloadType=gme,yme.payloadSize=bme,yme.payload=fme.subarray(mme,mme+bme);break}else yme.payload=void 0}mme+=bme,gme=0,bme=0}return yme},z0e=function(fme){return fme.payload[0]!==181||(fme.payload[1]<<8|fme.payload[2])!==49||String.fromCharCode(fme.payload[3],fme.payload[4],fme.payload[5],fme.payload[6])!=="GA94"||fme.payload[7]!==3?null:fme.payload.subarray(8,fme.payload.length-1)},S0e=function(fme,mme){var yme=[],gme,bme,xme,Sme;if(!(mme[0]&64))return yme;for(bme=mme[0]&31,gme=0;gme<bme;gme++)xme=gme*3,Sme={type:mme[xme+2]&3,pts:fme},mme[xme+2]&4&&(Sme.ccData=mme[xme+3]<<8|mme[xme+4],yme.push(Sme));return yme},W0e=function(fme){for(var mme=fme.byteLength,yme=[],gme=1,bme,xme;gme<mme-2;)fme[gme]===0&&fme[gme+1]===0&&fme[gme+2]===3?(yme.push(gme+2),gme+=2):gme++;if(yme.length===0)return fme;bme=mme-yme.length,xme=new Uint8Array(bme);var Sme=0;for(gme=0;gme<bme;Sme++,gme++)Sme===yme[0]&&(Sme++,yme.shift()),xme[gme]=fme[Sme];return xme},G0e={parseSei:n0e,parseUserData:z0e,parseCaptionPackets:S0e,discardEmulationPreventionBytes:W0e,USER_DATA_REGISTERED_ITU_T_T35:T0e},h0e=x_,r0e=G0e,H_e=function(fme){fme=fme||{},H_e.prototype.init.call(this),this.parse708captions_=typeof fme.parse708captions=="boolean"?fme.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Ime(0,0),new Ime(0,1),new Ime(1,0),new Ime(1,1)],this.parse708captions_&&(this.cc708Stream_=new Bme({captionServices:fme.captionServices})),this.reset(),this.ccStreams_.forEach(function(mme){mme.on("data",this.trigger.bind(this,"data")),mme.on("partialdone",this.trigger.bind(this,"partialdone")),mme.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};H_e.prototype=new h0e,H_e.prototype.push=function(fme){var mme,yme,gme;if(fme.nalUnitType==="sei_rbsp"&&(mme=r0e.parseSei(fme.escapedRBSP),!!mme.payload&&mme.payloadType===r0e.USER_DATA_REGISTERED_ITU_T_T35&&(yme=r0e.parseUserData(mme),!!yme))){if(fme.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(fme.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}gme=r0e.parseCaptionPackets(fme.pts,yme),this.captionPackets_=this.captionPackets_.concat(gme),this.latestDts_!==fme.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=fme.dts}},H_e.prototype.flushCCStreams=function(fme){this.ccStreams_.forEach(function(mme){return fme==="flush"?mme.flush():mme.partialFlush()},this)},H_e.prototype.flushStream=function(fme){if(!this.captionPackets_.length){this.flushCCStreams(fme);return}this.captionPackets_.forEach(function(mme,yme){mme.presortIndex=yme}),this.captionPackets_.sort(function(mme,yme){return mme.pts===yme.pts?mme.presortIndex-yme.presortIndex:mme.pts-yme.pts}),this.captionPackets_.forEach(function(mme){mme.type<2?this.dispatchCea608Packet(mme):this.dispatchCea708Packet(mme)},this),this.captionPackets_.length=0,this.flushCCStreams(fme)},H_e.prototype.flush=function(){return this.flushStream("flush")},H_e.prototype.partialFlush=function(){return this.flushStream("partialFlush")},H_e.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(fme){fme.reset()})},H_e.prototype.dispatchCea608Packet=function(fme){this.setsTextOrXDSActive(fme)?this.activeCea608Channel_[fme.type]=null:this.setsChannel1Active(fme)?this.activeCea608Channel_[fme.type]=0:this.setsChannel2Active(fme)&&(this.activeCea608Channel_[fme.type]=1),this.activeCea608Channel_[fme.type]!==null&&this.ccStreams_[(fme.type<<1)+this.activeCea608Channel_[fme.type]].push(fme)},H_e.prototype.setsChannel1Active=function(fme){return(fme.ccData&30720)===4096},H_e.prototype.setsChannel2Active=function(fme){return(fme.ccData&30720)===6144},H_e.prototype.setsTextOrXDSActive=function(fme){return(fme.ccData&28928)===256||(fme.ccData&30974)===4138||(fme.ccData&30974)===6186},H_e.prototype.dispatchCea708Packet=function(fme){this.parse708captions_&&this.cc708Stream_.push(fme)};var v0e={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},lye=function(fme){var mme=v0e[fme]||fme;return fme&4096&&fme===mme?"":String.fromCharCode(mme)},m0e=function(fme){return 32<=fme&&fme<=127||160<=fme&&fme<=255},K_e=function(fme){this.windowNum=fme,this.reset()};K_e.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},K_e.prototype.getText=function(){return this.rows.join(`
`)},K_e.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},K_e.prototype.newLine=function(fme){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(fme),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},K_e.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},K_e.prototype.addText=function(fme){this.rows[this.rowIdx]+=fme},K_e.prototype.backspace=function(){if(!this.isEmpty()){var fme=this.rows[this.rowIdx];this.rows[this.rowIdx]=fme.substr(0,fme.length-1)}};var L0e=function(fme,mme,yme){this.serviceNum=fme,this.text="",this.currentWindow=new K_e(-1),this.windows=[],this.stream=yme,typeof mme=="string"&&this.createTextDecoder(mme)};L0e.prototype.init=function(fme,mme){this.startPts=fme;for(var yme=0;yme<8;yme++)this.windows[yme]=new K_e(yme),typeof mme=="function"&&(this.windows[yme].beforeRowOverflow=mme)},L0e.prototype.setCurrentWindow=function(fme){this.currentWindow=this.windows[fme]},L0e.prototype.createTextDecoder=function(fme){if(typeof TextDecoder=="undefined")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(fme)}catch(mme){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+fme+" encoding. "+mme})}};var Bme=function(fme){fme=fme||{},Bme.prototype.init.call(this);var mme=this,yme=fme.captionServices||{},gme={},bme;Object.keys(yme).forEach(xme=>{bme=yme[xme],/^SERVICE/.test(xme)&&(gme[xme]=bme.encoding)}),this.serviceEncodings=gme,this.current708Packet=null,this.services={},this.push=function(xme){xme.type===3?(mme.new708Packet(),mme.add708Bytes(xme)):(mme.current708Packet===null&&mme.new708Packet(),mme.add708Bytes(xme))}};Bme.prototype=new h0e,Bme.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Bme.prototype.add708Bytes=function(fme){var mme=fme.ccData,yme=mme>>>8,gme=mme&255;this.current708Packet.ptsVals.push(fme.pts),this.current708Packet.data.push(yme),this.current708Packet.data.push(gme)},Bme.prototype.push708Packet=function(){var fme=this.current708Packet,mme=fme.data,yme=null,gme=null,bme=0,xme=mme[bme++];for(fme.seq=xme>>6,fme.sizeCode=xme&63;bme<mme.length;bme++)xme=mme[bme++],yme=xme>>5,gme=xme&31,yme===7&&gme>0&&(xme=mme[bme++],yme=xme),this.pushServiceBlock(yme,bme,gme),gme>0&&(bme+=gme-1)},Bme.prototype.pushServiceBlock=function(fme,mme,yme){var gme,bme=mme,xme=this.current708Packet.data,Sme=this.services[fme];for(Sme||(Sme=this.initService(fme,bme));bme<mme+yme&&bme<xme.length;bme++)gme=xme[bme],m0e(gme)?bme=this.handleText(bme,Sme):gme===24?bme=this.multiByteCharacter(bme,Sme):gme===16?bme=this.extendedCommands(bme,Sme):128<=gme&&gme<=135?bme=this.setCurrentWindow(bme,Sme):152<=gme&&gme<=159?bme=this.defineWindow(bme,Sme):gme===136?bme=this.clearWindows(bme,Sme):gme===140?bme=this.deleteWindows(bme,Sme):gme===137?bme=this.displayWindows(bme,Sme):gme===138?bme=this.hideWindows(bme,Sme):gme===139?bme=this.toggleWindows(bme,Sme):gme===151?bme=this.setWindowAttributes(bme,Sme):gme===144?bme=this.setPenAttributes(bme,Sme):gme===145?bme=this.setPenColor(bme,Sme):gme===146?bme=this.setPenLocation(bme,Sme):gme===143?Sme=this.reset(bme,Sme):gme===8?Sme.currentWindow.backspace():gme===12?Sme.currentWindow.clearText():gme===13?Sme.currentWindow.pendingNewLine=!0:gme===14?Sme.currentWindow.clearText():gme===141&&bme++},Bme.prototype.extendedCommands=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme];return m0e(gme)&&(fme=this.handleText(fme,mme,{isExtended:!0})),fme},Bme.prototype.getPts=function(fme){return this.current708Packet.ptsVals[Math.floor(fme/2)]},Bme.prototype.initService=function(fme,mme){var gme="SERVICE"+fme,yme=this,gme,bme;return gme in this.serviceEncodings&&(bme=this.serviceEncodings[gme]),this.services[fme]=new L0e(fme,bme,yme),this.services[fme].init(this.getPts(mme),function(xme){yme.flushDisplayed(xme,yme.services[fme])}),this.services[fme]},Bme.prototype.handleText=function(fme,mme,yme){var gme=yme&&yme.isExtended,bme=yme&&yme.isMultiByte,xme=this.current708Packet.data,Sme=gme?4096:0,Cme=xme[fme],kme=xme[fme+1],Pme=mme.currentWindow,Lme,Kme;function s_e(Yme){return Yme.map(p_e=>("0"+(p_e&255).toString(16)).slice(-2)).join("")}if(bme?(Kme=[Cme,kme],fme++):Kme=[Cme],mme.textDecoder_&&!gme)Lme=mme.textDecoder_.decode(new Uint8Array(Kme));else if(bme){const Yme=s_e(Kme);Lme=String.fromCharCode(parseInt(Yme,16))}else Lme=lye(Sme|Cme);return Pme.pendingNewLine&&!Pme.isEmpty()&&Pme.newLine(this.getPts(fme)),Pme.pendingNewLine=!1,Pme.addText(Lme),fme},Bme.prototype.multiByteCharacter=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme+1],bme=yme[fme+2];return m0e(gme)&&m0e(bme)&&(fme=this.handleText(++fme,mme,{isMultiByte:!0})),fme},Bme.prototype.setCurrentWindow=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=gme&7;return mme.setCurrentWindow(bme),fme},Bme.prototype.defineWindow=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=gme&7;mme.setCurrentWindow(bme);var xme=mme.currentWindow;return gme=yme[++fme],xme.visible=(gme&32)>>5,xme.rowLock=(gme&16)>>4,xme.columnLock=(gme&8)>>3,xme.priority=gme&7,gme=yme[++fme],xme.relativePositioning=(gme&128)>>7,xme.anchorVertical=gme&127,gme=yme[++fme],xme.anchorHorizontal=gme,gme=yme[++fme],xme.anchorPoint=(gme&240)>>4,xme.rowCount=gme&15,gme=yme[++fme],xme.columnCount=gme&63,gme=yme[++fme],xme.windowStyle=(gme&56)>>3,xme.penStyle=gme&7,xme.virtualRowCount=xme.rowCount+1,fme},Bme.prototype.setWindowAttributes=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=mme.currentWindow.winAttr;return gme=yme[++fme],bme.fillOpacity=(gme&192)>>6,bme.fillRed=(gme&48)>>4,bme.fillGreen=(gme&12)>>2,bme.fillBlue=gme&3,gme=yme[++fme],bme.borderType=(gme&192)>>6,bme.borderRed=(gme&48)>>4,bme.borderGreen=(gme&12)>>2,bme.borderBlue=gme&3,gme=yme[++fme],bme.borderType+=(gme&128)>>5,bme.wordWrap=(gme&64)>>6,bme.printDirection=(gme&48)>>4,bme.scrollDirection=(gme&12)>>2,bme.justify=gme&3,gme=yme[++fme],bme.effectSpeed=(gme&240)>>4,bme.effectDirection=(gme&12)>>2,bme.displayEffect=gme&3,fme},Bme.prototype.flushDisplayed=function(fme,mme){for(var yme=[],gme=0;gme<8;gme++)mme.windows[gme].visible&&!mme.windows[gme].isEmpty()&&yme.push(mme.windows[gme].getText());mme.endPts=fme,mme.text=yme.join(`

`),this.pushCaption(mme),mme.startPts=fme},Bme.prototype.pushCaption=function(fme){fme.text!==""&&(this.trigger("data",{startPts:fme.startPts,endPts:fme.endPts,text:fme.text,stream:"cc708_"+fme.serviceNum}),fme.text="",fme.startPts=fme.endPts)},Bme.prototype.displayWindows=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme],bme=this.getPts(fme);this.flushDisplayed(bme,mme);for(var xme=0;xme<8;xme++)gme&1<<xme&&(mme.windows[xme].visible=1);return fme},Bme.prototype.hideWindows=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme],bme=this.getPts(fme);this.flushDisplayed(bme,mme);for(var xme=0;xme<8;xme++)gme&1<<xme&&(mme.windows[xme].visible=0);return fme},Bme.prototype.toggleWindows=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme],bme=this.getPts(fme);this.flushDisplayed(bme,mme);for(var xme=0;xme<8;xme++)gme&1<<xme&&(mme.windows[xme].visible^=1);return fme},Bme.prototype.clearWindows=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme],bme=this.getPts(fme);this.flushDisplayed(bme,mme);for(var xme=0;xme<8;xme++)gme&1<<xme&&mme.windows[xme].clearText();return fme},Bme.prototype.deleteWindows=function(fme,mme){var yme=this.current708Packet.data,gme=yme[++fme],bme=this.getPts(fme);this.flushDisplayed(bme,mme);for(var xme=0;xme<8;xme++)gme&1<<xme&&mme.windows[xme].reset();return fme},Bme.prototype.setPenAttributes=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=mme.currentWindow.penAttr;return gme=yme[++fme],bme.textTag=(gme&240)>>4,bme.offset=(gme&12)>>2,bme.penSize=gme&3,gme=yme[++fme],bme.italics=(gme&128)>>7,bme.underline=(gme&64)>>6,bme.edgeType=(gme&56)>>3,bme.fontStyle=gme&7,fme},Bme.prototype.setPenColor=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=mme.currentWindow.penColor;return gme=yme[++fme],bme.fgOpacity=(gme&192)>>6,bme.fgRed=(gme&48)>>4,bme.fgGreen=(gme&12)>>2,bme.fgBlue=gme&3,gme=yme[++fme],bme.bgOpacity=(gme&192)>>6,bme.bgRed=(gme&48)>>4,bme.bgGreen=(gme&12)>>2,bme.bgBlue=gme&3,gme=yme[++fme],bme.edgeRed=(gme&48)>>4,bme.edgeGreen=(gme&12)>>2,bme.edgeBlue=gme&3,fme},Bme.prototype.setPenLocation=function(fme,mme){var yme=this.current708Packet.data,gme=yme[fme],bme=mme.currentWindow.penLoc;return mme.currentWindow.pendingNewLine=!0,gme=yme[++fme],bme.row=gme&15,gme=yme[++fme],bme.column=gme&63,fme},Bme.prototype.reset=function(fme,mme){var yme=this.getPts(fme);return this.flushDisplayed(yme,mme),this.initService(mme.serviceNum,fme)};var Hme={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},e_e=function(fme){return fme===null?"":(fme=Hme[fme]||fme,String.fromCharCode(fme))},l_e=14,I_e=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],m_e=function(){for(var fme=[],mme=l_e+1;mme--;)fme.push({text:"",indent:0,offset:0});return fme},Ime=function(fme,mme){Ime.prototype.init.call(this),this.field_=fme||0,this.dataChannel_=mme||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(yme){var gme,bme,xme,Sme,Cme;if(gme=yme.ccData&32639,gme===this.lastControlCode_){this.lastControlCode_=null;return}if((gme&61440)===4096?this.lastControlCode_=gme:gme!==this.PADDING_&&(this.lastControlCode_=null),xme=gme>>>8,Sme=gme&255,gme!==this.PADDING_)if(gme===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(gme===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(yme.pts),this.flushDisplayed(yme.pts),bme=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=bme,this.startPts_=yme.pts;else if(gme===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(yme.pts);else if(gme===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(yme.pts);else if(gme===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(yme.pts);else if(gme===this.CARRIAGE_RETURN_)this.clearFormatting(yme.pts),this.flushDisplayed(yme.pts),this.shiftRowsUp_(),this.startPts_=yme.pts;else if(gme===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(gme===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(yme.pts),this.displayed_=m_e();else if(gme===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=m_e();else if(gme===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(yme.pts),this.displayed_=m_e()),this.mode_="paintOn",this.startPts_=yme.pts;else if(this.isSpecialCharacter(xme,Sme))xme=(xme&3)<<8,Cme=e_e(xme|Sme),this[this.mode_](yme.pts,Cme),this.column_++;else if(this.isExtCharacter(xme,Sme))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),xme=(xme&3)<<8,Cme=e_e(xme|Sme),this[this.mode_](yme.pts,Cme),this.column_++;else if(this.isMidRowCode(xme,Sme))this.clearFormatting(yme.pts),this[this.mode_](yme.pts," "),this.column_++,(Sme&14)===14&&this.addFormatting(yme.pts,["i"]),(Sme&1)===1&&this.addFormatting(yme.pts,["u"]);else if(this.isOffsetControlCode(xme,Sme)){const Pme=Sme&3;this.nonDisplayed_[this.row_].offset=Pme,this.column_+=Pme}else if(this.isPAC(xme,Sme)){var kme=I_e.indexOf(gme&7968);if(this.mode_==="rollUp"&&(kme-this.rollUpRows_+1<0&&(kme=this.rollUpRows_-1),this.setRollUp(yme.pts,kme)),kme!==this.row_&&(this.clearFormatting(yme.pts),this.row_=kme),Sme&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(yme.pts,["u"]),(gme&16)===16){const Pme=(gme&14)>>1;this.column_=Pme*4,this.nonDisplayed_[this.row_].indent+=Pme}this.isColorPAC(Sme)&&(Sme&14)===14&&this.addFormatting(yme.pts,["i"])}else this.isNormalChar(xme)&&(Sme===0&&(Sme=null),Cme=e_e(xme),Cme+=e_e(Sme),this[this.mode_](yme.pts,Cme),this.column_+=Cme.length)}};Ime.prototype=new h0e,Ime.prototype.flushDisplayed=function(fme){const mme=gme=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+gme+"."})},yme=[];this.displayed_.forEach((gme,bme)=>{if(gme&&gme.text&&gme.text.length){try{gme.text=gme.text.trim()}catch(xme){mme(bme)}gme.text.length&&yme.push({text:gme.text,line:bme+1,position:10+Math.min(70,gme.indent*10)+gme.offset*2.5})}else gme==null&&mme(bme)}),yme.length&&this.trigger("data",{startPts:this.startPts_,endPts:fme,content:yme,stream:this.name_})},Ime.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=m_e(),this.nonDisplayed_=m_e(),this.lastControlCode_=null,this.column_=0,this.row_=l_e,this.rollUpRows_=2,this.formatting_=[]},Ime.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Ime.prototype.isSpecialCharacter=function(fme,mme){return fme===this.EXT_&&mme>=48&&mme<=63},Ime.prototype.isExtCharacter=function(fme,mme){return(fme===this.EXT_+1||fme===this.EXT_+2)&&mme>=32&&mme<=63},Ime.prototype.isMidRowCode=function(fme,mme){return fme===this.EXT_&&mme>=32&&mme<=47},Ime.prototype.isOffsetControlCode=function(fme,mme){return fme===this.OFFSET_&&mme>=33&&mme<=35},Ime.prototype.isPAC=function(fme,mme){return fme>=this.BASE_&&fme<this.BASE_+8&&mme>=64&&mme<=127},Ime.prototype.isColorPAC=function(fme){return fme>=64&&fme<=79||fme>=96&&fme<=127},Ime.prototype.isNormalChar=function(fme){return fme>=32&&fme<=127},Ime.prototype.setRollUp=function(fme,mme){if(this.mode_!=="rollUp"&&(this.row_=l_e,this.mode_="rollUp",this.flushDisplayed(fme),this.nonDisplayed_=m_e(),this.displayed_=m_e()),mme!==void 0&&mme!==this.row_)for(var yme=0;yme<this.rollUpRows_;yme++)this.displayed_[mme-yme]=this.displayed_[this.row_-yme],this.displayed_[this.row_-yme]={text:"",indent:0,offset:0};mme===void 0&&(mme=this.row_),this.topRow_=mme-this.rollUpRows_+1},Ime.prototype.addFormatting=function(fme,mme){this.formatting_=this.formatting_.concat(mme);var yme=mme.reduce(function(gme,bme){return gme+"<"+bme+">"},"");this[this.mode_](fme,yme)},Ime.prototype.clearFormatting=function(fme){if(this.formatting_.length){var mme=this.formatting_.reverse().reduce(function(yme,gme){return yme+"</"+gme+">"},"");this.formatting_=[],this[this.mode_](fme,mme)}},Ime.prototype.popOn=function(fme,mme){var yme=this.nonDisplayed_[this.row_].text;yme+=mme,this.nonDisplayed_[this.row_].text=yme},Ime.prototype.rollUp=function(fme,mme){var yme=this.displayed_[this.row_].text;yme+=mme,this.displayed_[this.row_].text=yme},Ime.prototype.shiftRowsUp_=function(){var fme;for(fme=0;fme<this.topRow_;fme++)this.displayed_[fme]={text:"",indent:0,offset:0};for(fme=this.row_+1;fme<l_e+1;fme++)this.displayed_[fme]={text:"",indent:0,offset:0};for(fme=this.topRow_;fme<this.row_;fme++)this.displayed_[fme]=this.displayed_[fme+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ime.prototype.paintOn=function(fme,mme){var yme=this.displayed_[this.row_].text;yme+=mme,this.displayed_[this.row_].text=yme};var Vme={CaptionStream:H_e,Cea608Stream:Ime,Cea708Stream:Bme},t_e={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},a_e=x_,D_e=8589934592,L_e=4294967296,M_e="shared",O_e=function(fme,mme){var yme=1;for(fme>mme&&(yme=-1);Math.abs(mme-fme)>L_e;)fme+=yme*D_e;return fme},$_e=function(fme){var mme,yme;$_e.prototype.init.call(this),this.type_=fme||M_e,this.push=function(gme){this.type_!==M_e&&gme.type!==this.type_||(yme===void 0&&(yme=gme.dts),gme.dts=O_e(gme.dts,yme),gme.pts=O_e(gme.pts,yme),mme=gme.dts,this.trigger("data",gme))},this.flush=function(){yme=mme,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){yme=void 0,mme=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};$_e.prototype=new a_e;var G_e={TimestampRolloverStream:$_e,handleRollover:O_e},N0e=(fme,mme,yme)=>{if(!fme)return-1;for(var gme=yme;gme<fme.length;gme++)if(fme[gme]===mme)return gme;return-1},D0e={typedArrayIndexOf:N0e},g0e=D0e.typedArrayIndexOf,d_e={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},P_e=function(fme,mme,yme){var gme,bme="";for(gme=mme;gme<yme;gme++)bme+="%"+("00"+fme[gme].toString(16)).slice(-2);return bme},N_e=function(fme,mme,yme){return decodeURIComponent(P_e(fme,mme,yme))},E_e=function(fme,mme,yme){return unescape(P_e(fme,mme,yme))},T_e=function(fme){return fme[0]<<21|fme[1]<<14|fme[2]<<7|fme[3]},S_e={APIC:function(fme){var mme=1,yme,gme,bme="-->";fme.data[0]===d_e.Utf8&&(yme=g0e(fme.data,0,mme),!(yme<0)&&(fme.mimeType=E_e(fme.data,mme,yme),mme=yme+1,fme.pictureType=fme.data[mme],mme++,gme=g0e(fme.data,0,mme),!(gme<0)&&(fme.description=N_e(fme.data,mme,gme),mme=gme+1,fme.mimeType===bme?fme.url=E_e(fme.data,mme,fme.data.length):fme.pictureData=fme.data.subarray(mme,fme.data.length))))},"T*":function(fme){fme.data[0]===d_e.Utf8&&(fme.value=N_e(fme.data,1,fme.data.length).replace(/\0*$/,""),fme.values=fme.value.split("\0"))},TXXX:function(fme){var mme;fme.data[0]===d_e.Utf8&&(mme=g0e(fme.data,0,1),mme!==-1&&(fme.description=N_e(fme.data,1,mme),fme.value=N_e(fme.data,mme+1,fme.data.length).replace(/\0*$/,""),fme.data=fme.value))},"W*":function(fme){fme.url=E_e(fme.data,0,fme.data.length).replace(/\0.*$/,"")},WXXX:function(fme){var mme;fme.data[0]===d_e.Utf8&&(mme=g0e(fme.data,0,1),mme!==-1&&(fme.description=N_e(fme.data,1,mme),fme.url=E_e(fme.data,mme+1,fme.data.length).replace(/\0.*$/,"")))},PRIV:function(fme){var mme;for(mme=0;mme<fme.data.length;mme++)if(fme.data[mme]===0){fme.owner=E_e(fme.data,0,mme);break}fme.privateData=fme.data.subarray(mme+1),fme.data=fme.privateData}},j_e=function(fme){var mme,yme,gme=10,bme=0,xme=[];if(!(fme.length<10||fme[0]!==73||fme[1]!==68||fme[2]!==51)){bme=T_e(fme.subarray(6,10)),bme+=10;var Sme=fme[5]&64;Sme&&(gme+=4,gme+=T_e(fme.subarray(10,14)),bme-=T_e(fme.subarray(16,20)));do{if(mme=T_e(fme.subarray(gme+4,gme+8)),mme<1)break;yme=String.fromCharCode(fme[gme],fme[gme+1],fme[gme+2],fme[gme+3]);var Cme={id:yme,data:fme.subarray(gme+10,gme+mme+10)};Cme.key=Cme.id,S_e[Cme.id]?S_e[Cme.id](Cme):Cme.id[0]==="T"?S_e["T*"](Cme):Cme.id[0]==="W"&&S_e["W*"](Cme),xme.push(Cme),gme+=10,gme+=mme}while(gme<bme);return xme}},Y_e={parseId3Frames:j_e,parseSyncSafeInteger:T_e,frameParsers:S_e},t0e=x_,_0e=t_e,Z_e=Y_e,P0e;P0e=function(fme){var mme={descriptor:fme&&fme.descriptor},yme=0,gme=[],bme=0,xme;if(P0e.prototype.init.call(this),this.dispatchType=_0e.METADATA_STREAM_TYPE.toString(16),mme.descriptor)for(xme=0;xme<mme.descriptor.length;xme++)this.dispatchType+=("00"+mme.descriptor[xme].toString(16)).slice(-2);this.push=function(Sme){var Cme,kme,Pme,Lme,Kme,s_e;if(Sme.type==="timed-metadata"){if(Sme.dataAlignmentIndicator&&(bme=0,gme.length=0),gme.length===0&&(Sme.data.length<10||Sme.data[0]!==73||Sme.data[1]!==68||Sme.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(gme.push(Sme),bme+=Sme.data.byteLength,gme.length===1&&(yme=Z_e.parseSyncSafeInteger(Sme.data.subarray(6,10)),yme+=10),!(bme<yme)){for(Cme={data:new Uint8Array(yme),frames:[],pts:gme[0].pts,dts:gme[0].dts},Kme=0;Kme<yme;)Cme.data.set(gme[0].data.subarray(0,yme-Kme),Kme),Kme+=gme[0].data.byteLength,bme-=gme[0].data.byteLength,gme.shift();kme=10,Cme.data[5]&64&&(kme+=4,kme+=Z_e.parseSyncSafeInteger(Cme.data.subarray(10,14)),yme-=Z_e.parseSyncSafeInteger(Cme.data.subarray(16,20)));do{if(Pme=Z_e.parseSyncSafeInteger(Cme.data.subarray(kme+4,kme+8)),Pme<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(s_e=String.fromCharCode(Cme.data[kme],Cme.data[kme+1],Cme.data[kme+2],Cme.data[kme+3]),Lme={id:s_e,data:Cme.data.subarray(kme+10,kme+Pme+10)},Lme.key=Lme.id,Z_e.frameParsers[Lme.id]?Z_e.frameParsers[Lme.id](Lme):Lme.id[0]==="T"?Z_e.frameParsers["T*"](Lme):Lme.id[0]==="W"&&Z_e.frameParsers["W*"](Lme),Lme.owner==="com.apple.streaming.transportStreamTimestamp"){var Yme=Lme.data,p_e=(Yme[3]&1)<<30|Yme[4]<<22|Yme[5]<<14|Yme[6]<<6|Yme[7]>>>2;p_e*=4,p_e+=Yme[7]&3,Lme.timeStamp=p_e,Cme.pts===void 0&&Cme.dts===void 0&&(Cme.pts=Lme.timeStamp,Cme.dts=Lme.timeStamp),this.trigger("timestamp",Lme)}Cme.frames.push(Lme),kme+=10,kme+=Pme}while(kme<yme);this.trigger("data",Cme)}}}},P0e.prototype=new t0e;var uye=P0e,M0e=x_,C0e=Vme,c0e=t_e,cye=G_e.TimestampRolloverStream,H0e,I0e,F0e,j0e=188,K0e=71;H0e=function(){var fme=new Uint8Array(j0e),mme=0;H0e.prototype.init.call(this),this.push=function(yme){var gme=0,bme=j0e,xme;for(mme?(xme=new Uint8Array(yme.byteLength+mme),xme.set(fme.subarray(0,mme)),xme.set(yme,mme),mme=0):xme=yme;bme<xme.byteLength;){if(xme[gme]===K0e&&xme[bme]===K0e){this.trigger("data",xme.subarray(gme,bme)),gme+=j0e,bme+=j0e;continue}gme++,bme++}gme<xme.byteLength&&(fme.set(xme.subarray(gme),0),mme=xme.byteLength-gme)},this.flush=function(){mme===j0e&&fme[0]===K0e&&(this.trigger("data",fme),mme=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){mme=0,this.trigger("reset")}},H0e.prototype=new M0e,I0e=function(){var fme,mme,yme,gme;I0e.prototype.init.call(this),gme=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,fme=function(bme,xme){var Sme=0;xme.payloadUnitStartIndicator&&(Sme+=bme[Sme]+1),xme.type==="pat"?mme(bme.subarray(Sme),xme):yme(bme.subarray(Sme),xme)},mme=function(bme,xme){xme.section_number=bme[7],xme.last_section_number=bme[8],gme.pmtPid=(bme[10]&31)<<8|bme[11],xme.pmtPid=gme.pmtPid},yme=function(bme,xme){var Sme,Cme,kme,Pme;if(bme[5]&1){for(gme.programMapTable={video:null,audio:null,"timed-metadata":{}},Sme=(bme[1]&15)<<8|bme[2],Cme=3+Sme-4,kme=(bme[10]&15)<<8|bme[11],Pme=12+kme;Pme<Cme;){var Lme=bme[Pme],Kme=(bme[Pme+1]&31)<<8|bme[Pme+2];Lme===c0e.H264_STREAM_TYPE&&gme.programMapTable.video===null?gme.programMapTable.video=Kme:Lme===c0e.ADTS_STREAM_TYPE&&gme.programMapTable.audio===null?gme.programMapTable.audio=Kme:Lme===c0e.METADATA_STREAM_TYPE&&(gme.programMapTable["timed-metadata"][Kme]=Lme),Pme+=((bme[Pme+3]&15)<<8|bme[Pme+4])+5}xme.programMapTable=gme.programMapTable}},this.push=function(bme){var xme={},Sme=4;if(xme.payloadUnitStartIndicator=!!(bme[1]&64),xme.pid=bme[1]&31,xme.pid<<=8,xme.pid|=bme[2],(bme[3]&48)>>>4>1&&(Sme+=bme[Sme]+1),xme.pid===0)xme.type="pat",fme(bme.subarray(Sme),xme),this.trigger("data",xme);else if(xme.pid===this.pmtPid)for(xme.type="pmt",fme(bme.subarray(Sme),xme),this.trigger("data",xme);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([bme,Sme,xme]):this.processPes_(bme,Sme,xme)},this.processPes_=function(bme,xme,Sme){Sme.pid===this.programMapTable.video?Sme.streamType=c0e.H264_STREAM_TYPE:Sme.pid===this.programMapTable.audio?Sme.streamType=c0e.ADTS_STREAM_TYPE:Sme.streamType=this.programMapTable["timed-metadata"][Sme.pid],Sme.type="pes",Sme.data=bme.subarray(xme),this.trigger("data",Sme)}},I0e.prototype=new M0e,I0e.STREAM_TYPES={h264:27,adts:15},F0e=function(){var fme=this,mme=!1,yme={data:[],size:0},gme={data:[],size:0},bme={data:[],size:0},xme,Sme=function(kme,Pme){var Lme;const Kme=kme[0]<<16|kme[1]<<8|kme[2];Pme.data=new Uint8Array,Kme===1&&(Pme.packetLength=6+(kme[4]<<8|kme[5]),Pme.dataAlignmentIndicator=(kme[6]&4)!==0,Lme=kme[7],Lme&192&&(Pme.pts=(kme[9]&14)<<27|(kme[10]&255)<<20|(kme[11]&254)<<12|(kme[12]&255)<<5|(kme[13]&254)>>>3,Pme.pts*=4,Pme.pts+=(kme[13]&6)>>>1,Pme.dts=Pme.pts,Lme&64&&(Pme.dts=(kme[14]&14)<<27|(kme[15]&255)<<20|(kme[16]&254)<<12|(kme[17]&255)<<5|(kme[18]&254)>>>3,Pme.dts*=4,Pme.dts+=(kme[18]&6)>>>1)),Pme.data=kme.subarray(9+kme[8]))},Cme=function(kme,Pme,Lme){var Kme=new Uint8Array(kme.size),s_e={type:Pme},Yme=0,p_e=0,v_e=!1,Q_e;if(!(!kme.data.length||kme.size<9)){for(s_e.trackId=kme.data[0].pid,Yme=0;Yme<kme.data.length;Yme++)Q_e=kme.data[Yme],Kme.set(Q_e.data,p_e),p_e+=Q_e.data.byteLength;Sme(Kme,s_e),v_e=Pme==="video"||s_e.packetLength<=kme.size,(Lme||v_e)&&(kme.size=0,kme.data.length=0),v_e&&fme.trigger("data",s_e)}};F0e.prototype.init.call(this),this.push=function(kme){({pat:function(){},pes:function(){var Pme,Lme;switch(kme.streamType){case c0e.H264_STREAM_TYPE:Pme=yme,Lme="video";break;case c0e.ADTS_STREAM_TYPE:Pme=gme,Lme="audio";break;case c0e.METADATA_STREAM_TYPE:Pme=bme,Lme="timed-metadata";break;default:return}kme.payloadUnitStartIndicator&&Cme(Pme,Lme,!0),Pme.data.push(kme),Pme.size+=kme.data.byteLength},pmt:function(){var Pme={type:"metadata",tracks:[]};xme=kme.programMapTable,xme.video!==null&&Pme.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+xme.video,codec:"avc",type:"video"}),xme.audio!==null&&Pme.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+xme.audio,codec:"adts",type:"audio"}),mme=!0,fme.trigger("data",Pme)}})[kme.type]()},this.reset=function(){yme.size=0,yme.data.length=0,gme.size=0,gme.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Cme(yme,"video"),Cme(gme,"audio"),Cme(bme,"timed-metadata")},this.flush=function(){if(!mme&&xme){var kme={type:"metadata",tracks:[]};xme.video!==null&&kme.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+xme.video,codec:"avc",type:"video"}),xme.audio!==null&&kme.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+xme.audio,codec:"adts",type:"audio"}),fme.trigger("data",kme)}mme=!1,this.flushStreams_(),this.trigger("done")}},F0e.prototype=new M0e;var Q0e={PAT_PID:0,MP2T_PACKET_LENGTH:j0e,TransportPacketStream:H0e,TransportParseStream:I0e,ElementaryStream:F0e,TimestampRolloverStream:cye,CaptionStream:C0e.CaptionStream,Cea608Stream:C0e.Cea608Stream,Cea708Stream:C0e.Cea708Stream,MetadataStream:uye};for(var Bye in c0e)c0e.hasOwnProperty(Bye)&&(Q0e[Bye]=c0e[Bye]);var $be=Q0e,qbe=x_,Wbe=w_e.ONE_SECOND_IN_TS,Eye,Jye=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Eye=function(fme){var mme,yme=0;Eye.prototype.init.call(this),this.skipWarn_=function(gme,bme){this.trigger("log",{level:"warn",message:`adts skiping bytes ${gme} to ${bme} in frame ${yme} outside syncword`})},this.push=function(gme){var bme=0,xme,Sme,Cme,kme,Pme;if(fme||(yme=0),gme.type==="audio"){mme&&mme.length?(Cme=mme,mme=new Uint8Array(Cme.byteLength+gme.data.byteLength),mme.set(Cme),mme.set(gme.data,Cme.byteLength)):mme=gme.data;for(var Lme;bme+7<mme.length;){if(mme[bme]!==255||(mme[bme+1]&246)!==240){typeof Lme!="number"&&(Lme=bme),bme++;continue}if(typeof Lme=="number"&&(this.skipWarn_(Lme,bme),Lme=null),Sme=(~mme[bme+1]&1)*2,xme=(mme[bme+3]&3)<<11|mme[bme+4]<<3|(mme[bme+5]&224)>>5,kme=((mme[bme+6]&3)+1)*1024,Pme=kme*Wbe/Jye[(mme[bme+2]&60)>>>2],mme.byteLength-bme<xme)break;this.trigger("data",{pts:gme.pts+yme*Pme,dts:gme.dts+yme*Pme,sampleCount:kme,audioobjecttype:(mme[bme+2]>>>6&3)+1,channelcount:(mme[bme+2]&1)<<2|(mme[bme+3]&192)>>>6,samplerate:Jye[(mme[bme+2]&60)>>>2],samplingfrequencyindex:(mme[bme+2]&60)>>>2,samplesize:16,data:mme.subarray(bme+7+Sme,bme+xme)}),yme++,bme+=xme}typeof Lme=="number"&&(this.skipWarn_(Lme,bme),Lme=null),mme=mme.subarray(bme)}},this.flush=function(){yme=0,this.trigger("done")},this.reset=function(){mme=void 0,this.trigger("reset")},this.endTimeline=function(){mme=void 0,this.trigger("endedtimeline")}},Eye.prototype=new qbe;var Hbe=Eye,Zye;Zye=function(fme){var mme=fme.byteLength,yme=0,gme=0;this.length=function(){return 8*mme},this.bitsAvailable=function(){return 8*mme+gme},this.loadWord=function(){var bme=fme.byteLength-mme,xme=new Uint8Array(4),Sme=Math.min(4,mme);if(Sme===0)throw new Error("no bytes available");xme.set(fme.subarray(bme,bme+Sme)),yme=new DataView(xme.buffer).getUint32(0),gme=Sme*8,mme-=Sme},this.skipBits=function(bme){var xme;gme>bme?(yme<<=bme,gme-=bme):(bme-=gme,xme=Math.floor(bme/8),bme-=xme*8,mme-=xme,this.loadWord(),yme<<=bme,gme-=bme)},this.readBits=function(bme){var xme=Math.min(gme,bme),Sme=yme>>>32-xme;return gme-=xme,gme>0?yme<<=xme:mme>0&&this.loadWord(),xme=bme-xme,xme>0?Sme<<xme|this.readBits(xme):Sme},this.skipLeadingZeros=function(){var bme;for(bme=0;bme<gme;++bme)if(yme&2147483648>>>bme)return yme<<=bme,gme-=bme,bme;return this.loadWord(),bme+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var bme=this.skipLeadingZeros();return this.readBits(bme+1)-1},this.readExpGolomb=function(){var bme=this.readUnsignedExpGolomb();return 1&bme?1+bme>>>1:-1*(bme>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Kbe=Zye,ebe=x_,Vbe=Kbe,xye,hye,tbe;hye=function(){var fme=0,mme,yme;hye.prototype.init.call(this),this.push=function(gme){var bme;yme?(bme=new Uint8Array(yme.byteLength+gme.data.byteLength),bme.set(yme),bme.set(gme.data,yme.byteLength),yme=bme):yme=gme.data;for(var xme=yme.byteLength;fme<xme-3;fme++)if(yme[fme+2]===1){mme=fme+5;break}for(;mme<xme;)switch(yme[mme]){case 0:if(yme[mme-1]!==0){mme+=2;break}else if(yme[mme-2]!==0){mme++;break}fme+3!==mme-2&&this.trigger("data",yme.subarray(fme+3,mme-2));do mme++;while(yme[mme]!==1&&mme<xme);fme=mme-2,mme+=3;break;case 1:if(yme[mme-1]!==0||yme[mme-2]!==0){mme+=3;break}this.trigger("data",yme.subarray(fme+3,mme-2)),fme=mme-2,mme+=3;break;default:mme+=3;break}yme=yme.subarray(fme),mme-=fme,fme=0},this.reset=function(){yme=null,fme=0,this.trigger("reset")},this.flush=function(){yme&&yme.byteLength>3&&this.trigger("data",yme.subarray(fme+3)),yme=null,fme=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},hye.prototype=new ebe,tbe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},xye=function(){var fme=new hye,mme,yme,gme,bme,xme,Sme,Cme;xye.prototype.init.call(this),mme=this,this.push=function(kme){kme.type==="video"&&(yme=kme.trackId,gme=kme.pts,bme=kme.dts,fme.push(kme))},fme.on("data",function(kme){var Pme={trackId:yme,pts:gme,dts:bme,data:kme,nalUnitTypeCode:kme[0]&31};switch(Pme.nalUnitTypeCode){case 5:Pme.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:Pme.nalUnitType="sei_rbsp",Pme.escapedRBSP=xme(kme.subarray(1));break;case 7:Pme.nalUnitType="seq_parameter_set_rbsp",Pme.escapedRBSP=xme(kme.subarray(1)),Pme.config=Sme(Pme.escapedRBSP);break;case 8:Pme.nalUnitType="pic_parameter_set_rbsp";break;case 9:Pme.nalUnitType="access_unit_delimiter_rbsp";break}mme.trigger("data",Pme)}),fme.on("done",function(){mme.trigger("done")}),fme.on("partialdone",function(){mme.trigger("partialdone")}),fme.on("reset",function(){mme.trigger("reset")}),fme.on("endedtimeline",function(){mme.trigger("endedtimeline")}),this.flush=function(){fme.flush()},this.partialFlush=function(){fme.partialFlush()},this.reset=function(){fme.reset()},this.endTimeline=function(){fme.endTimeline()},Cme=function(kme,Pme){var Lme=8,Kme=8,s_e,Yme;for(s_e=0;s_e<kme;s_e++)Kme!==0&&(Yme=Pme.readExpGolomb(),Kme=(Lme+Yme+256)%256),Lme=Kme===0?Lme:Kme},xme=function(kme){for(var Pme=kme.byteLength,Lme=[],Kme=1,s_e,Yme;Kme<Pme-2;)kme[Kme]===0&&kme[Kme+1]===0&&kme[Kme+2]===3?(Lme.push(Kme+2),Kme+=2):Kme++;if(Lme.length===0)return kme;s_e=Pme-Lme.length,Yme=new Uint8Array(s_e);var p_e=0;for(Kme=0;Kme<s_e;p_e++,Kme++)p_e===Lme[0]&&(p_e++,Lme.shift()),Yme[Kme]=kme[p_e];return Yme},Sme=function(kme){var Pme=0,Lme=0,Kme=0,s_e=0,Yme,p_e,v_e,Q_e,b0e,J0e,Obe,kbe,Pbe,Kye,Mbe,W_e=[1,1],Ibe,Z0e;if(Yme=new Vbe(kme),p_e=Yme.readUnsignedByte(),Q_e=Yme.readUnsignedByte(),v_e=Yme.readUnsignedByte(),Yme.skipUnsignedExpGolomb(),tbe[p_e]&&(b0e=Yme.readUnsignedExpGolomb(),b0e===3&&Yme.skipBits(1),Yme.skipUnsignedExpGolomb(),Yme.skipUnsignedExpGolomb(),Yme.skipBits(1),Yme.readBoolean()))for(Mbe=b0e!==3?8:12,Z0e=0;Z0e<Mbe;Z0e++)Yme.readBoolean()&&(Z0e<6?Cme(16,Yme):Cme(64,Yme));if(Yme.skipUnsignedExpGolomb(),J0e=Yme.readUnsignedExpGolomb(),J0e===0)Yme.readUnsignedExpGolomb();else if(J0e===1)for(Yme.skipBits(1),Yme.skipExpGolomb(),Yme.skipExpGolomb(),Obe=Yme.readUnsignedExpGolomb(),Z0e=0;Z0e<Obe;Z0e++)Yme.skipExpGolomb();if(Yme.skipUnsignedExpGolomb(),Yme.skipBits(1),kbe=Yme.readUnsignedExpGolomb(),Pbe=Yme.readUnsignedExpGolomb(),Kye=Yme.readBits(1),Kye===0&&Yme.skipBits(1),Yme.skipBits(1),Yme.readBoolean()&&(Pme=Yme.readUnsignedExpGolomb(),Lme=Yme.readUnsignedExpGolomb(),Kme=Yme.readUnsignedExpGolomb(),s_e=Yme.readUnsignedExpGolomb()),Yme.readBoolean()&&Yme.readBoolean()){switch(Ibe=Yme.readUnsignedByte(),Ibe){case 1:W_e=[1,1];break;case 2:W_e=[12,11];break;case 3:W_e=[10,11];break;case 4:W_e=[16,11];break;case 5:W_e=[40,33];break;case 6:W_e=[24,11];break;case 7:W_e=[20,11];break;case 8:W_e=[32,11];break;case 9:W_e=[80,33];break;case 10:W_e=[18,11];break;case 11:W_e=[15,11];break;case 12:W_e=[64,33];break;case 13:W_e=[160,99];break;case 14:W_e=[4,3];break;case 15:W_e=[3,2];break;case 16:W_e=[2,1];break;case 255:{W_e=[Yme.readUnsignedByte()<<8|Yme.readUnsignedByte(),Yme.readUnsignedByte()<<8|Yme.readUnsignedByte()];break}}W_e&&W_e[0]/W_e[1]}return{profileIdc:p_e,levelIdc:v_e,profileCompatibility:Q_e,width:(kbe+1)*16-Pme*2-Lme*2,height:(2-Kye)*(Pbe+1)*16-Kme*2-s_e*2,sarRatio:W_e}}},xye.prototype=new ebe;var zbe={H264Stream:xye,NalByteStream:hye},Gbe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],nbe=function(fme,mme){var yme=fme[mme+6]<<21|fme[mme+7]<<14|fme[mme+8]<<7|fme[mme+9],gme=fme[mme+5],bme=(gme&16)>>4;return yme=yme>=0?yme:0,bme?yme+20:yme+10},rbe=function(fme,mme){return fme.length-mme<10||fme[mme]!==73||fme[mme+1]!==68||fme[mme+2]!==51?mme:(mme+=nbe(fme,mme),rbe(fme,mme))},Qbe=function(fme){var mme=rbe(fme,0);return fme.length>=mme+2&&(fme[mme]&255)===255&&(fme[mme+1]&240)===240&&(fme[mme+1]&22)===16},ibe=function(fme){return fme[0]<<21|fme[1]<<14|fme[2]<<7|fme[3]},Xbe=function(fme,mme,yme){var gme,bme="";for(gme=mme;gme<yme;gme++)bme+="%"+("00"+fme[gme].toString(16)).slice(-2);return bme},Ybe=function(fme,mme,yme){return unescape(Xbe(fme,mme,yme))},Jbe=function(fme,mme){var yme=(fme[mme+5]&224)>>5,gme=fme[mme+4]<<3,bme=fme[mme+3]&6144;return bme|gme|yme},Zbe=function(fme,mme){return fme[mme]===73&&fme[mme+1]===68&&fme[mme+2]===51?"timed-metadata":fme[mme]&!0&&(fme[mme+1]&240)===240?"audio":null},e1e=function(fme){for(var mme=0;mme+5<fme.length;){if(fme[mme]!==255||(fme[mme+1]&246)!==240){mme++;continue}return Gbe[(fme[mme+2]&60)>>>2]}return null},t1e=function(fme){var mme,yme,gme,bme;mme=10,fme[5]&64&&(mme+=4,mme+=ibe(fme.subarray(10,14)));do{if(yme=ibe(fme.subarray(mme+4,mme+8)),yme<1)return null;if(bme=String.fromCharCode(fme[mme],fme[mme+1],fme[mme+2],fme[mme+3]),bme==="PRIV"){gme=fme.subarray(mme+10,mme+yme+10);for(var xme=0;xme<gme.byteLength;xme++)if(gme[xme]===0){var Sme=Ybe(gme,0,xme);if(Sme==="com.apple.streaming.transportStreamTimestamp"){var Cme=gme.subarray(xme+1),kme=(Cme[3]&1)<<30|Cme[4]<<22|Cme[5]<<14|Cme[6]<<6|Cme[7]>>>2;return kme*=4,kme+=Cme[7]&3,kme}break}}mme+=10,mme+=yme}while(mme<fme.byteLength);return null},Rye={isLikelyAacData:Qbe,parseId3TagSize:nbe,parseAdtsSize:Jbe,parseType:Zbe,parseSampleRate:e1e,parseAacTimestamp:t1e},n1e=x_,obe=Rye,wye;wye=function(){var fme=new Uint8Array,mme=0;wye.prototype.init.call(this),this.setTimestamp=function(yme){mme=yme},this.push=function(yme){var gme=0,bme=0,xme,Sme,Cme,kme;for(fme.length?(kme=fme.length,fme=new Uint8Array(yme.byteLength+kme),fme.set(fme.subarray(0,kme)),fme.set(yme,kme)):fme=yme;fme.length-bme>=3;){if(fme[bme]===73&&fme[bme+1]===68&&fme[bme+2]===51){if(fme.length-bme<10||(gme=obe.parseId3TagSize(fme,bme),bme+gme>fme.length))break;Sme={type:"timed-metadata",data:fme.subarray(bme,bme+gme)},this.trigger("data",Sme),bme+=gme;continue}else if((fme[bme]&255)===255&&(fme[bme+1]&240)===240){if(fme.length-bme<7||(gme=obe.parseAdtsSize(fme,bme),bme+gme>fme.length))break;Cme={type:"audio",data:fme.subarray(bme,bme+gme),pts:mme,dts:mme},this.trigger("data",Cme),bme+=gme;continue}bme++}xme=fme.length-bme,xme>0?fme=fme.subarray(bme):fme=new Uint8Array},this.reset=function(){fme=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){fme=new Uint8Array,this.trigger("endedtimeline")}},wye.prototype=new n1e;var r1e=wye,i1e=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],o1e=i1e,s1e=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],a1e=s1e,Tye=x_,mye=n_e,gye=k_e,Sye=R0e,A0e=p0e,U0e=$be,Dye=w_e,sbe=Hbe,l1e=zbe.H264Stream,u1e=r1e,c1e=Rye.isLikelyAacData,d1e=w_e.ONE_SECOND_IN_TS,Lye=o1e,Nye=a1e,_ye,dye,Cye,X0e,f1e=function(fme,mme){mme.stream=fme,this.trigger("log",mme)},abe=function(fme,mme){for(var yme=Object.keys(mme),gme=0;gme<yme.length;gme++){var bme=yme[gme];bme==="headOfPipeline"||!mme[bme].on||mme[bme].on("log",f1e.bind(fme,bme))}},lbe=function(fme,mme){var yme;if(fme.length!==mme.length)return!1;for(yme=0;yme<fme.length;yme++)if(fme[yme]!==mme[yme])return!1;return!0},Fye=function(fme,mme,yme,gme,bme,xme){var Sme=yme-mme,Cme=gme-mme,kme=bme-yme;return{start:{dts:fme,pts:fme+Sme},end:{dts:fme+Cme,pts:fme+kme},prependedContentDuration:xme,baseMediaDecodeTime:fme}};dye=function(fme,mme){var yme=[],gme,bme=0,xme=0,Sme=1/0;mme=mme||{},gme=mme.firstSequenceNumber||0,dye.prototype.init.call(this),this.push=function(Cme){A0e.collectDtsInfo(fme,Cme),fme&&Lye.forEach(function(kme){fme[kme]=Cme[kme]}),yme.push(Cme)},this.setEarliestDts=function(Cme){bme=Cme},this.setVideoBaseMediaDecodeTime=function(Cme){Sme=Cme},this.setAudioAppendStart=function(Cme){xme=Cme},this.flush=function(){var Cme,kme,Pme,Lme,Kme,s_e,Yme;if(yme.length===0){this.trigger("done","AudioSegmentStream");return}Cme=Sye.trimAdtsFramesByEarliestDts(yme,fme,bme),fme.baseMediaDecodeTime=A0e.calculateTrackBaseMediaDecodeTime(fme,mme.keepOriginalTimestamps),Yme=Sye.prefixWithSilence(fme,Cme,xme,Sme),fme.samples=Sye.generateSampleTable(Cme),Pme=mye.mdat(Sye.concatenateFrameData(Cme)),yme=[],kme=mye.moof(gme,[fme]),Lme=new Uint8Array(kme.byteLength+Pme.byteLength),gme++,Lme.set(kme),Lme.set(Pme,kme.byteLength),A0e.clearDtsInfo(fme),Kme=Math.ceil(d1e*1024/fme.samplerate),Cme.length&&(s_e=Cme.length*Kme,this.trigger("segmentTimingInfo",Fye(Dye.audioTsToVideoTs(fme.baseMediaDecodeTime,fme.samplerate),Cme[0].dts,Cme[0].pts,Cme[0].dts+s_e,Cme[0].pts+s_e,Yme||0)),this.trigger("timingInfo",{start:Cme[0].pts,end:Cme[0].pts+s_e})),this.trigger("data",{track:fme,boxes:Lme}),this.trigger("done","AudioSegmentStream")},this.reset=function(){A0e.clearDtsInfo(fme),yme=[],this.trigger("reset")}},dye.prototype=new Tye,_ye=function(fme,mme){var yme,gme=[],bme=[],xme,Sme;mme=mme||{},yme=mme.firstSequenceNumber||0,_ye.prototype.init.call(this),delete fme.minPTS,this.gopCache_=[],this.push=function(Cme){A0e.collectDtsInfo(fme,Cme),Cme.nalUnitType==="seq_parameter_set_rbsp"&&!xme&&(xme=Cme.config,fme.sps=[Cme.data],Nye.forEach(function(kme){fme[kme]=xme[kme]},this)),Cme.nalUnitType==="pic_parameter_set_rbsp"&&!Sme&&(Sme=Cme.data,fme.pps=[Cme.data]),gme.push(Cme)},this.flush=function(){for(var Cme,kme,Pme,Lme,Kme,s_e,Yme=0,p_e,v_e;gme.length&&gme[0].nalUnitType!=="access_unit_delimiter_rbsp";)gme.shift();if(gme.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Cme=gye.groupNalsIntoFrames(gme),Pme=gye.groupFramesIntoGops(Cme),Pme[0][0].keyFrame||(kme=this.getGopForFusion_(gme[0],fme),kme?(Yme=kme.duration,Pme.unshift(kme),Pme.byteLength+=kme.byteLength,Pme.nalCount+=kme.nalCount,Pme.pts=kme.pts,Pme.dts=kme.dts,Pme.duration+=kme.duration):Pme=gye.extendFirstKeyFrame(Pme)),bme.length){var Q_e;if(mme.alignGopsAtEnd?Q_e=this.alignGopsAtEnd_(Pme):Q_e=this.alignGopsAtStart_(Pme),!Q_e){this.gopCache_.unshift({gop:Pme.pop(),pps:fme.pps,sps:fme.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),gme=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}A0e.clearDtsInfo(fme),Pme=Q_e}A0e.collectDtsInfo(fme,Pme),fme.samples=gye.generateSampleTable(Pme),Kme=mye.mdat(gye.concatenateNalData(Pme)),fme.baseMediaDecodeTime=A0e.calculateTrackBaseMediaDecodeTime(fme,mme.keepOriginalTimestamps),this.trigger("processedGopsInfo",Pme.map(function(b0e){return{pts:b0e.pts,dts:b0e.dts,byteLength:b0e.byteLength}})),p_e=Pme[0],v_e=Pme[Pme.length-1],this.trigger("segmentTimingInfo",Fye(fme.baseMediaDecodeTime,p_e.dts,p_e.pts,v_e.dts+v_e.duration,v_e.pts+v_e.duration,Yme)),this.trigger("timingInfo",{start:Pme[0].pts,end:Pme[Pme.length-1].pts+Pme[Pme.length-1].duration}),this.gopCache_.unshift({gop:Pme.pop(),pps:fme.pps,sps:fme.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),gme=[],this.trigger("baseMediaDecodeTime",fme.baseMediaDecodeTime),this.trigger("timelineStartInfo",fme.timelineStartInfo),Lme=mye.moof(yme,[fme]),s_e=new Uint8Array(Lme.byteLength+Kme.byteLength),yme++,s_e.set(Lme),s_e.set(Kme,Lme.byteLength),this.trigger("data",{track:fme,boxes:s_e}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),gme=[],this.gopCache_.length=0,bme.length=0,this.trigger("reset")},this.resetStream_=function(){A0e.clearDtsInfo(fme),xme=void 0,Sme=void 0},this.getGopForFusion_=function(Cme){var kme=45e3,Pme=1e4,Lme=1/0,Kme,s_e,Yme,p_e,v_e;for(v_e=0;v_e<this.gopCache_.length;v_e++)p_e=this.gopCache_[v_e],Yme=p_e.gop,!(!(fme.pps&&lbe(fme.pps[0],p_e.pps[0]))||!(fme.sps&&lbe(fme.sps[0],p_e.sps[0])))&&(Yme.dts<fme.timelineStartInfo.dts||(Kme=Cme.dts-Yme.dts-Yme.duration,Kme>=-Pme&&Kme<=kme&&(!s_e||Lme>Kme)&&(s_e=p_e,Lme=Kme)));return s_e?s_e.gop:null},this.alignGopsAtStart_=function(Cme){var kme,Pme,Lme,Kme,s_e,Yme,p_e,v_e;for(s_e=Cme.byteLength,Yme=Cme.nalCount,p_e=Cme.duration,kme=Pme=0;kme<bme.length&&Pme<Cme.length&&(Lme=bme[kme],Kme=Cme[Pme],Lme.pts!==Kme.pts);){if(Kme.pts>Lme.pts){kme++;continue}Pme++,s_e-=Kme.byteLength,Yme-=Kme.nalCount,p_e-=Kme.duration}return Pme===0?Cme:Pme===Cme.length?null:(v_e=Cme.slice(Pme),v_e.byteLength=s_e,v_e.duration=p_e,v_e.nalCount=Yme,v_e.pts=v_e[0].pts,v_e.dts=v_e[0].dts,v_e)},this.alignGopsAtEnd_=function(Cme){var kme,Pme,Lme,Kme,s_e,Yme;for(kme=bme.length-1,Pme=Cme.length-1,s_e=null,Yme=!1;kme>=0&&Pme>=0;){if(Lme=bme[kme],Kme=Cme[Pme],Lme.pts===Kme.pts){Yme=!0;break}if(Lme.pts>Kme.pts){kme--;continue}kme===bme.length-1&&(s_e=Pme),Pme--}if(!Yme&&s_e===null)return null;var p_e;if(Yme?p_e=Pme:p_e=s_e,p_e===0)return Cme;var v_e=Cme.slice(p_e),Q_e=v_e.reduce(function(b0e,J0e){return b0e.byteLength+=J0e.byteLength,b0e.duration+=J0e.duration,b0e.nalCount+=J0e.nalCount,b0e},{byteLength:0,duration:0,nalCount:0});return v_e.byteLength=Q_e.byteLength,v_e.duration=Q_e.duration,v_e.nalCount=Q_e.nalCount,v_e.pts=v_e[0].pts,v_e.dts=v_e[0].dts,v_e},this.alignGopsWith=function(Cme){bme=Cme}},_ye.prototype=new Tye,X0e=function(fme,mme){this.numberOfTracks=0,this.metadataStream=mme,fme=fme||{},typeof fme.remux!="undefined"?this.remuxTracks=!!fme.remux:this.remuxTracks=!0,typeof fme.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=fme.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,X0e.prototype.init.call(this),this.push=function(yme){if(yme.content||yme.text)return this.pendingCaptions.push(yme);if(yme.frames)return this.pendingMetadata.push(yme);this.pendingTracks.push(yme.track),this.pendingBytes+=yme.boxes.byteLength,yme.track.type==="video"&&(this.videoTrack=yme.track,this.pendingBoxes.push(yme.boxes)),yme.track.type==="audio"&&(this.audioTrack=yme.track,this.pendingBoxes.unshift(yme.boxes))}},X0e.prototype=new Tye,X0e.prototype.flush=function(fme){var mme=0,yme={captions:[],captionStreams:{},metadata:[],info:{}},gme,bme,xme,Sme=0,Cme;if(this.pendingTracks.length<this.numberOfTracks){if(fme!=="VideoSegmentStream"&&fme!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(Sme=this.videoTrack.timelineStartInfo.pts,Nye.forEach(function(kme){yme.info[kme]=this.videoTrack[kme]},this)):this.audioTrack&&(Sme=this.audioTrack.timelineStartInfo.pts,Lye.forEach(function(kme){yme.info[kme]=this.audioTrack[kme]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?yme.type=this.pendingTracks[0].type:yme.type="combined",this.emittedTracks+=this.pendingTracks.length,xme=mye.initSegment(this.pendingTracks),yme.initSegment=new Uint8Array(xme.byteLength),yme.initSegment.set(xme),yme.data=new Uint8Array(this.pendingBytes),Cme=0;Cme<this.pendingBoxes.length;Cme++)yme.data.set(this.pendingBoxes[Cme],mme),mme+=this.pendingBoxes[Cme].byteLength;for(Cme=0;Cme<this.pendingCaptions.length;Cme++)gme=this.pendingCaptions[Cme],gme.startTime=Dye.metadataTsToSeconds(gme.startPts,Sme,this.keepOriginalTimestamps),gme.endTime=Dye.metadataTsToSeconds(gme.endPts,Sme,this.keepOriginalTimestamps),yme.captionStreams[gme.stream]=!0,yme.captions.push(gme);for(Cme=0;Cme<this.pendingMetadata.length;Cme++)bme=this.pendingMetadata[Cme],bme.cueTime=Dye.metadataTsToSeconds(bme.pts,Sme,this.keepOriginalTimestamps),yme.metadata.push(bme);for(yme.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",yme),Cme=0;Cme<yme.captions.length;Cme++)gme=yme.captions[Cme],this.trigger("caption",gme);for(Cme=0;Cme<yme.metadata.length;Cme++)bme=yme.metadata[Cme],this.trigger("id3Frame",bme)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},X0e.prototype.setRemux=function(fme){this.remuxTracks=fme},Cye=function(fme){var mme=this,yme=!0,gme,bme;Cye.prototype.init.call(this),fme=fme||{},this.baseMediaDecodeTime=fme.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var xme={};this.transmuxPipeline_=xme,xme.type="aac",xme.metadataStream=new U0e.MetadataStream,xme.aacStream=new u1e,xme.audioTimestampRolloverStream=new U0e.TimestampRolloverStream("audio"),xme.timedMetadataTimestampRolloverStream=new U0e.TimestampRolloverStream("timed-metadata"),xme.adtsStream=new sbe,xme.coalesceStream=new X0e(fme,xme.metadataStream),xme.headOfPipeline=xme.aacStream,xme.aacStream.pipe(xme.audioTimestampRolloverStream).pipe(xme.adtsStream),xme.aacStream.pipe(xme.timedMetadataTimestampRolloverStream).pipe(xme.metadataStream).pipe(xme.coalesceStream),xme.metadataStream.on("timestamp",function(Sme){xme.aacStream.setTimestamp(Sme.timeStamp)}),xme.aacStream.on("data",function(Sme){Sme.type!=="timed-metadata"&&Sme.type!=="audio"||xme.audioSegmentStream||(bme=bme||{timelineStartInfo:{baseMediaDecodeTime:mme.baseMediaDecodeTime},codec:"adts",type:"audio"},xme.coalesceStream.numberOfTracks++,xme.audioSegmentStream=new dye(bme,fme),xme.audioSegmentStream.on("log",mme.getLogTrigger_("audioSegmentStream")),xme.audioSegmentStream.on("timingInfo",mme.trigger.bind(mme,"audioTimingInfo")),xme.adtsStream.pipe(xme.audioSegmentStream).pipe(xme.coalesceStream),mme.trigger("trackinfo",{hasAudio:!!bme,hasVideo:!!gme}))}),xme.coalesceStream.on("data",this.trigger.bind(this,"data")),xme.coalesceStream.on("done",this.trigger.bind(this,"done")),abe(this,xme)},this.setupTsPipeline=function(){var xme={};this.transmuxPipeline_=xme,xme.type="ts",xme.metadataStream=new U0e.MetadataStream,xme.packetStream=new U0e.TransportPacketStream,xme.parseStream=new U0e.TransportParseStream,xme.elementaryStream=new U0e.ElementaryStream,xme.timestampRolloverStream=new U0e.TimestampRolloverStream,xme.adtsStream=new sbe,xme.h264Stream=new l1e,xme.captionStream=new U0e.CaptionStream(fme),xme.coalesceStream=new X0e(fme,xme.metadataStream),xme.headOfPipeline=xme.packetStream,xme.packetStream.pipe(xme.parseStream).pipe(xme.elementaryStream).pipe(xme.timestampRolloverStream),xme.timestampRolloverStream.pipe(xme.h264Stream),xme.timestampRolloverStream.pipe(xme.adtsStream),xme.timestampRolloverStream.pipe(xme.metadataStream).pipe(xme.coalesceStream),xme.h264Stream.pipe(xme.captionStream).pipe(xme.coalesceStream),xme.elementaryStream.on("data",function(Sme){var Cme;if(Sme.type==="metadata"){for(Cme=Sme.tracks.length;Cme--;)!gme&&Sme.tracks[Cme].type==="video"?(gme=Sme.tracks[Cme],gme.timelineStartInfo.baseMediaDecodeTime=mme.baseMediaDecodeTime):!bme&&Sme.tracks[Cme].type==="audio"&&(bme=Sme.tracks[Cme],bme.timelineStartInfo.baseMediaDecodeTime=mme.baseMediaDecodeTime);gme&&!xme.videoSegmentStream&&(xme.coalesceStream.numberOfTracks++,xme.videoSegmentStream=new _ye(gme,fme),xme.videoSegmentStream.on("log",mme.getLogTrigger_("videoSegmentStream")),xme.videoSegmentStream.on("timelineStartInfo",function(kme){bme&&!fme.keepOriginalTimestamps&&(bme.timelineStartInfo=kme,xme.audioSegmentStream.setEarliestDts(kme.dts-mme.baseMediaDecodeTime))}),xme.videoSegmentStream.on("processedGopsInfo",mme.trigger.bind(mme,"gopInfo")),xme.videoSegmentStream.on("segmentTimingInfo",mme.trigger.bind(mme,"videoSegmentTimingInfo")),xme.videoSegmentStream.on("baseMediaDecodeTime",function(kme){bme&&xme.audioSegmentStream.setVideoBaseMediaDecodeTime(kme)}),xme.videoSegmentStream.on("timingInfo",mme.trigger.bind(mme,"videoTimingInfo")),xme.h264Stream.pipe(xme.videoSegmentStream).pipe(xme.coalesceStream)),bme&&!xme.audioSegmentStream&&(xme.coalesceStream.numberOfTracks++,xme.audioSegmentStream=new dye(bme,fme),xme.audioSegmentStream.on("log",mme.getLogTrigger_("audioSegmentStream")),xme.audioSegmentStream.on("timingInfo",mme.trigger.bind(mme,"audioTimingInfo")),xme.audioSegmentStream.on("segmentTimingInfo",mme.trigger.bind(mme,"audioSegmentTimingInfo")),xme.adtsStream.pipe(xme.audioSegmentStream).pipe(xme.coalesceStream)),mme.trigger("trackinfo",{hasAudio:!!bme,hasVideo:!!gme})}}),xme.coalesceStream.on("data",this.trigger.bind(this,"data")),xme.coalesceStream.on("id3Frame",function(Sme){Sme.dispatchType=xme.metadataStream.dispatchType,mme.trigger("id3Frame",Sme)}),xme.coalesceStream.on("caption",this.trigger.bind(this,"caption")),xme.coalesceStream.on("done",this.trigger.bind(this,"done")),abe(this,xme)},this.setBaseMediaDecodeTime=function(xme){var Sme=this.transmuxPipeline_;fme.keepOriginalTimestamps||(this.baseMediaDecodeTime=xme),bme&&(bme.timelineStartInfo.dts=void 0,bme.timelineStartInfo.pts=void 0,A0e.clearDtsInfo(bme),Sme.audioTimestampRolloverStream&&Sme.audioTimestampRolloverStream.discontinuity()),gme&&(Sme.videoSegmentStream&&(Sme.videoSegmentStream.gopCache_=[]),gme.timelineStartInfo.dts=void 0,gme.timelineStartInfo.pts=void 0,A0e.clearDtsInfo(gme),Sme.captionStream.reset()),Sme.timestampRolloverStream&&Sme.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(xme){bme&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(xme)},this.setRemux=function(xme){var Sme=this.transmuxPipeline_;fme.remux=xme,Sme&&Sme.coalesceStream&&Sme.coalesceStream.setRemux(xme)},this.alignGopsWith=function(xme){gme&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(xme)},this.getLogTrigger_=function(xme){var Sme=this;return function(Cme){Cme.stream=xme,Sme.trigger("log",Cme)}},this.push=function(xme){if(yme){var Sme=c1e(xme);Sme&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!Sme&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),yme=!1}this.transmuxPipeline_.headOfPipeline.push(xme)},this.flush=function(){yme=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Cye.prototype=new Tye;var p1e={Transmuxer:Cye,VideoSegmentStream:_ye,AudioSegmentStream:dye,AUDIO_PROPERTIES:Lye,VIDEO_PROPERTIES:Nye,generateSegmentTimingInfo:Fye},h1e=function(fme){return fme>>>0},m1e=function(fme){return("00"+fme.toString(16)).slice(-2)},Aye={toUnsigned:h1e,toHexString:m1e},g1e=function(fme){var mme="";return mme+=String.fromCharCode(fme[0]),mme+=String.fromCharCode(fme[1]),mme+=String.fromCharCode(fme[2]),mme+=String.fromCharCode(fme[3]),mme},ube=g1e,_1e=Aye.toUnsigned,y1e=ube,cbe=function(fme,mme){var yme=[],gme,bme,xme,Sme,Cme;if(!mme.length)return null;for(gme=0;gme<fme.byteLength;)bme=_1e(fme[gme]<<24|fme[gme+1]<<16|fme[gme+2]<<8|fme[gme+3]),xme=y1e(fme.subarray(gme+4,gme+8)),Sme=bme>1?gme+bme:fme.byteLength,xme===mme[0]&&(mme.length===1?yme.push(fme.subarray(gme+8,Sme)):(Cme=cbe(fme.subarray(gme+8,Sme),mme.slice(1)),Cme.length&&(yme=yme.concat(Cme)))),gme=Sme;return yme},dbe=cbe,v1e=Aye.toUnsigned,b1e=eme.getUint64,E1e=function(fme){var mme={version:fme[0],flags:new Uint8Array(fme.subarray(1,4))};return mme.version===1?mme.baseMediaDecodeTime=b1e(fme.subarray(4)):mme.baseMediaDecodeTime=v1e(fme[4]<<24|fme[5]<<16|fme[6]<<8|fme[7]),mme},fbe=E1e,x1e=function(fme){return{isLeading:(fme[0]&12)>>>2,dependsOn:fme[0]&3,isDependedOn:(fme[1]&192)>>>6,hasRedundancy:(fme[1]&48)>>>4,paddingValue:(fme[1]&14)>>>1,isNonSyncSample:fme[1]&1,degradationPriority:fme[2]<<8|fme[3]}},w1e=x1e,pbe=w1e,T1e=function(fme){var mme={version:fme[0],flags:new Uint8Array(fme.subarray(1,4)),samples:[]},yme=new DataView(fme.buffer,fme.byteOffset,fme.byteLength),gme=mme.flags[2]&1,bme=mme.flags[2]&4,xme=mme.flags[1]&1,Sme=mme.flags[1]&2,Cme=mme.flags[1]&4,kme=mme.flags[1]&8,Pme=yme.getUint32(4),Lme=8,Kme;for(gme&&(mme.dataOffset=yme.getInt32(Lme),Lme+=4),bme&&Pme&&(Kme={flags:pbe(fme.subarray(Lme,Lme+4))},Lme+=4,xme&&(Kme.duration=yme.getUint32(Lme),Lme+=4),Sme&&(Kme.size=yme.getUint32(Lme),Lme+=4),kme&&(mme.version===1?Kme.compositionTimeOffset=yme.getInt32(Lme):Kme.compositionTimeOffset=yme.getUint32(Lme),Lme+=4),mme.samples.push(Kme),Pme--);Pme--;)Kme={},xme&&(Kme.duration=yme.getUint32(Lme),Lme+=4),Sme&&(Kme.size=yme.getUint32(Lme),Lme+=4),Cme&&(Kme.flags=pbe(fme.subarray(Lme,Lme+4)),Lme+=4),kme&&(mme.version===1?Kme.compositionTimeOffset=yme.getInt32(Lme):Kme.compositionTimeOffset=yme.getUint32(Lme),Lme+=4),mme.samples.push(Kme);return mme},hbe=T1e,S1e=function(fme){var mme=new DataView(fme.buffer,fme.byteOffset,fme.byteLength),yme={version:fme[0],flags:new Uint8Array(fme.subarray(1,4)),trackId:mme.getUint32(4)},gme=yme.flags[2]&1,bme=yme.flags[2]&2,xme=yme.flags[2]&8,Sme=yme.flags[2]&16,Cme=yme.flags[2]&32,kme=yme.flags[0]&65536,Pme=yme.flags[0]&131072,Lme;return Lme=8,gme&&(Lme+=4,yme.baseDataOffset=mme.getUint32(12),Lme+=4),bme&&(yme.sampleDescriptionIndex=mme.getUint32(Lme),Lme+=4),xme&&(yme.defaultSampleDuration=mme.getUint32(Lme),Lme+=4),Sme&&(yme.defaultSampleSize=mme.getUint32(Lme),Lme+=4),Cme&&(yme.defaultSampleFlags=mme.getUint32(Lme)),kme&&(yme.durationIsEmpty=!0),!gme&&Pme&&(yme.baseDataOffsetIsMoof=!0),yme},mbe=S1e,yye;typeof window!="undefined"?yye=window:typeof kh!="undefined"?yye=kh:typeof self!="undefined"?yye=self:yye={};var gbe=yye,D1e=G0e.discardEmulationPreventionBytes,C1e=Vme.CaptionStream,vye=dbe,A1e=fbe,O1e=hbe,k1e=mbe,_be=gbe,P1e=function(fme,mme){for(var yme=fme,gme=0;gme<mme.length;gme++){var bme=mme[gme];if(yme<bme.size)return bme;yme-=bme.size}return null},M1e=function(fme,mme,yme){var gme=new DataView(fme.buffer,fme.byteOffset,fme.byteLength),bme={logs:[],seiNals:[]},xme,Sme,Cme,kme;for(Sme=0;Sme+4<fme.length;Sme+=Cme)if(Cme=gme.getUint32(Sme),Sme+=4,!(Cme<=0))switch(fme[Sme]&31){case 6:var Pme=fme.subarray(Sme+1,Sme+1+Cme),Lme=P1e(Sme,mme);if(xme={nalUnitType:"sei_rbsp",size:Cme,data:Pme,escapedRBSP:D1e(Pme),trackId:yme},Lme)xme.pts=Lme.pts,xme.dts=Lme.dts,kme=Lme;else if(kme)xme.pts=kme.pts,xme.dts=kme.dts;else{bme.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Sme+" for trackId "+yme+". See mux.js#223."});break}bme.seiNals.push(xme);break}return bme},I1e=function(fme,mme,yme){var gme=mme,bme=yme.defaultSampleDuration||0,xme=yme.defaultSampleSize||0,Sme=yme.trackId,Cme=[];return fme.forEach(function(kme){var Pme=O1e(kme),Lme=Pme.samples;Lme.forEach(function(Kme){Kme.duration===void 0&&(Kme.duration=bme),Kme.size===void 0&&(Kme.size=xme),Kme.trackId=Sme,Kme.dts=gme,Kme.compositionTimeOffset===void 0&&(Kme.compositionTimeOffset=0),typeof gme=="bigint"?(Kme.pts=gme+_be.BigInt(Kme.compositionTimeOffset),gme+=_be.BigInt(Kme.duration)):(Kme.pts=gme+Kme.compositionTimeOffset,gme+=Kme.duration)}),Cme=Cme.concat(Lme)}),Cme},B1e=function(fme,mme){var yme=vye(fme,["moof","traf"]),gme=vye(fme,["mdat"]),bme={},xme=[];return gme.forEach(function(Sme,Cme){var kme=yme[Cme];xme.push({mdat:Sme,traf:kme})}),xme.forEach(function(Sme){var Cme=Sme.mdat,kme=Sme.traf,Pme=vye(kme,["tfhd"]),Lme=k1e(Pme[0]),Kme=Lme.trackId,s_e=vye(kme,["tfdt"]),Yme=s_e.length>0?A1e(s_e[0]).baseMediaDecodeTime:0,p_e=vye(kme,["trun"]),v_e,Q_e;mme===Kme&&p_e.length>0&&(v_e=I1e(p_e,Yme,Lme),Q_e=M1e(Cme,v_e,Kme),bme[Kme]||(bme[Kme]={seiNals:[],logs:[]}),bme[Kme].seiNals=bme[Kme].seiNals.concat(Q_e.seiNals),bme[Kme].logs=bme[Kme].logs.concat(Q_e.logs))}),bme},R1e=function(fme,mme,yme){var gme;if(mme===null)return null;gme=B1e(fme,mme);var bme=gme[mme]||{};return{seiNals:bme.seiNals,logs:bme.logs,timescale:yme}},L1e=function(){var fme=!1,mme,yme,gme,bme,xme,Sme;this.isInitialized=function(){return fme},this.init=function(Cme){mme=new C1e,fme=!0,Sme=Cme?Cme.isPartial:!1,mme.on("data",function(kme){kme.startTime=kme.startPts/bme,kme.endTime=kme.endPts/bme,xme.captions.push(kme),xme.captionStreams[kme.stream]=!0}),mme.on("log",function(kme){xme.logs.push(kme)})},this.isNewInit=function(Cme,kme){return Cme&&Cme.length===0||kme&&typeof kme=="object"&&Object.keys(kme).length===0?!1:gme!==Cme[0]||bme!==kme[gme]},this.parse=function(Cme,kme,Pme){var Lme;if(this.isInitialized()){if(!kme||!Pme)return null;if(this.isNewInit(kme,Pme))gme=kme[0],bme=Pme[gme];else if(gme===null||!bme)return yme.push(Cme),null}else return null;for(;yme.length>0;){var Kme=yme.shift();this.parse(Kme,kme,Pme)}return Lme=R1e(Cme,gme,bme),Lme&&Lme.logs&&(xme.logs=xme.logs.concat(Lme.logs)),Lme===null||!Lme.seiNals?xme.logs.length?{logs:xme.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Lme.seiNals),this.flushStream(),xme)},this.pushNals=function(Cme){if(!this.isInitialized()||!Cme||Cme.length===0)return null;Cme.forEach(function(kme){mme.push(kme)})},this.flushStream=function(){if(!this.isInitialized())return null;Sme?mme.partialFlush():mme.flush()},this.clearParsedCaptions=function(){xme.captions=[],xme.captionStreams={},xme.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;mme.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){yme=[],gme=null,bme=null,xme?this.clearParsedCaptions():xme={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},N1e=L1e,F1e=function(fme){for(var mme=0,yme=String.fromCharCode(fme[mme]),gme="";yme!=="\0";)gme+=yme,mme++,yme=String.fromCharCode(fme[mme]);return gme+=yme,gme},j1e={uint8ToCString:F1e},Oye=j1e.uint8ToCString,U1e=eme.getUint64,$1e=function(fme){var mme=4,yme=fme[0],gme,bme,xme,Sme,Cme,kme,Pme,Lme;if(yme===0){gme=Oye(fme.subarray(mme)),mme+=gme.length,bme=Oye(fme.subarray(mme)),mme+=bme.length;var Kme=new DataView(fme.buffer);xme=Kme.getUint32(mme),mme+=4,Cme=Kme.getUint32(mme),mme+=4,kme=Kme.getUint32(mme),mme+=4,Pme=Kme.getUint32(mme),mme+=4}else if(yme===1){var Kme=new DataView(fme.buffer);xme=Kme.getUint32(mme),mme+=4,Sme=U1e(fme.subarray(mme)),mme+=8,kme=Kme.getUint32(mme),mme+=4,Pme=Kme.getUint32(mme),mme+=4,gme=Oye(fme.subarray(mme)),mme+=gme.length,bme=Oye(fme.subarray(mme)),mme+=bme.length}Lme=new Uint8Array(fme.subarray(mme,fme.byteLength));var s_e={scheme_id_uri:gme,value:bme,timescale:xme||1,presentation_time:Sme,presentation_time_delta:Cme,event_duration:kme,id:Pme,message_data:Lme};return W1e(yme,s_e)?s_e:void 0},q1e=function(fme,mme,yme,gme){return fme||fme===0?fme/mme:gme+yme/mme},W1e=function(fme,mme){var yme=mme.scheme_id_uri!=="\0",gme=fme===0&&ybe(mme.presentation_time_delta)&&yme,bme=fme===1&&ybe(mme.presentation_time)&&yme;return!(fme>1)&&gme||bme},ybe=function(fme){return fme!==void 0||fme!==null},H1e={parseEmsgBox:$1e,scaleTime:q1e},kye=Aye.toUnsigned,bye=Aye.toHexString,q_e=dbe,fye=ube,jye=H1e,K1e=mbe,V1e=hbe,z1e=fbe,G1e=eme.getUint64,vbe,bbe,Ebe,xbe,wbe,Uye,Tbe,$ye=gbe,Q1e=Y_e.parseId3Frames;vbe=function(fme){var mme={},yme=q_e(fme,["moov","trak"]);return yme.reduce(function(gme,bme){var xme,Sme,Cme,kme,Pme;return xme=q_e(bme,["tkhd"])[0],!xme||(Sme=xme[0],Cme=Sme===0?12:20,kme=kye(xme[Cme]<<24|xme[Cme+1]<<16|xme[Cme+2]<<8|xme[Cme+3]),Pme=q_e(bme,["mdia","mdhd"])[0],!Pme)?null:(Sme=Pme[0],Cme=Sme===0?12:20,gme[kme]=kye(Pme[Cme]<<24|Pme[Cme+1]<<16|Pme[Cme+2]<<8|Pme[Cme+3]),gme)},mme)},bbe=function(fme,mme){var yme;yme=q_e(mme,["moof","traf"]);var gme=yme.reduce(function(bme,xme){var Sme=q_e(xme,["tfhd"])[0],Cme=kye(Sme[4]<<24|Sme[5]<<16|Sme[6]<<8|Sme[7]),kme=fme[Cme]||9e4,Pme=q_e(xme,["tfdt"])[0],Lme=new DataView(Pme.buffer,Pme.byteOffset,Pme.byteLength),Kme;Pme[0]===1?Kme=G1e(Pme.subarray(4,12)):Kme=Lme.getUint32(4);let s_e;return typeof Kme=="bigint"?s_e=Kme/$ye.BigInt(kme):typeof Kme=="number"&&!isNaN(Kme)&&(s_e=Kme/kme),s_e<Number.MAX_SAFE_INTEGER&&(s_e=Number(s_e)),s_e<bme&&(bme=s_e),bme},1/0);return typeof gme=="bigint"||isFinite(gme)?gme:0},Ebe=function(fme,mme){var yme=q_e(mme,["moof","traf"]),gme=0,bme=0,xme;if(yme&&yme.length){var Sme=q_e(yme[0],["tfhd"])[0],Cme=q_e(yme[0],["trun"])[0],kme=q_e(yme[0],["tfdt"])[0];if(Sme){var Pme=K1e(Sme);xme=Pme.trackId}if(kme){var Lme=z1e(kme);gme=Lme.baseMediaDecodeTime}if(Cme){var Kme=V1e(Cme);Kme.samples&&Kme.samples.length&&(bme=Kme.samples[0].compositionTimeOffset||0)}}var s_e=fme[xme]||9e4;typeof gme=="bigint"&&(bme=$ye.BigInt(bme),s_e=$ye.BigInt(s_e));var Yme=(gme+bme)/s_e;return typeof Yme=="bigint"&&Yme<Number.MAX_SAFE_INTEGER&&(Yme=Number(Yme)),Yme},xbe=function(fme){var mme=q_e(fme,["moov","trak"]),yme=[];return mme.forEach(function(gme){var bme=q_e(gme,["mdia","hdlr"]),xme=q_e(gme,["tkhd"]);bme.forEach(function(Sme,Cme){var kme=fye(Sme.subarray(8,12)),Pme=xme[Cme],Lme,Kme,s_e;kme==="vide"&&(Lme=new DataView(Pme.buffer,Pme.byteOffset,Pme.byteLength),Kme=Lme.getUint8(0),s_e=Kme===0?Lme.getUint32(12):Lme.getUint32(20),yme.push(s_e))})}),yme},Uye=function(fme){var mme=fme[0],yme=mme===0?12:20;return kye(fme[yme]<<24|fme[yme+1]<<16|fme[yme+2]<<8|fme[yme+3])},wbe=function(fme){var mme=q_e(fme,["moov","trak"]),yme=[];return mme.forEach(function(gme){var bme={},xme=q_e(gme,["tkhd"])[0],Sme,Cme;xme&&(Sme=new DataView(xme.buffer,xme.byteOffset,xme.byteLength),Cme=Sme.getUint8(0),bme.id=Cme===0?Sme.getUint32(12):Sme.getUint32(20));var kme=q_e(gme,["mdia","hdlr"])[0];if(kme){var Pme=fye(kme.subarray(8,12));Pme==="vide"?bme.type="video":Pme==="soun"?bme.type="audio":bme.type=Pme}var Lme=q_e(gme,["mdia","minf","stbl","stsd"])[0];if(Lme){var Kme=Lme.subarray(8);bme.codec=fye(Kme.subarray(4,8));var s_e=q_e(Kme,[bme.codec])[0],Yme,p_e;s_e&&(/^[asm]vc[1-9]$/i.test(bme.codec)?(Yme=s_e.subarray(78),p_e=fye(Yme.subarray(4,8)),p_e==="avcC"&&Yme.length>11?(bme.codec+=".",bme.codec+=bye(Yme[9]),bme.codec+=bye(Yme[10]),bme.codec+=bye(Yme[11])):bme.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(bme.codec)?(Yme=s_e.subarray(28),p_e=fye(Yme.subarray(4,8)),p_e==="esds"&&Yme.length>20&&Yme[19]!==0?(bme.codec+="."+bye(Yme[19]),bme.codec+="."+bye(Yme[20]>>>2&63).replace(/^0/,"")):bme.codec="mp4a.40.2"):bme.codec=bme.codec.toLowerCase())}var v_e=q_e(gme,["mdia","mdhd"])[0];v_e&&(bme.timescale=Uye(v_e)),yme.push(bme)}),yme},Tbe=function(fme,mme=0){var yme=q_e(fme,["emsg"]);return yme.map(gme=>{var bme=jye.parseEmsgBox(new Uint8Array(gme)),xme=Q1e(bme.message_data);return{cueTime:jye.scaleTime(bme.presentation_time,bme.timescale,bme.presentation_time_delta,mme),duration:jye.scaleTime(bme.event_duration,bme.timescale),frames:xme}})};var qye={findBox:q_e,parseType:fye,timescale:vbe,startTime:bbe,compositionStartTime:Ebe,videoTrackIds:xbe,tracks:wbe,getTimescaleFromMediaHeader:Uye,getEmsgID3:Tbe},Wye=t_e,Sbe=function(fme){var mme=fme[1]&31;return mme<<=8,mme|=fme[2],mme},Pye=function(fme){return!!(fme[1]&64)},Mye=function(fme){var mme=0;return(fme[3]&48)>>>4>1&&(mme+=fme[4]+1),mme},X1e=function(fme,mme){var yme=Sbe(fme);return yme===0?"pat":yme===mme?"pmt":mme?"pes":null},Y1e=function(fme){var mme=Pye(fme),yme=4+Mye(fme);return mme&&(yme+=fme[yme]+1),(fme[yme+10]&31)<<8|fme[yme+11]},J1e=function(fme){var mme={},yme=Pye(fme),gme=4+Mye(fme);if(yme&&(gme+=fme[gme]+1),!!(fme[gme+5]&1)){var bme,xme,Sme;bme=(fme[gme+1]&15)<<8|fme[gme+2],xme=3+bme-4,Sme=(fme[gme+10]&15)<<8|fme[gme+11];for(var Cme=12+Sme;Cme<xme;){var kme=gme+Cme;mme[(fme[kme+1]&31)<<8|fme[kme+2]]=fme[kme],Cme+=((fme[kme+3]&15)<<8|fme[kme+4])+5}return mme}},Z1e=function(fme,mme){var yme=Sbe(fme),gme=mme[yme];switch(gme){case Wye.H264_STREAM_TYPE:return"video";case Wye.ADTS_STREAM_TYPE:return"audio";case Wye.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},eEe=function(fme){var mme=Pye(fme);if(!mme)return null;var yme=4+Mye(fme);if(yme>=fme.byteLength)return null;var gme=null,bme;return bme=fme[yme+7],bme&192&&(gme={},gme.pts=(fme[yme+9]&14)<<27|(fme[yme+10]&255)<<20|(fme[yme+11]&254)<<12|(fme[yme+12]&255)<<5|(fme[yme+13]&254)>>>3,gme.pts*=4,gme.pts+=(fme[yme+13]&6)>>>1,gme.dts=gme.pts,bme&64&&(gme.dts=(fme[yme+14]&14)<<27|(fme[yme+15]&255)<<20|(fme[yme+16]&254)<<12|(fme[yme+17]&255)<<5|(fme[yme+18]&254)>>>3,gme.dts*=4,gme.dts+=(fme[yme+18]&6)>>>1)),gme},Hye=function(fme){switch(fme){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},tEe=function(fme){for(var mme=4+Mye(fme),yme=fme.subarray(mme),gme=0,bme=0,xme=!1,Sme;bme<yme.byteLength-3;bme++)if(yme[bme+2]===1){gme=bme+5;break}for(;gme<yme.byteLength;)switch(yme[gme]){case 0:if(yme[gme-1]!==0){gme+=2;break}else if(yme[gme-2]!==0){gme++;break}bme+3!==gme-2&&(Sme=Hye(yme[bme+3]&31),Sme==="slice_layer_without_partitioning_rbsp_idr"&&(xme=!0));do gme++;while(yme[gme]!==1&&gme<yme.length);bme=gme-2,gme+=3;break;case 1:if(yme[gme-1]!==0||yme[gme-2]!==0){gme+=3;break}Sme=Hye(yme[bme+3]&31),Sme==="slice_layer_without_partitioning_rbsp_idr"&&(xme=!0),bme=gme-2,gme+=3;break;default:gme+=3;break}return yme=yme.subarray(bme),gme-=bme,bme=0,yme&&yme.byteLength>3&&(Sme=Hye(yme[bme+3]&31),Sme==="slice_layer_without_partitioning_rbsp_idr"&&(xme=!0)),xme},nEe={parseType:X1e,parsePat:Y1e,parsePmt:J1e,parsePayloadUnitStartIndicator:Pye,parsePesType:Z1e,parsePesTime:eEe,videoPacketContainsKeyFrame:tEe},Dbe=t_e,pye=G_e.handleRollover,R_e={};R_e.ts=nEe,R_e.aac=Rye;var Y0e=w_e.ONE_SECOND_IN_TS,i0e=188,B0e=71,rEe=function(fme,mme){for(var yme=0,gme=i0e,bme,xme;gme<fme.byteLength;){if(fme[yme]===B0e&&fme[gme]===B0e){switch(bme=fme.subarray(yme,gme),xme=R_e.ts.parseType(bme,mme.pid),xme){case"pat":mme.pid=R_e.ts.parsePat(bme);break;case"pmt":var Sme=R_e.ts.parsePmt(bme);mme.table=mme.table||{},Object.keys(Sme).forEach(function(Cme){mme.table[Cme]=Sme[Cme]});break}yme+=i0e,gme+=i0e;continue}yme++,gme++}},Cbe=function(fme,mme,yme){for(var gme=0,bme=i0e,xme,Sme,Cme,kme,Pme,Lme=!1;bme<=fme.byteLength;){if(fme[gme]===B0e&&(fme[bme]===B0e||bme===fme.byteLength)){switch(xme=fme.subarray(gme,bme),Sme=R_e.ts.parseType(xme,mme.pid),Sme){case"pes":Cme=R_e.ts.parsePesType(xme,mme.table),kme=R_e.ts.parsePayloadUnitStartIndicator(xme),Cme==="audio"&&kme&&(Pme=R_e.ts.parsePesTime(xme),Pme&&(Pme.type="audio",yme.audio.push(Pme),Lme=!0));break}if(Lme)break;gme+=i0e,bme+=i0e;continue}gme++,bme++}for(bme=fme.byteLength,gme=bme-i0e,Lme=!1;gme>=0;){if(fme[gme]===B0e&&(fme[bme]===B0e||bme===fme.byteLength)){switch(xme=fme.subarray(gme,bme),Sme=R_e.ts.parseType(xme,mme.pid),Sme){case"pes":Cme=R_e.ts.parsePesType(xme,mme.table),kme=R_e.ts.parsePayloadUnitStartIndicator(xme),Cme==="audio"&&kme&&(Pme=R_e.ts.parsePesTime(xme),Pme&&(Pme.type="audio",yme.audio.push(Pme),Lme=!0));break}if(Lme)break;gme-=i0e,bme-=i0e;continue}gme--,bme--}},iEe=function(fme,mme,yme){for(var gme=0,bme=i0e,xme,Sme,Cme,kme,Pme,Lme,Kme,s_e,Yme=!1,p_e={data:[],size:0};bme<fme.byteLength;){if(fme[gme]===B0e&&fme[bme]===B0e){switch(xme=fme.subarray(gme,bme),Sme=R_e.ts.parseType(xme,mme.pid),Sme){case"pes":if(Cme=R_e.ts.parsePesType(xme,mme.table),kme=R_e.ts.parsePayloadUnitStartIndicator(xme),Cme==="video"&&(kme&&!Yme&&(Pme=R_e.ts.parsePesTime(xme),Pme&&(Pme.type="video",yme.video.push(Pme),Yme=!0)),!yme.firstKeyFrame)){if(kme&&p_e.size!==0){for(Lme=new Uint8Array(p_e.size),Kme=0;p_e.data.length;)s_e=p_e.data.shift(),Lme.set(s_e,Kme),Kme+=s_e.byteLength;if(R_e.ts.videoPacketContainsKeyFrame(Lme)){var v_e=R_e.ts.parsePesTime(Lme);v_e?(yme.firstKeyFrame=v_e,yme.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p_e.size=0}p_e.data.push(xme),p_e.size+=xme.byteLength}break}if(Yme&&yme.firstKeyFrame)break;gme+=i0e,bme+=i0e;continue}gme++,bme++}for(bme=fme.byteLength,gme=bme-i0e,Yme=!1;gme>=0;){if(fme[gme]===B0e&&fme[bme]===B0e){switch(xme=fme.subarray(gme,bme),Sme=R_e.ts.parseType(xme,mme.pid),Sme){case"pes":Cme=R_e.ts.parsePesType(xme,mme.table),kme=R_e.ts.parsePayloadUnitStartIndicator(xme),Cme==="video"&&kme&&(Pme=R_e.ts.parsePesTime(xme),Pme&&(Pme.type="video",yme.video.push(Pme),Yme=!0));break}if(Yme)break;gme-=i0e,bme-=i0e;continue}gme--,bme--}},oEe=function(fme,mme){if(fme.audio&&fme.audio.length){var yme=mme;(typeof yme=="undefined"||isNaN(yme))&&(yme=fme.audio[0].dts),fme.audio.forEach(function(xme){xme.dts=pye(xme.dts,yme),xme.pts=pye(xme.pts,yme),xme.dtsTime=xme.dts/Y0e,xme.ptsTime=xme.pts/Y0e})}if(fme.video&&fme.video.length){var gme=mme;if((typeof gme=="undefined"||isNaN(gme))&&(gme=fme.video[0].dts),fme.video.forEach(function(xme){xme.dts=pye(xme.dts,gme),xme.pts=pye(xme.pts,gme),xme.dtsTime=xme.dts/Y0e,xme.ptsTime=xme.pts/Y0e}),fme.firstKeyFrame){var bme=fme.firstKeyFrame;bme.dts=pye(bme.dts,gme),bme.pts=pye(bme.pts,gme),bme.dtsTime=bme.dts/Y0e,bme.ptsTime=bme.pts/Y0e}}},sEe=function(fme){for(var mme=!1,yme=0,gme=null,bme=null,xme=0,Sme=0,Cme;fme.length-Sme>=3;){var kme=R_e.aac.parseType(fme,Sme);switch(kme){case"timed-metadata":if(fme.length-Sme<10){mme=!0;break}if(xme=R_e.aac.parseId3TagSize(fme,Sme),xme>fme.length){mme=!0;break}bme===null&&(Cme=fme.subarray(Sme,Sme+xme),bme=R_e.aac.parseAacTimestamp(Cme)),Sme+=xme;break;case"audio":if(fme.length-Sme<7){mme=!0;break}if(xme=R_e.aac.parseAdtsSize(fme,Sme),xme>fme.length){mme=!0;break}gme===null&&(Cme=fme.subarray(Sme,Sme+xme),gme=R_e.aac.parseSampleRate(Cme)),yme++,Sme+=xme;break;default:Sme++;break}if(mme)return null}if(gme===null||bme===null)return null;var Pme=Y0e/gme,Lme={audio:[{type:"audio",dts:bme,pts:bme},{type:"audio",dts:bme+yme*1024*Pme,pts:bme+yme*1024*Pme}]};return Lme},aEe=function(fme){var mme={pid:null,table:null},yme={};rEe(fme,mme);for(var gme in mme.table)if(mme.table.hasOwnProperty(gme)){var bme=mme.table[gme];switch(bme){case Dbe.H264_STREAM_TYPE:yme.video=[],iEe(fme,mme,yme),yme.video.length===0&&delete yme.video;break;case Dbe.ADTS_STREAM_TYPE:yme.audio=[],Cbe(fme,mme,yme),yme.audio.length===0&&delete yme.audio;break}}return yme},lEe=function(fme,mme){var yme=R_e.aac.isLikelyAacData(fme),gme;return yme?gme=sEe(fme):gme=aEe(fme),!gme||!gme.audio&&!gme.video?null:(oEe(gme,mme),gme)},uEe={inspect:lEe,parseAudioPes_:Cbe};const cEe=function(fme,mme){mme.on("data",function(yme){const gme=yme.initSegment;yme.initSegment={data:gme.buffer,byteOffset:gme.byteOffset,byteLength:gme.byteLength};const bme=yme.data;yme.data=bme.buffer,fme.postMessage({action:"data",segment:yme,byteOffset:bme.byteOffset,byteLength:bme.byteLength},[yme.data])}),mme.on("done",function(yme){fme.postMessage({action:"done"})}),mme.on("gopInfo",function(yme){fme.postMessage({action:"gopInfo",gopInfo:yme})}),mme.on("videoSegmentTimingInfo",function(yme){const gme={start:{decode:w_e.videoTsToSeconds(yme.start.dts),presentation:w_e.videoTsToSeconds(yme.start.pts)},end:{decode:w_e.videoTsToSeconds(yme.end.dts),presentation:w_e.videoTsToSeconds(yme.end.pts)},baseMediaDecodeTime:w_e.videoTsToSeconds(yme.baseMediaDecodeTime)};yme.prependedContentDuration&&(gme.prependedContentDuration=w_e.videoTsToSeconds(yme.prependedContentDuration)),fme.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:gme})}),mme.on("audioSegmentTimingInfo",function(yme){const gme={start:{decode:w_e.videoTsToSeconds(yme.start.dts),presentation:w_e.videoTsToSeconds(yme.start.pts)},end:{decode:w_e.videoTsToSeconds(yme.end.dts),presentation:w_e.videoTsToSeconds(yme.end.pts)},baseMediaDecodeTime:w_e.videoTsToSeconds(yme.baseMediaDecodeTime)};yme.prependedContentDuration&&(gme.prependedContentDuration=w_e.videoTsToSeconds(yme.prependedContentDuration)),fme.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:gme})}),mme.on("id3Frame",function(yme){fme.postMessage({action:"id3Frame",id3Frame:yme})}),mme.on("caption",function(yme){fme.postMessage({action:"caption",caption:yme})}),mme.on("trackinfo",function(yme){fme.postMessage({action:"trackinfo",trackInfo:yme})}),mme.on("audioTimingInfo",function(yme){fme.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:w_e.videoTsToSeconds(yme.start),end:w_e.videoTsToSeconds(yme.end)}})}),mme.on("videoTimingInfo",function(yme){fme.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:w_e.videoTsToSeconds(yme.start),end:w_e.videoTsToSeconds(yme.end)}})}),mme.on("log",function(yme){fme.postMessage({action:"log",log:yme})})};class Abe{constructor(mme,yme){this.options=yme||{},this.self=mme,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new p1e.Transmuxer(this.options),cEe(this.self,this.transmuxer)}pushMp4Captions(mme){this.captionParser||(this.captionParser=new N1e,this.captionParser.init());const yme=new Uint8Array(mme.data,mme.byteOffset,mme.byteLength),gme=this.captionParser.parse(yme,mme.trackIds,mme.timescales);this.self.postMessage({action:"mp4Captions",captions:gme&&gme.captions||[],logs:gme&&gme.logs||[],data:yme.buffer},[yme.buffer])}probeMp4StartTime({timescales:mme,data:yme}){const gme=qye.startTime(mme,yme);this.self.postMessage({action:"probeMp4StartTime",startTime:gme,data:yme},[yme.buffer])}probeMp4Tracks({data:mme}){const yme=qye.tracks(mme);this.self.postMessage({action:"probeMp4Tracks",tracks:yme,data:mme},[mme.buffer])}probeEmsgID3({data:mme,offset:yme}){const gme=qye.getEmsgID3(mme,yme);this.self.postMessage({action:"probeEmsgID3",id3Frames:gme,emsgData:mme},[mme.buffer])}probeTs({data:mme,baseStartTime:yme}){const gme=typeof yme=="number"&&!isNaN(yme)?yme*w_e.ONE_SECOND_IN_TS:void 0,bme=uEe.inspect(mme,gme);let xme=null;bme&&(xme={hasVideo:bme.video&&bme.video.length===2||!1,hasAudio:bme.audio&&bme.audio.length===2||!1},xme.hasVideo&&(xme.videoStart=bme.video[0].ptsTime),xme.hasAudio&&(xme.audioStart=bme.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:xme,data:mme},[mme.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(mme){const yme=new Uint8Array(mme.data,mme.byteOffset,mme.byteLength);this.transmuxer.push(yme)}reset(){this.transmuxer.reset()}setTimestampOffset(mme){const yme=mme.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(w_e.secondsToVideoTs(yme)))}setAudioAppendStart(mme){this.transmuxer.setAudioAppendStart(Math.ceil(w_e.secondsToVideoTs(mme.appendStart)))}setRemux(mme){this.transmuxer.setRemux(mme.remux)}flush(mme){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(mme){this.transmuxer.alignGopsWith(mme.gopsToAlignWith.slice())}}self.onmessage=function(fme){if(fme.data.action==="init"&&fme.data.options){this.messageHandlers=new Abe(self,fme.data.options);return}this.messageHandlers||(this.messageHandlers=new Abe(self)),fme.data&&fme.data.action&&fme.data.action!=="init"&&this.messageHandlers[fme.data.action]&&this.messageHandlers[fme.data.action](fme.data)}}));var TransmuxWorker=factory(workerCode$1);const handleData_=(kh,Ff,x_)=>{const{type:$P,initSegment:zP,captions:eme,captionStreams:tme,metadata:nme,videoFrameDtsTime:rme,videoFramePtsTime:ime}=kh.data.segment;Ff.buffer.push({captions:eme,captionStreams:tme,metadata:nme});const ome=kh.data.segment.boxes||{data:kh.data.segment.data},sme={type:$P,data:new Uint8Array(ome.data,ome.data.byteOffset,ome.data.byteLength),initSegment:new Uint8Array(zP.data,zP.byteOffset,zP.byteLength)};typeof rme!="undefined"&&(sme.videoFrameDtsTime=rme),typeof ime!="undefined"&&(sme.videoFramePtsTime=ime),x_(sme)},handleDone_=({transmuxedData:kh,callback:Ff})=>{kh.buffer=[],Ff(kh)},handleGopInfo_=(kh,Ff)=>{Ff.gopInfo=kh.data.gopInfo},processTransmux=kh=>{const{transmuxer:Ff,bytes:x_,audioAppendStart:$P,gopsToAlignWith:zP,remux:eme,onData:tme,onTrackInfo:nme,onAudioTimingInfo:rme,onVideoTimingInfo:ime,onVideoSegmentTimingInfo:ome,onAudioSegmentTimingInfo:sme,onId3:ame,onCaptions:lme,onDone:ume,onEndedTimeline:dme,onTransmuxerLog:pme,isEndOfTimeline:hme}=kh,cme={buffer:[]};let _me=hme;const vme=Eme=>{Ff.currentTransmux===kh&&(Eme.data.action==="data"&&handleData_(Eme,cme,tme),Eme.data.action==="trackinfo"&&nme(Eme.data.trackInfo),Eme.data.action==="gopInfo"&&handleGopInfo_(Eme,cme),Eme.data.action==="audioTimingInfo"&&rme(Eme.data.audioTimingInfo),Eme.data.action==="videoTimingInfo"&&ime(Eme.data.videoTimingInfo),Eme.data.action==="videoSegmentTimingInfo"&&ome(Eme.data.videoSegmentTimingInfo),Eme.data.action==="audioSegmentTimingInfo"&&sme(Eme.data.audioSegmentTimingInfo),Eme.data.action==="id3Frame"&&ame([Eme.data.id3Frame],Eme.data.id3Frame.dispatchType),Eme.data.action==="caption"&&lme(Eme.data.caption),Eme.data.action==="endedtimeline"&&(_me=!1,dme()),Eme.data.action==="log"&&pme(Eme.data.log),Eme.data.type==="transmuxed"&&(_me||(Ff.onmessage=null,handleDone_({transmuxedData:cme,callback:ume}),dequeue(Ff))))};if(Ff.onmessage=vme,$P&&Ff.postMessage({action:"setAudioAppendStart",appendStart:$P}),Array.isArray(zP)&&Ff.postMessage({action:"alignGopsWith",gopsToAlignWith:zP}),typeof eme!="undefined"&&Ff.postMessage({action:"setRemux",remux:eme}),x_.byteLength){const Eme=x_ instanceof ArrayBuffer?x_:x_.buffer,wme=x_ instanceof ArrayBuffer?0:x_.byteOffset;Ff.postMessage({action:"push",data:Eme,byteOffset:wme,byteLength:x_.byteLength},[Eme])}hme&&Ff.postMessage({action:"endTimeline"}),Ff.postMessage({action:"flush"})},dequeue=kh=>{kh.currentTransmux=null,kh.transmuxQueue.length&&(kh.currentTransmux=kh.transmuxQueue.shift(),typeof kh.currentTransmux=="function"?kh.currentTransmux():processTransmux(kh.currentTransmux))},processAction=(kh,Ff)=>{kh.postMessage({action:Ff}),dequeue(kh)},enqueueAction=(kh,Ff)=>{if(!Ff.currentTransmux){Ff.currentTransmux=kh,processAction(Ff,kh);return}Ff.transmuxQueue.push(processAction.bind(null,Ff,kh))},reset=kh=>{enqueueAction("reset",kh)},endTimeline=kh=>{enqueueAction("endTimeline",kh)},transmux=kh=>{if(!kh.transmuxer.currentTransmux){kh.transmuxer.currentTransmux=kh,processTransmux(kh);return}kh.transmuxer.transmuxQueue.push(kh)},createTransmuxer=kh=>{const Ff=new TransmuxWorker;Ff.currentTransmux=null,Ff.transmuxQueue=[];const x_=Ff.terminate;return Ff.terminate=()=>(Ff.currentTransmux=null,Ff.transmuxQueue.length=0,x_.call(Ff)),Ff.postMessage({action:"init",options:kh}),Ff};var segmentTransmuxer={reset,endTimeline,transmux,createTransmuxer};const workerCallback=function(kh){const Ff=kh.transmuxer,x_=kh.endAction||kh.action,$P=kh.callback,zP=_extends$1({},kh,{endAction:null,transmuxer:null,callback:null}),eme=tme=>{tme.data.action===x_&&(Ff.removeEventListener("message",eme),tme.data.data&&(tme.data.data=new Uint8Array(tme.data.data,kh.byteOffset||0,kh.byteLength||tme.data.data.byteLength),kh.data&&(kh.data=tme.data.data)),$P(tme.data))};if(Ff.addEventListener("message",eme),kh.data){const tme=kh.data instanceof ArrayBuffer;zP.byteOffset=tme?0:kh.data.byteOffset,zP.byteLength=kh.data.byteLength;const nme=[tme?kh.data:kh.data.buffer];Ff.postMessage(zP,nme)}else Ff.postMessage(zP)},REQUEST_ERRORS={FAILURE:2,TIMEOUT:-101,ABORTED:-102},abortAll=kh=>{kh.forEach(Ff=>{Ff.abort()})},getRequestStats=kh=>({bandwidth:kh.bandwidth,bytesReceived:kh.bytesReceived||0,roundTripTime:kh.roundTripTime||0}),getProgressStats=kh=>{const Ff=kh.target,$P={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-Ff.requestTime||0};return $P.bytesReceived=kh.loaded,$P.bandwidth=Math.floor($P.bytesReceived/$P.roundTripTime*8*1e3),$P},handleErrors=(kh,Ff)=>Ff.timedout?{status:Ff.status,message:"HLS request timed-out at URL: "+Ff.uri,code:REQUEST_ERRORS.TIMEOUT,xhr:Ff}:Ff.aborted?{status:Ff.status,message:"HLS request aborted at URL: "+Ff.uri,code:REQUEST_ERRORS.ABORTED,xhr:Ff}:kh?{status:Ff.status,message:"HLS request errored at URL: "+Ff.uri,code:REQUEST_ERRORS.FAILURE,xhr:Ff}:Ff.responseType==="arraybuffer"&&Ff.response.byteLength===0?{status:Ff.status,message:"Empty HLS response at URL: "+Ff.uri,code:REQUEST_ERRORS.FAILURE,xhr:Ff}:null,handleKeyResponse=(kh,Ff,x_)=>($P,zP)=>{const eme=zP.response,tme=handleErrors($P,zP);if(tme)return x_(tme,kh);if(eme.byteLength!==16)return x_({status:zP.status,message:"Invalid HLS key at URL: "+zP.uri,code:REQUEST_ERRORS.FAILURE,xhr:zP},kh);const nme=new DataView(eme),rme=new Uint32Array([nme.getUint32(0),nme.getUint32(4),nme.getUint32(8),nme.getUint32(12)]);for(let ime=0;ime<Ff.length;ime++)Ff[ime].bytes=rme;return x_(null,kh)},parseInitSegment=(kh,Ff)=>{const x_=detectContainerForBytes(kh.map.bytes);if(x_!=="mp4"){const $P=kh.map.resolvedUri||kh.map.uri;return Ff({internal:!0,message:`Found unsupported ${x_||"unknown"} container for initialization segment at URL: ${$P}`,code:REQUEST_ERRORS.FAILURE})}workerCallback({action:"probeMp4Tracks",data:kh.map.bytes,transmuxer:kh.transmuxer,callback:({tracks:$P,data:zP})=>(kh.map.bytes=zP,$P.forEach(function(eme){kh.map.tracks=kh.map.tracks||{},!kh.map.tracks[eme.type]&&(kh.map.tracks[eme.type]=eme,typeof eme.id=="number"&&eme.timescale&&(kh.map.timescales=kh.map.timescales||{},kh.map.timescales[eme.id]=eme.timescale))}),Ff(null))})},handleInitSegmentResponse=({segment:kh,finishProcessingFn:Ff})=>(x_,$P)=>{const zP=handleErrors(x_,$P);if(zP)return Ff(zP,kh);const eme=new Uint8Array($P.response);if(kh.map.key)return kh.map.encryptedBytes=eme,Ff(null,kh);kh.map.bytes=eme,parseInitSegment(kh,function(tme){if(tme)return tme.xhr=$P,tme.status=$P.status,Ff(tme,kh);Ff(null,kh)})},handleSegmentResponse=({segment:kh,finishProcessingFn:Ff,responseType:x_})=>($P,zP)=>{const eme=handleErrors($P,zP);if(eme)return Ff(eme,kh);const tme=x_==="arraybuffer"||!zP.responseText?zP.response:stringToArrayBuffer(zP.responseText.substring(kh.lastReachedChar||0));return kh.stats=getRequestStats(zP),kh.key?kh.encryptedBytes=new Uint8Array(tme):kh.bytes=new Uint8Array(tme),Ff(null,kh)},transmuxAndNotify=({segment:kh,bytes:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})=>{const lme=kh.map&&kh.map.tracks||{},ume=!!(lme.audio&&lme.video);let dme=$P.bind(null,kh,"audio","start");const pme=$P.bind(null,kh,"audio","end");let hme=$P.bind(null,kh,"video","start");const cme=$P.bind(null,kh,"video","end"),_me=()=>transmux({bytes:Ff,transmuxer:kh.transmuxer,audioAppendStart:kh.audioAppendStart,gopsToAlignWith:kh.gopsToAlignWith,remux:ume,onData:vme=>{vme.type=vme.type==="combined"?"video":vme.type,ome(kh,vme)},onTrackInfo:vme=>{x_&&(ume&&(vme.isMuxed=!0),x_(kh,vme))},onAudioTimingInfo:vme=>{dme&&typeof vme.start!="undefined"&&(dme(vme.start),dme=null),pme&&typeof vme.end!="undefined"&&pme(vme.end)},onVideoTimingInfo:vme=>{hme&&typeof vme.start!="undefined"&&(hme(vme.start),hme=null),cme&&typeof vme.end!="undefined"&&cme(vme.end)},onVideoSegmentTimingInfo:vme=>{zP(vme)},onAudioSegmentTimingInfo:vme=>{eme(vme)},onId3:(vme,Eme)=>{tme(kh,vme,Eme)},onCaptions:vme=>{nme(kh,[vme])},isEndOfTimeline:rme,onEndedTimeline:()=>{ime()},onTransmuxerLog:ame,onDone:vme=>{sme&&(vme.type=vme.type==="combined"?"video":vme.type,sme(null,kh,vme))}});workerCallback({action:"probeTs",transmuxer:kh.transmuxer,data:Ff,baseStartTime:kh.baseStartTime,callback:vme=>{kh.bytes=Ff=vme.data;const Eme=vme.result;Eme&&(x_(kh,{hasAudio:Eme.hasAudio,hasVideo:Eme.hasVideo,isMuxed:ume}),x_=null),_me()}})},handleSegmentBytes=({segment:kh,bytes:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})=>{let lme=new Uint8Array(Ff);if(isLikelyFmp4MediaSegment(lme)){kh.isFmp4=!0;const{tracks:ume}=kh.map,dme={isFmp4:!0,hasVideo:!!ume.video,hasAudio:!!ume.audio};ume.audio&&ume.audio.codec&&ume.audio.codec!=="enca"&&(dme.audioCodec=ume.audio.codec),ume.video&&ume.video.codec&&ume.video.codec!=="encv"&&(dme.videoCodec=ume.video.codec),ume.video&&ume.audio&&(dme.isMuxed=!0),x_(kh,dme);const pme=(hme,cme)=>{ome(kh,{data:lme,type:dme.hasAudio&&!dme.isMuxed?"audio":"video"}),cme&&cme.length&&tme(kh,cme),hme&&hme.length&&nme(kh,hme),sme(null,kh,{})};workerCallback({action:"probeMp4StartTime",timescales:kh.map.timescales,data:lme,transmuxer:kh.transmuxer,callback:({data:hme,startTime:cme})=>{Ff=hme.buffer,kh.bytes=lme=hme,dme.hasAudio&&!dme.isMuxed&&$P(kh,"audio","start",cme),dme.hasVideo&&$P(kh,"video","start",cme),workerCallback({action:"probeEmsgID3",data:lme,transmuxer:kh.transmuxer,offset:cme,callback:({emsgData:_me,id3Frames:vme})=>{if(Ff=_me.buffer,kh.bytes=lme=_me,!ume.video||!_me.byteLength||!kh.transmuxer){pme(void 0,vme);return}workerCallback({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:kh.transmuxer,data:lme,timescales:kh.map.timescales,trackIds:[ume.video.id],callback:Eme=>{Ff=Eme.data.buffer,kh.bytes=lme=Eme.data,Eme.logs.forEach(function(wme){ame(merge(wme,{stream:"mp4CaptionParser"}))}),pme(Eme.captions,vme)}})}})}});return}if(!kh.transmuxer){sme(null,kh,{});return}if(typeof kh.container=="undefined"&&(kh.container=detectContainerForBytes(lme)),kh.container!=="ts"&&kh.container!=="aac"){x_(kh,{hasAudio:!1,hasVideo:!1}),sme(null,kh,{});return}transmuxAndNotify({segment:kh,bytes:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})},decrypt=function({id:kh,key:Ff,encryptedBytes:x_,decryptionWorker:$P},zP){const eme=nme=>{if(nme.data.source===kh){$P.removeEventListener("message",eme);const rme=nme.data.decrypted;zP(new Uint8Array(rme.bytes,rme.byteOffset,rme.byteLength))}};$P.addEventListener("message",eme);let tme;Ff.bytes.slice?tme=Ff.bytes.slice():tme=new Uint32Array(Array.prototype.slice.call(Ff.bytes)),$P.postMessage(createTransferableMessage({source:kh,encrypted:x_,key:tme,iv:Ff.iv}),[x_.buffer,tme.buffer])},decryptSegment=({decryptionWorker:kh,segment:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})=>{decrypt({id:Ff.requestId,key:Ff.key,encryptedBytes:Ff.encryptedBytes,decryptionWorker:kh},lme=>{Ff.bytes=lme,handleSegmentBytes({segment:Ff,bytes:Ff.bytes,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})})},waitForCompletion=({activeXhrs:kh,decryptionWorker:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})=>{let lme=0,ume=!1;return(dme,pme)=>{if(!ume){if(dme)return ume=!0,abortAll(kh),sme(dme,pme);if(lme+=1,lme===kh.length){const hme=function(){if(pme.encryptedBytes)return decryptSegment({decryptionWorker:Ff,segment:pme,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame});handleSegmentBytes({segment:pme,bytes:pme.bytes,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome,doneFn:sme,onTransmuxerLog:ame})};if(pme.endOfAllRequests=Date.now(),pme.map&&pme.map.encryptedBytes&&!pme.map.bytes)return decrypt({decryptionWorker:Ff,id:pme.requestId+"-init",encryptedBytes:pme.map.encryptedBytes,key:pme.map.key},cme=>{pme.map.bytes=cme,parseInitSegment(pme,_me=>{if(_me)return abortAll(kh),sme(_me,pme);hme()})});hme()}}}},handleLoadEnd=({loadendState:kh,abortFn:Ff})=>x_=>{x_.target.aborted&&Ff&&!kh.calledAbortFn&&(Ff(),kh.calledAbortFn=!0)},handleProgress=({segment:kh,progressFn:Ff,trackInfoFn:x_,timingInfoFn:$P,videoSegmentTimingInfoFn:zP,audioSegmentTimingInfoFn:eme,id3Fn:tme,captionsFn:nme,isEndOfTimeline:rme,endedTimelineFn:ime,dataFn:ome})=>sme=>{if(!sme.target.aborted)return kh.stats=merge(kh.stats,getProgressStats(sme)),!kh.stats.firstBytesReceivedAt&&kh.stats.bytesReceived&&(kh.stats.firstBytesReceivedAt=Date.now()),Ff(sme,kh)},mediaSegmentRequest=({xhr:kh,xhrOptions:Ff,decryptionWorker:x_,segment:$P,abortFn:zP,progressFn:eme,trackInfoFn:tme,timingInfoFn:nme,videoSegmentTimingInfoFn:rme,audioSegmentTimingInfoFn:ime,id3Fn:ome,captionsFn:sme,isEndOfTimeline:ame,endedTimelineFn:lme,dataFn:ume,doneFn:dme,onTransmuxerLog:pme})=>{const hme=[],cme=waitForCompletion({activeXhrs:hme,decryptionWorker:x_,trackInfoFn:tme,timingInfoFn:nme,videoSegmentTimingInfoFn:rme,audioSegmentTimingInfoFn:ime,id3Fn:ome,captionsFn:sme,isEndOfTimeline:ame,endedTimelineFn:lme,dataFn:ume,doneFn:dme,onTransmuxerLog:pme});if($P.key&&!$P.key.bytes){const Tme=[$P.key];$P.map&&!$P.map.bytes&&$P.map.key&&$P.map.key.resolvedUri===$P.key.resolvedUri&&Tme.push($P.map.key);const Dme=merge(Ff,{uri:$P.key.resolvedUri,responseType:"arraybuffer"}),Ame=handleKeyResponse($P,Tme,cme),Nme=kh(Dme,Ame);hme.push(Nme)}if($P.map&&!$P.map.bytes){if($P.map.key&&(!$P.key||$P.key.resolvedUri!==$P.map.key.resolvedUri)){const Ume=merge(Ff,{uri:$P.map.key.resolvedUri,responseType:"arraybuffer"}),jme=handleKeyResponse($P,[$P.map.key],cme),Fme=kh(Ume,jme);hme.push(Fme)}const Dme=merge(Ff,{uri:$P.map.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders($P.map)}),Ame=handleInitSegmentResponse({segment:$P,finishProcessingFn:cme}),Nme=kh(Dme,Ame);hme.push(Nme)}const _me=merge(Ff,{uri:$P.part&&$P.part.resolvedUri||$P.resolvedUri,responseType:"arraybuffer",headers:segmentXhrHeaders($P)}),vme=handleSegmentResponse({segment:$P,finishProcessingFn:cme,responseType:_me.responseType}),Eme=kh(_me,vme);Eme.addEventListener("progress",handleProgress({segment:$P,progressFn:eme,trackInfoFn:tme,timingInfoFn:nme,videoSegmentTimingInfoFn:rme,audioSegmentTimingInfoFn:ime,id3Fn:ome,captionsFn:sme,isEndOfTimeline:ame,endedTimelineFn:lme,dataFn:ume})),hme.push(Eme);const wme={};return hme.forEach(Tme=>{Tme.addEventListener("loadend",handleLoadEnd({loadendState:wme,abortFn:zP}))}),()=>abortAll(hme)},logFn$1=logger("CodecUtils"),getCodecs=function(kh){const Ff=kh.attributes||{};if(Ff.CODECS)return parseCodecs(Ff.CODECS)},isMaat=(kh,Ff)=>{const x_=Ff.attributes||{};return kh&&kh.mediaGroups&&kh.mediaGroups.AUDIO&&x_.AUDIO&&kh.mediaGroups.AUDIO[x_.AUDIO]},isMuxed=(kh,Ff)=>{if(!isMaat(kh,Ff))return!0;const x_=Ff.attributes||{},$P=kh.mediaGroups.AUDIO[x_.AUDIO];for(const zP in $P)if(!$P[zP].uri&&!$P[zP].playlists)return!0;return!1},unwrapCodecList=function(kh){const Ff={};return kh.forEach(({mediaType:x_,type:$P,details:zP})=>{Ff[x_]=Ff[x_]||[],Ff[x_].push(translateLegacyCodec(`${$P}${zP}`))}),Object.keys(Ff).forEach(function(x_){if(Ff[x_].length>1){logFn$1(`multiple ${x_} codecs found as attributes: ${Ff[x_].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),Ff[x_]=null;return}Ff[x_]=Ff[x_][0]}),Ff},codecCount=function(kh){let Ff=0;return kh.audio&&Ff++,kh.video&&Ff++,Ff},codecsForPlaylist=function(kh,Ff){const x_=Ff.attributes||{},$P=unwrapCodecList(getCodecs(Ff)||[]);if(isMaat(kh,Ff)&&!$P.audio&&!isMuxed(kh,Ff)){const zP=unwrapCodecList(codecsFromDefault(kh,x_.AUDIO)||[]);zP.audio&&($P.audio=zP.audio)}return $P},logFn=logger("PlaylistSelector"),representationToString=function(kh){if(!kh||!kh.playlist)return;const Ff=kh.playlist;return JSON.stringify({id:Ff.id,bandwidth:kh.bandwidth,width:kh.width,height:kh.height,codecs:Ff.attributes&&Ff.attributes.CODECS||""})},safeGetComputedStyle=function(kh,Ff){if(!kh)return"";const x_=window$1$1.getComputedStyle(kh);return x_?x_[Ff]:""},stableSort=function(kh,Ff){const x_=kh.slice();kh.sort(function($P,zP){const eme=Ff($P,zP);return eme===0?x_.indexOf($P)-x_.indexOf(zP):eme})},comparePlaylistBandwidth=function(kh,Ff){let x_,$P;return kh.attributes.BANDWIDTH&&(x_=kh.attributes.BANDWIDTH),x_=x_||window$1$1.Number.MAX_VALUE,Ff.attributes.BANDWIDTH&&($P=Ff.attributes.BANDWIDTH),$P=$P||window$1$1.Number.MAX_VALUE,x_-$P},comparePlaylistResolution=function(kh,Ff){let x_,$P;return kh.attributes.RESOLUTION&&kh.attributes.RESOLUTION.width&&(x_=kh.attributes.RESOLUTION.width),x_=x_||window$1$1.Number.MAX_VALUE,Ff.attributes.RESOLUTION&&Ff.attributes.RESOLUTION.width&&($P=Ff.attributes.RESOLUTION.width),$P=$P||window$1$1.Number.MAX_VALUE,x_===$P&&kh.attributes.BANDWIDTH&&Ff.attributes.BANDWIDTH?kh.attributes.BANDWIDTH-Ff.attributes.BANDWIDTH:x_-$P};let simpleSelector=function(kh,Ff,x_,$P,zP,eme){if(!kh)return;const tme={bandwidth:Ff,width:x_,height:$P,limitRenditionByPlayerDimensions:zP};let nme=kh.playlists;Playlist.isAudioOnly(kh)&&(nme=eme.getAudioTrackPlaylists_(),tme.audioOnly=!0);let rme=nme.map(Eme=>{let wme;const Tme=Eme.attributes&&Eme.attributes.RESOLUTION&&Eme.attributes.RESOLUTION.width,Dme=Eme.attributes&&Eme.attributes.RESOLUTION&&Eme.attributes.RESOLUTION.height;return wme=Eme.attributes&&Eme.attributes.BANDWIDTH,wme=wme||window$1$1.Number.MAX_VALUE,{bandwidth:wme,width:Tme,height:Dme,playlist:Eme}});stableSort(rme,(Eme,wme)=>Eme.bandwidth-wme.bandwidth),rme=rme.filter(Eme=>!Playlist.isIncompatible(Eme.playlist));let ime=rme.filter(Eme=>Playlist.isEnabled(Eme.playlist));ime.length||(ime=rme.filter(Eme=>!Playlist.isDisabled(Eme.playlist)));const ome=ime.filter(Eme=>Eme.bandwidth*Config.BANDWIDTH_VARIANCE<Ff);let sme=ome[ome.length-1];const ame=ome.filter(Eme=>Eme.bandwidth===sme.bandwidth)[0];if(zP===!1){const Eme=ame||ime[0]||rme[0];if(Eme&&Eme.playlist){let wme="sortedPlaylistReps";return ame&&(wme="bandwidthBestRep"),ime[0]&&(wme="enabledPlaylistReps"),logFn(`choosing ${representationToString(Eme)} using ${wme} with options`,tme),Eme.playlist}return logFn("could not choose a playlist with options",tme),null}const lme=ome.filter(Eme=>Eme.width&&Eme.height);stableSort(lme,(Eme,wme)=>Eme.width-wme.width);const ume=lme.filter(Eme=>Eme.width===x_&&Eme.height===$P);sme=ume[ume.length-1];const dme=ume.filter(Eme=>Eme.bandwidth===sme.bandwidth)[0];let pme,hme,cme;dme||(pme=lme.filter(Eme=>Eme.width>x_||Eme.height>$P),hme=pme.filter(Eme=>Eme.width===pme[0].width&&Eme.height===pme[0].height),sme=hme[hme.length-1],cme=hme.filter(Eme=>Eme.bandwidth===sme.bandwidth)[0]);let _me;if(eme.leastPixelDiffSelector){const Eme=lme.map(wme=>(wme.pixelDiff=Math.abs(wme.width-x_)+Math.abs(wme.height-$P),wme));stableSort(Eme,(wme,Tme)=>wme.pixelDiff===Tme.pixelDiff?Tme.bandwidth-wme.bandwidth:wme.pixelDiff-Tme.pixelDiff),_me=Eme[0]}const vme=_me||cme||dme||ame||ime[0]||rme[0];if(vme&&vme.playlist){let Eme="sortedPlaylistReps";return _me?Eme="leastPixelDiffRep":cme?Eme="resolutionPlusOneRep":dme?Eme="resolutionBestRep":ame?Eme="bandwidthBestRep":ime[0]&&(Eme="enabledPlaylistReps"),logFn(`choosing ${representationToString(vme)} using ${Eme} with options`,tme),vme.playlist}return logFn("could not choose a playlist with options",tme),null};const lastBandwidthSelector=function(){const kh=this.useDevicePixelRatio&&window$1$1.devicePixelRatio||1;return simpleSelector(this.playlists.main,this.systemBandwidth,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*kh,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*kh,this.limitRenditionByPlayerDimensions,this.playlistController_)},movingAverageBandwidthSelector=function(kh){let Ff=-1,x_=-1;if(kh<0||kh>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const $P=this.useDevicePixelRatio&&window$1$1.devicePixelRatio||1;return Ff<0&&(Ff=this.systemBandwidth,x_=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==x_&&(Ff=kh*this.systemBandwidth+(1-kh)*Ff,x_=this.systemBandwidth),simpleSelector(this.playlists.main,Ff,parseInt(safeGetComputedStyle(this.tech_.el(),"width"),10)*$P,parseInt(safeGetComputedStyle(this.tech_.el(),"height"),10)*$P,this.limitRenditionByPlayerDimensions,this.playlistController_)}},minRebufferMaxBandwidthSelector=function(kh){const{main:Ff,currentTime:x_,bandwidth:$P,duration:zP,segmentDuration:eme,timeUntilRebuffer:tme,currentTimeline:nme,syncController:rme}=kh,ime=Ff.playlists.filter(ume=>!Playlist.isIncompatible(ume));let ome=ime.filter(Playlist.isEnabled);ome.length||(ome=ime.filter(ume=>!Playlist.isDisabled(ume)));const ame=ome.filter(Playlist.hasAttribute.bind(null,"BANDWIDTH")).map(ume=>{const pme=rme.getSyncPoint(ume,zP,nme,x_)?1:2,cme=Playlist.estimateSegmentRequestTime(eme,$P,ume)*pme-tme;return{playlist:ume,rebufferingImpact:cme}}),lme=ame.filter(ume=>ume.rebufferingImpact<=0);return stableSort(lme,(ume,dme)=>comparePlaylistBandwidth(dme.playlist,ume.playlist)),lme.length?lme[0]:(stableSort(ame,(ume,dme)=>ume.rebufferingImpact-dme.rebufferingImpact),ame[0]||null)},lowestBitrateCompatibleVariantSelector=function(){const kh=this.playlists.main.playlists.filter(Playlist.isEnabled);return stableSort(kh,(x_,$P)=>comparePlaylistBandwidth(x_,$P)),kh.filter(x_=>!!codecsForPlaylist(this.playlists.main,x_).video)[0]||null},concatSegments=kh=>{let Ff=0,x_;return kh.bytes&&(x_=new Uint8Array(kh.bytes),kh.segments.forEach($P=>{x_.set($P,Ff),Ff+=$P.byteLength})),x_},createCaptionsTrackIfNotExists=function(kh,Ff,x_){if(!kh[x_]){Ff.trigger({type:"usage",name:"vhs-608"});let $P=x_;/^cc708_/.test(x_)&&($P="SERVICE"+x_.split("_")[1]);const zP=Ff.textTracks().getTrackById($P);if(zP)kh[x_]=zP;else{const eme=Ff.options_.vhs&&Ff.options_.vhs.captionServices||{};let tme=x_,nme=x_,rme=!1;const ime=eme[$P];ime&&(tme=ime.label,nme=ime.language,rme=ime.default),kh[x_]=Ff.addRemoteTextTrack({kind:"captions",id:$P,default:rme,label:tme,language:nme},!1).track}}},addCaptionData=function({inbandTextTracks:kh,captionArray:Ff,timestampOffset:x_}){if(!Ff)return;const $P=window$1$1.WebKitDataCue||window$1$1.VTTCue;Ff.forEach(zP=>{const eme=zP.stream;zP.content?zP.content.forEach(tme=>{const nme=new $P(zP.startTime+x_,zP.endTime+x_,tme.text);nme.line=tme.line,nme.align="left",nme.position=tme.position,nme.positionAlign="line-left",kh[eme].addCue(nme)}):kh[eme].addCue(new $P(zP.startTime+x_,zP.endTime+x_,zP.text))})},deprecateOldCue=function(kh){Object.defineProperties(kh.frame,{id:{get(){return videojs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),kh.value.key}},value:{get(){return videojs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),kh.value.data}},privateData:{get(){return videojs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),kh.value.data}}})},addMetadata=({inbandTextTracks:kh,metadataArray:Ff,timestampOffset:x_,videoDuration:$P})=>{if(!Ff)return;const zP=window$1$1.WebKitDataCue||window$1$1.VTTCue,eme=kh.metadataTrack_;if(!eme||(Ff.forEach(ome=>{const sme=ome.cueTime+x_;typeof sme!="number"||window$1$1.isNaN(sme)||sme<0||!(sme<1/0)||!ome.frames||!ome.frames.length||ome.frames.forEach(ame=>{const lme=new zP(sme,sme,ame.value||ame.url||ame.data||"");lme.frame=ame,lme.value=ame,deprecateOldCue(lme),eme.addCue(lme)})}),!eme.cues||!eme.cues.length))return;const tme=eme.cues,nme=[];for(let ome=0;ome<tme.length;ome++)tme[ome]&&nme.push(tme[ome]);const rme=nme.reduce((ome,sme)=>{const ame=ome[sme.startTime]||[];return ame.push(sme),ome[sme.startTime]=ame,ome},{}),ime=Object.keys(rme).sort((ome,sme)=>Number(ome)-Number(sme));ime.forEach((ome,sme)=>{const ame=rme[ome],lme=isFinite($P)?$P:0,ume=Number(ime[sme+1])||lme;ame.forEach(dme=>{dme.endTime=ume})})},dateRangeAttr={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},dateRangeKeysToOmit=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),addDateRangeMetadata=({inbandTextTracks:kh,dateRanges:Ff})=>{const x_=kh.metadataTrack_;if(!x_)return;const $P=window$1$1.WebKitDataCue||window$1$1.VTTCue;Ff.forEach(zP=>{for(const eme of Object.keys(zP)){if(dateRangeKeysToOmit.has(eme))continue;const tme=new $P(zP.startTime,zP.endTime,"");tme.id=zP.id,tme.type="com.apple.quicktime.HLS",tme.value={key:dateRangeAttr[eme],data:zP[eme]},(eme==="scte35Out"||eme==="scte35In")&&(tme.value.data=new Uint8Array(tme.value.data.match(/[\da-f]{2}/gi)).buffer),x_.addCue(tme)}zP.processDateRange()})},createMetadataTrackIfNotExists=(kh,Ff,x_)=>{kh.metadataTrack_||(kh.metadataTrack_=x_.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,videojs.browser.IS_ANY_SAFARI||(kh.metadataTrack_.inBandMetadataTrackDispatchType=Ff))},removeCuesFromTrack=function(kh,Ff,x_){let $P,zP;if(x_&&x_.cues)for($P=x_.cues.length;$P--;)zP=x_.cues[$P],zP.startTime>=kh&&zP.endTime<=Ff&&x_.removeCue(zP)},removeDuplicateCuesFromTrack=function(kh){const Ff=kh.cues;if(!Ff)return;const x_={};for(let $P=Ff.length-1;$P>=0;$P--){const zP=Ff[$P],eme=`${zP.startTime}-${zP.endTime}-${zP.text}`;x_[eme]?kh.removeCue(zP):x_[eme]=zP}},gopsSafeToAlignWith=(kh,Ff,x_)=>{if(typeof Ff=="undefined"||Ff===null||!kh.length)return[];const $P=Math.ceil((Ff-x_+3)*clock.ONE_SECOND_IN_TS);let zP;for(zP=0;zP<kh.length&&!(kh[zP].pts>$P);zP++);return kh.slice(zP)},updateGopBuffer=(kh,Ff,x_)=>{if(!Ff.length)return kh;if(x_)return Ff.slice();const $P=Ff[0].pts;let zP=0;for(zP;zP<kh.length&&!(kh[zP].pts>=$P);zP++);return kh.slice(0,zP).concat(Ff)},removeGopBuffer=(kh,Ff,x_,$P)=>{const zP=Math.ceil((Ff-$P)*clock.ONE_SECOND_IN_TS),eme=Math.ceil((x_-$P)*clock.ONE_SECOND_IN_TS),tme=kh.slice();let nme=kh.length;for(;nme--&&!(kh[nme].pts<=eme););if(nme===-1)return tme;let rme=nme+1;for(;rme--&&!(kh[rme].pts<=zP););return rme=Math.max(rme,0),tme.splice(rme,nme-rme+1),tme},shallowEqual=function(kh,Ff){if(!kh&&!Ff||!kh&&Ff||kh&&!Ff)return!1;if(kh===Ff)return!0;const x_=Object.keys(kh).sort(),$P=Object.keys(Ff).sort();if(x_.length!==$P.length)return!1;for(let zP=0;zP<x_.length;zP++){const eme=x_[zP];if(eme!==$P[zP]||kh[eme]!==Ff[eme])return!1}return!0},QUOTA_EXCEEDED_ERR=22,getSyncSegmentCandidate=function(kh,Ff,x_){Ff=Ff||[];const $P=[];let zP=0;for(let eme=0;eme<Ff.length;eme++){const tme=Ff[eme];if(kh===tme.timeline&&($P.push(eme),zP+=tme.duration,zP>x_))return eme}return $P.length===0?0:$P[$P.length-1]},MIN_BACK_BUFFER=1,CHECK_BUFFER_DELAY=500,finite=kh=>typeof kh=="number"&&isFinite(kh),MIN_SEGMENT_DURATION_TO_SAVE_STATS=1/60,illegalMediaSwitch=(kh,Ff,x_)=>kh!=="main"||!Ff||!x_?null:!x_.hasAudio&&!x_.hasVideo?"Neither audio nor video found in segment.":Ff.hasVideo&&!x_.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!Ff.hasVideo&&x_.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,safeBackBufferTrimTime=(kh,Ff,x_)=>{let $P=Ff-Config.BACK_BUFFER_LENGTH;kh.length&&($P=Math.max($P,kh.start(0)));const zP=Ff-x_;return Math.min(zP,$P)},segmentInfoString=kh=>{const{startOfSegment:Ff,duration:x_,segment:$P,part:zP,playlist:{mediaSequence:eme,id:tme,segments:nme=[]},mediaIndex:rme,partIndex:ime,timeline:ome}=kh,sme=nme.length-1;let ame="mediaIndex/partIndex increment";kh.getMediaInfoForTime?ame=`getMediaInfoForTime (${kh.getMediaInfoForTime})`:kh.isSyncRequest&&(ame="getSyncSegmentCandidate (isSyncRequest)"),kh.independent&&(ame+=` with independent ${kh.independent}`);const lme=typeof ime=="number",ume=kh.segment.uri?"segment":"pre-segment",dme=lme?getKnownPartCount({preloadSegment:$P})-1:0;return`${ume} [${eme+rme}/${eme+sme}]`+(lme?` part [${ime}/${dme}]`:"")+` segment start/end [${$P.start} => ${$P.end}]`+(lme?` part start/end [${zP.start} => ${zP.end}]`:"")+` startOfSegment [${Ff}] duration [${x_}] timeline [${ome}] selected by [${ame}] playlist [${tme}]`},timingInfoPropertyForMedia=kh=>`${kh}TimingInfo`,getBufferedEndOrFallback=(kh,Ff)=>kh.length?kh.end(kh.length-1):Ff,timestampOffsetForSegment=({segmentTimeline:kh,currentTimeline:Ff,startOfSegment:x_,buffered:$P,calculateTimestampOffsetForEachSegment:zP,overrideCheck:eme})=>zP?getBufferedEndOrFallback($P,x_):!eme&&kh===Ff?null:kh<Ff?x_:getBufferedEndOrFallback($P,x_),shouldWaitForTimelineChange=({timelineChangeController:kh,currentTimeline:Ff,segmentTimeline:x_,loaderType:$P,audioDisabled:zP})=>{if(Ff===x_)return!1;if($P==="audio"){const eme=kh.lastTimelineChange({type:"main"});return!eme||eme.to!==x_}if($P==="main"&&zP){const eme=kh.pendingTimelineChange({type:"audio"});return!(eme&&eme.to===x_)}return!1},mediaDuration=kh=>{let Ff=0;return["video","audio"].forEach(function(x_){const $P=kh[`${x_}TimingInfo`];if(!$P)return;const{start:zP,end:eme}=$P;let tme;typeof zP=="bigint"||typeof eme=="bigint"?tme=window$1$1.BigInt(eme)-window$1$1.BigInt(zP):typeof zP=="number"&&typeof eme=="number"&&(tme=eme-zP),typeof tme!="undefined"&&tme>Ff&&(Ff=tme)}),typeof Ff=="bigint"&&Ff<Number.MAX_SAFE_INTEGER&&(Ff=Number(Ff)),Ff},segmentTooLong=({segmentDuration:kh,maxDuration:Ff})=>kh?Math.round(kh)>Ff+TIME_FUDGE_FACTOR:!1,getTroublesomeSegmentDurationMessage=(kh,Ff)=>{if(Ff!=="hls")return null;const x_=mediaDuration({audioTimingInfo:kh.audioTimingInfo,videoTimingInfo:kh.videoTimingInfo});if(!x_)return null;const $P=kh.playlist.targetDuration,zP=segmentTooLong({segmentDuration:x_,maxDuration:$P*2}),eme=segmentTooLong({segmentDuration:x_,maxDuration:$P}),tme=`Segment with index ${kh.mediaIndex} from playlist ${kh.playlist.id} has a duration of ${x_} when the reported duration is ${kh.duration} and the target duration is ${$P}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return zP||eme?{severity:zP?"warn":"info",message:tme}:null};class SegmentLoader extends videojs.EventTarget{constructor(Ff,x_={}){if(super(),!Ff)throw new TypeError("Initialization settings are required");if(typeof Ff.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!Ff.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=Ff.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=Ff.hasPlayed,this.currentTime_=Ff.currentTime,this.seekable_=Ff.seekable,this.seeking_=Ff.seeking,this.duration_=Ff.duration,this.mediaSource_=Ff.mediaSource,this.vhs_=Ff.vhs,this.loaderType_=Ff.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=Ff.segmentMetadataTrack,this.goalBufferLength_=Ff.goalBufferLength,this.sourceType_=Ff.sourceType,this.sourceUpdater_=Ff.sourceUpdater,this.inbandTextTracks_=Ff.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=Ff.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=Ff.parse708captions,this.useDtsForTimestampOffset_=Ff.useDtsForTimestampOffset,this.calculateTimestampOffsetForEachSegment_=Ff.calculateTimestampOffsetForEachSegment,this.captionServices_=Ff.captionServices,this.exactManifestTimings=Ff.exactManifestTimings,this.addMetadataToTextTrack=Ff.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=Ff.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=Ff.decrypter,this.syncController_=Ff.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=logger(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set($P){$P!==this.state_&&(this.logger_(`${this.state_} -> ${$P}`),this.state_=$P,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return segmentTransmuxer.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(Ff){this.audioDisabled_=!Ff,Ff?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,window$1$1.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(Ff){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==Ff}error(Ff){return typeof Ff!="undefined"&&(this.logger_("error occurred:",Ff),this.error_=Ff),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const Ff=this.getMediaInfo_();if(!this.sourceUpdater_||!Ff)return createTimeRanges();if(this.loaderType_==="main"){const{hasAudio:x_,hasVideo:$P,isMuxed:zP}=Ff;if($P&&x_&&!this.audioDisabled_&&!zP)return this.sourceUpdater_.buffered();if($P)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(Ff,x_=!1){if(!Ff)return null;const $P=initSegmentId(Ff);let zP=this.initSegments_[$P];return x_&&!zP&&Ff.bytes&&(this.initSegments_[$P]=zP={resolvedUri:Ff.resolvedUri,byterange:Ff.byterange,bytes:Ff.bytes,tracks:Ff.tracks,timescales:Ff.timescales}),zP||Ff}segmentKey(Ff,x_=!1){if(!Ff)return null;const $P=segmentKeyId(Ff);let zP=this.keyCache_[$P];this.cacheEncryptionKeys_&&x_&&!zP&&Ff.bytes&&(this.keyCache_[$P]=zP={resolvedUri:Ff.resolvedUri,bytes:Ff.bytes});const eme={resolvedUri:(zP||Ff).resolvedUri};return zP&&(eme.bytes=zP.bytes),eme}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(Ff,x_={}){if(!Ff)return;const $P=this.playlist_,zP=this.pendingSegment_;this.playlist_=Ff,this.xhrOptions_=x_,this.state==="INIT"&&(Ff.syncInfo={mediaSequence:Ff.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(Ff));let eme=null;if($P&&($P.id?eme=$P.id:$P.uri&&(eme=$P.uri)),this.logger_(`playlist update [${eme} => ${Ff.id||Ff.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!$P||$P.uri!==Ff.uri){this.mediaIndex!==null&&(!Ff.endList&&typeof Ff.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const tme=Ff.mediaSequence-$P.mediaSequence;if(this.logger_(`live window shift [${tme}]`),this.mediaIndex!==null)if(this.mediaIndex-=tme,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const nme=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!nme.parts||!nme.parts.length||!nme.parts[this.partIndex])){const rme=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=rme}}zP&&(zP.mediaIndex-=tme,zP.mediaIndex<0?(zP.mediaIndex=null,zP.partIndex=null):(zP.mediaIndex>=0&&(zP.segment=Ff.segments[zP.mediaIndex]),zP.partIndex>=0&&zP.segment.parts&&(zP.part=zP.segment.parts[zP.partIndex]))),this.syncController_.saveExpiredSegmentInfo($P,Ff)}pause(){this.checkBufferTimeout_&&(window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(Ff){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,Ff),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&segmentTransmuxer.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(Ff,x_,$P=()=>{},zP=!1){if(x_===1/0&&(x_=this.duration_()),x_<=Ff){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let eme=1;const tme=()=>{eme--,eme===0&&$P()};(zP||!this.audioDisabled_)&&(eme++,this.sourceUpdater_.removeAudio(Ff,x_,tme)),(zP||this.loaderType_==="main")&&(this.gopBuffer_=removeGopBuffer(this.gopBuffer_,Ff,x_,this.timeMapping_),eme++,this.sourceUpdater_.removeVideo(Ff,x_,tme));for(const nme in this.inbandTextTracks_)removeCuesFromTrack(Ff,x_,this.inbandTextTracks_[nme]);removeCuesFromTrack(Ff,x_,this.segmentMetadataTrack_),tme()}monitorBuffer_(){this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window$1$1.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&window$1$1.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=window$1$1.setTimeout(this.monitorBufferTick_.bind(this),CHECK_BUFFER_DELAY)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const Ff=this.chooseNextRequest_();Ff&&(typeof Ff.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:Ff.timeline})),this.loadSegment_(Ff))}isEndOfStream_(Ff=this.mediaIndex,x_=this.playlist_,$P=this.partIndex){if(!x_||!this.mediaSource_)return!1;const zP=typeof Ff=="number"&&x_.segments[Ff],eme=Ff+1===x_.segments.length,tme=!zP||!zP.parts||$P+1===zP.parts.length;return x_.endList&&this.mediaSource_.readyState==="open"&&eme&&tme}chooseNextRequest_(){const Ff=this.buffered_(),x_=lastBufferedEnd(Ff)||0,$P=timeAheadOf(Ff,this.currentTime_()),zP=!this.hasPlayed_()&&$P>=1,eme=$P>=this.goalBufferLength_(),tme=this.playlist_.segments;if(!tme.length||zP||eme)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const nme={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(nme.isSyncRequest)nme.mediaIndex=getSyncSegmentCandidate(this.currentTimeline_,tme,x_);else if(this.mediaIndex!==null){const ame=tme[this.mediaIndex],lme=typeof this.partIndex=="number"?this.partIndex:-1;nme.startOfSegment=ame.end?ame.end:x_,ame.parts&&ame.parts[lme+1]?(nme.mediaIndex=this.mediaIndex,nme.partIndex=lme+1):nme.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:ame,startTime:lme,partIndex:ume}=Playlist.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?x_:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});nme.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${x_}`:`currentTime ${this.currentTime_()}`,nme.mediaIndex=ame,nme.startOfSegment=lme,nme.partIndex=ume}const rme=tme[nme.mediaIndex];let ime=rme&&typeof nme.partIndex=="number"&&rme.parts&&rme.parts[nme.partIndex];if(!rme||typeof nme.partIndex=="number"&&!ime)return null;typeof nme.partIndex!="number"&&rme.parts&&(nme.partIndex=0,ime=rme.parts[0]);const ome=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!$P&&ime&&!ome&&!ime.independent)if(nme.partIndex===0){const ame=tme[nme.mediaIndex-1],lme=ame.parts&&ame.parts.length&&ame.parts[ame.parts.length-1];lme&&lme.independent&&(nme.mediaIndex-=1,nme.partIndex=ame.parts.length-1,nme.independent="previous segment")}else rme.parts[nme.partIndex-1].independent&&(nme.partIndex-=1,nme.independent="previous part");const sme=this.mediaSource_&&this.mediaSource_.readyState==="ended";return nme.mediaIndex>=tme.length-1&&sme&&!this.seeking_()?null:this.generateSegmentInfo_(nme)}generateSegmentInfo_(Ff){const{independent:x_,playlist:$P,mediaIndex:zP,startOfSegment:eme,isSyncRequest:tme,partIndex:nme,forceTimestampOffset:rme,getMediaInfoForTime:ime}=Ff,ome=$P.segments[zP],sme=typeof nme=="number"&&ome.parts[nme],ame={requestId:"segment-loader-"+Math.random(),uri:sme&&sme.resolvedUri||ome.resolvedUri,mediaIndex:zP,partIndex:sme?nme:null,isSyncRequest:tme,startOfSegment:eme,playlist:$P,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:ome.timeline,duration:sme&&sme.duration||ome.duration,segment:ome,part:sme,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:ime,independent:x_},lme=typeof rme!="undefined"?rme:this.isPendingTimestampOffset_;ame.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:ome.timeline,currentTimeline:this.currentTimeline_,startOfSegment:eme,buffered:this.buffered_(),calculateTimestampOffsetForEachSegment:this.calculateTimestampOffsetForEachSegment_,overrideCheck:lme});const ume=lastBufferedEnd(this.sourceUpdater_.audioBuffered());return typeof ume=="number"&&(ame.audioAppendStart=ume-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(ame.gopsToAlignWith=gopsSafeToAlignWith(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),ame}timestampOffsetForSegment_(Ff){return timestampOffsetForSegment(Ff)}earlyAbortWhenNeeded_(Ff){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(Ff.firstBytesReceivedAt||Date.now())<1e3)return;const x_=this.currentTime_(),$P=Ff.bandwidth,zP=this.pendingSegment_.duration,eme=Playlist.estimateSegmentRequestTime(zP,$P,this.playlist_,Ff.bytesReceived),tme=timeUntilRebuffer(this.buffered_(),x_,this.vhs_.tech_.playbackRate())-1;if(eme<=tme)return;const nme=minRebufferMaxBandwidthSelector({main:this.vhs_.playlists.main,currentTime:x_,bandwidth:$P,duration:this.duration_(),segmentDuration:zP,timeUntilRebuffer:tme,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!nme)return;const ime=eme-tme-nme.rebufferingImpact;let ome=.5;tme<=TIME_FUDGE_FACTOR&&(ome=1),!(!nme.playlist||nme.playlist.uri===this.playlist_.uri||ime<ome)&&(this.bandwidth=nme.playlist.attributes.BANDWIDTH*Config.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(Ff){this.logger_(`Aborting ${segmentInfoString(Ff)}`),this.mediaRequestsAborted+=1}handleProgress_(Ff,x_){this.earlyAbortWhenNeeded_(x_.stats),!this.checkForAbort_(x_.requestId)&&this.trigger("progress")}handleTrackInfo_(Ff,x_){this.earlyAbortWhenNeeded_(Ff.stats),!this.checkForAbort_(Ff.requestId)&&(this.checkForIllegalMediaSwitch(x_)||(x_=x_||{},shallowEqual(this.currentMediaInfo_,x_)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=x_,this.currentMediaInfo_=x_,this.logger_("trackinfo update",x_),this.trigger("trackinfo")),!this.checkForAbort_(Ff.requestId)&&(this.pendingSegment_.trackInfo=x_,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(Ff,x_,$P,zP){if(this.earlyAbortWhenNeeded_(Ff.stats),this.checkForAbort_(Ff.requestId))return;const eme=this.pendingSegment_,tme=timingInfoPropertyForMedia(x_);eme[tme]=eme[tme]||{},eme[tme][$P]=zP,this.logger_(`timinginfo: ${x_} - ${$P} - ${zP}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(Ff,x_){if(this.earlyAbortWhenNeeded_(Ff.stats),this.checkForAbort_(Ff.requestId))return;if(x_.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,Ff,x_));return}const zP=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),eme={};x_.forEach(tme=>{eme[tme.stream]=eme[tme.stream]||{startTime:1/0,captions:[],endTime:0};const nme=eme[tme.stream];nme.startTime=Math.min(nme.startTime,tme.startTime+zP),nme.endTime=Math.max(nme.endTime,tme.endTime+zP),nme.captions.push(tme)}),Object.keys(eme).forEach(tme=>{const{startTime:nme,endTime:rme,captions:ime}=eme[tme],ome=this.inbandTextTracks_;this.logger_(`adding cues from ${nme} -> ${rme} for ${tme}`),createCaptionsTrackIfNotExists(ome,this.vhs_.tech_,tme),removeCuesFromTrack(nme,rme,ome[tme]),addCaptionData({captionArray:ime,inbandTextTracks:ome,timestampOffset:zP})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(Ff,x_,$P){if(this.earlyAbortWhenNeeded_(Ff.stats),this.checkForAbort_(Ff.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,Ff,x_,$P));return}this.addMetadataToTextTrack($P,x_,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(Ff=>Ff()),this.metadataQueue_.caption.forEach(Ff=>Ff()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const Ff=this.callQueue_;this.callQueue_=[],Ff.forEach(x_=>x_())}processLoadQueue_(){const Ff=this.loadQueue_;this.loadQueue_=[],Ff.forEach(x_=>x_())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const Ff=this.pendingSegment_;return Ff?this.getCurrentMediaInfo_()?!shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:Ff.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(Ff=this.pendingSegment_){return Ff&&Ff.trackInfo||this.currentMediaInfo_}getMediaInfo_(Ff=this.pendingSegment_){return this.getCurrentMediaInfo_(Ff)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const Ff=this.pendingSegment_,x_=this.getCurrentMediaInfo_();if(!Ff||!x_)return!1;const{hasAudio:$P,hasVideo:zP,isMuxed:eme}=x_;return!(zP&&!Ff.videoTimingInfo||$P&&!this.audioDisabled_&&!eme&&!Ff.audioTimingInfo||shouldWaitForTimelineChange({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:Ff.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(Ff,x_){if(this.earlyAbortWhenNeeded_(Ff.stats),this.checkForAbort_(Ff.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,Ff,x_));return}const $P=this.pendingSegment_;if(this.setTimeMapping_($P.timeline),this.updateMediaSecondsLoaded_($P.part||$P.segment),this.mediaSource_.readyState!=="closed"){if(Ff.map&&(Ff.map=this.initSegmentForMap(Ff.map,!0),$P.segment.map=Ff.map),Ff.key&&this.segmentKey(Ff.key,!0),$P.isFmp4=Ff.isFmp4,$P.timingInfo=$P.timingInfo||{},$P.isFmp4)this.trigger("fmp4"),$P.timingInfo.start=$P[timingInfoPropertyForMedia(x_.type)].start;else{const zP=this.getCurrentMediaInfo_(),eme=this.loaderType_==="main"&&zP&&zP.hasVideo;let tme;eme&&(tme=$P.videoTimingInfo.start),$P.timingInfo.start=this.trueSegmentStart_({currentStart:$P.timingInfo.start,playlist:$P.playlist,mediaIndex:$P.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:eme,firstVideoFrameTimeForData:tme,videoTimingInfo:$P.videoTimingInfo,audioTimingInfo:$P.audioTimingInfo})}if(this.updateAppendInitSegmentStatus($P,x_.type),this.updateSourceBufferTimestampOffset_($P),$P.isSyncRequest){this.updateTimingInfoEnd_($P),this.syncController_.saveSegmentTimingInfo({segmentInfo:$P,shouldSaveTimelineMapping:this.loaderType_==="main"});const zP=this.chooseNextRequest_();if(zP.mediaIndex!==$P.mediaIndex||zP.partIndex!==$P.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}$P.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_($P,x_)}}updateAppendInitSegmentStatus(Ff,x_){this.loaderType_==="main"&&typeof Ff.timestampOffset=="number"&&!Ff.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[x_]!==Ff.playlist&&(this.appendInitSegment_[x_]=!0)}getInitSegmentAndUpdateState_({type:Ff,initSegment:x_,map:$P,playlist:zP}){if($P){const eme=initSegmentId($P);if(this.activeInitSegmentId_===eme)return null;x_=this.initSegmentForMap($P,!0).bytes,this.activeInitSegmentId_=eme}return x_&&this.appendInitSegment_[Ff]?(this.playlistOfLastInitSegment_[Ff]=zP,this.appendInitSegment_[Ff]=!1,this.activeInitSegmentId_=null,x_):null}handleQuotaExceededError_({segmentInfo:Ff,type:x_,bytes:$P},zP){const eme=this.sourceUpdater_.audioBuffered(),tme=this.sourceUpdater_.videoBuffered();eme.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+timeRangesToArray(eme).join(", ")),tme.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+timeRangesToArray(tme).join(", "));const nme=eme.length?eme.start(0):0,rme=eme.length?eme.end(eme.length-1):0,ime=tme.length?tme.start(0):0,ome=tme.length?tme.end(tme.length-1):0;if(rme-nme<=MIN_BACK_BUFFER&&ome-ime<=MIN_BACK_BUFFER){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${$P.byteLength}, audio buffer: ${timeRangesToArray(eme).join(", ")}, video buffer: ${timeRangesToArray(tme).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:Ff,type:x_,bytes:$P}));const ame=this.currentTime_()-MIN_BACK_BUFFER;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${ame}`),this.remove(0,ame,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${MIN_BACK_BUFFER}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=window$1$1.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},MIN_BACK_BUFFER*1e3)},!0)}handleAppendError_({segmentInfo:Ff,type:x_,bytes:$P},zP){if(zP){if(zP.code===QUOTA_EXCEEDED_ERR){this.handleQuotaExceededError_({segmentInfo:Ff,type:x_,bytes:$P});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",zP),this.error(`${x_} append of ${$P.length}b failed for segment #${Ff.mediaIndex} in playlist ${Ff.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:Ff,type:x_,initSegment:$P,data:zP,bytes:eme}){if(!eme){const tme=[zP];let nme=zP.byteLength;$P&&(tme.unshift($P),nme+=$P.byteLength),eme=concatSegments({bytes:nme,segments:tme})}this.sourceUpdater_.appendBuffer({segmentInfo:Ff,type:x_,bytes:eme},this.handleAppendError_.bind(this,{segmentInfo:Ff,type:x_,bytes:eme}))}handleSegmentTimingInfo_(Ff,x_,$P){if(!this.pendingSegment_||x_!==this.pendingSegment_.requestId)return;const zP=this.pendingSegment_.segment,eme=`${Ff}TimingInfo`;zP[eme]||(zP[eme]={}),zP[eme].transmuxerPrependedSeconds=$P.prependedContentDuration||0,zP[eme].transmuxedPresentationStart=$P.start.presentation,zP[eme].transmuxedDecodeStart=$P.start.decode,zP[eme].transmuxedPresentationEnd=$P.end.presentation,zP[eme].transmuxedDecodeEnd=$P.end.decode,zP[eme].baseMediaDecodeTime=$P.baseMediaDecodeTime}appendData_(Ff,x_){const{type:$P,data:zP}=x_;if(!zP||!zP.byteLength||$P==="audio"&&this.audioDisabled_)return;const eme=this.getInitSegmentAndUpdateState_({type:$P,initSegment:x_.initSegment,playlist:Ff.playlist,map:Ff.isFmp4?Ff.segment.map:null});this.appendToSourceBuffer_({segmentInfo:Ff,type:$P,initSegment:eme,data:zP})}loadSegment_(Ff){if(this.state="WAITING",this.pendingSegment_=Ff,this.trimBackBuffer_(Ff),typeof Ff.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const x_=_extends$1({},Ff,{forceTimestampOffset:!0});_extends$1(Ff,this.generateSegmentInfo_(x_)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(Ff)});return}this.updateTransmuxerAndRequestSegment_(Ff)}updateTransmuxerAndRequestSegment_(Ff){this.shouldUpdateTransmuxerTimestampOffset_(Ff.timestampOffset)&&(this.gopBuffer_.length=0,Ff.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:Ff.timestampOffset}));const x_=this.createSimplifiedSegmentObj_(Ff),$P=this.isEndOfStream_(Ff.mediaIndex,Ff.playlist,Ff.partIndex),zP=this.mediaIndex!==null,eme=Ff.timeline!==this.currentTimeline_&&Ff.timeline>0,tme=$P||zP&&eme;this.logger_(`Requesting ${segmentInfoString(Ff)}`),x_.map&&!x_.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),Ff.abortRequests=mediaSegmentRequest({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:x_,abortFn:this.handleAbort_.bind(this,Ff),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",Ff.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",Ff.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:tme,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:nme,level:rme,stream:ime})=>{this.logger_(`${segmentInfoString(Ff)} logged from transmuxer stream ${ime} as a ${rme}: ${nme}`)}})}trimBackBuffer_(Ff){const x_=safeBackBufferTrimTime(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);x_>0&&this.remove(0,x_)}createSimplifiedSegmentObj_(Ff){const x_=Ff.segment,$P=Ff.part,zP={resolvedUri:$P?$P.resolvedUri:x_.resolvedUri,byterange:$P?$P.byterange:x_.byterange,requestId:Ff.requestId,transmuxer:Ff.transmuxer,audioAppendStart:Ff.audioAppendStart,gopsToAlignWith:Ff.gopsToAlignWith,part:Ff.part},eme=Ff.playlist.segments[Ff.mediaIndex-1];if(eme&&eme.timeline===x_.timeline&&(eme.videoTimingInfo?zP.baseStartTime=eme.videoTimingInfo.transmuxedDecodeEnd:eme.audioTimingInfo&&(zP.baseStartTime=eme.audioTimingInfo.transmuxedDecodeEnd)),x_.key){const tme=x_.key.iv||new Uint32Array([0,0,0,Ff.mediaIndex+Ff.playlist.mediaSequence]);zP.key=this.segmentKey(x_.key),zP.key.iv=tme}return x_.map&&(zP.map=this.initSegmentForMap(x_.map)),zP}saveTransferStats_(Ff){this.mediaRequests+=1,Ff&&(this.mediaBytesTransferred+=Ff.bytesReceived,this.mediaTransferDuration+=Ff.roundTripTime)}saveBandwidthRelatedStats_(Ff,x_){if(this.pendingSegment_.byteLength=x_.bytesReceived,Ff<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_(`Ignoring segment's bandwidth because its duration of ${Ff} is less than the min to record ${MIN_SEGMENT_DURATION_TO_SAVE_STATS}`);return}this.bandwidth=x_.bandwidth,this.roundTrip=x_.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(Ff,x_,$P){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,Ff,x_,$P));return}if(this.saveTransferStats_(x_.stats),!this.pendingSegment_||x_.requestId!==this.pendingSegment_.requestId)return;if(Ff){if(this.pendingSegment_=null,this.state="READY",Ff.code===REQUEST_ERRORS.ABORTED)return;if(this.pause(),Ff.code===REQUEST_ERRORS.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(Ff),this.trigger("error");return}const zP=this.pendingSegment_;this.saveBandwidthRelatedStats_(zP.duration,x_.stats),zP.endOfAllRequests=x_.endOfAllRequests,$P.gopInfo&&(this.gopBuffer_=updateGopBuffer(this.gopBuffer_,$P.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(zP)}setTimeMapping_(Ff){const x_=this.syncController_.mappingForTimeline(Ff);x_!==null&&(this.timeMapping_=x_)}updateMediaSecondsLoaded_(Ff){typeof Ff.start=="number"&&typeof Ff.end=="number"?this.mediaSecondsLoaded+=Ff.end-Ff.start:this.mediaSecondsLoaded+=Ff.duration}shouldUpdateTransmuxerTimestampOffset_(Ff){return Ff===null?!1:this.loaderType_==="main"&&Ff!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&Ff!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:Ff,playlist:x_,mediaIndex:$P,firstVideoFrameTimeForData:zP,currentVideoTimestampOffset:eme,useVideoTimingInfo:tme,videoTimingInfo:nme,audioTimingInfo:rme}){if(typeof Ff!="undefined")return Ff;if(!tme)return rme.start;const ime=x_.segments[$P-1];return $P===0||!ime||typeof ime.start=="undefined"||ime.end!==zP+eme?zP:nme.start}waitForAppendsToComplete_(Ff){const x_=this.getCurrentMediaInfo_(Ff);if(!x_){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:$P,hasVideo:zP,isMuxed:eme}=x_,tme=this.loaderType_==="main"&&zP,nme=!this.audioDisabled_&&$P&&!eme;if(Ff.waitingOnAppends=0,!Ff.hasAppendedData_){!Ff.timingInfo&&typeof Ff.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),Ff.timingInfo={start:0},Ff.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(Ff),this.processMetadataQueue_()),this.checkAppendsDone_(Ff);return}tme&&Ff.waitingOnAppends++,nme&&Ff.waitingOnAppends++,tme&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,Ff)),nme&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,Ff))}checkAppendsDone_(Ff){this.checkForAbort_(Ff.requestId)||(Ff.waitingOnAppends--,Ff.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(Ff){const x_=illegalMediaSwitch(this.loaderType_,this.getCurrentMediaInfo_(),Ff);return x_?(this.error({message:x_,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(Ff){if(Ff.timestampOffset===null||typeof Ff.timingInfo.start!="number"||Ff.changedTimestampOffset||this.loaderType_!=="main")return;let x_=!1;Ff.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:Ff.segment.videoTimingInfo,audioTimingInfo:Ff.segment.audioTimingInfo,timingInfo:Ff.timingInfo}),Ff.changedTimestampOffset=!0,Ff.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(Ff.timestampOffset),x_=!0),Ff.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(Ff.timestampOffset),x_=!0),x_&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:Ff,audioTimingInfo:x_,timingInfo:$P}){return this.useDtsForTimestampOffset_?Ff&&typeof Ff.transmuxedDecodeStart=="number"?Ff.transmuxedDecodeStart:x_&&typeof x_.transmuxedDecodeStart=="number"?x_.transmuxedDecodeStart:$P.start:$P.start}updateTimingInfoEnd_(Ff){Ff.timingInfo=Ff.timingInfo||{};const x_=this.getMediaInfo_(),zP=this.loaderType_==="main"&&x_&&x_.hasVideo&&Ff.videoTimingInfo?Ff.videoTimingInfo:Ff.audioTimingInfo;zP&&(Ff.timingInfo.end=typeof zP.end=="number"?zP.end:zP.start+Ff.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const Ff=this.pendingSegment_;this.updateTimingInfoEnd_(Ff),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:Ff,shouldSaveTimelineMapping:this.loaderType_==="main"});const x_=getTroublesomeSegmentDurationMessage(Ff,this.sourceType_);if(x_&&(x_.severity==="warn"?videojs.log.warn(x_.message):this.logger_(x_.message)),this.recordThroughput_(Ff),this.pendingSegment_=null,this.state="READY",Ff.isSyncRequest&&(this.trigger("syncinfoupdate"),!Ff.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${segmentInfoString(Ff)}`);return}this.logger_(`Appended ${segmentInfoString(Ff)}`),this.addSegmentMetadataCue_(Ff),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==Ff.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:Ff.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:Ff.timeline})),this.currentTimeline_=Ff.timeline,this.trigger("syncinfoupdate");const $P=Ff.segment,zP=Ff.part,eme=$P.end&&this.currentTime_()-$P.end>Ff.playlist.targetDuration*3,tme=zP&&zP.end&&this.currentTime_()-zP.end>Ff.playlist.partTargetDuration*3;if(eme||tme){this.logger_(`bad ${eme?"segment":"part"} ${segmentInfoString(Ff)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=Ff.mediaIndex,this.partIndex=Ff.partIndex,this.isEndOfStream_(Ff.mediaIndex,Ff.playlist,Ff.partIndex)&&this.endOfStream(),this.trigger("appended"),Ff.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(Ff){if(Ff.duration<MIN_SEGMENT_DURATION_TO_SAVE_STATS){this.logger_(`Ignoring segment's throughput because its duration of ${Ff.duration} is less than the min to record ${MIN_SEGMENT_DURATION_TO_SAVE_STATS}`);return}const x_=this.throughput.rate,$P=Date.now()-Ff.endOfAllRequests+1,zP=Math.floor(Ff.byteLength/$P*8*1e3);this.throughput.rate+=(zP-x_)/++this.throughput.count}addSegmentMetadataCue_(Ff){if(!this.segmentMetadataTrack_)return;const x_=Ff.segment,$P=x_.start,zP=x_.end;if(!finite($P)||!finite(zP))return;removeCuesFromTrack($P,zP,this.segmentMetadataTrack_);const eme=window$1$1.WebKitDataCue||window$1$1.VTTCue,tme={custom:x_.custom,dateTimeObject:x_.dateTimeObject,dateTimeString:x_.dateTimeString,programDateTime:x_.programDateTime,bandwidth:Ff.playlist.attributes.BANDWIDTH,resolution:Ff.playlist.attributes.RESOLUTION,codecs:Ff.playlist.attributes.CODECS,byteLength:Ff.byteLength,uri:Ff.uri,timeline:Ff.timeline,playlist:Ff.playlist.id,start:$P,end:zP},nme=JSON.stringify(tme),rme=new eme($P,zP,nme);rme.value=tme,this.segmentMetadataTrack_.addCue(rme)}set replaceSegmentsUntil(Ff){this.logger_(`Replacing currently buffered segments until ${Ff}`),this.replaceSegmentsUntil_=Ff}}function noop(){}const toTitleCase=function(kh){return typeof kh!="string"?kh:kh.replace(/./,Ff=>Ff.toUpperCase())},bufferTypes=["video","audio"],updating=(kh,Ff)=>{const x_=Ff[`${kh}Buffer`];return x_&&x_.updating||Ff.queuePending[kh]},nextQueueIndexOfType=(kh,Ff)=>{for(let x_=0;x_<Ff.length;x_++){const $P=Ff[x_];if($P.type==="mediaSource")return null;if($P.type===kh)return x_}return null},shiftQueue=(kh,Ff)=>{if(Ff.queue.length===0)return;let x_=0,$P=Ff.queue[x_];if($P.type==="mediaSource"){!Ff.updating()&&Ff.mediaSource.readyState!=="closed"&&(Ff.queue.shift(),$P.action(Ff),$P.doneFn&&$P.doneFn(),shiftQueue("audio",Ff),shiftQueue("video",Ff));return}if(kh!=="mediaSource"&&!(!Ff.ready()||Ff.mediaSource.readyState==="closed"||updating(kh,Ff))){if($P.type!==kh){if(x_=nextQueueIndexOfType(kh,Ff.queue),x_===null)return;$P=Ff.queue[x_]}if(Ff.queue.splice(x_,1),Ff.queuePending[kh]=$P,$P.action(kh,Ff),!$P.doneFn){Ff.queuePending[kh]=null,shiftQueue(kh,Ff);return}}},cleanupBuffer=(kh,Ff)=>{const x_=Ff[`${kh}Buffer`],$P=toTitleCase(kh);x_&&(x_.removeEventListener("updateend",Ff[`on${$P}UpdateEnd_`]),x_.removeEventListener("error",Ff[`on${$P}Error_`]),Ff.codecs[kh]=null,Ff[`${kh}Buffer`]=null)},inSourceBuffers=(kh,Ff)=>kh&&Ff&&Array.prototype.indexOf.call(kh.sourceBuffers,Ff)!==-1,actions={appendBuffer:(kh,Ff,x_)=>($P,zP)=>{const eme=zP[`${$P}Buffer`];if(inSourceBuffers(zP.mediaSource,eme)){zP.logger_(`Appending segment ${Ff.mediaIndex}'s ${kh.length} bytes to ${$P}Buffer`);try{eme.appendBuffer(kh)}catch(tme){zP.logger_(`Error with code ${tme.code} `+(tme.code===QUOTA_EXCEEDED_ERR?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${Ff.mediaIndex} to ${$P}Buffer`),zP.queuePending[$P]=null,x_(tme)}}},remove:(kh,Ff)=>(x_,$P)=>{const zP=$P[`${x_}Buffer`];if(inSourceBuffers($P.mediaSource,zP)){$P.logger_(`Removing ${kh} to ${Ff} from ${x_}Buffer`);try{zP.remove(kh,Ff)}catch(eme){$P.logger_(`Remove ${kh} to ${Ff} from ${x_}Buffer failed`)}}},timestampOffset:kh=>(Ff,x_)=>{const $P=x_[`${Ff}Buffer`];inSourceBuffers(x_.mediaSource,$P)&&(x_.logger_(`Setting ${Ff}timestampOffset to ${kh}`),$P.timestampOffset=kh)},callback:kh=>(Ff,x_)=>{kh()},endOfStream:kh=>Ff=>{if(Ff.mediaSource.readyState==="open"){Ff.logger_(`Calling mediaSource endOfStream(${kh||""})`);try{Ff.mediaSource.endOfStream(kh)}catch(x_){videojs.log.warn("Failed to call media source endOfStream",x_)}}},duration:kh=>Ff=>{Ff.logger_(`Setting mediaSource duration to ${kh}`);try{Ff.mediaSource.duration=kh}catch(x_){videojs.log.warn("Failed to set media source duration",x_)}},abort:()=>(kh,Ff)=>{if(Ff.mediaSource.readyState!=="open")return;const x_=Ff[`${kh}Buffer`];if(inSourceBuffers(Ff.mediaSource,x_)){Ff.logger_(`calling abort on ${kh}Buffer`);try{x_.abort()}catch($P){videojs.log.warn(`Failed to abort on ${kh}Buffer`,$P)}}},addSourceBuffer:(kh,Ff)=>x_=>{const $P=toTitleCase(kh),zP=getMimeForCodec(Ff);x_.logger_(`Adding ${kh}Buffer with codec ${Ff} to mediaSource`);const eme=x_.mediaSource.addSourceBuffer(zP);eme.addEventListener("updateend",x_[`on${$P}UpdateEnd_`]),eme.addEventListener("error",x_[`on${$P}Error_`]),x_.codecs[kh]=Ff,x_[`${kh}Buffer`]=eme},removeSourceBuffer:kh=>Ff=>{const x_=Ff[`${kh}Buffer`];if(cleanupBuffer(kh,Ff),!!inSourceBuffers(Ff.mediaSource,x_)){Ff.logger_(`Removing ${kh}Buffer with codec ${Ff.codecs[kh]} from mediaSource`);try{Ff.mediaSource.removeSourceBuffer(x_)}catch($P){videojs.log.warn(`Failed to removeSourceBuffer ${kh}Buffer`,$P)}}},changeType:kh=>(Ff,x_)=>{const $P=x_[`${Ff}Buffer`],zP=getMimeForCodec(kh);inSourceBuffers(x_.mediaSource,$P)&&x_.codecs[Ff]!==kh&&(x_.logger_(`changing ${Ff}Buffer codec from ${x_.codecs[Ff]} to ${kh}`),$P.changeType(zP),x_.codecs[Ff]=kh)}},pushQueue=({type:kh,sourceUpdater:Ff,action:x_,doneFn:$P,name:zP})=>{Ff.queue.push({type:kh,action:x_,doneFn:$P,name:zP}),shiftQueue(kh,Ff)},onUpdateend=(kh,Ff)=>x_=>{const $P=Ff[`${kh}Buffered`](),zP=prettyBuffered($P);if(Ff.logger_(`${kh} source buffer update end. Buffered: 
`,zP),Ff.queuePending[kh]){const eme=Ff.queuePending[kh].doneFn;Ff.queuePending[kh]=null,eme&&eme(Ff[`${kh}Error_`])}shiftQueue(kh,Ff)};class SourceUpdater extends videojs.EventTarget{constructor(Ff){super(),this.mediaSource=Ff,this.sourceopenListener_=()=>shiftQueue("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=logger("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=onUpdateend("video",this),this.onAudioUpdateEnd_=onUpdateend("audio",this),this.onVideoError_=x_=>{this.videoError_=x_},this.onAudioError_=x_=>{this.audioError_=x_},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(Ff){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(Ff),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(Ff,x_){pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.addSourceBuffer(Ff,x_),name:"addSourceBuffer"})}abort(Ff){pushQueue({type:Ff,sourceUpdater:this,action:actions.abort(Ff),name:"abort"})}removeSourceBuffer(Ff){if(!this.canRemoveSourceBuffer()){videojs.log.error("removeSourceBuffer is not supported!");return}pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.removeSourceBuffer(Ff),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!videojs.browser.IS_FIREFOX&&window$1$1.MediaSource&&window$1$1.MediaSource.prototype&&typeof window$1$1.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return window$1$1.SourceBuffer&&window$1$1.SourceBuffer.prototype&&typeof window$1$1.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(Ff,x_){if(!this.canChangeType()){videojs.log.error("changeType is not supported!");return}pushQueue({type:Ff,sourceUpdater:this,action:actions.changeType(x_),name:"changeType"})}addOrChangeSourceBuffers(Ff){if(!Ff||typeof Ff!="object"||Object.keys(Ff).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(Ff).forEach(x_=>{const $P=Ff[x_];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(x_,$P);this.canChangeType()&&this.changeType(x_,$P)})}appendBuffer(Ff,x_){const{segmentInfo:$P,type:zP,bytes:eme}=Ff;if(this.processedAppend_=!0,zP==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([Ff,x_]),this.logger_(`delayed audio append of ${eme.length} until video append`);return}const tme=x_;if(pushQueue({type:zP,sourceUpdater:this,action:actions.appendBuffer(eme,$P||{mediaIndex:-1},tme),doneFn:x_,name:"appendBuffer"}),zP==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const nme=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${nme.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,nme.forEach(rme=>{this.appendBuffer.apply(this,rme)})}}audioBuffered(){return inSourceBuffers(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:createTimeRanges()}videoBuffered(){return inSourceBuffers(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:createTimeRanges()}buffered(){const Ff=inSourceBuffers(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,x_=inSourceBuffers(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return x_&&!Ff?this.audioBuffered():Ff&&!x_?this.videoBuffered():bufferIntersection(this.audioBuffered(),this.videoBuffered())}setDuration(Ff,x_=noop){pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.duration(Ff),name:"duration",doneFn:x_})}endOfStream(Ff=null,x_=noop){typeof Ff!="string"&&(Ff=void 0),pushQueue({type:"mediaSource",sourceUpdater:this,action:actions.endOfStream(Ff),name:"endOfStream",doneFn:x_})}removeAudio(Ff,x_,$P=noop){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){$P();return}pushQueue({type:"audio",sourceUpdater:this,action:actions.remove(Ff,x_),doneFn:$P,name:"remove"})}removeVideo(Ff,x_,$P=noop){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){$P();return}pushQueue({type:"video",sourceUpdater:this,action:actions.remove(Ff,x_),doneFn:$P,name:"remove"})}updating(){return!!(updating("audio",this)||updating("video",this))}audioTimestampOffset(Ff){return typeof Ff!="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==Ff&&(pushQueue({type:"audio",sourceUpdater:this,action:actions.timestampOffset(Ff),name:"timestampOffset"}),this.audioTimestampOffset_=Ff),this.audioTimestampOffset_}videoTimestampOffset(Ff){return typeof Ff!="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==Ff&&(pushQueue({type:"video",sourceUpdater:this,action:actions.timestampOffset(Ff),name:"timestampOffset"}),this.videoTimestampOffset_=Ff),this.videoTimestampOffset_}audioQueueCallback(Ff){this.audioBuffer&&pushQueue({type:"audio",sourceUpdater:this,action:actions.callback(Ff),name:"callback"})}videoQueueCallback(Ff){this.videoBuffer&&pushQueue({type:"video",sourceUpdater:this,action:actions.callback(Ff),name:"callback"})}dispose(){this.trigger("dispose"),bufferTypes.forEach(Ff=>{this.abort(Ff),this.canRemoveSourceBuffer()?this.removeSourceBuffer(Ff):this[`${Ff}QueueCallback`](()=>cleanupBuffer(Ff,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const uint8ToUtf8=kh=>decodeURIComponent(escape(String.fromCharCode.apply(null,kh))),VTT_LINE_TERMINATORS=new Uint8Array(`

`.split("").map(kh=>kh.charCodeAt(0)));class NoVttJsError extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class VTTSegmentLoader extends SegmentLoader{constructor(Ff,x_={}){super(Ff,x_),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=Ff.featuresNativeTextTracks,this.loadVttJs=Ff.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return createTimeRanges();const Ff=this.subtitlesTrack_.cues,x_=Ff[0].startTime,$P=Ff[Ff.length-1].startTime;return createTimeRanges([[x_,$P]])}initSegmentForMap(Ff,x_=!1){if(!Ff)return null;const $P=initSegmentId(Ff);let zP=this.initSegments_[$P];if(x_&&!zP&&Ff.bytes){const eme=VTT_LINE_TERMINATORS.byteLength+Ff.bytes.byteLength,tme=new Uint8Array(eme);tme.set(Ff.bytes),tme.set(VTT_LINE_TERMINATORS,Ff.bytes.byteLength),this.initSegments_[$P]=zP={resolvedUri:Ff.resolvedUri,byterange:Ff.byterange,bytes:tme}}return zP||Ff}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(Ff){return typeof Ff=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=Ff,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(Ff,x_){removeCuesFromTrack(Ff,x_,this.subtitlesTrack_)}fillBuffer_(){const Ff=this.chooseNextRequest_();if(Ff){if(this.syncController_.timestampOffsetForTimeline(Ff.timeline)===null){const x_=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",x_),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(Ff)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(Ff){for(;Ff&&Ff.segment.empty;){if(Ff.mediaIndex+1>=Ff.playlist.segments.length){Ff=null;break}Ff=this.generateSegmentInfo_({playlist:Ff.playlist,mediaIndex:Ff.mediaIndex+1,startOfSegment:Ff.startOfSegment+Ff.duration,isSyncRequest:Ff.isSyncRequest})}return Ff}stopForError(Ff){this.error(Ff),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(Ff,x_,$P){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(x_.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(Ff){Ff.code===REQUEST_ERRORS.TIMEOUT&&this.handleTimeout_(),Ff.code===REQUEST_ERRORS.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(Ff);return}const zP=this.pendingSegment_;this.saveBandwidthRelatedStats_(zP.duration,x_.stats),x_.key&&this.segmentKey(x_.key,!0),this.state="APPENDING",this.trigger("appending");const eme=zP.segment;if(eme.map&&(eme.map.bytes=x_.map.bytes),zP.bytes=x_.bytes,typeof window$1$1.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(Ff,x_,$P),()=>this.stopForError({message:"Error loading vtt.js"}));return}eme.requested=!0;try{this.parseVTTCues_(zP)}catch(tme){this.stopForError({message:tme.message});return}if(this.updateTimeMapping_(zP,this.syncController_.timelines[zP.timeline],this.playlist_),zP.cues.length?zP.timingInfo={start:zP.cues[0].startTime,end:zP.cues[zP.cues.length-1].endTime}:zP.timingInfo={start:zP.startOfSegment,end:zP.startOfSegment+zP.duration},zP.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}zP.byteLength=zP.bytes.byteLength,this.mediaSecondsLoaded+=eme.duration,zP.cues.forEach(tme=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new window$1$1.VTTCue(tme.startTime,tme.endTime,tme.text):tme)}),removeDuplicateCuesFromTrack(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(Ff){let x_,$P=!1;if(typeof window$1$1.WebVTT!="function")throw new NoVttJsError;typeof window$1$1.TextDecoder=="function"?x_=new window$1$1.TextDecoder("utf8"):(x_=window$1$1.WebVTT.StringDecoder(),$P=!0);const zP=new window$1$1.WebVTT.Parser(window$1$1,window$1$1.vttjs,x_);if(Ff.cues=[],Ff.timestampmap={MPEGTS:0,LOCAL:0},zP.oncue=Ff.cues.push.bind(Ff.cues),zP.ontimestampmap=tme=>{Ff.timestampmap=tme},zP.onparsingerror=tme=>{videojs.log.warn("Error encountered when parsing cues: "+tme.message)},Ff.segment.map){let tme=Ff.segment.map.bytes;$P&&(tme=uint8ToUtf8(tme)),zP.parse(tme)}let eme=Ff.bytes;$P&&(eme=uint8ToUtf8(eme)),zP.parse(eme),zP.flush()}updateTimeMapping_(Ff,x_,$P){const zP=Ff.segment;if(!x_)return;if(!Ff.cues.length){zP.empty=!0;return}const eme=Ff.timestampmap,tme=eme.MPEGTS/clock.ONE_SECOND_IN_TS-eme.LOCAL+x_.mapping;if(Ff.cues.forEach(nme=>{nme.startTime+=tme,nme.endTime+=tme}),!$P.syncInfo){const nme=Ff.cues[0].startTime,rme=Ff.cues[Ff.cues.length-1].startTime;$P.syncInfo={mediaSequence:$P.mediaSequence+Ff.mediaIndex,time:Math.min(nme,rme-zP.duration)}}}}const findAdCue=function(kh,Ff){const x_=kh.cues;for(let $P=0;$P<x_.length;$P++){const zP=x_[$P];if(Ff>=zP.adStartTime&&Ff<=zP.adEndTime)return zP}return null},updateAdCues=function(kh,Ff,x_=0){if(!kh.segments)return;let $P=x_,zP;for(let eme=0;eme<kh.segments.length;eme++){const tme=kh.segments[eme];if(zP||(zP=findAdCue(Ff,$P+tme.duration/2)),zP){if("cueIn"in tme){zP.endTime=$P,zP.adEndTime=$P,$P+=tme.duration,zP=null;continue}if($P<zP.endTime){$P+=tme.duration;continue}zP.endTime+=tme.duration}else if("cueOut"in tme&&(zP=new window$1$1.VTTCue($P,$P+tme.duration,tme.cueOut),zP.adStartTime=$P,zP.adEndTime=$P+parseFloat(tme.cueOut),Ff.addCue(zP)),"cueOutCont"in tme){const[nme,rme]=tme.cueOutCont.split("/").map(parseFloat);zP=new window$1$1.VTTCue($P,$P+tme.duration,""),zP.adStartTime=$P-nme,zP.adEndTime=zP.adStartTime+rme,Ff.addCue(zP)}$P+=tme.duration}},MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC=86400,syncPointStrategies=[{name:"VOD",run:(kh,Ff,x_,$P,zP)=>x_!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(kh,Ff,x_,$P,zP)=>{if(!Object.keys(kh.timelineToDatetimeMappings).length)return null;let eme=null,tme=null;const nme=getPartsAndSegments(Ff);zP=zP||0;for(let rme=0;rme<nme.length;rme++){const ime=Ff.endList||zP===0?rme:nme.length-(rme+1),ome=nme[ime],sme=ome.segment,ame=kh.timelineToDatetimeMappings[sme.timeline];if(!ame||!sme.dateTimeObject)continue;let ume=sme.dateTimeObject.getTime()/1e3+ame;if(sme.parts&&typeof ome.partIndex=="number")for(let pme=0;pme<ome.partIndex;pme++)ume+=sme.parts[pme].duration;const dme=Math.abs(zP-ume);if(tme!==null&&(dme===0||tme<dme))break;tme=dme,eme={time:ume,segmentIndex:ome.segmentIndex,partIndex:ome.partIndex}}return eme}},{name:"Segment",run:(kh,Ff,x_,$P,zP)=>{let eme=null,tme=null;zP=zP||0;const nme=getPartsAndSegments(Ff);for(let rme=0;rme<nme.length;rme++){const ime=Ff.endList||zP===0?rme:nme.length-(rme+1),ome=nme[ime],sme=ome.segment,ame=ome.part&&ome.part.start||sme&&sme.start;if(sme.timeline===$P&&typeof ame!="undefined"){const lme=Math.abs(zP-ame);if(tme!==null&&tme<lme)break;(!eme||tme===null||tme>=lme)&&(tme=lme,eme={time:ame,segmentIndex:ome.segmentIndex,partIndex:ome.partIndex})}}return eme}},{name:"Discontinuity",run:(kh,Ff,x_,$P,zP)=>{let eme=null;if(zP=zP||0,Ff.discontinuityStarts&&Ff.discontinuityStarts.length){let tme=null;for(let nme=0;nme<Ff.discontinuityStarts.length;nme++){const rme=Ff.discontinuityStarts[nme],ime=Ff.discontinuitySequence+nme+1,ome=kh.discontinuities[ime];if(ome){const sme=Math.abs(zP-ome.time);if(tme!==null&&tme<sme)break;(!eme||tme===null||tme>=sme)&&(tme=sme,eme={time:ome.time,segmentIndex:rme,partIndex:null})}}}return eme}},{name:"Playlist",run:(kh,Ff,x_,$P,zP)=>Ff.syncInfo?{time:Ff.syncInfo.time,segmentIndex:Ff.syncInfo.mediaSequence-Ff.mediaSequence,partIndex:null}:null}];class SyncController extends videojs.EventTarget{constructor(Ff={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=logger("SyncController")}getSyncPoint(Ff,x_,$P,zP){const eme=this.runStrategies_(Ff,x_,$P,zP);return eme.length?this.selectSyncPoint_(eme,{key:"time",value:zP}):null}getExpiredTime(Ff,x_){if(!Ff||!Ff.segments)return null;const $P=this.runStrategies_(Ff,x_,Ff.discontinuitySequence,0);if(!$P.length)return null;const zP=this.selectSyncPoint_($P,{key:"segmentIndex",value:0});return zP.segmentIndex>0&&(zP.time*=-1),Math.abs(zP.time+sumDurations({defaultDuration:Ff.targetDuration,durationList:Ff.segments,startIndex:zP.segmentIndex,endIndex:0}))}runStrategies_(Ff,x_,$P,zP){const eme=[];for(let tme=0;tme<syncPointStrategies.length;tme++){const nme=syncPointStrategies[tme],rme=nme.run(this,Ff,x_,$P,zP);rme&&(rme.strategy=nme.name,eme.push({strategy:nme.name,syncPoint:rme}))}return eme}selectSyncPoint_(Ff,x_){let $P=Ff[0].syncPoint,zP=Math.abs(Ff[0].syncPoint[x_.key]-x_.value),eme=Ff[0].strategy;for(let tme=1;tme<Ff.length;tme++){const nme=Math.abs(Ff[tme].syncPoint[x_.key]-x_.value);nme<zP&&(zP=nme,$P=Ff[tme].syncPoint,eme=Ff[tme].strategy)}return this.logger_(`syncPoint for [${x_.key}: ${x_.value}] chosen with strategy [${eme}]: [time:${$P.time}, segmentIndex:${$P.segmentIndex}`+(typeof $P.partIndex=="number"?`,partIndex:${$P.partIndex}`:"")+"]"),$P}saveExpiredSegmentInfo(Ff,x_){const $P=x_.mediaSequence-Ff.mediaSequence;if($P>MAX_MEDIA_SEQUENCE_DIFF_FOR_SYNC){videojs.log.warn(`Not saving expired segment info. Media sequence gap ${$P} is too large.`);return}for(let zP=$P-1;zP>=0;zP--){const eme=Ff.segments[zP];if(eme&&typeof eme.start!="undefined"){x_.syncInfo={mediaSequence:Ff.mediaSequence+zP,time:eme.start},this.logger_(`playlist refresh sync: [time:${x_.syncInfo.time}, mediaSequence: ${x_.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(Ff){if(this.timelineToDatetimeMappings={},Ff.segments&&Ff.segments.length&&Ff.segments[0].dateTimeObject){const x_=Ff.segments[0],$P=x_.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[x_.timeline]=-$P}}saveSegmentTimingInfo({segmentInfo:Ff,shouldSaveTimelineMapping:x_}){const $P=this.calculateSegmentTimeMapping_(Ff,Ff.timingInfo,x_),zP=Ff.segment;$P&&(this.saveDiscontinuitySyncInfo_(Ff),Ff.playlist.syncInfo||(Ff.playlist.syncInfo={mediaSequence:Ff.playlist.mediaSequence+Ff.mediaIndex,time:zP.start}));const eme=zP.dateTimeObject;zP.discontinuity&&x_&&eme&&(this.timelineToDatetimeMappings[zP.timeline]=-(eme.getTime()/1e3))}timestampOffsetForTimeline(Ff){return typeof this.timelines[Ff]=="undefined"?null:this.timelines[Ff].time}mappingForTimeline(Ff){return typeof this.timelines[Ff]=="undefined"?null:this.timelines[Ff].mapping}calculateSegmentTimeMapping_(Ff,x_,$P){const zP=Ff.segment,eme=Ff.part;let tme=this.timelines[Ff.timeline],nme,rme;if(typeof Ff.timestampOffset=="number")tme={time:Ff.startOfSegment,mapping:Ff.startOfSegment-x_.start},$P&&(this.timelines[Ff.timeline]=tme,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${Ff.timeline}: [time: ${tme.time}] [mapping: ${tme.mapping}]`)),nme=Ff.startOfSegment,rme=x_.end+tme.mapping;else if(tme)nme=x_.start+tme.mapping,rme=x_.end+tme.mapping;else return!1;return eme&&(eme.start=nme,eme.end=rme),(!zP.start||nme<zP.start)&&(zP.start=nme),zP.end=rme,!0}saveDiscontinuitySyncInfo_(Ff){const x_=Ff.playlist,$P=Ff.segment;if($P.discontinuity)this.discontinuities[$P.timeline]={time:$P.start,accuracy:0};else if(x_.discontinuityStarts&&x_.discontinuityStarts.length)for(let zP=0;zP<x_.discontinuityStarts.length;zP++){const eme=x_.discontinuityStarts[zP],tme=x_.discontinuitySequence+zP+1,nme=eme-Ff.mediaIndex,rme=Math.abs(nme);if(!this.discontinuities[tme]||this.discontinuities[tme].accuracy>rme){let ime;nme<0?ime=$P.start-sumDurations({defaultDuration:x_.targetDuration,durationList:x_.segments,startIndex:Ff.mediaIndex,endIndex:eme}):ime=$P.end+sumDurations({defaultDuration:x_.targetDuration,durationList:x_.segments,startIndex:Ff.mediaIndex+1,endIndex:eme}),this.discontinuities[tme]={time:ime,accuracy:rme}}}}dispose(){this.trigger("dispose"),this.off()}}class TimelineChangeController extends videojs.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(Ff){this.pendingTimelineChanges_[Ff]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:Ff,from:x_,to:$P}){return typeof x_=="number"&&typeof $P=="number"&&(this.pendingTimelineChanges_[Ff]={type:Ff,from:x_,to:$P},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[Ff]}lastTimelineChange({type:Ff,from:x_,to:$P}){return typeof x_=="number"&&typeof $P=="number"&&(this.lastTimelineChanges_[Ff]={type:Ff,from:x_,to:$P},delete this.pendingTimelineChanges_[Ff],this.trigger("timelinechange")),this.lastTimelineChanges_[Ff]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const workerCode=transform(getWorkerString(function(){var kh=function(){function dme(){this.listeners={}}var pme=dme.prototype;return pme.on=function(cme,_me){this.listeners[cme]||(this.listeners[cme]=[]),this.listeners[cme].push(_me)},pme.off=function(cme,_me){if(!this.listeners[cme])return!1;var vme=this.listeners[cme].indexOf(_me);return this.listeners[cme]=this.listeners[cme].slice(0),this.listeners[cme].splice(vme,1),vme>-1},pme.trigger=function(cme){var _me=this.listeners[cme];if(_me)if(arguments.length===2)for(var vme=_me.length,Eme=0;Eme<vme;++Eme)_me[Eme].call(this,arguments[1]);else for(var wme=Array.prototype.slice.call(arguments,1),Tme=_me.length,Dme=0;Dme<Tme;++Dme)_me[Dme].apply(this,wme)},pme.dispose=function(){this.listeners={}},pme.pipe=function(cme){this.on("data",function(_me){cme.push(_me)})},dme}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function Ff(dme){return dme.subarray(0,dme.byteLength-dme[dme.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const x_=function(){const dme=[[[],[],[],[],[]],[[],[],[],[],[]]],pme=dme[0],hme=dme[1],cme=pme[4],_me=hme[4];let vme,Eme,wme;const Tme=[],Dme=[];let Ame,Nme,Ume,jme,Fme,$me;for(vme=0;vme<256;vme++)Dme[(Tme[vme]=vme<<1^(vme>>7)*283)^vme]=vme;for(Eme=wme=0;!cme[Eme];Eme^=Ame||1,wme=Dme[wme]||1)for(jme=wme^wme<<1^wme<<2^wme<<3^wme<<4,jme=jme>>8^jme&255^99,cme[Eme]=jme,_me[jme]=Eme,Ume=Tme[Nme=Tme[Ame=Tme[Eme]]],$me=Ume*16843009^Nme*65537^Ame*257^Eme*16843008,Fme=Tme[jme]*257^jme*16843008,vme=0;vme<4;vme++)pme[vme][Eme]=Fme=Fme<<24^Fme>>>8,hme[vme][jme]=$me=$me<<24^$me>>>8;for(vme=0;vme<5;vme++)pme[vme]=pme[vme].slice(0),hme[vme]=hme[vme].slice(0);return dme};let $P=null;class zP{constructor(pme){$P||($P=x_()),this._tables=[[$P[0][0].slice(),$P[0][1].slice(),$P[0][2].slice(),$P[0][3].slice(),$P[0][4].slice()],[$P[1][0].slice(),$P[1][1].slice(),$P[1][2].slice(),$P[1][3].slice(),$P[1][4].slice()]];let hme,cme,_me;const vme=this._tables[0][4],Eme=this._tables[1],wme=pme.length;let Tme=1;if(wme!==4&&wme!==6&&wme!==8)throw new Error("Invalid aes key size");const Dme=pme.slice(0),Ame=[];for(this._key=[Dme,Ame],hme=wme;hme<4*wme+28;hme++)_me=Dme[hme-1],(hme%wme===0||wme===8&&hme%wme===4)&&(_me=vme[_me>>>24]<<24^vme[_me>>16&255]<<16^vme[_me>>8&255]<<8^vme[_me&255],hme%wme===0&&(_me=_me<<8^_me>>>24^Tme<<24,Tme=Tme<<1^(Tme>>7)*283)),Dme[hme]=Dme[hme-wme]^_me;for(cme=0;hme;cme++,hme--)_me=Dme[cme&3?hme:hme-4],hme<=4||cme<4?Ame[cme]=_me:Ame[cme]=Eme[0][vme[_me>>>24]]^Eme[1][vme[_me>>16&255]]^Eme[2][vme[_me>>8&255]]^Eme[3][vme[_me&255]]}decrypt(pme,hme,cme,_me,vme,Eme){const wme=this._key[1];let Tme=pme^wme[0],Dme=_me^wme[1],Ame=cme^wme[2],Nme=hme^wme[3],Ume,jme,Fme;const $me=wme.length/4-2;let Gme,Wme=4;const Jme=this._tables[1],r_e=Jme[0],o_e=Jme[1],i_e=Jme[2],Mme=Jme[3],Ome=Jme[4];for(Gme=0;Gme<$me;Gme++)Ume=r_e[Tme>>>24]^o_e[Dme>>16&255]^i_e[Ame>>8&255]^Mme[Nme&255]^wme[Wme],jme=r_e[Dme>>>24]^o_e[Ame>>16&255]^i_e[Nme>>8&255]^Mme[Tme&255]^wme[Wme+1],Fme=r_e[Ame>>>24]^o_e[Nme>>16&255]^i_e[Tme>>8&255]^Mme[Dme&255]^wme[Wme+2],Nme=r_e[Nme>>>24]^o_e[Tme>>16&255]^i_e[Dme>>8&255]^Mme[Ame&255]^wme[Wme+3],Wme+=4,Tme=Ume,Dme=jme,Ame=Fme;for(Gme=0;Gme<4;Gme++)vme[(3&-Gme)+Eme]=Ome[Tme>>>24]<<24^Ome[Dme>>16&255]<<16^Ome[Ame>>8&255]<<8^Ome[Nme&255]^wme[Wme++],Ume=Tme,Tme=Dme,Dme=Ame,Ame=Nme,Nme=Ume}}class eme extends kh{constructor(){super(kh),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(pme){this.jobs.push(pme),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const tme=function(dme){return dme<<24|(dme&65280)<<8|(dme&16711680)>>8|dme>>>24},nme=function(dme,pme,hme){const cme=new Int32Array(dme.buffer,dme.byteOffset,dme.byteLength>>2),_me=new zP(Array.prototype.slice.call(pme)),vme=new Uint8Array(dme.byteLength),Eme=new Int32Array(vme.buffer);let wme,Tme,Dme,Ame,Nme,Ume,jme,Fme,$me;for(wme=hme[0],Tme=hme[1],Dme=hme[2],Ame=hme[3],$me=0;$me<cme.length;$me+=4)Nme=tme(cme[$me]),Ume=tme(cme[$me+1]),jme=tme(cme[$me+2]),Fme=tme(cme[$me+3]),_me.decrypt(Nme,Ume,jme,Fme,Eme,$me),Eme[$me]=tme(Eme[$me]^wme),Eme[$me+1]=tme(Eme[$me+1]^Tme),Eme[$me+2]=tme(Eme[$me+2]^Dme),Eme[$me+3]=tme(Eme[$me+3]^Ame),wme=Nme,Tme=Ume,Dme=jme,Ame=Fme;return vme};class rme{constructor(pme,hme,cme,_me){const vme=rme.STEP,Eme=new Int32Array(pme.buffer),wme=new Uint8Array(pme.byteLength);let Tme=0;for(this.asyncStream_=new eme,this.asyncStream_.push(this.decryptChunk_(Eme.subarray(Tme,Tme+vme),hme,cme,wme)),Tme=vme;Tme<Eme.length;Tme+=vme)cme=new Uint32Array([tme(Eme[Tme-4]),tme(Eme[Tme-3]),tme(Eme[Tme-2]),tme(Eme[Tme-1])]),this.asyncStream_.push(this.decryptChunk_(Eme.subarray(Tme,Tme+vme),hme,cme,wme));this.asyncStream_.push(function(){_me(null,Ff(wme))})}static get STEP(){return 32e3}decryptChunk_(pme,hme,cme,_me){return function(){const vme=nme(pme,hme,cme);_me.set(vme,pme.byteOffset)}}}var ime=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ome;typeof window!="undefined"?ome=window:typeof ime!="undefined"?ome=ime:typeof self!="undefined"?ome=self:ome={};var sme=ome,ame=function(pme){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(pme):pme&&pme.buffer instanceof ArrayBuffer},lme=sme.BigInt||Number;lme("0x1"),lme("0x100"),lme("0x10000"),lme("0x1000000"),lme("0x100000000"),lme("0x10000000000"),lme("0x1000000000000"),lme("0x100000000000000"),lme("0x10000000000000000"),function(){var dme=new Uint16Array([65484]),pme=new Uint8Array(dme.buffer,dme.byteOffset,dme.byteLength);return pme[0]===255?"big":pme[0]===204?"little":"unknown"}();const ume=function(dme){const pme={};return Object.keys(dme).forEach(hme=>{const cme=dme[hme];ame(cme)?pme[hme]={bytes:cme.buffer,byteOffset:cme.byteOffset,byteLength:cme.byteLength}:pme[hme]=cme}),pme};self.onmessage=function(dme){const pme=dme.data,hme=new Uint8Array(pme.encrypted.bytes,pme.encrypted.byteOffset,pme.encrypted.byteLength),cme=new Uint32Array(pme.key.bytes,pme.key.byteOffset,pme.key.byteLength/4),_me=new Uint32Array(pme.iv.bytes,pme.iv.byteOffset,pme.iv.byteLength/4);new rme(hme,cme,_me,function(vme,Eme){self.postMessage(ume({source:pme.source,decrypted:Eme}),[Eme.buffer])})}}));var Decrypter=factory(workerCode);const audioTrackKind_=kh=>{let Ff=kh.default?"main":"alternative";return kh.characteristics&&kh.characteristics.indexOf("public.accessibility.describes-video")>=0&&(Ff="main-desc"),Ff},stopLoaders=(kh,Ff)=>{kh.abort(),kh.pause(),Ff&&Ff.activePlaylistLoader&&(Ff.activePlaylistLoader.pause(),Ff.activePlaylistLoader=null)},startLoaders=(kh,Ff)=>{Ff.activePlaylistLoader=kh,kh.load()},onGroupChanged=(kh,Ff)=>()=>{const{segmentLoaders:{[kh]:x_,main:$P},mediaTypes:{[kh]:zP}}=Ff,eme=zP.activeTrack(),tme=zP.getActiveGroup(),nme=zP.activePlaylistLoader,rme=zP.lastGroup_;if(!(tme&&rme&&tme.id===rme.id)&&(zP.lastGroup_=tme,zP.lastTrack_=eme,stopLoaders(x_,zP),!(!tme||tme.isMainPlaylist))){if(!tme.playlistLoader){nme&&$P.resetEverything();return}x_.resyncLoader(),startLoaders(tme.playlistLoader,zP)}},onGroupChanging=(kh,Ff)=>()=>{const{segmentLoaders:{[kh]:x_},mediaTypes:{[kh]:$P}}=Ff;$P.lastGroup_=null,x_.abort(),x_.pause()},onTrackChanged=(kh,Ff)=>()=>{const{mainPlaylistLoader:x_,segmentLoaders:{[kh]:$P,main:zP},mediaTypes:{[kh]:eme}}=Ff,tme=eme.activeTrack(),nme=eme.getActiveGroup(),rme=eme.activePlaylistLoader,ime=eme.lastTrack_;if(!(ime&&tme&&ime.id===tme.id)&&(eme.lastGroup_=nme,eme.lastTrack_=tme,stopLoaders($P,eme),!!nme)){if(nme.isMainPlaylist){if(!tme||!ime||tme.id===ime.id)return;const ome=Ff.vhs.playlistController_,sme=ome.selectPlaylist();if(ome.media()===sme)return;eme.logger_(`track change. Switching main audio from ${ime.id} to ${tme.id}`),x_.pause(),zP.resetEverything(),ome.fastQualityChange_(sme);return}if(kh==="AUDIO"){if(!nme.playlistLoader){zP.setAudio(!0),zP.resetEverything();return}$P.setAudio(!0),zP.setAudio(!1)}if(rme===nme.playlistLoader){startLoaders(nme.playlistLoader,eme);return}$P.track&&$P.track(tme),$P.resetEverything(),startLoaders(nme.playlistLoader,eme)}},onError={AUDIO:(kh,Ff)=>()=>{const{mediaTypes:{[kh]:x_},excludePlaylist:$P}=Ff,zP=x_.activeTrack(),eme=x_.activeGroup(),tme=(eme.filter(rme=>rme.default)[0]||eme[0]).id,nme=x_.tracks[tme];if(zP===nme){$P({error:{message:"Problem encountered loading the default audio track."}});return}videojs.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const rme in x_.tracks)x_.tracks[rme].enabled=x_.tracks[rme]===nme;x_.onTrackChanged()},SUBTITLES:(kh,Ff)=>()=>{const{mediaTypes:{[kh]:x_}}=Ff;videojs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const $P=x_.activeTrack();$P&&($P.mode="disabled"),x_.onTrackChanged()}},setupListeners={AUDIO:(kh,Ff,x_)=>{if(!Ff)return;const{tech:$P,requestOptions:zP,segmentLoaders:{[kh]:eme}}=x_;Ff.on("loadedmetadata",()=>{const tme=Ff.media();eme.playlist(tme,zP),(!$P.paused()||tme.endList&&$P.preload()!=="none")&&eme.load()}),Ff.on("loadedplaylist",()=>{eme.playlist(Ff.media(),zP),$P.paused()||eme.load()}),Ff.on("error",onError[kh](kh,x_))},SUBTITLES:(kh,Ff,x_)=>{const{tech:$P,requestOptions:zP,segmentLoaders:{[kh]:eme},mediaTypes:{[kh]:tme}}=x_;Ff.on("loadedmetadata",()=>{const nme=Ff.media();eme.playlist(nme,zP),eme.track(tme.activeTrack()),(!$P.paused()||nme.endList&&$P.preload()!=="none")&&eme.load()}),Ff.on("loadedplaylist",()=>{eme.playlist(Ff.media(),zP),$P.paused()||eme.load()}),Ff.on("error",onError[kh](kh,x_))}},initialize={AUDIO:(kh,Ff)=>{const{vhs:x_,sourceType:$P,segmentLoaders:{[kh]:zP},requestOptions:eme,main:{mediaGroups:tme},mediaTypes:{[kh]:{groups:nme,tracks:rme,logger_:ime}},mainPlaylistLoader:ome}=Ff,sme=isAudioOnly(ome.main);(!tme[kh]||Object.keys(tme[kh]).length===0)&&(tme[kh]={main:{default:{default:!0}}},sme&&(tme[kh].main.default.playlists=ome.main.playlists));for(const ame in tme[kh]){nme[ame]||(nme[ame]=[]);for(const lme in tme[kh][ame]){let ume=tme[kh][ame][lme],dme;if(sme?(ime(`AUDIO group '${ame}' label '${lme}' is a main playlist`),ume.isMainPlaylist=!0,dme=null):$P==="vhs-json"&&ume.playlists?dme=new PlaylistLoader(ume.playlists[0],x_,eme):ume.resolvedUri?dme=new PlaylistLoader(ume.resolvedUri,x_,eme):ume.playlists&&$P==="dash"?dme=new DashPlaylistLoader(ume.playlists[0],x_,eme,ome):dme=null,ume=merge({id:lme,playlistLoader:dme},ume),setupListeners[kh](kh,ume.playlistLoader,Ff),nme[ame].push(ume),typeof rme[lme]=="undefined"){const pme=new videojs.AudioTrack({id:lme,kind:audioTrackKind_(ume),enabled:!1,language:ume.language,default:ume.default,label:lme});rme[lme]=pme}}}zP.on("error",onError[kh](kh,Ff))},SUBTITLES:(kh,Ff)=>{const{tech:x_,vhs:$P,sourceType:zP,segmentLoaders:{[kh]:eme},requestOptions:tme,main:{mediaGroups:nme},mediaTypes:{[kh]:{groups:rme,tracks:ime}},mainPlaylistLoader:ome}=Ff;for(const sme in nme[kh]){rme[sme]||(rme[sme]=[]);for(const ame in nme[kh][sme]){if(!$P.options_.useForcedSubtitles&&nme[kh][sme][ame].forced)continue;let lme=nme[kh][sme][ame],ume;if(zP==="hls")ume=new PlaylistLoader(lme.resolvedUri,$P,tme);else if(zP==="dash"){if(!lme.playlists.filter(pme=>pme.excludeUntil!==1/0).length)return;ume=new DashPlaylistLoader(lme.playlists[0],$P,tme,ome)}else zP==="vhs-json"&&(ume=new PlaylistLoader(lme.playlists?lme.playlists[0]:lme.resolvedUri,$P,tme));if(lme=merge({id:ame,playlistLoader:ume},lme),setupListeners[kh](kh,lme.playlistLoader,Ff),rme[sme].push(lme),typeof ime[ame]=="undefined"){const dme=x_.addRemoteTextTrack({id:ame,kind:"subtitles",default:lme.default&&lme.autoselect,language:lme.language,label:ame},!1).track;ime[ame]=dme}}}eme.on("error",onError[kh](kh,Ff))},"CLOSED-CAPTIONS":(kh,Ff)=>{const{tech:x_,main:{mediaGroups:$P},mediaTypes:{[kh]:{groups:zP,tracks:eme}}}=Ff;for(const tme in $P[kh]){zP[tme]||(zP[tme]=[]);for(const nme in $P[kh][tme]){const rme=$P[kh][tme][nme];if(!/^(?:CC|SERVICE)/.test(rme.instreamId))continue;const ime=x_.options_.vhs&&x_.options_.vhs.captionServices||{};let ome={label:nme,language:rme.language,instreamId:rme.instreamId,default:rme.default&&rme.autoselect};if(ime[ome.instreamId]&&(ome=merge(ome,ime[ome.instreamId])),ome.default===void 0&&delete ome.default,zP[tme].push(merge({id:nme},rme)),typeof eme[nme]=="undefined"){const sme=x_.addRemoteTextTrack({id:ome.instreamId,kind:"captions",default:ome.default,language:ome.language,label:ome.label},!1).track;eme[nme]=sme}}}}},groupMatch=(kh,Ff)=>{for(let x_=0;x_<kh.length;x_++)if(playlistMatch(Ff,kh[x_])||kh[x_].playlists&&groupMatch(kh[x_].playlists,Ff))return!0;return!1},activeGroup=(kh,Ff)=>x_=>{const{mainPlaylistLoader:$P,mediaTypes:{[kh]:{groups:zP}}}=Ff,eme=$P.media();if(!eme)return null;let tme=null;eme.attributes[kh]&&(tme=zP[eme.attributes[kh]]);const nme=Object.keys(zP);if(!tme)if(kh==="AUDIO"&&nme.length>1&&isAudioOnly(Ff.main))for(let rme=0;rme<nme.length;rme++){const ime=zP[nme[rme]];if(groupMatch(ime,eme)){tme=ime;break}}else zP.main?tme=zP.main:nme.length===1&&(tme=zP[nme[0]]);return typeof x_=="undefined"?tme:x_===null||!tme?null:tme.filter(rme=>rme.id===x_.id)[0]||null},activeTrack={AUDIO:(kh,Ff)=>()=>{const{mediaTypes:{[kh]:{tracks:x_}}}=Ff;for(const $P in x_)if(x_[$P].enabled)return x_[$P];return null},SUBTITLES:(kh,Ff)=>()=>{const{mediaTypes:{[kh]:{tracks:x_}}}=Ff;for(const $P in x_)if(x_[$P].mode==="showing"||x_[$P].mode==="hidden")return x_[$P];return null}},getActiveGroup=(kh,{mediaTypes:Ff})=>()=>{const x_=Ff[kh].activeTrack();return x_?Ff[kh].activeGroup(x_):null},setupMediaGroups=kh=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(ime=>{initialize[ime](ime,kh)});const{mediaTypes:Ff,mainPlaylistLoader:x_,tech:$P,vhs:zP,segmentLoaders:{["AUDIO"]:eme,main:tme}}=kh;["AUDIO","SUBTITLES"].forEach(ime=>{Ff[ime].activeGroup=activeGroup(ime,kh),Ff[ime].activeTrack=activeTrack[ime](ime,kh),Ff[ime].onGroupChanged=onGroupChanged(ime,kh),Ff[ime].onGroupChanging=onGroupChanging(ime,kh),Ff[ime].onTrackChanged=onTrackChanged(ime,kh),Ff[ime].getActiveGroup=getActiveGroup(ime,kh)});const nme=Ff.AUDIO.activeGroup();if(nme){const ime=(nme.filter(sme=>sme.default)[0]||nme[0]).id;Ff.AUDIO.tracks[ime].enabled=!0,Ff.AUDIO.onGroupChanged(),Ff.AUDIO.onTrackChanged(),Ff.AUDIO.getActiveGroup().playlistLoader?(tme.setAudio(!1),eme.setAudio(!0)):tme.setAudio(!0)}x_.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(ime=>Ff[ime].onGroupChanged())}),x_.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(ime=>Ff[ime].onGroupChanging())});const rme=()=>{Ff.AUDIO.onTrackChanged(),$P.trigger({type:"usage",name:"vhs-audio-change"})};$P.audioTracks().addEventListener("change",rme),$P.remoteTextTracks().addEventListener("change",Ff.SUBTITLES.onTrackChanged),zP.on("dispose",()=>{$P.audioTracks().removeEventListener("change",rme),$P.remoteTextTracks().removeEventListener("change",Ff.SUBTITLES.onTrackChanged)}),$P.clearTracks("audio");for(const ime in Ff.AUDIO.tracks)$P.audioTracks().addTrack(Ff.AUDIO.tracks[ime])},createMediaTypes=()=>{const kh={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(Ff=>{kh[Ff]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:noop,activeTrack:noop,getActiveGroup:noop,onGroupChanged:noop,onTrackChanged:noop,lastTrack_:null,logger_:logger(`MediaGroups[${Ff}]`)}}),kh};class SteeringManifest{constructor(){this.priority_=[]}set version(Ff){Ff===1&&(this.version_=Ff)}set ttl(Ff){this.ttl_=Ff||300}set reloadUri(Ff){Ff&&(this.reloadUri_=resolveUrl(this.reloadUri_,Ff))}set priority(Ff){Ff&&Ff.length&&(this.priority_=Ff)}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}}class ContentSteeringController extends videojs.EventTarget{constructor(Ff,x_){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new SteeringManifest,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.logger_=logger("Content Steering"),this.xhr_=Ff,this.getBandwidth_=x_}assignTagProperties(Ff,x_){this.manifestType_=x_.serverUri?"HLS":"DASH";const $P=x_.serverUri||x_.serverURL;if(!$P){this.logger_(`steering manifest URL is ${$P}, cannot request steering manifest.`),this.trigger("error");return}if($P.startsWith("data:")){this.decodeDataUriManifest_($P.substring($P.indexOf(",")+1));return}this.steeringManifest.reloadUri=this.queryBeforeStart?$P:resolveUrl(Ff,$P),this.defaultPathway=x_.pathwayId||x_.defaultServiceLocation,this.queryBeforeStart=x_.queryBeforeStart||!1,this.proxyServerUrl_=x_.proxyServerURL||null,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"),this.queryBeforeStart&&this.requestSteeringManifest(this.steeringManifest.reloadUri)}requestSteeringManifest(Ff){const x_=this.steeringManifest.reloadUri;if(!Ff&&!x_)return;const $P=Ff||this.getRequestURI(x_);if(!$P){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}this.request_=this.xhr_({uri:$P},(zP,eme)=>{if(zP){if(eme.status===410){this.logger_(`manifest request 410 ${zP}.`),this.logger_(`There will be no more content steering requests to ${$P} this session.`),this.excludedSteeringManifestURLs.add($P);return}if(eme.status===429){const nme=eme.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${zP}.`),this.logger_(`content steering will retry in ${nme} seconds.`),this.startTTLTimeout_(parseInt(nme,10));return}this.logger_(`manifest failed to load ${zP}.`),this.startTTLTimeout_();return}const tme=JSON.parse(this.request_.responseText);this.startTTLTimeout_(),this.assignSteeringProperties_(tme)})}setProxyServerUrl_(Ff){const x_=new window$1$1.URL(Ff),$P=new window$1$1.URL(this.proxyServerUrl_);return $P.searchParams.set("url",encodeURI(x_.toString())),this.setSteeringParams_($P.toString())}decodeDataUriManifest_(Ff){const x_=JSON.parse(window$1$1.atob(Ff));this.assignSteeringProperties_(x_)}setSteeringParams_(Ff){const x_=new window$1$1.URL(Ff),$P=this.getPathway(),zP=this.getBandwidth_();if($P){const eme=`_${this.manifestType_}_pathway`;x_.searchParams.set(eme,$P)}if(zP){const eme=`_${this.manifestType_}_throughput`;x_.searchParams.set(eme,zP)}return x_.toString()}assignSteeringProperties_(Ff){if(this.steeringManifest.version=Ff.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${Ff.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=Ff.TTL,this.steeringManifest.reloadUri=Ff["RELOAD-URI"],this.steeringManifest.priority=Ff["PATHWAY-PRIORITY"]||Ff["SERVICE-LOCATION-PRIORITY"],this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const $P=(zP=>{for(const eme of zP)if(this.availablePathways_.has(eme))return eme;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==$P&&(this.currentPathway=$P,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(Ff){if(!Ff)return null;const x_=zP=>this.excludedSteeringManifestURLs.has(zP);if(this.proxyServerUrl_){const zP=this.setProxyServerUrl_(Ff);if(!x_(zP))return zP}const $P=this.setSteeringParams_(Ff);return x_($P)?null:$P}startTTLTimeout_(Ff=this.steeringManifest.ttl){const x_=Ff*1e3;this.ttlTimeout_=window$1$1.setTimeout(()=>{this.requestSteeringManifest()},x_)}clearTTLTimeout_(){window$1$1.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.excludedPathways_=new Set,this.steeringManifest=new SteeringManifest}addAvailablePathway(Ff){Ff&&this.availablePathways_.add(Ff)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(Ff){return this.availablePathways_.delete(Ff)}}const ABORT_EARLY_EXCLUSION_SECONDS=10;let Vhs$1;const loaderStats=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],sumLoaderStat=function(kh){return this.audioSegmentLoader_[kh]+this.mainSegmentLoader_[kh]},shouldSwitchToMedia=function({currentPlaylist:kh,buffered:Ff,currentTime:x_,nextPlaylist:$P,bufferLowWaterLine:zP,bufferHighWaterLine:eme,duration:tme,bufferBasedABR:nme,log:rme}){if(!$P)return videojs.log.warn("We received no playlist to switch to. Please check your stream."),!1;const ime=`allowing switch ${kh&&kh.id||"null"} -> ${$P.id}`;if(!kh)return rme(`${ime} as current playlist is not set`),!0;if($P.id===kh.id)return!1;const ome=!!findRange(Ff,x_).length;if(!kh.endList)return!ome&&typeof kh.partTargetDuration=="number"?(rme(`not ${ime} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(rme(`${ime} as current playlist is live`),!0);const sme=timeAheadOf(Ff,x_),ame=nme?Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Config.MAX_BUFFER_LOW_WATER_LINE;if(tme<ame)return rme(`${ime} as duration < max low water line (${tme} < ${ame})`),!0;const lme=$P.attributes.BANDWIDTH,ume=kh.attributes.BANDWIDTH;if(lme<ume&&(!nme||sme<eme)){let dme=`${ime} as next bandwidth < current bandwidth (${lme} < ${ume})`;return nme&&(dme+=` and forwardBuffer < bufferHighWaterLine (${sme} < ${eme})`),rme(dme),!0}if((!nme||lme>ume)&&sme>=zP){let dme=`${ime} as forwardBuffer >= bufferLowWaterLine (${sme} >= ${zP})`;return nme&&(dme+=` and next bandwidth > current bandwidth (${lme} > ${ume})`),rme(dme),!0}return rme(`not ${ime} as no switching criteria met`),!1};class PlaylistController extends videojs.EventTarget{constructor(Ff){super();const{src:x_,withCredentials:$P,tech:zP,bandwidth:eme,externVhs:tme,useCueTags:nme,playlistExclusionDuration:rme,enableLowInitialPlaylist:ime,sourceType:ome,cacheEncryptionKeys:sme,bufferBasedABR:ame,leastPixelDiffSelector:lme,captionServices:ume}=Ff;if(!x_)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:dme}=Ff;(dme===null||typeof dme=="undefined")&&(dme=1/0),Vhs$1=tme,this.bufferBasedABR=!!ame,this.leastPixelDiffSelector=!!lme,this.withCredentials=$P,this.tech_=zP,this.vhs_=zP.vhs,this.sourceType_=ome,this.useCueTags_=nme,this.playlistExclusionDuration=rme,this.maxPlaylistRetries=dme,this.enableLowInitialPlaylist=ime,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:$P,maxPlaylistRetries:dme,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=createMediaTypes(),this.mediaSource=new window$1$1.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=createTimeRanges(),this.hasPlayed_=!1,this.syncController_=new SyncController(Ff),this.segmentMetadataTrack_=zP.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Decrypter,this.sourceUpdater_=new SourceUpdater(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new TimelineChangeController;const pme={vhs:this.vhs_,parse708captions:Ff.parse708captions,useDtsForTimestampOffset:Ff.useDtsForTimestampOffset,calculateTimestampOffsetForEachSegment:Ff.calculateTimestampOffsetForEachSegment,captionServices:ume,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:eme,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:sme,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:Ff.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new DashPlaylistLoader(x_,this.vhs_,merge(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new PlaylistLoader(x_,this.vhs_,merge(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new SegmentLoader(merge(pme,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),Ff),this.audioSegmentLoader_=new SegmentLoader(merge(pme,{loaderType:"audio"}),Ff),this.subtitleSegmentLoader_=new VTTSegmentLoader(merge(pme,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((_me,vme)=>{function Eme(){zP.off("vttjserror",wme),_me()}function wme(){zP.off("vttjsloaded",Eme),vme()}zP.one("vttjsloaded",Eme),zP.one("vttjserror",wme),zP.addWebVttScript_()})}),Ff);const hme=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new ContentSteeringController(this.vhs_.xhr,hme),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),loaderStats.forEach(_me=>{this[_me+"_"]=sumLoaderStat.bind(this,_me)}),this.logger_=logger("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const cme=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(cme,()=>{const _me=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-_me,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const Ff=this.mainAppendsToLoadedData_(),x_=this.audioAppendsToLoadedData_();return Ff===-1||x_===-1?-1:Ff+x_}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(Ff="abr"){const x_=this.selectPlaylist();x_&&this.shouldSwitchToMedia_(x_)&&this.switchMedia_(x_,Ff)}switchMedia_(Ff,x_,$P){const zP=this.media(),eme=zP&&(zP.id||zP.uri),tme=Ff.id||Ff.uri;eme&&eme!==tme&&(this.logger_(`switch media ${eme} -> ${tme} from ${x_}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${x_}`})),this.mainPlaylistLoader_.media(Ff,$P)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(Ff=>{const x_=this.mediaTypes_[Ff],$P=x_?x_.activeGroup():null,zP=this.contentSteeringController_.getPathway();if($P&&zP){const tme=($P.length?$P[0].playlists:$P.playlists).filter(nme=>nme.attributes.serviceLocation===zP);tme.length&&this.mediaTypes_[Ff].activePlaylistLoader.media(tme[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=window$1$1.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(window$1$1.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const Ff=this.main(),x_=Ff&&Ff.playlists||[];if(!Ff||!Ff.mediaGroups||!Ff.mediaGroups.AUDIO)return x_;const $P=Ff.mediaGroups.AUDIO,zP=Object.keys($P);let eme;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)eme=this.mediaTypes_.AUDIO.activeTrack();else{const nme=$P.main||zP.length&&$P[zP[0]];for(const rme in nme)if(nme[rme].default){eme={label:rme};break}}if(!eme)return x_;const tme=[];for(const nme in $P)if($P[nme][eme.label]){const rme=$P[nme][eme.label];if(rme.playlists&&rme.playlists.length)tme.push.apply(tme,rme.playlists);else if(rme.uri)tme.push(rme);else if(Ff.playlists.length)for(let ime=0;ime<Ff.playlists.length;ime++){const ome=Ff.playlists[ime];ome.attributes&&ome.attributes.AUDIO&&ome.attributes.AUDIO===nme&&tme.push(ome)}}return tme.length?tme:x_}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const Ff=this.mainPlaylistLoader_.media(),x_=Ff.targetDuration*1.5*1e3;isLowestEnabledRendition(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=x_,Ff.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(Ff,this.requestOptions_),this.mainSegmentLoader_.load()),setupMediaGroups({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),Ff),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let Ff=this.mainPlaylistLoader_.media();if(!Ff){this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let x_;if(this.enableLowInitialPlaylist&&(x_=this.selectInitialPlaylist()),x_||(x_=this.selectPlaylist()),!x_||!this.shouldSwitchToMedia_(x_)||(this.initialMedia_=x_,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;Ff=this.initialMedia_}this.handleUpdatedMediaPlaylist(Ff)}),this.mainPlaylistLoader_.on("error",()=>{const Ff=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:Ff.playlist,error:Ff})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const Ff=this.mainPlaylistLoader_.media(),x_=Ff.targetDuration*1.5*1e3;isLowestEnabledRendition(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=x_,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(Ff,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const Ff=this.mainPlaylistLoader_.media();if(Ff.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(Ff)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(Ff){this.useCueTags_&&this.updateAdCues_(Ff),this.mainSegmentLoader_.playlist(Ff,this.requestOptions_),this.updateDuration(!Ff.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(Ff,x_){const $P=Ff.mediaGroups||{};let zP=!0;const eme=Object.keys($P.AUDIO);for(const tme in $P.AUDIO)for(const nme in $P.AUDIO[tme])$P.AUDIO[tme][nme].uri||(zP=!1);zP&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys($P.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Vhs$1.Playlist.isAes(x_)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),eme.length&&Object.keys($P.AUDIO[eme[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(Ff){const x_=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,$P=this.tech_.currentTime(),zP=this.bufferLowWaterLine(),eme=this.bufferHighWaterLine(),tme=this.tech_.buffered();return shouldSwitchToMedia({buffered:tme,currentTime:$P,currentPlaylist:x_,nextPlaylist:Ff,bufferLowWaterLine:zP,bufferHighWaterLine:eme,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const x_=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:x_.playlist,error:x_})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",x_=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:ABORT_EARLY_EXCLUSION_SECONDS}))});const Ff=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const x_=this.getCodecsOrExclude_();x_&&this.sourceUpdater_.addOrChangeSourceBuffers(x_)};this.mainSegmentLoader_.on("trackinfo",Ff),this.audioSegmentLoader_.on("trackinfo",Ff),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(Ff=this.selectPlaylist()){if(Ff===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(Ff,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const Ff=this.tech_.buffered(),x_=Ff.end(Ff.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=x_,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const Ff=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<Ff.start(0))return this.tech_.setCurrentTime(Ff.end(Ff.length-1))}setupFirstPlay(){const Ff=this.mainPlaylistLoader_.media();if(!Ff||this.tech_.paused()||this.hasPlayed_)return!1;if(!Ff.endList||Ff.start){const x_=this.seekable();if(!x_.length)return!1;const $P=x_.end(0);let zP=$P;if(Ff.start){const eme=Ff.start.timeOffset;eme<0?zP=Math.max($P+eme,x_.start(0)):zP=Math.min($P,eme)}this.trigger("firstplay"),this.tech_.setCurrentTime(zP)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const Ff=this.tech_.play();typeof Ff!="undefined"&&typeof Ff.then=="function"&&Ff.then(null,x_=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const Ff=this.inbandTextTracks_.metadataTrack_.cues;if(!Ff||!Ff.length)return;const x_=this.duration();Ff[Ff.length-1].endTime=isNaN(x_)||Math.abs(x_)===1/0?Number.MAX_VALUE:x_}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let Ff=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const x_=this.mainSegmentLoader_.getCurrentMediaInfo_();!x_||x_.hasVideo?Ff=Ff&&this.audioSegmentLoader_.ended_:Ff=this.audioSegmentLoader_.ended_}Ff&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(Ff){if(!this.seekable().length)return!1;const $P=this.syncController_.getExpiredTime(Ff,this.duration());if($P===null)return!1;const zP=Vhs$1.Playlist.playlistEnd(Ff,$P),eme=this.tech_.currentTime(),tme=this.tech_.buffered();if(!tme.length)return zP-eme<=SAFE_TIME_DELTA;const nme=tme.end(tme.length-1);return nme-eme<=SAFE_TIME_DELTA&&zP-nme<=SAFE_TIME_DELTA}excludePlaylist({playlistToExclude:Ff=this.mainPlaylistLoader_.media(),error:x_={},playlistExclusionDuration:$P}){if(Ff=Ff||this.mainPlaylistLoader_.media(),$P=$P||x_.playlistExclusionDuration||this.playlistExclusionDuration,!Ff){this.error=x_,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}Ff.playlistErrors_++;const zP=this.mainPlaylistLoader_.main.playlists,eme=zP.filter(isEnabled),tme=eme.length===1&&eme[0]===Ff;if(zP.length===1&&$P!==1/0)return videojs.log.warn(`Problem encountered with playlist ${Ff.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(tme);if(tme){if(this.main().contentSteering){const ume=this.pathwayAttribute_(Ff),dme=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(ume),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(ume)},dme);return}let lme=!1;zP.forEach(ume=>{if(ume===Ff)return;const dme=ume.excludeUntil;typeof dme!="undefined"&&dme!==1/0&&(lme=!0,delete ume.excludeUntil)}),lme&&(videojs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let nme;Ff.playlistErrors_>this.maxPlaylistRetries?nme=1/0:nme=Date.now()+$P*1e3,Ff.excludeUntil=nme,x_.reason&&(Ff.lastExcludeReason_=x_.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const rme=this.selectPlaylist();if(!rme){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const ime=x_.internal?this.logger_:videojs.log.warn,ome=x_.message?" "+x_.message:"";ime(`${x_.internal?"Internal problem":"Problem"} encountered with playlist ${Ff.id}.${ome} Switching to playlist ${rme.id}.`),rme.attributes.AUDIO!==Ff.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),rme.attributes.SUBTITLES!==Ff.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const sme=rme.targetDuration/2*1e3||5*1e3,ame=typeof rme.lastRequest=="number"&&Date.now()-rme.lastRequest<=sme;return this.switchMedia_(rme,"exclude",tme||ame)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(Ff,x_){const $P=[],zP=Ff==="all";(zP||Ff==="main")&&$P.push(this.mainPlaylistLoader_);const eme=[];(zP||Ff==="audio")&&eme.push("AUDIO"),(zP||Ff==="subtitle")&&(eme.push("CLOSED-CAPTIONS"),eme.push("SUBTITLES")),eme.forEach(tme=>{const nme=this.mediaTypes_[tme]&&this.mediaTypes_[tme].activePlaylistLoader;nme&&$P.push(nme)}),["main","audio","subtitle"].forEach(tme=>{const nme=this[`${tme}SegmentLoader_`];nme&&(Ff===tme||Ff==="all")&&$P.push(nme)}),$P.forEach(tme=>x_.forEach(nme=>{typeof tme[nme]=="function"&&tme[nme]()}))}setCurrentTime(Ff){const x_=findRange(this.tech_.buffered(),Ff);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(x_&&x_.length)return Ff;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const Ff=this.mainPlaylistLoader_.media();return Ff?Ff.endList?this.mediaSource?this.mediaSource.duration:Vhs$1.Playlist.duration(Ff):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let Ff;if(!this.mainPlaylistLoader_)return;let x_=this.mainPlaylistLoader_.media();if(!x_)return;let $P=this.syncController_.getExpiredTime(x_,this.duration());if($P===null)return;const zP=this.mainPlaylistLoader_.main,eme=Vhs$1.Playlist.seekable(x_,$P,Vhs$1.Playlist.liveEdgeDelay(zP,x_));if(eme.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(x_=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),$P=this.syncController_.getExpiredTime(x_,this.duration()),$P===null||(Ff=Vhs$1.Playlist.seekable(x_,$P,Vhs$1.Playlist.liveEdgeDelay(zP,x_)),Ff.length===0)))return;let tme,nme;this.seekable_&&this.seekable_.length&&(tme=this.seekable_.end(0),nme=this.seekable_.start(0)),Ff?Ff.start(0)>eme.end(0)||eme.start(0)>Ff.end(0)?this.seekable_=eme:this.seekable_=createTimeRanges([[Ff.start(0)>eme.start(0)?Ff.start(0):eme.start(0),Ff.end(0)<eme.end(0)?Ff.end(0):eme.end(0)]]):this.seekable_=eme,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===tme&&this.seekable_.start(0)===nme)&&(this.logger_(`seekable updated [${printableRange(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(Ff){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,Ff),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(Ff){const zP=this.seekable();if(!zP.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<zP.end(zP.length-1))&&this.sourceUpdater_.setDuration(zP.end(zP.length-1));return}const x_=this.tech_.buffered();let $P=Vhs$1.Playlist.duration(this.mainPlaylistLoader_.media());x_.length>0&&($P=Math.max($P,x_.end(x_.length-1))),this.mediaSource.duration!==$P&&this.sourceUpdater_.setDuration($P)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(Ff=>{const x_=this.mediaTypes_[Ff].groups;for(const $P in x_)x_[$P].forEach(zP=>{zP.playlistLoader&&zP.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const Ff=!!this.mediaTypes_.AUDIO.activePlaylistLoader,x_=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),$P=Ff?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!x_||!$P)}getCodecsOrExclude_(){const Ff={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},x_=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();Ff.video=Ff.main;const $P=codecsForPlaylist(this.main(),x_),zP={},eme=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(Ff.main.hasVideo&&(zP.video=$P.video||Ff.main.videoCodec||DEFAULT_VIDEO_CODEC),Ff.main.isMuxed&&(zP.video+=`,${$P.audio||Ff.main.audioCodec||DEFAULT_AUDIO_CODEC}`),(Ff.main.hasAudio&&!Ff.main.isMuxed||Ff.audio.hasAudio||eme)&&(zP.audio=$P.audio||Ff.main.audioCodec||Ff.audio.audioCodec||DEFAULT_AUDIO_CODEC,Ff.audio.isFmp4=Ff.main.hasAudio&&!Ff.main.isMuxed?Ff.main.isFmp4:Ff.audio.isFmp4),!zP.audio&&!zP.video){this.excludePlaylist({playlistToExclude:x_,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const tme=(ime,ome)=>ime?browserSupportsCodec(ome):muxerSupportsCodec(ome),nme={};let rme;if(["video","audio"].forEach(function(ime){if(zP.hasOwnProperty(ime)&&!tme(Ff[ime].isFmp4,zP[ime])){const ome=Ff[ime].isFmp4?"browser":"muxer";nme[ome]=nme[ome]||[],nme[ome].push(zP[ime]),ime==="audio"&&(rme=ome)}}),eme&&rme&&x_.attributes.AUDIO){const ime=x_.attributes.AUDIO;this.main().playlists.forEach(ome=>{(ome.attributes&&ome.attributes.AUDIO)===ime&&ome!==x_&&(ome.excludeUntil=1/0)}),this.logger_(`excluding audio group ${ime} as ${rme} does not support codec(s): "${zP.audio}"`)}if(Object.keys(nme).length){const ime=Object.keys(nme).reduce((ome,sme)=>(ome&&(ome+=", "),ome+=`${sme} does not support codec(s): "${nme[sme].join(",")}"`,ome),"")+".";this.excludePlaylist({playlistToExclude:x_,error:{internal:!0,message:ime},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const ime=[];if(["video","audio"].forEach(ome=>{const sme=(parseCodecs(this.sourceUpdater_.codecs[ome]||"")[0]||{}).type,ame=(parseCodecs(zP[ome]||"")[0]||{}).type;sme&&ame&&sme.toLowerCase()!==ame.toLowerCase()&&ime.push(`"${this.sourceUpdater_.codecs[ome]}" -> "${zP[ome]}"`)}),ime.length){this.excludePlaylist({playlistToExclude:x_,error:{message:`Codec switching not supported: ${ime.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return zP}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const Ff=this.getCodecsOrExclude_();if(!Ff)return;this.sourceUpdater_.createSourceBuffers(Ff);const x_=[Ff.video,Ff.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(x_)}excludeUnsupportedVariants_(){const Ff=this.main().playlists,x_=[];Object.keys(Ff).forEach($P=>{const zP=Ff[$P];if(x_.indexOf(zP.id)!==-1)return;x_.push(zP.id);const eme=codecsForPlaylist(this.main,zP),tme=[];eme.audio&&!muxerSupportsCodec(eme.audio)&&!browserSupportsCodec(eme.audio)&&tme.push(`audio codec ${eme.audio}`),eme.video&&!muxerSupportsCodec(eme.video)&&!browserSupportsCodec(eme.video)&&tme.push(`video codec ${eme.video}`),eme.text&&eme.text==="stpp.ttml.im1t"&&tme.push(`text codec ${eme.text}`),tme.length&&(zP.excludeUntil=1/0,this.logger_(`excluding ${zP.id} for unsupported: ${tme.join(", ")}`))})}excludeIncompatibleVariants_(Ff){const x_=[],$P=this.main().playlists,zP=unwrapCodecList(parseCodecs(Ff)),eme=codecCount(zP),tme=zP.video&&parseCodecs(zP.video)[0]||null,nme=zP.audio&&parseCodecs(zP.audio)[0]||null;Object.keys($P).forEach(rme=>{const ime=$P[rme];if(x_.indexOf(ime.id)!==-1||ime.excludeUntil===1/0)return;x_.push(ime.id);const ome=[],sme=codecsForPlaylist(this.mainPlaylistLoader_.main,ime),ame=codecCount(sme);if(!(!sme.audio&&!sme.video)){if(ame!==eme&&ome.push(`codec count "${ame}" !== "${eme}"`),!this.sourceUpdater_.canChangeType()){const lme=sme.video&&parseCodecs(sme.video)[0]||null,ume=sme.audio&&parseCodecs(sme.audio)[0]||null;lme&&tme&&lme.type.toLowerCase()!==tme.type.toLowerCase()&&ome.push(`video codec "${lme.type}" !== "${tme.type}"`),ume&&nme&&ume.type.toLowerCase()!==nme.type.toLowerCase()&&ome.push(`audio codec "${ume.type}" !== "${nme.type}"`)}ome.length&&(ime.excludeUntil=1/0,this.logger_(`excluding ${ime.id}: ${ome.join(" && ")}`))}})}updateAdCues_(Ff){let x_=0;const $P=this.seekable();$P.length&&(x_=$P.start(0)),updateAdCues(Ff,this.cueTagsTrack_,x_)}goalBufferLength(){const Ff=this.tech_.currentTime(),x_=Config.GOAL_BUFFER_LENGTH,$P=Config.GOAL_BUFFER_LENGTH_RATE,zP=Math.max(x_,Config.MAX_GOAL_BUFFER_LENGTH);return Math.min(x_+Ff*$P,zP)}bufferLowWaterLine(){const Ff=this.tech_.currentTime(),x_=Config.BUFFER_LOW_WATER_LINE,$P=Config.BUFFER_LOW_WATER_LINE_RATE,zP=Math.max(x_,Config.MAX_BUFFER_LOW_WATER_LINE),eme=Math.max(x_,Config.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(x_+Ff*$P,this.bufferBasedABR?eme:zP)}bufferHighWaterLine(){return Config.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(Ff){createMetadataTrackIfNotExists(this.inbandTextTracks_,"com.apple.streaming",this.tech_),addDateRangeMetadata({inbandTextTracks:this.inbandTextTracks_,dateRanges:Ff})}addMetadataToTextTrack(Ff,x_,$P){const zP=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();createMetadataTrackIfNotExists(this.inbandTextTracks_,Ff,this.tech_),addMetadata({inbandTextTracks:this.inbandTextTracks_,metadataArray:x_,timestampOffset:zP,videoDuration:$P})}pathwayAttribute_(Ff){return Ff.attributes["PATHWAY-ID"]||Ff.attributes.serviceLocation}initContentSteeringController_(){const Ff=this.main();if(!Ff.contentSteering)return;const x_=$P=>{for(const zP of $P.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(zP));this.contentSteeringController_.assignTagProperties($P.uri,$P.contentSteering)};x_(Ff),this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("mediaupdatetimeout",()=>{this.mainPlaylistLoader_.refreshMedia_(this.mainPlaylistLoader_.media().id),this.contentSteeringController_.abort(),this.contentSteeringController_.clearTTLTimeout_(),this.contentSteeringController_.clearAvailablePathways(),x_(this.main())}),this.contentSteeringController_.queryBeforeStart||this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}excludeThenChangePathway_(){const Ff=this.contentSteeringController_.getPathway();if(!Ff)return;const $P=this.main().playlists,zP=new Set;let eme=!1;Object.keys($P).forEach(tme=>{const nme=$P[tme],rme=this.pathwayAttribute_(nme),ime=rme&&Ff!==rme;nme.excludeUntil===1/0&&nme.lastExcludeReason_==="content-steering"&&!ime&&(delete nme.excludeUntil,delete nme.lastExcludeReason_,eme=!0);const sme=!nme.excludeUntil&&nme.excludeUntil!==1/0;!zP.has(nme.id)&&ime&&sme&&(zP.add(nme.id),nme.excludeUntil=1/0,nme.lastExcludeReason_="content-steering",this.logger_(`excluding ${nme.id} for ${nme.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(tme=>{const nme=this.mediaTypes_[tme];if(nme.activePlaylistLoader){const rme=nme.activePlaylistLoader.media_;rme&&rme.attributes.serviceLocation!==Ff&&(eme=!0)}}),eme&&this.changeSegmentPathway_()}changeSegmentPathway_(){const Ff=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(Ff,"content-steering")}}const enableFunction=(kh,Ff,x_)=>$P=>{const zP=kh.main.playlists[Ff],eme=isIncompatible(zP),tme=isEnabled(zP);return typeof $P=="undefined"?tme:($P?delete zP.disabled:zP.disabled=!0,$P!==tme&&!eme&&(x_(),$P?kh.trigger("renditionenabled"):kh.trigger("renditiondisabled")),$P)};class Representation{constructor(Ff,x_,$P){const{playlistController_:zP}=Ff,eme=zP.fastQualityChange_.bind(zP);if(x_.attributes){const tme=x_.attributes.RESOLUTION;this.width=tme&&tme.width,this.height=tme&&tme.height,this.bandwidth=x_.attributes.BANDWIDTH,this.frameRate=x_.attributes["FRAME-RATE"]}this.codecs=codecsForPlaylist(zP.main(),x_),this.playlist=x_,this.id=$P,this.enabled=enableFunction(Ff.playlists,x_.id,eme)}}const renditionSelectionMixin=function(kh){kh.representations=()=>{const Ff=kh.playlistController_.main(),x_=isAudioOnly(Ff)?kh.playlistController_.getAudioTrackPlaylists_():Ff.playlists;return x_?x_.filter($P=>!isIncompatible($P)).map(($P,zP)=>new Representation(kh,$P,$P.id)):[]}},timerCancelEvents=["seeking","seeked","pause","playing","error"];class PlaybackWatcher{constructor(Ff){this.playlistController_=Ff.playlistController,this.tech_=Ff.tech,this.seekable=Ff.seekable,this.allowSeeksWithinUnsafeLiveWindow=Ff.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=Ff.liveRangeSafeTimeDelta,this.media=Ff.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=logger("PlaybackWatcher"),this.logger_("initialize");const x_=()=>this.monitorCurrentTime_(),$P=()=>this.monitorCurrentTime_(),zP=()=>this.techWaiting_(),eme=()=>this.resetTimeUpdate_(),tme=this.playlistController_,nme=["main","subtitle","audio"],rme={};nme.forEach(ome=>{rme[ome]={reset:()=>this.resetSegmentDownloads_(ome),updateend:()=>this.checkSegmentDownloads_(ome)},tme[`${ome}SegmentLoader_`].on("appendsdone",rme[ome].updateend),tme[`${ome}SegmentLoader_`].on("playlistupdate",rme[ome].reset),this.tech_.on(["seeked","seeking"],rme[ome].reset)});const ime=ome=>{["main","audio"].forEach(sme=>{tme[`${sme}SegmentLoader_`][ome]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),ime("off"))},this.clearSeekingAppendCheck_=()=>ime("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),ime("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",zP),this.tech_.on(timerCancelEvents,eme),this.tech_.on("canplay",$P),this.tech_.one("play",x_),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",zP),this.tech_.off(timerCancelEvents,eme),this.tech_.off("canplay",$P),this.tech_.off("play",x_),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),nme.forEach(ome=>{tme[`${ome}SegmentLoader_`].off("appendsdone",rme[ome].updateend),tme[`${ome}SegmentLoader_`].off("playlistupdate",rme[ome].reset),this.tech_.off(["seeked","seeking"],rme[ome].reset)}),this.checkCurrentTimeTimeout_&&window$1$1.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&window$1$1.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=window$1$1.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(Ff){const x_=this.playlistController_[`${Ff}SegmentLoader_`];this[`${Ff}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${Ff} loader`),this[`${Ff}StalledDownloads_`]=0,this[`${Ff}Buffered_`]=x_.buffered_()}checkSegmentDownloads_(Ff){const x_=this.playlistController_,$P=x_[`${Ff}SegmentLoader_`],zP=$P.buffered_(),eme=isRangeDifferent(this[`${Ff}Buffered_`],zP);if(this[`${Ff}Buffered_`]=zP,eme){this.resetSegmentDownloads_(Ff);return}this[`${Ff}StalledDownloads_`]++,this.logger_(`found #${this[`${Ff}StalledDownloads_`]} ${Ff} appends that did not increase buffer (possible stalled download)`,{playlistId:$P.playlist_&&$P.playlist_.id,buffered:timeRangesToArray(zP)}),!(this[`${Ff}StalledDownloads_`]<10)&&(this.logger_(`${Ff} loader stalled download exclusion`),this.resetSegmentDownloads_(Ff),this.tech_.trigger({type:"usage",name:`vhs-${Ff}-download-exclusion`}),Ff!=="subtitle"&&x_.excludePlaylist({error:{message:`Excessive ${Ff} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const Ff=this.tech_.currentTime(),x_=this.tech_.buffered();if(this.lastRecordedTime===Ff&&(!x_.length||Ff+SAFE_TIME_DELTA>=x_.end(x_.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&Ff===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):Ff===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=Ff)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const x_=this.seekable(),$P=this.tech_.currentTime(),zP=this.afterSeekableWindow_(x_,$P,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let eme;if(zP&&(eme=x_.end(x_.length-1)),this.beforeSeekableWindow_(x_,$P)){const ume=x_.start(0);eme=ume+(ume===x_.end(0)?0:SAFE_TIME_DELTA)}if(typeof eme!="undefined")return this.logger_(`Trying to seek outside of seekable at time ${$P} with seekable range ${printableRange(x_)}. Seeking to ${eme}.`),this.tech_.setCurrentTime(eme),!0;const tme=this.playlistController_.sourceUpdater_,nme=this.tech_.buffered(),rme=tme.audioBuffer?tme.audioBuffered():null,ime=tme.videoBuffer?tme.videoBuffered():null,ome=this.media(),sme=ome.partTargetDuration?ome.partTargetDuration:(ome.targetDuration-TIME_FUDGE_FACTOR)*2,ame=[rme,ime];for(let ume=0;ume<ame.length;ume++){if(!ame[ume])continue;if(timeAheadOf(ame[ume],$P)<sme)return!1}const lme=findNextRange(nme,$P);return lme.length===0?!1:(eme=lme.start(0)+SAFE_TIME_DELTA,this.logger_(`Buffered region starts (${lme.start(0)})  just beyond seek point (${$P}). Seeking to ${eme}.`),this.tech_.setCurrentTime(eme),!0)}waiting_(){if(this.techWaiting_())return;const Ff=this.tech_.currentTime(),x_=this.tech_.buffered(),$P=findRange(x_,Ff);if($P.length&&Ff+3<=$P.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(Ff),this.logger_(`Stopped at ${Ff} while inside a buffered region [${$P.start(0)} -> ${$P.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const Ff=this.seekable(),x_=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(Ff,x_)){const nme=Ff.end(Ff.length-1);return this.logger_(`Fell out of live window at time ${x_}. Seeking to live point (seekable end) ${nme}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(nme),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const $P=this.tech_.vhs.playlistController_.sourceUpdater_,zP=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:$P.audioBuffered(),videoBuffered:$P.videoBuffered(),currentTime:x_}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(x_),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const tme=findNextRange(zP,x_);return tme.length>0?(this.logger_(`Stopped at ${x_} and seeking to ${tme.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(x_),!0):!1}afterSeekableWindow_(Ff,x_,$P,zP=!1){if(!Ff.length)return!1;let eme=Ff.end(Ff.length-1)+SAFE_TIME_DELTA;const tme=!$P.endList,nme=typeof $P.partTargetDuration=="number";return tme&&(nme||zP)&&(eme=Ff.end(Ff.length-1)+$P.targetDuration*3),x_>eme}beforeSeekableWindow_(Ff,x_){return!!(Ff.length&&Ff.start(0)>0&&x_<Ff.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:Ff,audioBuffered:x_,currentTime:$P}){if(!Ff)return;let zP;if(Ff.length&&x_.length){const eme=findRange(Ff,$P-3),tme=findRange(Ff,$P),nme=findRange(x_,$P);nme.length&&!tme.length&&eme.length&&(zP={start:eme.end(0),end:nme.end(0)})}else findNextRange(Ff,$P).length||(zP=this.gapFromVideoUnderflow_(Ff,$P));return zP?(this.logger_(`Encountered a gap in video from ${zP.start} to ${zP.end}. Seeking to current time ${$P}`),!0):!1}skipTheGap_(Ff){const x_=this.tech_.buffered(),$P=this.tech_.currentTime(),zP=findNextRange(x_,$P);this.resetTimeUpdate_(),!(zP.length===0||$P!==Ff)&&(this.logger_("skipTheGap_:","currentTime:",$P,"scheduled currentTime:",Ff,"nextRange start:",zP.start(0)),this.tech_.setCurrentTime(zP.start(0)+TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(Ff,x_){const $P=findGaps(Ff);for(let zP=0;zP<$P.length;zP++){const eme=$P.start(zP),tme=$P.end(zP);if(x_-eme<4&&x_-eme>2)return{start:eme,end:tme}}return null}}const defaultOptions={errorInterval:30,getSource(kh){const x_=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return kh(x_)}},initPlugin=function(kh,Ff){let x_=0,$P=0;const zP=merge(defaultOptions,Ff);kh.ready(()=>{kh.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const eme=function(){$P&&kh.currentTime($P)},tme=function(ome){ome!=null&&($P=kh.duration()!==1/0&&kh.currentTime()||0,kh.one("loadedmetadata",eme),kh.src(ome),kh.trigger({type:"usage",name:"vhs-error-reload"}),kh.play())},nme=function(){if(Date.now()-x_<zP.errorInterval*1e3){kh.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!zP.getSource||typeof zP.getSource!="function"){videojs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return x_=Date.now(),zP.getSource.call(kh,tme)},rme=function(){kh.off("loadedmetadata",eme),kh.off("error",nme),kh.off("dispose",rme)},ime=function(ome){rme(),initPlugin(kh,ome)};kh.on("error",nme),kh.on("dispose",rme),kh.reloadSourceOnError=ime},reloadSourceOnError=function(kh){initPlugin(this,kh)};var version$4="3.7.0",version$3="7.0.1",version$2="1.2.2",version$1="7.1.0",version="4.0.1";const Vhs={PlaylistLoader,Playlist,utils,STANDARD_PLAYLIST_SELECTOR:lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:lowestBitrateCompatibleVariantSelector,lastBandwidthSelector,movingAverageBandwidthSelector,comparePlaylistBandwidth,comparePlaylistResolution,xhr:xhrFactory()};Object.keys(Config).forEach(kh=>{Object.defineProperty(Vhs,kh,{get(){return videojs.log.warn(`using Vhs.${kh} is UNSAFE be sure you know what you are doing`),Config[kh]},set(Ff){if(videojs.log.warn(`using Vhs.${kh} is UNSAFE be sure you know what you are doing`),typeof Ff!="number"||Ff<0){videojs.log.warn(`value of Vhs.${kh} must be greater than or equal to 0`);return}Config[kh]=Ff}})});const LOCAL_STORAGE_KEY="videojs-vhs",handleVhsMediaChange=function(kh,Ff){const x_=Ff.media();let $P=-1;for(let zP=0;zP<kh.length;zP++)if(kh[zP].id===x_.id){$P=zP;break}kh.selectedIndex_=$P,kh.trigger({selectedIndex:$P,type:"change"})},handleVhsLoadedMetadata=function(kh,Ff){Ff.representations().forEach(x_=>{kh.addQualityLevel(x_)}),handleVhsMediaChange(kh,Ff.playlists)};Vhs.canPlaySource=function(){return videojs.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const emeKeySystems=(kh,Ff,x_)=>{if(!kh)return kh;let $P={};Ff&&Ff.attributes&&Ff.attributes.CODECS&&($P=unwrapCodecList(parseCodecs(Ff.attributes.CODECS))),x_&&x_.attributes&&x_.attributes.CODECS&&($P.audio=x_.attributes.CODECS);const zP=getMimeForCodec($P.video),eme=getMimeForCodec($P.audio),tme={};for(const nme in kh)tme[nme]={},eme&&(tme[nme].audioContentType=eme),zP&&(tme[nme].videoContentType=zP),Ff.contentProtection&&Ff.contentProtection[nme]&&Ff.contentProtection[nme].pssh&&(tme[nme].pssh=Ff.contentProtection[nme].pssh),typeof kh[nme]=="string"&&(tme[nme].url=kh[nme]);return merge(kh,tme)},getAllPsshKeySystemsOptions=(kh,Ff)=>kh.reduce((x_,$P)=>{if(!$P.contentProtection)return x_;const zP=Ff.reduce((eme,tme)=>{const nme=$P.contentProtection[tme];return nme&&nme.pssh&&(eme[tme]={pssh:nme.pssh}),eme},{});return Object.keys(zP).length&&x_.push(zP),x_},[]),waitForKeySessionCreation=({player:kh,sourceKeySystems:Ff,audioMedia:x_,mainPlaylists:$P})=>{if(!kh.eme.initializeMediaKeys)return Promise.resolve();const zP=x_?$P.concat([x_]):$P,eme=getAllPsshKeySystemsOptions(zP,Object.keys(Ff)),tme=[],nme=[];return eme.forEach(rme=>{nme.push(new Promise((ime,ome)=>{kh.tech_.one("keysessioncreated",ime)})),tme.push(new Promise((ime,ome)=>{kh.eme.initializeMediaKeys({keySystems:rme},sme=>{if(sme){ome(sme);return}ime()})}))}),Promise.race([Promise.all(tme),Promise.race(nme)])},setupEmeOptions=({player:kh,sourceKeySystems:Ff,media:x_,audioMedia:$P})=>{const zP=emeKeySystems(Ff,x_,$P);return zP?(kh.currentSource().keySystems=zP,zP&&!kh.eme?(videojs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},getVhsLocalStorage=()=>{if(!window$1$1.localStorage)return null;const kh=window$1$1.localStorage.getItem(LOCAL_STORAGE_KEY);if(!kh)return null;try{return JSON.parse(kh)}catch(Ff){return null}},updateVhsLocalStorage=kh=>{if(!window$1$1.localStorage)return!1;let Ff=getVhsLocalStorage();Ff=Ff?merge(Ff,kh):kh;try{window$1$1.localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(Ff))}catch(x_){return!1}return Ff},expandDataUri=kh=>kh.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(kh.substring(kh.indexOf(",")+1)):kh,addOnRequestHook=(kh,Ff)=>{kh._requestCallbackSet||(kh._requestCallbackSet=new Set),kh._requestCallbackSet.add(Ff)},addOnResponseHook=(kh,Ff)=>{kh._responseCallbackSet||(kh._responseCallbackSet=new Set),kh._responseCallbackSet.add(Ff)},removeOnRequestHook=(kh,Ff)=>{kh._requestCallbackSet&&(kh._requestCallbackSet.delete(Ff),kh._requestCallbackSet.size||delete kh._requestCallbackSet)},removeOnResponseHook=(kh,Ff)=>{kh._responseCallbackSet&&(kh._responseCallbackSet.delete(Ff),kh._responseCallbackSet.size||delete kh._responseCallbackSet)};Vhs.supportsNativeHls=function(){if(!document$2||!document$2.createElement)return!1;const kh=document$2.createElement("video");return videojs.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(x_){return/maybe|probably/i.test(kh.canPlayType(x_))}):!1}();Vhs.supportsNativeDash=function(){return!document$2||!document$2.createElement||!videojs.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(document$2.createElement("video").canPlayType("application/dash+xml"))}();Vhs.supportsTypeNatively=kh=>kh==="hls"?Vhs.supportsNativeHls:kh==="dash"?Vhs.supportsNativeDash:!1;Vhs.isSupported=function(){return videojs.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Vhs.xhr.onRequest=function(kh){addOnRequestHook(Vhs.xhr,kh)};Vhs.xhr.onResponse=function(kh){addOnResponseHook(Vhs.xhr,kh)};Vhs.xhr.offRequest=function(kh){removeOnRequestHook(Vhs.xhr,kh)};Vhs.xhr.offResponse=function(kh){removeOnResponseHook(Vhs.xhr,kh)};const Component=videojs.getComponent("Component");class VhsHandler extends Component{constructor(Ff,x_,$P){if(super(x_,$P.vhs),typeof $P.initialBandwidth=="number"&&(this.options_.bandwidth=$P.initialBandwidth),this.logger_=logger("VhsHandler"),x_.options_&&x_.options_.playerId){const zP=videojs.getPlayer(x_.options_.playerId);this.player_=zP}if(this.tech_=x_,this.source_=Ff,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&x_.overrideNativeAudioTracks&&x_.overrideNativeVideoTracks)x_.overrideNativeAudioTracks(!0),x_.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(x_.featuresNativeVideoTracks||x_.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(document$2,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],zP=>{const eme=document$2.fullscreenElement||document$2.webkitFullscreenElement||document$2.mozFullScreenElement||document$2.msFullscreenElement;eme&&eme.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTimestampOffsetForEachSegment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const Ff=getVhsLocalStorage();Ff&&Ff.bandwidth&&(this.options_.bandwidth=Ff.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),Ff&&Ff.throughput&&(this.options_.throughput=Ff.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Config.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Config.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach(Ff=>{typeof this.source_[Ff]!="undefined"&&(this.options_[Ff]=this.source_[Ff])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(Ff,x_){if(!Ff)return;this.setOptions_(),this.options_.src=expandDataUri(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Vhs,this.options_.sourceType=simpleTypeFromSourceType(x_),this.options_.seekTo=eme=>{this.tech_.setCurrentTime(eme)},this.playlistController_=new PlaylistController(this.options_);const $P=merge({liveRangeSafeTimeDelta:SAFE_TIME_DELTA},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new PlaybackWatcher($P),this.playlistController_.on("error",()=>{const eme=videojs.players[this.tech_.options_.playerId];let tme=this.playlistController_.error;typeof tme=="object"&&!tme.code?tme.code=3:typeof tme=="string"&&(tme={message:tme,code:3}),eme.error(tme)});const zP=this.options_.bufferBasedABR?Vhs.movingAverageBandwidthSelector(.55):Vhs.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):zP.bind(this),this.playlistController_.selectInitialPlaylist=Vhs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(eme){this.playlistController_.selectPlaylist=eme.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(eme){this.playlistController_.mainSegmentLoader_.throughput.rate=eme,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let eme=this.playlistController_.mainSegmentLoader_.bandwidth;const tme=window$1$1.navigator.connection||window$1$1.navigator.mozConnection||window$1$1.navigator.webkitConnection,nme=1e7;if(this.options_.useNetworkInformationApi&&tme){const rme=tme.downlink*1e3*1e3;rme>=nme&&eme>=nme?eme=Math.max(eme,rme):eme=rme}return eme},set(eme){this.playlistController_.mainSegmentLoader_.bandwidth=eme,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const eme=1/(this.bandwidth||1);let tme;return this.throughput>0?tme=1/this.throughput:tme=0,Math.floor(1/(eme+tme))},set(){videojs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>timeRangesToArray(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>timeRangesToArray(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&updateVhsLocalStorage({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{renditionSelectionMixin(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=window$1$1.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const Ff=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),waitForKeySessionCreation({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:Ff&&Ff.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(x_=>{this.logger_("error while creating EME key session",x_),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const Ff=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,x_=setupEmeOptions({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:Ff&&Ff.media()});if(this.player_.tech_.on("keystatuschange",$P=>{if($P.status!=="output-restricted")return;const zP=this.playlistController_.main();if(!zP||!zP.playlists)return;const eme=[];zP.playlists.forEach(tme=>{tme&&tme.attributes&&tme.attributes.RESOLUTION&&tme.attributes.RESOLUTION.height>=720&&(!tme.excludeUntil||tme.excludeUntil<1/0)&&(tme.excludeUntil=1/0,eme.push(tme))}),eme.length&&(videojs.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...eme),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!x_){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const Ff=videojs.players[this.tech_.options_.playerId];!Ff||!Ff.qualityLevels||this.qualityLevels_||(this.qualityLevels_=Ff.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{handleVhsLoadedMetadata(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{handleVhsMediaChange(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":version$4,"mux.js":version$3,"mpd-parser":version$2,"m3u8-parser":version$1,"aes-decrypter":version}}version(){return this.constructor.version()}canChangeType(){return SourceUpdater.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(Ff){this.playlistController_.setCurrentTime(Ff)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&window$1$1.URL.revokeObjectURL&&(window$1$1.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(Ff,x_){return getProgramTime({playlist:this.playlistController_.media(),time:Ff,callback:x_})}seekToProgramTime(Ff,x_,$P=!0,zP=2){return seekToProgramTime({programTime:Ff,playlist:this.playlistController_.media(),retryCount:zP,pauseAfterSeek:$P,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:x_})}setupXhrHooks_(){this.xhr.onRequest=Ff=>{addOnRequestHook(this.xhr,Ff)},this.xhr.onResponse=Ff=>{addOnResponseHook(this.xhr,Ff)},this.xhr.offRequest=Ff=>{removeOnRequestHook(this.xhr,Ff)},this.xhr.offResponse=Ff=>{removeOnResponseHook(this.xhr,Ff)},this.player_.trigger("xhr-hooks-ready")}}const VhsSourceHandler={name:"videojs-http-streaming",VERSION:version$4,canHandleSource(kh,Ff={}){const x_=merge(videojs.options,Ff);return VhsSourceHandler.canPlayType(kh.type,x_)},handleSource(kh,Ff,x_={}){const $P=merge(videojs.options,x_);return Ff.vhs=new VhsHandler(kh,Ff,$P),Ff.vhs.xhr=xhrFactory(),Ff.vhs.setupXhrHooks_(),Ff.vhs.src(kh.src,kh.type),Ff.vhs},canPlayType(kh,Ff){const x_=simpleTypeFromSourceType(kh);if(!x_)return"";const $P=VhsSourceHandler.getOverrideNative(Ff);return!Vhs.supportsTypeNatively(x_)||$P?"maybe":""},getOverrideNative(kh={}){const{vhs:Ff={}}=kh,x_=!(videojs.browser.IS_ANY_SAFARI||videojs.browser.IS_IOS),{overrideNative:$P=x_}=Ff;return $P}},supportsNativeMediaSources=()=>browserSupportsCodec("avc1.4d400d,mp4a.40.2");supportsNativeMediaSources()&&videojs.getTech("Html5").registerSourceHandler(VhsSourceHandler,0);videojs.VhsHandler=VhsHandler;videojs.VhsSourceHandler=VhsSourceHandler;videojs.Vhs=Vhs;videojs.use||videojs.registerComponent("Vhs",Vhs);videojs.options.vhs=videojs.options.vhs||{};(!videojs.getPlugin||!videojs.getPlugin("reloadSourceOnError"))&&videojs.registerPlugin("reloadSourceOnError",reloadSourceOnError);const _hoisted_1=createBaseVNode("div",null,[createBaseVNode("div",{class:"text-center"},"Module Index Page")],-1),_sfc_main=defineComponent({__name:"workbench",setup(kh){return(Ff,x_)=>(openBlock(),createElementBlock(Fragment$1,null,[_hoisted_1,createVNode(unref(_sfc_main$3)),createVNode(unref(_sfc_main$4)),createVNode(unref(_sfc_main$1)),createVNode(unref(_sfc_main$5))],64))}});export{_sfc_main as default};
