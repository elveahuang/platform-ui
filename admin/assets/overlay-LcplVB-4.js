var ye=Object.defineProperty,ge=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var ee=(e,o,s)=>o in e?ye(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,U=(e,o)=>{for(var s in o||(o={}))Ce.call(o,s)&&ee(e,s,o[s]);if(Q)for(var s of Q(o))he.call(o,s)&&ee(e,s,o[s]);return e},V=(e,o)=>ge(e,be(o));import{o as ae,ak as ke,am as we,aO as W,z as Ee,M as Z,bk as Me,C as re,av as oe,Q as j,bl as Se,at as Be,bm as Te,au as Ie,b7 as X,E as J,G as x,d as Y,j as R,m as h,az as Le,aA as De,L as Ae,aw as te,c as L,e as F,g as _,k as H,n as w,i as t,t as $e,w as T,$ as Fe,f as q,V as Oe,y as G,T as ie,a6 as ue,bn as Pe,b1 as ze,N as Ne,r as I,bg as Re,S as Ye,aB as Ue,bo as Ve,aC as se,aK as He,ay as Xe,ad as _e,aP as Ke,a2 as We,a3 as je,a4 as xe,a5 as qe,aa as Ge}from"./index-XKwGO23d.js";import{P as K,F as Ze,i as Je,e as Qe}from"./space-XBnA_Mq5.js";import{c as eo}from"./refs-N0Ci8w-y.js";import{U as ce}from"./index-P6wGn45A.js";import{t as oo,a as ne,u as le}from"./index-uqCvPrs1.js";import{a as to}from"./scroll-xYltU74p.js";const so=(e,o,s)=>{let d={offsetX:0,offsetY:0};const l=a=>{const m=a.clientX,c=a.clientY,{offsetX:f,offsetY:p}=d,y=e.value.getBoundingClientRect(),i=y.left,v=y.top,D=y.width,O=y.height,P=document.documentElement.clientWidth,A=document.documentElement.clientHeight,z=-i+f,N=-v+p,$=P-i-D+f,E=A-v-O+p,k=M=>{const n=Math.min(Math.max(f+M.clientX-m,z),$),C=Math.min(Math.max(p+M.clientY-c,N),E);d={offsetX:n,offsetY:C},e.value&&(e.value.style.transform=`translate(${W(n)}, ${W(C)})`)},b=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",b)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",b)},u=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",l)},r=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",l)};ae(()=>{ke(()=>{s.value?u():r()})}),we(()=>{r()})},no=(e,o={})=>{Ee(e)||oo("[useLockscreen]","You need to pass a ref param to this function");const s=o.ns||Z("popup"),d=Me(()=>s.bm("parent","hidden"));if(!re||oe(document.body,d.value))return;let l=0,u=!1,r="0";const a=()=>{setTimeout(()=>{Ie(document==null?void 0:document.body,d.value),u&&document&&(document.body.style.width=r)},200)};j(e,m=>{if(!m){a();return}u=!oe(document.body,d.value),u&&(r=document.body.style.width),l=to(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,f=Se(document.body,"overflowY");l>0&&(c||f==="scroll")&&u&&(document.body.style.width=`calc(100% - ${l}px)`),Be(document.body,d.value)}),Te(()=>a())},de=e=>{if(!e)return{onClick:X,onMousedown:X,onMouseup:X};let o=!1,s=!1;return{onClick:r=>{o&&s&&e(r),o=s=!1},onMousedown:r=>{o=r.target===r.currentTarget},onMouseup:r=>{s=r.target===r.currentTarget}}},lo=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:x([String,Array,Object])},zIndex:{type:x([String,Number])}}),ao={click:e=>e instanceof MouseEvent},ro="overlay";var io=Y({name:"ElOverlay",props:lo,emits:ao,setup(e,{slots:o,emit:s}){const d=Z(ro),l=m=>{s("click",m)},{onClick:u,onMousedown:r,onMouseup:a}=de(e.customMaskEvent?void 0:l);return()=>e.mask?R("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:r,onMouseup:a},[h(o,"default")],K.STYLE|K.CLASS|K.PROPS,["onClick","onMouseup","onMousedown"]):Le("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(o,"default")])}});const uo=io,fe=Symbol("dialogInjectionKey"),me=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:De},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),co={close:()=>!0},fo=["aria-level"],mo=["aria-label"],vo=["id"],po=Y({name:"ElDialogContent"}),yo=Y(V(U({},po),{props:me,emits:co,setup(e){const o=e,{t:s}=Ae(),{Close:d}=Pe,{dialogRef:l,headerRef:u,bodyId:r,ns:a,style:m}=te(fe),{focusTrapRef:c}=te(Ze),f=L(()=>[a.b(),a.is("fullscreen",o.fullscreen),a.is("draggable",o.draggable),a.is("align-center",o.alignCenter),{[a.m("center")]:o.center},o.customClass]),p=eo(c,l),y=L(()=>o.draggable);return so(l,u,y),(i,v)=>(F(),_("div",{ref:t(p),class:w(t(f)),style:ie(t(m)),tabindex:"-1"},[H("header",{ref_key:"headerRef",ref:u,class:w(t(a).e("header"))},[h(i.$slots,"header",{},()=>[H("span",{role:"heading","aria-level":i.ariaLevel,class:w(t(a).e("title"))},$e(i.title),11,fo)]),i.showClose?(F(),_("button",{key:0,"aria-label":t(s)("el.dialog.close"),class:w(t(a).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=D=>i.$emit("close"))},[R(t(Oe),{class:w(t(a).e("close"))},{default:T(()=>[(F(),q(Fe(i.closeIcon||t(d))))]),_:1},8,["class"])],10,mo)):G("v-if",!0)],2),H("div",{id:t(r),class:w(t(a).e("body"))},[h(i.$slots,"default")],10,vo),i.$slots.footer?(F(),_("footer",{key:0,class:w(t(a).e("footer"))},[h(i.$slots,"footer")],2)):G("v-if",!0)],6))}}));var go=ue(yo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const bo=J(V(U({},me),{appendToBody:Boolean,beforeClose:{type:x(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}})),Co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ce]:e=>ze(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ho=(e,o)=>{var s;const l=Ue().emit,{nextZIndex:u}=Ne();let r="";const a=ne(),m=ne(),c=I(!1),f=I(!1),p=I(!1),y=I((s=e.zIndex)!=null?s:u());let i,v;const D=Re("namespace",Ve),O=L(()=>{const g={},B=`--${D.value}-dialog`;return e.fullscreen||(e.top&&(g[`${B}-margin-top`]=e.top),e.width&&(g[`${B}-width`]=W(e.width))),g}),P=L(()=>e.alignCenter?{display:"flex"}:{});function A(){l("opened")}function z(){l("closed"),l(ce,!1),e.destroyOnClose&&(p.value=!1)}function N(){l("close")}function $(){v==null||v(),i==null||i(),e.openDelay&&e.openDelay>0?{stop:i}=se(()=>M(),e.openDelay):M()}function E(){i==null||i(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=se(()=>n(),e.closeDelay):n()}function k(){function g(B){B||(f.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(g):E()}function b(){e.closeOnClickModal&&k()}function M(){re&&(c.value=!0)}function n(){c.value=!1}function C(){l("openAutoFocus")}function S(){l("closeAutoFocus")}function ve(g){var B;((B=g.detail)==null?void 0:B.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&no(c);function pe(){e.closeOnPressEscape&&k()}return j(()=>e.modelValue,g=>{g?(f.value=!1,$(),p.value=!0,y.value=Je(e.zIndex)?u():y.value++,Ye(()=>{l("open"),o.value&&(o.value.scrollTop=0)})):c.value&&E()}),j(()=>e.fullscreen,g=>{o.value&&(g?(r=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=r)}),ae(()=>{e.modelValue&&(c.value=!0,p.value=!0,$())}),{afterEnter:A,afterLeave:z,beforeLeave:N,handleClose:k,onModalClick:b,close:E,doClose:n,onOpenAutoFocus:C,onCloseAutoFocus:S,onCloseRequested:pe,onFocusoutPrevented:ve,titleId:a,bodyId:m,closed:f,style:O,overlayDialogStyle:P,rendered:p,visible:c,zIndex:y}},ko=["aria-label","aria-labelledby","aria-describedby"],wo=Y({name:"ElDialog",inheritAttrs:!1}),Eo=Y(V(U({},wo),{props:bo,emits:Co,setup(e,{expose:o}){const s=e,d=He();le({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!d.title)),le({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!s.customClass));const l=Z("dialog"),u=I(),r=I(),a=I(),{visible:m,titleId:c,bodyId:f,style:p,overlayDialogStyle:y,rendered:i,zIndex:v,afterEnter:D,afterLeave:O,beforeLeave:P,handleClose:A,onModalClick:z,onOpenAutoFocus:N,onCloseAutoFocus:$,onCloseRequested:E,onFocusoutPrevented:k}=ho(s,u);Xe(fe,{dialogRef:u,headerRef:r,bodyId:f,ns:l,rendered:i,style:p});const b=de(z),M=L(()=>s.draggable&&!s.fullscreen);return o({visible:m,dialogContentRef:a}),(n,C)=>(F(),q(qe,{to:"body",disabled:!n.appendToBody},[R(xe,{name:"dialog-fade",onAfterEnter:t(D),onAfterLeave:t(O),onBeforeLeave:t(P),persisted:""},{default:T(()=>[je(R(t(uo),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":t(v)},{default:T(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:t(c),"aria-describedby":t(f),class:w(`${t(l).namespace.value}-overlay-dialog`),style:ie(t(y)),onClick:C[0]||(C[0]=(...S)=>t(b).onClick&&t(b).onClick(...S)),onMousedown:C[1]||(C[1]=(...S)=>t(b).onMousedown&&t(b).onMousedown(...S)),onMouseup:C[2]||(C[2]=(...S)=>t(b).onMouseup&&t(b).onMouseup(...S))},[R(t(Qe),{loop:"",trapped:t(m),"focus-start-el":"container",onFocusAfterTrapped:t(N),onFocusAfterReleased:t($),onFocusoutPrevented:t(k),onReleaseRequested:t(E)},{default:T(()=>[t(i)?(F(),q(go,_e({key:0,ref_key:"dialogContentRef",ref:a},n.$attrs,{"custom-class":n.customClass,center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:t(M),fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:t(A)}),Ke({header:T(()=>[n.$slots.title?h(n.$slots,"title",{key:1}):h(n.$slots,"header",{key:0,close:t(A),titleId:t(c),titleClass:t(l).e("title")})]),default:T(()=>[h(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:T(()=>[h(n.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):G("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,ko)]),_:3},8,["mask","overlay-class","z-index"]),[[We,t(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var Mo=ue(Eo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const $o=Ge(Mo);export{$o as E};
