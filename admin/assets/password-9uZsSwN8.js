var _=(w,l,n)=>new Promise((i,e)=>{var p=o=>{try{a(n.next(o))}catch(d){e(d)}},s=o=>{try{a(n.throw(o))}catch(d){e(d)}},a=o=>o.done?i(o.value):Promise.resolve(o.value).then(p,s);a((n=n.apply(w,l)).next())});/* empty css             */import{E as b}from"./card-xIz6fJtp.js";/* empty css                  *//* empty css               */import{d as v,x as E,r as y,y as c,o as k,l as f,e as C,f as $,w as t,k as B,t as P,j as r,i as u,z as U}from"./index-xlyE4aPA.js";import{c as q}from"./user-iw6HCeim.js";import{E as x}from"./index-nXGNTYs9.js";import{E as F,a as I}from"./index-04ZEsMja.js";import{E as N}from"./index-ABZWOYQS.js";import"./castArray-hwis2VS_.js";const L=v({__name:"password",setup(w){const{t:l}=E(),n=y(),i=c({originalPassword:[{required:!0,message:l("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:l("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:l("common.user_field_confirm_password_validation")}]}),e=c({originalPassword:"",newPassword:"",confirmPassword:""}),p=()=>_(this,null,function*(){yield n.value.validate(s=>{if(s){const a={originalPassword:e.originalPassword,newPassword:e.newPassword};q(a).then(o=>{o.code==200&&n.value.resetFields()}).catch(o=>{f(o)})}})});return k(()=>_(this,null,function*(){f("Page <<UserCenterPasswordPage>> mounted.")})),(s,a)=>{const o=x,d=F,g=N,h=I,V=b;return C(),$(V,{shadow:"never"},{header:t(()=>[B("div",null,P(s.$t("common.user_pages_change_password_title")),1)]),default:t(()=>[r(h,{ref_key:"form",ref:n,model:e,rules:i,"label-width":"200px",style:{"max-width":"500px"}},{default:t(()=>[r(d,{prop:"originalPassword",label:s.$t("common.user_field_original_password")},{default:t(()=>[r(o,{modelValue:e.originalPassword,"onUpdate:modelValue":a[0]||(a[0]=m=>e.originalPassword=m),placeholder:u(l)("common.user_field_original_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{prop:"newPassword",label:s.$t("common.user_field_new_password")},{default:t(()=>[r(o,{modelValue:e.newPassword,"onUpdate:modelValue":a[1]||(a[1]=m=>e.newPassword=m),placeholder:u(l)("common.user_field_new_password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,{prop:"confirmPassword",label:s.$t("common.user_field_confirm_password")},{default:t(()=>[r(o,{modelValue:e.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=m=>e.confirmPassword=m),placeholder:u(l)("common.user_field_new_password_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(d,null,{default:t(()=>[r(g,{onClick:p,type:"primary"},{default:t(()=>[U(P(s.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});export{L as default};
