var i=(f,m,c)=>new Promise((d,e)=>{var u=l=>{try{t(c.next(l))}catch(n){e(n)}},a=l=>{try{t(c.throw(l))}catch(n){e(n)}},t=l=>l.done?d(l.value):Promise.resolve(l.value).then(u,a);t((c=c.apply(f,m)).next())});import{d as y,U as E,r as V,V as h,o as q,l as _,aS as $,e as k,f as C,w as r,m as U,t as w,k as s,i as o,n as B,Y as I,Z as K,D as N,a1 as P,H as S}from"./index-Avz7Fwku.js";/* empty css                *//* empty css                     *//* empty css                 */import{a as A}from"./user-CfwmdfHp.js";const O=y({__name:"email",setup(f){const{t:m}=E(),c=V(),d=h({password:[{required:!0,message:m("common.user_field_password_placeholder")}],newEmail:[{required:!0,message:m("common.user_field_new_email_validation")}],captchaValue:[{required:!0,message:m("common.field_captcha_placeholder")}]}),e=h({email:"",password:"",newEmail:"",captchaKey:"",captchaValue:""}),u=()=>i(this,null,function*(){A({email:e.email,password:e.password,newEmail:e.newEmail,captchaKey:e.captchaKey,captchaValue:e.captchaValue}).then(a=>{})});return q(()=>i(this,null,function*(){_("Page <<UserCenterPasswordPage>> mounted."),$().then(a=>{_("用户信息结果："),_(a.data),Object.assign(e,a.data)}).catch(a=>{})})),(a,t)=>{const l=I,n=K,b=N,v=P,g=S;return k(),C(g,{shadow:"never"},{title:r(()=>[U("div",null,w(a.$t("common.user_pages_change_email_title")),1)]),default:r(()=>[s(v,{ref_key:"form",ref:c,model:o(e),rules:o(d),"label-width":"200px",style:{"max-width":"500px"}},{default:r(()=>[s(n,{name:"email","label-col":{span:4},label:a.$t("common.user_field_current_email")},{default:r(()=>[s(l,{value:o(e).email,"onUpdate:value":t[0]||(t[0]=p=>o(e).email=p),disabled:!0,placeholder:o(e).email},null,8,["value","placeholder"])]),_:1},8,["label"]),s(n,{name:"password",required:!0,"label-col":{span:4},label:a.$t("common.user_field_password")},{default:r(()=>[s(l,{value:o(e).password,"onUpdate:value":t[1]||(t[1]=p=>o(e).password=p),type:"password",placeholder:o(m)("common.user_field_password")},null,8,["value","placeholder"])]),_:1},8,["label"]),s(n,{name:"newEmail",required:!0,"label-col":{span:4},label:a.$t("common.user_field_new_email_placeholder")},null,8,["label"]),s(n,{name:"captchaValue",required:!0,"label-col":{span:4},label:a.$t("common.field_captcha")},{default:r(()=>[s(l,{value:o(e).captchaValue,"onUpdate:value":t[2]||(t[2]=p=>o(e).captchaValue=p),placeholder:o(m)("common.field_captcha_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),s(n,{colon:!1,"label-col":{span:16}},{label:r(()=>[s(b,{class:"!w-36",type:"primary",onClick:u},{default:r(()=>[B(w(a.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});export{O as default};
