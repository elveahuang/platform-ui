var r=(o,u,n)=>new Promise((i,l)=>{var p=t=>{try{e(n.next(t))}catch(s){l(s)}},c=t=>{try{e(n.throw(t))}catch(s){l(s)}},e=t=>t.done?i(t.value):Promise.resolve(t.value).then(p,c);e((n=n.apply(o,u)).next())});import{S as _,M as k}from"./index.min-74AYrPjg.js";import{b0 as d,d as O,b as w,r as T,ak as B,c as m,b1 as C,Y as A,a1 as g,b2 as K,o as S,l as h,ap as x,e as H,g as M,m as N}from"./index-BaYA8Hiy.js";const R=["undo","redo","brush","eraser","|","heading","font-family","font-size","|","bold","italic","underline","strike","link","code","subscript","superscript","hr","todo","emoji","|","highlight","font-color","|","align","line-height","|","bullet-list","ordered-list","indent-decrease","indent-increase","break","|","quote","code-block","table"],j=()=>R,q={element:"",content:"",toolbarKeys:j()},z=o=>d(q,o),Q={modules:{toolbar:!0},theme:"snow"},Z=o=>d(Q,o),U={content:"",extensions:[_]},F=(o={})=>d(U,o),D={class:"editor"},G=O({__name:"AEditor",props:{options:{type:Object,default(){return{}}},value:{type:String,default:""}},emits:["update:value"],setup(o,{emit:u}){const n=u,i=o,{locale:l,dark:p}=w(),c=T(),e=B(),t=m(()=>i.value),s=m(()=>p?"dark":"light"),b=m(()=>l===C.ZH_CN?"zh":"en"),v=a=>r(this,null,function*(){const f={element:c.value,content:t.value,theme:s.value,lang:b.value,onChange:y=>{n("update:value",y.getHtml())}};e.value=new k(z(d(f,a)))}),E=()=>r(this,null,function*(){g(e.value)||e.value.destroy()});return A(t,a=>{!g(e.value)&&!K(e.value.getHtml(),a)&&(e.value.clear(),e.value.focus().insert(a))}),S(()=>r(this,null,function*(){h("Component <<AiEditor>> mounted."),yield v(i.options).then()})),x(()=>r(this,null,function*(){h("Component <<AiEditor>> onBeforeUnmount."),yield E().then()})),(a,f)=>(H(),M("div",D,[N("div",{ref_key:"editorRef",ref:c,class:"ai-editor"},null,512)]))}});export{G as _,F as a,Z as g};
