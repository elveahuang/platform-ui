var km=Object.defineProperty,Tm=Object.defineProperties;var Mm=Object.getOwnPropertyDescriptors;var Df=Object.getOwnPropertySymbols;var Rm=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable;var Qa=(o,a,n)=>a in o?km(o,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[a]=n,Jt=(o,a)=>{for(var n in a||(a={}))Rm.call(a,n)&&Qa(o,n,a[n]);if(Df)for(var n of Df(a))Om.call(a,n)&&Qa(o,n,a[n]);return o},ai=(o,a)=>Tm(o,Mm(a));var vr=(o,a,n)=>(Qa(o,typeof a!="symbol"?a+"":a,n),n);import{c as Vi,at as qt,I as Yn,aP as gn,O as fn,b as Je,f as ht,aG as Bd,aQ as jr,d as wt,h as ve,ap as Pu,P as Le,r as Hi,j as tt,aI as Co,aL as Nm,as as No,a4 as In,F as As,aF as Ml,an as Sd,ao as Po,o as Pm,ar as Im,aR as Lm,aS as Hm,i as Dd,m as $m,aT as Vm,e as nr,w as it,g as kd,t as cn,s as ku,aj as Td,k as yr,Q as Sn,aJ as wu,aU as zm,aV as jm,B as Um,C as Ym}from"./index-CLSrHFfR.js";/*!
 * @form-create/element-ui v3.1.29
 * (c) 2018-2024 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */function kf(o,a){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,i)}return n}function De(o){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?kf(Object(n),!0).forEach(function(i){Ht(o,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(n,i))})}return o}function yn(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yn=function(a){return typeof a}:yn=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},yn(o)}function Qm(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function Ht(o,a,n){return a in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n,o}function Wm(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Rl(o,a)}function Iu(o){return Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Iu(o)}function Rl(o,a){return Rl=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i},Rl(o,a)}function Gm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function Xm(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Jm(o,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xm(o)}function Km(o){var a=Gm();return function(){var i=Iu(o),t;if(a){var u=Iu(this).constructor;t=Reflect.construct(i,arguments,u)}else t=i.apply(this,arguments);return Jm(this,t)}}function We(o){return qm(o)||Zm(o)||ev(o)||tv()}function qm(o){if(Array.isArray(o))return Ol(o)}function Zm(o){if(typeof Symbol!="undefined"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function ev(o,a){if(o){if(typeof o=="string")return Ol(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor&&(n=o.constructor.name),n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ol(o,a)}}function Ol(o,a){(a==null||a>o.length)&&(a=o.length);for(var n=0,i=new Array(a);n<a;n++)i[n]=o[n];return i}function tv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wu(o,a){return Object.keys(o).reduce(function(n,i){return(!a||a.indexOf(i)===-1)&&n.push(o[i]),n},[])}var nv="fcCheckbox",rv=wt({name:nv,inheritAttrs:!1,props:{formCreateInject:Object,modelValue:{type:Array,default:function(){return[]}},type:String},emits:["update:modelValue","fc.el"],setup:function(a,n){var i=gn(a.formCreateInject,"options",[]),t=gn(a,"modelValue"),u=function(){return Array.isArray(i.value)?i.value:[]};return{options:u,value:t,onInput:function(d){n.emit("update:modelValue",d)}}},render:function(){var a,n,i=this,t=this.type==="button"?"ElCheckboxButton":"ElCheckbox",u=Le(t);return ve(Le("ElCheckboxGroup"),In(this.$attrs,{modelValue:this.value,"onUpdate:modelValue":this.onInput,ref:"el"}),De({default:function(){return[i.options().map(function(d,p){var h=De({},d),m=h.value,b=h.label;return delete h.value,delete h.label,ve(u,In(h,{label:m,value:m,key:t+p+"-"+m}),{default:function(){return[b||m||""]}})}),(a=(n=i.$slots).default)===null||a===void 0?void 0:a.call(n)]}},Wu(this.$slots,["default"])))},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function Pn(o){return Array.isArray(o)?o:[null,void 0,""].indexOf(o)>-1?[]:[o]}function Md(o){o=o||new Map;var a={$on:function(i,t){var u=o.get(i),c=u&&u.push(t);c||o.set(i,[t])},$once:function(i,t){t._once=!0,a.$on(i,t)},$off:function(i,t){var u=o.get(i);u&&u.splice(u.indexOf(t)>>>0,1)},$emit:function(i){for(var t=arguments.length,u=new Array(t>1?t-1:0),c=1;c<t;c++)u[c-1]=arguments[c];(o.get(i)||[]).slice().map(function(d){d._once&&(a.$off(i,d),delete d._once),d.apply(void 0,u)}),(o.get("*")||[]).slice().map(function(d){d(i,u)})}};return a}function Gu(o,a){a===void 0&&(a={});var n=a.insertAt;if(!(!o||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n==="top"&&i.firstChild?i.insertBefore(t,i.firstChild):i.appendChild(t),t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o))}}var iv="._fc-frame ._fc-files img{display:inline-block;height:100%;vertical-align:top;width:100%}._fc-frame ._fc-upload-btn{border:1px dashed #c0ccda;cursor:pointer}._fc-frame._fc-disabled ._fc-upload-btn,._fc-frame._fc-disabled .el-button{color:#999;cursor:not-allowed!important}._fc-frame ._fc-upload-cover{background:rgba(0,0,0,.6);bottom:0;left:0;opacity:0;position:absolute;right:0;top:0;-webkit-transition:opacity .3s;-o-transition:opacity .3s;transition:opacity .3s}._fc-frame ._fc-upload-cover i{color:#fff;cursor:pointer;font-size:20px;margin:0 2px}._fc-frame ._fc-files:hover ._fc-upload-cover{opacity:1}._fc-frame .el-upload{display:block}._fc-frame ._fc-upload-icon{cursor:pointer}._fc-files,._fc-frame ._fc-upload-btn{background:#fff;border:1px solid #c0ccda;border-radius:4px;-webkit-box-shadow:2px 2px 5px rgba(0,0,0,.1);box-shadow:2px 2px 5px rgba(0,0,0,.1);-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:58px;line-height:58px;margin-right:4px;overflow:hidden;position:relative;text-align:center;width:58px}";Gu(iv);var Rd={name:"IconCircleClose"},ov={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},uv=tt("path",{fill:"currentColor",d:"M466.752 512l-90.496-90.496a32 32 0 0145.248-45.248L512 466.752l90.496-90.496a32 32 0 1145.248 45.248L557.248 512l90.496 90.496a32 32 0 11-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 01-45.248-45.248L466.752 512z"},null,-1),av=tt("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),lv=[uv,av];function sv(o,a,n,i,t,u){return Je(),ht("svg",ov,lv)}Rd.render=sv;var Od={name:"IconDocument"},cv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},fv=tt("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 01-32 32H160a32 32 0 01-32-32V96a32 32 0 0132-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),dv=[fv];function pv(o,a,n,i,t,u){return Je(),ht("svg",cv,dv)}Od.render=pv;var Nd={name:"IconDelete"},hv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},mv=tt("path",{fill:"currentColor",d:"M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z"},null,-1),vv=[mv];function gv(o,a,n,i,t,u){return Je(),ht("svg",hv,vv)}Nd.render=gv;var Pd={name:"IconView"},yv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Av=tt("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 110 448 224 224 0 010-448zm0 64a160.192 160.192 0 00-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),bv=[Av];function Ev(o,a,n,i,t,u){return Je(),ht("svg",yv,bv)}Pd.render=Ev;var Id={name:"IconFolderOpened"},wv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Cv=tt("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 01216.96 384H832zm-24.96 512H96a32 32 0 01-32-32V160a32 32 0 0132-32h287.872l128.384 128H864a32 32 0 0132 32v96h23.04a32 32 0 0131.04 39.744l-112 448A32 32 0 01807.04 896z"},null,-1),Fv=[Cv];function xv(o,a,n,i,t,u){return Je(),ht("svg",wv,Fv)}Id.render=xv;function Tf(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!Bd(o)}var _v="fcFrame",Bv=wt({name:_v,props:{type:{type:String,default:"input"},field:String,helper:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},src:{type:String,required:!0},icon:{type:String,default:"IconFolderOpened"},width:{type:String,default:"500px"},height:{type:String,default:"370px"},maxLength:{type:Number,default:0},okBtnText:{type:String,default:"确定"},closeBtnText:{type:String,default:"关闭"},modalTitle:String,handleIcon:{type:[String,Boolean],default:void 0},title:String,allowRemove:{type:Boolean,default:!0},onOpen:{type:Function,default:function(){}},onOk:{type:Function,default:function(){}},onCancel:{type:Function,default:function(){}},onLoad:{type:Function,default:function(){}},onBeforeRemove:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},onHandle:Function,modal:{type:Object,default:function(){return{}}},srcKey:[String,Number],modelValue:[Array,String,Number,Object],previewMask:void 0,footer:{type:Boolean,default:!0},reload:{type:Boolean,default:!0},closeBtn:{type:Boolean,default:!0},okBtn:{type:Boolean,default:!0},formCreateInject:Object},emits:["update:modelValue","change"],components:{IconFolderOpened:Id,IconView:Pd},data:function(){return{fileList:Pn(this.modelValue),previewVisible:!1,frameVisible:!1,previewImage:"",bus:new Md}},watch:{modelValue:function(a){this.fileList=Pn(a)}},methods:{close:function(){this.closeModel(!0)},closeModel:function(a){this.bus.$emit(a?"$close":"$ok"),this.reload&&(this.bus.$off("$ok"),this.bus.$off("$close")),this.frameVisible=!1},handleCancel:function(){this.previewVisible=!1},showModel:function(){this.disabled||this.onOpen()===!1||(this.frameVisible=!0)},input:function(){var a=this.fileList,n=this.maxLength===1?a[0]||"":a;this.$emit("update:modelValue",n),this.$emit("change",n)},makeInput:function(){var a=this;return ve(Le("ElInput"),In({type:"text",modelValue:this.fileList.map(function(n){return a.getSrc(n)}).toString(),readonly:!0},{key:1}),{append:function(){return ve(Le("ElButton"),{icon:Le(a.icon),onClick:function(){return a.showModel()}},null)},suffix:function(){return a.fileList.length&&!a.disabled?ve(Le("ElIcon"),{class:"el-input__icon _fc-upload-icon",onClick:function(){a.fileList=[],a.input()}},{default:function(){return[ve(Rd,null,null)]}}):null}})},makeGroup:function(a){return(!this.maxLength||this.fileList.length<this.maxLength)&&a.push(this.makeBtn()),ve("div",{key:2},[a])},makeItem:function(a,n){return ve("div",{class:"_fc-files",key:"3"+a},[n])},valid:function(a){var n=this.formCreateInject.field||this.field;if(n&&a!==n)throw new Error("[frame]无效的字段值")},makeIcons:function(a,n){if(this.handleIcon!==!1||this.allowRemove===!0){var i=[];return(this.type!=="file"&&this.handleIcon!==!1||this.type==="file"&&this.handleIcon)&&i.push(this.makeHandleIcon(a,n)),this.allowRemove&&i.push(this.makeRemoveIcon(a,n)),ve("div",{class:"_fc-upload-cover",key:4},[i])}},makeHandleIcon:function(a,n){var i=this,t=Le(this.handleIcon===!0||this.handleIcon===void 0?"icon-view":this.handleIcon);return ve(Le("ElIcon"),{onClick:function(){return i.handleClick(a)},key:"5"+n},{default:function(){return[ve(t,null,null)]}})},makeRemoveIcon:function(a,n){var i=this;return ve(Le("ElIcon"),{onClick:function(){return i.handleRemove(a)},key:"6"+n},{default:function(){return[ve(Nd,null,null)]}})},makeFiles:function(){var a=this;return this.makeGroup(this.fileList.map(function(n,i){return a.makeItem(i,[ve(Le("ElIcon"),{onClick:function(){return a.handleClick(n)}},{default:function(){return[ve(Od,null,null)]}}),a.makeIcons(n,i)])}))},makeImages:function(){var a=this;return this.makeGroup(this.fileList.map(function(n,i){return a.makeItem(i,[ve("img",{src:a.getSrc(n)},null),a.makeIcons(n,i)])}))},makeBtn:function(){var a=this,n=Le(this.icon);return ve("div",{class:"_fc-upload-btn",onClick:function(){return a.showModel()},key:7},[ve(Le("ElIcon"),null,{default:function(){return[ve(n,null,null)]}})])},handleClick:function(a){if(this.onHandle)return this.onHandle(a);this.previewImage=this.getSrc(a),this.previewVisible=!0},handleRemove:function(a){this.disabled||this.onBeforeRemove(a)!==!1&&(this.fileList.splice(this.fileList.indexOf(a),1),this.input(),this.onRemove(a))},getSrc:function(a){return this.srcKey?a[this.srcKey]:a},frameLoad:function(a){var n=this;this.onLoad(a);try{this.helper===!0&&(a.form_create_helper={api:this.formCreateInject.api,close:function(t){n.valid(t),n.closeModel()},set:function(t,u){n.valid(t),!n.disabled&&n.$emit("update:modelValue",u)},get:function(t){return n.valid(t),n.modelValue},onOk:function(t){return n.bus.$on("$ok",t)},onClose:function(t){return n.bus.$on("$close",t)}})}catch(i){console.error(i)}},makeFooter:function(){var a=this,n=this.$props,i=n.okBtnText,t=n.closeBtnText,u=n.closeBtn,c=n.okBtn,d=n.footer;if(d)return ve("div",null,[u?ve(Le("ElButton"),{onClick:function(){return a.onCancel()!==!1&&(a.frameVisible=!1)}},Tf(t)?t:{default:function(){return[t]}}):null,c?ve(Le("ElButton"),{type:"primary",onClick:function(){return a.onOk()!==!1&&a.closeModel()}},Tf(i)?i:{default:function(){return[i]}}):null])}},render:function(){var a=this,n=this.type,i;n==="input"?i=this.makeInput():n==="image"?i=this.makeImages():i=this.makeFiles();var t=this.$props,u=t.width,c=u===void 0?"30%":u,d=t.height,p=t.src,h=t.title,m=t.modalTitle;return qt(function(){a.$refs.frame&&a.frameLoad(a.$refs.frame.contentWindow||{})}),ve("div",{class:{"_fc-frame":!0,"_fc-disabled":this.disabled}},[i,ve(Le("ElDialog"),{appendToBody:!0,modal:this.previewMask,title:m,modelValue:this.previewVisible,onClose:this.handleCancel},{default:function(){return[ve("img",{style:"width: 100%",src:a.previewImage},null)]}}),ve(Le("ElDialog"),In({appendToBody:!0},De({width:c,title:h},this.modal),{modelValue:this.frameVisible,onClose:function(){return a.closeModel(!0)}}),{default:function(){return[a.frameVisible||!a.reload?ve("iframe",{ref:"frame",src:p,frameBorder:"0",style:{height:d,border:"0 none",width:"100%"}},null):null]},footer:function(){return a.makeFooter()}})])},beforeMount:function(){var a=this.formCreateInject,n=a.name,i=a.field,t=a.api;n&&t.on("fc:closeModal:"+n,this.close),i&&t.on("fc:closeModal:"+i,this.close)},beforeUnmount:function(){var a=this.formCreateInject,n=a.name,i=a.field,t=a.api;n&&t.off("fc:closeModal:"+n,this.close),i&&t.off("fc:closeModal:"+i,this.close)}}),Sv="fcRadio",Dv=wt({name:Sv,inheritAttrs:!1,props:{formCreateInject:Object,modelValue:{type:[String,Number,Boolean],default:""},type:String},emits:["update:modelValue","fc.el"],setup:function(a,n){var i=gn(a.formCreateInject,"options",[]),t=gn(a,"modelValue"),u=function(){return Array.isArray(i.value)?i.value:[]};return{options:u,value:t,onInput:function(d){n.emit("update:modelValue",d)}}},render:function(){var a,n,i=this,t=this.type==="button"?"ElRadioButton":"ElRadio",u=Le(t);return ve(Le("ElRadioGroup"),In(this.$attrs,{modelValue:this.value,"onUpdate:modelValue":this.onInput,ref:"el"}),De({default:function(){return[i.options().map(function(d,p){var h=De({},d),m=h.value,b=h.label;return delete h.value,delete h.label,ve(u,In(h,{label:m,value:m,key:t+p+"-"+m}),{default:function(){return[b||m||""]}})}),(a=(n=i.$slots).default)===null||a===void 0?void 0:a.call(n)]}},Wu(this.$slots,["default"])))},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),be={type:function(a,n){return Object.prototype.toString.call(a)==="[object "+n+"]"},Undef:function(a){return a==null},Element:function(a){return yn(a)==="object"&&a!==null&&a.nodeType===1&&!be.Object(a)},trueArray:function(a){return Array.isArray(a)&&a.length>0},Function:function(a){var n=this.getType(a);return n==="Function"||n==="AsyncFunction"},getType:function(a){var n=Object.prototype.toString.call(a);return/^\[object (.*)\]$/.exec(n)[1]},empty:function(a){return a==null||Array.isArray(a)&&Array.isArray(a)&&!a.length?!0:typeof a=="string"&&!a}};["Date","Object","String","Boolean","Array","Number"].forEach(function(o){be[o]=function(a){return be.type(a,o)}});function Ut(o,a){return{}.hasOwnProperty.call(o,a)}var kv="fcSelect",Tv=wt({name:kv,inheritAttrs:!1,props:{formCreateInject:Object,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},type:String},emits:["update:modelValue","fc.el"],setup:function(a){var n=gn(a.formCreateInject,"options",[]),i=gn(a,"modelValue"),t=function(){return Array.isArray(n.value)?n.value:[]};return{options:t,value:i}},render:function(){var a=this,n,i,t=function(p,h){return ve(Le("ElOption"),In(p,{key:""+h+"-"+p.value}),null)},u=function(p,h){return ve(Le("ElOptionGroup"),{label:p.label,key:""+h+"-"+p.label},{default:function(){return[be.trueArray(p.options)&&p.options.map(function(b,C){return t(b,C)})]}})},c=this.options();return ve(Le("ElSelect"),In(this.$attrs,{modelValue:this.value,"onUpdate:modelValue":function(p){return a.$emit("update:modelValue",p)},ref:"el"}),De({default:function(){return[c.map(function(p,h){return Ut(p||"","options")?u(p,h):t(p,h)}),(n=(i=a.$slots).default)===null||n===void 0?void 0:n.call(i)]}},Wu(this.$slots,["default"])))},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),Mv="fcTree",Rv=wt({name:Mv,inheritAttrs:!1,formCreateParser:{mergeProp:function(a){var n=a.prop.props;n.nodeKey||(n.nodeKey="id"),n.props||(n.props={label:"title"})}},props:{type:String,modelValue:{type:[Array,String,Number],default:function(){return[]}}},emits:["update:modelValue","fc.el"],watch:{modelValue:function(){this.setValue()}},methods:{updateValue:function(){if(this.$refs.tree){var a;this.type==="selected"?a=this.$refs.tree.getCurrentKey():a=this.$refs.tree.getCheckedKeys(),this.$emit("update:modelValue",a)}},setValue:function(){if(this.$refs.tree){var a=this.type;a==="selected"?this.$refs.tree.setCurrentKey(this.modelValue):this.$refs.tree.setCheckedKeys(Pn(this.modelValue))}}},render:function(){return ve(Le("ElTree"),In(this.$attrs,{ref:"tree",onCheck:this.updateValue,"onNode-click":this.updateValue}),this.$slots)},mounted:function(){this.setValue(),this.$emit("fc.el",this.$refs.tree)}}),Ov="._fc-exceed .el-upload{display:none}.el-upload-list.is-disabled .el-upload{cursor:not-allowed!important}";Gu(Ov);var Ld={name:"IconUpload"},Nv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pv=tt("path",{fill:"currentColor",d:"M160 832h704a32 32 0 110 64H160a32 32 0 110-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),Iv=[Pv];function Lv(o,a,n,i,t,u){return Je(),ht("svg",Nv,Iv)}Ld.render=Lv;function Mf(o,a){return{url:o,name:Hv(o),uid:a}}function Hv(o){return(""+o).split("/").pop()}var $v="fcUpload",Vv=wt({name:$v,inheritAttrs:!1,formCreateParser:{toFormValue:function(a){return Pn(a)},toValue:function(a,n){return n.prop.props.limit===1?a[0]||"":a}},props:{previewMask:void 0,onPreview:Function,modalTitle:String,modelValue:[Array,String]},emits:["update:modelValue","change","remove","fc.el"],data:function(){return{previewVisible:!1,previewImage:"",fileList:[]}},created:function(){this.fileList=Pn(this.modelValue).map(Mf)},watch:{modelValue:function(a){this.fileList=Pn(a).map(Mf)}},methods:{handlePreview:function(a){this.onPreview?this.onPreview.apply(this,arguments):(this.previewImage=a.url,this.previewVisible=!0)},update:function(a){var n=a.map(function(i){return i.url}).filter(function(i){return i!==void 0});this.$emit("update:modelValue",n)},handleCancel:function(){this.previewVisible=!1},handleChange:function(a,n){this.$emit.apply(this,["change"].concat(Array.prototype.slice.call(arguments))),a.status==="success"&&this.update(n)},handleRemove:function(a,n){this.$emit.apply(this,["remove"].concat(Array.prototype.slice.call(arguments))),this.update(n)}},render:function(){var a,n,i=this,t=Pn(this.modelValue).length;return ve(As,null,[ve(Le("ElUpload"),In({key:t,"list-type":"picture-card"},this.$attrs,{class:{"_fc-exceed":this.$attrs.limit?this.$attrs.limit<=t:!1},onPreview:this.handlePreview,onChange:this.handleChange,onRemove:this.handleRemove,fileList:this.fileList,ref:"upload"}),De({default:function(){return[((a=(n=i.$slots).default)===null||a===void 0?void 0:a.call(n))||ve(Le("ElIcon"),null,{default:function(){return[ve(Ld,null,null)]}})]}},Wu(this.$slots,["default"]))),ve(Le("ElDialog"),{appendToBody:!0,modal:this.previewMask,title:this.modalTitle,modelValue:this.previewVisible,onClose:this.handleCancel},{default:function(){return[ve("img",{style:"width: 100%",src:i.previewImage},null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.upload)}});function Nn(o,a,n){o[a]=n}function li(o,a){delete o[a]}function Ho(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=!1;for(var t in a)if(Object.prototype.hasOwnProperty.call(a,t)){var u=a[t];if((i=Array.isArray(u))||be.Object(u)){var c=o[t]===void 0;if(i)i=!1,c&&Nn(o,t,[]);else if(u._clone&&n!==void 0)if(n)u=u.getRule(),c&&Nn(o,t,{});else{Nn(o,t,u._clone());continue}else c&&Nn(o,t,{});o[t]=Ho(o[t],u,n)}else Nn(o,t,u),be.Undef(u)||(be.Undef(u.__json)||(o[t].__json=u.__json),be.Undef(u.__origin)||(o[t].__origin=u.__origin))}return n!==void 0&&Array.isArray(o)?o.filter(function(d){return!d||!d.__ctrl}):o}function Ur(o){return Ho({},{value:o}).value}var zv=Object.assign||function(o){for(var a,n=1;n<arguments.length;n++)for(var i in a=arguments[n],a)Object.prototype.hasOwnProperty.call(a,i)&&Nn(o,i,a[i]);return o};function Re(){return zv.apply(this,arguments)}function Rf(o){return yn(o)!=="object"||o===null?o:o instanceof Array?We(o):De({},o)}var jv='._fc-group{display:flex;flex-direction:column;justify-content:center;min-height:38px;width:100%}._fc-group-disabled ._fc-group-add,._fc-group-disabled ._fc-group-btn{cursor:not-allowed}._fc-group-handle{background-color:#fff;border:1px dashed #d9d9d9;border-radius:15px;bottom:-15px;display:flex;flex-direction:row;padding:3px 8px;position:absolute;right:30px}._fc-group-btn{cursor:pointer}._fc-group-idx{align-items:center;background:#eee;border-radius:15px;bottom:-15px;display:flex;font-weight:700;height:30px;justify-content:center;left:10px;position:absolute;width:30px}._fc-group-handle ._fc-group-btn+._fc-group-btn{margin-left:7px}._fc-group-container{border:1px dashed #d9d9d9;border-radius:5px;display:flex;flex-direction:column;margin:5px 5px 25px;padding:20px 20px 25px;position:relative}._fc-group-arrow{height:20px;position:relative;width:20px}._fc-group-arrow:before{border-left:2px solid #999;border-top:2px solid #999;content:"";height:9px;left:5px;position:absolute;top:8px;transform:rotate(45deg);width:9px}._fc-group-arrow._fc-group-down{transform:rotate(180deg)}._fc-group-plus-minus{cursor:pointer;height:20px;position:relative;width:20px}._fc-group-plus-minus:after,._fc-group-plus-minus:before{background-color:#409eff;content:"";height:2px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}._fc-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-group-plus-minus._fc-group-minus:before{display:none}._fc-group-plus-minus._fc-group-minus:after{background-color:#f56c6c}._fc-group-add{border:1px solid rgba(64,158,255,.5);border-radius:15px;cursor:pointer;height:25px;width:25px}._fc-group-add._fc-group-plus-minus:after,._fc-group-add._fc-group-plus-minus:before{width:50%}';Gu(jv);var Uv="fcGroup",Yv=wt({name:Uv,props:{field:String,rule:Array,expand:Number,options:Object,button:{type:Boolean,default:!0},max:{type:Number,default:0},min:{type:Number,default:0},modelValue:{type:Array,default:function(){return[]}},defaultValue:Object,sortBtn:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},onBeforeRemove:{type:Function,default:function(){}},onBeforeAdd:{type:Function,default:function(){}},formCreateInject:Object,parse:Function},data:function(){return{len:0,cacheRule:{},cacheValue:{},sort:[],form:jr(this.formCreateInject.form.$form())}},emits:["update:modelValue","change","itemMounted","remove","add"],watch:{rule:{handler:function(a,n){var i=this;Object.keys(this.cacheRule).forEach(function(t){var u=i.cacheRule[t];if(u.$f){var c=u.$f.formData();if(a===n)u.$f.deferSyncValue(function(){Ho(u.rule,a),u.$f.setValue(c)},!0);else{var d=u.$f.formData();u.$f.once("reloading",function(){u.$f.setValue(d)}),u.rule=Ur(a)}}})},deep:!0},disabled:function(a){if(this.syncDisabled){var n=this.cacheRule;Object.keys(n).forEach(function(i){n[i].$f.disabled(a)})}},expand:function(a){var n=a-this.modelValue.length;n>0&&this.expandRule(n)},modelValue:{handler:function(a){var n=this;a=a||[];var i=Object.keys(this.sort),t=i.length,u=t-a.length;if(u<0){for(var c=u;c<0;c++)this.addRule(a.length+c,!0);for(var d=0;d<t;d++)this.setValue(i[d],a[d])}else{if(u>0)for(var p=0;p<u;p++)this.removeRule(i[t-p-1]);a.forEach(function(h,m){n.setValue(i[m],a[m])})}},deep:!0}},methods:{_value:function(a){return a&&Ut(a,this.field)?a[this.field]:a},cache:function(a,n){this.cacheValue[a]=JSON.stringify(n)},input:function(a){this.$emit("update:modelValue",a),this.$emit("change",a)},formData:function(a,n){var i=this,t=this.cacheRule,u=this.sort;if(u.filter(function(d){return t[d].$f}).length===u.length){var c=u.map(function(d){var p=a===d?n:De({},i.cacheRule[d].$f.form),h=i.field?p[i.field]||null:p;return i.cache(d,h),h});this.input(c)}},setValue:function(a,n){var i=this.field;i&&(n=Ht({},i,this._value(n))),this.cacheValue[a]!==JSON.stringify(i?n[i]:n)&&this.cache(a,n)},addRule:function(a,n){var i=this,t=this.formCreateInject.form.copyRules(this.rule||[]),u=this.options?De({},this.options):{submitBtn:!1,resetBtn:!1};if(this.defaultValue){u.formData||(u.formData={});var c=Ur(this.defaultValue);Re(u.formData,this.field?Ht({},this.field,c):c)}this.parse&&this.parse({rule:t,options:u,index:this.sort.length}),this.cacheRule[++this.len]={rule:t,options:u},n&&qt(function(){return i.$emit("add",t,Object.keys(i.cacheRule).length-1)})},add$f:function(a,n,i){var t=this;this.cacheRule[n].$f=i,qt(function(){t.syncDisabled&&i.disabled(t.disabled),t.$emit("itemMounted",i,Object.keys(t.cacheRule).indexOf(n))})},removeRule:function(a,n){var i=this,t=Object.keys(this.cacheRule).indexOf(a);delete this.cacheRule[a],delete this.cacheValue[a],n&&qt(function(){return i.$emit("remove",t)})},add:function(a){if(!(this.disabled||this.onBeforeAdd(this.modelValue)===!1)){var n=We(this.modelValue);n.push(this.defaultValue?Ur(this.defaultValue):this.field?null:{}),this.input(n)}},del:function(a,n){if(!(this.disabled||this.onBeforeRemove(this.modelValue,a)===!1)){this.removeRule(n,!0);var i=We(this.modelValue);i.splice(a,1),this.input(i)}},addIcon:function(a){return ve("div",{class:"_fc-group-btn _fc-group-plus-minus",onClick:this.add},null)},delIcon:function(a,n){var i=this;return ve("div",{class:"_fc-group-btn _fc-group-plus-minus _fc-group-minus",onClick:function(){return i.del(a,n)}},null)},sortUpIcon:function(a){var n=this;return ve("div",{class:"_fc-group-btn _fc-group-arrow _fc-group-up",onClick:function(){return n.changeSort(a,-1)}},null)},sortDownIcon:function(a){var n=this;return ve("div",{class:"_fc-group-btn _fc-group-arrow _fc-group-down",onClick:function(){return n.changeSort(a,1)}},null)},changeSort:function(a,n){var i=this.sort[a];this.sort[a]=this.sort[a+n],this.sort[a+n]=i,this.formData(0)},makeIcon:function(a,n,i){var t=this;if(this.$slots.button)return this.$slots.button({total:a,index:n,vm:this,key:i,del:function(){return t.del(n,i)},add:this.add});var u=[];return(!this.max||a<this.max)&&a===n+1&&u.push(this.addIcon(i)),a>this.min&&u.push(this.delIcon(n,i)),this.sortBtn&&n&&u.push(this.sortUpIcon(n)),this.sortBtn&&n!==a-1&&u.push(this.sortDownIcon(n)),u},emitEvent:function(a,n,i,t){this.$emit.apply(this,[a].concat(We(n),[this.cacheRule[t].$f,i]))},expandRule:function(a){for(var n=0;n<a;n++)this.addRule(n)}},created:function(){var a=this;fn(function(){return De({},a.cacheRule)},function(t){a.sort=Object.keys(t)},{immediate:!0});for(var n=(this.expand||0)-this.modelValue.length,i=0;i<this.modelValue.length;i++)this.addRule(i);n>0&&this.expandRule(n)},render:function(){var a=this,n=this.sort,i=this.button,t=this.form,u=this.disabled,c=n.length===0?this.$slots.default?this.$slots.default({vm:this,add:this.add}):ve("div",{key:"a_def",class:"_fc-group-plus-minus _fc-group-add fc-clock",onClick:this.add},null):n.map(function(d,p){var h=a.cacheRule[d],m=h.rule,b=h.options,C=i&&!u?a.makeIcon(n.length,p,d):[];return ve("div",{class:"_fc-group-container",key:d},[ve(t,In({key:d},{"onUpdate:modelValue":function(A){return a.formData(d,A)},"onEmit-event":function(A){for(var F=arguments.length,v=new Array(F>1?F-1:0),B=1;B<F;B++)v[B-1]=arguments[B];return a.emitEvent(A,v,p,d)},"onUpdate:api":function(A){return a.add$f(p,d,A)},inFor:!0,modelValue:a.field?Ht({},a.field,a._value(a.modelValue[p])):a.modelValue[p],rule:m,option:b,extendOption:!0}),null),ve("div",{class:"_fc-group-idx"},[p+1]),C.length?ve("div",{class:"_fc-group-handle fc-clock"},[C]):null])});return ve("div",{key:"con",class:"_fc-group "+(u?"_fc-group-disabled":"")},[c])}}),Qv="fcSubForm",Wv=wt({name:Qv,props:{rule:Array,options:{type:Object,default:function(){return Yn({submitBtn:!1,resetBtn:!1})}},modelValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},formCreateInject:Object},data:function(){return{cacheValue:{},subApi:{},form:jr(this.formCreateInject.form.$form())}},emits:["fc:subform","update:modelValue","change","itemMounted"],watch:{disabled:function(a){this.syncDisabled&&this.subApi.disabled(a)},modelValue:function(a){this.setValue(a)}},methods:{formData:function(a){this.cacheValue=JSON.stringify(a),this.$emit("update:modelValue",a),this.$emit("change",a)},setValue:function(a){var n=JSON.stringify(a);this.cacheValue!==n&&(this.cacheValue=n,this.subApi.coverValue(a||{}))},add$f:function(a){var n=this;this.subApi=a,qt(function(){n.syncDisabled&&a.disabled(n.disabled),n.$emit("itemMounted",a)})}},render:function(){var a=this.form;return ve(a,{"onUpdate:modelValue":this.formData,modelValue:this.modelValue,"onEmit-event":this.$emit,"onUpdate:api":this.add$f,rule:this.rule,option:this.options,extendOption:!0},null)}}),Hd={name:"IconWarning"},Gv={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Xv=tt("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 832a384 384 0 000-768 384 384 0 000 768zm48-176a48 48 0 11-96 0 48 48 0 0196 0zm-48-464a32 32 0 0132 32v288a32 32 0 01-64 0V288a32 32 0 0132-32z"},null,-1),Jv=[Xv];function Kv(o,a,n,i,t,u){return Je(),ht("svg",Gv,Jv)}Hd.render=Kv;var qv=[rv,Bv,Dv,Tv,Rv,Vv,Yv,Wv,Hd],Zv="FormCreate",Of=function o(a,n){if(!(!a||a===n)){if(a.props.formCreateInject)return a.props.formCreateInject;if(a.parent)return o(a.parent,n)}};function e0(o,a,n){return wt({name:Zv,components:a,directives:n,props:{rule:{type:Array,required:!0,default:function(){return[]}},option:{type:Object,default:function(){return{}}},extendOption:Boolean,modelValue:Object,disabled:Boolean,api:Object,name:String,subForm:{type:Boolean,default:!0},inFor:Boolean},emits:["update:api","update:modelValue","mounted","submit","change","emit-event","control","remove-rule","remove-field","sync","reload","repeat-field","update","validate-field-fail","validate-fail"],render:function(){return this.fc.render()},setup:function(t){var u=Pu();Ml("parentFC",u);var c=Sd("parentFC",null),d=Po(t),p=d.rule,h=d.modelValue,m=d.subForm,b=d.inFor,C=Yn({ctxInject:{},destroyed:!1,isShow:!0,unique:1,renderRule:We(p.value||[]),updateValue:JSON.stringify(h.value||{})}),w=new o(u),A=w.api(),F=b.value,v=function(){if(c){var g=Of(u,c);if(g){var _;F?(_=Pn(g.getSubForm()),_.push(A)):_=A,g.subForm(_)}}},B=function(){var g=Of(u,c);if(g)if(F){var _=Pn(g.getSubForm()),x=_.indexOf(A);x>-1&&_.splice(x,1)}else g.subForm()};return Pm(function(){w.mounted()}),Im(function(){B(),C.destroyed=!0,w.unmount()}),Lm(function(){w.updated()}),fn(m,function(E){E?v():B()},{immediate:!0}),fn(function(){return We(p.value)},function(E){w.$handle.isBreakWatch()||E.length===C.renderRule.length&&E.every(function(g){return C.renderRule.indexOf(g)>-1})||(w.$handle.reloadRule(p.value),u.setupState.renderRule())}),fn(function(){return t.option},function(){w.initOptions(),A.refresh()},{deep:!0}),fn(h,function(E){JSON.stringify(E||{})!==C.updateValue&&(A.config.forceCoverValue?A.coverValue(E||{}):A.setValue(E||{}))},{deep:!0}),fn(function(){return t.disabled},function(E){A.disabled(!!E)}),De(De({fc:jr(w),parent:c&&jr(c),fapi:jr(A)},Po(C)),{},{refresh:function(){++C.unique},renderRule:function(){C.renderRule=We(p.value||[])},updateValue:function(g){C.destroyed||(C.updateValue=JSON.stringify(g),u.emit("update:modelValue",g))}})},created:function(){var t=Pu();t.setupState.fc.init(),t.emit("update:api",t.setupState.fapi),t.props.disabled&&t.setupState.fapi.disabled(!0)}})}var $d=["props"],Vd=["class","style","directives"],zd=["on"],Vr=function o(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=[].concat($d,We(i.normal||[])),u=[].concat(Vd,We(i.array||[])),c=[].concat(zd,We(i.functional||[])),d=i.props||[];return a.reduce(function(p,h){for(var m in h)if(p[m])if(d.indexOf(m)>-1)p[m]=o([h[m]],p[m]);else if(t.indexOf(m)>-1)p[m]=De(De({},p[m]),h[m]);else if(u.indexOf(m)>-1){var b=p[m]instanceof Array?p[m]:[p[m]],C=h[m]instanceof Array?h[m]:[h[m]];p[m]=[].concat(We(b),We(C))}else if(c.indexOf(m)>-1)for(var w in h[m])if(p[m][w]){var A=p[m][w]instanceof Array?p[m][w]:[p[m][w]],F=h[m][w]instanceof Array?h[m][w]:[h[m][w]];p[m][w]=[].concat(We(A),We(F))}else p[m][w]=h[m][w];else if(m==="hook")for(var v in h[m])p[m][v]?p[m][v]=t0(p[m][v],h[m][v]):p[m][v]=h[m][v];else p[m]=h[m];else t.indexOf(m)>-1||c.indexOf(m)>-1||d.indexOf(m)>-1?p[m]=De({},h[m]):u.indexOf(m)>-1?p[m]=h[m]instanceof Array?We(h[m]):yn(h[m])==="object"?De({},h[m]):h[m]:p[m]=h[m];return p},n)},t0=function(a,n){return function(){a&&a.apply(this,arguments),n&&n.apply(this,arguments)}},Nl=["type","slot","emitPrefix","value","name","native","hidden","display","inject","options","emit","link","prefix","suffix","update","sync","optionsTo","key","slotUpdate","computed","preview","component","cache","modelEmit"],Lu=["validate","children","control"],Hu=["effect"];function jd(){return[].concat(Nl,We($d),We(Vd),We(zd),Lu,Hu)}function Ud(o,a,n){return"[form-create ".concat(o,"]: ").concat(a)+(n?`

rule: `+JSON.stringify(n.getRule?n.getRule():n):"")}function bs(o,a){console.error(Ud("err",o,a))}function n0(o){bs(o.toString()),console.error(o)}function $u(o){var a=o.replace(/([A-Z])/g,"-$1").toLocaleLowerCase();return a.indexOf("-")===0&&(a=a.substr(1)),a}function r0(o){return o.replace(o[0],o[0].toLocaleUpperCase())}var Pl="[[FORM-CREATE-PREFIX-",Il="-FORM-CREATE-SUFFIX]]",Nf="$FN:",Pf="$FNX:",If="$GLOBAL:",Fo="function";function Yd(o,a){return JSON.stringify(Ho([],o,!0),function(n,i){if(!(i&&i._isVue===!0)){if(yn(i)!==Fo)return i;if(i.__json)return i.__json;if(i.__origin&&(i=i.__origin),!i.__emit)return Pl+i+Il}},a)}function Lf(o){return new Function("return "+o)()}function Wr(o,a){if(o&&be.String(o)&&o.length>4){var n=o.trim(),i=!1;try{if(n.indexOf(Il)>0&&n.indexOf(Pl)===0)n=n.replace(Il,"").replace(Pl,""),i=!0;else if(n.indexOf(Nf)===0)n=n.replace(Nf,""),i=!0;else if(n.indexOf(If)===0){var t=n.replace(If,"");return n=function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];var m=p[0].api.getGlobalEvent(t);if(m)return m.call.apply(m,[this].concat(p))},n.__json=o,n.__inject=!0,n}else{if(n.indexOf(Pf)===0)return n=Lf("function($inject){"+n.replace(Pf,"")+"}"),n.__json=o,n.__inject=!0,n;!a&&n.indexOf(Fo)===0&&n!==Fo&&(i=!0)}if(!i)return o;var u=Lf(n.indexOf(Fo)===-1&&n.indexOf("(")!==0?Fo+" "+n:n);return u.__json=o,u}catch(c){bs("解析失败:".concat(n,`

err: `).concat(c));return}}return o}function i0(o,a){return JSON.parse(o,function(n,i){return be.Undef(i)||!i.indexOf?i:Wr(i,a)})}function Qd(o,a){return{value:o,enumerable:!1,configurable:!1,writable:!!a}}function Es(o,a){return Wd([o],a||!1)[0]}function Wd(o,a){return Ho([],We(o),a||!1)}function Yr(o,a){return Vr(Array.isArray(a)?a:[a],o,{array:Lu,normal:Hu}),o}function Hf(o){var a=be.Function(o.getRule)?o.getRule():o;return a.type||(a.type="input"),a}function o0(o,a){return o?(Object.keys(a||{}).forEach(function(n){a[n]&&(o[n]=Yr(o[n]||{},a[n]))}),o):a}function Gd(o,a){Object.defineProperties(o,Object.keys(a).reduce(function(n,i){return n[i]={get:function(){return a[i]()}},n},{}))}function So(o){return o.__fc__||(o.__origin__?o.__origin__.__fc__:null)}function Yt(o,a){try{a=o()}catch(n){n0(n)}return a}function Wa(){var o={},a=function(i){return i||"default"};return{setSlot:function(i,t){i=a(i),!(!t||Array.isArray(t)&&t.length)&&(o[i]||(o[i]=[]),o[i].push(t))},getSlot:function(i,t){i=a(i);var u=[];return(o[i]||[]).forEach(function(c){if(Array.isArray(c))u.push.apply(u,We(c));else if(be.Function(c)){var d=c.apply(void 0,We(t||[]));Array.isArray(d)?u.push.apply(u,We(d)):u.push(d)}else be.Undef(c)||u.push(c)}),u},getSlots:function(){var i=this,t={};return Object.keys(o).forEach(function(u){t[u]=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return i.getSlot(u,d)}}),t},slotLen:function(i){return i=a(i),o[i]?o[i].length:0},mergeBag:function(i){var t=this;if(!i)return this;var u=be.Function(i.getSlots)?i.getSlots():i;return Array.isArray(i)||Bd(i)?this.setSlot(void 0,function(){return i}):Object.keys(u).forEach(function(c){t.setSlot(c,u[c])}),this}}}function $f(o){var a=De({},o.props||{});return Object.keys(o.on||{}).forEach(function(n){var i="on".concat(r0(n));Array.isArray(a[i])?a[i]=[].concat(We(a[i]),[o.on[n]]):a[i]?a[i]=[a[i],o.on[n]]:a[i]=o.on[n]}),a.key=o.key,a.ref=o.ref,a.class=o.class,a.style=o.style,a.slot&&delete a.slot,a}function u0(o,a){return Object.setPrototypeOf(o,a),o}function Xd(){return{props:{},on:{},options:[],children:[],hidden:!1,display:!0,value:void 0}}function Zt(o,a){return function(n,i,t){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=new ws(o,n,i,t,u);return a&&(be.Function(a)?a(c):c.props(a)),c}}function ws(o,a,n,i,t){this._data=Re(Xd(),{type:o,title:a,field:n,value:i,props:t||{}}),this.event=this.on}Re(ws.prototype,{getRule:function(){return this._data},setProp:function(a,n){return Nn(this._data,a,n),this},modelField:function(a){return this._data.modelField=a,this},_clone:function(){var a=new this.constructor;return a._data=Es(this._data),a}});function Jd(o){o.forEach(function(a){ws.prototype[a]=function(n){return Yr(this._data,Ht({},a,arguments.length<2?n:Ht({},n,arguments[1]))),this}})}Jd(jd());var a0=Zt("");function l0(o,a,n){var i=a0("",a);return i._data.type=o,i._data.title=n,i}function s0(){return{create:l0,factory:Zt}}function c0(o,a,n){var i="fail to ".concat(o," ").concat(n.status,"'"),t=new Error(i);return t.status=n.status,t.url=o,t}function Vf(o){var a=o.responseText||o.response;if(!a)return a;try{return JSON.parse(a)}catch(n){return a}}function Kd(o){if(typeof XMLHttpRequest!="undefined"){var a=new XMLHttpRequest,n=o.action;a.onerror=function(c){o.onError(c)},a.onload=function(){if(a.status<200||a.status>=300)return o.onError(c0(n,o,a),Vf(a));o.onSuccess(Vf(a))},a.open(o.method||"get",n,!0);var i;o.data&&((o.dataType||"").toLowerCase()!=="json"?(i=new FormData,Object.keys(o.data).map(function(u){i.append(u,o.data[u])})):(i=JSON.stringify(o.data),a.setRequestHeader("content-type","application/json"))),o.withCredentials&&"withCredentials"in a&&(a.withCredentials=!0);var t=o.headers||{};Object.keys(t).forEach(function(u){t[u]!==null&&a.setRequestHeader(u,t[u])}),a.send(i)}}function f0(o){return new Promise(function(a,n){Kd(De(De({},o),{},{onSuccess:function(t){var u=function(p){return p},c=Wr(o.parse);be.Function(c)?u=c:c&&be.String(c)&&(u=function(p){return c.split(".").forEach(function(h){p&&(p=p[h])}),p}),a(u(t))},onError:function(t){n(t)}}))})}function Cu(o){return Ur(o)}function d0(o){function a(u){return be.Undef(u)?u=o.fields():Array.isArray(u)||(u=[u]),u}function n(u,c,d){a(u).forEach(function(p){o.getCtxs(p).forEach(function(h){Nn(h.rule,c,d),o.$render.clearCache(h)})})}function i(){var u=o.subForm;return Object.keys(u).reduce(function(c,d){var p=u[d];return p&&(Array.isArray(p)?c.push.apply(c,We(p)):c.push(p)),c},[])}var t={get config(){return o.options},set config(u){o.fc.options.value=u},get options(){return o.options},set options(u){o.fc.options.value=u},get form(){return o.form},get rule(){return o.rules},get parent(){return o.vm.setupState.parent&&o.vm.setupState.parent.setupState.fapi},get top(){return t.parent?t.parent.top:t},get children(){return i()},formData:function(c){return a(c).reduce(function(d,p){var h=o.getFieldCtx(p);return h&&(d[h.field]=Cu(h.rule.value)),d},{})},getValue:function(c){var d=o.getFieldCtx(c);if(d)return Cu(d.rule.value)},coverValue:function(c){var d=De({},c||{});o.deferSyncValue(function(){t.fields().forEach(function(p){var h=o.fieldCtx[p];if(h){var m=Ut(c,p);h.forEach(function(b){b.rule.value=m?c[p]:void 0}),delete d[p]}}),Re(o.appendData,d)})},setValue:function(c){var d=c;arguments.length>=2&&(d=Ht({},c,arguments[1])),o.deferSyncValue(function(){Object.keys(d).forEach(function(p){var h=o.fieldCtx[p];if(!h)return o.appendData[p]=d[p];h.forEach(function(m){m.rule.value=d[p]})})})},removeField:function(c){var d=o.getCtx(c);return o.deferSyncValue(function(){o.getCtxs(c).forEach(function(p){p.rm()})},!0),d?d.origin:void 0},removeRule:function(c){var d=c&&So(c);if(d)return d.rm(),d.origin},fields:function(){return o.fields()},append:function(c,d,p){var h=o.sort.length-1,m,b=o.getCtx(d);if(b)if(p){if(m=b.getPending("children",b.rule.children),!Array.isArray(m))return;h=b.rule.children.length-1}else h=b.root.indexOf(b.origin),m=b.root;else m=o.rules;m.splice(h+1,0,c)},prepend:function(c,d,p){var h=0,m,b=o.getCtx(d);if(b)if(p){if(m=b.getPending("children",b.rule.children),!Array.isArray(m))return}else h=b.root.indexOf(b.origin),m=b.root;else m=o.rules;m.splice(h,0,c)},hidden:function(c,d){n(d,"hidden",!!c),o.refresh()},hiddenStatus:function(c){var d=o.getCtx(c);if(d)return!!d.rule.hidden},display:function(c,d){n(d,"display",!!c),o.refresh()},displayStatus:function(c){var d=o.getCtx(c);if(d)return!!d.rule.display},disabled:function(c,d){a(d).forEach(function(p){o.getCtxs(p).forEach(function(h){Nn(h.rule.props,"disabled",!!c)})}),o.refresh()},all:function(c){return Object.keys(o.ctxs).map(function(d){var p=o.ctxs[d];return c?p.origin:p.rule})},model:function(c){return o.fields().reduce(function(d,p){var h=o.fieldCtx[p][0];return d[p]=c?h.origin:h.rule,d},{})},component:function(c){return Object.keys(o.nameCtx).reduce(function(d,p){var h=o.nameCtx[p].map(function(m){return c?m.origin:m.rule});return d[p]=h.length===1?h[0]:h,d},{})},bind:function(){return t.form},reload:function(c){o.reloadRule(c)},updateOptions:function(c){o.fc.updateOptions(c),t.refresh()},onSubmit:function(c){t.updateOptions({onSubmit:c})},sync:function(c){if(Array.isArray(c)){c.forEach(function(p){return t.sync(p)});return}var d=be.Object(c)?So(c):o.getCtxs(c);d&&(d=Array.isArray(d)?d:[d],d.forEach(function(p){if(!p.deleted){var h=o.subForm[p.id];h&&(Array.isArray(h)?h.forEach(function(m){m.refresh()}):h&&h.refresh()),o.$render.clearCache(p)}}),o.refresh())},refresh:function(){i().forEach(function(c){c.refresh()}),o.$render.clearCacheAll(),o.refresh()},refreshOptions:function(){o.$manager.updateOptions(o.options),t.refresh()},hideForm:function(c){o.vm.setupState.isShow=!c},changeStatus:function(){return o.changeStatus},clearChangeStatus:function(){o.changeStatus=!1},updateRule:function(c,d){o.getCtxs(c).forEach(function(p){Re(p.rule,d)})},updateRules:function(c){Object.keys(c).forEach(function(d){t.updateRule(d,c[d])})},mergeRule:function(c,d){o.getCtxs(c).forEach(function(p){Yr(p.rule,d)})},mergeRules:function(c){Object.keys(c).forEach(function(d){t.mergeRule(d,c[d])})},getRule:function(c,d){var p=o.getCtx(c);if(p)return d?p.origin:p.rule},setEffect:function(c,d,p){var h=o.getCtx(c);h&&d&&(d[0]==="$"&&(d=d.substr(1)),Ut(h.rule,"$"+d)&&Nn(h.rule,"$"+d,p),Ut(h.rule,"effect")||(h.rule.effect={}),Nn(h.rule.effect,d,p))},clearEffectData:function(c,d){var p=o.getCtx(c);p&&(d&&d[0]==="$"&&(d=d.substr(1)),p.clearEffectData(d),t.sync(c))},updateValidate:function(c,d,p){p?t.mergeRule(c,{validate:d}):n(c,"validate",d)},updateValidates:function(c,d){Object.keys(c).forEach(function(p){t.updateValidate(p,c[p],d)})},refreshValidate:function(){t.refresh()},resetFields:function(c){a(c).forEach(function(d){o.getCtxs(d).forEach(function(p){o.$render.clearCache(p),p.rule.value=Cu(p.defaultValue)})})},method:function(c,d){var p=t.el(c);if(!p||!p[d])throw new Error(Ud("err","".concat(d,"方法不存在")));return function(){return p[d].apply(p,arguments)}},exec:function(c,d){for(var p=arguments.length,h=new Array(p>2?p-2:0),m=2;m<p;m++)h[m-2]=arguments[m];return Yt(function(){return t.method(c,d).apply(void 0,h)})},toJson:function(c){return Yd(t.rule,c)},trigger:function(c,d){for(var p=t.el(c),h=arguments.length,m=new Array(h>2?h-2:0),b=2;b<h;b++)m[b-2]=arguments[b];p&&p.$emit.apply(p,[d].concat(m))},el:function(c){var d=o.getCtx(c);if(d)return d.el||o.vm.refs[d.ref]},closeModal:function(c){o.bus.$emit("fc:closeModal:"+c)},getSubForm:function(c){var d=o.getCtx(c);return d?o.subForm[d.id]:void 0},getChildrenRuleList:function(c){var d=yn(c)==="object",p=d?So(c):o.getCtx(c),h=p?p.rule:d?c:t.getRule(c);if(!h)return[];var m=[],b=function(w){w&&w.forEach(function(A){yn(A)==="object"&&(A.field&&m.push(A),m.push.apply(m,We(t.getChildrenRuleList(A))))})};return b(p?p.loadChildrenPending():h.children),m},getChildrenFormData:function(c){var d=t.getChildrenRuleList(c);return d.reduce(function(p,h){return p[h.field]=Cu(h.value),p},{})},setChildrenFormData:function(c,d,p){var h=t.getChildrenRuleList(c);h.forEach(function(m){Ut(d,m.field)?m.value=d[m.field]:p&&(m.value=void 0)})},getGlobalEvent:function(c){var d=t.options.globalEvent[c];if(d)return yn(d)==="object"&&(d=d.handle),Wr(d)},getGlobalData:function(c){return new Promise(function(d,p){var h=t.options.globalData[c];h||d(o.fc.loadData[c]),h.type==="fetch"?f0(h).then(function(m){d({res:m,config:h})}).catch(p):d(h.data)})},nextTick:function(c){o.bus.$once("next-tick",c),o.refresh()},nextRefresh:function(c){o.nextRefresh(),c&&Yt(c)},deferSyncValue:function(c,d){o.deferSyncValue(c,d)},emit:function(c){for(var d,p=arguments.length,h=new Array(p>1?p-1:0),m=1;m<p;m++)h[m-1]=arguments[m];(d=o.vm).emit.apply(d,[c].concat(h))},helper:{tidyFields:a,props:n}};return["on","once","off","set"].forEach(function(u){t[u]=function(){var c;(c=o.bus)["$".concat(u)].apply(c,arguments)}}),t.changeValue=t.changeField=t.setValue,t}function p0(o){Re(o.prototype,{initCache:function(){this.clearCacheAll()},clearCache:function(n){n.rule.cache||this.cache[n.id]&&((this.cache[n.id].use===!0||this.cache[n.id].parent)&&this.$handle.refresh(),this.cache[n.id]=null)},clearCacheAll:function(){this.cache={}},setCache:function(n,i,t){this.cache[n.id]={vnode:i,use:!1,parent:t,slot:n.rule.slot}},getCache:function(n){var i=this.cache[n.id];if(i)return i.use=!0,i.vnode}})}function Qr(o){var a=o.replace(/(-[a-z])/g,function(n){return n.replace("-","").toLocaleUpperCase()});return qd(a)}function qd(o){return o.replace(o[0],o[0].toLowerCase())}function Zd(o){return o==null?"":yn(o)==="object"?JSON.stringify(o,null,2):String(o)}var h0=0;function Xu(){var o=370+ ++h0;return"F"+Math.random().toString(36).substr(3,3)+Number("".concat(Date.now())).toString(36)+o.toString(36)+"c"}function Io(o,a,n){var i=o,t;return(a||"").split(".").forEach(function(u){t&&((!i[t]||yn(i[t])!="object")&&(i[t]={}),i=i[t]),t=u}),i[t]=n,i}function m0(o){Re(o.prototype,{initRender:function(){this.cacheConfig={}},getTypeSlot:function(n){var i=function t(u){if(u){var c=void 0;return n.rule.field&&(c=u.slots["field-"+$u(n.rule.field)]||u.slots["field-"+n.rule.field]),c||(c=u.slots["type-"+$u(n.type)]||u.slots["type-"+n.type]),c||t(u.setupState.parent)}};return i(this.vm)},render:function(){var n=this;if(this.vm.setupState.isShow){this.$manager.beforeRender();var i=Wa();return this.sort.forEach(function(t){n.renderSlot(i,n.$handle.ctxs[t])}),this.$manager.render(i)}},renderSlot:function(n,i,t){if(this.isFragment(i)){i.initProp(),this.mergeGlobal(i),i.initNone();var u=this.renderChildren(i.loadChildrenPending(),i),c=u.default;c&&n.setSlot(i.rule.slot,function(){return c()}),delete u.default,n.mergeBag(u)}else n.setSlot(i.rule.slot,this.renderCtx(i,t))},mergeGlobal:function(n){var i=this,t=this.$handle.options.global;t&&(this.cacheConfig[n.trueType]||(this.cacheConfig[n.trueType]=Vi(function(){var u=i.$handle.options.global;return Yr({},[u["*"],u[n.originType]||u[n.type]||u[n.type]||{}])})),n.prop=Yr({},[this.cacheConfig[n.trueType].value,n.prop]))},setOptions:function(n){var i=n.loadPending({key:"options",origin:n.prop.options,def:[]});n.prop.options=i,n.prop.optionsTo&&i&&Io(n.prop,n.prop.optionsTo,i)},deepSet:function(n){var i=n.rule.deep;i&&Object.keys(i).sort(function(t,u){return t.length<u.length?-1:1}).forEach(function(t){Io(n.prop,t,i[t])})},parseSide:function(n,i){return be.Object(n)?Yr({props:{formCreateInject:i.prop.props.formCreateInject}},n):n},renderSides:function(n,i,t){var u=i[t?"rule":"prop"];return[this.renderRule(this.parseSide(u.prefix,i)),n,this.renderRule(this.parseSide(u.suffix,i))]},renderId:function(n,i){var t=this,u=this.$handle[i==="field"?"fieldCtx":"nameCtx"][n];return u?u.map(function(c){return t.renderCtx(c,c.parent)}):void 0},renderCtx:function(n,i){var t=this;try{if(n.type==="hidden")return;var u=n.rule;if(!this.cache[n.id]||this.cache[n.id].slot!==u.slot){var c;n.initProp(),this.mergeGlobal(n),n.initNone(),this.$manager.tidyRule(n),this.deepSet(n),this.setOptions(n),this.ctxProp(n);var d=n.prop;d.preview=!!(Ut(d,"preview")?d.preview:this.options.preview),d.props.formCreateInject=this.injectProp(n);var p=d.cache!==!1,h=d.preview;if(d.hidden){this.setCache(n,void 0,i);return}c=function(){for(var b=arguments.length,C=new Array(b),w=0;w<b;w++)C[w]=arguments[w];var A={rule:u,prop:d,preview:h,api:t.$handle.api,model:d.model||{},slotValue:C};C.length&&u.slotUpdate&&Yt(function(){return u.slotUpdate(A)});var F={},v=n.loadChildrenPending();n.parser.renderChildren?F=n.parser.renderChildren(v,n):n.parser.loadChildren!==!1&&(F=t.renderChildren(v,n));var B=t.getTypeSlot(n),E;return B?(A.children=F,E=B(A)):E=h?n.parser.preview(Rf(F),n):n.parser.render(Rf(F),n),E=t.renderSides(E,n),!(!n.input&&be.Undef(d.native))&&d.native!==!0&&(E=t.$manager.makeWrap(n,E)),n.none&&(Array.isArray(E)?E=E.map(function(g){return!g||!g.__v_isVNode?g:t.none(g)}):E=t.none(E)),p&&!Object.keys(F).length&&t.setCache(n,function(){return E},i),E},this.setCache(n,c,i)}return function(){var m=t.getCache(n);if(m)return m.apply(void 0,arguments);if(t.cache[n.id])return;var b=t.renderCtx(n,n.parent);if(b)return b()}}catch(m){console.error(m);return}},none:function(n){if(n)return Array.isArray(n.props.class)?n.props.class.push("fc-none"):n.props.class=[n.props.class,"fc-none"],n},getModelField:function(n){return n.rule.modelField||n.parser.modelField||this.fc.modelFields[this.vNode.aliasMap[n.type]]||this.fc.modelFields[n.type]||this.fc.modelFields[n.originType]||"modelValue"},isFragment:function(n){return n.type==="fragment"||n.type==="template"},injectProp:function(n){var i=this,t=this.vm.setupState;t.ctxInject[n.id]||(t.ctxInject[n.id]={api:this.$handle.api,form:this.fc.create,subForm:function(d){i.$handle.addSubForm(n,d)},getSubForm:function(){return i.$handle.subForm[n.id]},options:[],children:[],preview:!1,id:n.id,field:n.field,rule:n.rule,input:n.input});var u=t.ctxInject[n.id];return Re(u,{preview:n.prop.preview,options:n.prop.options,children:n.loadChildrenPending()}),u},ctxProp:function(n,i){var t=this,u=n.ref,c=n.key,d=n.rule;this.$manager.mergeProp(n,i),n.parser.mergeProp(n,i);var p=[{ref:u,key:d.key||"".concat(c,"fc"),slot:void 0,on:{vnodeMounted:function(C){C.el.__rule__=n.rule,t.onMounted(n,C.el)},"fc.el":function(C){n.exportEl=C,C&&((C.$el||C).__rule__=n.rule)}}}];if(!i&&n.input){var h=this.getModelField(n),m={callback:function(C){t.onInput(n,C)},value:this.$handle.getFormData(n)};p.push({on:De(Ht({},"update:".concat(h),m.callback),n.prop.modelEmit?Ht({},n.prop.modelEmit,function(){return t.onEmitInput(n)}):{}),props:Ht({},h,m.value)}),n.prop.model=m}return Vr(p,n.prop),n.prop},onMounted:function(n,i){n.el=this.vm.refs[n.ref]||i,n.parser.mounted(n),this.$handle.effect(n,"mounted")},onInput:function(n,i){if(n.prop.modelEmit){this.$handle.onBaseInput(n,i);return}this.$handle.onInput(n,i)},onEmitInput:function(n){this.$handle.setValue(n,n.parser.toValue(n.modelValue,n),n.modelValue)},renderChildren:function(n,i){var t=this;if(!be.trueArray(n))return{};var u=Wa();return n.map(function(c){if(c){if(be.String(c))return u.setSlot(null,c);if(c.__fc__)return t.renderSlot(u,c.__fc__,i);c.type&&qt(function(){t.$handle.loadChildren(n,i),t.$handle.refresh()})}}),u.getSlots()},defaultRender:function(n,i){var t=n.prop;return t.component?this.vNode.makeComponent(t.component,t,i):this.vNode[n.type]?this.vNode[n.type](t,i):this.vNode[n.originType]?this.vNode[n.originType](t,i):this.vNode.make(qd(n.originType),t,i)},renderRule:function(n,i,t){var u=this;if(n){if(be.String(n))return n;var c;if(t)c=n.type;else if(c=n.is,n.type){c=Qr(n.type);var d=this.vNode.aliasMap[c];d&&(c=Qr(d))}if(c){var p=Wa();be.trueArray(n.children)&&n.children.forEach(function(m){m&&p.setSlot(m==null?void 0:m.slot,function(){return u.renderRule(m)})});var h=De({},n);return delete h.type,delete h.is,this.vNode.make(c,h,p.mergeBag(i).getSlots())}}}})}var v0=1;function Cs(o){Re(this,{$handle:o,fc:o.fc,vm:o.vm,$manager:o.$manager,vNode:new o.fc.CreateNode(o.vm),id:v0++}),Gd(this,{options:function(){return o.options},sort:function(){return o.sort}}),this.initCache(),this.initRender()}p0(Cs);m0(Cs);function g0(o){Re(o.prototype,{parseInjectEvent:function(n,i){var t=n.inject||this.options.injectEvent;return this.parseEventLst(n,i,t)},parseEventLst:function(n,i,t,u){var c=this;return Object.keys(i).forEach(function(d){var p=c.parseEvent(n,i[d],t,u);p&&(i[d]=p)}),i},parseEvent:function(n,i,t,u){if(be.Function(i)&&(t!==!1&&!be.Undef(t)||i.__inject))return this.inject(n,i,t);if(!u&&Array.isArray(i)&&i[0]&&(be.String(i[0])||be.Function(i[0])))return this.parseEventLst(n,i,t,!0);if(be.String(i)){var c=Wr(i);if(c&&i!==c)return c.__inject?this.parseEvent(n,c,t,!0):c}},parseEmit:function(n){var i=this,t={},u=n.rule,c=u.emitPrefix,d=u.field,p=u.name,h=u.inject,m=u.emit||[];if(be.trueArray(m)){var b=c||d||p;b&&m.forEach(function(C){if(C){var w;be.Object(C)&&(w=C.inject,C=C.name);var A=$u("".concat(b,"-").concat(C)),F=function(){for(var E,g,_,x=arguments.length,D=new Array(x),O=0;O<x;O++)D[O]=arguments[O];(E=i.vm).emit.apply(E,[A].concat(D)),(g=i.vm).emit.apply(g,["emit-event",A].concat(D)),(_=i.bus).$emit.apply(_,[A].concat(D))};if(F.__emit=!0,!w&&h===!1)t[C]=F;else{var v=w||h||i.options.injectEvent;t[C]=be.Undef(v)?F:i.inject(u,F,v)}}})}return n.computed.on=t,t},getInjectData:function(n,i){var t=this.vm.props,u=t.option,c=t.rule;return{$f:this.api,api:this.api,rule:c,self:n.__origin__,option:u,inject:i}},inject:function(n,i,t){if(i.__origin){if(this.watching&&!this.loading)return i;i=i.__origin}var u=this,c=function(){for(var p=u.getInjectData(n,t),h=arguments.length,m=new Array(h),b=0;b<h;b++)m[b]=arguments[b];return p.args=[].concat(m),m.unshift(p),i.apply(this,m)};return c.__origin=i,c.__json=i.__json,c}})}var zf=["hook:updated","hook:mounted"];function y0(o){Re(o.prototype,{usePage:function(){var n=this,i=this.options.page;if(i){var t=25,u=A0(this.rules);be.Object(i)&&(i.first&&(t=parseInt(i.first,10)||t),i.limit&&(u=parseInt(i.limit,10)||u)),Re(this,{first:t,limit:u,pageEnd:this.rules.length<=t}),this.bus.$on("page-end",function(){return n.vm.emit("page-end",n.api)}),this.pageLoad()}},pageLoad:function(){var n=this,i=function t(){n.pageEnd?(n.bus.$off(zf,t),n.bus.$emit("page-end")):(n.first+=n.limit,n.pageEnd=n.rules.length<=n.first,n.loadRule(),n.refresh())};this.bus.$on(zf,i)}})}function A0(o){return o.length<31?31:Math.ceil(o.length/3)}function b0(o){Re(o.prototype,{clearNextTick:function(){this.nextTick&&clearTimeout(this.nextTick),this.nextTick=null},bindNextTick:function(n){var i=this;this.clearNextTick(),this.nextTick=setTimeout(function(){n(),i.nextTick=null},10)},render:function(){return++this.loadedId,this.vm.setupState.unique>0?this.$render.render():(this.vm.setupState.unique=1,[])}})}function E0(o){Object.defineProperties(o.origin,{__fc__:Qd(jr(o),!0)})}function ep(o,a,n){var i=Xu(),t=!!a.field;Re(this,{id:i,ref:i,wrapRef:i+"fi",rule:a,origin:a.__origin__||a,name:a.name,pending:{},none:!1,watch:[],linkOn:[],root:[],ctrlRule:[],children:[],parent:null,group:a.subRule?this:null,cacheConfig:null,prop:De({},a),computed:{},payload:{},refRule:{},input:t,el:void 0,exportEl:void 0,defaultValue:t?Ur(n):void 0,field:a.field||void 0}),this.updateType(),this.updateKey(),E0(this),this.update(o,!0)}Re(ep.prototype,{getParentGroup:function(){for(var a=this.parent;a;){if(a.group)return a;a=a.parent}},loadChildrenPending:function(){var a=this,n=this.rule.children||[];return Array.isArray(n)?n:this.loadPending({key:"children",origin:n,def:[],onLoad:function(t){a.$handle&&a.$handle.loadChildren(t,a)},onUpdate:function(t,u){a.$handle&&(t===u?a.$handle.loadChildren(t,a):a.$handle.updateChildren(a,t,u))},onReload:function(t){a.$handle?a.$handle.updateChildren(a,[],t):delete a.pending.children}})},loadPending:function(a){var n=this,i=a.key,t=a.origin,u=a.def,c=a.onLoad,d=a.onReload,p=a.onUpdate;if(this.pending[i]&&this.pending[i].origin===t)return this.getPending(i,u);delete this.pending[i];var h=t;if(be.Function(t)){var m=Yt(function(){return t({rule:n.rule,api:n.$api,update:function(C){var w=C||u,A=n.getPending(i,u);n.setPending(i,t,w),p&&p(w,A)},reload:function(){var C=n.getPending(i,u);delete n.pending[i],d&&d(C),n.$api&&n.$api.sync(n.rule)}})});m&&be.Function(m.then)?(m.then(function(b){var C=b||u;n.setPending(i,t,C),c&&c(C),n.$api&&n.$api.sync(n.rule)}).catch(function(b){console.error(b)}),h=u,this.setPending(i,t,h)):(h=m||u,this.setPending(i,t,h),c&&c(h))}return h},getPending:function(a,n){return this.pending[a]&&this.pending[a].value||n},setPending:function(a,n,i){this.pending[a]={origin:n,value:Yn(i)}},effectData:function(a){return this.payload[a]||(this.payload[a]={}),this.payload[a]},clearEffectData:function(a){a===void 0?this.payload={}:delete this.payload[a]},updateKey:function(a){this.key=Xu(),a&&this.parent&&this.parent.updateKey(a)},updateType:function(){this.originType=this.rule.type,this.type=Qr(this.rule.type)},setParser:function(a){this.parser=a,a.init(this)},initProp:function(){var a=this,n=De({},this.rule);delete n.children,this.prop=Yr({},[n].concat(We(Object.keys(this.payload).map(function(i){return a.payload[i]})),[this.computed]))},initNone:function(){this.none=!(be.Undef(this.prop.display)||this.prop.display)},check:function(a){return this.vm===a.vm},unwatch:function(){this.watch.forEach(function(a){return a()}),this.watch=[],this.refRule={}},unlink:function(){this.linkOn.forEach(function(a){return a()}),this.linkOn=[]},link:function(){this.unlink(),this.$handle.appendLink(this)},watchTo:function(){this.$handle.watchCtx(this)},delete:function(){var a=void 0;this.unwatch(),this.unlink(),this.rmCtrl(),this.parent&&this.parent.children.splice(this.parent.children.indexOf(this)>>>0,1),Re(this,{deleted:!0,prop:De({},this.rule),computed:{},el:a,$handle:a,$render:a,$api:a,vm:a,vNode:a,parent:null,children:[],cacheConfig:null,none:!1})},rmCtrl:function(){this.ctrlRule.forEach(function(a){return a.__fc__&&a.__fc__.rm()}),this.ctrlRule=[]},rm:function(){var a=this,n=function(){var t=a.root.indexOf(a.origin);t>-1&&(a.root.splice(t,1),a.$handle&&a.$handle.refresh())};if(this.deleted){n();return}this.$handle.noWatch(function(){a.$handle.deferSyncValue(function(){a.rmCtrl(),n(),a.$handle.rmCtx(a),Re(a,{root:[]})},a.input)})},update:function(a,n){Re(this,{deleted:!1,$handle:a,$render:a.$render,$api:a.api,vm:a.vm,trueType:a.getType(this.originType),vNode:a.$render.vNode,updated:!1,cacheValue:this.rule.value}),!n&&this.unwatch(),this.watchTo(),this.link()}});var Vu={"==":function(a){return function(n){return n===a}},"!=":function(a){return function(n){return n!==a}},"<>":function(a){return function(n){return n!==a}},">":function(a){return function(n){return n>a}},">=":function(a){return function(n){return n>=a}},"<":function(a){return function(n){return n<a}},"<=":function(a){return function(n){return n<=a}},in:function(a){return function(n){return a&&a.indexOf&&a.indexOf(n)>-1}},on:function(a){return function(n){return n&&n.indexOf&&n.indexOf(a)>-1}},notIn:function(a){return function(n){return!Vu.in(a)(n)}},notOn:function(a){return function(n){return!Vu.on(a)(n)}},between:function(a){return function(n){return n>a[0]&&n<a[1]}},notBetween:function(a){return function(n){return n<a[0]||n>a[1]}}};function w0(o){Re(o.prototype,{nextRefresh:function(n){var i=this,t=this.loadedId;qt(function(){t===i.loadedId&&(n?n():i.refresh())})},parseRule:function(n){var i=this,t=Hf(n);return Object.defineProperties(t,{__origin__:Qd(n,!0)}),C0(t),this.appendValue(t),[t,t.prefix,t.suffix].forEach(function(u){u&&i.loadFn(u,t)}),this.loadCtrl(t),t.update&&(t.update=Wr(t.update)),t},loadFn:function(n,i){var t=this;["on","props","deep"].forEach(function(u){n[u]&&t.parseInjectEvent(i,n[u])})},loadCtrl:function(n){n.control&&n.control.forEach(function(i){i.handle&&(i.handle=Wr(i.handle))})},syncProp:function(n){var i=this,t=n.rule;be.trueArray(t.sync)&&Vr([{on:t.sync.reduce(function(u,c){return u["update:".concat(c)]=function(d){t.props[c]=d,i.vm.emit("sync",c,d,t,i.fapi)},u},{})}],n.computed)},loadRule:function(){var n=this;this.cycleLoad=!1,this.loading=!0,this.pageEnd&&this.bus.$emit("load-start"),this.deferSyncValue(function(){if(n._loadRule(n.rules),n.loading=!1,n.cycleLoad&&n.pageEnd)return n.loadRule();n.syncForm(),n.pageEnd&&n.bus.$emit("load-end"),n.vm.setupState.renderRule()})},loadChildren:function(n,i){if(this.cycleLoad=!1,this.loading=!0,this.bus.$emit("load-start"),this._loadRule(n,i),this.loading=!1,this.cycleLoad)return this.loadRule();this.syncForm(),this.bus.$emit("load-end"),this.$render.clearCache(i)},_loadRule:function(n,i){var t=this,u=function p(h){var m=n[h-1];if(!m||!m.__fc__)return h>0?p(h-1):-1;var b=t.sort.indexOf(m.__fc__.id);return b>-1?b:p(h-1)},c=function(h,m){be.trueArray(h)&&t._loadRule(h,m)},d=n.map(function(p,h){if(!(i&&!be.Object(p))&&!(!t.pageEnd&&!i&&h>=t.first)){if(p.__fc__&&p.__fc__.root===n&&t.ctxs[p.__fc__.id])return c(p.__fc__.loadChildrenPending(),p.__fc__),p.__fc__;var m=Hf(p),b=function(){return!!(m.field&&t.fieldCtx[m.field]&&t.fieldCtx[m.field][0]!==p.__fc__)};t.ruleEffect(m,"init",{repeat:b()}),b()&&t.vm.emit("repeat-field",p,t.api);var C,w=!1,A=!!p.__fc__,F=m.value;if(A){C=p.__fc__,F=C.defaultValue;var v=!C.check(t);if(C.deleted){if(v){if(jf(C))return;C.update(t)}}else if(v){if(jf(C))return;n[h]=p=p._clone?p._clone():Es(p),C=null,w=!0}}if(C)C.originType!==C.rule.type&&(C.updateType(),t.bindParser(C)),t.appendValue(C.rule),C.parent&&C.parent!==i&&t.rmSubRuleData(C);else{var B=t.parseRule(p);C=new ep(t,B,A?F:B.value),t.bindParser(C)}t.parseEmit(C),t.syncProp(C),C.parent=i||null,C.root=n,t.setCtx(C),!w&&!A&&t.effect(C,"load"),t.effect(C,"created");var E=C.loadChildrenPending();if(C.parser.loadChildren===!1||c(E,C),!i){var g=u(h);g>-1||!h?t.sort.splice(g+1,0,C.id):t.sort.push(C.id)}var _=C.rule;return C.updated||(C.updated=!0,be.Function(_.update)&&t.bus.$once("load-end",function(){t.refreshUpdate(C,_.value,"init")}),t.effect(C,"loaded")),t.refreshControl(C)&&(t.cycleLoad=!0),C}}).filter(function(p){return!!p});i&&(i.children=d)},refreshControl:function(n){return n.input&&n.rule.control&&this.useCtrl(n)},useCtrl:function(n){var i=this,t=F0(n),u=[],c=this.api;if(!t.length)return!1;for(var d=function(w){var A=t[w],F=A.handle||(Vu[A.condition||"=="]||Vu["=="])(A.value);if(!be.trueArray(A.rule))return"continue";var v=De(De({},A),{},{valid:Yt(function(){return F(n.rule.value,c)}),ctrl:x0(n,A.rule),isHidden:be.String(A.rule[0])});if(v.valid&&v.ctrl||!v.valid&&!v.ctrl&&!v.isHidden)return"continue";u.push(v)},p=0;p<t.length;p++)var h=d(p);if(!u.length)return!1;var m=[],b=!1;return this.deferSyncValue(function(){u.reverse().forEach(function(C){var w=C.isHidden,A=C.valid,F=C.rule,v=C.prepend,B=C.append,E=C.child,g=C.ctrl,_=C.method;if(w){A?n.ctrlRule.push({__ctrl:!0,children:F,valid:A}):n.ctrlRule.splice(n.ctrlRule.indexOf(g),1),m[A?"push":"unshift"](function(){_==="disabled"?i.api.disabled(!A,F):_==="display"?i.api.display(A,F):_==="required"?(F.forEach(function(O){i.api.setEffect(O,"required",A)}),A||i.api.clearValidateState(F)):i.api.hidden(!A,F)});return}if(A){b=!0;var x={type:"fragment",native:!0,__ctrl:!0,children:F};n.ctrlRule.push(x),i.bus.$once("load-start",function(){v?c.prepend(x,v,E):B||E?c.append(x,B||n.id,E):n.root.splice(n.root.indexOf(n.origin)+1,0,x)})}else{n.ctrlRule.splice(n.ctrlRule.indexOf(g),1);var D=So(g);D&&D.rm()}})}),m.length&&qt(function(){m.forEach(function(C){return C()})}),this.vm.emit("control",n.origin,this.api),this.effect(n,"control"),b},reloadRule:function(n){return this._reloadRule(n)},_reloadRule:function(n){var i=this;n||(n=this.rules);var t=De({},this.ctxs);this.clearNextTick(),this.initData(n),this.fc.rules=n,this.deferSyncValue(function(){i.bus.$once("load-end",function(){Object.keys(t).filter(function(u){return i.ctxs[u]===void 0}).forEach(function(u){return i.rmCtx(t[u])}),i.$render.clearCacheAll()}),i.reloading=!0,i.loadRule(),i.reloading=!1,i.refresh(),i.bus.$emit("reloading",i.api)}),this.bus.$off("next-tick",this.nextReload),this.bus.$once("next-tick",this.nextReload),this.bus.$emit("update",this.api)},refresh:function(){this.vm.setupState.refresh()}})}function C0(o){var a=Xd();return Object.keys(a).forEach(function(n){Ut(o,n)||(o[n]=a[n])}),o}function F0(o){var a=o.rule.control||[];return be.Object(a)?[a]:a}function x0(o,a){for(var n=0;n<o.ctrlRule.length;n++){var i=o.ctrlRule[n];if(i.children===a)return i}}function jf(o){return!!o.rule.__ctrl}function _0(o){Re(o.prototype,{setValue:function(n,i,t,u){n.deleted||(n.rule.value=i,this.changeStatus=!0,this.nextRefresh(),this.$render.clearCache(n),this.setFormData(n,t),this.syncValue(),this.valueChange(n,i),this.vm.emit("change",n.field,i,n.origin,this.api,u||!1),this.effect(n,"value"))},onInput:function(n,i){var t;n.input&&(this.isQuote(n,t=n.parser.toValue(i,n))||this.isChange(n,i))&&this.setValue(n,t,i)},onBaseInput:function(n,i){this.setFormData(n,i),n.modelValue=i,this.nextRefresh(),this.$render.clearCache(n)},setFormData:function(n,i){n.modelValue=i;var t=n.getParentGroup();t&&(this.subRuleData[t.id]||(this.subRuleData[t.id]={}),this.subRuleData[t.id][n.field]=n.rule.value),Nn(this.formData,n.id,i)},rmSubRuleData:function(n){var i=n.getParentGroup();i&&this.subRuleData[i.id]&&delete this.subRuleData[i.id][n.field]},getFormData:function(n){return this.formData[n.id]},syncForm:function(){var n=this,i=Yn({});this.fields().reduce(function(t,u){var c=n.getCtx(u);return t[u]=gn(c.rule,"value"),t},i),this.form=i,this.syncValue()},appendValue:function(n){!n.field||!Ut(this.appendData,n.field)||(n.value=this.appendData[n.field],delete this.appendData[n.field])},addSubForm:function(n,i){this.subForm[n.id]=i},deferSyncValue:function(n,i){this.deferSyncFn||(this.deferSyncFn=n),this.deferSyncFn.sync||(this.deferSyncFn.sync=i),Yt(n),this.deferSyncFn===n&&(this.deferSyncFn=null,n.sync&&this.syncValue())},syncValue:function(){if(this.deferSyncFn)return this.deferSyncFn.sync=!0;this.vm.setupState.updateValue(De({},this.form))},isChange:function(n,i){return JSON.stringify(this.getFormData(n),Uf)!==JSON.stringify(i,Uf)},isQuote:function(n,i){return(be.Object(i)||Array.isArray(i))&&i===n.rule.value},refreshUpdate:function(n,i,t){var u=this;if(be.Function(n.rule.update)){var c=Yt(function(){return n.rule.update(i,n.origin,u.api,{origin:t||"change"})});if(c===void 0)return;n.rule.hidden=c===!0}},valueChange:function(n,i){this.refreshRule(n,i),this.bus.$emit("change-"+n.field,i)},refreshRule:function(n,i,t){this.refreshControl(n)&&(this.$render.clearCacheAll(),this.loadRule(),this.bus.$emit("update",this.api),this.refresh()),this.refreshUpdate(n,i,t)},appendLink:function(n){var i=this,t=n.rule.link;be.trueArray(t)&&t.forEach(function(u){var c=function(){return i.refreshRule(n,n.rule.value,"link")};i.bus.$on("change-"+u,c),n.linkOn.push(function(){return i.bus.$off("change-"+u,c)})})},fields:function(){return Object.keys(this.fieldCtx)}})}function Uf(o,a){return typeof a=="function"?""+a:a}var Ll={init:function(a){},toFormValue:function(a,n){return a},toValue:function(a,n){return a},mounted:function(a){},render:function(a,n){return n.$render.defaultRender(n,a)},preview:function(a,n){return this.render(a,n)},mergeProp:function(a){}},B0=["field","value","vm","template","name","config","control","inject","sync","payload","optionsTo","update","slotUpdate","computed","component","cache"];function S0(o){Re(o.prototype,{getCtx:function(n){return this.getFieldCtx(n)||this.getNameCtx(n)[0]||this.ctxs[n]},getCtxs:function(n){return this.fieldCtx[n]||this.nameCtx[n]||(this.ctxs[n]?[this.ctxs[n]]:[])},setIdCtx:function(n,i,t){var u="".concat(t,"Ctx");this[u][i]?this[u][i].push(n):this[u][i]=[n]},rmIdCtx:function(n,i,t){var u="".concat(t,"Ctx"),c=this[u][i];if(!c)return!1;var d=c.splice(c.indexOf(n)>>>0,1).length>0;return c.length||delete this[u][i],d},getFieldCtx:function(n){return(this.fieldCtx[n]||[])[0]},getNameCtx:function(n){return this.nameCtx[n]||[]},setCtx:function(n){var i=n.id,t=n.field,u=n.name,c=n.rule;this.ctxs[i]=n,u&&this.setIdCtx(n,u,"name"),n.input&&(this.setIdCtx(n,t,"field"),this.setFormData(n,n.parser.toFormValue(c.value,n)),this.isMounted&&!this.reloading&&this.vm.emit("change",n.field,c.value,n.origin,this.api))},getParser:function(n){var i=this.fc.parsers;return i[n.originType]||i[Qr(n.type)]||i[n.trueType]||Ll},bindParser:function(n){n.setParser(this.getParser(n))},getType:function(n){var i=this.fc.CreateNode.aliasMap,t=i[n]||i[Qr(n)]||n;return Qr(t)},noWatch:function(n){this.noWatchFn||(this.noWatchFn=n),Yt(n),this.noWatchFn===n&&(this.noWatchFn=null)},watchCtx:function(n){var i=this,t=jd();if(t.filter(function(c){return c[0]!=="_"&&c[0]!=="$"&&B0.indexOf(c)===-1}).forEach(function(c){var d=gn(n.rule,c),p=c==="children";n.refRule[c]=d,n.watch.push(fn(p?function(){return be.Function(d.value)?d.value:We(d.value||[])}:function(){return d.value},function(h,m){var b=d.value;if(!i.isBreakWatch()){if(p&&n.parser.loadChildren===!1){i.$render.clearCache(n),i.nextRefresh();return}if(i.watching=!0,c==="link"){n.link();return}else["props","on","deep"].indexOf(c)>-1?(i.parseInjectEvent(n.rule,b||{}),c==="props"&&n.input&&i.setFormData(n,n.parser.toFormValue(n.rule.value,n))):c==="emit"?i.parseEmit(n):["prefix","suffix"].indexOf(c)>-1?b&&i.loadFn(b,n.rule):c==="type"?(n.updateType(),i.bindParser(n)):p&&(be.Function(m)&&(m=n.getPending("children",[])),be.Function(b)&&(b=n.loadChildrenPending()),i.updateChildren(n,b,m));i.$render.clearCache(n),i.refresh(),i.watching=!1}},{deep:!p,sync:p}))}),n.input){var u=gn(n.rule,"value");n.watch.push(fn(function(){return u.value},function(){var c=n.parser.toFormValue(u.value,n);i.isChange(n,c)&&i.setValue(n,u.value,c,!0)})),this.bus.$once("load-end",function(){var c=n.rule.computed;c&&(yn(c)!=="object"&&(c={value:c}),Object.keys(c).forEach(function(d){n.watch.push(fn(function(){var p=c[d];if(p){var h;if(be.Function(p))h=function(){return p(i.api.form,i.api)};else{var m=n.getParentGroup();h=function(){return new Function("formulas","top","group","with(top){with(this){with(group){with(formulas){ return ".concat(p," }}}}")).call(i.api.form,i.fc.formulas,i.api.top.form,m?i.subRuleData[m.id]||{}:{})}}return Yt(h,void 0)}},function(p){Io(n.rule,d,p)},{immediate:!0}))}))})}this.watchEffect(n)},updateChildren:function(n,i,t){var u=this;this.deferSyncValue(function(){t&&t.forEach(function(c){(i||[]).indexOf(c)===-1&&c&&!be.String(c)&&c.__fc__&&c.__fc__.parent===n&&c.__fc__.root!==i&&u.rmCtx(c.__fc__)}),be.trueArray(i)&&(u.loadChildren(i,n),u.bus.$emit("update",u.api))})},rmSub:function(n){var i=this;be.trueArray(n)&&n.forEach(function(t){t&&t.__fc__&&i.rmCtx(t.__fc__)})},rmCtx:function(n){var i=this;if(!n.deleted){var t=n.id,u=n.field,c=n.input,d=n.name;li(this.ctxs,t),li(this.formData,t),li(this.subForm,t),li(this.vm.setupState.ctxInject,t);var p=n.getParentGroup();p&&this.subRuleData[p.id]&&li(this.subRuleData[p.id],u),n.group&&li(this.subRuleData,t),c&&this.rmIdCtx(n,u,"field"),d&&this.rmIdCtx(n,d,"name"),c&&!Ut(this.fieldCtx,u)&&li(this.form,u),this.deferSyncValue(function(){if(!i.reloading){if(n.parser.loadChildren!==!1){var m=n.getPending("children",n.rule.children);be.trueArray(m)&&m.forEach(function(b){return b.__fc__&&i.rmCtx(b.__fc__)})}n.root===i.rules&&i.vm.setupState.renderRule()}},c);var h=this.sort.indexOf(t);return h>-1&&this.sort.splice(h,1),this.$render.clearCache(n),n.delete(),this.effect(n,"deleted"),c&&!this.fieldCtx[u]&&this.vm.emit("remove-field",u,n.rule,this.api),n.rule.__ctrl||this.vm.emit("remove-rule",n.rule,this.api),n}}})}function D0(o){Re(o.prototype,{mounted:function(){var n=this,i=function(){n.isMounted=!0,n.lifecycle("mounted")};this.pageEnd?i():this.bus.$once("page-end",i)},lifecycle:function(n){var i=this,t=this.options[n];be.Function(t)&&Yt(function(){return t(i.api)}),this.vm.emit(n,this.api)}})}function k0(o){Re(o.prototype,{useProvider:function(){var n=this,i=this.fc.providers;Object.keys(i).forEach(function(t){var u=i[t];be.Function(u)&&(u=u(n.fc)),u._c=M0(u),n.onEffect(u),n.providers[t]=u})},onEffect:function(n){var i=this,t=[];(n._c||["*"]).forEach(function(u){var c=u==="*"?"*":i.getType(u);t.indexOf(c)>-1||(t.push(c),i.bus.$on("p:".concat(n.name,":").concat(c,":").concat(n.input?1:0),function(d,p){n[d]&&n[d].apply(n,We(p))}))}),n._used=t},watchEffect:function(n){var i=this,t={required:function(){var c,d;return(Ut(n.rule,"$required")?n.rule.$required:(c=n.rule)===null||c===void 0||(d=c.effect)===null||d===void 0?void 0:d.required)||!1}};Object.keys(n.rule.effect||{}).forEach(function(u){t[u]=function(){return n.rule.effect[u]}}),Object.keys(n.rule).forEach(function(u){u[0]==="$"&&(t[u.substr(1)]=function(){return n.rule[u]})}),Object.keys(t).forEach(function(u){n.watch.push(fn(t[u],function(c){i.effect(n,"watch",Ht({},u,c))},{deep:!0}))})},ruleEffect:function(n,i,t){this.emitEffect({rule:n,input:!!n.field,type:this.getType(n.type)},i,t)},effect:function(n,i,t){this.emitEffect({rule:n.rule,input:n.input,type:n.trueType,ctx:n,custom:t},i)},getEffect:function(n,i){if(Ut(n,"$"+i))return n["$"+i];if(Ut(n,"effect")&&Ut(n.effect,i))return n.effect[i]},emitEffect:function(n,i,t){var u=this,c=n.ctx,d=n.rule,p=n.input,h=n.type,m=n.custom;if(!(!h||["fcFragment","fragment"].indexOf(h)>-1)){var b=m||Object.keys(d).reduce(function(C,w){return w[0]==="$"&&(C[w.substr(1)]=d[w]),C},De({},d.effect||{}));Object.keys(b).forEach(function(C){var w=u.providers[C];if(!(!w||w.input&&!p)){var A;if(!w._c)A="*";else if(w._used.indexOf(h)>-1)A=h;else return;var F=De({value:b[C],getValue:function(){return u.getEffect(d,C)}},t||{});c&&(F.getProp=function(){return c.effectData(C)},F.clearProp=function(){return c.clearEffectData(C)},F.mergeProp=function(v){return Yr(F.getProp(),[v])},F.id=c.id),u.bus.$emit("p:".concat(C,":").concat(A,":").concat(w.input?1:0),i,[F,d,u.api])}})}}})}function T0(o){return o.filter(function(a,n,i){return i.indexOf(a,0)===n})}function M0(o){var a=o.components;if(Array.isArray(a)){var n=T0(a.filter(function(i){return i!=="*"}));return n.length?n:!1}else return be.String(a)?[a]:!1}function ur(o){var a=this;Gd(this,{options:function(){return o.options.value||{}},bus:function(){return o.bus}}),Re(this,{fc:o,vm:o.vm,watching:!1,loading:!1,reloading:!1,noWatchFn:null,deferSyncFn:null,isMounted:!1,formData:Yn({}),subRuleData:Yn({}),subForm:{},form:Yn({}),appendData:{},providers:{},cycleLoad:null,loadedId:1,nextTick:null,changeStatus:!1,pageEnd:!0,nextReload:function(){a.lifecycle("reload")}}),this.initData(o.rules),this.$manager=new o.manager(this),this.$render=new Cs(this),this.api=o.extendApi(d0(this),this)}Re(ur.prototype,{initData:function(a){Re(this,{ctxs:{},fieldCtx:{},nameCtx:{},sort:[],rules:a})},init:function(){this.appendData=De(De(De({},this.options.formData||{}),this.fc.vm.props.modelValue||{}),this.appendData),this.useProvider(),this.usePage(),this.loadRule(),this.$manager.__init()},isBreakWatch:function(){return this.loading||this.noWatchFn||this.reloading}});g0(ur);y0(ur);b0(ur);w0(ur);_0(ur);S0(ur);D0(ur);k0(ur);var R0="fcFragment",Ga=wt({name:R0,inheritAttrs:!1,props:["vnode"],render:function(){return this.vnode}});function O0(o){return Object.keys(o).map(function(a){var n=o[a],i=Hm(a);if(i)return[i,n.value,n.arg,n.modifiers]}).filter(function(a){return!!a})}function Yf(o,a){var n=o.directives;return n?(Array.isArray(n)||(n=[n]),Co(a,n.reduce(function(i,t){return i.concat(O0(t))},[]))):a}function N0(){var o={};function a(){}return Re(a.prototype,{make:function(i,t,u){return Yf(t,this.h(i,$f(t),u))},makeComponent:function(i,t,u){try{return Yf(t,ve(i,$f(t),u))}catch(c){return console.error(c),ve("")}},h:function(i,t,u){var c=Pu().appContext.config.isNativeTag(i);c&&delete t.formCreateInject;try{return ve(c?i:Le(i),t,u)}catch(d){return console.error(d),ve("")}},aliasMap:o}),Re(a,{aliasMap:o,alias:function(i,t){o[i]=t},use:function(i){Object.keys(i).forEach(function(t){var u=$u(t),c=Zd(t).toLocaleLowerCase(),d=i[t];[t,u,c].forEach(function(p){a.alias(t,d),a.prototype[p]=function(h,m){return this.make(d,h,m)}})})}}),a}function P0(o){var a=function(n){Wm(t,n);var i=Km(t);function t(){return Qm(this,t),i.apply(this,arguments)}return t}(tp);return Object.assign(a.prototype,o),a}function tp(o){Re(this,{$handle:o,vm:o.vm,options:{},ref:"fcForm",mergeOptionsRule:{normal:["form","row","info","submitBtn","resetBtn"]}}),this.updateKey(),this.init()}Re(tp.prototype,{__init:function(){var a=this;this.$render=this.$handle.$render,this.$r=function(){var n;return(n=a.$render).renderRule.apply(n,arguments)}},updateKey:function(){this.key=Xu()},init:function(){},update:function(){},beforeRender:function(){},form:function(){return this.vm.refs[this.ref]},getSlot:function(a){var n=function i(t){if(t){var u=t.slots[a];return u||i(t.setupState.parent)}};return n(this.vm)},mergeOptions:function(a,n){var i=this;return Vr(a.map(function(t){return i.tidyOptions(t)}),n,this.mergeOptionsRule)},updateOptions:function(a){this.options=this.mergeOptions([a],this.getDefaultOptions()),this.update()},tidyOptions:function(a){return a},tidyRule:function(a){},mergeProp:function(a){},getDefaultOptions:function(){return{}},render:function(a){}});var I0=function(a){var n={name:"loadData",_fn:[],created:function(t,u,c){this.deleted(t);var d=Pn(t.getValue()),p=[];d.forEach(function(h){if(h){var m=function b(){h.watch!==!1&&(a.bus.$off("p.loadData."+h.attr,b),a.bus.$once("p.loadData."+h.attr,b));var C=void 0;h.attr&&(C=a.loadData[h.attr]||h.default,h.copy&&(C=Ur(C))),Io(t.getProp(),h.to||"options",C),c.sync(u)};p.push(function(){return a.bus.$off("p.loadData."+h.attr,m)}),m()}}),this._fn[t.id]=p},deleted:function(t){this._fn[t.id]&&this._fn[t.id].forEach(function(u){u()}),t.clearProp()}};return n.watch=n.created,n},Hl={name:"componentValidate",load:function(a,n,i){var t=a.getValue();t?a.getProp().validate=[{validator:function(){var c=So(n);if(c){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];return i.exec.apply(i,[c.id,t===!0?"formCreateValidate":t].concat(p,[{attr:a,rule:n,api:i}]))}}}]:(a.clearProp(),i.clearValidateState([n.field]))},watch:function(){Hl.load.apply(Hl,arguments)}},L0=function(a){function n(t){return be.String(t)&&(t={action:t,to:"options"}),t}function i(t,u,c){var d=t.value;be.Function(d)&&(d=d(u,c)),d=n(d);var p=function(A){A===void 0?t.clearProp():Io(t.getProp(),d.to||"options",A),c.sync(u)};if(!d||!d.action&&!d.key){p(void 0);return}if(d.to||(d.to="options"),d.key){var h=a.$handle.options.globalData[d.key];if(!h){p(void 0);return}if(h.type==="static"){p(h.data);return}else d=De(De({},d),h)}var m=d.onError,b=function(){if(!t.getValue())return t.clearProp(),c.sync(u),!0},C=De(De({headers:{}},d),{},{onSuccess:function(A,F){if(!b()){var v=function(g){return F?g:g.data},B=Wr(d.parse);be.Function(B)?v=B:B&&be.String(B)&&(v=function(g){return B.split(".").forEach(function(_){g&&(g=g[_])}),g}),p(v(A,u,c)),c.sync(u)}},onError:function(A){p(void 0),!b()&&(m||function(F){return bs(F.message||"fetch fail "+d.action)})(A,u,c)}});if(a.$handle.options.beforeFetch&&Yt(function(){return a.$handle.options.beforeFetch(C,{rule:u,api:c})}),be.Function(d.action)){d.action(u,c).then(function(w){C.onSuccess(w,!0)}).catch(function(w){C.onError(w)});return}Yt(function(){return a.create.fetch(C,{inject:t,rule:u,api:c})})}return{name:"fetch",loaded:function(){i.apply(void 0,arguments)},watch:function(){i.apply(void 0,arguments)}}},H0={fetch:L0,loadData:I0,componentValidate:Hl},$0="html",V0={name:$0,loadChildren:!1,render:function(a,n){return n.prop.props.innerHTML=a.default(),n.vNode.make(n.prop.props.tag||"div",n.prop)},renderChildren:function(a){return{default:function(){return a.filter(function(i){return be.String(i)}).join("")}}}};function z0(o,a){var n;return arguments.length===2?(n=arguments[1],a=n[o]):n=arguments[2],{id:a,prop:n}}function Xa(){return z0.apply(void 0,["name"].concat(Array.prototype.slice.call(arguments)))}function j0(o){var a=o.key||[],n=o.array||[],i=o.normal||[];Nl.push.apply(Nl,We(a)),Lu.push.apply(Lu,We(n)),Hu.push.apply(Hu,We(i)),Jd([].concat(We(a),We(n),We(i)))}var U0=1,Rn={};function np(o){var a=Ht({},Ga.name,Ga),n={},i={},t={},u=[],c=De({},H0),d=s0(),p={global:{}},h={},m=N0(),b={};j0(o.attrs||{});function C(U){var X=Rn[U];if(Array.isArray(X))return X.map(function(J){return J.api()});if(X)return X.api()}function w(U){u.push(U)}function A(){var U=Xa.apply(void 0,arguments);U.id&&U.prop&&(i[U.id]=U.prop)}function F(){var U=Xa.apply(void 0,arguments);U.id&&U.prop&&(c[U.id]=De(De({},U.prop),{},{name:U.id}))}function v(U){m.use(U)}function B(){var U=Xa.apply(void 0,arguments);if(!U.id||!U.prop)return Ll;var X=Qr(U.id),J=U.prop,ee=J.merge===!0?n[X]:void 0;n[X]=u0(J,ee||Ll),d[X]=Zt(X),J.maker&&Re(d,J.maker)}function E(U,X){var J;if(be.String(U)){if(J=U,X===void 0)return a[J]}else J=U.displayName||U.name,X=U;if(!(!J||!X)){var ee=Qr(J);a[J]=X,a[ee]=X,delete m.aliasMap[J],delete m.aliasMap[ee],delete n[J],delete n[ee],X.formCreateParser&&B(J,X.formCreateParser)}}function g(){return e0(z,a,i)}function _(U,X){var J=g();return Nm({data:function(){return Yn({rule:U,option:X})},render:function(){return No(J,De({ref:"fc"},this.$data))}})}function x(){return Ga}function D(U,X){return be.Function(U.install)?U.install(O,X):be.Function(U)&&U(O,X),this}function O(U,X){var J=_(U,X||{});u.forEach(function(de){Yt(function(){return de(O,J)})});var ee=document.createElement("div");((X==null?void 0:X.el)||document.body).appendChild(ee);var ae=J.mount(ee);return ae.$refs.fc.fapi}function L(U){var X=De({},o);return U?X.inherit={components:a,parsers:n,directives:i,modelFields:t,providers:c,useApps:u,maker:d,formulas:b,loadData:h}:delete X.inherit,np(X)}function P(U,X){t[U]=X}function R(U,X){b[U]=X}function T(U){Object.keys(Rn).forEach(function(X){var J=Array.isArray(Rn[X])?Rn[X]:[Rn[X]];J.forEach(function(ee){ee.bus.$emit("p.loadData."+U)})})}function $(U,X){h[U]=X,T(U)}function I(U){delete h[U],T(U)}function z(U){var X=this;Re(this,{id:U0++,create:O,vm:U,manager:P0(o.manager),parsers:n,providers:c,modelFields:t,formulas:b,rules:U.props.rule,name:U.props.name||Xu(),inFor:U.props.inFor,prop:{components:a,directives:i},loadData:h,CreateNode:m,bus:new Md,unwatch:null,options:Hi({}),extendApi:o.extendApi||function(J){return J}}),qt(function(){fn(X.options,function(){X.$handle.$manager.updateOptions(X.options.value),X.api().refresh()},{deep:!0})}),Re(U.appContext.components,a),Re(U.appContext.directives,i),this.$handle=new ur(this),this.name&&(this.inFor?(Rn[this.name]||(Rn[this.name]=[]),Rn[this.name].push(this)):Rn[this.name]=this)}Re(z.prototype,{init:function(){var X=this;this.isSub()&&(this.unwatch=fn(function(){return X.vm.setupState.parent.setupState.fc.options.value},function(){X.initOptions(),X.$handle.api.refresh()},{deep:!0})),this.initOptions(),this.$handle.init()},isSub:function(){return this.vm.setupState.parent&&this.vm.props.extendOption},initOptions:function(){this.options.value={};var X=De({formData:{},submitBtn:{},resetBtn:{},globalEvent:{},globalData:{}},Ur(p));this.isSub()&&(X=this.mergeOptions(X,this.vm.setupState.parent.setupState.fc.options.value||{},!0)),X=this.mergeOptions(X,this.vm.props.option),this.updateOptions(X)},mergeOptions:function(X,J,ee){return J=Ur(J),ee&&["page","onSubmit","mounted","reload","formData","el"].forEach(function(ae){delete J[ae]}),J.global&&(X.global=o0(X.global,J.global),delete J.global),this.$handle.$manager.mergeOptions([J],X),X},updateOptions:function(X){this.options.value=this.mergeOptions(this.options.value,X),this.$handle.$manager.updateOptions(this.options.value)},api:function(){return this.$handle.api},render:function(){return this.$handle.render()},mounted:function(){this.$handle.mounted()},unmount:function(){if(this.name)if(this.inFor){var X=Rn[this.name].indexOf(this);Rn[this.name].splice(X,1)}else delete Rn[this.name];this.unwatch&&this.unwatch(),this.$handle.reloadRule([])},updated:function(){var X=this;this.$handle.bindNextTick(function(){return X.bus.$emit("next-tick",X.$handle.api)})}});function M(U){Re(U,{version:o.version,ui:o.ui,setData:$,removeData:I,maker:d,component:E,directive:A,setModelField:P,setFormula:R,register:F,$vnode:x,parser:B,use:D,factory:L,componentAlias:v,copyRule:Es,copyRules:Wd,fetch:Kd,$form:g,parseFn:Wr,parseJson:i0,toJson:Yd,useApp:w,getApi:C})}function Q(U){Re(U,{create:O,install:function(J,ee){if(p=De(De({},p),ee||{}),J._installedFormCreate!==!0){J._installedFormCreate=!0;var ae=function(se){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O(se,ye)};M(ae),J.config.globalProperties.$formCreate=ae,J.component("FormCreate",g()),u.forEach(function(de){Yt(function(){return de(U,J)})})}}})}if(M(O),Q(O),m.use({fragment:"fcFragment"}),o.install&&O.use(o),w(function(U,X){X.mixin({props:["formCreateInject"]})}),B(V0),o.inherit){var Y=o.inherit;Y.components&&Re(a,Y.components),Y.parsers&&Re(n,Y.parsers),Y.directives&&Re(i,Y.directives),Y.modelFields&&Re(t,Y.modelFields),Y.providers&&Re(c,Y.providers),Y.useApps&&Re(u,Y.useApps),Y.maker&&Re(d,Y.maker),Y.loadData&&Re(h,Y.loadData),Y.formulas&&Re(b,Y.formulas)}return O}var Qf={date:"YYYY-MM-DD",month:"YYYY-MM",datetime:"YYYY-MM-DD HH:mm:ss",timerange:"HH:mm:ss",daterange:"YYYY-MM-DD",monthrange:"YYYY-MM",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY"},Wf="datePicker",Y0={name:Wf,maker:function(){return["year","month","date","dates","week","datetime","datetimeRange","dateRange","monthRange"].reduce(function(o,a){return o[a]=Zt(Wf,{type:a.toLowerCase()}),o},{})}(),mergeProp:function(a){var n=a.prop.props;n.valueFormat||(n.valueFormat=Qf[n.type]||Qf.date)}},Ja="hidden",Q0={name:Ja,maker:Ht({},Ja,function(o,a){return Zt(Ja)("",o,a)}),render:function(){return[]}},Ka="input",W0={name:Ka,maker:function(){var o=["password","url","email","text","textarea"].reduce(function(a,n){return a[n]=Zt(Ka,{type:n}),a},{});return o.idate=Zt(Ka,{type:"date"}),o}(),mergeProp:function(a){var n=a.prop.props;n&&n.autosize&&n.autosize.minRows&&(n.rows=n.autosize.minRows||2)}},Gf="slider",G0={name:Gf,maker:{sliderRange:Zt(Gf,{range:!0})},toFormValue:function(a,n){var i=Array.isArray(a),t=n.prop.props,u=t.min||0,c;return t.range===!0?c=i?a:[u,parseFloat(a)||u]:c=i?parseFloat(a[0])||u:parseFloat(a),c}},qa="timePicker",X0={name:qa,maker:{time:Zt(qa,function(o){return o.props.isRange=!1}),timeRange:Zt(qa,function(o){return o.props.isRange=!0})},mergeProp:function(a){var n=a.prop.props;n.valueFormat||(n.valueFormat="HH:mm:ss")}},J0={name:"FcRow",render:function(a,n){return n.vNode.col({props:{span:24}},{default:function(){return[n.vNode.row(n.prop,a)]}})}},K0="select",q0={name:K0,toFormValue:function(a,n){return n.prop.props.multiple&&!Array.isArray(a)?Pn(a):a}},Z0=[Y0,Q0,W0,G0,X0,J0,q0],Et="el",eg={button:Et+"-button",icon:Et+"-icon",slider:Et+"-slider",rate:Et+"-rate",upload:"fc-upload",cascader:Et+"-cascader",popover:Et+"-popover",tooltip:Et+"-tooltip",colorPicker:Et+"-colorPicker",timePicker:Et+"-time-picker",timeSelect:Et+"-time-select",datePicker:Et+"-date-picker",switch:Et+"-switch",select:"fc-select",checkbox:"fc-checkbox",radio:"fc-radio",inputNumber:Et+"-input-number",number:Et+"-input-number",input:Et+"-input",formItem:Et+"-form-item",form:Et+"-form",frame:"fc-frame",col:Et+"-col",row:Et+"-row",tree:"fc-tree",autoComplete:Et+"-autocomplete",auto:Et+"-autocomplete",group:"fc-group",object:"fc-sub-form",subForm:"fc-sub-form"};function tg(){return{form:{inline:!1,labelPosition:"right",labelWidth:"125px",disabled:!1,size:void 0},row:{show:!0,gutter:0},submitBtn:{type:"primary",loading:!1,disabled:!1,innerText:"提交",show:!0,col:void 0,click:void 0},resetBtn:{type:"default",loading:!1,disabled:!1,innerText:"重置",show:!1,col:void 0,click:void 0}}}function ng(o){return o.type==="tooltip"}function Xf(o,a){if(Ut(o,a)&&be.String(o[a])){var n;o[a]=(n={},Ht(n,a,o[a]),Ht(n,"show",!0),n)}}function gr(o){return o===!1}function rg(o,a){Ut(o,a)&&!be.Object(o[a])&&(o[a]={show:!!o[a]})}function Za(o){var a=De({},o);return delete a.children,a}var ig={validate:function(){var a=this.form();return a?a.validate():new Promise(function(n){return n()})},validateField:function(a){var n=this;return new Promise(function(i,t){var u=n.form();u?u.validateField(a,function(c){c?t(c):i(null)}):i()})},clearValidateState:function(a){var n=this.vm.refs[a.wrapRef];n&&n.clearValidate()},tidyOptions:function(a){return["submitBtn","resetBtn","row","info","wrap","col","title"].forEach(function(n){rg(a,n)}),a},tidyRule:function(a){var n=a.prop;return Xf(n,"title"),Xf(n,"info"),n},mergeProp:function(a){a.prop=Vr([{info:this.options.info||{},wrap:this.options.wrap||{},col:this.options.col||{},title:this.options.title||{}},a.prop],{info:{trigger:"hover",placement:"top-start",icon:!0},title:{},col:{span:24},wrap:{}},{normal:["title","info","col","wrap"]})},getDefaultOptions:function(){return tg()},update:function(){var a=this.options.form;this.rule={props:De({},a),on:{submit:function(i){i.preventDefault()}},class:[a.className,a.class,"form-create",this.options.preview?"is-preview":""],style:a.style,type:"form"}},beforeRender:function(){var a=this.key,n=this.ref,i=this.$handle;Re(this.rule,{key:a,ref:n}),Re(this.rule.props,{model:i.formData})},render:function(a){var n=this;return a.slotLen()&&!this.options.preview&&a.setSlot(void 0,function(){return n.makeFormBtn()}),this.$r(this.rule,gr(this.options.row.show)?a.getSlots():[this.makeRow(a)])},makeWrap:function(a,n){var i=this,t=a.prop,u="".concat(this.key).concat(a.key),c=t.col,d=this.isTitle(t),p=!c.labelWidth&&!d?0:c.labelWidth,h=this.rule.props,m=h.inline,b=h.col,C=gr(t.wrap.show)?n:this.$r(Vr([t.wrap,{props:De(De({labelWidth:p===void 0?p:Zd(p),label:d?t.title.title:void 0},Za(t.wrap||{})),{},{prop:a.id,rules:t.validate}),class:t.className,key:"".concat(u,"fi"),ref:a.wrapRef,type:"formItem"}]),De({default:function(){return n}},d?{label:function(){return i.makeInfo(t,u,a)}}:{}));return m===!0||gr(b)||gr(c.show)?C:this.makeCol(t,u,[C])},isTitle:function(a){if(this.options.form.title===!1)return!1;var n=a.title;return!(!n.title&&!n.native||gr(n.show))},makeInfo:function(a,n,i){var t=this,u=De({},a.title),c=De({},a.info),d=ng(c),p=this.options.form,h=this.getSlot("title"),m=[h?h({title:u.title||"",rule:i.rule,options:this.options}):(u.title||"")+(p.labelSuffix||p["label-suffix"]||"")];if(!gr(c.show)&&(c.info||c.native)&&!gr(c.icon)){var b={type:c.type||"popover",props:Za(c),key:"".concat(n,"pop")};delete b.props.icon,delete b.props.show,delete b.props.info,delete b.props.align,delete b.props.native;var C="content";c.info&&!Ut(b.props,C)&&(b.props[C]=c.info),m[c.align!=="left"?"unshift":"push"](this.$r(Vr([c,b]),Ht({},u.slot||(d?"default":"reference"),function(){return t.$r({type:"ElIcon",style:"top:2px",key:"".concat(n,"i")},{default:function(){return t.$r({type:c.icon===!0?"icon-warning":c.icon})}},!0)})))}var w=Vr([u,{props:Za(u),key:"".concat(n,"tit"),type:u.type||"span"}]);return delete w.props.show,delete w.props.title,delete w.props.native,this.$r(w,m)},makeCol:function(a,n,i){var t=a.col;return this.$r({class:t.class,type:"col",props:t||{span:24},key:"".concat(n,"col")},i)},makeRow:function(a){var n=this.options.row||{};return this.$r({type:"row",props:n,class:n.class,key:"".concat(this.key,"row")},a)},makeFormBtn:function(){var a=[];if(gr(this.options.submitBtn.show)||a.push(this.makeSubmitBtn()),gr(this.options.resetBtn.show)||a.push(this.makeResetBtn()),!!a.length){var n=this.$r({type:"formItem",key:"".concat(this.key,"fb")},a);return this.rule.props.inline===!0?n:this.$r({type:"col",props:{span:24},key:"".concat(this.key,"fc")},[n])}},makeResetBtn:function(){var a=this,n=De({},this.options.resetBtn),i=n.innerText;return delete n.innerText,delete n.click,delete n.col,delete n.show,this.$r({type:"button",props:n,style:{width:n.width},on:{click:function(){var u=a.$handle.api;a.options.resetBtn.click?a.options.resetBtn.click(u):u.resetFields()}},key:"".concat(this.key,"b2")},[i])},makeSubmitBtn:function(){var a=this,n=De({},this.options.submitBtn),i=n.innerText;return delete n.innerText,delete n.click,delete n.col,delete n.show,this.$r({type:"button",props:n,style:{width:n.width},on:{click:function(){var u=a.$handle.api;a.options.submitBtn.click?a.options.submitBtn.click(u):u.submit().catch(function(){})}},key:"".concat(this.key,"b1")},[i])}},di={};og(di);ug(di);ag(di);lg(di);sg(di);function og(o){["group","tree","switch","upload","autoComplete","checkbox","cascader","colorPicker","datePicker","frame","inputNumber","radio","rate"].forEach(function(a){o[a]=Zt(a)}),o.auto=o.autoComplete,o.number=o.inputNumber,o.color=o.colorPicker}function ug(o){var a="select",n="multiple";o.selectMultiple=Zt(a,Ht({},n,!0)),o.selectOne=Zt(a,Ht({},n,!1))}function ag(o){var a="tree",n={treeSelected:"selected",treeChecked:"checked"};Object.keys(n).reduce(function(i,t){return i[t]=Zt(a,{type:n[t]}),i},o)}function lg(o){var a="upload",n={image:["image",0],file:["file",0],uploadFileOne:["file",1],uploadImageOne:["image",1]};Object.keys(n).reduce(function(i,t){return i[t]=Zt(a,function(u){return u.props({uploadType:n[t][0],maxLength:n[t][1]})}),i},o),o.uploadImage=o.image,o.uploadFile=o.file}function sg(o){var a={frameInputs:["input",0],frameFiles:["file",0],frameImages:["image",0],frameInputOne:["input",1],frameFileOne:["file",1],frameImageOne:["image",1]};return Object.keys(a).reduce(function(n,i){return n[i]=Zt("frame",function(t){return t.props({type:a[i][0],maxLength:a[i][1]})}),n},o),o.frameInput=o.frameInputs,o.frameFile=o.frameFiles,o.frameImage=o.frameImages,o}var cg=".form-create .form-create .el-form-item{margin-bottom:22px}.form-create{width:100%}.form-create .fc-none,.form-create.is-preview .fc-clock{display:none!important}";Gu(cg);function Jf(o,a){return be.Boolean(o)?o={show:o}:!be.Undef(o)&&!be.Object(o)&&(o={show:a}),o}function fg(o,a){return Re(o,{formEl:function(){return a.$manager.form()},wrapEl:function(i){var t=a.getFieldCtx(i);if(t)return a.vm.refs[t.wrapRef]},validate:function(i){return new Promise(function(t,u){var c=o.children,d=[a.$manager.validate()];c.forEach(function(p){d.push(p.validate())}),Promise.all(d).then(function(){t(!0),i&&i(!0)}).catch(function(p){u(p),i&&i(p),a.vm.emit("validate-fail",p,{api:o})})})},validateField:function(i,t){return new Promise(function(u,c){var d=a.getFieldCtx(i);if(d){var p=a.subForm[d.id],h=[a.$manager.validateField(d.id)];Pn(p).forEach(function(m){h.push(m.validate())}),Promise.all(h).then(function(){u(null),t&&t(null)}).catch(function(m){c(m),t&&t(m),a.vm.emit("validate-field-fail",m,{field:i,api:o})})}})},clearValidateState:function(i){var t=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;o.helper.tidyFields(i).forEach(function(c){u&&t.clearSubValidateState(c),a.getCtxs(c).forEach(function(d){a.$manager.clearValidateState(d)})})},clearSubValidateState:function(i){o.helper.tidyFields(i).forEach(function(t){a.getCtxs(t).forEach(function(u){var c=a.subForm[u.id];c&&(Array.isArray(c)?c.forEach(function(d){d.clearValidateState()}):c&&c.clearValidateState())})})},btn:{loading:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.submitBtnProps({loading:!!i})},disabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.submitBtnProps({disabled:!!i})},show:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.submitBtnProps({show:!!i})}},resetBtn:{loading:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.resetBtnProps({loading:!!i})},disabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.resetBtnProps({disabled:!!i})},show:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;o.resetBtnProps({show:!!i})}},submitBtnProps:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Jf(a.options.submitBtn,!0);Re(t,i),a.options.submitBtn=t,o.refreshOptions()},resetBtnProps:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Jf(a.options.resetBtn,!1);Re(t,i),a.options.resetBtn=t,o.refreshOptions()},submit:function(i,t){return new Promise(function(u,c){o.validate().then(function(){var d=o.formData();be.Function(i)&&Yt(function(){return i(d,o)}),be.Function(a.options.onSubmit)&&Yt(function(){return a.options.onSubmit(d,o)}),a.vm.emit("submit",d,o),u(d)}).catch(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];be.Function(t)&&Yt(function(){return t.apply(void 0,[o].concat(p))}),c.apply(void 0,p)})})}}),o}var $l={name:"required",load:function(a,n,i){var t=dg(a.getValue());if(t.required===!1)a.clearProp();else{var u=De({required:!0,validator:function(p,h,m){be.empty(h)?m(u.message):m()}},t);if(!u.message){var c=n.title||"";u.message=((yn(c)==="object"?c.title:c)||"")+"不能为空"}a.getProp().validate=[u]}i.sync(n)},watch:function(){$l.load.apply($l,arguments)}};function dg(o){return be.Boolean(o)?{required:o}:be.String(o)?{message:o}:be.Undef(o)?{required:!1}:be.Function(o)?{validator:o}:be.Object(o)?o:{}}function pg(o){o.componentAlias(eg),qv.forEach(function(a){o.component(a.name,a)}),o.register($l),Z0.forEach(function(a){o.parser(a)}),Object.keys(di).forEach(function(a){o.maker[a]=di[a]}),typeof window!="undefined"&&window.ElementPlus&&o.useApp(function(a,n){n.use(window.ElementPlus)})}function hg(){return np({ui:"element-ui",version:"3.1.29",manager:ig,extendApi:fg,install:pg,attrs:{normal:["col","wrap"],array:["className"],key:["title","info"]}})}var Ju=hg();typeof window!="undefined"&&(window.formCreate=Ju);Ju.maker;/*!
 * form-create 可视化表单设计器
 * @form-create/designer v3.1.5
 * (c) 2021-2024 xaboy
 * Github https://github.com/xaboy/form-create-designer
 * Released under the MIT License.
 */(function(){try{if(typeof document!="undefined"){var o=document.createElement("style");o.appendChild(document.createTextNode('._fc-designer{cursor:default;height:100%;min-height:500px;overflow:hidden;position:relative}._fc-designer>.el-main{bottom:0;left:0;padding:0;position:absolute;right:0;top:0}._fc-m .form-create ._fc-l-item{background:#2e73ff;height:10px;overflow:hidden;transition:all .3s ease;width:100%}._fc-l,._fc-m,._fc-r{border-top:1px solid #ececec;box-sizing:border-box}._fc-l-group{padding:0 12px}._fc-l-title{font-size:14px;font-weight:600;margin:18px 0 5px}._fc-l-item{background:#fff;color:#000;cursor:pointer;display:inline-block;height:70px;line-height:1;min-width:70px;text-align:center;transition:all .2s ease;width:33.33%}._fc-l-item i{display:inline-block;font-size:21px}._fc-l-item ._fc-l-name{font-size:12px}._fc-l-item ._fc-l-icon{padding:10px 5px 12px}._fc-l-item:hover{background:#2e73ff;color:#fff}._fc-m-tools{align-items:center;border:1px solid #ececec;border-top:0;display:flex;height:40px;justify-content:flex-end}._fc-m-tools button.el-button{align-items:center;display:flex;padding:5px 14px}._fc-m-tools .fc-icon{font-size:14px;margin-right:2px}._fc-r .el-tabs__nav-wrap:after{background-color:#ececec;height:1px}._fc-r ._fc-r-tabs{border-bottom:1px solid #ececec;display:flex;padding:0}._fc-r ._fc-r-tab{box-sizing:border-box;color:#303133;display:inline-block;flex:1;font-size:14px;font-weight:600;height:40px;line-height:40px;list-style:none;position:relative;text-align:center}._fc-r ._fc-r-tab.active{border-bottom:2px solid #409eff;color:#409eff}.drag-box{min-height:60px;width:100%}._fc-m-drag{box-sizing:border-box;overflow:auto;padding:2px}._fc-m-drag,.draggable-drag{background:#fff;height:100%;position:relative}._fc-m-drag>form,._fc-m-drag>form>.el-row{height:100%}.drag-tool{word-wrap:break-word;box-sizing:border-box;display:flex;min-height:20px;outline:1px dashed #2e73ff;overflow:hidden;padding:2px;position:relative;word-break:break-all}.drag-tool .drag-tool{margin:5px}.drag-tool+.drag-tool{margin-top:5px}.drag-tool.active{outline:2px solid #2e73ff}.drag-tool.active>div>.drag-btn{display:flex}.drag-tool .drag-btn{display:none}.drag-r{bottom:2px;right:2px}.drag-l,.drag-r{position:absolute;z-index:2}.drag-l{left:0;top:0}.drag-btn{background-color:#2e73ff;color:#fff;cursor:pointer;float:left;height:18px;justify-content:center;line-height:20px;padding-bottom:1px;text-align:center;width:18px}.drag-btn+.drag-btn{margin-left:2px}.drag-btn-danger{background-color:#ff2e2e}.drag-btn i{font-size:13px}.drag-mask{bottom:0;left:0;position:absolute;right:0;top:0;z-index:1}.CodeMirror{color:#000;direction:ltr;font-family:monospace;height:300px}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{background-color:#f7f7f7;border-right:1px solid #ddd;white-space:nowrap}.CodeMirror-linenumber{color:#999;min-width:20px;padding:0 3px 0 5px;text-align:right;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{background:#7e7;border:0!important;width:auto}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{bottom:0;left:0;overflow:hidden;position:absolute;right:0;top:-50px}.CodeMirror-ruler{border-left:1px solid #ccc;bottom:0;position:absolute;top:0}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{background:#fff;overflow:hidden;position:relative}.CodeMirror-scroll{height:100%;margin-bottom:-50px;margin-right:-50px;outline:none;overflow:scroll!important;padding-bottom:50px;position:relative;z-index:0}.CodeMirror-sizer{border-right:50px solid transparent;position:relative}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{display:none;outline:none;position:absolute;z-index:5}.CodeMirror-vscrollbar{overflow-x:hidden;overflow-y:scroll;right:0;top:0}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-x:scroll;overflow-y:hidden}.CodeMirror-scrollbar-filler{bottom:0;right:0}.CodeMirror-gutter-filler{bottom:0;left:0}.CodeMirror-gutters{left:0;min-height:100%;position:absolute;top:0;z-index:3}.CodeMirror-gutter{display:inline-block;height:100%;margin-bottom:-50px;vertical-align:top;white-space:normal}.CodeMirror-gutter-wrapper{background:none!important;border:none!important;position:absolute;z-index:4}.CodeMirror-gutter-background{bottom:0;position:absolute;top:0;z-index:4}.CodeMirror-gutter-elt{cursor:default;position:absolute;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{word-wrap:normal;-webkit-tap-highlight-color:transparent;background:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-variant-ligatures:contextual;line-height:inherit;margin:0;overflow:visible;position:relative;white-space:pre;z-index:2}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{bottom:0;left:0;position:absolute;right:0;top:0;z-index:0}.CodeMirror-linewidget{padding:.1px;position:relative;z-index:2}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{height:0;overflow:hidden;position:absolute;visibility:hidden;width:100%}.CodeMirror-cursor{pointer-events:none;position:absolute}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{position:relative;visibility:hidden;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}._fc_struct{width:100%}._fc_struct .CodeMirror{height:450px}._fc_struct .CodeMirror-line{font-size:13px!important;line-height:16px!important}.CodeMirror-lint-tooltip{z-index:1!important}._fc_struct .el-dialog__body{padding:0 20px}._fc_err{color:red;float:left;text-align:left;width:65%}._fc_fetch .el-form-item__label{display:inline-block;float:left;padding-right:5px;text-align:right}._fc_fetch{background-color:#bfdaf7;padding:10px}._fc-validate .form-create .el-form-item{margin-bottom:22px!important}._fc-validate .append-msg{cursor:pointer}._fc-validate .el-input-group__append{padding:0 10px}._fc-required{align-items:center;display:flex}._fc-required .el-input{margin-left:15px}._fc-required .el-switch{height:28px}._fc_table_opt[data-v-c0b6353c]{width:100%}@font-face{font-family:fc-icon;src:url(data:font/woff;base64,d09GRgABAAAAABa8AAsAAAAAJQQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAARAAAAGA9hU5KY21hcAAAAYgAAAE2AAADaEcfEkJnbHlmAAACwAAAEPIAABsQkdIMXGhlYWQAABO0AAAALwAAADYmk54paGhlYQAAE+QAAAAgAAAAJAfgBARobXR4AAAUBAAAABIAAACIiGIAAGxvY2EAABQYAAAARgAAAEZ5NHJIbWF4cAAAFGAAAAAdAAAAIAE2ALZuYW1lAAAUgAAAAUAAAAJnEKM8sHBvc3QAABXAAAAA+QAAAWbrmcBBeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGFhZpzAwMrAwNTJdIaBgaEfQjO+ZjBi5ACKMrAyM2AFAWmuKQwHnhe8Lmdu+N/AwMB8hwFIMjCiKGICAH8ZDVB4nOXTR04DQRSE4X/IOefMniUnQBwIBMILWyZnkVkhjmNYcY+SzCGgxsUKjkBL30j9pA7qVwN0Au22Zh1QfFBQjndXi1a9nb5WvYMXz8cYcaVN29pVRTVd67n59ln5+gJtaUd7qqqum2YjtV+j8PoJpphhjnU22HRtgUWWWGaFVbp8n2566PWZ/QwwyBDDPnHUp48x7rWTXj3t9bPeYZ623LLo+nPS/xsD5ad4/Zmtlv0IvzDaDr812gm/OtoNvz/aC3cCVaK1TzXcHVSLMjeqhzuG9sO9QwfhLqLDKDOko3Bn0XGUt9ZJuNvoNNx3dBZOADoPZwFdhFOBLqPMrq7CSUHX4cygm3B60G04R+gunCh0H84WeginDD2G84aewslDz+EM0myE00jzLcp/6rMSFN+kJ4M/AAB4nHU5DZAU1Zn93pv+mZ7p7umZ/pnZ2fnfmWHZndlhemZaliwEEBZYFEEBo8huDkPiXuTk/Fkq3Gk0xxlSKKAclkbu8KTU8y6pilVRVAhRq6g7c1bInScpEkmRi4nlRanEu3Bc7Oa+1z2zsws60/O9733ve/1ef+/77WFYBj7kTvzfzDpmM/MV5s+ZexkGFfJcChVkpBmmpUNHMxYgvdPXjHqrqTZaC1Dd0FWNK+TypXa/VRpAeRkDNY2tXH0hBnoV81a91aAjHJ3vM3GXYZ1xfOFAZuCCKMvihQshWQ5d8HElpigijAxk3CiFJ+VIRD6ZqBRisUIlgT5qYwcOiJSPTjwgw+eAIsvKDKwzij8eTG9BsiajnYqm7PSweXQhnBXlzhroo8xAIkHv70Znr/QdWZfh+psEfA54wCeAKDHDXLoUQGSAUZgEw8SajRYIIoMMgEYKsapGMZDfQMZAc4zI7YRFzxmZT6BL/tTI4IE3jSwQs8aqAbdpZIDpR/SecEb/C/eMMXPgnsQX9vRNc3mOrSI4Bo4nnCf4lh1rldauzRiuoWwjAXSvkXGqOYvs583wJx9GUywQFTNMYhQNsOhX7jt4QWfhOXExZKjuZDiuQYsOhuOwPILnOk8eIiJThE59IWp4K3oqARphptGCNpWeI19FIwifHbquVrtuyL0a2kp53edjG6xXqmuqcL1iXR9TY+jU3BXrV8wFsNz45+V3GIOt/hUbVsyt98tz4y/QR/ae+2X8LZBllqnCut6CaURViy7FLkT1NNZknK/iRgsVgFgqW/U0guPEL7g/XrFjdHTHCjTPa53/SY+tHftcNvs5v0Hn9tdardr++RP2VRN49/Id+3Ys98BdacqzbtVIJjOyat2Ye7x4+9duL80f3z5uM4zo7WkH/iNjMoPMCLOYWcmsZW5gJpl7mAeoZHxx5GabhmWCEfGqN9CyVdhlrorKRXp4PtMIonqiw5fVC3qhWWjmzEK5wBdss8zbcFND13iOh9bHBlCTWo3dajbKYDm6VadoieLoHxWTGArq75s3r885WqjXCz/5CSVF8Bqvcd9KD2B0RDUTintGjSciqOSegd/o4vRipI7l1XVqfmwonXk/ogsSL4UklieiFsluyNREmfC8JNdsSZY5VlJt/Ecjcr8Sx/U+dxddCa8u1AeNiPM9byV0LwyRwd4XEpH1UTMRWaeaczb8Ifnss8nXa7XXp9avn+J4MD1ZChAS4EU9pYivr2NxQJV4fg/PxgSJ8CDugCfzbfgjZoAZY77E/LXnoUq+xwHJlajqgyTBSdV1DWTTkacvX+g2G9QoKCsMgtQa5SrVV1/8RbDRNpqnLHlOVzkeOiUzP4RKDbtFTU3XFAy0IVRFnJZBacTLiMSPhZVI6Fg4poWcUxQme9VQkgoe1/rm1d1RSelF63hN49/nUEAOBzD7fmaoknP3zButR0K6qSdZNsBLaloUd5lmYlmiEsAYFhcCtpBQ+F0cx2IZfSlihrXQObrAOSkaDyvz+s7SRc7la+534TZx8Q4RBB2EBQL1wva+eacu5mu1/Imwkjwh6rrofswipBwX95rLzZ4eKyDyQZ5g1hKIkgNBq7wQpCJmp+WsMBmQtQ3SpjYH8uh4rUZpplZTLSft8EBdOD8DJxTQg6EE1Y8ZRHXOllqtEs4DNBXnrGKaCs4r5uSjoqqKACKhaewpirj/ReF2VVPxh61Sd7bzQGeqqbjvw7BqKN9UdVU1FZSmra66J+lUNNzxI5Pec8WYimels6yTzam5or0QDlVBREGcXrAKcPLgXTLYJpaZzZrOQTOTMfGkcxBPugdPC6ZCBPJbglEhxPNbBRIxBLL+NP4wQzmBH0+amZZz8K2LMKQFA+55ghDmH+CNiEC2XvR0+pJLHiCY0Zh+kPTVIP58GQwY1A0Ujto5NXiuXLc9fYWRPO1rdMTOV1GD+j6ky7js+0LfM2Jm8qaN9WazvvGmtzvI5M3XjlWq1crYtS92kJtHp5Ytm3p4ahlafveoPW7b49vG7dZm3J1n3XjTv1HEmjXPQ9Ysn3poavnyqdEVU1db3kx7/M8220w7Tj0IzzTIXM8wRTAWnsuDqS1CAEC+i/BCZNUhVmRwGpkGp1DAw3OVjQyCBx0Czla5NIRLeThb+qwZOBFo6k3bMPFrUePxxyPVVEwluR2RMCcU48+tDvUnUnIoglc+F+9jhXB0R4qLauCvohgMKxBmi8qDQY4NnrqZ7WFvPsXzCLGPh/p4ohwnt8TFa64RZamaOLI9UjESGZJ6XO9RWC30eIrkDH1I2/50fEAlgWGMUICL/Kv89WBYZPt+EAq9VhRkwrEPR18MCYSM4xp9dM57/i/jDzz7KTAWs4BZBPH6smBgzjaoAqtaqgle32pSz0+h1UQAVPjx0D2HhzODgxnnZLpSSXtJynBIkkLOe9Ybu15trYEfykw+9dTk5K5d+INK2jlJufFwumLJonOSsuJhUd7hbkJHBnf/fn36m79fn3GP2ugF+1m7fWaT+CWmh4GHQHbbVEHmrQbYAFg0GAQcQYulPjbXpP6R+lrfoZbQoWukuHwNr8v8FCexYXyPIPAxdCIsOfvkuCyH8eGwzGFmwv1OGHro+gle1vl9JID38TrPohNy+Jln6MgPPdBDt8O3/dBvGB3k2M80mGXMevD7YLegOyA7maYeVQTSA33Ksb48wcugtkRzKg2AnBcFMu1o0HH3ECxnEwr8ZX3C92fkSE816ZxPVpJwYdk5H00mo6+iL9DG/dl9HDfCBoPsHyg491kA/zotlXTHSVZ74GaYwJ2sZNT5v2gSTziHk1HMRZPOIfTvLFvDAXYTFyDrgmySzkxzwh6B89AkJ+wV2F5W8EDHR9+AT3u+LAdZ0YLP8GdooWddSEblUotFLciKeJAJeBgyq5M1UinDOU4hXuoc934FOc4HA4rzrtcijFYFFS3ovhhUQvwltDIY0UT3pWBEFPA73blGynKOp2AuGxR12XlXYUXeTMJUFI0E3ZeDSOCjqIGWB5EaEd1XoB+M0LO+dJH8PdEg3mxkJpjboALZyfyV5w0LpfL0F7yH3TK9/CeDdMNzjSUIwaAQgFmG3QQm8JSmBe6xRb+gvP5U4OI5Os2bTah+UyW2r0DMKxD0bkEj1aFiX48RIYuCfDH/jXU3fmHL+iWVuIrjSwZW9Rd7NZFlRSTk/zZwZwpxvBjJjhBVi/UayWgthiR97sjYhmuuHd2eybP8fCVmZLJzHknOTabKva1UKQXXPvgB4bDfXOcTOcL16FkzGeM2b920Ye1UMiVHljXXzp3HBh5c0s8SntXDPaI5V1lpxZaKimY0okCFIMMF1drtaE5p9dACKdwTv3Xp6rU33xQ1td6YiUa03t5yKnlvjK6QGoGm3NvrE1OP+g0znXdva8fLuZ+uX6QAFNr3MjEvFTC4gkVqib6+hHOYQrzFeQJvPbQzmojulKJRCVlSFKsRgj+c5phI9A07T6Dvuqc8hhqwRsNSdGZ8VJkSeKYR2AVUllBXQlUJiS6kz90g2Q2cJt1TmeZzvG/Nvm1jZunOTU1rfOcu2tSqO5dOzopyNO49kchopCdj1GAnPdEo/nGHnTbVmmXN4vai5DHFNCKQgnwlGv6Y7v/jcJSZzlcn8Q9AklEmTSUYU3NqcXYcMOkudV+IsRn4STzlbMPPC5IkOBsE6aykSHD9NhyRpEgYP+ycwaWhsOAcoQx4k5YOg8Sco+FYLIxXdPFuPncDfh6sTGWSULkNedFIgx00YlZdg2QYct/cNFaYxnifC7A38W3ZrPNYNnsbvVSs+O3v2k17VMXPNxqXmEZPWO78HCsRltu69OV2Ttm6PBqWroyGJpg62KpGHbiXfoMfK2kzgiAezHWjoNv/8lFW44ggvMVH2TfBTcZEjD+knF4YtHOV1sww+P2TJ3kM7Kb4Mx6zkMeJIhYwbsfu3fg1wCQmBVFnPkQdBvEmjcgxu0wDNM11/VBDN9sqEU9aaoPWHcVZY41ZY+j82NjEhLZ69fj4iYO9c0rJg8kSLkRDB0XxYAhdfCxZLPU8liyVI+JjIlx4UWu4WHIPDwNEZ4u9jtNbLEEA6S06R2G7vCguLvdcSWzXpjTPjTB5yD6WQWV6C3jUu5n7mX8Ayesdc6ChjhY+0xbSqaYgOzO6BRQcFOt16FinSKJa7J9eo2XPwIvTU4H+GTgPuc3MPUwvr89gshrWG7IOx7VXkuHMSrRCnKLHt5c426boye+FHiS+h3kPC00Bg3MMfY8OuWsoZQaOKns7U0Kfgp2qSXSp16GvybU4HdtCx+L4+BRd/hFvqX7OnzEF+3I20RniPto/MmNvB2khq8njdFSXdvrNxCzi6TeSlHdoGsTf8MdJJ3ecxP/p2WoCzm8A8p6utU7bY4dSpLKiUiNXIN/Hj+bzzu35fLuNRtoIHu7p67P6+n7dUyg0CoUP/B4+3mo5v7STkoKkVusYJVl97vnZbTe//Sf8rmfLm5ivMn/JPEQrxJlVOGfY3dLbM3I252eO1nQF3i7WPbPXO6lk5wa5ZpfWKs3K3OBmV2RzbFdfvReS6BfoOUXXFfdGRSdGUmDRFE2e3N2sgL7t/lTR3fdNxTCUP6FMZlhACwwZzfFm/FQ23PdQXFdonxju2wJ7gc4F4H6dJmMLaG8B3t+l46ohb6GTt8jGnZR2FQUH4M4HYEA1DBUG3Kv5sEmZ/DXf8fAtYc19fXoGctoILPHxNBXELUzH4gxYtM0sZa4Dyd/G3EPfgbST8U5SXpjpSquI9d7UjqBcu7X0XBNB5GZnGJvvCTzJLkTdTqPVZWpexkVqWyA+um9He9QNZqFg4i1mAeed30DoRhUAW509eJvzCN7uqlZIVSQrFJGfpQAwlcjPdVDVfduC4isEfeUZi5oTHVfwS3EaxeI+LJjOKW+RWiJnazTGaj7cutX5F3Roq5JQ2pcUbmOHVF1SwkGl3TCza+0SSHERzSWmi+lugR2TEX2RuBDX01iXEZqZQcQKXXF1iuyZ+cCuIZosNGiy8LVbGsRyf+WnEYcfpdt9VFJj5FOqa2fvUMNPM2izePFO9KwqvkdnvCeq7lmaDSWiNI5f+oTcRVioh4pME/a/Bp6AvuvLK16h2DlzqBvbx9R5PR+7rF+2/WPOoMtH8NE1irk7Ll/36g2FOPpRPL/BTQhsmqohgH1BNsUJAgdg3yCnha4OadzgcJeI996qqrdWnP+I5/NxPFBxPqIDaIpCd3cX/7YdhI89c9h/Z+6Q+wnNWILwZCq4ALUMGRO533kanbedp/F+56vbcGkbYLf4/J+QJ0kA5AEZTdGoL0L0rwTVdy46pKScyRY6ptFxOB03gy6SIP4LqN7XsoElAXYtFF5YB8S5w+tDZPmdrLM/J+RJNojuCrBswN0jBu7myPPPE44jZ2Rdl8+Q9r5/QZ4iWdCreZ+lU17FOSvKtiMpGBhmtn9xsz1/vr35i7/sICs1aUesV5uSYzG5jZDsLA4PcSfk2I42Twfp5u73Qx4TB12pejUzfTuvcZ1EuQra7KXK/hsj/+0RT/Wabg8zq1cutRsjCxtXLVl1YNWSqxoLRxr20pVj/aP9/aPXU9CfrVQ+X6ngH2ZTVu2OzXfUGqlcLtXwUCuV/buBVRtXDgys3LhqYO3QkiG4mPb/B0fIz8kmr14tl6i7ohEBMjxQYs77fwnOSvFerhqet4IDBLR9tk36vxOgDXL6ECdfupHn2fsCocB9LC9sdGXuSZZ9kpcu3ShQcniafCiAvtXFA4c+lSUAN3Q3+uT/BzxDuncAAHicY2BkYGAA4qmuv3vi+W2+MnCzMIDAw51rxRD0/yUsjMwxQC4HAxNIFABBdgrdAHicY2BkYGBu+N/AEMOSxMDw/z8LIwNQBAUoAQB7ogTseJxjYWBgYKE1TiKsBgAzHgDrAAAAAAAAAKgA0gEUAU4BmAJSAwYDcgO8BCYEpgUABUoF2AZABwoHTAeqB+4IMAiECOYJxAoWCtALcgvSDEIMWgyeDOgNNA2IAAB4nGNgZGBgUGJYxcDFAAJMQMwFZv8H8xkAHWAB7QAAAHichZE9bsJAEIWfwZAElChKpDRpVikoEsn8lEipUKCnoAez5ke211ovSNQ5TY6QE+QI6Whzikh52EMDRbza2W/evpkdyQDusIeH8rvnLtnDJbOSK7jAo3CV+pOwT34WrqGJnnCd+qtwAy94E26yY8YOnn/FrIV3YQ+3+BCu4AafwlXqX8I++Vu4hgf8CNep/wo3MPGuhZtoeeHA6qnTczXbqVVo0sik7niO9WITT+2pPNE2X5lUdYPOURrpVNtjm3y76DkXqciaRA15q+PYqMyatQ5dsHQu67fbkehBaBIMYKExhWOcQ2GGHeMKIQxSREV0Z/mY7gU2iFlp/3VP6LbIqR9yhS4CdM5cI7rSwnk6TY4tX+tRdXQrbsuahDSUWs1JYrLiDzzcramE1AMsi6oMfbS5ohN/UMyQ/AHYk29XeJxtT8lSwzAMzStNnJay72uhnPVRjq1OPTiRx3Fa+HvsgSO6SE96y6iaVb+1rP6vDWY4whw1Gii0WGCJY6xwglOc4RwXuMQVrnGDW9zhHg94xBOe8YJXrPGGd2zwUbU0Tt1WYq9oK95yXP11ksDDkrS1ZHbOW0XjwSWzm1PSnaJuSkmGhtwQprTIFDafnXw1FLV1UueWWNEw9R1HRVPwom2m6dHobN7QGLThhox4iXVB2Ut7jmlOUQ4tWbd3tkhH9mxyQop6GLdlw9YlKRdfGHW+MNdkc2CeXZ9jbdYUZCR8K3J9kOKbX2kpRN47PtTUy56r6ge3iFdEAAAA) format("woff")}.fc-icon{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:fc-icon!important;font-size:16px;font-style:normal}.icon-group:before{content:"\\eb77"}.icon-add-child:before{content:"\\e789"}.icon-switch:before{content:"\\e77c"}.icon-tab:before{content:"\\e77b"}.icon-button:before{content:"\\e77e"}.icon-input:before{content:"\\e77f"}.icon-checkbox:before{content:"\\e780"}.icon-radio:before{content:"\\e781"}.icon-rate:before{content:"\\e782"}.icon-number:before{content:"\\e783"}.icon-upload:before{content:"\\e784"}.icon-cascader:before{content:"\\e785"}.icon-space:before{content:"\\e786"}.icon-color:before{content:"\\e787"}.icon-span:before{content:"\\e788"}.icon-alert:before{content:"\\e78a"}.icon-row:before{content:"\\e78b"}.icon-divider:before{content:"\\e78d"}.icon-select:before{content:"\\e78e"}.icon-transfer:before{content:"\\e78f"}.icon-editor:before{content:"\\e790"}.icon-slider:before{content:"\\e791"}.icon-tree:before{content:"\\e792"}.icon-date:before{content:"\\e793"}.icon-time:before{content:"\\e794"}.icon-delete:before{content:"\\e770"}.icon-copy:before{content:"\\e771"}.icon-import:before{content:"\\e773"}.icon-add:before{content:"\\e774"}.icon-preview:before{content:"\\e776"}.icon-move:before{content:"\\e777"}')),document.head.appendChild(o)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();function Kf({t:o}){return[{type:"radio",field:"labelPosition",value:"left",title:o("form.labelPosition"),options:[{value:"right",label:"right"},{value:"left",label:"left"},{value:"top",label:"top"}]},{type:"radio",field:"size",value:"small",title:o("form.size"),options:[{value:"large",label:"large"},{value:"default",label:"default"},{value:"small",label:"small"}]},{type:"input",field:"labelWidth",value:"125px",title:o("form.labelWidth")},{type:"switch",field:"hideRequiredAsterisk",value:!1,title:o("form.hideRequiredAsterisk")},{type:"switch",field:"showMessage",value:!0,title:o("form.showMessage")},{type:"switch",field:"inlineMessage",value:!1,title:o("form.inlineMessage")},{type:"switch",field:"formCreateSubmitBtn",value:!0,title:o("form.submitBtn")},{type:"switch",field:"formCreateResetBtn",value:!1,title:o("form.resetBtn")}]}const Gr=(o,a)=>{const n=o.__vccOpts||o;for(const[i,t]of a)n[i]=t;return n},mg=wt({name:"IconRefresh"}),vg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","data-v-029747aa":""},gg=tt("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),yg=[gg];function Ag(o,a,n,i,t,u){return Je(),ht("svg",vg,yg)}const bg=Gr(mg,[["render",Ag]]);function Eo({t:o}){return[{type:"input",field:"field",value:"",title:o("form.field")},{type:"input",field:"title",value:"",title:o("form.title")},{type:"input",field:"info",value:"",title:o("form.info")},{type:"Struct",field:"_control",value:[],title:o("form.control"),props:{defaultValue:[],validate(a){return Array.isArray(a)?a.length?!a.some(({rule:n})=>!Array.isArray(n)):!0:!1}}},{type:"col",props:{span:24},children:[{type:"el-button",props:{type:"primary",size:"small"},inject:!0,on:{click({$f:a}){const n=a.activeRule;n&&(n.__fc__.updateKey(),n.value=void 0,n.__fc__.$api.sync(n))}},native:!0,children:[{type:"i",class:"fc-icon icon-delete"},o("form.clear")]},{type:"el-button",props:{type:"success",size:"small",icon:jr(bg)},inject:!0,on:{click({$f:a}){const n=a.activeRule;n&&(n.__fc__.updateKey(!0),n.__fc__.$api.sync(n))}},native:!0,children:[o("form.refresh")]}]}]}function qf(){return[{type:"validate",field:"validate",value:[]}]}function wo(o,a,n){o[a]=n}const Bt={type(o,a){return Object.prototype.toString.call(o)==="[object "+a+"]"},Undef(o){return o==null},Element(o){return typeof o=="object"&&o!==null&&o.nodeType===1&&!Bt.Object(o)},trueArray(o){return Array.isArray(o)&&o.length>0},Function(o){const a=this.getType(o);return a==="Function"||a==="AsyncFunction"},getType(o){const a=Object.prototype.toString.call(o);return/^\[object (.*)\]$/.exec(a)[1]},empty(o){return o==null||Array.isArray(o)&&Array.isArray(o)&&!o.length?!0:typeof o=="string"&&!o}};["Date","Object","String","Boolean","Array","Number"].forEach(o=>{Bt[o]=function(a){return Bt.type(a,o)}});function rp(o,a){return{}.hasOwnProperty.call(o,a)}function ip(o,a={},n){let i=!1;for(let t in a)if(Object.prototype.hasOwnProperty.call(a,t)){let u=a[t];if((i=Array.isArray(u))||Bt.Object(u)){let c=o[t]===void 0;if(i)i=!1,c&&wo(o,t,[]);else if(u._clone&&n!==void 0)if(n)u=u.getRule(),c&&wo(o,t,{});else{wo(o,t,u._clone());continue}else c&&wo(o,t,{});o[t]=ip(o[t],u,n)}else wo(o,t,u),Bt.Undef(u)||(Bt.Undef(u.__json)||(o[t].__json=u.__json),Bt.Undef(u.__origin)||(o[t].__origin=u.__origin))}return n!==void 0&&Array.isArray(o)?o.filter(t=>!t||!t.__ctrl):o}function Lr(o){return ip({},{value:o}).value}function Eg(o){const a=o.replace(/(-[a-z])/g,function(n){return n.replace("-","").toLocaleUpperCase()});return Vl(a)}function Vl(o){return o.replace(o[0],o[0].toLowerCase())}let wg=0;function St(){return"F"+Math.random().toString(36).substr(3,3)+(+`${Date.now()}${++wg}`).toString(36)}function Cg(o,a,n){return`[form-create ${o}]: ${a}`+(n?`

rule: `+JSON.stringify(n.getRule?n.getRule():n):"")}function Fg(o,a){console.error(Cg("err",o,a))}const Zf="[[FORM-CREATE-PREFIX-",ed="-FORM-CREATE-SUFFIX]]",td="$FN:",nd="$FNX:",Fu="function";function rd(o){return new Function("return "+o)()}function xg(o,a){if(o&&Bt.String(o)&&o.length>4){let n=o.trim(),i=!1;try{if(n.indexOf(ed)>0&&n.indexOf(Zf)===0)n=n.replace(ed,"").replace(Zf,""),i=!0;else if(n.indexOf(td)===0)n=n.replace(td,""),i=!0;else{if(n.indexOf(nd)===0)return n=rd("function($inject){"+n.replace(nd,"")+"}"),n.__json=o,n.__inject=!0,n;!a&&n.indexOf(Fu)===0&&n!==Fu&&(i=!0)}if(!i)return o;const t=rd(n.indexOf(Fu)===-1&&n.indexOf("(")!==0?Fu+" "+n:n);return t.__json=o,t}catch(t){Fg(`解析失败:${n}

err: ${t}`);return}}return o}const _g={name:"zh-cn",form:{field:"字段 ID",title:"字段名称",info:"提示信息",control:"联动数据",clear:"清空值",refresh:"刷新",labelPosition:"标签位置",size:"表单尺寸",labelWidth:"标签宽度",hideRequiredAsterisk:"隐藏必填字段的标签旁边的红色星号",showMessage:"显示校验错误信息",inlineMessage:"以行内形式展示校验信息",submitBtn:"是否显示表单提交按钮",resetBtn:"是否显示表单重置按钮",submit:"提交",reset:"重置"},validate:{type:"字段类型",typePlaceholder:"请选择",trigger:"触发方式",mode:"验证方式",modes:{required:"必填",pattern:"正则表达式",min:"最小值",max:"最大值",len:"长度"},message:"错误信息",auto:"自动获取",autoRequired:"请输入{title}",autoMode:"请输入正确的{title}",requiredPlaceholder:"请输入提示语"},tableOptions:{handle:"操作",add:"添加"},struct:{title:"编辑数据",submit:"确 定",cancel:"取 消",error:"输入内容格式有误"},fetch:{action:"接口",actionRequired:"请数据接口",method:"请求方式",dataType:"提交方式",data:"附带数据",headers:"header信息",parse:"解析函数",parseInfo:"解析接口数据，返回组件所需的数据结构",parseValidate:"请输入正确的解析函数"},designer:{preview:"预 览",clear:"清 空",clearConfirm:"清空",clearCancel:"取消",clearConfirmTitle:"清空后将不能恢复，确定要清空吗？",config:{component:"组件配置",form:"表单配置",rule:"基础配置",props:"属性配置",validate:"验证配置"}},menu:{main:"表单组件",aide:"辅助组件",layout:"布局组件"},props:{required:"是否必填",options:"选项数据",option:"选项",optionsType:{json:"JSON数据",fetch:"接口数据",struct:"静态数据"}},components:{group:{name:"子表单",props:{disabled:"是否禁用",syncDisabled:"是否与子表单强制同步 disabled 状态",expand:"设置默认展开几项",button:"是否显示操作按钮",sortBtn:"是否显示排序按钮",min:"设置最小添加几项",max:"设置最多添加几项",mode:"组件类型",modeOpts:{subform:"对象",group:"数组"}}},radio:{name:"单选框",props:{disabled:"是否禁用",type:"按钮形式",textColor:"按钮形式的 Radio 激活时的文本颜色",fill:"按钮形式的 Radio 激活时的填充色和边框色"}},checkbox:{name:"多选框",props:{type:"按钮类型",disabled:"是否禁用",min:"可被勾选的 checkbox 的最小数量",max:"可被勾选的 checkbox 的最大数量",textColor:"按钮形式的 Checkbox 激活时的文本颜色",fill:"按钮形式的 Checkbox 激活时的填充色和边框色"}},input:{name:"输入框",props:{type:"类型",maxlength:"最大输入长度",minlength:"最小输入长度",showWordLimit:"是否显示输入字数统计",placeholder:"输入框占位文本",clearable:"是否可清空",showPassword:"是否显示切换密码图标",disabled:"禁用",prefixIcon:"输入框头部图标",suffixIcon:"输入框尾部图标",rowInfo:'只对 type="textarea" 有效',rows:"输入框行数",autocomplete:"自动补全",readonly:"是否只读",resize:"控制是否能被用户缩放",autofocus:"自动获取焦点"}},inputNumber:{name:"计数器",props:{min:"设置计数器允许的最小值",max:"设置计数器允许的最大值",step:"计数器步长",stepStrictly:"是否只能输入 step 的倍数",disabled:"是否禁用计数器",controls:"是否使用控制按钮",controlsPosition:"控制按钮位置",placeholder:"输入框默认 placeholder"}},select:{name:"选择器",props:{multiple:"是否多选",disabled:"是否禁用",clearable:"是否可以清空选项",collapseTags:"多选时是否将选中值按文字的形式展示",multipleLimit:"多选时用户最多可以选择的项目数，为 0 则不限制",autocomplete:"autocomplete 属性",placeholder:"占位符",filterable:"是否可搜索",allowCreate:"是否允许用户创建新条目",noMatchText:"搜索条件无匹配时显示的文字",noDataText:"选项为空时显示的文字",reserveKeyword:"多选且可搜索时，是否在选中一个选项后保留当前的搜索关键词",defaultFirstOption:"在输入框按下回车，选择第一个匹配项",popperAppendToBody:"是否将弹出框插入至 body 元素",automaticDropdown:"对于不可搜索的 Select，是否在输入框获得焦点后自动弹出选项菜单"}},switch:{name:"开关",props:{disabled:"是否禁用",width:"宽度（px）",activeText:"switch 打开时的文字描述",inactiveText:"switch 关闭时的文字描述",activeValue:"switch 打开时的值",inactiveValue:"switch 关闭时的值",activeColor:"switch 打开时的背景色",inactiveColor:"switch 关闭时的背景色"}},slider:{name:"滑块",props:{min:"最小值",max:"最大值",disabled:"是否禁用",step:"步长",showInput:"是否显示输入框，仅在非范围选择时有效",showInputControls:"在显示输入框的情况下，是否显示输入框的控制按钮",showStops:"是否显示间断点",range:"是否为范围选择",vertical:"是否竖向模式",height:"Slider 高度，竖向模式时必填"}},timePicker:{name:"时间选择器",props:{pickerOptions:"当前时间日期选择器特有的选项",readonly:"完全只读",disabled:"禁用",editable:"文本框可输入",clearable:"是否显示清除按钮",placeholder:"非范围选择时的占位内容",startPlaceholder:"范围选择时开始日期的占位内容",endPlaceholder:"范围选择时开始日期的占位内容",isRange:"是否为时间范围选择",arrowControl:"是否使用箭头进行时间选择",align:"对齐方式",prefixIcon:"自定义头部图标的类名",clearIcon:"自定义清空图标的类名"}},datePicker:{name:"日期选择器",props:{pickerOptions:"当前时间日期选择器特有的选项",readonly:"完全只读",disabled:"禁用",type:"显示类型",editable:"文本框可输入",clearable:"是否显示清除按钮",placeholder:"非范围选择时的占位内容",startPlaceholder:"范围选择时开始日期的占位内容",endPlaceholder:"范围选择时结束日期的占位内容",format:"显示在输入框中的格式",align:"对齐方式",rangeSeparator:"选择范围时的分隔符",unlinkPanels:"在范围选择器里取消两个日期面板之间的联动",prefixIcon:"自定义头部图标的类名",clearIcon:"自定义清空图标的类名"}},rate:{name:"评分",props:{max:"最大分值",disabled:"是否为只读",allowHalf:"是否允许半选",voidColor:"未选中 icon 的颜色",disabledVoidColor:"只读时未选中 icon 的颜色",voidIconClass:"未选中 icon 的类名",disabledVoidIconClass:"只读时未选中 icon 的类名",showScore:"是否显示当前分数，show-score 和 show-text 不能同时为真",textColor:"辅助文字的颜色",scoreTemplate:"分数显示模板"}},colorPicker:{name:"颜色选择器",props:{disabled:"是否禁用",showAlpha:"是否支持透明度选择",colorFormat:"颜色的格式"}},row:{name:"栅格布局",props:{gutter:"栅格间隔",type:"flex布局模式",justify:"flex 布局下的水平排列方式",align:"flex 布局下的垂直排列方式"}},col:{name:"格子",props:{span:"栅格占据的列数",offset:"栅格左侧的间隔格数",push:"栅格向右移动格数",pull:"栅格向左移动格数"}},tab:{name:"标签页",props:{type:"风格类型",closable:"标签是否可关闭",tabPosition:"选项卡所在位置",stretch:"标签的宽度是否自撑开"}},"tab-pane":{name:"标签页",props:{label:"选项卡标题",disabled:"是否禁用",name:"与选项卡绑定值 value 对应的标识符，表示选项卡别名",lazy:"标签是否延迟渲染"}},"el-divider":{name:"分割线",props:{direction:"设置分割线方向",formCreateChild:"设置分割线文案",contentPosition:"设置分割线文案的位置"}},cascader:{name:"级联选择器",props:{props:"配置选项",size:"尺寸",placeholder:"输入框占位文本",disabled:"是否禁用",clearable:"是否支持清空选项",showAllLevels:"输入框中是否显示选中值的完整路径",collapseTags:"多选模式下是否折叠Tag",separator:"选项分隔符"}},upload:{name:"上传",props:{uploadType:"上传类型",action:"上传的地址(必填)",headers:"设置上传的请求头部",multiple:"是否支持多选文件",data:"上传时附带的额外参数",name:"上传的文件字段名",withCredentials:"支持发送 cookie 凭证信息",accept:"接受上传的文件类型（thumbnail-mode 模式下此参数无效）",autoUpload:"是否在选取文件后立即进行上传",disabled:"是否禁用",limit:"最大允许上传个数"}},"el-transfer":{name:"穿梭框",props:{data:"Transfer 的数据源",filterable:"是否可搜索",filterPlaceholder:"搜索框占位符",targetOrder:"右侧列表元素的排序策略",titles:"自定义列表标题",buttonTexts:"自定义按钮文案",format:"列表顶部勾选状态文案",props:"数据源的字段别名",leftDefaultChecked:"初始状态下左侧列表的已勾选项的 key 数组",rightDefaultChecked:"初始状态下右侧列表的已勾选项的 key 数组"}},tree:{name:"树形控件",props:{emptyText:"内容为空的时候展示的文本",props:"配置选项，具体看下表",renderAfterExpand:"是否在第一次展开某个树节点后才渲染其子节点",defaultExpandAll:"是否默认展开所有节点",expandOnClickNode:"是否在点击节点的时候展开或者收缩节点， 默认值为 true，如果为 false，则只有点箭头图标的时候才会展开或者收缩节点。",checkOnClickNode:"是否在点击节点的时候选中节点，默认值为 false，即只有在点击复选框时才会选中节点。",autoExpandParent:"展开子节点的时候是否自动展开父节点",checkStrictly:"在显示复选框的情况下，是否严格的遵循父子不互相关联的做法，默认为 false",accordion:"是否每次只打开一个同级树节点展开",indent:"相邻级节点间的水平缩进，单位为像素",iconClass:"自定义树节点的图标",nodeKey:"每个树节点用来作为唯一标识的属性，整棵树应该是唯一的"}},"el-alert":{name:"提示",description:"description",props:{title:"标题",type:"主题",description:"辅助性文字",closable:"是否可关闭",center:"文字是否居中",closeText:"关闭按钮自定义文本",showIcon:"是否显示图标",effect:"选择提供的主题"}},span:{name:"文字",props:{formCreateTitle:"标题",formCreateChild:"内容"}},div:{name:"间距",props:{height:"高度"}},"el-button":{name:"按钮",props:{formCreateChild:"内容",size:"尺寸",type:"类型",plain:"是否朴素按钮",round:"是否圆角按钮",circle:"是否圆形按钮",loading:"是否加载中状态",disabled:"是否禁用状态",icon:"图标类名"}},"fc-editor":{name:"富文本框",props:{disabled:"是否禁用"}}}};function en(){return{type:"Required",field:"formCreate$required",title:"是否必填"}}function ji(o,a,n){const i=[{label:o("props.optionsType.json"),value:0},{label:o("props.optionsType.fetch"),value:1}],t=[{value:0,rule:[{type:"Struct",field:"formCreate"+Lo(a).replace(".",">"),props:{defaultValue:[]}}]},{value:1,rule:[{type:"Fetch",field:"formCreateEffect>fetch",props:{to:a}}]}];return n!==!1&&(i.splice(0,0,{label:o("props.optionsType.struct"),value:2}),t.push({value:2,rule:[{type:"TableOptions",field:"formCreate"+Lo(a).replace(".",">"),props:{defaultValue:[]}}]})),{type:"radio",title:o("props.options"),field:"_optionType",value:n!==!1?2:0,options:i,props:{type:"button"},control:t}}function Lo(o){return o.replace(o[0],o[0].toLocaleUpperCase())}const Do=function(o){const a=/object ([a-zA-Z]*)/.exec(Object.prototype.toString.call(o));return a&&id[a[1].toLowerCase()]?id[a[1].toLowerCase()](o):o},id={object:function(o){var a=[];for(var n in o)!rp(o,n)||a.push(Do(n)+": "+(o[n]!=null?Do(o[n]):"null"));return`{
 `+a.join(`,
 `)+`
}`},function:function(o){o=""+o;var a=/^ *([\w]+) *\(/.exec(o);return a&&a[1]!=="function"?"function "+o:o},array:function(o){for(var a=0,n=[];a<o.length;a++)n[a]=o[a]!=null?Do(o[a]):"null";return"["+n.join(", ")+"]"},string:function(o){for(var a=o.split(""),n=0;n<a.length;n++){var i=a[n];i>=" "?i==="\\"?a[n]="\\\\":i==='"'&&(a[n]='\\"'):a[n]=i===`
`?"\\n":i==="\r"?"\\r":i==="	"?"\\t":i==="\b"?"\\b":i==="\f"?"\\f":(i=i.charCodeAt(),"\\u00"+(i>15?1:0)+i%16)}return'"'+a.join("")+'"'}},op=function(o){if(o&&typeof o=="object"){for(let a in o)if(Object.prototype.hasOwnProperty.call(o,a)){let n=o[a];(Array.isArray(n)||Bt.Object(n))&&op(n),Bt.String(n)&&(o[a]=xg(n))}}return o};function Bg(o,a,n){a=(a||"").split(".");let i=0,t=a.length;for(;o!=null&&i<t;)o=o[a[i++]];return i&&i===t&&o!==void 0?o:n}const Sg=o=>(a,n)=>Dg(a,n,Dd(o)),Dg=(o,a,n)=>Bg(n,o,"").replace(/\{(\w+)\}/g,(i,t)=>{var u;return`${(u=a==null?void 0:a[t])!=null?u:`{${t}}`}`}),kg=o=>{const a=Vi(()=>Dd(o).name),n=Vi(()=>Lo(Eg(a.value||""))),i=$m(o)?o:Hi(o);return{lang:a,name:n,locale:i,t:Sg(o)}},zl=o=>kg(Vi(()=>o.value||_g)),ut=(o,a,n)=>n.map(i=>(i.field==="formCreate$required"?i.title=o("props.required")||i.title:i.field&&i.field!=="_optionType"&&(i.title=o("components."+a+"."+i.field)||i.title),i)),Tg="单选框",el="radio",jl={icon:"icon-radio",label:Tg,name:el,rule({t:o}){const a=o("props.option");return{type:el,field:St(),title:o("components.radio.name"),info:"",effect:{fetch:""},$required:!1,props:{},options:[1,2].map(n=>({label:a+n,value:n}))}},props(o,{t:a}){return ut(a,el+".props",[en(),ji(a,"options"),{type:"switch",field:"disabled",title:"是否禁用"},{type:"switch",field:"type",title:"按钮形式",props:{activeValue:"button",inactiveValue:"default"}},{type:"input",field:"textColor",title:"按钮形式的 Radio 激活时的文本颜色"},{type:"input",field:"fill",title:"按钮形式的 Radio 激活时的填充色和边框色"}])}},Mg="多选框",tl="checkbox",Ul={icon:"icon-checkbox",label:Mg,name:tl,rule({t:o}){const a=o("props.option");return{type:tl,field:St(),title:o("components.checkbox.name"),info:"",effect:{fetch:""},$required:!1,props:{},options:[1,2].map(n=>({label:a+n,value:n}))}},props(o,{t:a}){return ut(a,tl+".props",[en(),ji(a,"options"),{type:"switch",field:"type",title:"按钮类型",props:{activeValue:"button",inactiveValue:"default"}},{type:"switch",field:"disabled",title:"是否禁用"},{type:"inputNumber",field:"min",title:"可被勾选的 checkbox 的最小数量",props:{min:0}},{type:"inputNumber",field:"max",title:"可被勾选的 checkbox 的最大数量",props:{min:0}},{type:"input",field:"textColor",title:"按钮形式的 Checkbox 激活时的文本颜色"},{type:"input",field:"fill",title:"按钮形式的 Checkbox 激活时的填充色和边框色"}])}},Rg="输入框",nl="input",Yl={icon:"icon-input",label:Rg,name:nl,rule({t:o}){return{type:nl,field:St(),title:o("components.input.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,nl+".props",[en(),{type:"select",field:"type",title:"类型",options:[{label:"text",value:"text"},{label:"textarea",value:"textarea"},{label:"number",value:"number"},{label:"password",value:"password"}]},{type:"inputNumber",field:"maxlength",title:"最大输入长度",props:{min:0}},{type:"inputNumber",field:"minlength",title:"最小输入长度",props:{min:0}},{type:"switch",field:"showWordLimit",title:"是否显示输入字数统计"},{type:"input",field:"placeholder",title:"输入框占位文本"},{type:"switch",field:"clearable",title:"是否可清空"},{type:"switch",field:"showPassword",title:"是否显示切换密码图标"},{type:"switch",field:"disabled",title:"禁用"},{type:"input",field:"prefixIcon",title:"输入框头部图标"},{type:"input",field:"suffixIcon",title:"输入框尾部图标"},{type:"inputNumber",field:"rows",info:a("components.input.props.rowsInfo"),title:"输入框行数",props:{min:0}},{type:"select",field:"autocomplete",title:"自动补全",options:[{label:"on",value:"on"},{label:"off",value:"off"}]},{type:"switch",field:"readonly",title:"是否只读"},{type:"select",field:"resize",title:"控制是否能被用户缩放",options:[{label:"none",value:"none"},{label:"both",value:"both"},{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]},{type:"switch",field:"autofocus",title:"自动获取焦点"}])}},Og="计数器",rl="inputNumber",Ql={icon:"icon-number",label:Og,name:rl,rule({t:o}){return{type:rl,field:St(),title:o("components.inputNumber.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,rl+".props",[en(),{type:"inputNumber",field:"min",title:"设置计数器允许的最小值"},{type:"inputNumber",field:"max",title:"设置计数器允许的最大值"},{type:"inputNumber",field:"step",title:"计数器步长",props:{min:0}},{type:"switch",field:"stepStrictly",title:"是否只能输入 step 的倍数"},{type:"switch",field:"disabled",title:"是否禁用计数器"},{type:"switch",field:"controls",title:"是否使用控制按钮",value:!0},{type:"select",field:"controlsPosition",title:"控制按钮位置",options:[{label:"default",value:""},{label:"right",value:"right"}]},{type:"input",field:"placeholder",title:"输入框默认 placeholder"}])}},Ng="选择器",il="select",Wl={icon:"icon-select",label:Ng,name:il,rule({t:o}){const a=o("props.option");return{type:il,field:St(),title:o("components.select.name"),info:"",effect:{fetch:""},$required:!1,props:{},options:[1,2].map(n=>({label:a+n,value:n}))}},watch:{multiple({rule:o}){o.key=St()}},props(o,{t:a}){return ut(a,il+".props",[en(),ji(a,"options"),{type:"switch",field:"multiple",title:"是否多选"},{type:"switch",field:"disabled",title:"是否禁用"},{type:"switch",field:"clearable",title:"是否可以清空选项"},{type:"switch",field:"collapseTags",title:"多选时是否将选中值按文字的形式展示"},{type:"inputNumber",field:"multipleLimit",title:"多选时用户最多可以选择的项目数，为 0 则不限制",props:{min:0}},{type:"input",field:"autocomplete",title:"autocomplete 属性"},{type:"input",field:"placeholder",title:"占位符"},{type:"switch",field:"filterable",title:"是否可搜索"},{type:"switch",field:"allowCreate",title:"是否允许用户创建新条目"},{type:"input",field:"noMatchText",title:"搜索条件无匹配时显示的文字"},{type:"switch",field:"remote",title:"其中的选项是否从服务器远程加载"},{type:"Struct",field:"remoteMethod",title:"自定义远程搜索方法"},{type:"input",field:"noDataText",title:"选项为空时显示的文字"},{type:"switch",field:"reserveKeyword",title:"多选且可搜索时，是否在选中一个选项后保留当前的搜索关键词"},{type:"switch",field:"defaultFirstOption",title:"在输入框按下回车，选择第一个匹配项"},{type:"switch",field:"popperAppendToBody",title:"是否将弹出框插入至 body 元素",value:!0},{type:"switch",field:"automaticDropdown",title:"对于不可搜索的 Select，是否在输入框获得焦点后自动弹出选项菜单"}])}},Pg="开关",ol="switch",Gl={icon:"icon-switch",label:Pg,name:ol,rule({t:o}){return{type:ol,field:St(),title:o("components.switch.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,ol+".props",[en(),{type:"switch",field:"disabled",title:"是否禁用"},{type:"inputNumber",field:"width",title:"宽度（px）",props:{min:0}},{type:"input",field:"activeText",title:"switch 打开时的文字描述"},{type:"input",field:"inactiveText",title:"switch 关闭时的文字描述"},{type:"input",field:"activeValue",title:"switch 打开时的值"},{type:"input",field:"inactiveValue",title:"switch 关闭时的值"},{type:"input",field:"activeColor",title:"switch 打开时的背景色"},{type:"input",field:"inactiveColor",title:"switch 关闭时的背景色"}])}},Ig="滑块",ul="slider",Xl={icon:"icon-slider",label:Ig,name:ul,rule({t:o}){return{type:ul,field:St(),title:o("components.slider.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,ul+".props",[en(),{type:"inputNumber",field:"min",title:"最小值",props:{min:0}},{type:"inputNumber",field:"max",title:"最大值",props:{min:0}},{type:"switch",field:"disabled",title:"是否禁用"},{type:"inputNumber",field:"step",title:"步长",props:{min:0}},{type:"switch",field:"showInput",title:"是否显示输入框，仅在非范围选择时有效"},{type:"switch",field:"showInputControls",title:"在显示输入框的情况下，是否显示输入框的控制按钮",value:!0},{type:"switch",field:"showStops",title:"是否显示间断点"},{type:"switch",field:"range",title:"是否为范围选择"},{type:"switch",field:"vertical",title:"是否竖向模式"},{type:"input",field:"height",title:"Slider 高度，竖向模式时必填"}])}},Lg="时间选择器",al="timePicker",Jl={icon:"icon-time",label:Lg,name:al,rule({t:o}){return{type:al,field:St(),title:o("components.timePicker.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,al+".props",[en(),{type:"Struct",field:"pickerOptions",title:"当前时间日期选择器特有的选项",props:{defaultValue:{}}},{type:"switch",field:"readonly",title:"完全只读"},{type:"switch",field:"disabled",title:"禁用"},{type:"switch",field:"editable",title:"文本框可输入",value:!0},{type:"switch",field:"clearable",title:"是否显示清除按钮",value:!0},{type:"input",field:"placeholder",title:"非范围选择时的占位内容"},{type:"input",field:"startPlaceholder",title:"范围选择时开始日期的占位内容"},{type:"input",field:"endPlaceholder",title:"范围选择时开始日期的占位内容"},{type:"switch",field:"isRange",title:"是否为时间范围选择"},{type:"switch",field:"arrowControl",title:"是否使用箭头进行时间选择"},{type:"select",field:"align",title:"对齐方式",options:[{label:"left",value:"left"},{label:"center",value:"center"},{label:"right",value:"right"}]},{type:"input",field:"prefixIcon",title:"自定义头部图标的类名"},{type:"input",field:"clearIcon",title:"自定义清空图标的类名"}])}},Hg="日期选择器",ll="datePicker",Kl={icon:"icon-date",label:Hg,name:ll,rule({t:o}){return{type:ll,field:St(),title:o("components.datePicker.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,ll+".props",[en(),{type:"Struct",field:"pickerOptions",title:"当前时间日期选择器特有的选项",props:{defaultValue:{}}},{type:"switch",field:"readonly",title:"完全只读"},{type:"switch",field:"disabled",title:"禁用"},{type:"select",field:"type",title:"显示类型",options:[{label:"year",value:"year"},{label:"month",value:"month"},{label:"date",value:"date"},{label:"dates",value:"dates"},{label:"week",value:"week"},{label:"datetime",value:"datetime"},{label:"datetimerange",value:"datetimerange"},{label:"daterange",value:"daterange"},{label:"monthrange",value:"monthrange"}]},{type:"switch",field:"editable",title:"文本框可输入",value:!0},{type:"switch",field:"clearable",title:"是否显示清除按钮",value:!0},{type:"input",field:"placeholder",title:"非范围选择时的占位内容"},{type:"input",field:"startPlaceholder",title:"范围选择时开始日期的占位内容"},{type:"input",field:"endPlaceholder",title:"范围选择时结束日期的占位内容"},{type:"input",field:"format",title:"显示在输入框中的格式"},{type:"select",field:"align",title:"对齐方式",options:[{label:"left",value:"left"},{label:"center",value:"center"},{label:"right",value:"right"},{label:"left",value:"left"}]},{type:"input",field:"rangeSeparator",title:"选择范围时的分隔符"},{type:"switch",field:"unlinkPanels",title:"在范围选择器里取消两个日期面板之间的联动"},{type:"input",field:"prefixIcon",title:"自定义头部图标的类名"},{type:"input",field:"clearIcon",title:"自定义清空图标的类名"}])}},$g="评分",sl="rate",ql={icon:"icon-rate",label:$g,name:sl,rule({t:o}){return{type:sl,field:St(),title:o("components.rate.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,sl+".props",[en(),{type:"inputNumber",field:"max",title:"最大分值",props:{min:0}},{type:"switch",field:"disabled",title:"是否为只读"},{type:"switch",field:"allowHalf",title:"是否允许半选"},{type:"input",field:"voidColor",title:"未选中 icon 的颜色"},{type:"input",field:"disabledVoidColor",title:"只读时未选中 icon 的颜色"},{type:"input",field:"voidIconClass",title:"未选中 icon 的类名"},{type:"input",field:"disabledVoidIconClass",title:"只读时未选中 icon 的类名"},{type:"switch",field:"showScore",title:"是否显示当前分数，show-score 和 show-text 不能同时为真"},{type:"input",field:"textColor",title:"辅助文字的颜色"},{type:"input",field:"scoreTemplate",title:"分数显示模板"}])}},Vg="颜色选择器",cl="colorPicker",Zl={icon:"icon-color",label:Vg,name:cl,rule({t:o}){return{type:cl,field:St(),title:o("components.colorPicker.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,cl+".props",[en(),{type:"switch",field:"disabled",title:"是否禁用"},{type:"switch",field:"showAlpha",title:"是否支持透明度选择"},{type:"select",field:"colorFormat",title:"颜色的格式",options:[{label:"hsl",value:"hsl"},{label:"hsv",value:"hsv"},{label:"hex",value:"hex"},{label:"rgb",value:"rgb"}]}])}},zg="栅格布局",od="row",es={icon:"icon-row",label:zg,name:od,mask:!1,rule(){return{type:"FcRow",props:{},children:[]}},children:"col",childrenLen:2,props(o,{t:a}){return ut(a,od+".props",[{type:"inputNumber",field:"gutter",title:"栅格间隔",props:{min:0}},{type:"switch",field:"type",title:"flex布局模式",props:{activeValue:"flex",inactiveValue:"default"}},{type:"select",field:"justify",title:"flex 布局下的水平排列方式",options:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}]},{type:"select",field:"align",title:"flex 布局下的垂直排列方式",options:[{label:"top",value:"top"},{label:"middle",value:"middle"},{label:"bottom",value:"bottom"}]}])}},fl="col",ud={name:fl,label:"格子",drag:!0,dragBtn:!1,inside:!0,mask:!1,rule(){return{type:fl,props:{span:12},children:[]}},props(o,{t:a}){return ut(a,fl+".props",[{type:"slider",field:"span",title:"栅格占据的列数",value:12,props:{min:0,max:24}},{type:"slider",field:"offset",title:"栅格左侧的间隔格数",props:{min:0,max:24}},{type:"slider",field:"push",title:"栅格向右移动格数",props:{min:0,max:24}},{type:"slider",field:"pull",title:"栅格向左移动格数",props:{min:0,max:24}}])}},jg="标签页",ad="tab-pane",ld={label:jg,name:ad,inside:!0,drag:!0,dragBtn:!1,mask:!1,rule({t:o}){return{type:"el-tab-pane",props:{label:o("components.el-transfer.name")},children:[]}},props(o,{t:a}){return ut(a,ad+".props",[{type:"input",field:"label",title:"选项卡标题"},{type:"switch",field:"disabled",title:"是否禁用"},{type:"input",field:"name",title:"与选项卡绑定值 value 对应的标识符，表示选项卡别名"},{type:"switch",field:"lazy",title:"标签是否延迟渲染"}])}},Ug="分割线",dl="el-divider",ts={icon:"icon-divider",label:Ug,name:dl,rule(){return{type:dl,props:{},wrap:{show:!1},native:!1,children:[""]}},props(o,{t:a}){return ut(a,dl+".props",[{type:"select",field:"direction",title:"设置分割线方向",options:[{label:"horizontal",value:"horizontal"},{label:"vertical",value:"vertical"}]},{type:"input",field:"formCreateChild",title:"设置分割线文案"},{type:"select",field:"contentPosition",title:"设置分割线文案的位置",options:[{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"}]}])}},Yg="级联选择器",xu="cascader",ns={icon:"icon-cascader",label:Yg,name:xu,rule({t:o}){const a=o("props.option");return{type:xu,field:St(),title:o("components.cascader.name"),info:"",effect:{fetch:""},$required:!1,props:{options:[1,2].map(n=>({label:a+n,value:n,children:[]}))}}},props(o,{t:a}){return ut(a,xu+".props",[en(),ji(a,"props.options",!1),{type:"Object",field:"props",title:"配置选项",props:{rule:ut(a,xu+".propsOpt",[{type:"select",field:"expandTrigger",title:"次级菜单的展开方式",options:[{label:"click",value:"click"},{label:"hover",value:"hover"}]},{type:"switch",field:"multiple",title:"是否多选"},{type:"switch",field:"checkStrictly",title:"是否严格的遵守父子节点不互相关联"},{type:"switch",field:"emitPath",title:"在选中节点改变时，是否返回由该节点所在的各级菜单的值所组成的数组，若设置 false，则只返回该节点的值",value:!0},{type:"input",field:"value",title:"指定选项的值为选项对象的某个属性值",value:"value"},{type:"input",field:"label",title:"指定选项标签为选项对象的某个属性值",value:"label"},{type:"input",field:"children",title:"指定选项的子选项为选项对象的某个属性值",value:"children"},{type:"input",field:"disabled",title:"指定选项的禁用为选项对象的某个属性值",value:"disabled"},{type:"input",field:"leaf",title:"指定选项的叶子节点的标志位为选项对象的某个属性值"}])}},{type:"select",field:"size",title:"尺寸",options:[{label:"large",value:"large"},{label:"default",value:"default"},{label:"small",value:"small"}]},{type:"input",field:"placeholder",title:"输入框占位文本"},{type:"switch",field:"disabled",title:"是否禁用"},{type:"switch",field:"clearable",title:"是否支持清空选项"},{type:"switch",field:"showAllLevels",title:"输入框中是否显示选中值的完整路径",value:!0},{type:"switch",field:"collapseTags",title:"多选模式下是否折叠Tag"},{type:"input",field:"separator",title:"选项分隔符"}])}},Qg="上传",pl="upload",rs={icon:"icon-upload",label:Qg,name:pl,rule({t:o}){return{type:pl,field:St(),title:o("components.upload.name"),info:"",$required:!1,props:{action:"",onSuccess(a,n){n.url=a.data.url}}}},props(o,{t:a}){return ut(a,pl+".props",[en(),{type:"select",field:"list-type",title:"上传类型",value:"text",options:[{label:"文字",value:"text"},{label:"图片",value:"picture"},{label:"卡片",value:"picture-card"}]},{type:"input",field:"action",title:"上传的地址(必填)"},{type:"Struct",field:"headers",title:"设置上传的请求头部",props:{defaultValue:{}}},{type:"switch",field:"multiple",title:"是否支持多选文件"},{type:"Struct",field:"data",title:"上传时附带的额外参数",props:{defaultValue:{}}},{type:"input",field:"name",title:"上传的文件字段名"},{type:"switch",field:"withCredentials",title:"支持发送 cookie 凭证信息"},{type:"input",field:"accept",title:"接受上传的文件类型（thumbnail-mode 模式下此参数无效）"},{type:"switch",field:"autoUpload",title:"是否在选取文件后立即进行上传",value:!0},{type:"switch",field:"disabled",title:"是否禁用"},{type:"inputNumber",field:"limit",title:"最大允许上传个数",props:{min:0}}])}},Wg="穿梭框",hl="el-transfer",Gg=()=>{const o=[];for(let a=1;a<=15;a++)o.push({key:a,label:`备选项 ${a}`,disabled:a%4===0});return o},is={icon:"icon-transfer",label:Wg,name:hl,rule({t:o}){return{type:hl,field:St(),title:o("components.el-transfer.name"),info:"",$required:!1,props:{data:Gg()}}},props(o,{t:a}){return ut(a,hl+".props",[{type:"Struct",field:"data",title:"Transfer 的数据源",props:{defaultValue:[]}},{type:"switch",field:"filterable",title:"是否可搜索"},{type:"input",field:"filterPlaceholder",title:"搜索框占位符"},{type:"select",field:"targetOrder",title:"右侧列表元素的排序策略",info:"若为 original，则保持与数据源相同的顺序；若为 push，则新加入的元素排在最后；若为 unshift，则新加入的元素排在最前",options:[{label:"original",value:"original"},{label:"push",value:"push"},{label:"unshift",value:"unshift"}]},{type:"Struct",field:"titles",title:"自定义列表标题",props:{defaultValue:[]}},{type:"Struct",field:"buttonTexts",title:"自定义按钮文案",props:{defaultValue:[]}},{type:"Struct",field:"format",title:"列表顶部勾选状态文案",props:{defaultValue:{}}},{type:"Struct",field:"props",title:"数据源的字段别名",props:{defaultValue:{}}},{type:"Struct",field:"leftDefaultChecked",title:"初始状态下左侧列表的已勾选项的 key 数组",props:{defaultValue:[]}},{type:"Struct",field:"rightDefaultChecked",title:"初始状态下右侧列表的已勾选项的 key 数组",props:{defaultValue:[]}}])}},Xg="树形控件",ml="tree",os={icon:"icon-tree",label:Xg,name:ml,rule({t:o}){const a=o("props.option");return{type:ml,field:St(),title:o("components.tree.name"),info:"",effect:{fetch:""},$required:!1,props:{props:{label:"label"},showCheckbox:!0,nodeKey:"id",data:[1,2].map(n=>({label:a+n,id:n,children:[]}))}}},props(o,{t:a}){return ut(a,ml+".props",[en(),ji(a,"props.data",!1),{type:"input",field:"emptyText",title:"内容为空的时候展示的文本"},{type:"Struct",field:"props",title:"配置选项，具体看下表",props:{defaultValue:{}}},{type:"switch",field:"renderAfterExpand",title:"是否在第一次展开某个树节点后才渲染其子节点",value:!0},{type:"switch",field:"defaultExpandAll",title:"是否默认展开所有节点"},{type:"switch",field:"expandOnClickNode",title:"是否在点击节点的时候展开或者收缩节点， 默认值为 true，如果为 false，则只有点箭头图标的时候才会展开或者收缩节点。",value:!0},{type:"switch",field:"checkOnClickNode",title:"是否在点击节点的时候选中节点，默认值为 false，即只有在点击复选框时才会选中节点。"},{type:"switch",field:"autoExpandParent",title:"展开子节点的时候是否自动展开父节点",value:!0},{type:"switch",field:"checkStrictly",title:"在显示复选框的情况下，是否严格的遵循父子不互相关联的做法，默认为 false"},{type:"switch",field:"accordion",title:"是否每次只打开一个同级树节点展开"},{type:"inputNumber",field:"indent",title:"相邻级节点间的水平缩进，单位为像素"},{type:"input",field:"iconClass",title:"自定义树节点的图标"},{type:"input",field:"nodeKey",title:"每个树节点用来作为唯一标识的属性，整棵树应该是唯一的"}])}},Jg="提示",vl="el-alert",us={icon:"icon-alert",label:Jg,name:vl,rule({t:o}){return{type:vl,props:{title:o("components.el-alert.name"),description:o("components.el-alert.description"),type:"success",effect:"dark"},children:[]}},props(o,{t:a}){return ut(a,vl+".props",[{type:"input",field:"title",title:"标题"},{type:"select",field:"type",title:"主题",options:[{label:"success",value:"success"},{label:"warning",value:"warning"},{label:"info",value:"info"},{label:"error",value:"error"}]},{type:"input",field:"description",title:"辅助性文字"},{type:"switch",field:"closable",title:"是否可关闭",value:!0},{type:"switch",field:"center",title:"文字是否居中",value:!0},{type:"input",field:"closeText",title:"关闭按钮自定义文本"},{type:"switch",field:"showIcon",title:"是否显示图标"},{type:"select",field:"effect",title:"选择提供的主题",options:[{label:"light",value:"light"},{label:"dark",value:"dark"}]}])}},Kg="文字",gl="span",as={icon:"icon-span",label:Kg,name:gl,rule({t:o}){return{type:gl,title:o("components.span.name"),native:!1,children:[o("components.span.name")]}},props(o,{t:a}){return ut(a,gl+".props",[{type:"input",field:"formCreateTitle",title:"title"},{type:"input",field:"formCreateChild",title:"内容",props:{type:"textarea"}}])}},qg="间距",yl="div",ls={icon:"icon-space",label:qg,name:yl,rule(){return{type:yl,wrap:{show:!1},native:!1,style:{width:"100%",height:"20px"},children:[]}},props(o,{t:a}){return[{type:"object",field:"formCreateStyle",native:!0,props:{rule:ut(a,yl+".props",[{type:"input",field:"height",title:"height"}])}}]}},Zg="标签页",sd="tab",ss={icon:"icon-tab",label:Zg,name:sd,children:"tab-pane",mask:!1,rule(){return{type:"el-tabs",style:"width:100%;",children:[]}},props(o,{t:a}){return ut(a,sd+".props",[{type:"select",field:"type",title:"风格类型",options:[{label:"card",value:"card"},{label:"border-card",value:"border-card"}]},{type:"switch",field:"closable",title:"标签是否可关闭"},{type:"select",field:"tabPosition",title:"选项卡所在位置",options:[{label:"top",value:"top"},{label:"right",value:"right"},{label:"left",value:"left"}]},{type:"switch",field:"stretch",title:"标签的宽度是否自撑开"}])}},ey="按钮",Al="el-button",cs={icon:"icon-button",label:ey,name:Al,mask:!1,rule({t:o}){return{type:Al,props:{},children:[o("components.el-button.name")]}},props(o,{t:a}){return ut(a,Al+".props",[{type:"input",field:"formCreateChild",title:"内容"},{type:"select",field:"size",title:"尺寸",options:[{label:"large",value:"large"},{label:"default",value:"default"},{label:"small",value:"small"}]},{type:"select",field:"type",title:"类型",options:[{label:"primary",value:"primary"},{label:"success",value:"success"},{label:"warning",value:"warning"},{label:"danger",value:"danger"},{label:"info",value:"info"}]},{type:"switch",field:"plain",title:"是否朴素按钮"},{type:"switch",field:"round",title:"是否圆角按钮"},{type:"switch",field:"circle",title:"是否圆形按钮"},{type:"switch",field:"loading",title:"是否加载中状态"},{type:"switch",field:"disabled",title:"是否禁用状态"},{type:"input",field:"icon",title:"图标类名"}])}},ty="富文本框",bl="fc-editor",fs={icon:"icon-editor",label:ty,name:bl,rule({t:o}){return{type:bl,field:St(),title:o("components.fc-editor.name"),info:"",$required:!1,props:{}}},props(o,{t:a}){return ut(a,bl+".props",[en(),{type:"switch",field:"disabled",title:"是否禁用"}])}},ny="子表单",cd="group",ds={icon:"icon-group",label:ny,name:cd,inside:!1,drag:!0,dragBtn:!0,mask:!1,loadRule(o){o.children=o.props.rule||[],o.props||(o.props={}),o.props.mode=["fcSubForm","object","subForm"].indexOf(o.type)>-1?"subForm":"group",o.type="FcRow",delete o.props.rule},parseRule(o){o.props.rule=o.children,o.type=o.props.mode==="subForm"?"subForm":"group",delete o.children,delete o.props.mode},rule({t:o}){return{type:"FcRow",field:St(),title:o("components.group.name"),info:"",$required:!1,props:{},children:[]}},props(o,{t:a}){return ut(a,cd+".props",[en(),{type:"switch",field:"disabled",title:"是否禁用"},{type:"switch",field:"syncDisabled",title:"是否与子表单强制同步 disabled 状态",value:!0},{type:"select",field:"mode",title:"组件类型",options:[{label:a("components.group.props.modeOpts.group"),value:"group"},{label:a("components.group.props.modeOpts.subform"),value:"subForm"}],value:"group"},{type:"switch",field:"button",title:"是否显示操作按钮",value:!0},{type:"switch",field:"sortBtn",title:"是否显示排序按钮",value:!0},{type:"inputNumber",field:"expand",title:"设置默认展开几项"},{type:"inputNumber",field:"min",title:"设置最小添加几项"},{type:"inputNumber",field:"max",title:"设置最多添加几项"}])}},Ir={[jl.name]:jl,[Ul.name]:Ul,[Yl.name]:Yl,[Ql.name]:Ql,[Wl.name]:Wl,[Gl.name]:Gl,[Xl.name]:Xl,[Jl.name]:Jl,[Kl.name]:Kl,[ql.name]:ql,[Zl.name]:Zl,[es.name]:es,[ud.name]:ud,[ss.name]:ss,[ld.name]:ld,[ts.name]:ts,[ns.name]:ns,[rs.name]:rs,[is.name]:is,[os.name]:os,[us.name]:us,[as.name]:as,[ls.name]:ls,[cs.name]:cs,[fs.name]:fs,[ds.name]:ds};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fd(o,a){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,i)}return n}function or(o){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?fd(Object(n),!0).forEach(function(i){ry(o,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(n,i))})}return o}function Tu(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(a){return typeof a}:Tu=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Tu(o)}function ry(o,a,n){return a in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n,o}function br(){return br=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},br.apply(this,arguments)}function iy(o,a){if(o==null)return{};var n={},i=Object.keys(o),t,u;for(u=0;u<i.length;u++)t=i[u],!(a.indexOf(t)>=0)&&(n[t]=o[t]);return n}function oy(o,a){if(o==null)return{};var n=iy(o,a),i,t;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(t=0;t<u.length;t++)i=u[t],!(a.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,i)||(n[i]=o[i]))}return n}var uy="1.14.0";function Ar(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var Er=Ar(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$o=Ar(/Edge/i),dd=Ar(/firefox/i),ko=Ar(/safari/i)&&!Ar(/chrome/i)&&!Ar(/android/i),up=Ar(/iP(ad|od|hone)/i),ay=Ar(/chrome/i)&&Ar(/android/i),ap={capture:!1,passive:!1};function et(o,a,n){o.addEventListener(a,n,!Er&&ap)}function Xe(o,a,n){o.removeEventListener(a,n,!Er&&ap)}function zu(o,a){if(a){if(a[0]===">"&&(a=a.substring(1)),o)try{if(o.matches)return o.matches(a);if(o.msMatchesSelector)return o.msMatchesSelector(a);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(a)}catch(n){return!1}return!1}}function ly(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function rr(o,a,n,i){if(o){n=n||document;do{if(a!=null&&(a[0]===">"?o.parentNode===n&&zu(o,a):zu(o,a))||i&&o===n)return o;if(o===n)break}while(o=ly(o))}return null}var pd=/\s+/g;function _n(o,a,n){if(o&&a)if(o.classList)o.classList[n?"add":"remove"](a);else{var i=(" "+o.className+" ").replace(pd," ").replace(" "+a+" "," ");o.className=(i+(n?" "+a:"")).replace(pd," ")}}function He(o,a,n){var i=o&&o.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(n=o.currentStyle),a===void 0?n:n[a];!(a in i)&&a.indexOf("webkit")===-1&&(a="-webkit-"+a),i[a]=n+(typeof n=="string"?"":"px")}}function $i(o,a){var n="";if(typeof o=="string")n=o;else do{var i=He(o,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!a&&(o=o.parentNode));var t=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return t&&new t(n)}function lp(o,a,n){if(o){var i=o.getElementsByTagName(a),t=0,u=i.length;if(n)for(;t<u;t++)n(i[t],t);return i}return[]}function ir(){var o=document.scrollingElement;return o||document.documentElement}function Nt(o,a,n,i,t){if(!(!o.getBoundingClientRect&&o!==window)){var u,c,d,p,h,m,b;if(o!==window&&o.parentNode&&o!==ir()?(u=o.getBoundingClientRect(),c=u.top,d=u.left,p=u.bottom,h=u.right,m=u.height,b=u.width):(c=0,d=0,p=window.innerHeight,h=window.innerWidth,m=window.innerHeight,b=window.innerWidth),(a||n)&&o!==window&&(t=t||o.parentNode,!Er))do if(t&&t.getBoundingClientRect&&(He(t,"transform")!=="none"||n&&He(t,"position")!=="static")){var C=t.getBoundingClientRect();c-=C.top+parseInt(He(t,"border-top-width")),d-=C.left+parseInt(He(t,"border-left-width")),p=c+u.height,h=d+u.width;break}while(t=t.parentNode);if(i&&o!==window){var w=$i(t||o),A=w&&w.a,F=w&&w.d;w&&(c/=F,d/=A,b/=A,m/=F,p=c+m,h=d+b)}return{top:c,left:d,bottom:p,right:h,width:b,height:m}}}function hd(o,a,n){for(var i=zr(o,!0),t=Nt(o)[a];i;){var u=Nt(i)[n],c=void 0;if(n==="top"||n==="left"?c=t>=u:c=t<=u,!c)return i;if(i===ir())break;i=zr(i,!1)}return!1}function zi(o,a,n,i){for(var t=0,u=0,c=o.children;u<c.length;){if(c[u].style.display!=="none"&&c[u]!==$e.ghost&&(i||c[u]!==$e.dragged)&&rr(c[u],n.draggable,o,!1)){if(t===a)return c[u];t++}u++}return null}function Fs(o,a){for(var n=o.lastElementChild;n&&(n===$e.ghost||He(n,"display")==="none"||a&&!zu(n,a));)n=n.previousElementSibling;return n||null}function On(o,a){var n=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==$e.clone&&(!a||zu(o,a))&&n++;return n}function md(o){var a=0,n=0,i=ir();if(o)do{var t=$i(o),u=t.a,c=t.d;a+=o.scrollLeft*u,n+=o.scrollTop*c}while(o!==i&&(o=o.parentNode));return[a,n]}function sy(o,a){for(var n in o)if(o.hasOwnProperty(n)){for(var i in a)if(a.hasOwnProperty(i)&&a[i]===o[n][i])return Number(n)}return-1}function zr(o,a){if(!o||!o.getBoundingClientRect)return ir();var n=o,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var t=He(n);if(n.clientWidth<n.scrollWidth&&(t.overflowX=="auto"||t.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(t.overflowY=="auto"||t.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ir();if(i||a)return n;i=!0}}while(n=n.parentNode);return ir()}function cy(o,a){if(o&&a)for(var n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);return o}function El(o,a){return Math.round(o.top)===Math.round(a.top)&&Math.round(o.left)===Math.round(a.left)&&Math.round(o.height)===Math.round(a.height)&&Math.round(o.width)===Math.round(a.width)}var To;function sp(o,a){return function(){if(!To){var n=arguments,i=this;n.length===1?o.call(i,n[0]):o.apply(i,n),To=setTimeout(function(){To=void 0},a)}}}function fy(){clearTimeout(To),To=void 0}function cp(o,a,n){o.scrollLeft+=a,o.scrollTop+=n}function fp(o){var a=window.Polymer,n=window.jQuery||window.Zepto;return a&&a.dom?a.dom(o).cloneNode(!0):n?n(o).clone(!0)[0]:o.cloneNode(!0)}var Dn="Sortable"+new Date().getTime();function dy(){var o=[],a;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(He(i,"display")==="none"||i===$e.ghost)){o.push({target:i,rect:Nt(i)});var t=or({},o[o.length-1].rect);if(i.thisAnimationDuration){var u=$i(i,!0);u&&(t.top-=u.f,t.left-=u.e)}i.fromRect=t}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(sy(o,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(a),typeof n=="function"&&n();return}var t=!1,u=0;o.forEach(function(c){var d=0,p=c.target,h=p.fromRect,m=Nt(p),b=p.prevFromRect,C=p.prevToRect,w=c.rect,A=$i(p,!0);A&&(m.top-=A.f,m.left-=A.e),p.toRect=m,p.thisAnimationDuration&&El(b,m)&&!El(h,m)&&(w.top-m.top)/(w.left-m.left)===(h.top-m.top)/(h.left-m.left)&&(d=hy(w,b,C,i.options)),El(m,h)||(p.prevFromRect=h,p.prevToRect=m,d||(d=i.options.animation),i.animate(p,w,m,d)),d&&(t=!0,u=Math.max(u,d),clearTimeout(p.animationResetTimer),p.animationResetTimer=setTimeout(function(){p.animationTime=0,p.prevFromRect=null,p.fromRect=null,p.prevToRect=null,p.thisAnimationDuration=null},d),p.thisAnimationDuration=d)}),clearTimeout(a),t?a=setTimeout(function(){typeof n=="function"&&n()},u):typeof n=="function"&&n(),o=[]},animate:function(n,i,t,u){if(u){He(n,"transition",""),He(n,"transform","");var c=$i(this.el),d=c&&c.a,p=c&&c.d,h=(i.left-t.left)/(d||1),m=(i.top-t.top)/(p||1);n.animatingX=!!h,n.animatingY=!!m,He(n,"transform","translate3d("+h+"px,"+m+"px,0)"),this.forRepaintDummy=py(n),He(n,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),He(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){He(n,"transition",""),He(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},u)}}}}function py(o){return o.offsetWidth}function hy(o,a,n,i){return Math.sqrt(Math.pow(a.top-o.top,2)+Math.pow(a.left-o.left,2))/Math.sqrt(Math.pow(a.top-n.top,2)+Math.pow(a.left-n.left,2))*i.animation}var Ni=[],wl={initializeByDefault:!0},Vo={mount:function(o){for(var a in wl)wl.hasOwnProperty(a)&&!(a in o)&&(o[a]=wl[a]);Ni.forEach(function(n){if(n.pluginName===o.pluginName)throw"Sortable: Cannot mount plugin ".concat(o.pluginName," more than once")}),Ni.push(o)},pluginEvent:function(o,a,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var t=o+"Global";Ni.forEach(function(u){!a[u.pluginName]||(a[u.pluginName][t]&&a[u.pluginName][t](or({sortable:a},n)),a.options[u.pluginName]&&a[u.pluginName][o]&&a[u.pluginName][o](or({sortable:a},n)))})},initializePlugins:function(o,a,n,i){Ni.forEach(function(c){var d=c.pluginName;if(!(!o.options[d]&&!c.initializeByDefault)){var p=new c(o,a,o.options);p.sortable=o,p.options=o.options,o[d]=p,br(n,p.defaults)}});for(var t in o.options)if(o.options.hasOwnProperty(t)){var u=this.modifyOption(o,t,o.options[t]);typeof u<"u"&&(o.options[t]=u)}},getEventProperties:function(o,a){var n={};return Ni.forEach(function(i){typeof i.eventProperties=="function"&&br(n,i.eventProperties.call(a[i.pluginName],o))}),n},modifyOption:function(o,a,n){var i;return Ni.forEach(function(t){!o[t.pluginName]||t.optionListeners&&typeof t.optionListeners[a]=="function"&&(i=t.optionListeners[a].call(o[t.pluginName],n))}),i}};function my(o){var a=o.sortable,n=o.rootEl,i=o.name,t=o.targetEl,u=o.cloneEl,c=o.toEl,d=o.fromEl,p=o.oldIndex,h=o.newIndex,m=o.oldDraggableIndex,b=o.newDraggableIndex,C=o.originalEvent,w=o.putSortable,A=o.extraEventProperties;if(a=a||n&&n[Dn],!!a){var F,v=a.options,B="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Er&&!$o?F=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(F=document.createEvent("Event"),F.initEvent(i,!0,!0)),F.to=c||n,F.from=d||n,F.item=t||n,F.clone=u,F.oldIndex=p,F.newIndex=h,F.oldDraggableIndex=m,F.newDraggableIndex=b,F.originalEvent=C,F.pullMode=w?w.lastPutMode:void 0;var E=or(or({},A),Vo.getEventProperties(i,a));for(var g in E)F[g]=E[g];n&&n.dispatchEvent(F),v[B]&&v[B].call(a,F)}}var vy=["evt"],vn=function(o,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,t=oy(n,vy);Vo.pluginEvent.bind($e)(o,a,or({dragEl:Ae,parentEl:gt,ghostEl:ze,rootEl:ct,nextEl:fi,lastDownEl:Mu,cloneEl:yt,cloneHidden:$r,dragStarted:xo,putSortable:jt,activeSortable:$e.active,originalEvent:i,oldIndex:Li,oldDraggableIndex:Mo,newIndex:Bn,newDraggableIndex:Hr,hideGhostForTarget:mp,unhideGhostForTarget:vp,cloneNowHidden:function(){$r=!0},cloneNowShown:function(){$r=!1},dispatchSortableEvent:function(u){sn({sortable:a,name:u,originalEvent:i})}},t))};function sn(o){my(or({putSortable:jt,cloneEl:yt,targetEl:Ae,rootEl:ct,oldIndex:Li,oldDraggableIndex:Mo,newIndex:Bn,newDraggableIndex:Hr},o))}var Ae,gt,ze,ct,fi,Mu,yt,$r,Li,Bn,Mo,Hr,_u,jt,Ii=!1,ju=!1,Uu=[],si,Un,Cl,Fl,vd,gd,xo,Pi,Ro,Oo=!1,Bu=!1,Ru,Kt,xl=[],ps=!1,Yu=[],Ku=typeof document<"u",Su=up,yd=$o||Er?"cssFloat":"float",gy=Ku&&!ay&&!up&&"draggable"in document.createElement("div"),dp=function(){if(Ku){if(Er)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),pp=function(o,a){var n=He(o),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),t=zi(o,0,a),u=zi(o,1,a),c=t&&He(t),d=u&&He(u),p=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Nt(t).width,h=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Nt(u).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(t&&c.float&&c.float!=="none"){var m=c.float==="left"?"left":"right";return u&&(d.clear==="both"||d.clear===m)?"vertical":"horizontal"}return t&&(c.display==="block"||c.display==="flex"||c.display==="table"||c.display==="grid"||p>=i&&n[yd]==="none"||u&&n[yd]==="none"&&p+h>i)?"vertical":"horizontal"},yy=function(o,a,n){var i=n?o.left:o.top,t=n?o.right:o.bottom,u=n?o.width:o.height,c=n?a.left:a.top,d=n?a.right:a.bottom,p=n?a.width:a.height;return i===c||t===d||i+u/2===c+p/2},Ay=function(o,a){var n;return Uu.some(function(i){var t=i[Dn].options.emptyInsertThreshold;if(!(!t||Fs(i))){var u=Nt(i),c=o>=u.left-t&&o<=u.right+t,d=a>=u.top-t&&a<=u.bottom+t;if(c&&d)return n=i}}),n},hp=function(o){function a(t,u){return function(c,d,p,h){var m=c.options.group.name&&d.options.group.name&&c.options.group.name===d.options.group.name;if(t==null&&(u||m))return!0;if(t==null||t===!1)return!1;if(u&&t==="clone")return t;if(typeof t=="function")return a(t(c,d,p,h),u)(c,d,p,h);var b=(u?c:d).options.group.name;return t===!0||typeof t=="string"&&t===b||t.join&&t.indexOf(b)>-1}}var n={},i=o.group;(!i||Tu(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=a(i.pull,!0),n.checkPut=a(i.put),n.revertClone=i.revertClone,o.group=n},mp=function(){!dp&&ze&&He(ze,"display","none")},vp=function(){!dp&&ze&&He(ze,"display","")};Ku&&document.addEventListener("click",function(o){if(ju)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),ju=!1,!1},!0);var ci=function(o){if(Ae){o=o.touches?o.touches[0]:o;var a=Ay(o.clientX,o.clientY);if(a){var n={};for(var i in o)o.hasOwnProperty(i)&&(n[i]=o[i]);n.target=n.rootEl=a,n.preventDefault=void 0,n.stopPropagation=void 0,a[Dn]._onDragOver(n)}}},by=function(o){Ae&&Ae.parentNode[Dn]._isOutsideThisEl(o.target)};function $e(o,a){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=a=br({},a),o[Dn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pp(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,c){u.setData("Text",c.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:$e.supportPointer!==!1&&"PointerEvent"in window&&!ko,emptyInsertThreshold:5};Vo.initializePlugins(this,o,n);for(var i in n)!(i in a)&&(a[i]=n[i]);hp(a);for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this));this.nativeDraggable=a.forceFallback?!1:gy,this.nativeDraggable&&(this.options.touchStartThreshold=1),a.supportPointer?et(o,"pointerdown",this._onTapStart):(et(o,"mousedown",this._onTapStart),et(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(et(o,"dragover",this),et(o,"dragenter",this)),Uu.push(this.el),a.store&&a.store.get&&this.sort(a.store.get(this)||[]),br(this,dy())}$e.prototype={constructor:$e,_isOutsideThisEl:function(o){!this.el.contains(o)&&o!==this.el&&(Pi=null)},_getDirection:function(o,a){return typeof this.options.direction=="function"?this.options.direction.call(this,o,a,Ae):this.options.direction},_onTapStart:function(o){if(o.cancelable){var a=this,n=this.el,i=this.options,t=i.preventOnFilter,u=o.type,c=o.touches&&o.touches[0]||o.pointerType&&o.pointerType==="touch"&&o,d=(c||o).target,p=o.target.shadowRoot&&(o.path&&o.path[0]||o.composedPath&&o.composedPath()[0])||d,h=i.filter;if(Sy(n),!Ae&&!(/mousedown|pointerdown/.test(u)&&o.button!==0||i.disabled)&&!p.isContentEditable&&!(!this.nativeDraggable&&ko&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=rr(d,i.draggable,n,!1),!(d&&d.animated)&&Mu!==d)){if(Li=On(d),Mo=On(d,i.draggable),typeof h=="function"){if(h.call(this,o,d,this)){sn({sortable:a,rootEl:p,name:"filter",targetEl:d,toEl:n,fromEl:n}),vn("filter",a,{evt:o}),t&&o.cancelable&&o.preventDefault();return}}else if(h&&(h=h.split(",").some(function(m){if(m=rr(p,m.trim(),n,!1),m)return sn({sortable:a,rootEl:m,name:"filter",targetEl:d,fromEl:n,toEl:n}),vn("filter",a,{evt:o}),!0}),h)){t&&o.cancelable&&o.preventDefault();return}i.handle&&!rr(p,i.handle,n,!1)||this._prepareDragStart(o,c,d)}}},_prepareDragStart:function(o,a,n){var i=this,t=i.el,u=i.options,c=t.ownerDocument,d;if(n&&!Ae&&n.parentNode===t){var p=Nt(n);if(ct=t,Ae=n,gt=Ae.parentNode,fi=Ae.nextSibling,Mu=n,_u=u.group,$e.dragged=Ae,si={target:Ae,clientX:(a||o).clientX,clientY:(a||o).clientY},vd=si.clientX-p.left,gd=si.clientY-p.top,this._lastX=(a||o).clientX,this._lastY=(a||o).clientY,Ae.style["will-change"]="all",d=function(){if(vn("delayEnded",i,{evt:o}),$e.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!dd&&i.nativeDraggable&&(Ae.draggable=!0),i._triggerDragStart(o,a),sn({sortable:i,name:"choose",originalEvent:o}),_n(Ae,u.chosenClass,!0)},u.ignore.split(",").forEach(function(h){lp(Ae,h.trim(),_l)}),et(c,"dragover",ci),et(c,"mousemove",ci),et(c,"touchmove",ci),et(c,"mouseup",i._onDrop),et(c,"touchend",i._onDrop),et(c,"touchcancel",i._onDrop),dd&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ae.draggable=!0),vn("delayStart",this,{evt:o}),u.delay&&(!u.delayOnTouchOnly||a)&&(!this.nativeDraggable||!($o||Er))){if($e.eventCanceled){this._onDrop();return}et(c,"mouseup",i._disableDelayedDrag),et(c,"touchend",i._disableDelayedDrag),et(c,"touchcancel",i._disableDelayedDrag),et(c,"mousemove",i._delayedDragTouchMoveHandler),et(c,"touchmove",i._delayedDragTouchMoveHandler),u.supportPointer&&et(c,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(d,u.delay)}else d()}},_delayedDragTouchMoveHandler:function(o){var a=o.touches?o.touches[0]:o;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ae&&_l(Ae),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var o=this.el.ownerDocument;Xe(o,"mouseup",this._disableDelayedDrag),Xe(o,"touchend",this._disableDelayedDrag),Xe(o,"touchcancel",this._disableDelayedDrag),Xe(o,"mousemove",this._delayedDragTouchMoveHandler),Xe(o,"touchmove",this._delayedDragTouchMoveHandler),Xe(o,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(o,a){a=a||o.pointerType=="touch"&&o,!this.nativeDraggable||a?this.options.supportPointer?et(document,"pointermove",this._onTouchMove):a?et(document,"touchmove",this._onTouchMove):et(document,"mousemove",this._onTouchMove):(et(Ae,"dragend",this),et(ct,"dragstart",this._onDragStart));try{document.selection?Ou(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(o,a){if(Ii=!1,ct&&Ae){vn("dragStarted",this,{evt:a}),this.nativeDraggable&&et(document,"dragover",by);var n=this.options;!o&&_n(Ae,n.dragClass,!1),_n(Ae,n.ghostClass,!0),$e.active=this,o&&this._appendGhost(),sn({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(Un){this._lastX=Un.clientX,this._lastY=Un.clientY,mp();for(var o=document.elementFromPoint(Un.clientX,Un.clientY),a=o;o&&o.shadowRoot&&(o=o.shadowRoot.elementFromPoint(Un.clientX,Un.clientY),o!==a);)a=o;if(Ae.parentNode[Dn]._isOutsideThisEl(o),a)do{if(a[Dn]){var n=void 0;if(n=a[Dn]._onDragOver({clientX:Un.clientX,clientY:Un.clientY,target:o,rootEl:a}),n&&!this.options.dragoverBubble)break}o=a}while(a=a.parentNode);vp()}},_onTouchMove:function(o){if(si){var a=this.options,n=a.fallbackTolerance,i=a.fallbackOffset,t=o.touches?o.touches[0]:o,u=ze&&$i(ze,!0),c=ze&&u&&u.a,d=ze&&u&&u.d,p=Su&&Kt&&md(Kt),h=(t.clientX-si.clientX+i.x)/(c||1)+(p?p[0]-xl[0]:0)/(c||1),m=(t.clientY-si.clientY+i.y)/(d||1)+(p?p[1]-xl[1]:0)/(d||1);if(!$e.active&&!Ii){if(n&&Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))<n)return;this._onDragStart(o,!0)}if(ze){u?(u.e+=h-(Cl||0),u.f+=m-(Fl||0)):u={a:1,b:0,c:0,d:1,e:h,f:m};var b="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");He(ze,"webkitTransform",b),He(ze,"mozTransform",b),He(ze,"msTransform",b),He(ze,"transform",b),Cl=h,Fl=m,Un=t}o.cancelable&&o.preventDefault()}},_appendGhost:function(){if(!ze){var o=this.options.fallbackOnBody?document.body:ct,a=Nt(Ae,!0,Su,!0,o),n=this.options;if(Su){for(Kt=o;He(Kt,"position")==="static"&&He(Kt,"transform")==="none"&&Kt!==document;)Kt=Kt.parentNode;Kt!==document.body&&Kt!==document.documentElement?(Kt===document&&(Kt=ir()),a.top+=Kt.scrollTop,a.left+=Kt.scrollLeft):Kt=ir(),xl=md(Kt)}ze=Ae.cloneNode(!0),_n(ze,n.ghostClass,!1),_n(ze,n.fallbackClass,!0),_n(ze,n.dragClass,!0),He(ze,"transition",""),He(ze,"transform",""),He(ze,"box-sizing","border-box"),He(ze,"margin",0),He(ze,"top",a.top),He(ze,"left",a.left),He(ze,"width",a.width),He(ze,"height",a.height),He(ze,"opacity","0.8"),He(ze,"position",Su?"absolute":"fixed"),He(ze,"zIndex","100000"),He(ze,"pointerEvents","none"),$e.ghost=ze,o.appendChild(ze),He(ze,"transform-origin",vd/parseInt(ze.style.width)*100+"% "+gd/parseInt(ze.style.height)*100+"%")}},_onDragStart:function(o,a){var n=this,i=o.dataTransfer,t=n.options;if(vn("dragStart",this,{evt:o}),$e.eventCanceled){this._onDrop();return}vn("setupClone",this),$e.eventCanceled||(yt=fp(Ae),yt.draggable=!1,yt.style["will-change"]="",this._hideClone(),_n(yt,this.options.chosenClass,!1),$e.clone=yt),n.cloneId=Ou(function(){vn("clone",n),!$e.eventCanceled&&(n.options.removeCloneOnHide||ct.insertBefore(yt,Ae),n._hideClone(),sn({sortable:n,name:"clone"}))}),!a&&_n(Ae,t.dragClass,!0),a?(ju=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Xe(document,"mouseup",n._onDrop),Xe(document,"touchend",n._onDrop),Xe(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",t.setData&&t.setData.call(n,i,Ae)),et(document,"drop",n),He(Ae,"transform","translateZ(0)")),Ii=!0,n._dragStartId=Ou(n._dragStarted.bind(n,a,o)),et(document,"selectstart",n),xo=!0,ko&&He(document.body,"user-select","none")},_onDragOver:function(o){var a=this.el,n=o.target,i,t,u,c=this.options,d=c.group,p=$e.active,h=_u===d,m=c.sort,b=jt||p,C,w=this,A=!1;if(ps)return;function F(Y,U){vn(Y,w,or({evt:o,isOwner:h,axis:C?"vertical":"horizontal",revert:u,dragRect:i,targetRect:t,canSort:m,fromSortable:b,target:n,completed:B,onMove:function(X,J){return Du(ct,a,Ae,i,X,Nt(X),o,J)},changed:E},U))}function v(){F("dragOverAnimationCapture"),w.captureAnimationState(),w!==b&&b.captureAnimationState()}function B(Y){return F("dragOverCompleted",{insertion:Y}),Y&&(h?p._hideClone():p._showClone(w),w!==b&&(_n(Ae,jt?jt.options.ghostClass:p.options.ghostClass,!1),_n(Ae,c.ghostClass,!0)),jt!==w&&w!==$e.active?jt=w:w===$e.active&&jt&&(jt=null),b===w&&(w._ignoreWhileAnimating=n),w.animateAll(function(){F("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===Ae&&!Ae.animated||n===a&&!n.animated)&&(Pi=null),!c.dragoverBubble&&!o.rootEl&&n!==document&&(Ae.parentNode[Dn]._isOutsideThisEl(o.target),!Y&&ci(o)),!c.dragoverBubble&&o.stopPropagation&&o.stopPropagation(),A=!0}function E(){Bn=On(Ae),Hr=On(Ae,c.draggable),sn({sortable:w,name:"change",toEl:a,newIndex:Bn,newDraggableIndex:Hr,originalEvent:o})}if(o.preventDefault!==void 0&&o.cancelable&&o.preventDefault(),n=rr(n,c.draggable,a,!0),F("dragOver"),$e.eventCanceled)return A;if(Ae.contains(o.target)||n.animated&&n.animatingX&&n.animatingY||w._ignoreWhileAnimating===n)return B(!1);if(ju=!1,p&&!c.disabled&&(h?m||(u=gt!==ct):jt===this||(this.lastPutMode=_u.checkPull(this,p,Ae,o))&&d.checkPut(this,p,Ae,o))){if(C=this._getDirection(o,n)==="vertical",i=Nt(Ae),F("dragOverValid"),$e.eventCanceled)return A;if(u)return gt=ct,v(),this._hideClone(),F("revert"),$e.eventCanceled||(fi?ct.insertBefore(Ae,fi):ct.appendChild(Ae)),B(!0);var g=Fs(a,c.draggable);if(!g||Fy(o,C,this)&&!g.animated){if(g===Ae)return B(!1);if(g&&a===o.target&&(n=g),n&&(t=Nt(n)),Du(ct,a,Ae,i,n,t,o,!!n)!==!1)return v(),a.appendChild(Ae),gt=a,E(),B(!0)}else if(g&&Cy(o,C,this)){var _=zi(a,0,c,!0);if(_===Ae)return B(!1);if(n=_,t=Nt(n),Du(ct,a,Ae,i,n,t,o,!1)!==!1)return v(),a.insertBefore(Ae,_),gt=a,E(),B(!0)}else if(n.parentNode===a){t=Nt(n);var x=0,D,O=Ae.parentNode!==a,L=!yy(Ae.animated&&Ae.toRect||i,n.animated&&n.toRect||t,C),P=C?"top":"left",R=hd(n,"top","top")||hd(Ae,"top","top"),T=R?R.scrollTop:void 0;Pi!==n&&(D=t[P],Oo=!1,Bu=!L&&c.invertSwap||O),x=xy(o,n,t,C,L?1:c.swapThreshold,c.invertedSwapThreshold==null?c.swapThreshold:c.invertedSwapThreshold,Bu,Pi===n);var $;if(x!==0){var I=On(Ae);do I-=x,$=gt.children[I];while($&&(He($,"display")==="none"||$===ze))}if(x===0||$===n)return B(!1);Pi=n,Ro=x;var z=n.nextElementSibling,M=!1;M=x===1;var Q=Du(ct,a,Ae,i,n,t,o,M);if(Q!==!1)return(Q===1||Q===-1)&&(M=Q===1),ps=!0,setTimeout(wy,30),v(),M&&!z?a.appendChild(Ae):n.parentNode.insertBefore(Ae,M?z:n),R&&cp(R,0,T-R.scrollTop),gt=Ae.parentNode,D!==void 0&&!Bu&&(Ru=Math.abs(D-Nt(n)[P])),E(),B(!0)}if(a.contains(Ae))return B(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Xe(document,"mousemove",this._onTouchMove),Xe(document,"touchmove",this._onTouchMove),Xe(document,"pointermove",this._onTouchMove),Xe(document,"dragover",ci),Xe(document,"mousemove",ci),Xe(document,"touchmove",ci)},_offUpEvents:function(){var o=this.el.ownerDocument;Xe(o,"mouseup",this._onDrop),Xe(o,"touchend",this._onDrop),Xe(o,"pointerup",this._onDrop),Xe(o,"touchcancel",this._onDrop),Xe(document,"selectstart",this)},_onDrop:function(o){var a=this.el,n=this.options;if(Bn=On(Ae),Hr=On(Ae,n.draggable),vn("drop",this,{evt:o}),gt=Ae&&Ae.parentNode,Bn=On(Ae),Hr=On(Ae,n.draggable),$e.eventCanceled){this._nulling();return}Ii=!1,Bu=!1,Oo=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hs(this.cloneId),hs(this._dragStartId),this.nativeDraggable&&(Xe(document,"drop",this),Xe(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ko&&He(document.body,"user-select",""),He(Ae,"transform",""),o&&(xo&&(o.cancelable&&o.preventDefault(),!n.dropBubble&&o.stopPropagation()),ze&&ze.parentNode&&ze.parentNode.removeChild(ze),(ct===gt||jt&&jt.lastPutMode!=="clone")&&yt&&yt.parentNode&&yt.parentNode.removeChild(yt),Ae&&(this.nativeDraggable&&Xe(Ae,"dragend",this),_l(Ae),Ae.style["will-change"]="",xo&&!Ii&&_n(Ae,jt?jt.options.ghostClass:this.options.ghostClass,!1),_n(Ae,this.options.chosenClass,!1),sn({sortable:this,name:"unchoose",toEl:gt,newIndex:null,newDraggableIndex:null,originalEvent:o}),ct!==gt?(Bn>=0&&(sn({rootEl:gt,name:"add",toEl:gt,fromEl:ct,originalEvent:o}),sn({sortable:this,name:"remove",toEl:gt,originalEvent:o}),sn({rootEl:gt,name:"sort",toEl:gt,fromEl:ct,originalEvent:o}),sn({sortable:this,name:"sort",toEl:gt,originalEvent:o})),jt&&jt.save()):Bn!==Li&&Bn>=0&&(sn({sortable:this,name:"update",toEl:gt,originalEvent:o}),sn({sortable:this,name:"sort",toEl:gt,originalEvent:o})),$e.active&&((Bn==null||Bn===-1)&&(Bn=Li,Hr=Mo),sn({sortable:this,name:"end",toEl:gt,originalEvent:o}),this.save()))),this._nulling()},_nulling:function(){vn("nulling",this),ct=Ae=gt=ze=fi=yt=Mu=$r=si=Un=xo=Bn=Hr=Li=Mo=Pi=Ro=jt=_u=$e.dragged=$e.ghost=$e.clone=$e.active=null,Yu.forEach(function(o){o.checked=!0}),Yu.length=Cl=Fl=0},handleEvent:function(o){switch(o.type){case"drop":case"dragend":this._onDrop(o);break;case"dragenter":case"dragover":Ae&&(this._onDragOver(o),Ey(o));break;case"selectstart":o.preventDefault();break}},toArray:function(){for(var o=[],a,n=this.el.children,i=0,t=n.length,u=this.options;i<t;i++)a=n[i],rr(a,u.draggable,this.el,!1)&&o.push(a.getAttribute(u.dataIdAttr)||By(a));return o},sort:function(o,a){var n={},i=this.el;this.toArray().forEach(function(t,u){var c=i.children[u];rr(c,this.options.draggable,i,!1)&&(n[t]=c)},this),a&&this.captureAnimationState(),o.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),a&&this.animateAll()},save:function(){var o=this.options.store;o&&o.set&&o.set(this)},closest:function(o,a){return rr(o,a||this.options.draggable,this.el,!1)},option:function(o,a){var n=this.options;if(a===void 0)return n[o];var i=Vo.modifyOption(this,o,a);typeof i<"u"?n[o]=i:n[o]=a,o==="group"&&hp(n)},destroy:function(){vn("destroy",this);var o=this.el;o[Dn]=null,Xe(o,"mousedown",this._onTapStart),Xe(o,"touchstart",this._onTapStart),Xe(o,"pointerdown",this._onTapStart),this.nativeDraggable&&(Xe(o,"dragover",this),Xe(o,"dragenter",this)),Array.prototype.forEach.call(o.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Uu.splice(Uu.indexOf(this.el),1),this.el=o=null},_hideClone:function(){if(!$r){if(vn("hideClone",this),$e.eventCanceled)return;He(yt,"display","none"),this.options.removeCloneOnHide&&yt.parentNode&&yt.parentNode.removeChild(yt),$r=!0}},_showClone:function(o){if(o.lastPutMode!=="clone"){this._hideClone();return}if($r){if(vn("showClone",this),$e.eventCanceled)return;Ae.parentNode==ct&&!this.options.group.revertClone?ct.insertBefore(yt,Ae):fi?ct.insertBefore(yt,fi):ct.appendChild(yt),this.options.group.revertClone&&this.animate(Ae,yt),He(yt,"display",""),$r=!1}}};function Ey(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Du(o,a,n,i,t,u,c,d){var p,h=o[Dn],m=h.options.onMove,b;return window.CustomEvent&&!Er&&!$o?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=a,p.from=o,p.dragged=n,p.draggedRect=i,p.related=t||a,p.relatedRect=u||Nt(a),p.willInsertAfter=d,p.originalEvent=c,o.dispatchEvent(p),m&&(b=m.call(h,p,c)),b}function _l(o){o.draggable=!1}function wy(){ps=!1}function Cy(o,a,n){var i=Nt(zi(n.el,0,n.options,!0)),t=10;return a?o.clientX<i.left-t||o.clientY<i.top&&o.clientX<i.right:o.clientY<i.top-t||o.clientY<i.bottom&&o.clientX<i.left}function Fy(o,a,n){var i=Nt(Fs(n.el,n.options.draggable)),t=10;return a?o.clientX>i.right+t||o.clientX<=i.right&&o.clientY>i.bottom&&o.clientX>=i.left:o.clientX>i.right&&o.clientY>i.top||o.clientX<=i.right&&o.clientY>i.bottom+t}function xy(o,a,n,i,t,u,c,d){var p=i?o.clientY:o.clientX,h=i?n.height:n.width,m=i?n.top:n.left,b=i?n.bottom:n.right,C=!1;if(!c){if(d&&Ru<h*t){if(!Oo&&(Ro===1?p>m+h*u/2:p<b-h*u/2)&&(Oo=!0),Oo)C=!0;else if(Ro===1?p<m+Ru:p>b-Ru)return-Ro}else if(p>m+h*(1-t)/2&&p<b-h*(1-t)/2)return _y(a)}return C=C||c,C&&(p<m+h*u/2||p>b-h*u/2)?p>m+h/2?1:-1:0}function _y(o){return On(Ae)<On(o)?1:-1}function By(o){for(var a=o.tagName+o.className+o.src+o.href+o.textContent,n=a.length,i=0;n--;)i+=a.charCodeAt(n);return i.toString(36)}function Sy(o){Yu.length=0;for(var a=o.getElementsByTagName("input"),n=a.length;n--;){var i=a[n];i.checked&&Yu.push(i)}}function Ou(o){return setTimeout(o,0)}function hs(o){return clearTimeout(o)}Ku&&et(document,"touchmove",function(o){($e.active||Ii)&&o.cancelable&&o.preventDefault()});$e.utils={on:et,off:Xe,css:He,find:lp,is:function(o,a){return!!rr(o,a,o,!1)},extend:cy,throttle:sp,closest:rr,toggleClass:_n,clone:fp,index:On,nextTick:Ou,cancelNextTick:hs,detectDirection:pp,getChild:zi};$e.get=function(o){return o[Dn]};$e.mount=function(){for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];a[0].constructor===Array&&(a=a[0]),a.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&($e.utils=or(or({},$e.utils),i.utils)),Vo.mount(i)})};$e.create=function(o,a){return new $e(o,a)};$e.version=uy;var _t=[],_o,ms,vs=!1,Bl,Sl,Qu,Bo;function Dy(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this))}return o.prototype={dragStarted:function(a){var n=a.originalEvent;this.sortable.nativeDraggable?et(document,"dragover",this._handleAutoScroll):this.options.supportPointer?et(document,"pointermove",this._handleFallbackAutoScroll):n.touches?et(document,"touchmove",this._handleFallbackAutoScroll):et(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var n=a.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Xe(document,"dragover",this._handleAutoScroll):(Xe(document,"pointermove",this._handleFallbackAutoScroll),Xe(document,"touchmove",this._handleFallbackAutoScroll),Xe(document,"mousemove",this._handleFallbackAutoScroll)),Ad(),Nu(),fy()},nulling:function(){Qu=ms=_o=vs=Bo=Bl=Sl=null,_t.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,n){var i=this,t=(a.touches?a.touches[0]:a).clientX,u=(a.touches?a.touches[0]:a).clientY,c=document.elementFromPoint(t,u);if(Qu=a,n||this.options.forceAutoScrollFallback||$o||Er||ko){Dl(a,this.options,c,n);var d=zr(c,!0);vs&&(!Bo||t!==Bl||u!==Sl)&&(Bo&&Ad(),Bo=setInterval(function(){var p=zr(document.elementFromPoint(t,u),!0);p!==d&&(d=p,Nu()),Dl(a,i.options,p,n)},10),Bl=t,Sl=u)}else{if(!this.options.bubbleScroll||zr(c,!0)===ir()){Nu();return}Dl(a,this.options,zr(c,!1),!1)}}},br(o,{pluginName:"scroll",initializeByDefault:!0})}function Nu(){_t.forEach(function(o){clearInterval(o.pid)}),_t=[]}function Ad(){clearInterval(Bo)}var Dl=sp(function(o,a,n,i){if(a.scroll){var t=(o.touches?o.touches[0]:o).clientX,u=(o.touches?o.touches[0]:o).clientY,c=a.scrollSensitivity,d=a.scrollSpeed,p=ir(),h=!1,m;ms!==n&&(ms=n,Nu(),_o=a.scroll,m=a.scrollFn,_o===!0&&(_o=zr(n,!0)));var b=0,C=_o;do{var w=C,A=Nt(w),F=A.top,v=A.bottom,B=A.left,E=A.right,g=A.width,_=A.height,x=void 0,D=void 0,O=w.scrollWidth,L=w.scrollHeight,P=He(w),R=w.scrollLeft,T=w.scrollTop;w===p?(x=g<O&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),D=_<L&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(x=g<O&&(P.overflowX==="auto"||P.overflowX==="scroll"),D=_<L&&(P.overflowY==="auto"||P.overflowY==="scroll"));var $=x&&(Math.abs(E-t)<=c&&R+g<O)-(Math.abs(B-t)<=c&&!!R),I=D&&(Math.abs(v-u)<=c&&T+_<L)-(Math.abs(F-u)<=c&&!!T);if(!_t[b])for(var z=0;z<=b;z++)_t[z]||(_t[z]={});(_t[b].vx!=$||_t[b].vy!=I||_t[b].el!==w)&&(_t[b].el=w,_t[b].vx=$,_t[b].vy=I,clearInterval(_t[b].pid),($!=0||I!=0)&&(h=!0,_t[b].pid=setInterval(function(){i&&this.layer===0&&$e.active._onTouchMove(Qu);var M=_t[this.layer].vy?_t[this.layer].vy*d:0,Q=_t[this.layer].vx?_t[this.layer].vx*d:0;typeof m=="function"&&m.call($e.dragged.parentNode[Dn],Q,M,o,Qu,_t[this.layer].el)!=="continue"||cp(_t[this.layer].el,Q,M)}.bind({layer:b}),24))),b++}while(a.bubbleScroll&&C!==p&&(C=zr(C,!1)));vs=h}},30),gp=function(o){var a=o.originalEvent,n=o.putSortable,i=o.dragEl,t=o.activeSortable,u=o.dispatchSortableEvent,c=o.hideGhostForTarget,d=o.unhideGhostForTarget;if(a){var p=n||t;c();var h=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,m=document.elementFromPoint(h.clientX,h.clientY);d(),p&&!p.el.contains(m)&&(u("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function xs(){}xs.prototype={startIndex:null,dragStart:function(o){var a=o.oldDraggableIndex;this.startIndex=a},onSpill:function(o){var a=o.dragEl,n=o.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=zi(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(a,i):this.sortable.el.appendChild(a),this.sortable.animateAll(),n&&n.animateAll()},drop:gp};br(xs,{pluginName:"revertOnSpill"});function _s(){}_s.prototype={onSpill:function(o){var a=o.dragEl,n=o.putSortable,i=n||this.sortable;i.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),i.animateAll()},drop:gp};br(_s,{pluginName:"removeOnSpill"});$e.mount(new Dy);$e.mount(_s,xs);function kl(o){o.parentElement!==null&&o.parentElement.removeChild(o)}function bd(o,a,n){const i=n===0?o.children[0]:o.children[n-1].nextSibling;o.insertBefore(a,i)}function ky(){return typeof window<"u"?window.console:global.console}const Ty=ky();function My(o){const a=Object.create(null);return function(n){return a[n]||(a[n]=o(n))}}const Ry=/-(\w)/g,Oy=My(o=>o.replace(Ry,(a,n)=>n.toUpperCase())),yp=["Start","Add","Remove","Update","End"],Ap=["Choose","Unchoose","Sort","Filter","Clone"],bp=["Move"],Ny=[bp,yp,Ap].flatMap(o=>o).map(o=>`on${o}`),gs={manage:bp,manageAndEmit:yp,emit:Ap};function Py(o){return Ny.indexOf(o)!==-1}const Iy=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ly(o){return Iy.includes(o)}function Hy(o){return["transition-group","TransitionGroup"].includes(o)}function Ep(o){return["id","class","role","style"].includes(o)||o.startsWith("data-")||o.startsWith("aria-")||o.startsWith("on")}function wp(o){return o.reduce((a,[n,i])=>(a[n]=i,a),{})}function $y({$attrs:o,componentData:a={}}){return Jt(Jt({},wp(Object.entries(o).filter(([n,i])=>Ep(n)))),a)}function Vy({$attrs:o,callBackBuilder:a}){const n=wp(Cp(o));Object.entries(a).forEach(([t,u])=>{gs[t].forEach(c=>{n[`on${c}`]=u(c)})});const i=`[data-draggable]${n.draggable||""}`;return ai(Jt({},n),{draggable:i})}function Cp(o){return Object.entries(o).filter(([a,n])=>!Ep(a)).map(([a,n])=>[Oy(a),n]).filter(([a,n])=>!Py(a))}const Ed=({el:o})=>o,zy=(o,a)=>o.__draggable_context=a,wd=o=>o.__draggable_context;class jy{constructor({nodes:{header:a,default:n,footer:i},root:t,realList:u}){this.defaultNodes=n,this.children=[...a,...n,...i],this.externalComponent=t.externalComponent,this.rootTransition=t.transition,this.tag=t.tag,this.realList=u}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(a,n){const{tag:i,children:t,_isRootComponent:u}=this;return a(i,n,u?{default:()=>t}:t)}updated(){const{defaultNodes:a,realList:n}=this;a.forEach((i,t)=>{zy(Ed(i),{element:n[t],index:t})})}getUnderlyingVm(a){return wd(a)}getVmIndexFromDomIndex(a,n){const{defaultNodes:i}=this,{length:t}=i,u=n.children,c=u.item(a);if(c===null)return t;const d=wd(c);if(d)return d.index;if(t===0)return 0;const p=Ed(i[0]),h=[...u].findIndex(m=>m===p);return a<h?0:t}}function Uy(o,a){const n=o[a];return n?n():[]}function Yy({$slots:o,realList:a,getKey:n}){const i=a||[],[t,u]=["header","footer"].map(p=>Uy(o,p)),{item:c}=o;if(!c)throw new Error("draggable element must have an item slot");const d=i.flatMap((p,h)=>c({element:p,index:h}).map(m=>(m.key=n(p),m.props=ai(Jt({},m.props||{}),{"data-draggable":!0}),m)));if(d.length!==i.length)throw new Error("Item slot must have only one child");return{header:t,footer:u,default:d}}function Qy(o){const a=Hy(o),n=!Ly(o)&&!a;return{transition:a,externalComponent:n,tag:n?Le(o):a?Vm:o}}function Wy({$slots:o,tag:a,realList:n,getKey:i}){const t=Yy({$slots:o,realList:n,getKey:i}),u=Qy(a);return new jy({nodes:t,root:u,realList:n})}function Fp(o,a){qt(()=>this.$emit(o.toLowerCase(),a))}function xp(o){return(a,n)=>{if(this.realList!==null)return this[`onDrag${o}`](a,n)}}function Gy(o){const a=xp.call(this,o);return(n,i)=>{a.call(this,n,i),Fp.call(this,o,n)}}let Tl=null;const Xy={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:o=>o},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Jy=["update:modelValue","change",...[...gs.manageAndEmit,...gs.emit].map(o=>o.toLowerCase())],Bs=wt({name:"draggable",inheritAttrs:!1,props:Xy,emits:Jy,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:o,$attrs:a,tag:n,componentData:i,realList:t,getKey:u}=this,c=Wy({$slots:o,tag:n,realList:t,getKey:u});this.componentStructure=c;const d=$y({$attrs:a,componentData:i});return c.render(No,d)}catch(o){return this.error=!0,No("pre",{style:{color:"red"}},o.stack)}},created(){this.list!==null&&this.modelValue!==null&&Ty.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:o,$el:a,componentStructure:n}=this;n.updated();const i=Vy({$attrs:o,callBackBuilder:{manageAndEmit:u=>Gy.call(this,u),emit:u=>Fp.bind(this,u),manage:u=>xp.call(this,u)}}),t=a.nodeType===1?a:a.parentElement;this._sortable=new $e(t,i),this.targetDomElement=t,t.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:o}=this;return o||this.modelValue},getKey(){const{itemKey:o}=this;return typeof o=="function"?o:a=>a[o]}},watch:{$attrs:{handler(o){const{_sortable:a}=this;!a||Cp(o).forEach(([n,i])=>{a.option(n,i)})},deep:!0}},methods:{getUnderlyingVm(o){return this.componentStructure.getUnderlyingVm(o)||null},getUnderlyingPotencialDraggableComponent(o){return o.__draggable_component__},emitChanges(o){qt(()=>this.$emit("change",o))},alterList(o){if(this.list){o(this.list);return}const a=[...this.modelValue];o(a),this.$emit("update:modelValue",a)},spliceList(){const o=a=>a.splice(...arguments);this.alterList(o)},updatePosition(o,a){const n=i=>i.splice(a,0,i.splice(o,1)[0]);this.alterList(n)},getRelatedContextFromMoveEvent({to:o,related:a}){const n=this.getUnderlyingPotencialDraggableComponent(o);if(!n)return{component:n};const i=n.realList,t={list:i,component:n};return o!==a&&i?Jt(Jt({},n.getUnderlyingVm(a)||{}),t):t},getVmIndexFromDomIndex(o){return this.componentStructure.getVmIndexFromDomIndex(o,this.targetDomElement)},onDragStart(o){this.context=this.getUnderlyingVm(o.item),o.item._underlying_vm_=this.clone(this.context.element),Tl=o.item},onDragAdd(o){const a=o.item._underlying_vm_;if(a===void 0)return;kl(o.item);const n=this.getVmIndexFromDomIndex(o.newIndex);this.spliceList(n,0,a);const i={element:a,newIndex:n};this.emitChanges({added:i})},onDragRemove(o){if(bd(this.$el,o.item,o.oldIndex),o.pullMode==="clone"){kl(o.clone);return}const{index:a,element:n}=this.context;this.spliceList(a,1);const i={element:n,oldIndex:a};this.emitChanges({removed:i})},onDragUpdate(o){kl(o.item),bd(o.from,o.item,o.oldIndex);const a=this.context.index,n=this.getVmIndexFromDomIndex(o.newIndex);this.updatePosition(a,n);const i={element:this.context.element,oldIndex:a,newIndex:n};this.emitChanges({moved:i})},computeFutureIndex(o,a){if(!o.element)return 0;const n=[...a.to.children].filter(u=>u.style.display!=="none"),i=n.indexOf(a.related),t=o.component.getVmIndexFromDomIndex(i);return n.indexOf(Tl)!==-1||!a.willInsertAfter?t:t+1},onDragMove(o,a){const{move:n,realList:i}=this;if(!n||!i)return!0;const t=this.getRelatedContextFromMoveEvent(o),u=this.computeFutureIndex(t,o),c=ai(Jt({},this.context),{futureIndex:u}),d=ai(Jt({},o),{relatedContext:t,draggedContext:c});return n(d,a)},onDragEnd(){Tl=null}}});function Ky({t:o}){return[{name:"main",title:o("menu.main"),list:[Yl,Ql,jl,Ul,Wl,Gl,Jl,Kl,Xl,ql,Zl,ns,rs,is,os,fs,ds]},{name:"aide",title:o("menu.aide"),list:[us,cs,as,ts]},{name:"layout",title:o("menu.layout"),list:[es,ss,ls]}]}const Ss=Ju,Pt=Ju.factory();let _p=null,Cd=Hi(null);function ys(...o){return _p(...o)}const Bp=o=>{Cd.value=o;const a=zl(Cd);return _p=a.t,a};Bp();const qy=wt({name:"FcDesigner",components:{draggable:Bs,DragForm:Pt.$form(),ViewForm:Ss.$form()},props:["menu","height","config","mask","locale"],setup(o){const{menu:a,height:n,mask:i,locale:t}=Po(o),u=Pu(),c=Yn({active:null});Ml("fcx",c),Ml("designer",u);const d=gn(o,"config",{}),p=gn(d.value,"baseRule",null),h=gn(d.value,"componentRule",{}),m=gn(d.value,"validateRule",null),b=gn(d.value,"formRule",null),C=Vi(()=>{const g=n.value;return g?Bt.Number(g)?`${g}px`:g:"100%"});let w=ys;t.value&&(w=zl(t).t);const A=(...g)=>w(...g),F=(g,_,...x)=>{if(_){if(Bt.Function(_))return _(...x);if(_.rule){let D=_.rule(...x);return _.append&&(D=[...D,...g(...x)]),D}}return g(...x)},v=Yn({cacheProps:{},moveRule:null,addRule:null,added:null,activeTab:"form",activeRule:null,children:Hi([]),menuList:a.value||Ky({t:A}),showBaseRule:!1,visible:{preview:!1},t:A,preview:{state:!1,rule:[],option:{}},dragForm:Hi({rule:[],api:{}}),form:{rule:F(Kf,b.value,{t:A}),api:{},option:{form:{labelPosition:"top",size:"small"},submitBtn:!1},value:{form:{inline:!1,hideRequiredAsterisk:!1,labelPosition:"right",size:"small",labelWidth:"125px",formCreateSubmitBtn:!0,formCreateResetBtn:!1},submitBtn:!1}},baseForm:{rule:F(Eo,p.value,{t:A}),api:{},value:{},options:{form:{labelPosition:"top",size:"small"},submitBtn:!1,mounted:g=>{g.activeRule=v.activeRule,g.setValue(g.options.formData||{})}}},validateForm:{rule:F(qf,m.value,{t:A}),api:{},value:[],options:{form:{labelPosition:"top",size:"small"},submitBtn:!1,mounted:g=>{g.activeRule=v.activeRule,g.setValue(g.options.formData||{})}}},propsForm:{rule:[],api:{},value:{},options:{form:{labelPosition:"top",size:"small"},submitBtn:!1,mounted:g=>{g.activeRule=v.activeRule,g.setValue(g.options.formData||{})}}}});fn(()=>v.preview.state,function(g){g||qt(()=>{v.preview.rule=v.preview.option=null})});let B=null;fn(()=>t.value,g=>{w=g?zl(t).t:ys;const _=v.form.api.formData&&v.form.api.formData(),x=v.baseForm.api.formData&&v.baseForm.api.formData(),D=v.validateForm.api.formData&&v.validateForm.api.formData();v.validateForm.rule=F(qf,m.value,{t:A}),v.baseForm.rule=F(Eo,p.value,{t:A}),v.form.rule=F(Kf,b.value,{t:A}),v.cacheProps={};const O=v.activeRule;let L=null;O&&(L=v.propsForm.api.formData&&v.propsForm.api.formData(),v.propsForm.rule=v.cacheProps[O._id]=F(O.config.config.props,h.value&&h.value[O.config.config.name],O,{t:A,api:v.dragForm.api})),qt(()=>{_&&v.form.api.setValue(_),x&&v.baseForm.api.setValue(x),D&&v.validateForm.api.setValue(D),L&&v.propsForm.api.setValue(L)})});const E={unWatchActiveRule(){B&&B(),B=null},watchActiveRule(){E.unWatchActiveRule(),B=fn(()=>v.activeRule,function(g){g&&E.updateRuleFormData()},{deep:!0,flush:"post"})},makeChildren(g){return Yn({children:g}).children},addMenu(g){if(!g.name||!g.list)return;let _=!0;v.menuList.forEach((x,D)=>{x.name===g.name&&(v.menuList[D]=g,_=!1)}),_&&v.menuList.push(g)},removeMenu(g){[...v.menuList].forEach((_,x)=>{_.name===g&&v.menuList.splice(x,1)})},setMenuItem(g,_){v.menuList.forEach(x=>{x.name===g&&(x.list=_)})},appendMenuItem(g,_){v.menuList.forEach(x=>{x.name===g&&x.list.push(...Array.isArray(_)?_:[_])})},removeMenuItem(g){v.menuList.forEach(_=>{let x;Bt.String(g)?[..._.list].forEach((D,O)=>{D.name===g&&_.list.splice(O,1)}):(x=_.list.indexOf(g))>-1&&_.list.splice(x,1)})},addComponent(g){Array.isArray(g)?g.forEach(_=>{Ir[_.name]=_}):Ir[g.name]=g},getParent(g){let _=g.__fc__.parent.rule;const x=_.config;return x&&x.config.inside&&(g=_,_=_.__fc__.parent.rule),{root:_,parent:g}},makeDrag(g,_,x,D){return{type:"DragBox",wrap:{show:!1},col:{show:!1},inject:!0,props:{rule:{props:{tag:"el-col",group:g===!0?"default":g,ghostClass:"ghost",animation:150,handle:"._fc-drag-btn",emptyInsertThreshold:0,direction:"vertical",itemKey:"type"}},tag:_},children:x,on:D}},clearDragRule(){E.setRule([])},makeDragRule(g){return E.makeChildren([E.makeDrag(!0,"draggable",g,{add:(_,x)=>E.dragAdd(g,x),end:(_,x)=>E.dragEnd(g,x),start:(_,x)=>E.dragStart(g,x),unchoose:(_,x)=>E.dragUnchoose(g,x)})])},previewFc(){v.preview.state=!0,v.preview.rule=E.getRule(),v.preview.option=E.getOption()},getRule(){return E.parseRule(Lr(v.dragForm.api.rule[0].children))},getJson(){return Pt.toJson(E.getRule())},getOption(){const g=Lr(v.form.value);return g.submitBtn=g._submitBtn,g.resetBtn=g._resetBtn,typeof g.submitBtn=="object"?g.submitBtn.show=g.form.formCreateSubmitBtn:g.submitBtn={show:g.form.formCreateSubmitBtn,innerText:A("form.submit")},typeof g.resetBtn=="object"?g.resetBtn.show=g.form.formCreateResetBtn:g.resetBtn={show:g.form.formCreateResetBtn,innerText:A("form.reset")},delete g.form.formCreateSubmitBtn,delete g.form.formCreateResetBtn,delete g._submitBtn,delete g._resetBtn,g},getOptions(){E.getOption()},setRule(g){g||(g=[]),v.children=Hi(E.loadRule(Bt.String(g)?Pt.parseJson(g):Lr(g))),E.clearActiveRule(),v.dragForm.rule=E.makeDragRule(E.makeChildren(v.children))},setBaseRuleConfig(g,_){p.value={rule:g,append:_},v.baseForm.rule=F(Eo,p.value,{t:A})},setComponentRuleConfig(g,_,x){h.value[g]={rule:_,append:x},v.cacheProps={};const D=v.activeRule;if(D){const O=v.propsForm.api.formData&&v.propsForm.api.formData();v.propsForm.rule=v.cacheProps[D._id]=F(D.config.config.props,h.value&&h.value[D.config.config.name],D,{t:A,api:v.dragForm.api}),qt(()=>{O&&v.propsForm.api.setValue(O)})}},setValidateRuleConfig(g,_){m.value={rule:g,append:_},v.validateForm.rule=F(Eo,m.value,{t:A})},setFormRuleConfig(g,_){b.value={rule:g,append:_},v.form.rule=F(Eo,b.value,{t:A})},clearActiveRule(){v.activeRule=null,v.activeTab="form"},setOption(g){let _=Jt({},g);_.form.formCreateSubmitBtn=typeof _.submitBtn=="object"?_.submitBtn.show===void 0?!0:!!_.submitBtn.show:!!_.submitBtn,_.form.formCreateResetBtn=typeof _.resetBtn=="object"?!!_.resetBtn.show:!!_.resetBtn,_._resetBtn=_.resetBtn,_.resetBtn=!1,_._submitBtn=_.submitBtn,_.submitBtn=!1,v.form.value=_},setOptions(g){E.setOption(g)},loadRule(g){const _=[];return g.forEach(x=>{if(Bt.String(x))return _.push(x);const D=Ir[x._fc_drag_tag]||Ir[x.type];D&&D.loadRule&&D.loadRule(x);const O=x.children;if(x.children=[],x.control&&(x._control=x.control,delete x.control),D){if(x=E.makeRule(D,x),O){let L=x.children[0].children;D.drag&&(L=L[0].children),L.push(...E.loadRule(O))}}else O&&(x.children=E.loadRule(O));_.push(x)}),_},parseRule(g){return[...g].reduce((_,x)=>Bt.String(x)?(_.push(x),_):x.type==="DragBox"?(_.push(...E.parseRule(x.children)),_):x.type==="DragTool"&&(x=x.children[0],x.type==="DragBox")?(_.push(...E.parseRule(x.children)),_):(x&&(x=Jt({},x),x.children.length&&(x.children=E.parseRule(x.children)),delete x._id,delete x.key,delete x.component,x.config&&(x.config.config&&x.config.config.parseRule&&x.config.config.parseRule(x),delete x.config.config),x.effect&&(delete x.effect._fc,delete x.effect._fc_tool),x._control&&(x.control=x._control,delete x._control),Object.keys(x).filter(D=>Array.isArray(x[D])&&x[D].length===0||Bt.Object(x[D])&&Object.keys(x[D]).length===0).forEach(D=>{delete x[D]}),_.push(x)),_),[])},baseChange(g,_,x,D){var O,L,P;v.activeRule&&D[v.activeRule._id]===v.activeRule&&(E.unWatchActiveRule(),v.activeRule[g]=_,E.watchActiveRule(),(P=(L=(O=v.activeRule.config.config)==null?void 0:O.watch)==null?void 0:L["$"+g])==null||P.call(L,{field:g,value:_,api:D,rule:v.activeRule}))},propRemoveField(g,_,x){var D,O,L;if(v.activeRule&&x[v.activeRule._id]===v.activeRule){E.unWatchActiveRule();const P=g;if(v.dragForm.api.sync(v.activeRule),g.indexOf("formCreate")===0){if(g=g.replace("formCreate",""),!g)return;g=Vl(g),g.indexOf("effect")===0&&g.indexOf(">")>-1?delete v.activeRule.effect[g.split(">")[1]]:g.indexOf("props")===0&&g.indexOf(">")>-1?delete v.activeRule.props[g.split(">")[1]]:g.indexOf("attrs")===0&&g.indexOf(">")>-1?delete v.activeRule.attrs[g.split(">")[1]]:g==="child"?delete v.activeRule.children[0]:g&&(v.activeRule[g]=void 0)}else delete v.activeRule.props[g];E.watchActiveRule(),(L=(O=(D=v.activeRule.config.config)==null?void 0:D.watch)==null?void 0:O[P])==null||L.call(O,{field:P,value:void 0,api:x,rule:v.activeRule})}},propChange(g,_,x,D){var O,L,P;if(v.activeRule&&D[v.activeRule._id]===v.activeRule){E.unWatchActiveRule();const R=g;if(g.indexOf("formCreate")===0){if(g=g.replace("formCreate",""),!g)return;g=Vl(g),g.indexOf("effect")===0&&g.indexOf(">")>-1?v.activeRule.effect[g.split(">")[1]]=_:g.indexOf("props")===0&&g.indexOf(">")>-1?v.activeRule.props[g.split(">")[1]]=_:g.indexOf("attrs")===0&&g.indexOf(">")>-1?v.activeRule.attrs[g.split(">")[1]]=_:g==="child"?v.activeRule.children[0]=_:v.activeRule[g]=_}else v.activeRule.props[g]=_;E.watchActiveRule(),(P=(L=(O=v.activeRule.config.config)==null?void 0:O.watch)==null?void 0:L[R])==null||P.call(L,{field:R,value:_,api:D,rule:v.activeRule})}},validateChange(g){!v.activeRule||v.validateForm.api[v.activeRule._id]!==v.activeRule||(v.activeRule.validate=g.validate||[],v.dragForm.api.refreshValidate(),v.dragForm.api.nextTick(()=>{v.dragForm.api.clearValidateState(v.activeRule.__fc__.id)}))},toolActive(g){E.unWatchActiveRule(),v.activeRule&&(delete v.propsForm.api[v.activeRule._id],delete v.baseForm.api[v.activeRule._id],delete v.validateForm.api[v.activeRule._id],delete v.dragForm.api.activeRule),v.activeRule=g,v.dragForm.api.activeRule=g,qt(()=>{v.activeTab="props",qt(()=>{v.propsForm.api[v.activeRule._id]=v.activeRule,v.baseForm.api[v.activeRule._id]=v.activeRule,v.validateForm.api[v.activeRule._id]=v.activeRule})}),v.cacheProps[g._id]||(v.cacheProps[g._id]=F(g.config.config.props,h.value&&h.value[g.config.config.name],g,{t:A,api:v.dragForm.api})),v.propsForm.rule=v.cacheProps[g._id],E.updateRuleFormData(),E.watchActiveRule()},updateRuleFormData(){const g=v.activeRule,_=ai(Jt({},g.props),{formCreateChild:Lr(g.children[0])});Object.keys(g).forEach(x=>{["effect","config","payload","id","type"].indexOf(x)<0&&(_["formCreate"+Lo(x)]=Lr(g[x]))}),["props","effect","attrs"].forEach(x=>{g[x]&&Object.keys(g[x]).forEach(D=>{_["formCreate"+Lo(x)+">"+D]=Lr(g[x][D])})}),v.propsForm.value=_,v.showBaseRule=rp(g,"field")&&g.input!==!1&&(!d.value||d.value.showBaseForm!==!1),v.showBaseRule&&(v.baseForm.value={field:g.field,title:g.title||"",info:g.info,_control:g._control},v.validateForm.value={validate:g.validate?[...g.validate]:[]},v.dragForm.api.refreshValidate(),v.dragForm.api.nextTick(()=>{v.dragForm.api.clearValidateState(g.__fc__.id)}))},dragStart(g){v.moveRule=g,v.added=!1},dragUnchoose(g,_){v.addRule={children:g,oldIndex:_.oldIndex}},dragAdd(g,_){const x=_.newIndex,D=_.item._underlying_vm_;if(!D||D.__fc__){if(v.addRule){const O=v.addRule.children.splice(v.addRule.oldIndex,1);g.splice(x,0,O[0])}}else{const O=E.makeRule(Ir[D.name]);g.splice(x,0,O)}v.added=!0},dragEnd(g,{newIndex:_,oldIndex:x}){if(!v.added&&!(v.moveRule===g&&_===x)){const D=v.moveRule.splice(x,1);g.splice(_,0,D[0])}v.moveRule=null,v.addRule=null,v.added=!1},makeRule(g,_){const x=_||g.rule({t:A});x.config={config:g},g.component&&(x.component=jr(g.component)),x.effect||(x.effect={}),x.effect._fc=!0,x._fc_drag_tag=g.name;let D;if(g.drag&&x.children.push(D=E.makeDrag(g.drag,x.type,E.makeChildren([]),{end:(L,P)=>E.dragEnd(L.self.children,P),add:(L,P)=>E.dragAdd(L.self.children,P),start:(L,P)=>E.dragStart(L.self.children,P),unchoose:(L,P)=>E.dragUnchoose(L.self.children,P)})),g.children&&!_)for(let L=0;L<(g.childrenLen||1);L++){const P=E.makeRule(Ir[g.children]);(D||x).children.push(P)}const O=i.value!==void 0?i.value!==!1:g.mask!==!1;return g.inside?(x.children=E.makeChildren([{type:"DragTool",props:{dragBtn:g.dragBtn!==!1,children:g.children,mask:O},effect:{_fc_tool:!0},inject:!0,on:{delete:({self:L})=>{const P=E.getParent(L).parent;P.__fc__.rm(),u.emit("delete",P),E.clearActiveRule()},create:({self:L})=>{const P=E.getParent(L);u.emit("create",P.parent),P.root.children.splice(P.root.children.indexOf(P.parent)+1,0,E.makeRule(P.parent.config.config))},addChild:({self:L})=>{const P=E.getParent(L),R=P.parent.config.config,T=Ir[R.children];!T||(R.drag?P.parent.children[0]:P.parent).children[0].children.push(E.makeRule(T))},copy:({self:L})=>{const P=E.getParent(L);u.emit("copy",P.parent),P.root.children.splice(P.root.children.indexOf(P.parent)+1,0,Pt.copyRule(P.parent))},active:({self:L})=>{const P=E.getParent(L);u.emit("active",P.parent),E.toolActive(P.parent)}},children:x.children}]),x):{type:"DragTool",props:{dragBtn:g.dragBtn!==!1,children:g.children,mask:O},effect:{_fc_tool:!0},inject:!0,on:{delete:({self:L})=>{u.emit("delete",L.children[0]),L.__fc__.rm(),E.clearActiveRule()},create:({self:L})=>{u.emit("create",L.children[0]);const P=E.getParent(L);P.root.children.splice(P.root.children.indexOf(P.parent)+1,0,E.makeRule(L.children[0].config.config))},addChild:({self:L})=>{const P=L.children[0].config.config,R=Ir[P.children];!R||(P.drag?L.children[0]:L).children[0].children.push(E.makeRule(R))},copy:({self:L})=>{u.emit("copy",L.children[0]);const P=E.getParent(L);P.root.children.splice(P.root.children.indexOf(P.parent)+1,0,Pt.copyRule(P.parent))},active:({self:L})=>{u.emit("active",L.children[0]),E.toolActive(L.children[0])}},children:E.makeChildren([x])}}};return v.dragForm.rule=E.makeDragRule(E.makeChildren(v.children)),ai(Jt(Jt({},Po(v)),E),{dragHeight:C,t:A})},created(){document.body.ondrop=o=>{o.preventDefault(),o.stopPropagation()}}}),Zy={class:"_fc-l-title"},e1={class:"_fc-l-item"},t1={class:"_fc-l-icon"},n1={class:"_fc-l-name"},r1=tt("i",{class:"fc-icon icon-preview"},null,-1),i1=tt("i",{class:"fc-icon icon-delete"},null,-1),o1={class:"_fc-m-drag"};function u1(o,a,n,i,t,u){const c=Le("draggable"),d=Le("el-aside"),p=Le("el-button"),h=Le("el-popconfirm"),m=Le("el-header"),b=Le("DragForm"),C=Le("ElMain"),w=Le("ElContainer"),A=Le("ElDivider"),F=Le("ElAside"),v=Le("ViewForm"),B=Le("ElDialog");return Je(),nr(w,{class:"_fc-designer",style:zm("height:"+o.dragHeight)},{default:it(()=>[ve(C,null,{default:it(()=>[ve(w,{style:{height:"100%"}},{default:it(()=>[ve(d,{class:"_fc-l",width:"266px"},{default:it(()=>[(Je(!0),ht(As,null,kd(o.menuList,(E,g)=>(Je(),ht("div",{key:g,class:"_fc-l-group"},[tt("h4",Zy,cn(E.title),1),ve(c,{group:{name:"default",pull:"clone",put:!1},sort:!1,itemKey:"name",list:E.list},{item:it(({element:_})=>[tt("div",e1,[tt("div",t1,[tt("i",{class:ku(["fc-icon",_.icon||"icon-input"])},null,2)]),tt("span",n1,cn(o.t("components."+_.name+".name")||_.label),1)])]),_:2},1032,["list"])]))),128))]),_:1}),ve(w,{class:"_fc-m"},{default:it(()=>[ve(m,{class:"_fc-m-tools",height:"45"},{default:it(()=>[Td(o.$slots,"handle"),ve(p,{type:"primary",plain:"",round:"",size:"small",onClick:o.previewFc},{default:it(()=>[r1,yr(" "+cn(o.t("designer.preview")),1)]),_:1},8,["onClick"]),ve(h,{title:o.t("designer.clearConfirmTitle"),width:"200px","confirm-button-text":o.t("designer.clearConfirm"),"cancel-button-text":o.t("designer.clearCancel"),onConfirm:o.clearDragRule},{reference:it(()=>[ve(p,{type:"danger",plain:"",round:"",size:"small"},{default:it(()=>[i1,yr(cn(o.t("designer.clear")),1)]),_:1})]),_:1},8,["title","confirm-button-text","cancel-button-text","onConfirm"])]),_:3}),ve(C,{style:{background:"#F5F5F5",padding:"20px"}},{default:it(()=>[tt("div",o1,[ve(b,{rule:o.dragForm.rule,option:o.form.value,api:o.dragForm.api,"onUpdate:api":a[0]||(a[0]=E=>o.dragForm.api=E)},null,8,["rule","option","api"])])]),_:1})]),_:3}),!o.config||o.config.showConfig!==!1?(Je(),nr(F,{key:0,class:"_fc-r",width:"320px"},{default:it(()=>[ve(w,{style:{height:"100%"}},{default:it(()=>[ve(m,{height:"40px",class:"_fc-r-tabs"},{default:it(()=>[o.activeRule||o.config&&o.config.showFormConfig===!1?(Je(),ht("div",{key:0,class:ku(["_fc-r-tab",{active:o.activeTab==="props"}]),onClick:a[1]||(a[1]=E=>o.activeTab="props")},cn(o.t("designer.config.component")),3)):Sn("",!0),!o.config||o.config.showFormConfig!==!1?(Je(),ht("div",{key:1,class:ku(["_fc-r-tab",{active:o.activeTab==="form"&&!!o.activeRule}]),onClick:a[2]||(a[2]=E=>o.activeTab="form")},cn(o.t("designer.config.form")),3)):Sn("",!0)]),_:1}),!o.config||o.config.showFormConfig!==!1?Co((Je(),nr(C,{key:0},{default:it(()=>[ve(b,{rule:o.form.rule,option:o.form.option,modelValue:o.form.value.form,"onUpdate:modelValue":a[3]||(a[3]=E=>o.form.value.form=E),api:o.form.api,"onUpdate:api":a[4]||(a[4]=E=>o.form.api=E)},null,8,["rule","option","modelValue","api"])]),_:1},512)),[[wu,o.activeTab==="form"]]):Sn("",!0),Co((Je(),nr(C,{style:{padding:"0 20px"},key:o.activeRule?o.activeRule._id:""},{default:it(()=>[tt("div",null,[o.showBaseRule?(Je(),nr(A,{key:0},{default:it(()=>[yr(cn(o.t("designer.config.rule")),1)]),_:1})):Sn("",!0),Co(ve(b,{api:o.baseForm.api,"onUpdate:api":a[5]||(a[5]=E=>o.baseForm.api=E),rule:o.baseForm.rule,option:o.baseForm.options,modelValue:o.baseForm.value,onChange:o.baseChange},null,8,["api","rule","option","modelValue","onChange"]),[[wu,o.showBaseRule]]),ve(A,null,{default:it(()=>[yr(cn(o.t("designer.config.props")),1)]),_:1}),ve(b,{api:o.propsForm.api,"onUpdate:api":a[6]||(a[6]=E=>o.propsForm.api=E),rule:o.propsForm.rule,option:o.propsForm.options,modelValue:o.propsForm.value,onChange:o.propChange,onRemoveField:o.propRemoveField},null,8,["api","rule","option","modelValue","onChange","onRemoveField"]),o.showBaseRule?(Je(),nr(A,{key:1},{default:it(()=>[yr(cn(o.t("designer.config.validate")),1)]),_:1})):Sn("",!0),Co(ve(b,{api:o.validateForm.api,"onUpdate:api":a[7]||(a[7]=E=>o.validateForm.api=E),rule:o.validateForm.rule,option:o.validateForm.options,modelValue:o.validateForm.value,"onUpdate:modelValue":o.validateChange},null,8,["api","rule","option","modelValue","onUpdate:modelValue"]),[[wu,o.showBaseRule]])])]),_:1})),[[wu,o.activeTab==="props"]])]),_:1})]),_:1})):Sn("",!0),ve(B,{modelValue:o.preview.state,"onUpdate:modelValue":a[8]||(a[8]=E=>o.preview.state=E),width:"800px","append-to-body":""},{default:it(()=>[o.preview.state?(Je(),nr(v,{key:0,rule:o.preview.rule,option:o.preview.option},null,8,["rule","option"])):Sn("",!0)]),_:1},8,["modelValue"])]),_:3})]),_:3})]),_:3},8,["style"])}const Xr=Gr(qy,[["render",u1]]);let a1=1;const l1=wt({name:"DragTool",props:["dragBtn","children","unique","mask"],setup(o){const{unique:a}=Po(o),n=Vi(()=>a.value||a1++),i=Sd("fcx");return{id:n,state:i}},methods:{active(){this.state.active!==this.id&&(this.state.active=this.id,this.$emit("active"))}},beforeDestroy(){this.state={}}}),s1={key:0,class:"drag-mask"},c1={class:"drag-l"},f1={key:0,class:"drag-btn _fc-drag-btn",style:{cursor:"move"}},d1=tt("i",{class:"fc-icon icon-move"},null,-1),p1=[d1],h1={class:"drag-r"},m1=tt("i",{class:"fc-icon icon-add"},null,-1),v1=[m1],g1=tt("i",{class:"fc-icon icon-copy"},null,-1),y1=[g1],A1=tt("i",{class:"fc-icon icon-add-child"},null,-1),b1=[A1],E1=tt("i",{class:"fc-icon icon-delete"},null,-1),w1=[E1];function C1(o,a,n,i,t,u){return Je(),ht("div",{class:ku(["drag-tool",{active:o.state.active===o.id}]),onClick:a[4]||(a[4]=jm((...c)=>o.active&&o.active(...c),["stop"]))},[o.mask?(Je(),ht("div",s1)):Sn("",!0),tt("div",c1,[o.state.active===o.id&&o.dragBtn!==!1?(Je(),ht("div",f1,p1)):Sn("",!0)]),tt("div",h1,[tt("div",{class:"drag-btn",onClick:a[0]||(a[0]=c=>o.$emit("create"))},v1),tt("div",{class:"drag-btn",onClick:a[1]||(a[1]=c=>o.$emit("copy"))},y1),o.children?(Je(),ht("div",{key:0,class:"drag-btn",onClick:a[2]||(a[2]=c=>o.$emit("addChild"))},b1)):Sn("",!0),tt("div",{class:"drag-btn drag-btn-danger",onClick:a[3]||(a[3]=c=>o.$emit("delete"))},w1)]),Td(o.$slots,"default")],2)}const F1=Gr(l1,[["render",C1]]);var x1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fd={exports:{}},xd;function Sp(){return xd||(xd=1,function(o,a){(function(n,i){o.exports=i()})(x1,function(){var n=navigator.userAgent,i=navigator.platform,t=/gecko\/\d/i.test(n),u=/MSIE \d/.test(n),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),d=/Edge\/(\d+)/.exec(n),p=u||c||d,h=p&&(u?document.documentMode||6:+(d||c)[1]),m=!d&&/WebKit\//.test(n),b=m&&/Qt\/\d+\.\d+/.test(n),C=!d&&/Chrome\/(\d+)/.exec(n),w=C&&+C[1],A=/Opera\//.test(n),F=/Apple Computer/.test(navigator.vendor),v=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),B=/PhantomJS/.test(n),E=F&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),g=/Android/.test(n),_=E||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),x=E||/Mac/.test(i),D=/\bCrOS\b/.test(n),O=/win/i.test(i),L=A&&n.match(/Version\/(\d*\.\d*)/);L&&(L=Number(L[1])),L&&L>=15&&(A=!1,m=!0);var P=x&&(b||A&&(L==null||L<12.11)),R=t||p&&h>=9;function T(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var $=function(e,r){var s=e.className,l=T(r).exec(s);if(l){var f=s.slice(l.index+l[0].length);e.className=s.slice(0,l.index)+(f?l[1]+f:"")}};function I(e){for(var r=e.childNodes.length;r>0;--r)e.removeChild(e.firstChild);return e}function z(e,r){return I(e).appendChild(r)}function M(e,r,s,l){var f=document.createElement(e);if(s&&(f.className=s),l&&(f.style.cssText=l),typeof r=="string")f.appendChild(document.createTextNode(r));else if(r)for(var y=0;y<r.length;++y)f.appendChild(r[y]);return f}function Q(e,r,s,l){var f=M(e,r,s,l);return f.setAttribute("role","presentation"),f}var Y;document.createRange?Y=function(e,r,s,l){var f=document.createRange();return f.setEnd(l||e,s),f.setStart(e,r),f}:Y=function(e,r,s){var l=document.body.createTextRange();try{l.moveToElementText(e.parentNode)}catch(f){return l}return l.collapse(!0),l.moveEnd("character",s),l.moveStart("character",r),l};function U(e,r){if(r.nodeType==3&&(r=r.parentNode),e.contains)return e.contains(r);do if(r.nodeType==11&&(r=r.host),r==e)return!0;while(r=r.parentNode)}function X(e){var r;try{r=e.activeElement}catch(s){r=e.body||null}for(;r&&r.shadowRoot&&r.shadowRoot.activeElement;)r=r.shadowRoot.activeElement;return r}function J(e,r){var s=e.className;T(r).test(s)||(e.className+=(s?" ":"")+r)}function ee(e,r){for(var s=e.split(" "),l=0;l<s.length;l++)s[l]&&!T(s[l]).test(r)&&(r+=" "+s[l]);return r}var ae=function(e){e.select()};E?ae=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:p&&(ae=function(e){try{e.select()}catch(r){}});function de(e){return e.display.wrapper.ownerDocument}function se(e){return de(e).defaultView}function ye(e){var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}}function ie(e,r,s){r||(r={});for(var l in e)e.hasOwnProperty(l)&&(s!==!1||!r.hasOwnProperty(l))&&(r[l]=e[l]);return r}function oe(e,r,s,l,f){r==null&&(r=e.search(/[^\s\u00a0]/),r==-1&&(r=e.length));for(var y=l||0,S=f||0;;){var k=e.indexOf("	",y);if(k<0||k>=r)return S+(r-y);S+=k-y,S+=s-S%s,y=k+1}}var le=function(){this.id=null,this.f=null,this.time=0,this.handler=ye(this.onTimeout,this)};le.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},le.prototype.set=function(e,r){this.f=r;var s=+new Date+e;(!this.id||s<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=s)};function pe(e,r){for(var s=0;s<e.length;++s)if(e[s]==r)return s;return-1}var je=50,Oe={toString:function(){return"CodeMirror.Pass"}},Ve={scroll:!1},Qt={origin:"*mouse"},An={origin:"+move"};function ft(e,r,s){for(var l=0,f=0;;){var y=e.indexOf("	",l);y==-1&&(y=e.length);var S=y-l;if(y==e.length||f+S>=r)return l+Math.min(S,r-f);if(f+=y-l,f+=s-f%s,l=y+1,f>=r)return l}}var It=[""];function $t(e){for(;It.length<=e;)It.push(Ne(It)+" ");return It[e]}function Ne(e){return e[e.length-1]}function Wt(e,r){for(var s=[],l=0;l<e.length;l++)s[l]=r(e[l],l);return s}function Ln(e,r,s){for(var l=0,f=s(r);l<e.length&&s(e[l])<=f;)l++;e.splice(l,0,r)}function tn(){}function wr(e,r){var s;return Object.create?s=Object.create(e):(tn.prototype=e,s=new tn),r&&ie(r,s),s}var Qn=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function bn(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Qn.test(e))}function En(e,r){return r?r.source.indexOf("\\w")>-1&&bn(e)?!0:r.test(e):bn(e)}function Wn(e){for(var r in e)if(e.hasOwnProperty(r)&&e[r])return!1;return!0}var wn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function kn(e){return e.charCodeAt(0)>=768&&wn.test(e)}function Ct(e,r,s){for(;(s<0?r>0:r<e.length)&&kn(e.charAt(r));)r+=s;return r}function Ke(e,r,s){for(var l=r>s?-1:1;;){if(r==s)return r;var f=(r+s)/2,y=l<0?Math.ceil(f):Math.floor(f);if(y==r)return e(y)?r:s;e(y)?s=y:r=y+l}}function dn(e,r,s,l){if(!e)return l(r,s,"ltr",0);for(var f=!1,y=0;y<e.length;++y){var S=e[y];(S.from<s&&S.to>r||r==s&&S.to==r)&&(l(Math.max(S.from,r),Math.min(S.to,s),S.level==1?"rtl":"ltr",y),f=!0)}f||l(r,s,"ltr")}var we=null;function ge(e,r,s){var l;we=null;for(var f=0;f<e.length;++f){var y=e[f];if(y.from<r&&y.to>r)return f;y.to==r&&(y.from!=y.to&&s=="before"?l=f:we=f),y.from==r&&(y.from!=y.to&&s!="before"?l=f:we=f)}return l!=null?l:we}var Te=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function s(H){return H<=247?e.charAt(H):1424<=H&&H<=1524?"R":1536<=H&&H<=1785?r.charAt(H-1536):1774<=H&&H<=2220?"r":8192<=H&&H<=8203?"w":H==8204?"b":"L"}var l=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,y=/[LRr]/,S=/[Lb1n]/,k=/[1n]/;function N(H,j,W){this.level=H,this.from=j,this.to=W}return function(H,j){var W=j=="ltr"?"L":"R";if(H.length==0||j=="ltr"&&!l.test(H))return!1;for(var Z=H.length,q=[],re=0;re<Z;++re)q.push(s(H.charCodeAt(re)));for(var ue=0,ce=W;ue<Z;++ue){var he=q[ue];he=="m"?q[ue]=ce:ce=he}for(var Ee=0,me=W;Ee<Z;++Ee){var Ce=q[Ee];Ce=="1"&&me=="r"?q[Ee]="n":y.test(Ce)&&(me=Ce,Ce=="r"&&(q[Ee]="R"))}for(var Se=1,_e=q[0];Se<Z-1;++Se){var Ue=q[Se];Ue=="+"&&_e=="1"&&q[Se+1]=="1"?q[Se]="1":Ue==","&&_e==q[Se+1]&&(_e=="1"||_e=="n")&&(q[Se]=_e),_e=Ue}for(var ot=0;ot<Z;++ot){var Mt=q[ot];if(Mt==",")q[ot]="N";else if(Mt=="%"){var st=void 0;for(st=ot+1;st<Z&&q[st]=="%";++st);for(var mn=ot&&q[ot-1]=="!"||st<Z&&q[st]=="1"?"1":"N",un=ot;un<st;++un)q[un]=mn;ot=st-1}}for(var At=0,an=W;At<Z;++At){var Lt=q[At];an=="L"&&Lt=="1"?q[At]="L":y.test(Lt)&&(an=Lt)}for(var xt=0;xt<Z;++xt)if(f.test(q[xt])){var bt=void 0;for(bt=xt+1;bt<Z&&f.test(q[bt]);++bt);for(var pt=(xt?q[xt-1]:W)=="L",ln=(bt<Z?q[bt]:W)=="L",Ri=pt==ln?pt?"L":"R":W,Pr=xt;Pr<bt;++Pr)q[Pr]=Ri;xt=bt-1}for(var zt=[],tr,Rt=0;Rt<Z;)if(S.test(q[Rt])){var Ua=Rt;for(++Rt;Rt<Z&&S.test(q[Rt]);++Rt);zt.push(new N(0,Ua,Rt))}else{var mr=Rt,oi=zt.length,ui=j=="rtl"?1:0;for(++Rt;Rt<Z&&q[Rt]!="L";++Rt);for(var Xt=mr;Xt<Rt;)if(k.test(q[Xt])){mr<Xt&&(zt.splice(oi,0,new N(1,mr,Xt)),oi+=ui);var Oi=Xt;for(++Xt;Xt<Rt&&k.test(q[Xt]);++Xt);zt.splice(oi,0,new N(2,Oi,Xt)),oi+=ui,mr=Xt}else++Xt;mr<Rt&&zt.splice(oi,0,new N(1,mr,Rt))}return j=="ltr"&&(zt[0].level==1&&(tr=H.match(/^\s+/))&&(zt[0].from=tr[0].length,zt.unshift(new N(0,0,tr[0].length))),Ne(zt).level==1&&(tr=H.match(/\s+$/))&&(Ne(zt).to-=tr[0].length,zt.push(new N(0,Z-tr[0].length,Z)))),j=="rtl"?zt.reverse():zt}}();function ke(e,r){var s=e.order;return s==null&&(s=e.order=Te(e.text,r)),s}var fe=[],ne=function(e,r,s){if(e.addEventListener)e.addEventListener(r,s,!1);else if(e.attachEvent)e.attachEvent("on"+r,s);else{var l=e._handlers||(e._handlers={});l[r]=(l[r]||fe).concat(s)}};function Be(e,r){return e._handlers&&e._handlers[r]||fe}function xe(e,r,s){if(e.removeEventListener)e.removeEventListener(r,s,!1);else if(e.detachEvent)e.detachEvent("on"+r,s);else{var l=e._handlers,f=l&&l[r];if(f){var y=pe(f,s);y>-1&&(l[r]=f.slice(0,y).concat(f.slice(y+1)))}}}function Me(e,r){var s=Be(e,r);if(s.length)for(var l=Array.prototype.slice.call(arguments,2),f=0;f<s.length;++f)s[f].apply(null,l)}function Qe(e,r,s){return typeof r=="string"&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}}),Me(e,s||r.type,e,r),Jr(r)||r.codemirrorIgnore}function Cn(e){var r=e._handlers&&e._handlers.cursorActivity;if(r)for(var s=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),l=0;l<r.length;++l)pe(s,r[l])==-1&&s.push(r[l])}function nt(e,r){return Be(e,r).length>0}function at(e){e.prototype.on=function(r,s){ne(this,r,s)},e.prototype.off=function(r,s){xe(this,r,s)}}function mt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Gn(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Jr(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function ar(e){mt(e),Gn(e)}function nn(e){return e.target||e.srcElement}function Ui(e){var r=e.which;return r==null&&(e.button&1?r=1:e.button&2?r=3:e.button&4&&(r=2)),x&&e.ctrlKey&&r==1&&(r=3),r}var qu=function(){if(p&&h<9)return!1;var e=M("div");return"draggable"in e||"dragDrop"in e}(),Tn;function Zu(e){if(Tn==null){var r=M("span","​");z(e,M("span",[r,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Tn=r.offsetWidth<=1&&r.offsetHeight>2&&!(p&&h<8))}var s=Tn?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return s.setAttribute("cm-text",""),s}var pi;function zo(e){if(pi!=null)return pi;var r=z(e,document.createTextNode("AخA")),s=Y(r,0,1).getBoundingClientRect(),l=Y(r,1,2).getBoundingClientRect();return I(e),!s||s.left==s.right?!1:pi=l.right-s.right<3}var Yi=`

b`.split(/\n/).length!=3?function(e){for(var r=0,s=[],l=e.length;r<=l;){var f=e.indexOf(`
`,r);f==-1&&(f=e.length);var y=e.slice(r,e.charAt(f-1)=="\r"?f-1:f),S=y.indexOf("\r");S!=-1?(s.push(y.slice(0,S)),r+=S+1):(s.push(y),r=f+1)}return s}:function(e){return e.split(/\r\n?|\n/)},Cr=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(r){return!1}}:function(e){var r;try{r=e.ownerDocument.selection.createRange()}catch(s){}return!r||r.parentElement()!=e?!1:r.compareEndPoints("StartToEnd",r)!=0},Xn=function(){var e=M("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Jn=null;function jo(e){if(Jn!=null)return Jn;var r=z(e,M("span","x")),s=r.getBoundingClientRect(),l=Y(r,0,1).getBoundingClientRect();return Jn=Math.abs(s.left-l.left)>1}var Hn={},Fr={};function Uo(e,r){arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),Hn[e]=r}function hi(e,r){Fr[e]=r}function pn(e){if(typeof e=="string"&&Fr.hasOwnProperty(e))e=Fr[e];else if(e&&typeof e.name=="string"&&Fr.hasOwnProperty(e.name)){var r=Fr[e.name];typeof r=="string"&&(r={name:r}),e=wr(r,e),e.name=r.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return pn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return pn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function xr(e,r){r=pn(r);var s=Hn[r.name];if(!s)return xr(e,"text/plain");var l=s(e,r);if(_r.hasOwnProperty(r.name)){var f=_r[r.name];for(var y in f)!f.hasOwnProperty(y)||(l.hasOwnProperty(y)&&(l["_"+y]=l[y]),l[y]=f[y])}if(l.name=r.name,r.helperType&&(l.helperType=r.helperType),r.modeProps)for(var S in r.modeProps)l[S]=r.modeProps[S];return l}var _r={};function Yo(e,r){var s=_r.hasOwnProperty(e)?_r[e]:_r[e]={};ie(r,s)}function lr(e,r){if(r===!0)return r;if(e.copyState)return e.copyState(r);var s={};for(var l in r){var f=r[l];f instanceof Array&&(f=f.concat([])),s[l]=f}return s}function Br(e,r){for(var s;e.innerMode&&(s=e.innerMode(r),!(!s||s.mode==e));)r=s.state,e=s.mode;return s||{mode:e,state:r}}function Qi(e,r,s){return e.startState?e.startState(r,s):!0}var dt=function(e,r,s){this.pos=this.start=0,this.string=e,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=s};dt.prototype.eol=function(){return this.pos>=this.string.length},dt.prototype.sol=function(){return this.pos==this.lineStart},dt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},dt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},dt.prototype.eat=function(e){var r=this.string.charAt(this.pos),s;if(typeof e=="string"?s=r==e:s=r&&(e.test?e.test(r):e(r)),s)return++this.pos,r},dt.prototype.eatWhile=function(e){for(var r=this.pos;this.eat(e););return this.pos>r},dt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},dt.prototype.skipToEnd=function(){this.pos=this.string.length},dt.prototype.skipTo=function(e){var r=this.string.indexOf(e,this.pos);if(r>-1)return this.pos=r,!0},dt.prototype.backUp=function(e){this.pos-=e},dt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=oe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?oe(this.string,this.lineStart,this.tabSize):0)},dt.prototype.indentation=function(){return oe(this.string,null,this.tabSize)-(this.lineStart?oe(this.string,this.lineStart,this.tabSize):0)},dt.prototype.match=function(e,r,s){if(typeof e=="string"){var l=function(S){return s?S.toLowerCase():S},f=this.string.substr(this.pos,e.length);if(l(f)==l(e))return r!==!1&&(this.pos+=e.length),!0}else{var y=this.string.slice(this.pos).match(e);return y&&y.index>0?null:(y&&r!==!1&&(this.pos+=y[0].length),y)}},dt.prototype.current=function(){return this.string.slice(this.start,this.pos)},dt.prototype.hideFirstChars=function(e,r){this.lineStart+=e;try{return r()}finally{this.lineStart-=e}},dt.prototype.lookAhead=function(e){var r=this.lineOracle;return r&&r.lookAhead(e)},dt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Fe(e,r){if(r-=e.first,r<0||r>=e.size)throw new Error("There is no line "+(r+e.first)+" in the document.");for(var s=e;!s.lines;)for(var l=0;;++l){var f=s.children[l],y=f.chunkSize();if(r<y){s=f;break}r-=y}return s.lines[r]}function sr(e,r,s){var l=[],f=r.line;return e.iter(r.line,s.line+1,function(y){var S=y.text;f==s.line&&(S=S.slice(0,s.ch)),f==r.line&&(S=S.slice(r.ch)),l.push(S),++f}),l}function mi(e,r,s){var l=[];return e.iter(r,s,function(f){l.push(f.text)}),l}function Mn(e,r){var s=r-e.height;if(s)for(var l=e;l;l=l.parent)l.height+=s}function qe(e){if(e.parent==null)return null;for(var r=e.parent,s=pe(r.lines,e),l=r.parent;l;r=l,l=l.parent)for(var f=0;l.children[f]!=r;++f)s+=l.children[f].chunkSize();return s+r.first}function Kn(e,r){var s=e.first;e:do{for(var l=0;l<e.children.length;++l){var f=e.children[l],y=f.height;if(r<y){e=f;continue e}r-=y,s+=f.chunkSize()}return s}while(!e.lines);for(var S=0;S<e.lines.length;++S){var k=e.lines[S],N=k.height;if(r<N)break;r-=N}return s+S}function V(e,r){return r>=e.first&&r<e.first+e.size}function G(e,r){return String(e.lineNumberFormatter(r+e.firstLineNumber))}function K(e,r,s){if(s===void 0&&(s=null),!(this instanceof K))return new K(e,r,s);this.line=e,this.ch=r,this.sticky=s}function te(e,r){return e.line-r.line||e.ch-r.ch}function Pe(e,r){return e.sticky==r.sticky&&te(e,r)==0}function Ye(e){return K(e.line,e.ch)}function Ge(e,r){return te(e,r)<0?r:e}function Ft(e,r){return te(e,r)<0?e:r}function Fn(e,r){return Math.max(e.first,Math.min(r,e.first+e.size-1))}function Ie(e,r){if(r.line<e.first)return K(e.first,0);var s=e.first+e.size-1;return r.line>s?K(s,Fe(e,s).text.length):Tp(r,Fe(e,r.line).text.length)}function Tp(e,r){var s=e.ch;return s==null||s>r?K(e.line,r):s<0?K(e.line,0):e}function Ds(e,r){for(var s=[],l=0;l<r.length;l++)s[l]=Ie(e,r[l]);return s}var Qo=function(e,r){this.state=e,this.lookAhead=r},qn=function(e,r,s,l){this.state=r,this.doc=e,this.line=s,this.maxLookAhead=l||0,this.baseTokens=null,this.baseTokenPos=1};qn.prototype.lookAhead=function(e){var r=this.doc.getLine(this.line+e);return r!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),r},qn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},qn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},qn.fromSaved=function(e,r,s){return r instanceof Qo?new qn(e,lr(e.mode,r.state),s,r.lookAhead):new qn(e,lr(e.mode,r),s)},qn.prototype.save=function(e){var r=e!==!1?lr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Qo(r,this.maxLookAhead):r};function ks(e,r,s,l){var f=[e.state.modeGen],y={};Ps(e,r.text,e.doc.mode,s,function(H,j){return f.push(H,j)},y,l);for(var S=s.state,k=function(H){s.baseTokens=f;var j=e.state.overlays[H],W=1,Z=0;s.state=!0,Ps(e,r.text,j.mode,s,function(q,re){for(var ue=W;Z<q;){var ce=f[W];ce>q&&f.splice(W,1,q,f[W+1],ce),W+=2,Z=Math.min(q,ce)}if(re)if(j.opaque)f.splice(ue,W-ue,q,"overlay "+re),W=ue+2;else for(;ue<W;ue+=2){var he=f[ue+1];f[ue+1]=(he?he+" ":"")+"overlay "+re}},y),s.state=S,s.baseTokens=null,s.baseTokenPos=1},N=0;N<e.state.overlays.length;++N)k(N);return{styles:f,classes:y.bgClass||y.textClass?y:null}}function Ts(e,r,s){if(!r.styles||r.styles[0]!=e.state.modeGen){var l=Wi(e,qe(r)),f=r.text.length>e.options.maxHighlightLength&&lr(e.doc.mode,l.state),y=ks(e,r,l);f&&(l.state=f),r.stateAfter=l.save(!f),r.styles=y.styles,y.classes?r.styleClasses=y.classes:r.styleClasses&&(r.styleClasses=null),s===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return r.styles}function Wi(e,r,s){var l=e.doc,f=e.display;if(!l.mode.startState)return new qn(l,!0,r);var y=Mp(e,r,s),S=y>l.first&&Fe(l,y-1).stateAfter,k=S?qn.fromSaved(l,S,y):new qn(l,Qi(l.mode),y);return l.iter(y,r,function(N){ea(e,N.text,k);var H=k.line;N.stateAfter=H==r-1||H%5==0||H>=f.viewFrom&&H<f.viewTo?k.save():null,k.nextLine()}),s&&(l.modeFrontier=k.line),k}function ea(e,r,s,l){var f=e.doc.mode,y=new dt(r,e.options.tabSize,s);for(y.start=y.pos=l||0,r==""&&Ms(f,s.state);!y.eol();)ta(f,y,s.state),y.start=y.pos}function Ms(e,r){if(e.blankLine)return e.blankLine(r);if(e.innerMode){var s=Br(e,r);if(s.mode.blankLine)return s.mode.blankLine(s.state)}}function ta(e,r,s,l){for(var f=0;f<10;f++){l&&(l[0]=Br(e,s).mode);var y=e.token(r,s);if(r.pos>r.start)return y}throw new Error("Mode "+e.name+" failed to advance stream.")}var Rs=function(e,r,s){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=r||null,this.state=s};function Os(e,r,s,l){var f=e.doc,y=f.mode,S;r=Ie(f,r);var k=Fe(f,r.line),N=Wi(e,r.line,s),H=new dt(k.text,e.options.tabSize,N),j;for(l&&(j=[]);(l||H.pos<r.ch)&&!H.eol();)H.start=H.pos,S=ta(y,H,N.state),l&&j.push(new Rs(H,S,lr(f.mode,N.state)));return l?j:new Rs(H,S,N.state)}function Ns(e,r){if(e)for(;;){var s=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!s)break;e=e.slice(0,s.index)+e.slice(s.index+s[0].length);var l=s[1]?"bgClass":"textClass";r[l]==null?r[l]=s[2]:new RegExp("(?:^|\\s)"+s[2]+"(?:$|\\s)").test(r[l])||(r[l]+=" "+s[2])}return e}function Ps(e,r,s,l,f,y,S){var k=s.flattenSpans;k==null&&(k=e.options.flattenSpans);var N=0,H=null,j=new dt(r,e.options.tabSize,l),W,Z=e.options.addModeClass&&[null];for(r==""&&Ns(Ms(s,l.state),y);!j.eol();){if(j.pos>e.options.maxHighlightLength?(k=!1,S&&ea(e,r,l,j.pos),j.pos=r.length,W=null):W=Ns(ta(s,j,l.state,Z),y),Z){var q=Z[0].name;q&&(W="m-"+(W?q+" "+W:q))}if(!k||H!=W){for(;N<j.start;)N=Math.min(j.start,N+5e3),f(N,H);H=W}j.start=j.pos}for(;N<j.pos;){var re=Math.min(j.pos,N+5e3);f(re,H),N=re}}function Mp(e,r,s){for(var l,f,y=e.doc,S=s?-1:r-(e.doc.mode.innerMode?1e3:100),k=r;k>S;--k){if(k<=y.first)return y.first;var N=Fe(y,k-1),H=N.stateAfter;if(H&&(!s||k+(H instanceof Qo?H.lookAhead:0)<=y.modeFrontier))return k;var j=oe(N.text,null,e.options.tabSize);(f==null||l>j)&&(f=k-1,l=j)}return f}function Rp(e,r){if(e.modeFrontier=Math.min(e.modeFrontier,r),!(e.highlightFrontier<r-10)){for(var s=e.first,l=r-1;l>s;l--){var f=Fe(e,l).stateAfter;if(f&&(!(f instanceof Qo)||l+f.lookAhead<r)){s=l+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,s)}}var Is=!1,cr=!1;function Op(){Is=!0}function Np(){cr=!0}function Wo(e,r,s){this.marker=e,this.from=r,this.to=s}function Gi(e,r){if(e)for(var s=0;s<e.length;++s){var l=e[s];if(l.marker==r)return l}}function Pp(e,r){for(var s,l=0;l<e.length;++l)e[l]!=r&&(s||(s=[])).push(e[l]);return s}function Ip(e,r,s){var l=s&&window.WeakSet&&(s.markedSpans||(s.markedSpans=new WeakSet));l&&e.markedSpans&&l.has(e.markedSpans)?e.markedSpans.push(r):(e.markedSpans=e.markedSpans?e.markedSpans.concat([r]):[r],l&&l.add(e.markedSpans)),r.marker.attachLine(e)}function Lp(e,r,s){var l;if(e)for(var f=0;f<e.length;++f){var y=e[f],S=y.marker,k=y.from==null||(S.inclusiveLeft?y.from<=r:y.from<r);if(k||y.from==r&&S.type=="bookmark"&&(!s||!y.marker.insertLeft)){var N=y.to==null||(S.inclusiveRight?y.to>=r:y.to>r);(l||(l=[])).push(new Wo(S,y.from,N?null:y.to))}}return l}function Hp(e,r,s){var l;if(e)for(var f=0;f<e.length;++f){var y=e[f],S=y.marker,k=y.to==null||(S.inclusiveRight?y.to>=r:y.to>r);if(k||y.from==r&&S.type=="bookmark"&&(!s||y.marker.insertLeft)){var N=y.from==null||(S.inclusiveLeft?y.from<=r:y.from<r);(l||(l=[])).push(new Wo(S,N?null:y.from-r,y.to==null?null:y.to-r))}}return l}function na(e,r){if(r.full)return null;var s=V(e,r.from.line)&&Fe(e,r.from.line).markedSpans,l=V(e,r.to.line)&&Fe(e,r.to.line).markedSpans;if(!s&&!l)return null;var f=r.from.ch,y=r.to.ch,S=te(r.from,r.to)==0,k=Lp(s,f,S),N=Hp(l,y,S),H=r.text.length==1,j=Ne(r.text).length+(H?f:0);if(k)for(var W=0;W<k.length;++W){var Z=k[W];if(Z.to==null){var q=Gi(N,Z.marker);q?H&&(Z.to=q.to==null?null:q.to+j):Z.to=f}}if(N)for(var re=0;re<N.length;++re){var ue=N[re];if(ue.to!=null&&(ue.to+=j),ue.from==null){var ce=Gi(k,ue.marker);ce||(ue.from=j,H&&(k||(k=[])).push(ue))}else ue.from+=j,H&&(k||(k=[])).push(ue)}k&&(k=Ls(k)),N&&N!=k&&(N=Ls(N));var he=[k];if(!H){var Ee=r.text.length-2,me;if(Ee>0&&k)for(var Ce=0;Ce<k.length;++Ce)k[Ce].to==null&&(me||(me=[])).push(new Wo(k[Ce].marker,null,null));for(var Se=0;Se<Ee;++Se)he.push(me);he.push(N)}return he}function Ls(e){for(var r=0;r<e.length;++r){var s=e[r];s.from!=null&&s.from==s.to&&s.marker.clearWhenEmpty!==!1&&e.splice(r--,1)}return e.length?e:null}function $p(e,r,s){var l=null;if(e.iter(r.line,s.line+1,function(q){if(q.markedSpans)for(var re=0;re<q.markedSpans.length;++re){var ue=q.markedSpans[re].marker;ue.readOnly&&(!l||pe(l,ue)==-1)&&(l||(l=[])).push(ue)}}),!l)return null;for(var f=[{from:r,to:s}],y=0;y<l.length;++y)for(var S=l[y],k=S.find(0),N=0;N<f.length;++N){var H=f[N];if(!(te(H.to,k.from)<0||te(H.from,k.to)>0)){var j=[N,1],W=te(H.from,k.from),Z=te(H.to,k.to);(W<0||!S.inclusiveLeft&&!W)&&j.push({from:H.from,to:k.from}),(Z>0||!S.inclusiveRight&&!Z)&&j.push({from:k.to,to:H.to}),f.splice.apply(f,j),N+=j.length-3}}return f}function Hs(e){var r=e.markedSpans;if(r){for(var s=0;s<r.length;++s)r[s].marker.detachLine(e);e.markedSpans=null}}function $s(e,r){if(r){for(var s=0;s<r.length;++s)r[s].marker.attachLine(e);e.markedSpans=r}}function Go(e){return e.inclusiveLeft?-1:0}function Xo(e){return e.inclusiveRight?1:0}function ra(e,r){var s=e.lines.length-r.lines.length;if(s!=0)return s;var l=e.find(),f=r.find(),y=te(l.from,f.from)||Go(e)-Go(r);if(y)return-y;var S=te(l.to,f.to)||Xo(e)-Xo(r);return S||r.id-e.id}function Vs(e,r){var s=cr&&e.markedSpans,l;if(s)for(var f=void 0,y=0;y<s.length;++y)f=s[y],f.marker.collapsed&&(r?f.from:f.to)==null&&(!l||ra(l,f.marker)<0)&&(l=f.marker);return l}function zs(e){return Vs(e,!0)}function Jo(e){return Vs(e,!1)}function Vp(e,r){var s=cr&&e.markedSpans,l;if(s)for(var f=0;f<s.length;++f){var y=s[f];y.marker.collapsed&&(y.from==null||y.from<r)&&(y.to==null||y.to>r)&&(!l||ra(l,y.marker)<0)&&(l=y.marker)}return l}function js(e,r,s,l,f){var y=Fe(e,r),S=cr&&y.markedSpans;if(S)for(var k=0;k<S.length;++k){var N=S[k];if(N.marker.collapsed){var H=N.marker.find(0),j=te(H.from,s)||Go(N.marker)-Go(f),W=te(H.to,l)||Xo(N.marker)-Xo(f);if(!(j>=0&&W<=0||j<=0&&W>=0)&&(j<=0&&(N.marker.inclusiveRight&&f.inclusiveLeft?te(H.to,s)>=0:te(H.to,s)>0)||j>=0&&(N.marker.inclusiveRight&&f.inclusiveLeft?te(H.from,l)<=0:te(H.from,l)<0)))return!0}}}function $n(e){for(var r;r=zs(e);)e=r.find(-1,!0).line;return e}function zp(e){for(var r;r=Jo(e);)e=r.find(1,!0).line;return e}function jp(e){for(var r,s;r=Jo(e);)e=r.find(1,!0).line,(s||(s=[])).push(e);return s}function ia(e,r){var s=Fe(e,r),l=$n(s);return s==l?r:qe(l)}function Us(e,r){if(r>e.lastLine())return r;var s=Fe(e,r),l;if(!Sr(e,s))return r;for(;l=Jo(s);)s=l.find(1,!0).line;return qe(s)+1}function Sr(e,r){var s=cr&&r.markedSpans;if(s){for(var l=void 0,f=0;f<s.length;++f)if(l=s[f],!!l.marker.collapsed&&(l.from==null||!l.marker.widgetNode&&l.from==0&&l.marker.inclusiveLeft&&oa(e,r,l)))return!0}}function oa(e,r,s){if(s.to==null){var l=s.marker.find(1,!0);return oa(e,l.line,Gi(l.line.markedSpans,s.marker))}if(s.marker.inclusiveRight&&s.to==r.text.length)return!0;for(var f=void 0,y=0;y<r.markedSpans.length;++y)if(f=r.markedSpans[y],f.marker.collapsed&&!f.marker.widgetNode&&f.from==s.to&&(f.to==null||f.to!=s.from)&&(f.marker.inclusiveLeft||s.marker.inclusiveRight)&&oa(e,r,f))return!0}function fr(e){e=$n(e);for(var r=0,s=e.parent,l=0;l<s.lines.length;++l){var f=s.lines[l];if(f==e)break;r+=f.height}for(var y=s.parent;y;s=y,y=s.parent)for(var S=0;S<y.children.length;++S){var k=y.children[S];if(k==s)break;r+=k.height}return r}function Ko(e){if(e.height==0)return 0;for(var r=e.text.length,s,l=e;s=zs(l);){var f=s.find(0,!0);l=f.from.line,r+=f.from.ch-f.to.ch}for(l=e;s=Jo(l);){var y=s.find(0,!0);r-=l.text.length-y.from.ch,l=y.to.line,r+=l.text.length-y.to.ch}return r}function ua(e){var r=e.display,s=e.doc;r.maxLine=Fe(s,s.first),r.maxLineLength=Ko(r.maxLine),r.maxLineChanged=!0,s.iter(function(l){var f=Ko(l);f>r.maxLineLength&&(r.maxLineLength=f,r.maxLine=l)})}var vi=function(e,r,s){this.text=e,$s(this,r),this.height=s?s(this):1};vi.prototype.lineNo=function(){return qe(this)},at(vi);function Up(e,r,s,l){e.text=r,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Hs(e),$s(e,s);var f=l?l(e):1;f!=e.height&&Mn(e,f)}function Yp(e){e.parent=null,Hs(e)}var Qp={},Wp={};function Ys(e,r){if(!e||/^\s*$/.test(e))return null;var s=r.addModeClass?Wp:Qp;return s[e]||(s[e]=e.replace(/\S+/g,"cm-$&"))}function Qs(e,r){var s=Q("span",null,null,m?"padding-right: .1px":null),l={pre:Q("pre",[s],"CodeMirror-line"),content:s,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};r.measure={};for(var f=0;f<=(r.rest?r.rest.length:0);f++){var y=f?r.rest[f-1]:r.line,S=void 0;l.pos=0,l.addToken=Xp,zo(e.display.measure)&&(S=ke(y,e.doc.direction))&&(l.addToken=Kp(l.addToken,S)),l.map=[];var k=r!=e.display.externalMeasured&&qe(y);qp(y,l,Ts(e,y,k)),y.styleClasses&&(y.styleClasses.bgClass&&(l.bgClass=ee(y.styleClasses.bgClass,l.bgClass||"")),y.styleClasses.textClass&&(l.textClass=ee(y.styleClasses.textClass,l.textClass||""))),l.map.length==0&&l.map.push(0,0,l.content.appendChild(Zu(e.display.measure))),f==0?(r.measure.map=l.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(l.map),(r.measure.caches||(r.measure.caches=[])).push({}))}if(m){var N=l.content.lastChild;(/\bcm-tab\b/.test(N.className)||N.querySelector&&N.querySelector(".cm-tab"))&&(l.content.className="cm-tab-wrap-hack")}return Me(e,"renderLine",e,r.line,l.pre),l.pre.className&&(l.textClass=ee(l.pre.className,l.textClass||"")),l}function Gp(e){var r=M("span","•","cm-invalidchar");return r.title="\\u"+e.charCodeAt(0).toString(16),r.setAttribute("aria-label",r.title),r}function Xp(e,r,s,l,f,y,S){if(r){var k=e.splitSpaces?Jp(r,e.trailingSpace):r,N=e.cm.state.specialChars,H=!1,j;if(!N.test(r))e.col+=r.length,j=document.createTextNode(k),e.map.push(e.pos,e.pos+r.length,j),p&&h<9&&(H=!0),e.pos+=r.length;else{j=document.createDocumentFragment();for(var W=0;;){N.lastIndex=W;var Z=N.exec(r),q=Z?Z.index-W:r.length-W;if(q){var re=document.createTextNode(k.slice(W,W+q));p&&h<9?j.appendChild(M("span",[re])):j.appendChild(re),e.map.push(e.pos,e.pos+q,re),e.col+=q,e.pos+=q}if(!Z)break;W+=q+1;var ue=void 0;if(Z[0]=="	"){var ce=e.cm.options.tabSize,he=ce-e.col%ce;ue=j.appendChild(M("span",$t(he),"cm-tab")),ue.setAttribute("role","presentation"),ue.setAttribute("cm-text","	"),e.col+=he}else Z[0]=="\r"||Z[0]==`
`?(ue=j.appendChild(M("span",Z[0]=="\r"?"␍":"␤","cm-invalidchar")),ue.setAttribute("cm-text",Z[0]),e.col+=1):(ue=e.cm.options.specialCharPlaceholder(Z[0]),ue.setAttribute("cm-text",Z[0]),p&&h<9?j.appendChild(M("span",[ue])):j.appendChild(ue),e.col+=1);e.map.push(e.pos,e.pos+1,ue),e.pos++}}if(e.trailingSpace=k.charCodeAt(r.length-1)==32,s||l||f||H||y||S){var Ee=s||"";l&&(Ee+=l),f&&(Ee+=f);var me=M("span",[j],Ee,y);if(S)for(var Ce in S)S.hasOwnProperty(Ce)&&Ce!="style"&&Ce!="class"&&me.setAttribute(Ce,S[Ce]);return e.content.appendChild(me)}e.content.appendChild(j)}}function Jp(e,r){if(e.length>1&&!/  /.test(e))return e;for(var s=r,l="",f=0;f<e.length;f++){var y=e.charAt(f);y==" "&&s&&(f==e.length-1||e.charCodeAt(f+1)==32)&&(y=" "),l+=y,s=y==" "}return l}function Kp(e,r){return function(s,l,f,y,S,k,N){f=f?f+" cm-force-border":"cm-force-border";for(var H=s.pos,j=H+l.length;;){for(var W=void 0,Z=0;Z<r.length&&(W=r[Z],!(W.to>H&&W.from<=H));Z++);if(W.to>=j)return e(s,l,f,y,S,k,N);e(s,l.slice(0,W.to-H),f,y,null,k,N),y=null,l=l.slice(W.to-H),H=W.to}}}function Ws(e,r,s,l){var f=!l&&s.widgetNode;f&&e.map.push(e.pos,e.pos+r,f),!l&&e.cm.display.input.needsContentAttribute&&(f||(f=e.content.appendChild(document.createElement("span"))),f.setAttribute("cm-marker",s.id)),f&&(e.cm.display.input.setUneditable(f),e.content.appendChild(f)),e.pos+=r,e.trailingSpace=!1}function qp(e,r,s){var l=e.markedSpans,f=e.text,y=0;if(!l){for(var S=1;S<s.length;S+=2)r.addToken(r,f.slice(y,y=s[S]),Ys(s[S+1],r.cm.options));return}for(var k=f.length,N=0,H=1,j="",W,Z,q=0,re,ue,ce,he,Ee;;){if(q==N){re=ue=ce=Z="",Ee=null,he=null,q=1/0;for(var me=[],Ce=void 0,Se=0;Se<l.length;++Se){var _e=l[Se],Ue=_e.marker;if(Ue.type=="bookmark"&&_e.from==N&&Ue.widgetNode)me.push(Ue);else if(_e.from<=N&&(_e.to==null||_e.to>N||Ue.collapsed&&_e.to==N&&_e.from==N)){if(_e.to!=null&&_e.to!=N&&q>_e.to&&(q=_e.to,ue=""),Ue.className&&(re+=" "+Ue.className),Ue.css&&(Z=(Z?Z+";":"")+Ue.css),Ue.startStyle&&_e.from==N&&(ce+=" "+Ue.startStyle),Ue.endStyle&&_e.to==q&&(Ce||(Ce=[])).push(Ue.endStyle,_e.to),Ue.title&&((Ee||(Ee={})).title=Ue.title),Ue.attributes)for(var ot in Ue.attributes)(Ee||(Ee={}))[ot]=Ue.attributes[ot];Ue.collapsed&&(!he||ra(he.marker,Ue)<0)&&(he=_e)}else _e.from>N&&q>_e.from&&(q=_e.from)}if(Ce)for(var Mt=0;Mt<Ce.length;Mt+=2)Ce[Mt+1]==q&&(ue+=" "+Ce[Mt]);if(!he||he.from==N)for(var st=0;st<me.length;++st)Ws(r,0,me[st]);if(he&&(he.from||0)==N){if(Ws(r,(he.to==null?k+1:he.to)-N,he.marker,he.from==null),he.to==null)return;he.to==N&&(he=!1)}}if(N>=k)break;for(var mn=Math.min(k,q);;){if(j){var un=N+j.length;if(!he){var At=un>mn?j.slice(0,mn-N):j;r.addToken(r,At,W?W+re:re,ce,N+At.length==q?ue:"",Z,Ee)}if(un>=mn){j=j.slice(mn-N),N=mn;break}N=un,ce=""}j=f.slice(y,y=s[H++]),W=Ys(s[H++],r.cm.options)}}}function Gs(e,r,s){this.line=r,this.rest=jp(r),this.size=this.rest?qe(Ne(this.rest))-s+1:1,this.node=this.text=null,this.hidden=Sr(e,r)}function qo(e,r,s){for(var l=[],f,y=r;y<s;y=f){var S=new Gs(e.doc,Fe(e.doc,y),y);f=y+S.size,l.push(S)}return l}var gi=null;function Zp(e){gi?gi.ops.push(e):e.ownsGroup=gi={ops:[e],delayedCallbacks:[]}}function eh(e){var r=e.delayedCallbacks,s=0;do{for(;s<r.length;s++)r[s].call(null);for(var l=0;l<e.ops.length;l++){var f=e.ops[l];if(f.cursorActivityHandlers)for(;f.cursorActivityCalled<f.cursorActivityHandlers.length;)f.cursorActivityHandlers[f.cursorActivityCalled++].call(null,f.cm)}}while(s<r.length)}function th(e,r){var s=e.ownsGroup;if(s)try{eh(s)}finally{gi=null,r(s)}}var Xi=null;function Dt(e,r){var s=Be(e,r);if(s.length){var l=Array.prototype.slice.call(arguments,2),f;gi?f=gi.delayedCallbacks:Xi?f=Xi:(f=Xi=[],setTimeout(nh,0));for(var y=function(k){f.push(function(){return s[k].apply(null,l)})},S=0;S<s.length;++S)y(S)}}function nh(){var e=Xi;Xi=null;for(var r=0;r<e.length;++r)e[r]()}function Xs(e,r,s,l){for(var f=0;f<r.changes.length;f++){var y=r.changes[f];y=="text"?ih(e,r):y=="gutter"?Ks(e,r,s,l):y=="class"?aa(e,r):y=="widget"&&oh(e,r,l)}r.changes=null}function Ji(e){return e.node==e.text&&(e.node=M("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),p&&h<8&&(e.node.style.zIndex=2)),e.node}function rh(e,r){var s=r.bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass;if(s&&(s+=" CodeMirror-linebackground"),r.background)s?r.background.className=s:(r.background.parentNode.removeChild(r.background),r.background=null);else if(s){var l=Ji(r);r.background=l.insertBefore(M("div",null,s),l.firstChild),e.display.input.setUneditable(r.background)}}function Js(e,r){var s=e.display.externalMeasured;return s&&s.line==r.line?(e.display.externalMeasured=null,r.measure=s.measure,s.built):Qs(e,r)}function ih(e,r){var s=r.text.className,l=Js(e,r);r.text==r.node&&(r.node=l.pre),r.text.parentNode.replaceChild(l.pre,r.text),r.text=l.pre,l.bgClass!=r.bgClass||l.textClass!=r.textClass?(r.bgClass=l.bgClass,r.textClass=l.textClass,aa(e,r)):s&&(r.text.className=s)}function aa(e,r){rh(e,r),r.line.wrapClass?Ji(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");var s=r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass;r.text.className=s||""}function Ks(e,r,s,l){if(r.gutter&&(r.node.removeChild(r.gutter),r.gutter=null),r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null),r.line.gutterClass){var f=Ji(r);r.gutterBackground=M("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(e.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px; width: "+l.gutterTotalWidth+"px"),e.display.input.setUneditable(r.gutterBackground),f.insertBefore(r.gutterBackground,r.text)}var y=r.line.gutterMarkers;if(e.options.lineNumbers||y){var S=Ji(r),k=r.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?l.fixedPos:-l.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),e.display.input.setUneditable(k),S.insertBefore(k,r.text),r.line.gutterClass&&(k.className+=" "+r.line.gutterClass),e.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(r.lineNumber=k.appendChild(M("div",G(e.options,s),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+l.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),y)for(var N=0;N<e.display.gutterSpecs.length;++N){var H=e.display.gutterSpecs[N].className,j=y.hasOwnProperty(H)&&y[H];j&&k.appendChild(M("div",[j],"CodeMirror-gutter-elt","left: "+l.gutterLeft[H]+"px; width: "+l.gutterWidth[H]+"px"))}}}function oh(e,r,s){r.alignable&&(r.alignable=null);for(var l=T("CodeMirror-linewidget"),f=r.node.firstChild,y=void 0;f;f=y)y=f.nextSibling,l.test(f.className)&&r.node.removeChild(f);qs(e,r,s)}function uh(e,r,s,l){var f=Js(e,r);return r.text=r.node=f.pre,f.bgClass&&(r.bgClass=f.bgClass),f.textClass&&(r.textClass=f.textClass),aa(e,r),Ks(e,r,s,l),qs(e,r,l),r.node}function qs(e,r,s){if(Zs(e,r.line,r,s,!0),r.rest)for(var l=0;l<r.rest.length;l++)Zs(e,r.rest[l],r,s,!1)}function Zs(e,r,s,l,f){if(r.widgets)for(var y=Ji(s),S=0,k=r.widgets;S<k.length;++S){var N=k[S],H=M("div",[N.node],"CodeMirror-linewidget"+(N.className?" "+N.className:""));N.handleMouseEvents||H.setAttribute("cm-ignore-events","true"),ah(N,H,s,l),e.display.input.setUneditable(H),f&&N.above?y.insertBefore(H,s.gutter||s.text):y.appendChild(H),Dt(N,"redraw")}}function ah(e,r,s,l){if(e.noHScroll){(s.alignable||(s.alignable=[])).push(r);var f=l.wrapperWidth;r.style.left=l.fixedPos+"px",e.coverGutter||(f-=l.gutterTotalWidth,r.style.paddingLeft=l.gutterTotalWidth+"px"),r.style.width=f+"px"}e.coverGutter&&(r.style.zIndex=5,r.style.position="relative",e.noHScroll||(r.style.marginLeft=-l.gutterTotalWidth+"px"))}function Ki(e){if(e.height!=null)return e.height;var r=e.doc.cm;if(!r)return 0;if(!U(document.body,e.node)){var s="position: relative;";e.coverGutter&&(s+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),e.noHScroll&&(s+="width: "+r.display.wrapper.clientWidth+"px;"),z(r.display.measure,M("div",[e.node],null,s))}return e.height=e.node.parentNode.offsetHeight}function dr(e,r){for(var s=nn(r);s!=e.wrapper;s=s.parentNode)if(!s||s.nodeType==1&&s.getAttribute("cm-ignore-events")=="true"||s.parentNode==e.sizer&&s!=e.mover)return!0}function Zo(e){return e.lineSpace.offsetTop}function la(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ec(e){if(e.cachedPaddingH)return e.cachedPaddingH;var r=z(e.measure,M("pre","x","CodeMirror-line-like")),s=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,l={left:parseInt(s.paddingLeft),right:parseInt(s.paddingRight)};return!isNaN(l.left)&&!isNaN(l.right)&&(e.cachedPaddingH=l),l}function Zn(e){return je-e.display.nativeBarWidth}function Kr(e){return e.display.scroller.clientWidth-Zn(e)-e.display.barWidth}function sa(e){return e.display.scroller.clientHeight-Zn(e)-e.display.barHeight}function lh(e,r,s){var l=e.options.lineWrapping,f=l&&Kr(e);if(!r.measure.heights||l&&r.measure.width!=f){var y=r.measure.heights=[];if(l){r.measure.width=f;for(var S=r.text.firstChild.getClientRects(),k=0;k<S.length-1;k++){var N=S[k],H=S[k+1];Math.abs(N.bottom-H.bottom)>2&&y.push((N.bottom+H.top)/2-s.top)}}y.push(s.bottom-s.top)}}function tc(e,r,s){if(e.line==r)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var l=0;l<e.rest.length;l++)if(e.rest[l]==r)return{map:e.measure.maps[l],cache:e.measure.caches[l]};for(var f=0;f<e.rest.length;f++)if(qe(e.rest[f])>s)return{map:e.measure.maps[f],cache:e.measure.caches[f],before:!0}}}function sh(e,r){r=$n(r);var s=qe(r),l=e.display.externalMeasured=new Gs(e.doc,r,s);l.lineN=s;var f=l.built=Qs(e,l);return l.text=f.pre,z(e.display.lineMeasure,f.pre),l}function nc(e,r,s,l){return er(e,yi(e,r),s,l)}function ca(e,r){if(r>=e.display.viewFrom&&r<e.display.viewTo)return e.display.view[ei(e,r)];var s=e.display.externalMeasured;if(s&&r>=s.lineN&&r<s.lineN+s.size)return s}function yi(e,r){var s=qe(r),l=ca(e,s);l&&!l.text?l=null:l&&l.changes&&(Xs(e,l,s,ma(e)),e.curOp.forceUpdate=!0),l||(l=sh(e,r));var f=tc(l,r,s);return{line:r,view:l,rect:null,map:f.map,cache:f.cache,before:f.before,hasHeights:!1}}function er(e,r,s,l,f){r.before&&(s=-1);var y=s+(l||""),S;return r.cache.hasOwnProperty(y)?S=r.cache[y]:(r.rect||(r.rect=r.view.text.getBoundingClientRect()),r.hasHeights||(lh(e,r.view,r.rect),r.hasHeights=!0),S=fh(e,r,s,l),S.bogus||(r.cache[y]=S)),{left:S.left,right:S.right,top:f?S.rtop:S.top,bottom:f?S.rbottom:S.bottom}}var rc={left:0,right:0,top:0,bottom:0};function ic(e,r,s){for(var l,f,y,S,k,N,H=0;H<e.length;H+=3)if(k=e[H],N=e[H+1],r<k?(f=0,y=1,S="left"):r<N?(f=r-k,y=f+1):(H==e.length-3||r==N&&e[H+3]>r)&&(y=N-k,f=y-1,r>=N&&(S="right")),f!=null){if(l=e[H+2],k==N&&s==(l.insertLeft?"left":"right")&&(S=s),s=="left"&&f==0)for(;H&&e[H-2]==e[H-3]&&e[H-1].insertLeft;)l=e[(H-=3)+2],S="left";if(s=="right"&&f==N-k)for(;H<e.length-3&&e[H+3]==e[H+4]&&!e[H+5].insertLeft;)l=e[(H+=3)+2],S="right";break}return{node:l,start:f,end:y,collapse:S,coverStart:k,coverEnd:N}}function ch(e,r){var s=rc;if(r=="left")for(var l=0;l<e.length&&(s=e[l]).left==s.right;l++);else for(var f=e.length-1;f>=0&&(s=e[f]).left==s.right;f--);return s}function fh(e,r,s,l){var f=ic(r.map,s,l),y=f.node,S=f.start,k=f.end,N=f.collapse,H;if(y.nodeType==3){for(var j=0;j<4;j++){for(;S&&kn(r.line.text.charAt(f.coverStart+S));)--S;for(;f.coverStart+k<f.coverEnd&&kn(r.line.text.charAt(f.coverStart+k));)++k;if(p&&h<9&&S==0&&k==f.coverEnd-f.coverStart?H=y.parentNode.getBoundingClientRect():H=ch(Y(y,S,k).getClientRects(),l),H.left||H.right||S==0)break;k=S,S=S-1,N="right"}p&&h<11&&(H=dh(e.display.measure,H))}else{S>0&&(N=l="right");var W;e.options.lineWrapping&&(W=y.getClientRects()).length>1?H=W[l=="right"?W.length-1:0]:H=y.getBoundingClientRect()}if(p&&h<9&&!S&&(!H||!H.left&&!H.right)){var Z=y.parentNode.getClientRects()[0];Z?H={left:Z.left,right:Z.left+bi(e.display),top:Z.top,bottom:Z.bottom}:H=rc}for(var q=H.top-r.rect.top,re=H.bottom-r.rect.top,ue=(q+re)/2,ce=r.view.measure.heights,he=0;he<ce.length-1&&!(ue<ce[he]);he++);var Ee=he?ce[he-1]:0,me=ce[he],Ce={left:(N=="right"?H.right:H.left)-r.rect.left,right:(N=="left"?H.left:H.right)-r.rect.left,top:Ee,bottom:me};return!H.left&&!H.right&&(Ce.bogus=!0),e.options.singleCursorHeightPerLine||(Ce.rtop=q,Ce.rbottom=re),Ce}function dh(e,r){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!jo(e))return r;var s=screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI;return{left:r.left*s,right:r.right*s,top:r.top*l,bottom:r.bottom*l}}function oc(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var r=0;r<e.rest.length;r++)e.measure.caches[r]={}}function uc(e){e.display.externalMeasure=null,I(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)oc(e.display.view[r])}function qi(e){uc(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ac(e){return C&&g?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function lc(e){return C&&g?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function fa(e){var r=$n(e),s=r.widgets,l=0;if(s)for(var f=0;f<s.length;++f)s[f].above&&(l+=Ki(s[f]));return l}function eu(e,r,s,l,f){if(!f){var y=fa(r);s.top+=y,s.bottom+=y}if(l=="line")return s;l||(l="local");var S=fr(r);if(l=="local"?S+=Zo(e.display):S-=e.display.viewOffset,l=="page"||l=="window"){var k=e.display.lineSpace.getBoundingClientRect();S+=k.top+(l=="window"?0:lc(de(e)));var N=k.left+(l=="window"?0:ac(de(e)));s.left+=N,s.right+=N}return s.top+=S,s.bottom+=S,s}function sc(e,r,s){if(s=="div")return r;var l=r.left,f=r.top;if(s=="page")l-=ac(de(e)),f-=lc(de(e));else if(s=="local"||!s){var y=e.display.sizer.getBoundingClientRect();l+=y.left,f+=y.top}var S=e.display.lineSpace.getBoundingClientRect();return{left:l-S.left,top:f-S.top}}function tu(e,r,s,l,f){return l||(l=Fe(e.doc,r.line)),eu(e,l,nc(e,l,r.ch,f),s)}function Vn(e,r,s,l,f,y){l=l||Fe(e.doc,r.line),f||(f=yi(e,l));function S(re,ue){var ce=er(e,f,re,ue?"right":"left",y);return ue?ce.left=ce.right:ce.right=ce.left,eu(e,l,ce,s)}var k=ke(l,e.doc.direction),N=r.ch,H=r.sticky;if(N>=l.text.length?(N=l.text.length,H="before"):N<=0&&(N=0,H="after"),!k)return S(H=="before"?N-1:N,H=="before");function j(re,ue,ce){var he=k[ue],Ee=he.level==1;return S(ce?re-1:re,Ee!=ce)}var W=ge(k,N,H),Z=we,q=j(N,W,H=="before");return Z!=null&&(q.other=j(N,Z,H!="before")),q}function cc(e,r){var s=0;r=Ie(e.doc,r),e.options.lineWrapping||(s=bi(e.display)*r.ch);var l=Fe(e.doc,r.line),f=fr(l)+Zo(e.display);return{left:s,right:s,top:f,bottom:f+l.height}}function da(e,r,s,l,f){var y=K(e,r,s);return y.xRel=f,l&&(y.outside=l),y}function pa(e,r,s){var l=e.doc;if(s+=e.display.viewOffset,s<0)return da(l.first,0,null,-1,-1);var f=Kn(l,s),y=l.first+l.size-1;if(f>y)return da(l.first+l.size-1,Fe(l,y).text.length,null,1,1);r<0&&(r=0);for(var S=Fe(l,f);;){var k=ph(e,S,f,r,s),N=Vp(S,k.ch+(k.xRel>0||k.outside>0?1:0));if(!N)return k;var H=N.find(1);if(H.line==f)return H;S=Fe(l,f=H.line)}}function fc(e,r,s,l){l-=fa(r);var f=r.text.length,y=Ke(function(S){return er(e,s,S-1).bottom<=l},f,0);return f=Ke(function(S){return er(e,s,S).top>l},y,f),{begin:y,end:f}}function dc(e,r,s,l){s||(s=yi(e,r));var f=eu(e,r,er(e,s,l),"line").top;return fc(e,r,s,f)}function ha(e,r,s,l){return e.bottom<=s?!1:e.top>s?!0:(l?e.left:e.right)>r}function ph(e,r,s,l,f){f-=fr(r);var y=yi(e,r),S=fa(r),k=0,N=r.text.length,H=!0,j=ke(r,e.doc.direction);if(j){var W=(e.options.lineWrapping?mh:hh)(e,r,s,y,j,l,f);H=W.level!=1,k=H?W.from:W.to-1,N=H?W.to:W.from-1}var Z=null,q=null,re=Ke(function(Se){var _e=er(e,y,Se);return _e.top+=S,_e.bottom+=S,ha(_e,l,f,!1)?(_e.top<=f&&_e.left<=l&&(Z=Se,q=_e),!0):!1},k,N),ue,ce,he=!1;if(q){var Ee=l-q.left<q.right-l,me=Ee==H;re=Z+(me?0:1),ce=me?"after":"before",ue=Ee?q.left:q.right}else{!H&&(re==N||re==k)&&re++,ce=re==0?"after":re==r.text.length?"before":er(e,y,re-(H?1:0)).bottom+S<=f==H?"after":"before";var Ce=Vn(e,K(s,re,ce),"line",r,y);ue=Ce.left,he=f<Ce.top?-1:f>=Ce.bottom?1:0}return re=Ct(r.text,re,1),da(s,re,ce,he,l-ue)}function hh(e,r,s,l,f,y,S){var k=Ke(function(W){var Z=f[W],q=Z.level!=1;return ha(Vn(e,K(s,q?Z.to:Z.from,q?"before":"after"),"line",r,l),y,S,!0)},0,f.length-1),N=f[k];if(k>0){var H=N.level!=1,j=Vn(e,K(s,H?N.from:N.to,H?"after":"before"),"line",r,l);ha(j,y,S,!0)&&j.top>S&&(N=f[k-1])}return N}function mh(e,r,s,l,f,y,S){var k=fc(e,r,l,S),N=k.begin,H=k.end;/\s/.test(r.text.charAt(H-1))&&H--;for(var j=null,W=null,Z=0;Z<f.length;Z++){var q=f[Z];if(!(q.from>=H||q.to<=N)){var re=q.level!=1,ue=er(e,l,re?Math.min(H,q.to)-1:Math.max(N,q.from)).right,ce=ue<y?y-ue+1e9:ue-y;(!j||W>ce)&&(j=q,W=ce)}}return j||(j=f[f.length-1]),j.from<N&&(j={from:N,to:j.to,level:j.level}),j.to>H&&(j={from:j.from,to:H,level:j.level}),j}var qr;function Ai(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(qr==null){qr=M("pre",null,"CodeMirror-line-like");for(var r=0;r<49;++r)qr.appendChild(document.createTextNode("x")),qr.appendChild(M("br"));qr.appendChild(document.createTextNode("x"))}z(e.measure,qr);var s=qr.offsetHeight/50;return s>3&&(e.cachedTextHeight=s),I(e.measure),s||1}function bi(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var r=M("span","xxxxxxxxxx"),s=M("pre",[r],"CodeMirror-line-like");z(e.measure,s);var l=r.getBoundingClientRect(),f=(l.right-l.left)/10;return f>2&&(e.cachedCharWidth=f),f||10}function ma(e){for(var r=e.display,s={},l={},f=r.gutters.clientLeft,y=r.gutters.firstChild,S=0;y;y=y.nextSibling,++S){var k=e.display.gutterSpecs[S].className;s[k]=y.offsetLeft+y.clientLeft+f,l[k]=y.clientWidth}return{fixedPos:va(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:s,gutterWidth:l,wrapperWidth:r.wrapper.clientWidth}}function va(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function pc(e){var r=Ai(e.display),s=e.options.lineWrapping,l=s&&Math.max(5,e.display.scroller.clientWidth/bi(e.display)-3);return function(f){if(Sr(e.doc,f))return 0;var y=0;if(f.widgets)for(var S=0;S<f.widgets.length;S++)f.widgets[S].height&&(y+=f.widgets[S].height);return s?y+(Math.ceil(f.text.length/l)||1)*r:y+r}}function ga(e){var r=e.doc,s=pc(e);r.iter(function(l){var f=s(l);f!=l.height&&Mn(l,f)})}function Zr(e,r,s,l){var f=e.display;if(!s&&nn(r).getAttribute("cm-not-content")=="true")return null;var y,S,k=f.lineSpace.getBoundingClientRect();try{y=r.clientX-k.left,S=r.clientY-k.top}catch(W){return null}var N=pa(e,y,S),H;if(l&&N.xRel>0&&(H=Fe(e.doc,N.line).text).length==N.ch){var j=oe(H,H.length,e.options.tabSize)-H.length;N=K(N.line,Math.max(0,Math.round((y-ec(e.display).left)/bi(e.display))-j))}return N}function ei(e,r){if(r>=e.display.viewTo||(r-=e.display.viewFrom,r<0))return null;for(var s=e.display.view,l=0;l<s.length;l++)if(r-=s[l].size,r<0)return l}function rn(e,r,s,l){r==null&&(r=e.doc.first),s==null&&(s=e.doc.first+e.doc.size),l||(l=0);var f=e.display;if(l&&s<f.viewTo&&(f.updateLineNumbers==null||f.updateLineNumbers>r)&&(f.updateLineNumbers=r),e.curOp.viewChanged=!0,r>=f.viewTo)cr&&ia(e.doc,r)<f.viewTo&&kr(e);else if(s<=f.viewFrom)cr&&Us(e.doc,s+l)>f.viewFrom?kr(e):(f.viewFrom+=l,f.viewTo+=l);else if(r<=f.viewFrom&&s>=f.viewTo)kr(e);else if(r<=f.viewFrom){var y=nu(e,s,s+l,1);y?(f.view=f.view.slice(y.index),f.viewFrom=y.lineN,f.viewTo+=l):kr(e)}else if(s>=f.viewTo){var S=nu(e,r,r,-1);S?(f.view=f.view.slice(0,S.index),f.viewTo=S.lineN):kr(e)}else{var k=nu(e,r,r,-1),N=nu(e,s,s+l,1);k&&N?(f.view=f.view.slice(0,k.index).concat(qo(e,k.lineN,N.lineN)).concat(f.view.slice(N.index)),f.viewTo+=l):kr(e)}var H=f.externalMeasured;H&&(s<H.lineN?H.lineN+=l:r<H.lineN+H.size&&(f.externalMeasured=null))}function Dr(e,r,s){e.curOp.viewChanged=!0;var l=e.display,f=e.display.externalMeasured;if(f&&r>=f.lineN&&r<f.lineN+f.size&&(l.externalMeasured=null),!(r<l.viewFrom||r>=l.viewTo)){var y=l.view[ei(e,r)];if(y.node!=null){var S=y.changes||(y.changes=[]);pe(S,s)==-1&&S.push(s)}}}function kr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function nu(e,r,s,l){var f=ei(e,r),y,S=e.display.view;if(!cr||s==e.doc.first+e.doc.size)return{index:f,lineN:s};for(var k=e.display.viewFrom,N=0;N<f;N++)k+=S[N].size;if(k!=r){if(l>0){if(f==S.length-1)return null;y=k+S[f].size-r,f++}else y=k-r;r+=y,s+=y}for(;ia(e.doc,s)!=s;){if(f==(l<0?0:S.length-1))return null;s+=l*S[f-(l<0?1:0)].size,f+=l}return{index:f,lineN:s}}function vh(e,r,s){var l=e.display,f=l.view;f.length==0||r>=l.viewTo||s<=l.viewFrom?(l.view=qo(e,r,s),l.viewFrom=r):(l.viewFrom>r?l.view=qo(e,r,l.viewFrom).concat(l.view):l.viewFrom<r&&(l.view=l.view.slice(ei(e,r))),l.viewFrom=r,l.viewTo<s?l.view=l.view.concat(qo(e,l.viewTo,s)):l.viewTo>s&&(l.view=l.view.slice(0,ei(e,s)))),l.viewTo=s}function hc(e){for(var r=e.display.view,s=0,l=0;l<r.length;l++){var f=r[l];!f.hidden&&(!f.node||f.changes)&&++s}return s}function Zi(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mc(e,r){r===void 0&&(r=!0);var s=e.doc,l={},f=l.cursors=document.createDocumentFragment(),y=l.selection=document.createDocumentFragment(),S=e.options.$customCursor;S&&(r=!0);for(var k=0;k<s.sel.ranges.length;k++)if(!(!r&&k==s.sel.primIndex)){var N=s.sel.ranges[k];if(!(N.from().line>=e.display.viewTo||N.to().line<e.display.viewFrom)){var H=N.empty();if(S){var j=S(e,N);j&&ya(e,j,f)}else(H||e.options.showCursorWhenSelecting)&&ya(e,N.head,f);H||gh(e,N,y)}}return l}function ya(e,r,s){var l=Vn(e,r,"div",null,null,!e.options.singleCursorHeightPerLine),f=s.appendChild(M("div"," ","CodeMirror-cursor"));if(f.style.left=l.left+"px",f.style.top=l.top+"px",f.style.height=Math.max(0,l.bottom-l.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var y=tu(e,r,"div",null,null),S=y.right-y.left;f.style.width=(S>0?S:e.defaultCharWidth())+"px"}if(l.other){var k=s.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=l.other.left+"px",k.style.top=l.other.top+"px",k.style.height=(l.other.bottom-l.other.top)*.85+"px"}}function ru(e,r){return e.top-r.top||e.left-r.left}function gh(e,r,s){var l=e.display,f=e.doc,y=document.createDocumentFragment(),S=ec(e.display),k=S.left,N=Math.max(l.sizerWidth,Kr(e)-l.sizer.offsetLeft)-S.right,H=f.direction=="ltr";function j(me,Ce,Se,_e){Ce<0&&(Ce=0),Ce=Math.round(Ce),_e=Math.round(_e),y.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+me+`px;
                             top: `+Ce+"px; width: "+(Se==null?N-me:Se)+`px;
                             height: `+(_e-Ce)+"px"))}function W(me,Ce,Se){var _e=Fe(f,me),Ue=_e.text.length,ot,Mt;function st(At,an){return tu(e,K(me,At),"div",_e,an)}function mn(At,an,Lt){var xt=dc(e,_e,null,At),bt=an=="ltr"==(Lt=="after")?"left":"right",pt=Lt=="after"?xt.begin:xt.end-(/\s/.test(_e.text.charAt(xt.end-1))?2:1);return st(pt,bt)[bt]}var un=ke(_e,f.direction);return dn(un,Ce||0,Se==null?Ue:Se,function(At,an,Lt,xt){var bt=Lt=="ltr",pt=st(At,bt?"left":"right"),ln=st(an-1,bt?"right":"left"),Ri=Ce==null&&At==0,Pr=Se==null&&an==Ue,zt=xt==0,tr=!un||xt==un.length-1;if(ln.top-pt.top<=3){var Rt=(H?Ri:Pr)&&zt,Ua=(H?Pr:Ri)&&tr,mr=Rt?k:(bt?pt:ln).left,oi=Ua?N:(bt?ln:pt).right;j(mr,pt.top,oi-mr,pt.bottom)}else{var ui,Xt,Oi,Ya;bt?(ui=H&&Ri&&zt?k:pt.left,Xt=H?N:mn(At,Lt,"before"),Oi=H?k:mn(an,Lt,"after"),Ya=H&&Pr&&tr?N:ln.right):(ui=H?mn(At,Lt,"before"):k,Xt=!H&&Ri&&zt?N:pt.right,Oi=!H&&Pr&&tr?k:ln.left,Ya=H?mn(an,Lt,"after"):N),j(ui,pt.top,Xt-ui,pt.bottom),pt.bottom<ln.top&&j(k,pt.bottom,null,ln.top),j(Oi,ln.top,Ya-Oi,ln.bottom)}(!ot||ru(pt,ot)<0)&&(ot=pt),ru(ln,ot)<0&&(ot=ln),(!Mt||ru(pt,Mt)<0)&&(Mt=pt),ru(ln,Mt)<0&&(Mt=ln)}),{start:ot,end:Mt}}var Z=r.from(),q=r.to();if(Z.line==q.line)W(Z.line,Z.ch,q.ch);else{var re=Fe(f,Z.line),ue=Fe(f,q.line),ce=$n(re)==$n(ue),he=W(Z.line,Z.ch,ce?re.text.length+1:null).end,Ee=W(q.line,ce?0:null,q.ch).start;ce&&(he.top<Ee.top-2?(j(he.right,he.top,null,he.bottom),j(k,Ee.top,Ee.left,Ee.bottom)):j(he.right,he.top,Ee.left-he.right,he.bottom)),he.bottom<Ee.top&&j(k,he.bottom,null,Ee.top)}s.appendChild(y)}function Aa(e){if(e.state.focused){var r=e.display;clearInterval(r.blinker);var s=!0;r.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?r.blinker=setInterval(function(){e.hasFocus()||Ei(e),r.cursorDiv.style.visibility=(s=!s)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(r.cursorDiv.style.visibility="hidden")}}function vc(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Ea(e))}function ba(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ei(e))},100)}function Ea(e,r){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(Me(e,"focus",e,r),e.state.focused=!0,J(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),m&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Aa(e))}function Ei(e,r){e.state.delayingBlurEvent||(e.state.focused&&(Me(e,"blur",e,r),e.state.focused=!1,$(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function iu(e){for(var r=e.display,s=r.lineDiv.offsetTop,l=Math.max(0,r.scroller.getBoundingClientRect().top),f=r.lineDiv.getBoundingClientRect().top,y=0,S=0;S<r.view.length;S++){var k=r.view[S],N=e.options.lineWrapping,H=void 0,j=0;if(!k.hidden){if(f+=k.line.height,p&&h<8){var W=k.node.offsetTop+k.node.offsetHeight;H=W-s,s=W}else{var Z=k.node.getBoundingClientRect();H=Z.bottom-Z.top,!N&&k.text.firstChild&&(j=k.text.firstChild.getBoundingClientRect().right-Z.left-1)}var q=k.line.height-H;if((q>.005||q<-.005)&&(f<l&&(y-=q),Mn(k.line,H),gc(k.line),k.rest))for(var re=0;re<k.rest.length;re++)gc(k.rest[re]);if(j>e.display.sizerWidth){var ue=Math.ceil(j/bi(e.display));ue>e.display.maxLineLength&&(e.display.maxLineLength=ue,e.display.maxLine=k.line,e.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(r.scroller.scrollTop+=y)}function gc(e){if(e.widgets)for(var r=0;r<e.widgets.length;++r){var s=e.widgets[r],l=s.node.parentNode;l&&(s.height=l.offsetHeight)}}function ou(e,r,s){var l=s&&s.top!=null?Math.max(0,s.top):e.scroller.scrollTop;l=Math.floor(l-Zo(e));var f=s&&s.bottom!=null?s.bottom:l+e.wrapper.clientHeight,y=Kn(r,l),S=Kn(r,f);if(s&&s.ensure){var k=s.ensure.from.line,N=s.ensure.to.line;k<y?(y=k,S=Kn(r,fr(Fe(r,k))+e.wrapper.clientHeight)):Math.min(N,r.lastLine())>=S&&(y=Kn(r,fr(Fe(r,N))-e.wrapper.clientHeight),S=N)}return{from:y,to:Math.max(S,y+1)}}function yh(e,r){if(!Qe(e,"scrollCursorIntoView")){var s=e.display,l=s.sizer.getBoundingClientRect(),f=null,y=s.wrapper.ownerDocument;if(r.top+l.top<0?f=!0:r.bottom+l.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(f=!1),f!=null&&!B){var S=M("div","​",null,`position: absolute;
                         top: `+(r.top-s.viewOffset-Zo(e.display))+`px;
                         height: `+(r.bottom-r.top+Zn(e)+s.barHeight)+`px;
                         left: `+r.left+"px; width: "+Math.max(2,r.right-r.left)+"px;");e.display.lineSpace.appendChild(S),S.scrollIntoView(f),e.display.lineSpace.removeChild(S)}}}function Ah(e,r,s,l){l==null&&(l=0);var f;!e.options.lineWrapping&&r==s&&(s=r.sticky=="before"?K(r.line,r.ch+1,"before"):r,r=r.ch?K(r.line,r.sticky=="before"?r.ch-1:r.ch,"after"):r);for(var y=0;y<5;y++){var S=!1,k=Vn(e,r),N=!s||s==r?k:Vn(e,s);f={left:Math.min(k.left,N.left),top:Math.min(k.top,N.top)-l,right:Math.max(k.left,N.left),bottom:Math.max(k.bottom,N.bottom)+l};var H=wa(e,f),j=e.doc.scrollTop,W=e.doc.scrollLeft;if(H.scrollTop!=null&&(to(e,H.scrollTop),Math.abs(e.doc.scrollTop-j)>1&&(S=!0)),H.scrollLeft!=null&&(ti(e,H.scrollLeft),Math.abs(e.doc.scrollLeft-W)>1&&(S=!0)),!S)break}return f}function bh(e,r){var s=wa(e,r);s.scrollTop!=null&&to(e,s.scrollTop),s.scrollLeft!=null&&ti(e,s.scrollLeft)}function wa(e,r){var s=e.display,l=Ai(e.display);r.top<0&&(r.top=0);var f=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:s.scroller.scrollTop,y=sa(e),S={};r.bottom-r.top>y&&(r.bottom=r.top+y);var k=e.doc.height+la(s),N=r.top<l,H=r.bottom>k-l;if(r.top<f)S.scrollTop=N?0:r.top;else if(r.bottom>f+y){var j=Math.min(r.top,(H?k:r.bottom)-y);j!=f&&(S.scrollTop=j)}var W=e.options.fixedGutter?0:s.gutters.offsetWidth,Z=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:s.scroller.scrollLeft-W,q=Kr(e)-s.gutters.offsetWidth,re=r.right-r.left>q;return re&&(r.right=r.left+q),r.left<10?S.scrollLeft=0:r.left<Z?S.scrollLeft=Math.max(0,r.left+W-(re?0:10)):r.right>q+Z-3&&(S.scrollLeft=r.right+(re?0:10)-q),S}function Ca(e,r){r!=null&&(uu(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+r)}function wi(e){uu(e);var r=e.getCursor();e.curOp.scrollToPos={from:r,to:r,margin:e.options.cursorScrollMargin}}function eo(e,r,s){(r!=null||s!=null)&&uu(e),r!=null&&(e.curOp.scrollLeft=r),s!=null&&(e.curOp.scrollTop=s)}function Eh(e,r){uu(e),e.curOp.scrollToPos=r}function uu(e){var r=e.curOp.scrollToPos;if(r){e.curOp.scrollToPos=null;var s=cc(e,r.from),l=cc(e,r.to);yc(e,s,l,r.margin)}}function yc(e,r,s,l){var f=wa(e,{left:Math.min(r.left,s.left),top:Math.min(r.top,s.top)-l,right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)+l});eo(e,f.scrollLeft,f.scrollTop)}function to(e,r){Math.abs(e.doc.scrollTop-r)<2||(t||xa(e,{top:r}),Ac(e,r,!0),t&&xa(e),io(e,100))}function Ac(e,r,s){r=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,r)),!(e.display.scroller.scrollTop==r&&!s)&&(e.doc.scrollTop=r,e.display.scrollbars.setScrollTop(r),e.display.scroller.scrollTop!=r&&(e.display.scroller.scrollTop=r))}function ti(e,r,s,l){r=Math.max(0,Math.min(r,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((s?r==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-r)<2)&&!l)&&(e.doc.scrollLeft=r,Fc(e),e.display.scroller.scrollLeft!=r&&(e.display.scroller.scrollLeft=r),e.display.scrollbars.setScrollLeft(r))}function no(e){var r=e.display,s=r.gutters.offsetWidth,l=Math.round(e.doc.height+la(e.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:e.options.fixedGutter?s:0,docHeight:l,scrollHeight:l+Zn(e)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:s}}var ni=function(e,r,s){this.cm=s;var l=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),f=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");l.tabIndex=f.tabIndex=-1,e(l),e(f),ne(l,"scroll",function(){l.clientHeight&&r(l.scrollTop,"vertical")}),ne(f,"scroll",function(){f.clientWidth&&r(f.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,p&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ni.prototype.update=function(e){var r=e.scrollWidth>e.clientWidth+1,s=e.scrollHeight>e.clientHeight+1,l=e.nativeBarWidth;if(s){this.vert.style.display="block",this.vert.style.bottom=r?l+"px":"0";var f=e.viewHeight-(r?l:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+f)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(r){this.horiz.style.display="block",this.horiz.style.right=s?l+"px":"0",this.horiz.style.left=e.barLeft+"px";var y=e.viewWidth-e.barLeft-(s?l:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(l==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:s?l:0,bottom:r?l:0}},ni.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ni.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ni.prototype.zeroWidthHack=function(){var e=x&&!v?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new le,this.disableVert=new le},ni.prototype.enableZeroWidthBar=function(e,r,s){e.style.visibility="";function l(){var f=e.getBoundingClientRect(),y=s=="vert"?document.elementFromPoint(f.right-1,(f.top+f.bottom)/2):document.elementFromPoint((f.right+f.left)/2,f.bottom-1);y!=e?e.style.visibility="hidden":r.set(1e3,l)}r.set(1e3,l)},ni.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ro=function(){};ro.prototype.update=function(){return{bottom:0,right:0}},ro.prototype.setScrollLeft=function(){},ro.prototype.setScrollTop=function(){},ro.prototype.clear=function(){};function Ci(e,r){r||(r=no(e));var s=e.display.barWidth,l=e.display.barHeight;bc(e,r);for(var f=0;f<4&&s!=e.display.barWidth||l!=e.display.barHeight;f++)s!=e.display.barWidth&&e.options.lineWrapping&&iu(e),bc(e,no(e)),s=e.display.barWidth,l=e.display.barHeight}function bc(e,r){var s=e.display,l=s.scrollbars.update(r);s.sizer.style.paddingRight=(s.barWidth=l.right)+"px",s.sizer.style.paddingBottom=(s.barHeight=l.bottom)+"px",s.heightForcer.style.borderBottom=l.bottom+"px solid transparent",l.right&&l.bottom?(s.scrollbarFiller.style.display="block",s.scrollbarFiller.style.height=l.bottom+"px",s.scrollbarFiller.style.width=l.right+"px"):s.scrollbarFiller.style.display="",l.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(s.gutterFiller.style.display="block",s.gutterFiller.style.height=l.bottom+"px",s.gutterFiller.style.width=r.gutterWidth+"px"):s.gutterFiller.style.display=""}var Ec={native:ni,null:ro};function wc(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&$(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ec[e.options.scrollbarStyle](function(r){e.display.wrapper.insertBefore(r,e.display.scrollbarFiller),ne(r,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),r.setAttribute("cm-not-content","true")},function(r,s){s=="horizontal"?ti(e,r):to(e,r)},e),e.display.scrollbars.addClass&&J(e.display.wrapper,e.display.scrollbars.addClass)}var wh=0;function ri(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wh,markArrays:null},Zp(e.curOp)}function ii(e){var r=e.curOp;r&&th(r,function(s){for(var l=0;l<s.ops.length;l++)s.ops[l].cm.curOp=null;Ch(s)})}function Ch(e){for(var r=e.ops,s=0;s<r.length;s++)Fh(r[s]);for(var l=0;l<r.length;l++)xh(r[l]);for(var f=0;f<r.length;f++)_h(r[f]);for(var y=0;y<r.length;y++)Bh(r[y]);for(var S=0;S<r.length;S++)Sh(r[S])}function Fh(e){var r=e.cm,s=r.display;kh(r),e.updateMaxLine&&ua(r),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<s.viewFrom||e.scrollToPos.to.line>=s.viewTo)||s.maxLineChanged&&r.options.lineWrapping,e.update=e.mustUpdate&&new au(r,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function xh(e){e.updatedDisplay=e.mustUpdate&&Fa(e.cm,e.update)}function _h(e){var r=e.cm,s=r.display;e.updatedDisplay&&iu(r),e.barMeasure=no(r),s.maxLineChanged&&!r.options.lineWrapping&&(e.adjustWidthTo=nc(r,s.maxLine,s.maxLine.text.length).left+3,r.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(s.scroller.clientWidth,s.sizer.offsetLeft+e.adjustWidthTo+Zn(r)+r.display.barWidth),e.maxScrollLeft=Math.max(0,s.sizer.offsetLeft+e.adjustWidthTo-Kr(r))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=s.input.prepareSelection())}function Bh(e){var r=e.cm;e.adjustWidthTo!=null&&(r.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<r.doc.scrollLeft&&ti(r,Math.min(r.display.scroller.scrollLeft,e.maxScrollLeft),!0),r.display.maxLineChanged=!1);var s=e.focus&&e.focus==X(de(r));e.preparedSelection&&r.display.input.showSelection(e.preparedSelection,s),(e.updatedDisplay||e.startHeight!=r.doc.height)&&Ci(r,e.barMeasure),e.updatedDisplay&&Ba(r,e.barMeasure),e.selectionChanged&&Aa(r),r.state.focused&&e.updateInput&&r.display.input.reset(e.typing),s&&vc(e.cm)}function Sh(e){var r=e.cm,s=r.display,l=r.doc;if(e.updatedDisplay&&Cc(r,e.update),s.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(s.wheelStartX=s.wheelStartY=null),e.scrollTop!=null&&Ac(r,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&ti(r,e.scrollLeft,!0,!0),e.scrollToPos){var f=Ah(r,Ie(l,e.scrollToPos.from),Ie(l,e.scrollToPos.to),e.scrollToPos.margin);yh(r,f)}var y=e.maybeHiddenMarkers,S=e.maybeUnhiddenMarkers;if(y)for(var k=0;k<y.length;++k)y[k].lines.length||Me(y[k],"hide");if(S)for(var N=0;N<S.length;++N)S[N].lines.length&&Me(S[N],"unhide");s.wrapper.offsetHeight&&(l.scrollTop=r.display.scroller.scrollTop),e.changeObjs&&Me(r,"changes",r,e.changeObjs),e.update&&e.update.finish()}function hn(e,r){if(e.curOp)return r();ri(e);try{return r()}finally{ii(e)}}function kt(e,r){return function(){if(e.curOp)return r.apply(e,arguments);ri(e);try{return r.apply(e,arguments)}finally{ii(e)}}}function Gt(e){return function(){if(this.curOp)return e.apply(this,arguments);ri(this);try{return e.apply(this,arguments)}finally{ii(this)}}}function Tt(e){return function(){var r=this.cm;if(!r||r.curOp)return e.apply(this,arguments);ri(r);try{return e.apply(this,arguments)}finally{ii(r)}}}function io(e,r){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(r,ye(Dh,e))}function Dh(e){var r=e.doc;if(!(r.highlightFrontier>=e.display.viewTo)){var s=+new Date+e.options.workTime,l=Wi(e,r.highlightFrontier),f=[];r.iter(l.line,Math.min(r.first+r.size,e.display.viewTo+500),function(y){if(l.line>=e.display.viewFrom){var S=y.styles,k=y.text.length>e.options.maxHighlightLength?lr(r.mode,l.state):null,N=ks(e,y,l,!0);k&&(l.state=k),y.styles=N.styles;var H=y.styleClasses,j=N.classes;j?y.styleClasses=j:H&&(y.styleClasses=null);for(var W=!S||S.length!=y.styles.length||H!=j&&(!H||!j||H.bgClass!=j.bgClass||H.textClass!=j.textClass),Z=0;!W&&Z<S.length;++Z)W=S[Z]!=y.styles[Z];W&&f.push(l.line),y.stateAfter=l.save(),l.nextLine()}else y.text.length<=e.options.maxHighlightLength&&ea(e,y.text,l),y.stateAfter=l.line%5==0?l.save():null,l.nextLine();if(+new Date>s)return io(e,e.options.workDelay),!0}),r.highlightFrontier=l.line,r.modeFrontier=Math.max(r.modeFrontier,l.line),f.length&&hn(e,function(){for(var y=0;y<f.length;y++)Dr(e,f[y],"text")})}}var au=function(e,r,s){var l=e.display;this.viewport=r,this.visible=ou(l,e.doc,r),this.editorIsHidden=!l.wrapper.offsetWidth,this.wrapperHeight=l.wrapper.clientHeight,this.wrapperWidth=l.wrapper.clientWidth,this.oldDisplayWidth=Kr(e),this.force=s,this.dims=ma(e),this.events=[]};au.prototype.signal=function(e,r){nt(e,r)&&this.events.push(arguments)},au.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Me.apply(null,this.events[e])};function kh(e){var r=e.display;!r.scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=Zn(e)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=Zn(e)+"px",r.scrollbarsClipped=!0)}function Th(e){if(e.hasFocus())return null;var r=X(de(e));if(!r||!U(e.display.lineDiv,r))return null;var s={activeElt:r};if(window.getSelection){var l=se(e).getSelection();l.anchorNode&&l.extend&&U(e.display.lineDiv,l.anchorNode)&&(s.anchorNode=l.anchorNode,s.anchorOffset=l.anchorOffset,s.focusNode=l.focusNode,s.focusOffset=l.focusOffset)}return s}function Mh(e){if(!(!e||!e.activeElt||e.activeElt==X(e.activeElt.ownerDocument))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&U(document.body,e.anchorNode)&&U(document.body,e.focusNode))){var r=e.activeElt.ownerDocument,s=r.defaultView.getSelection(),l=r.createRange();l.setEnd(e.anchorNode,e.anchorOffset),l.collapse(!1),s.removeAllRanges(),s.addRange(l),s.extend(e.focusNode,e.focusOffset)}}function Fa(e,r){var s=e.display,l=e.doc;if(r.editorIsHidden)return kr(e),!1;if(!r.force&&r.visible.from>=s.viewFrom&&r.visible.to<=s.viewTo&&(s.updateLineNumbers==null||s.updateLineNumbers>=s.viewTo)&&s.renderedView==s.view&&hc(e)==0)return!1;xc(e)&&(kr(e),r.dims=ma(e));var f=l.first+l.size,y=Math.max(r.visible.from-e.options.viewportMargin,l.first),S=Math.min(f,r.visible.to+e.options.viewportMargin);s.viewFrom<y&&y-s.viewFrom<20&&(y=Math.max(l.first,s.viewFrom)),s.viewTo>S&&s.viewTo-S<20&&(S=Math.min(f,s.viewTo)),cr&&(y=ia(e.doc,y),S=Us(e.doc,S));var k=y!=s.viewFrom||S!=s.viewTo||s.lastWrapHeight!=r.wrapperHeight||s.lastWrapWidth!=r.wrapperWidth;vh(e,y,S),s.viewOffset=fr(Fe(e.doc,s.viewFrom)),e.display.mover.style.top=s.viewOffset+"px";var N=hc(e);if(!k&&N==0&&!r.force&&s.renderedView==s.view&&(s.updateLineNumbers==null||s.updateLineNumbers>=s.viewTo))return!1;var H=Th(e);return N>4&&(s.lineDiv.style.display="none"),Rh(e,s.updateLineNumbers,r.dims),N>4&&(s.lineDiv.style.display=""),s.renderedView=s.view,Mh(H),I(s.cursorDiv),I(s.selectionDiv),s.gutters.style.height=s.sizer.style.minHeight=0,k&&(s.lastWrapHeight=r.wrapperHeight,s.lastWrapWidth=r.wrapperWidth,io(e,400)),s.updateLineNumbers=null,!0}function Cc(e,r){for(var s=r.viewport,l=!0;;l=!1){if(!l||!e.options.lineWrapping||r.oldDisplayWidth==Kr(e)){if(s&&s.top!=null&&(s={top:Math.min(e.doc.height+la(e.display)-sa(e),s.top)}),r.visible=ou(e.display,e.doc,s),r.visible.from>=e.display.viewFrom&&r.visible.to<=e.display.viewTo)break}else l&&(r.visible=ou(e.display,e.doc,s));if(!Fa(e,r))break;iu(e);var f=no(e);Zi(e),Ci(e,f),Ba(e,f),r.force=!1}r.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(r.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function xa(e,r){var s=new au(e,r);if(Fa(e,s)){iu(e),Cc(e,s);var l=no(e);Zi(e),Ci(e,l),Ba(e,l),s.finish()}}function Rh(e,r,s){var l=e.display,f=e.options.lineNumbers,y=l.lineDiv,S=y.firstChild;function k(re){var ue=re.nextSibling;return m&&x&&e.display.currentWheelTarget==re?re.style.display="none":re.parentNode.removeChild(re),ue}for(var N=l.view,H=l.viewFrom,j=0;j<N.length;j++){var W=N[j];if(!W.hidden)if(!W.node||W.node.parentNode!=y){var Z=uh(e,W,H,s);y.insertBefore(Z,S)}else{for(;S!=W.node;)S=k(S);var q=f&&r!=null&&r<=H&&W.lineNumber;W.changes&&(pe(W.changes,"gutter")>-1&&(q=!1),Xs(e,W,H,s)),q&&(I(W.lineNumber),W.lineNumber.appendChild(document.createTextNode(G(e.options,H)))),S=W.node.nextSibling}H+=W.size}for(;S;)S=k(S)}function _a(e){var r=e.gutters.offsetWidth;e.sizer.style.marginLeft=r+"px",Dt(e,"gutterChanged",e)}function Ba(e,r){e.display.sizer.style.minHeight=r.docHeight+"px",e.display.heightForcer.style.top=r.docHeight+"px",e.display.gutters.style.height=r.docHeight+e.display.barHeight+Zn(e)+"px"}function Fc(e){var r=e.display,s=r.view;if(!(!r.alignWidgets&&(!r.gutters.firstChild||!e.options.fixedGutter))){for(var l=va(r)-r.scroller.scrollLeft+e.doc.scrollLeft,f=r.gutters.offsetWidth,y=l+"px",S=0;S<s.length;S++)if(!s[S].hidden){e.options.fixedGutter&&(s[S].gutter&&(s[S].gutter.style.left=y),s[S].gutterBackground&&(s[S].gutterBackground.style.left=y));var k=s[S].alignable;if(k)for(var N=0;N<k.length;N++)k[N].style.left=y}e.options.fixedGutter&&(r.gutters.style.left=l+f+"px")}}function xc(e){if(!e.options.lineNumbers)return!1;var r=e.doc,s=G(e.options,r.first+r.size-1),l=e.display;if(s.length!=l.lineNumChars){var f=l.measure.appendChild(M("div",[M("div",s)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=f.firstChild.offsetWidth,S=f.offsetWidth-y;return l.lineGutter.style.width="",l.lineNumInnerWidth=Math.max(y,l.lineGutter.offsetWidth-S)+1,l.lineNumWidth=l.lineNumInnerWidth+S,l.lineNumChars=l.lineNumInnerWidth?s.length:-1,l.lineGutter.style.width=l.lineNumWidth+"px",_a(e.display),!0}return!1}function Sa(e,r){for(var s=[],l=!1,f=0;f<e.length;f++){var y=e[f],S=null;if(typeof y!="string"&&(S=y.style,y=y.className),y=="CodeMirror-linenumbers")if(r)l=!0;else continue;s.push({className:y,style:S})}return r&&!l&&s.push({className:"CodeMirror-linenumbers",style:null}),s}function _c(e){var r=e.gutters,s=e.gutterSpecs;I(r),e.lineGutter=null;for(var l=0;l<s.length;++l){var f=s[l],y=f.className,S=f.style,k=r.appendChild(M("div",null,"CodeMirror-gutter "+y));S&&(k.style.cssText=S),y=="CodeMirror-linenumbers"&&(e.lineGutter=k,k.style.width=(e.lineNumWidth||1)+"px")}r.style.display=s.length?"":"none",_a(e)}function oo(e){_c(e.display),rn(e),Fc(e)}function Oh(e,r,s,l){var f=this;this.input=s,f.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),f.scrollbarFiller.setAttribute("cm-not-content","true"),f.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),f.gutterFiller.setAttribute("cm-not-content","true"),f.lineDiv=Q("div",null,"CodeMirror-code"),f.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),f.cursorDiv=M("div",null,"CodeMirror-cursors"),f.measure=M("div",null,"CodeMirror-measure"),f.lineMeasure=M("div",null,"CodeMirror-measure"),f.lineSpace=Q("div",[f.measure,f.lineMeasure,f.selectionDiv,f.cursorDiv,f.lineDiv],null,"position: relative; outline: none");var y=Q("div",[f.lineSpace],"CodeMirror-lines");f.mover=M("div",[y],null,"position: relative"),f.sizer=M("div",[f.mover],"CodeMirror-sizer"),f.sizerWidth=null,f.heightForcer=M("div",null,null,"position: absolute; height: "+je+"px; width: 1px;"),f.gutters=M("div",null,"CodeMirror-gutters"),f.lineGutter=null,f.scroller=M("div",[f.sizer,f.heightForcer,f.gutters],"CodeMirror-scroll"),f.scroller.setAttribute("tabIndex","-1"),f.wrapper=M("div",[f.scrollbarFiller,f.gutterFiller,f.scroller],"CodeMirror"),C&&w>=105&&(f.wrapper.style.clipPath="inset(0px)"),f.wrapper.setAttribute("translate","no"),p&&h<8&&(f.gutters.style.zIndex=-1,f.scroller.style.paddingRight=0),!m&&!(t&&_)&&(f.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(f.wrapper):e(f.wrapper)),f.viewFrom=f.viewTo=r.first,f.reportedViewFrom=f.reportedViewTo=r.first,f.view=[],f.renderedView=null,f.externalMeasured=null,f.viewOffset=0,f.lastWrapHeight=f.lastWrapWidth=0,f.updateLineNumbers=null,f.nativeBarWidth=f.barHeight=f.barWidth=0,f.scrollbarsClipped=!1,f.lineNumWidth=f.lineNumInnerWidth=f.lineNumChars=null,f.alignWidgets=!1,f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.maxLine=null,f.maxLineLength=0,f.maxLineChanged=!1,f.wheelDX=f.wheelDY=f.wheelStartX=f.wheelStartY=null,f.shift=!1,f.selForContextMenu=null,f.activeTouch=null,f.gutterSpecs=Sa(l.gutters,l.lineNumbers),_c(f),s.init(f)}var lu=0,pr=null;p?pr=-.53:t?pr=15:C?pr=-.7:F&&(pr=-1/3);function Bc(e){var r=e.wheelDeltaX,s=e.wheelDeltaY;return r==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(r=e.detail),s==null&&e.detail&&e.axis==e.VERTICAL_AXIS?s=e.detail:s==null&&(s=e.wheelDelta),{x:r,y:s}}function Nh(e){var r=Bc(e);return r.x*=pr,r.y*=pr,r}function Sc(e,r){C&&w==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var s=Bc(r),l=s.x,f=s.y,y=pr;r.deltaMode===0&&(l=r.deltaX,f=r.deltaY,y=1);var S=e.display,k=S.scroller,N=k.scrollWidth>k.clientWidth,H=k.scrollHeight>k.clientHeight;if(l&&N||f&&H){if(f&&x&&m){e:for(var j=r.target,W=S.view;j!=k;j=j.parentNode)for(var Z=0;Z<W.length;Z++)if(W[Z].node==j){e.display.currentWheelTarget=j;break e}}if(l&&!t&&!A&&y!=null){f&&H&&to(e,Math.max(0,k.scrollTop+f*y)),ti(e,Math.max(0,k.scrollLeft+l*y)),(!f||f&&H)&&mt(r),S.wheelStartX=null;return}if(f&&y!=null){var q=f*y,re=e.doc.scrollTop,ue=re+S.wrapper.clientHeight;q<0?re=Math.max(0,re+q-50):ue=Math.min(e.doc.height,ue+q+50),xa(e,{top:re,bottom:ue})}lu<20&&r.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=k.scrollLeft,S.wheelStartY=k.scrollTop,S.wheelDX=l,S.wheelDY=f,setTimeout(function(){if(S.wheelStartX!=null){var ce=k.scrollLeft-S.wheelStartX,he=k.scrollTop-S.wheelStartY,Ee=he&&S.wheelDY&&he/S.wheelDY||ce&&S.wheelDX&&ce/S.wheelDX;S.wheelStartX=S.wheelStartY=null,Ee&&(pr=(pr*lu+Ee)/(lu+1),++lu)}},200)):(S.wheelDX+=l,S.wheelDY+=f))}}var xn=function(e,r){this.ranges=e,this.primIndex=r};xn.prototype.primary=function(){return this.ranges[this.primIndex]},xn.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var s=this.ranges[r],l=e.ranges[r];if(!Pe(s.anchor,l.anchor)||!Pe(s.head,l.head))return!1}return!0},xn.prototype.deepCopy=function(){for(var e=[],r=0;r<this.ranges.length;r++)e[r]=new Ze(Ye(this.ranges[r].anchor),Ye(this.ranges[r].head));return new xn(e,this.primIndex)},xn.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},xn.prototype.contains=function(e,r){r||(r=e);for(var s=0;s<this.ranges.length;s++){var l=this.ranges[s];if(te(r,l.from())>=0&&te(e,l.to())<=0)return s}return-1};var Ze=function(e,r){this.anchor=e,this.head=r};Ze.prototype.from=function(){return Ft(this.anchor,this.head)},Ze.prototype.to=function(){return Ge(this.anchor,this.head)},Ze.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function zn(e,r,s){var l=e&&e.options.selectionsMayTouch,f=r[s];r.sort(function(Z,q){return te(Z.from(),q.from())}),s=pe(r,f);for(var y=1;y<r.length;y++){var S=r[y],k=r[y-1],N=te(k.to(),S.from());if(l&&!S.empty()?N>0:N>=0){var H=Ft(k.from(),S.from()),j=Ge(k.to(),S.to()),W=k.empty()?S.from()==S.head:k.from()==k.head;y<=s&&--s,r.splice(--y,2,new Ze(W?j:H,W?H:j))}}return new xn(r,s)}function Tr(e,r){return new xn([new Ze(e,r||e)],0)}function Mr(e){return e.text?K(e.from.line+e.text.length-1,Ne(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Dc(e,r){if(te(e,r.from)<0)return e;if(te(e,r.to)<=0)return Mr(r);var s=e.line+r.text.length-(r.to.line-r.from.line)-1,l=e.ch;return e.line==r.to.line&&(l+=Mr(r).ch-r.to.ch),K(s,l)}function Da(e,r){for(var s=[],l=0;l<e.sel.ranges.length;l++){var f=e.sel.ranges[l];s.push(new Ze(Dc(f.anchor,r),Dc(f.head,r)))}return zn(e.cm,s,e.sel.primIndex)}function kc(e,r,s){return e.line==r.line?K(s.line,e.ch-r.ch+s.ch):K(s.line+(e.line-r.line),e.ch)}function Ph(e,r,s){for(var l=[],f=K(e.first,0),y=f,S=0;S<r.length;S++){var k=r[S],N=kc(k.from,f,y),H=kc(Mr(k),f,y);if(f=k.to,y=H,s=="around"){var j=e.sel.ranges[S],W=te(j.head,j.anchor)<0;l[S]=new Ze(W?H:N,W?N:H)}else l[S]=new Ze(N,N)}return new xn(l,e.sel.primIndex)}function ka(e){e.doc.mode=xr(e.options,e.doc.modeOption),uo(e)}function uo(e){e.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,io(e,100),e.state.modeGen++,e.curOp&&rn(e)}function Tc(e,r){return r.from.ch==0&&r.to.ch==0&&Ne(r.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ta(e,r,s,l){function f(Ee){return s?s[Ee]:null}function y(Ee,me,Ce){Up(Ee,me,Ce,l),Dt(Ee,"change",Ee,r)}function S(Ee,me){for(var Ce=[],Se=Ee;Se<me;++Se)Ce.push(new vi(H[Se],f(Se),l));return Ce}var k=r.from,N=r.to,H=r.text,j=Fe(e,k.line),W=Fe(e,N.line),Z=Ne(H),q=f(H.length-1),re=N.line-k.line;if(r.full)e.insert(0,S(0,H.length)),e.remove(H.length,e.size-H.length);else if(Tc(e,r)){var ue=S(0,H.length-1);y(W,W.text,q),re&&e.remove(k.line,re),ue.length&&e.insert(k.line,ue)}else if(j==W)if(H.length==1)y(j,j.text.slice(0,k.ch)+Z+j.text.slice(N.ch),q);else{var ce=S(1,H.length-1);ce.push(new vi(Z+j.text.slice(N.ch),q,l)),y(j,j.text.slice(0,k.ch)+H[0],f(0)),e.insert(k.line+1,ce)}else if(H.length==1)y(j,j.text.slice(0,k.ch)+H[0]+W.text.slice(N.ch),f(0)),e.remove(k.line+1,re);else{y(j,j.text.slice(0,k.ch)+H[0],f(0)),y(W,Z+W.text.slice(N.ch),q);var he=S(1,H.length-1);re>1&&e.remove(k.line+1,re-1),e.insert(k.line+1,he)}Dt(e,"change",e,r)}function Rr(e,r,s){function l(f,y,S){if(f.linked)for(var k=0;k<f.linked.length;++k){var N=f.linked[k];if(N.doc!=y){var H=S&&N.sharedHist;s&&!H||(r(N.doc,H),l(N.doc,f,H))}}}l(e,null,!0)}function Mc(e,r){if(r.cm)throw new Error("This document is already in use.");e.doc=r,r.cm=e,ga(e),ka(e),Rc(e),e.options.direction=r.direction,e.options.lineWrapping||ua(e),e.options.mode=r.modeOption,rn(e)}function Rc(e){(e.doc.direction=="rtl"?J:$)(e.display.lineDiv,"CodeMirror-rtl")}function Ih(e){hn(e,function(){Rc(e),rn(e)})}function su(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ma(e,r){var s={from:Ye(r.from),to:Mr(r),text:sr(e,r.from,r.to)};return Pc(e,s,r.from.line,r.to.line+1),Rr(e,function(l){return Pc(l,s,r.from.line,r.to.line+1)},!0),s}function Oc(e){for(;e.length;){var r=Ne(e);if(r.ranges)e.pop();else break}}function Lh(e,r){if(r)return Oc(e.done),Ne(e.done);if(e.done.length&&!Ne(e.done).ranges)return Ne(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Ne(e.done)}function Nc(e,r,s,l){var f=e.history;f.undone.length=0;var y=+new Date,S,k;if((f.lastOp==l||f.lastOrigin==r.origin&&r.origin&&(r.origin.charAt(0)=="+"&&f.lastModTime>y-(e.cm?e.cm.options.historyEventDelay:500)||r.origin.charAt(0)=="*"))&&(S=Lh(f,f.lastOp==l)))k=Ne(S.changes),te(r.from,r.to)==0&&te(r.from,k.to)==0?k.to=Mr(r):S.changes.push(Ma(e,r));else{var N=Ne(f.done);for((!N||!N.ranges)&&cu(e.sel,f.done),S={changes:[Ma(e,r)],generation:f.generation},f.done.push(S);f.done.length>f.undoDepth;)f.done.shift(),f.done[0].ranges||f.done.shift()}f.done.push(s),f.generation=++f.maxGeneration,f.lastModTime=f.lastSelTime=y,f.lastOp=f.lastSelOp=l,f.lastOrigin=f.lastSelOrigin=r.origin,k||Me(e,"historyAdded")}function Hh(e,r,s,l){var f=r.charAt(0);return f=="*"||f=="+"&&s.ranges.length==l.ranges.length&&s.somethingSelected()==l.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function $h(e,r,s,l){var f=e.history,y=l&&l.origin;s==f.lastSelOp||y&&f.lastSelOrigin==y&&(f.lastModTime==f.lastSelTime&&f.lastOrigin==y||Hh(e,y,Ne(f.done),r))?f.done[f.done.length-1]=r:cu(r,f.done),f.lastSelTime=+new Date,f.lastSelOrigin=y,f.lastSelOp=s,l&&l.clearRedo!==!1&&Oc(f.undone)}function cu(e,r){var s=Ne(r);s&&s.ranges&&s.equals(e)||r.push(e)}function Pc(e,r,s,l){var f=r["spans_"+e.id],y=0;e.iter(Math.max(e.first,s),Math.min(e.first+e.size,l),function(S){S.markedSpans&&((f||(f=r["spans_"+e.id]={}))[y]=S.markedSpans),++y})}function Vh(e){if(!e)return null;for(var r,s=0;s<e.length;++s)e[s].marker.explicitlyCleared?r||(r=e.slice(0,s)):r&&r.push(e[s]);return r?r.length?r:null:e}function zh(e,r){var s=r["spans_"+e.id];if(!s)return null;for(var l=[],f=0;f<r.text.length;++f)l.push(Vh(s[f]));return l}function Ic(e,r){var s=zh(e,r),l=na(e,r);if(!s)return l;if(!l)return s;for(var f=0;f<s.length;++f){var y=s[f],S=l[f];if(y&&S)e:for(var k=0;k<S.length;++k){for(var N=S[k],H=0;H<y.length;++H)if(y[H].marker==N.marker)continue e;y.push(N)}else S&&(s[f]=S)}return s}function Fi(e,r,s){for(var l=[],f=0;f<e.length;++f){var y=e[f];if(y.ranges){l.push(s?xn.prototype.deepCopy.call(y):y);continue}var S=y.changes,k=[];l.push({changes:k});for(var N=0;N<S.length;++N){var H=S[N],j=void 0;if(k.push({from:H.from,to:H.to,text:H.text}),r)for(var W in H)(j=W.match(/^spans_(\d+)$/))&&pe(r,Number(j[1]))>-1&&(Ne(k)[W]=H[W],delete H[W])}}return l}function Ra(e,r,s,l){if(l){var f=e.anchor;if(s){var y=te(r,f)<0;y!=te(s,f)<0?(f=r,r=s):y!=te(r,s)<0&&(r=s)}return new Ze(f,r)}else return new Ze(s||r,r)}function fu(e,r,s,l,f){f==null&&(f=e.cm&&(e.cm.display.shift||e.extend)),Vt(e,new xn([Ra(e.sel.primary(),r,s,f)],0),l)}function Lc(e,r,s){for(var l=[],f=e.cm&&(e.cm.display.shift||e.extend),y=0;y<e.sel.ranges.length;y++)l[y]=Ra(e.sel.ranges[y],r[y],null,f);var S=zn(e.cm,l,e.sel.primIndex);Vt(e,S,s)}function Oa(e,r,s,l){var f=e.sel.ranges.slice(0);f[r]=s,Vt(e,zn(e.cm,f,e.sel.primIndex),l)}function Hc(e,r,s,l){Vt(e,Tr(r,s),l)}function jh(e,r,s){var l={ranges:r.ranges,update:function(f){this.ranges=[];for(var y=0;y<f.length;y++)this.ranges[y]=new Ze(Ie(e,f[y].anchor),Ie(e,f[y].head))},origin:s&&s.origin};return Me(e,"beforeSelectionChange",e,l),e.cm&&Me(e.cm,"beforeSelectionChange",e.cm,l),l.ranges!=r.ranges?zn(e.cm,l.ranges,l.ranges.length-1):r}function $c(e,r,s){var l=e.history.done,f=Ne(l);f&&f.ranges?(l[l.length-1]=r,du(e,r,s)):Vt(e,r,s)}function Vt(e,r,s){du(e,r,s),$h(e,e.sel,e.cm?e.cm.curOp.id:NaN,s)}function du(e,r,s){(nt(e,"beforeSelectionChange")||e.cm&&nt(e.cm,"beforeSelectionChange"))&&(r=jh(e,r,s));var l=s&&s.bias||(te(r.primary().head,e.sel.primary().head)<0?-1:1);Vc(e,jc(e,r,l,!0)),!(s&&s.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&wi(e.cm)}function Vc(e,r){r.equals(e.sel)||(e.sel=r,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Cn(e.cm)),Dt(e,"cursorActivity",e))}function zc(e){Vc(e,jc(e,e.sel,null,!1))}function jc(e,r,s,l){for(var f,y=0;y<r.ranges.length;y++){var S=r.ranges[y],k=r.ranges.length==e.sel.ranges.length&&e.sel.ranges[y],N=pu(e,S.anchor,k&&k.anchor,s,l),H=S.head==S.anchor?N:pu(e,S.head,k&&k.head,s,l);(f||N!=S.anchor||H!=S.head)&&(f||(f=r.ranges.slice(0,y)),f[y]=new Ze(N,H))}return f?zn(e.cm,f,r.primIndex):r}function xi(e,r,s,l,f){var y=Fe(e,r.line);if(y.markedSpans)for(var S=0;S<y.markedSpans.length;++S){var k=y.markedSpans[S],N=k.marker,H="selectLeft"in N?!N.selectLeft:N.inclusiveLeft,j="selectRight"in N?!N.selectRight:N.inclusiveRight;if((k.from==null||(H?k.from<=r.ch:k.from<r.ch))&&(k.to==null||(j?k.to>=r.ch:k.to>r.ch))){if(f&&(Me(N,"beforeCursorEnter"),N.explicitlyCleared))if(y.markedSpans){--S;continue}else break;if(!N.atomic)continue;if(s){var W=N.find(l<0?1:-1),Z=void 0;if((l<0?j:H)&&(W=Uc(e,W,-l,W&&W.line==r.line?y:null)),W&&W.line==r.line&&(Z=te(W,s))&&(l<0?Z<0:Z>0))return xi(e,W,r,l,f)}var q=N.find(l<0?-1:1);return(l<0?H:j)&&(q=Uc(e,q,l,q.line==r.line?y:null)),q?xi(e,q,r,l,f):null}}return r}function pu(e,r,s,l,f){var y=l||1,S=xi(e,r,s,y,f)||!f&&xi(e,r,s,y,!0)||xi(e,r,s,-y,f)||!f&&xi(e,r,s,-y,!0);return S||(e.cantEdit=!0,K(e.first,0))}function Uc(e,r,s,l){return s<0&&r.ch==0?r.line>e.first?Ie(e,K(r.line-1)):null:s>0&&r.ch==(l||Fe(e,r.line)).text.length?r.line<e.first+e.size-1?K(r.line+1,0):null:new K(r.line,r.ch+s)}function Yc(e){e.setSelection(K(e.firstLine(),0),K(e.lastLine()),Ve)}function Qc(e,r,s){var l={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return l.canceled=!0}};return s&&(l.update=function(f,y,S,k){f&&(l.from=Ie(e,f)),y&&(l.to=Ie(e,y)),S&&(l.text=S),k!==void 0&&(l.origin=k)}),Me(e,"beforeChange",e,l),e.cm&&Me(e.cm,"beforeChange",e.cm,l),l.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:l.from,to:l.to,text:l.text,origin:l.origin}}function _i(e,r,s){if(e.cm){if(!e.cm.curOp)return kt(e.cm,_i)(e,r,s);if(e.cm.state.suppressEdits)return}if(!((nt(e,"beforeChange")||e.cm&&nt(e.cm,"beforeChange"))&&(r=Qc(e,r,!0),!r))){var l=Is&&!s&&$p(e,r.from,r.to);if(l)for(var f=l.length-1;f>=0;--f)Wc(e,{from:l[f].from,to:l[f].to,text:f?[""]:r.text,origin:r.origin});else Wc(e,r)}}function Wc(e,r){if(!(r.text.length==1&&r.text[0]==""&&te(r.from,r.to)==0)){var s=Da(e,r);Nc(e,r,s,e.cm?e.cm.curOp.id:NaN),ao(e,r,s,na(e,r));var l=[];Rr(e,function(f,y){!y&&pe(l,f.history)==-1&&(Kc(f.history,r),l.push(f.history)),ao(f,r,null,na(f,r))})}}function hu(e,r,s){var l=e.cm&&e.cm.state.suppressEdits;if(!(l&&!s)){for(var f=e.history,y,S=e.sel,k=r=="undo"?f.done:f.undone,N=r=="undo"?f.undone:f.done,H=0;H<k.length&&(y=k[H],!(s?y.ranges&&!y.equals(e.sel):!y.ranges));H++);if(H!=k.length){for(f.lastOrigin=f.lastSelOrigin=null;;)if(y=k.pop(),y.ranges){if(cu(y,N),s&&!y.equals(e.sel)){Vt(e,y,{clearRedo:!1});return}S=y}else if(l){k.push(y);return}else break;var j=[];cu(S,N),N.push({changes:j,generation:f.generation}),f.generation=y.generation||++f.maxGeneration;for(var W=nt(e,"beforeChange")||e.cm&&nt(e.cm,"beforeChange"),Z=function(ue){var ce=y.changes[ue];if(ce.origin=r,W&&!Qc(e,ce,!1))return k.length=0,{};j.push(Ma(e,ce));var he=ue?Da(e,ce):Ne(k);ao(e,ce,he,Ic(e,ce)),!ue&&e.cm&&e.cm.scrollIntoView({from:ce.from,to:Mr(ce)});var Ee=[];Rr(e,function(me,Ce){!Ce&&pe(Ee,me.history)==-1&&(Kc(me.history,ce),Ee.push(me.history)),ao(me,ce,null,Ic(me,ce))})},q=y.changes.length-1;q>=0;--q){var re=Z(q);if(re)return re.v}}}}function Gc(e,r){if(r!=0&&(e.first+=r,e.sel=new xn(Wt(e.sel.ranges,function(f){return new Ze(K(f.anchor.line+r,f.anchor.ch),K(f.head.line+r,f.head.ch))}),e.sel.primIndex),e.cm)){rn(e.cm,e.first,e.first-r,r);for(var s=e.cm.display,l=s.viewFrom;l<s.viewTo;l++)Dr(e.cm,l,"gutter")}}function ao(e,r,s,l){if(e.cm&&!e.cm.curOp)return kt(e.cm,ao)(e,r,s,l);if(r.to.line<e.first){Gc(e,r.text.length-1-(r.to.line-r.from.line));return}if(!(r.from.line>e.lastLine())){if(r.from.line<e.first){var f=r.text.length-1-(e.first-r.from.line);Gc(e,f),r={from:K(e.first,0),to:K(r.to.line+f,r.to.ch),text:[Ne(r.text)],origin:r.origin}}var y=e.lastLine();r.to.line>y&&(r={from:r.from,to:K(y,Fe(e,y).text.length),text:[r.text[0]],origin:r.origin}),r.removed=sr(e,r.from,r.to),s||(s=Da(e,r)),e.cm?Uh(e.cm,r,l):Ta(e,r,l),du(e,s,Ve),e.cantEdit&&pu(e,K(e.firstLine(),0))&&(e.cantEdit=!1)}}function Uh(e,r,s){var l=e.doc,f=e.display,y=r.from,S=r.to,k=!1,N=y.line;e.options.lineWrapping||(N=qe($n(Fe(l,y.line))),l.iter(N,S.line+1,function(q){if(q==f.maxLine)return k=!0,!0})),l.sel.contains(r.from,r.to)>-1&&Cn(e),Ta(l,r,s,pc(e)),e.options.lineWrapping||(l.iter(N,y.line+r.text.length,function(q){var re=Ko(q);re>f.maxLineLength&&(f.maxLine=q,f.maxLineLength=re,f.maxLineChanged=!0,k=!1)}),k&&(e.curOp.updateMaxLine=!0)),Rp(l,y.line),io(e,400);var H=r.text.length-(S.line-y.line)-1;r.full?rn(e):y.line==S.line&&r.text.length==1&&!Tc(e.doc,r)?Dr(e,y.line,"text"):rn(e,y.line,S.line+1,H);var j=nt(e,"changes"),W=nt(e,"change");if(W||j){var Z={from:y,to:S,text:r.text,removed:r.removed,origin:r.origin};W&&Dt(e,"change",e,Z),j&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(Z)}e.display.selForContextMenu=null}function Bi(e,r,s,l,f){var y;l||(l=s),te(l,s)<0&&(y=[l,s],s=y[0],l=y[1]),typeof r=="string"&&(r=e.splitLines(r)),_i(e,{from:s,to:l,text:r,origin:f})}function Xc(e,r,s,l){s<e.line?e.line+=l:r<e.line&&(e.line=r,e.ch=0)}function Jc(e,r,s,l){for(var f=0;f<e.length;++f){var y=e[f],S=!0;if(y.ranges){y.copied||(y=e[f]=y.deepCopy(),y.copied=!0);for(var k=0;k<y.ranges.length;k++)Xc(y.ranges[k].anchor,r,s,l),Xc(y.ranges[k].head,r,s,l);continue}for(var N=0;N<y.changes.length;++N){var H=y.changes[N];if(s<H.from.line)H.from=K(H.from.line+l,H.from.ch),H.to=K(H.to.line+l,H.to.ch);else if(r<=H.to.line){S=!1;break}}S||(e.splice(0,f+1),f=0)}}function Kc(e,r){var s=r.from.line,l=r.to.line,f=r.text.length-(l-s)-1;Jc(e.done,s,l,f),Jc(e.undone,s,l,f)}function lo(e,r,s,l){var f=r,y=r;return typeof r=="number"?y=Fe(e,Fn(e,r)):f=qe(r),f==null?null:(l(y,f)&&e.cm&&Dr(e.cm,f,s),y)}function so(e){this.lines=e,this.parent=null;for(var r=0,s=0;s<e.length;++s)e[s].parent=this,r+=e[s].height;this.height=r}so.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,r){for(var s=e,l=e+r;s<l;++s){var f=this.lines[s];this.height-=f.height,Yp(f),Dt(f,"delete")}this.lines.splice(e,r)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,r,s){this.height+=s,this.lines=this.lines.slice(0,e).concat(r).concat(this.lines.slice(e));for(var l=0;l<r.length;++l)r[l].parent=this},iterN:function(e,r,s){for(var l=e+r;e<l;++e)if(s(this.lines[e]))return!0}};function co(e){this.children=e;for(var r=0,s=0,l=0;l<e.length;++l){var f=e[l];r+=f.chunkSize(),s+=f.height,f.parent=this}this.size=r,this.height=s,this.parent=null}co.prototype={chunkSize:function(){return this.size},removeInner:function(e,r){this.size-=r;for(var s=0;s<this.children.length;++s){var l=this.children[s],f=l.chunkSize();if(e<f){var y=Math.min(r,f-e),S=l.height;if(l.removeInner(e,y),this.height-=S-l.height,f==y&&(this.children.splice(s--,1),l.parent=null),(r-=y)==0)break;e=0}else e-=f}if(this.size-r<25&&(this.children.length>1||!(this.children[0]instanceof so))){var k=[];this.collapse(k),this.children=[new so(k)],this.children[0].parent=this}},collapse:function(e){for(var r=0;r<this.children.length;++r)this.children[r].collapse(e)},insertInner:function(e,r,s){this.size+=r.length,this.height+=s;for(var l=0;l<this.children.length;++l){var f=this.children[l],y=f.chunkSize();if(e<=y){if(f.insertInner(e,r,s),f.lines&&f.lines.length>50){for(var S=f.lines.length%25+25,k=S;k<f.lines.length;){var N=new so(f.lines.slice(k,k+=25));f.height-=N.height,this.children.splice(++l,0,N),N.parent=this}f.lines=f.lines.slice(0,S),this.maybeSpill()}break}e-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var r=e.children.splice(e.children.length-5,5),s=new co(r);if(e.parent){e.size-=s.size,e.height-=s.height;var l=pe(e.parent.children,e);e.parent.children.splice(l+1,0,s)}else{var f=new co(e.children);f.parent=e,e.children=[f,s],e=f}s.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,r,s){for(var l=0;l<this.children.length;++l){var f=this.children[l],y=f.chunkSize();if(e<y){var S=Math.min(r,y-e);if(f.iterN(e,S,s))return!0;if((r-=S)==0)break;e=0}else e-=y}}};var fo=function(e,r,s){if(s)for(var l in s)s.hasOwnProperty(l)&&(this[l]=s[l]);this.doc=e,this.node=r};fo.prototype.clear=function(){var e=this.doc.cm,r=this.line.widgets,s=this.line,l=qe(s);if(!(l==null||!r)){for(var f=0;f<r.length;++f)r[f]==this&&r.splice(f--,1);r.length||(s.widgets=null);var y=Ki(this);Mn(s,Math.max(0,s.height-y)),e&&(hn(e,function(){qc(e,s,-y),Dr(e,l,"widget")}),Dt(e,"lineWidgetCleared",e,this,l))}},fo.prototype.changed=function(){var e=this,r=this.height,s=this.doc.cm,l=this.line;this.height=null;var f=Ki(this)-r;!f||(Sr(this.doc,l)||Mn(l,l.height+f),s&&hn(s,function(){s.curOp.forceUpdate=!0,qc(s,l,f),Dt(s,"lineWidgetChanged",s,e,qe(l))}))},at(fo);function qc(e,r,s){fr(r)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ca(e,s)}function Yh(e,r,s,l){var f=new fo(e,s,l),y=e.cm;return y&&f.noHScroll&&(y.display.alignWidgets=!0),lo(e,r,"widget",function(S){var k=S.widgets||(S.widgets=[]);if(f.insertAt==null?k.push(f):k.splice(Math.min(k.length,Math.max(0,f.insertAt)),0,f),f.line=S,y&&!Sr(e,S)){var N=fr(S)<e.scrollTop;Mn(S,S.height+Ki(f)),N&&Ca(y,f.height),y.curOp.forceUpdate=!0}return!0}),y&&Dt(y,"lineWidgetAdded",y,f,typeof r=="number"?r:qe(r)),f}var Zc=0,Or=function(e,r){this.lines=[],this.type=r,this.doc=e,this.id=++Zc};Or.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,r=e&&!e.curOp;if(r&&ri(e),nt(this,"clear")){var s=this.find();s&&Dt(this,"clear",s.from,s.to)}for(var l=null,f=null,y=0;y<this.lines.length;++y){var S=this.lines[y],k=Gi(S.markedSpans,this);e&&!this.collapsed?Dr(e,qe(S),"text"):e&&(k.to!=null&&(f=qe(S)),k.from!=null&&(l=qe(S))),S.markedSpans=Pp(S.markedSpans,k),k.from==null&&this.collapsed&&!Sr(this.doc,S)&&e&&Mn(S,Ai(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var N=0;N<this.lines.length;++N){var H=$n(this.lines[N]),j=Ko(H);j>e.display.maxLineLength&&(e.display.maxLine=H,e.display.maxLineLength=j,e.display.maxLineChanged=!0)}l!=null&&e&&this.collapsed&&rn(e,l,f+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&zc(e.doc)),e&&Dt(e,"markerCleared",e,this,l,f),r&&ii(e),this.parent&&this.parent.clear()}},Or.prototype.find=function(e,r){e==null&&this.type=="bookmark"&&(e=1);for(var s,l,f=0;f<this.lines.length;++f){var y=this.lines[f],S=Gi(y.markedSpans,this);if(S.from!=null&&(s=K(r?y:qe(y),S.from),e==-1))return s;if(S.to!=null&&(l=K(r?y:qe(y),S.to),e==1))return l}return s&&{from:s,to:l}},Or.prototype.changed=function(){var e=this,r=this.find(-1,!0),s=this,l=this.doc.cm;!r||!l||hn(l,function(){var f=r.line,y=qe(r.line),S=ca(l,y);if(S&&(oc(S),l.curOp.selectionChanged=l.curOp.forceUpdate=!0),l.curOp.updateMaxLine=!0,!Sr(s.doc,f)&&s.height!=null){var k=s.height;s.height=null;var N=Ki(s)-k;N&&Mn(f,f.height+N)}Dt(l,"markerChanged",l,e)})},Or.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(!r.maybeHiddenMarkers||pe(r.maybeHiddenMarkers,this)==-1)&&(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Or.prototype.detachLine=function(e){if(this.lines.splice(pe(this.lines,e),1),!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(r.maybeHiddenMarkers||(r.maybeHiddenMarkers=[])).push(this)}},at(Or);function Si(e,r,s,l,f){if(l&&l.shared)return Qh(e,r,s,l,f);if(e.cm&&!e.cm.curOp)return kt(e.cm,Si)(e,r,s,l,f);var y=new Or(e,f),S=te(r,s);if(l&&ie(l,y,!1),S>0||S==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=Q("span",[y.replacedWith],"CodeMirror-widget"),l.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),l.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(js(e,r.line,r,s,y)||r.line!=s.line&&js(e,s.line,r,s,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");Np()}y.addToHistory&&Nc(e,{from:r,to:s,origin:"markText"},e.sel,NaN);var k=r.line,N=e.cm,H;if(e.iter(k,s.line+1,function(W){N&&y.collapsed&&!N.options.lineWrapping&&$n(W)==N.display.maxLine&&(H=!0),y.collapsed&&k!=r.line&&Mn(W,0),Ip(W,new Wo(y,k==r.line?r.ch:null,k==s.line?s.ch:null),e.cm&&e.cm.curOp),++k}),y.collapsed&&e.iter(r.line,s.line+1,function(W){Sr(e,W)&&Mn(W,0)}),y.clearOnEnter&&ne(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(Op(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),y.collapsed&&(y.id=++Zc,y.atomic=!0),N){if(H&&(N.curOp.updateMaxLine=!0),y.collapsed)rn(N,r.line,s.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var j=r.line;j<=s.line;j++)Dr(N,j,"text");y.atomic&&zc(N.doc),Dt(N,"markerAdded",N,y)}return y}var po=function(e,r){this.markers=e,this.primary=r;for(var s=0;s<e.length;++s)e[s].parent=this};po.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Dt(this,"clear")}},po.prototype.find=function(e,r){return this.primary.find(e,r)},at(po);function Qh(e,r,s,l,f){l=ie(l),l.shared=!1;var y=[Si(e,r,s,l,f)],S=y[0],k=l.widgetNode;return Rr(e,function(N){k&&(l.widgetNode=k.cloneNode(!0)),y.push(Si(N,Ie(N,r),Ie(N,s),l,f));for(var H=0;H<N.linked.length;++H)if(N.linked[H].isParent)return;S=Ne(y)}),new po(y,S)}function ef(e){return e.findMarks(K(e.first,0),e.clipPos(K(e.lastLine())),function(r){return r.parent})}function Wh(e,r){for(var s=0;s<r.length;s++){var l=r[s],f=l.find(),y=e.clipPos(f.from),S=e.clipPos(f.to);if(te(y,S)){var k=Si(e,y,S,l.primary,l.primary.type);l.markers.push(k),k.parent=l}}}function Gh(e){for(var r=function(l){var f=e[l],y=[f.primary.doc];Rr(f.primary.doc,function(N){return y.push(N)});for(var S=0;S<f.markers.length;S++){var k=f.markers[S];pe(y,k.doc)==-1&&(k.parent=null,f.markers.splice(S--,1))}},s=0;s<e.length;s++)r(s)}var Xh=0,on=function(e,r,s,l,f){if(!(this instanceof on))return new on(e,r,s,l,f);s==null&&(s=0),co.call(this,[new so([new vi("",null)])]),this.first=s,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=s;var y=K(s,0);this.sel=Tr(y),this.history=new su(null),this.id=++Xh,this.modeOption=r,this.lineSep=l,this.direction=f=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Ta(this,{from:y,to:y,text:e}),Vt(this,Tr(y),Ve)};on.prototype=wr(co.prototype,{constructor:on,iter:function(e,r,s){s?this.iterN(e-this.first,r-e,s):this.iterN(this.first,this.first+this.size,e)},insert:function(e,r){for(var s=0,l=0;l<r.length;++l)s+=r[l].height;this.insertInner(e-this.first,r,s)},remove:function(e,r){this.removeInner(e-this.first,r)},getValue:function(e){var r=mi(this,this.first,this.first+this.size);return e===!1?r:r.join(e||this.lineSeparator())},setValue:Tt(function(e){var r=K(this.first,0),s=this.first+this.size-1;_i(this,{from:r,to:K(s,Fe(this,s).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&eo(this.cm,0,0),Vt(this,Tr(r),Ve)}),replaceRange:function(e,r,s,l){r=Ie(this,r),s=s?Ie(this,s):r,Bi(this,e,r,s,l)},getRange:function(e,r,s){var l=sr(this,Ie(this,e),Ie(this,r));return s===!1?l:s===""?l.join(""):l.join(s||this.lineSeparator())},getLine:function(e){var r=this.getLineHandle(e);return r&&r.text},getLineHandle:function(e){if(V(this,e))return Fe(this,e)},getLineNumber:function(e){return qe(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Fe(this,e)),$n(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ie(this,e)},getCursor:function(e){var r=this.sel.primary(),s;return e==null||e=="head"?s=r.head:e=="anchor"?s=r.anchor:e=="end"||e=="to"||e===!1?s=r.to():s=r.from(),s},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Tt(function(e,r,s){Hc(this,Ie(this,typeof e=="number"?K(e,r||0):e),null,s)}),setSelection:Tt(function(e,r,s){Hc(this,Ie(this,e),Ie(this,r||e),s)}),extendSelection:Tt(function(e,r,s){fu(this,Ie(this,e),r&&Ie(this,r),s)}),extendSelections:Tt(function(e,r){Lc(this,Ds(this,e),r)}),extendSelectionsBy:Tt(function(e,r){var s=Wt(this.sel.ranges,e);Lc(this,Ds(this,s),r)}),setSelections:Tt(function(e,r,s){if(e.length){for(var l=[],f=0;f<e.length;f++)l[f]=new Ze(Ie(this,e[f].anchor),Ie(this,e[f].head||e[f].anchor));r==null&&(r=Math.min(e.length-1,this.sel.primIndex)),Vt(this,zn(this.cm,l,r),s)}}),addSelection:Tt(function(e,r,s){var l=this.sel.ranges.slice(0);l.push(new Ze(Ie(this,e),Ie(this,r||e))),Vt(this,zn(this.cm,l,l.length-1),s)}),getSelection:function(e){for(var r=this.sel.ranges,s,l=0;l<r.length;l++){var f=sr(this,r[l].from(),r[l].to());s=s?s.concat(f):f}return e===!1?s:s.join(e||this.lineSeparator())},getSelections:function(e){for(var r=[],s=this.sel.ranges,l=0;l<s.length;l++){var f=sr(this,s[l].from(),s[l].to());e!==!1&&(f=f.join(e||this.lineSeparator())),r[l]=f}return r},replaceSelection:function(e,r,s){for(var l=[],f=0;f<this.sel.ranges.length;f++)l[f]=e;this.replaceSelections(l,r,s||"+input")},replaceSelections:Tt(function(e,r,s){for(var l=[],f=this.sel,y=0;y<f.ranges.length;y++){var S=f.ranges[y];l[y]={from:S.from(),to:S.to(),text:this.splitLines(e[y]),origin:s}}for(var k=r&&r!="end"&&Ph(this,l,r),N=l.length-1;N>=0;N--)_i(this,l[N]);k?$c(this,k):this.cm&&wi(this.cm)}),undo:Tt(function(){hu(this,"undo")}),redo:Tt(function(){hu(this,"redo")}),undoSelection:Tt(function(){hu(this,"undo",!0)}),redoSelection:Tt(function(){hu(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,r=0,s=0,l=0;l<e.done.length;l++)e.done[l].ranges||++r;for(var f=0;f<e.undone.length;f++)e.undone[f].ranges||++s;return{undo:r,redo:s}},clearHistory:function(){var e=this;this.history=new su(this.history),Rr(this,function(r){return r.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Fi(this.history.done),undone:Fi(this.history.undone)}},setHistory:function(e){var r=this.history=new su(this.history);r.done=Fi(e.done.slice(0),null,!0),r.undone=Fi(e.undone.slice(0),null,!0)},setGutterMarker:Tt(function(e,r,s){return lo(this,e,"gutter",function(l){var f=l.gutterMarkers||(l.gutterMarkers={});return f[r]=s,!s&&Wn(f)&&(l.gutterMarkers=null),!0})}),clearGutter:Tt(function(e){var r=this;this.iter(function(s){s.gutterMarkers&&s.gutterMarkers[e]&&lo(r,s,"gutter",function(){return s.gutterMarkers[e]=null,Wn(s.gutterMarkers)&&(s.gutterMarkers=null),!0})})}),lineInfo:function(e){var r;if(typeof e=="number"){if(!V(this,e)||(r=e,e=Fe(this,e),!e))return null}else if(r=qe(e),r==null)return null;return{line:r,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Tt(function(e,r,s){return lo(this,e,r=="gutter"?"gutter":"class",function(l){var f=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass";if(!l[f])l[f]=s;else{if(T(s).test(l[f]))return!1;l[f]+=" "+s}return!0})}),removeLineClass:Tt(function(e,r,s){return lo(this,e,r=="gutter"?"gutter":"class",function(l){var f=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass",y=l[f];if(y)if(s==null)l[f]=null;else{var S=y.match(T(s));if(!S)return!1;var k=S.index+S[0].length;l[f]=y.slice(0,S.index)+(!S.index||k==y.length?"":" ")+y.slice(k)||null}else return!1;return!0})}),addLineWidget:Tt(function(e,r,s){return Yh(this,e,r,s)}),removeLineWidget:function(e){e.clear()},markText:function(e,r,s){return Si(this,Ie(this,e),Ie(this,r),s,s&&s.type||"range")},setBookmark:function(e,r){var s={replacedWith:r&&(r.nodeType==null?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};return e=Ie(this,e),Si(this,e,e,s,"bookmark")},findMarksAt:function(e){e=Ie(this,e);var r=[],s=Fe(this,e.line).markedSpans;if(s)for(var l=0;l<s.length;++l){var f=s[l];(f.from==null||f.from<=e.ch)&&(f.to==null||f.to>=e.ch)&&r.push(f.marker.parent||f.marker)}return r},findMarks:function(e,r,s){e=Ie(this,e),r=Ie(this,r);var l=[],f=e.line;return this.iter(e.line,r.line+1,function(y){var S=y.markedSpans;if(S)for(var k=0;k<S.length;k++){var N=S[k];!(N.to!=null&&f==e.line&&e.ch>=N.to||N.from==null&&f!=e.line||N.from!=null&&f==r.line&&N.from>=r.ch)&&(!s||s(N.marker))&&l.push(N.marker.parent||N.marker)}++f}),l},getAllMarks:function(){var e=[];return this.iter(function(r){var s=r.markedSpans;if(s)for(var l=0;l<s.length;++l)s[l].from!=null&&e.push(s[l].marker)}),e},posFromIndex:function(e){var r,s=this.first,l=this.lineSeparator().length;return this.iter(function(f){var y=f.text.length+l;if(y>e)return r=e,!0;e-=y,++s}),Ie(this,K(s,r))},indexFromPos:function(e){e=Ie(this,e);var r=e.ch;if(e.line<this.first||e.ch<0)return 0;var s=this.lineSeparator().length;return this.iter(this.first,e.line,function(l){r+=l.text.length+s}),r},copy:function(e){var r=new on(mi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,r.sel=this.sel,r.extend=!1,e&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory())),r},linkedDoc:function(e){e||(e={});var r=this.first,s=this.first+this.size;e.from!=null&&e.from>r&&(r=e.from),e.to!=null&&e.to<s&&(s=e.to);var l=new on(mi(this,r,s),e.mode||this.modeOption,r,this.lineSep,this.direction);return e.sharedHist&&(l.history=this.history),(this.linked||(this.linked=[])).push({doc:l,sharedHist:e.sharedHist}),l.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Wh(l,ef(this)),l},unlinkDoc:function(e){if(e instanceof lt&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var s=this.linked[r];if(s.doc==e){this.linked.splice(r,1),e.unlinkDoc(this),Gh(ef(this));break}}if(e.history==this.history){var l=[e.id];Rr(e,function(f){return l.push(f.id)},!0),e.history=new su(null),e.history.done=Fi(this.history.done,l),e.history.undone=Fi(this.history.undone,l)}},iterLinkedDocs:function(e){Rr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Yi(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Tt(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(r){return r.order=null}),this.cm&&Ih(this.cm))})}),on.prototype.eachLine=on.prototype.iter;var tf=0;function Jh(e){var r=this;if(nf(r),!(Qe(r,e)||dr(r.display,e))){mt(e),p&&(tf=+new Date);var s=Zr(r,e,!0),l=e.dataTransfer.files;if(!(!s||r.isReadOnly()))if(l&&l.length&&window.FileReader&&window.File)for(var f=l.length,y=Array(f),S=0,k=function(){++S==f&&kt(r,function(){s=Ie(r.doc,s);var q={from:s,to:s,text:r.doc.splitLines(y.filter(function(re){return re!=null}).join(r.doc.lineSeparator())),origin:"paste"};_i(r.doc,q),$c(r.doc,Tr(Ie(r.doc,s),Ie(r.doc,Mr(q))))})()},N=function(q,re){if(r.options.allowDropFileTypes&&pe(r.options.allowDropFileTypes,q.type)==-1){k();return}var ue=new FileReader;ue.onerror=function(){return k()},ue.onload=function(){var ce=ue.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ce)){k();return}y[re]=ce,k()},ue.readAsText(q)},H=0;H<l.length;H++)N(l[H],H);else{if(r.state.draggingText&&r.doc.sel.contains(s)>-1){r.state.draggingText(e),setTimeout(function(){return r.display.input.focus()},20);return}try{var j=e.dataTransfer.getData("Text");if(j){var W;if(r.state.draggingText&&!r.state.draggingText.copy&&(W=r.listSelections()),du(r.doc,Tr(s,s)),W)for(var Z=0;Z<W.length;++Z)Bi(r.doc,"",W[Z].anchor,W[Z].head,"drag");r.replaceSelection(j,"around","paste"),r.display.input.focus()}}catch(q){}}}}function Kh(e,r){if(p&&(!e.state.draggingText||+new Date-tf<100)){ar(r);return}if(!(Qe(e,r)||dr(e.display,r))&&(r.dataTransfer.setData("Text",e.getSelection()),r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setDragImage&&!F)){var s=M("img",null,null,"position: fixed; left: 0; top: 0;");s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",A&&(s.width=s.height=1,e.display.wrapper.appendChild(s),s._top=s.offsetTop),r.dataTransfer.setDragImage(s,0,0),A&&s.parentNode.removeChild(s)}}function qh(e,r){var s=Zr(e,r);if(s){var l=document.createDocumentFragment();ya(e,s,l),e.display.dragCursor||(e.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),z(e.display.dragCursor,l)}}function nf(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function rf(e){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),s=[],l=0;l<r.length;l++){var f=r[l].CodeMirror;f&&s.push(f)}s.length&&s[0].operation(function(){for(var y=0;y<s.length;y++)e(s[y])})}}var of=!1;function Zh(){of||(em(),of=!0)}function em(){var e;ne(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,rf(tm)},100))}),ne(window,"blur",function(){return rf(Ei)})}function tm(e){var r=e.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.scrollbarsClipped=!1,e.setSize()}for(var Nr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ho=0;ho<10;ho++)Nr[ho+48]=Nr[ho+96]=String(ho);for(var mu=65;mu<=90;mu++)Nr[mu]=String.fromCharCode(mu);for(var mo=1;mo<=12;mo++)Nr[mo+111]=Nr[mo+63235]="F"+mo;var hr={};hr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},hr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},hr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},hr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},hr.default=x?hr.macDefault:hr.pcDefault;function nm(e){var r=e.split(/-(?!$)/);e=r[r.length-1];for(var s,l,f,y,S=0;S<r.length-1;S++){var k=r[S];if(/^(cmd|meta|m)$/i.test(k))y=!0;else if(/^a(lt)?$/i.test(k))s=!0;else if(/^(c|ctrl|control)$/i.test(k))l=!0;else if(/^s(hift)?$/i.test(k))f=!0;else throw new Error("Unrecognized modifier name: "+k)}return s&&(e="Alt-"+e),l&&(e="Ctrl-"+e),y&&(e="Cmd-"+e),f&&(e="Shift-"+e),e}function rm(e){var r={};for(var s in e)if(e.hasOwnProperty(s)){var l=e[s];if(/^(name|fallthrough|(de|at)tach)$/.test(s))continue;if(l=="..."){delete e[s];continue}for(var f=Wt(s.split(" "),nm),y=0;y<f.length;y++){var S=void 0,k=void 0;y==f.length-1?(k=f.join(" "),S=l):(k=f.slice(0,y+1).join(" "),S="...");var N=r[k];if(!N)r[k]=S;else if(N!=S)throw new Error("Inconsistent bindings for "+k)}delete e[s]}for(var H in r)e[H]=r[H];return e}function Di(e,r,s,l){r=vu(r);var f=r.call?r.call(e,l):r[e];if(f===!1)return"nothing";if(f==="...")return"multi";if(f!=null&&s(f))return"handled";if(r.fallthrough){if(Object.prototype.toString.call(r.fallthrough)!="[object Array]")return Di(e,r.fallthrough,s,l);for(var y=0;y<r.fallthrough.length;y++){var S=Di(e,r.fallthrough[y],s,l);if(S)return S}}}function uf(e){var r=typeof e=="string"?e:Nr[e.keyCode];return r=="Ctrl"||r=="Alt"||r=="Shift"||r=="Mod"}function af(e,r,s){var l=e;return r.altKey&&l!="Alt"&&(e="Alt-"+e),(P?r.metaKey:r.ctrlKey)&&l!="Ctrl"&&(e="Ctrl-"+e),(P?r.ctrlKey:r.metaKey)&&l!="Mod"&&(e="Cmd-"+e),!s&&r.shiftKey&&l!="Shift"&&(e="Shift-"+e),e}function lf(e,r){if(A&&e.keyCode==34&&e.char)return!1;var s=Nr[e.keyCode];return s==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(s=e.code),af(s,e,r))}function vu(e){return typeof e=="string"?hr[e]:e}function ki(e,r){for(var s=e.doc.sel.ranges,l=[],f=0;f<s.length;f++){for(var y=r(s[f]);l.length&&te(y.from,Ne(l).to)<=0;){var S=l.pop();if(te(S.from,y.from)<0){y.from=S.from;break}}l.push(y)}hn(e,function(){for(var k=l.length-1;k>=0;k--)Bi(e.doc,"",l[k].from,l[k].to,"+delete");wi(e)})}function Na(e,r,s){var l=Ct(e.text,r+s,s);return l<0||l>e.text.length?null:l}function Pa(e,r,s){var l=Na(e,r.ch,s);return l==null?null:new K(r.line,l,s<0?"after":"before")}function Ia(e,r,s,l,f){if(e){r.doc.direction=="rtl"&&(f=-f);var y=ke(s,r.doc.direction);if(y){var S=f<0?Ne(y):y[0],k=f<0==(S.level==1),N=k?"after":"before",H;if(S.level>0||r.doc.direction=="rtl"){var j=yi(r,s);H=f<0?s.text.length-1:0;var W=er(r,j,H).top;H=Ke(function(Z){return er(r,j,Z).top==W},f<0==(S.level==1)?S.from:S.to-1,H),N=="before"&&(H=Na(s,H,1))}else H=f<0?S.to:S.from;return new K(l,H,N)}}return new K(l,f<0?s.text.length:0,f<0?"before":"after")}function im(e,r,s,l){var f=ke(r,e.doc.direction);if(!f)return Pa(r,s,l);s.ch>=r.text.length?(s.ch=r.text.length,s.sticky="before"):s.ch<=0&&(s.ch=0,s.sticky="after");var y=ge(f,s.ch,s.sticky),S=f[y];if(e.doc.direction=="ltr"&&S.level%2==0&&(l>0?S.to>s.ch:S.from<s.ch))return Pa(r,s,l);var k=function(he,Ee){return Na(r,he instanceof K?he.ch:he,Ee)},N,H=function(he){return e.options.lineWrapping?(N=N||yi(e,r),dc(e,r,N,he)):{begin:0,end:r.text.length}},j=H(s.sticky=="before"?k(s,-1):s.ch);if(e.doc.direction=="rtl"||S.level==1){var W=S.level==1==l<0,Z=k(s,W?1:-1);if(Z!=null&&(W?Z<=S.to&&Z<=j.end:Z>=S.from&&Z>=j.begin)){var q=W?"before":"after";return new K(s.line,Z,q)}}var re=function(he,Ee,me){for(var Ce=function(ot,Mt){return Mt?new K(s.line,k(ot,1),"before"):new K(s.line,ot,"after")};he>=0&&he<f.length;he+=Ee){var Se=f[he],_e=Ee>0==(Se.level!=1),Ue=_e?me.begin:k(me.end,-1);if(Se.from<=Ue&&Ue<Se.to||(Ue=_e?Se.from:k(Se.to,-1),me.begin<=Ue&&Ue<me.end))return Ce(Ue,_e)}},ue=re(y+l,l,j);if(ue)return ue;var ce=l>0?j.end:k(j.begin,-1);return ce!=null&&!(l>0&&ce==r.text.length)&&(ue=re(l>0?0:f.length-1,l,H(ce)),ue)?ue:null}var vo={selectAll:Yc,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Ve)},killLine:function(e){return ki(e,function(r){if(r.empty()){var s=Fe(e.doc,r.head.line).text.length;return r.head.ch==s&&r.head.line<e.lastLine()?{from:r.head,to:K(r.head.line+1,0)}:{from:r.head,to:K(r.head.line,s)}}else return{from:r.from(),to:r.to()}})},deleteLine:function(e){return ki(e,function(r){return{from:K(r.from().line,0),to:Ie(e.doc,K(r.to().line+1,0))}})},delLineLeft:function(e){return ki(e,function(r){return{from:K(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(e){return ki(e,function(r){var s=e.charCoords(r.head,"div").top+5,l=e.coordsChar({left:0,top:s},"div");return{from:l,to:r.from()}})},delWrappedLineRight:function(e){return ki(e,function(r){var s=e.charCoords(r.head,"div").top+5,l=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:s},"div");return{from:r.from(),to:l}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(K(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(K(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(r){return sf(e,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(r){return cf(e,r.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(r){return om(e,r.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(r){var s=e.cursorCoords(r.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:s},"div")},An)},goLineLeft:function(e){return e.extendSelectionsBy(function(r){var s=e.cursorCoords(r.head,"div").top+5;return e.coordsChar({left:0,top:s},"div")},An)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(r){var s=e.cursorCoords(r.head,"div").top+5,l=e.coordsChar({left:0,top:s},"div");return l.ch<e.getLine(l.line).search(/\S/)?cf(e,r.head):l},An)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var r=[],s=e.listSelections(),l=e.options.tabSize,f=0;f<s.length;f++){var y=s[f].from(),S=oe(e.getLine(y.line),y.ch,l);r.push($t(l-S%l))}e.replaceSelections(r)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hn(e,function(){for(var r=e.listSelections(),s=[],l=0;l<r.length;l++)if(r[l].empty()){var f=r[l].head,y=Fe(e.doc,f.line).text;if(y){if(f.ch==y.length&&(f=new K(f.line,f.ch-1)),f.ch>0)f=new K(f.line,f.ch+1),e.replaceRange(y.charAt(f.ch-1)+y.charAt(f.ch-2),K(f.line,f.ch-2),f,"+transpose");else if(f.line>e.doc.first){var S=Fe(e.doc,f.line-1).text;S&&(f=new K(f.line,1),e.replaceRange(y.charAt(0)+e.doc.lineSeparator()+S.charAt(S.length-1),K(f.line-1,S.length-1),f,"+transpose"))}}s.push(new Ze(f,f))}e.setSelections(s)})},newlineAndIndent:function(e){return hn(e,function(){for(var r=e.listSelections(),s=r.length-1;s>=0;s--)e.replaceRange(e.doc.lineSeparator(),r[s].anchor,r[s].head,"+input");r=e.listSelections();for(var l=0;l<r.length;l++)e.indentLine(r[l].from().line,null,!0);wi(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function sf(e,r){var s=Fe(e.doc,r),l=$n(s);return l!=s&&(r=qe(l)),Ia(!0,e,l,r,1)}function om(e,r){var s=Fe(e.doc,r),l=zp(s);return l!=s&&(r=qe(l)),Ia(!0,e,s,r,-1)}function cf(e,r){var s=sf(e,r.line),l=Fe(e.doc,s.line),f=ke(l,e.doc.direction);if(!f||f[0].level==0){var y=Math.max(s.ch,l.text.search(/\S/)),S=r.line==s.line&&r.ch<=y&&r.ch;return K(s.line,S?0:y,s.sticky)}return s}function gu(e,r,s){if(typeof r=="string"&&(r=vo[r],!r))return!1;e.display.input.ensurePolled();var l=e.display.shift,f=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),s&&(e.display.shift=!1),f=r(e)!=Oe}finally{e.display.shift=l,e.state.suppressEdits=!1}return f}function um(e,r,s){for(var l=0;l<e.state.keyMaps.length;l++){var f=Di(r,e.state.keyMaps[l],s,e);if(f)return f}return e.options.extraKeys&&Di(r,e.options.extraKeys,s,e)||Di(r,e.options.keyMap,s,e)}var am=new le;function go(e,r,s,l){var f=e.state.keySeq;if(f){if(uf(r))return"handled";if(/\'$/.test(r)?e.state.keySeq=null:am.set(50,function(){e.state.keySeq==f&&(e.state.keySeq=null,e.display.input.reset())}),ff(e,f+" "+r,s,l))return!0}return ff(e,r,s,l)}function ff(e,r,s,l){var f=um(e,r,l);return f=="multi"&&(e.state.keySeq=r),f=="handled"&&Dt(e,"keyHandled",e,r,s),(f=="handled"||f=="multi")&&(mt(s),Aa(e)),!!f}function df(e,r){var s=lf(r,!0);return s?r.shiftKey&&!e.state.keySeq?go(e,"Shift-"+s,r,function(l){return gu(e,l,!0)})||go(e,s,r,function(l){if(typeof l=="string"?/^go[A-Z]/.test(l):l.motion)return gu(e,l)}):go(e,s,r,function(l){return gu(e,l)}):!1}function lm(e,r,s){return go(e,"'"+s+"'",r,function(l){return gu(e,l,!0)})}var La=null;function pf(e){var r=this;if(!(e.target&&e.target!=r.display.input.getField())&&(r.curOp.focus=X(de(r)),!Qe(r,e))){p&&h<11&&e.keyCode==27&&(e.returnValue=!1);var s=e.keyCode;r.display.shift=s==16||e.shiftKey;var l=df(r,e);A&&(La=l?s:null,!l&&s==88&&!Xn&&(x?e.metaKey:e.ctrlKey)&&r.replaceSelection("",null,"cut")),t&&!x&&!l&&s==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),s==18&&!/\bCodeMirror-crosshair\b/.test(r.display.lineDiv.className)&&sm(r)}}function sm(e){var r=e.display.lineDiv;J(r,"CodeMirror-crosshair");function s(l){(l.keyCode==18||!l.altKey)&&($(r,"CodeMirror-crosshair"),xe(document,"keyup",s),xe(document,"mouseover",s))}ne(document,"keyup",s),ne(document,"mouseover",s)}function hf(e){e.keyCode==16&&(this.doc.sel.shift=!1),Qe(this,e)}function mf(e){var r=this;if(!(e.target&&e.target!=r.display.input.getField())&&!(dr(r.display,e)||Qe(r,e)||e.ctrlKey&&!e.altKey||x&&e.metaKey)){var s=e.keyCode,l=e.charCode;if(A&&s==La){La=null,mt(e);return}if(!(A&&(!e.which||e.which<10)&&df(r,e))){var f=String.fromCharCode(l==null?s:l);f!="\b"&&(lm(r,e,f)||r.display.input.onKeyPress(e))}}}var cm=400,Ha=function(e,r,s){this.time=e,this.pos=r,this.button=s};Ha.prototype.compare=function(e,r,s){return this.time+cm>e&&te(r,this.pos)==0&&s==this.button};var yo,Ao;function fm(e,r){var s=+new Date;return Ao&&Ao.compare(s,e,r)?(yo=Ao=null,"triple"):yo&&yo.compare(s,e,r)?(Ao=new Ha(s,e,r),yo=null,"double"):(yo=new Ha(s,e,r),Ao=null,"single")}function vf(e){var r=this,s=r.display;if(!(Qe(r,e)||s.activeTouch&&s.input.supportsTouch())){if(s.input.ensurePolled(),s.shift=e.shiftKey,dr(s,e)){m||(s.scroller.draggable=!1,setTimeout(function(){return s.scroller.draggable=!0},100));return}if(!$a(r,e)){var l=Zr(r,e),f=Ui(e),y=l?fm(l,f):"single";se(r).focus(),f==1&&r.state.selectingText&&r.state.selectingText(e),!(l&&dm(r,f,l,y,e))&&(f==1?l?hm(r,l,y,e):nn(e)==s.scroller&&mt(e):f==2?(l&&fu(r.doc,l),setTimeout(function(){return s.input.focus()},20)):f==3&&(R?r.display.input.onContextMenu(e):ba(r)))}}}function dm(e,r,s,l,f){var y="Click";return l=="double"?y="Double"+y:l=="triple"&&(y="Triple"+y),y=(r==1?"Left":r==2?"Middle":"Right")+y,go(e,af(y,f),f,function(S){if(typeof S=="string"&&(S=vo[S]),!S)return!1;var k=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),k=S(e,s)!=Oe}finally{e.state.suppressEdits=!1}return k})}function pm(e,r,s){var l=e.getOption("configureMouse"),f=l?l(e,r,s):{};if(f.unit==null){var y=D?s.shiftKey&&s.metaKey:s.altKey;f.unit=y?"rectangle":r=="single"?"char":r=="double"?"word":"line"}return(f.extend==null||e.doc.extend)&&(f.extend=e.doc.extend||s.shiftKey),f.addNew==null&&(f.addNew=x?s.metaKey:s.ctrlKey),f.moveOnDrag==null&&(f.moveOnDrag=!(x?s.altKey:s.ctrlKey)),f}function hm(e,r,s,l){p?setTimeout(ye(vc,e),0):e.curOp.focus=X(de(e));var f=pm(e,s,l),y=e.doc.sel,S;e.options.dragDrop&&qu&&!e.isReadOnly()&&s=="single"&&(S=y.contains(r))>-1&&(te((S=y.ranges[S]).from(),r)<0||r.xRel>0)&&(te(S.to(),r)>0||r.xRel<0)?mm(e,l,r,f):vm(e,l,r,f)}function mm(e,r,s,l){var f=e.display,y=!1,S=kt(e,function(H){m&&(f.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:ba(e)),xe(f.wrapper.ownerDocument,"mouseup",S),xe(f.wrapper.ownerDocument,"mousemove",k),xe(f.scroller,"dragstart",N),xe(f.scroller,"drop",S),y||(mt(H),l.addNew||fu(e.doc,s,null,null,l.extend),m&&!F||p&&h==9?setTimeout(function(){f.wrapper.ownerDocument.body.focus({preventScroll:!0}),f.input.focus()},20):f.input.focus())}),k=function(H){y=y||Math.abs(r.clientX-H.clientX)+Math.abs(r.clientY-H.clientY)>=10},N=function(){return y=!0};m&&(f.scroller.draggable=!0),e.state.draggingText=S,S.copy=!l.moveOnDrag,ne(f.wrapper.ownerDocument,"mouseup",S),ne(f.wrapper.ownerDocument,"mousemove",k),ne(f.scroller,"dragstart",N),ne(f.scroller,"drop",S),e.state.delayingBlurEvent=!0,setTimeout(function(){return f.input.focus()},20),f.scroller.dragDrop&&f.scroller.dragDrop()}function gf(e,r,s){if(s=="char")return new Ze(r,r);if(s=="word")return e.findWordAt(r);if(s=="line")return new Ze(K(r.line,0),Ie(e.doc,K(r.line+1,0)));var l=s(e,r);return new Ze(l.from,l.to)}function vm(e,r,s,l){p&&ba(e);var f=e.display,y=e.doc;mt(r);var S,k,N=y.sel,H=N.ranges;if(l.addNew&&!l.extend?(k=y.sel.contains(s),k>-1?S=H[k]:S=new Ze(s,s)):(S=y.sel.primary(),k=y.sel.primIndex),l.unit=="rectangle")l.addNew||(S=new Ze(s,s)),s=Zr(e,r,!0,!0),k=-1;else{var j=gf(e,s,l.unit);l.extend?S=Ra(S,j.anchor,j.head,l.extend):S=j}l.addNew?k==-1?(k=H.length,Vt(y,zn(e,H.concat([S]),k),{scroll:!1,origin:"*mouse"})):H.length>1&&H[k].empty()&&l.unit=="char"&&!l.extend?(Vt(y,zn(e,H.slice(0,k).concat(H.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),N=y.sel):Oa(y,k,S,Qt):(k=0,Vt(y,new xn([S],0),Qt),N=y.sel);var W=s;function Z(me){if(te(W,me)!=0)if(W=me,l.unit=="rectangle"){for(var Ce=[],Se=e.options.tabSize,_e=oe(Fe(y,s.line).text,s.ch,Se),Ue=oe(Fe(y,me.line).text,me.ch,Se),ot=Math.min(_e,Ue),Mt=Math.max(_e,Ue),st=Math.min(s.line,me.line),mn=Math.min(e.lastLine(),Math.max(s.line,me.line));st<=mn;st++){var un=Fe(y,st).text,At=ft(un,ot,Se);ot==Mt?Ce.push(new Ze(K(st,At),K(st,At))):un.length>At&&Ce.push(new Ze(K(st,At),K(st,ft(un,Mt,Se))))}Ce.length||Ce.push(new Ze(s,s)),Vt(y,zn(e,N.ranges.slice(0,k).concat(Ce),k),{origin:"*mouse",scroll:!1}),e.scrollIntoView(me)}else{var an=S,Lt=gf(e,me,l.unit),xt=an.anchor,bt;te(Lt.anchor,xt)>0?(bt=Lt.head,xt=Ft(an.from(),Lt.anchor)):(bt=Lt.anchor,xt=Ge(an.to(),Lt.head));var pt=N.ranges.slice(0);pt[k]=gm(e,new Ze(Ie(y,xt),bt)),Vt(y,zn(e,pt,k),Qt)}}var q=f.wrapper.getBoundingClientRect(),re=0;function ue(me){var Ce=++re,Se=Zr(e,me,!0,l.unit=="rectangle");if(Se)if(te(Se,W)!=0){e.curOp.focus=X(de(e)),Z(Se);var _e=ou(f,y);(Se.line>=_e.to||Se.line<_e.from)&&setTimeout(kt(e,function(){re==Ce&&ue(me)}),150)}else{var Ue=me.clientY<q.top?-20:me.clientY>q.bottom?20:0;Ue&&setTimeout(kt(e,function(){re==Ce&&(f.scroller.scrollTop+=Ue,ue(me))}),50)}}function ce(me){e.state.selectingText=!1,re=1/0,me&&(mt(me),f.input.focus()),xe(f.wrapper.ownerDocument,"mousemove",he),xe(f.wrapper.ownerDocument,"mouseup",Ee),y.history.lastSelOrigin=null}var he=kt(e,function(me){me.buttons===0||!Ui(me)?ce(me):ue(me)}),Ee=kt(e,ce);e.state.selectingText=Ee,ne(f.wrapper.ownerDocument,"mousemove",he),ne(f.wrapper.ownerDocument,"mouseup",Ee)}function gm(e,r){var s=r.anchor,l=r.head,f=Fe(e.doc,s.line);if(te(s,l)==0&&s.sticky==l.sticky)return r;var y=ke(f);if(!y)return r;var S=ge(y,s.ch,s.sticky),k=y[S];if(k.from!=s.ch&&k.to!=s.ch)return r;var N=S+(k.from==s.ch==(k.level!=1)?0:1);if(N==0||N==y.length)return r;var H;if(l.line!=s.line)H=(l.line-s.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var j=ge(y,l.ch,l.sticky),W=j-S||(l.ch-s.ch)*(k.level==1?-1:1);j==N-1||j==N?H=W<0:H=W>0}var Z=y[N+(H?-1:0)],q=H==(Z.level==1),re=q?Z.from:Z.to,ue=q?"after":"before";return s.ch==re&&s.sticky==ue?r:new Ze(new K(s.line,re,ue),l)}function yf(e,r,s,l){var f,y;if(r.touches)f=r.touches[0].clientX,y=r.touches[0].clientY;else try{f=r.clientX,y=r.clientY}catch(Z){return!1}if(f>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;l&&mt(r);var S=e.display,k=S.lineDiv.getBoundingClientRect();if(y>k.bottom||!nt(e,s))return Jr(r);y-=k.top-S.viewOffset;for(var N=0;N<e.display.gutterSpecs.length;++N){var H=S.gutters.childNodes[N];if(H&&H.getBoundingClientRect().right>=f){var j=Kn(e.doc,y),W=e.display.gutterSpecs[N];return Me(e,s,e,j,W.className,r),Jr(r)}}}function $a(e,r){return yf(e,r,"gutterClick",!0)}function Af(e,r){dr(e.display,r)||ym(e,r)||Qe(e,r,"contextmenu")||R||e.display.input.onContextMenu(r)}function ym(e,r){return nt(e,"gutterContextMenu")?yf(e,r,"gutterContextMenu",!1):!1}function bf(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),qi(e)}var Ti={toString:function(){return"CodeMirror.Init"}},Ef={},yu={};function Am(e){var r=e.optionHandlers;function s(l,f,y,S){e.defaults[l]=f,y&&(r[l]=S?function(k,N,H){H!=Ti&&y(k,N,H)}:y)}e.defineOption=s,e.Init=Ti,s("value","",function(l,f){return l.setValue(f)},!0),s("mode",null,function(l,f){l.doc.modeOption=f,ka(l)},!0),s("indentUnit",2,ka,!0),s("indentWithTabs",!1),s("smartIndent",!0),s("tabSize",4,function(l){uo(l),qi(l),rn(l)},!0),s("lineSeparator",null,function(l,f){if(l.doc.lineSep=f,!!f){var y=[],S=l.doc.first;l.doc.iter(function(N){for(var H=0;;){var j=N.text.indexOf(f,H);if(j==-1)break;H=j+f.length,y.push(K(S,j))}S++});for(var k=y.length-1;k>=0;k--)Bi(l.doc,f,y[k],K(y[k].line,y[k].ch+f.length))}}),s("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(l,f,y){l.state.specialChars=new RegExp(f.source+(f.test("	")?"":"|	"),"g"),y!=Ti&&l.refresh()}),s("specialCharPlaceholder",Gp,function(l){return l.refresh()},!0),s("electricChars",!0),s("inputStyle",_?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),s("spellcheck",!1,function(l,f){return l.getInputField().spellcheck=f},!0),s("autocorrect",!1,function(l,f){return l.getInputField().autocorrect=f},!0),s("autocapitalize",!1,function(l,f){return l.getInputField().autocapitalize=f},!0),s("rtlMoveVisually",!O),s("wholeLineUpdateBefore",!0),s("theme","default",function(l){bf(l),oo(l)},!0),s("keyMap","default",function(l,f,y){var S=vu(f),k=y!=Ti&&vu(y);k&&k.detach&&k.detach(l,S),S.attach&&S.attach(l,k||null)}),s("extraKeys",null),s("configureMouse",null),s("lineWrapping",!1,Em,!0),s("gutters",[],function(l,f){l.display.gutterSpecs=Sa(f,l.options.lineNumbers),oo(l)},!0),s("fixedGutter",!0,function(l,f){l.display.gutters.style.left=f?va(l.display)+"px":"0",l.refresh()},!0),s("coverGutterNextToScrollbar",!1,function(l){return Ci(l)},!0),s("scrollbarStyle","native",function(l){wc(l),Ci(l),l.display.scrollbars.setScrollTop(l.doc.scrollTop),l.display.scrollbars.setScrollLeft(l.doc.scrollLeft)},!0),s("lineNumbers",!1,function(l,f){l.display.gutterSpecs=Sa(l.options.gutters,f),oo(l)},!0),s("firstLineNumber",1,oo,!0),s("lineNumberFormatter",function(l){return l},oo,!0),s("showCursorWhenSelecting",!1,Zi,!0),s("resetSelectionOnContextMenu",!0),s("lineWiseCopyCut",!0),s("pasteLinesPerSelection",!0),s("selectionsMayTouch",!1),s("readOnly",!1,function(l,f){f=="nocursor"&&(Ei(l),l.display.input.blur()),l.display.input.readOnlyChanged(f)}),s("screenReaderLabel",null,function(l,f){f=f===""?null:f,l.display.input.screenReaderLabelChanged(f)}),s("disableInput",!1,function(l,f){f||l.display.input.reset()},!0),s("dragDrop",!0,bm),s("allowDropFileTypes",null),s("cursorBlinkRate",530),s("cursorScrollMargin",0),s("cursorHeight",1,Zi,!0),s("singleCursorHeightPerLine",!0,Zi,!0),s("workTime",100),s("workDelay",100),s("flattenSpans",!0,uo,!0),s("addModeClass",!1,uo,!0),s("pollInterval",100),s("undoDepth",200,function(l,f){return l.doc.history.undoDepth=f}),s("historyEventDelay",1250),s("viewportMargin",10,function(l){return l.refresh()},!0),s("maxHighlightLength",1e4,uo,!0),s("moveInputWithCursor",!0,function(l,f){f||l.display.input.resetPosition()}),s("tabindex",null,function(l,f){return l.display.input.getField().tabIndex=f||""}),s("autofocus",null),s("direction","ltr",function(l,f){return l.doc.setDirection(f)},!0),s("phrases",null)}function bm(e,r,s){var l=s&&s!=Ti;if(!r!=!l){var f=e.display.dragFunctions,y=r?ne:xe;y(e.display.scroller,"dragstart",f.start),y(e.display.scroller,"dragenter",f.enter),y(e.display.scroller,"dragover",f.over),y(e.display.scroller,"dragleave",f.leave),y(e.display.scroller,"drop",f.drop)}}function Em(e){e.options.lineWrapping?(J(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):($(e.display.wrapper,"CodeMirror-wrap"),ua(e)),ga(e),rn(e),qi(e),setTimeout(function(){return Ci(e)},100)}function lt(e,r){var s=this;if(!(this instanceof lt))return new lt(e,r);this.options=r=r?ie(r):{},ie(Ef,r,!1);var l=r.value;typeof l=="string"?l=new on(l,r.mode,null,r.lineSeparator,r.direction):r.mode&&(l.modeOption=r.mode),this.doc=l;var f=new lt.inputStyles[r.inputStyle](this),y=this.display=new Oh(e,l,f,r);y.wrapper.CodeMirror=this,bf(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wc(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new le,keySeq:null,specialChars:null},r.autofocus&&!_&&y.input.focus(),p&&h<11&&setTimeout(function(){return s.display.input.reset(!0)},20),wm(this),Zh(),ri(this),this.curOp.forceUpdate=!0,Mc(this,l),r.autofocus&&!_||this.hasFocus()?setTimeout(function(){s.hasFocus()&&!s.state.focused&&Ea(s)},20):Ei(this);for(var S in yu)yu.hasOwnProperty(S)&&yu[S](this,r[S],Ti);xc(this),r.finishInit&&r.finishInit(this);for(var k=0;k<Va.length;++k)Va[k](this);ii(this),m&&r.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}lt.defaults=Ef,lt.optionHandlers=yu;function wm(e){var r=e.display;ne(r.scroller,"mousedown",kt(e,vf)),p&&h<11?ne(r.scroller,"dblclick",kt(e,function(N){if(!Qe(e,N)){var H=Zr(e,N);if(!(!H||$a(e,N)||dr(e.display,N))){mt(N);var j=e.findWordAt(H);fu(e.doc,j.anchor,j.head)}}})):ne(r.scroller,"dblclick",function(N){return Qe(e,N)||mt(N)}),ne(r.scroller,"contextmenu",function(N){return Af(e,N)}),ne(r.input.getField(),"contextmenu",function(N){r.scroller.contains(N.target)||Af(e,N)});var s,l={end:0};function f(){r.activeTouch&&(s=setTimeout(function(){return r.activeTouch=null},1e3),l=r.activeTouch,l.end=+new Date)}function y(N){if(N.touches.length!=1)return!1;var H=N.touches[0];return H.radiusX<=1&&H.radiusY<=1}function S(N,H){if(H.left==null)return!0;var j=H.left-N.left,W=H.top-N.top;return j*j+W*W>20*20}ne(r.scroller,"touchstart",function(N){if(!Qe(e,N)&&!y(N)&&!$a(e,N)){r.input.ensurePolled(),clearTimeout(s);var H=+new Date;r.activeTouch={start:H,moved:!1,prev:H-l.end<=300?l:null},N.touches.length==1&&(r.activeTouch.left=N.touches[0].pageX,r.activeTouch.top=N.touches[0].pageY)}}),ne(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),ne(r.scroller,"touchend",function(N){var H=r.activeTouch;if(H&&!dr(r,N)&&H.left!=null&&!H.moved&&new Date-H.start<300){var j=e.coordsChar(r.activeTouch,"page"),W;!H.prev||S(H,H.prev)?W=new Ze(j,j):!H.prev.prev||S(H,H.prev.prev)?W=e.findWordAt(j):W=new Ze(K(j.line,0),Ie(e.doc,K(j.line+1,0))),e.setSelection(W.anchor,W.head),e.focus(),mt(N)}f()}),ne(r.scroller,"touchcancel",f),ne(r.scroller,"scroll",function(){r.scroller.clientHeight&&(to(e,r.scroller.scrollTop),ti(e,r.scroller.scrollLeft,!0),Me(e,"scroll",e))}),ne(r.scroller,"mousewheel",function(N){return Sc(e,N)}),ne(r.scroller,"DOMMouseScroll",function(N){return Sc(e,N)}),ne(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(N){Qe(e,N)||ar(N)},over:function(N){Qe(e,N)||(qh(e,N),ar(N))},start:function(N){return Kh(e,N)},drop:kt(e,Jh),leave:function(N){Qe(e,N)||nf(e)}};var k=r.input.getField();ne(k,"keyup",function(N){return hf.call(e,N)}),ne(k,"keydown",kt(e,pf)),ne(k,"keypress",kt(e,mf)),ne(k,"focus",function(N){return Ea(e,N)}),ne(k,"blur",function(N){return Ei(e,N)})}var Va=[];lt.defineInitHook=function(e){return Va.push(e)};function bo(e,r,s,l){var f=e.doc,y;s==null&&(s="add"),s=="smart"&&(f.mode.indent?y=Wi(e,r).state:s="prev");var S=e.options.tabSize,k=Fe(f,r),N=oe(k.text,null,S);k.stateAfter&&(k.stateAfter=null);var H=k.text.match(/^\s*/)[0],j;if(!l&&!/\S/.test(k.text))j=0,s="not";else if(s=="smart"&&(j=f.mode.indent(y,k.text.slice(H.length),k.text),j==Oe||j>150)){if(!l)return;s="prev"}s=="prev"?r>f.first?j=oe(Fe(f,r-1).text,null,S):j=0:s=="add"?j=N+e.options.indentUnit:s=="subtract"?j=N-e.options.indentUnit:typeof s=="number"&&(j=N+s),j=Math.max(0,j);var W="",Z=0;if(e.options.indentWithTabs)for(var q=Math.floor(j/S);q;--q)Z+=S,W+="	";if(Z<j&&(W+=$t(j-Z)),W!=H)return Bi(f,W,K(r,0),K(r,H.length),"+input"),k.stateAfter=null,!0;for(var re=0;re<f.sel.ranges.length;re++){var ue=f.sel.ranges[re];if(ue.head.line==r&&ue.head.ch<H.length){var ce=K(r,H.length);Oa(f,re,new Ze(ce,ce));break}}}var jn=null;function Au(e){jn=e}function za(e,r,s,l,f){var y=e.doc;e.display.shift=!1,l||(l=y.sel);var S=+new Date-200,k=f=="paste"||e.state.pasteIncoming>S,N=Yi(r),H=null;if(k&&l.ranges.length>1)if(jn&&jn.text.join(`
`)==r){if(l.ranges.length%jn.text.length==0){H=[];for(var j=0;j<jn.text.length;j++)H.push(y.splitLines(jn.text[j]))}}else N.length==l.ranges.length&&e.options.pasteLinesPerSelection&&(H=Wt(N,function(he){return[he]}));for(var W=e.curOp.updateInput,Z=l.ranges.length-1;Z>=0;Z--){var q=l.ranges[Z],re=q.from(),ue=q.to();q.empty()&&(s&&s>0?re=K(re.line,re.ch-s):e.state.overwrite&&!k?ue=K(ue.line,Math.min(Fe(y,ue.line).text.length,ue.ch+Ne(N).length)):k&&jn&&jn.lineWise&&jn.text.join(`
`)==N.join(`
`)&&(re=ue=K(re.line,0)));var ce={from:re,to:ue,text:H?H[Z%H.length]:N,origin:f||(k?"paste":e.state.cutIncoming>S?"cut":"+input")};_i(e.doc,ce),Dt(e,"inputRead",e,ce)}r&&!k&&Cf(e,r),wi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=W),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function wf(e,r){var s=e.clipboardData&&e.clipboardData.getData("Text");if(s)return e.preventDefault(),!r.isReadOnly()&&!r.options.disableInput&&r.hasFocus()&&hn(r,function(){return za(r,s,0,null,"paste")}),!0}function Cf(e,r){if(!(!e.options.electricChars||!e.options.smartIndent))for(var s=e.doc.sel,l=s.ranges.length-1;l>=0;l--){var f=s.ranges[l];if(!(f.head.ch>100||l&&s.ranges[l-1].head.line==f.head.line)){var y=e.getModeAt(f.head),S=!1;if(y.electricChars){for(var k=0;k<y.electricChars.length;k++)if(r.indexOf(y.electricChars.charAt(k))>-1){S=bo(e,f.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Fe(e.doc,f.head.line).text.slice(0,f.head.ch))&&(S=bo(e,f.head.line,"smart"));S&&Dt(e,"electricInput",e,f.head.line)}}}function Ff(e){for(var r=[],s=[],l=0;l<e.doc.sel.ranges.length;l++){var f=e.doc.sel.ranges[l].head.line,y={anchor:K(f,0),head:K(f+1,0)};s.push(y),r.push(e.getRange(y.anchor,y.head))}return{text:r,ranges:s}}function xf(e,r,s,l){e.setAttribute("autocorrect",s?"":"off"),e.setAttribute("autocapitalize",l?"":"off"),e.setAttribute("spellcheck",!!r)}function _f(){var e=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),r=M("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?e.style.width="1000px":e.setAttribute("wrap","off"),E&&(e.style.border="1px solid black"),xf(e),r}function Cm(e){var r=e.optionHandlers,s=e.helpers={};e.prototype={constructor:e,focus:function(){se(this).focus(),this.display.input.focus()},setOption:function(l,f){var y=this.options,S=y[l];y[l]==f&&l!="mode"||(y[l]=f,r.hasOwnProperty(l)&&kt(this,r[l])(this,f,S),Me(this,"optionChange",this,l))},getOption:function(l){return this.options[l]},getDoc:function(){return this.doc},addKeyMap:function(l,f){this.state.keyMaps[f?"push":"unshift"](vu(l))},removeKeyMap:function(l){for(var f=this.state.keyMaps,y=0;y<f.length;++y)if(f[y]==l||f[y].name==l)return f.splice(y,1),!0},addOverlay:Gt(function(l,f){var y=l.token?l:e.getMode(this.options,l);if(y.startState)throw new Error("Overlays may not be stateful.");Ln(this.state.overlays,{mode:y,modeSpec:l,opaque:f&&f.opaque,priority:f&&f.priority||0},function(S){return S.priority}),this.state.modeGen++,rn(this)}),removeOverlay:Gt(function(l){for(var f=this.state.overlays,y=0;y<f.length;++y){var S=f[y].modeSpec;if(S==l||typeof l=="string"&&S.name==l){f.splice(y,1),this.state.modeGen++,rn(this);return}}}),indentLine:Gt(function(l,f,y){typeof f!="string"&&typeof f!="number"&&(f==null?f=this.options.smartIndent?"smart":"prev":f=f?"add":"subtract"),V(this.doc,l)&&bo(this,l,f,y)}),indentSelection:Gt(function(l){for(var f=this.doc.sel.ranges,y=-1,S=0;S<f.length;S++){var k=f[S];if(k.empty())k.head.line>y&&(bo(this,k.head.line,l,!0),y=k.head.line,S==this.doc.sel.primIndex&&wi(this));else{var N=k.from(),H=k.to(),j=Math.max(y,N.line);y=Math.min(this.lastLine(),H.line-(H.ch?0:1))+1;for(var W=j;W<y;++W)bo(this,W,l);var Z=this.doc.sel.ranges;N.ch==0&&f.length==Z.length&&Z[S].from().ch>0&&Oa(this.doc,S,new Ze(N,Z[S].to()),Ve)}}}),getTokenAt:function(l,f){return Os(this,l,f)},getLineTokens:function(l,f){return Os(this,K(l),f,!0)},getTokenTypeAt:function(l){l=Ie(this.doc,l);var f=Ts(this,Fe(this.doc,l.line)),y=0,S=(f.length-1)/2,k=l.ch,N;if(k==0)N=f[2];else for(;;){var H=y+S>>1;if((H?f[H*2-1]:0)>=k)S=H;else if(f[H*2+1]<k)y=H+1;else{N=f[H*2+2];break}}var j=N?N.indexOf("overlay "):-1;return j<0?N:j==0?null:N.slice(0,j-1)},getModeAt:function(l){var f=this.doc.mode;return f.innerMode?e.innerMode(f,this.getTokenAt(l).state).mode:f},getHelper:function(l,f){return this.getHelpers(l,f)[0]},getHelpers:function(l,f){var y=[];if(!s.hasOwnProperty(f))return y;var S=s[f],k=this.getModeAt(l);if(typeof k[f]=="string")S[k[f]]&&y.push(S[k[f]]);else if(k[f])for(var N=0;N<k[f].length;N++){var H=S[k[f][N]];H&&y.push(H)}else k.helperType&&S[k.helperType]?y.push(S[k.helperType]):S[k.name]&&y.push(S[k.name]);for(var j=0;j<S._global.length;j++){var W=S._global[j];W.pred(k,this)&&pe(y,W.val)==-1&&y.push(W.val)}return y},getStateAfter:function(l,f){var y=this.doc;return l=Fn(y,l==null?y.first+y.size-1:l),Wi(this,l+1,f).state},cursorCoords:function(l,f){var y,S=this.doc.sel.primary();return l==null?y=S.head:typeof l=="object"?y=Ie(this.doc,l):y=l?S.from():S.to(),Vn(this,y,f||"page")},charCoords:function(l,f){return tu(this,Ie(this.doc,l),f||"page")},coordsChar:function(l,f){return l=sc(this,l,f||"page"),pa(this,l.left,l.top)},lineAtHeight:function(l,f){return l=sc(this,{top:l,left:0},f||"page").top,Kn(this.doc,l+this.display.viewOffset)},heightAtLine:function(l,f,y){var S=!1,k;if(typeof l=="number"){var N=this.doc.first+this.doc.size-1;l<this.doc.first?l=this.doc.first:l>N&&(l=N,S=!0),k=Fe(this.doc,l)}else k=l;return eu(this,k,{top:0,left:0},f||"page",y||S).top+(S?this.doc.height-fr(k):0)},defaultTextHeight:function(){return Ai(this.display)},defaultCharWidth:function(){return bi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(l,f,y,S,k){var N=this.display;l=Vn(this,Ie(this.doc,l));var H=l.bottom,j=l.left;if(f.style.position="absolute",f.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(f),N.sizer.appendChild(f),S=="over")H=l.top;else if(S=="above"||S=="near"){var W=Math.max(N.wrapper.clientHeight,this.doc.height),Z=Math.max(N.sizer.clientWidth,N.lineSpace.clientWidth);(S=="above"||l.bottom+f.offsetHeight>W)&&l.top>f.offsetHeight?H=l.top-f.offsetHeight:l.bottom+f.offsetHeight<=W&&(H=l.bottom),j+f.offsetWidth>Z&&(j=Z-f.offsetWidth)}f.style.top=H+"px",f.style.left=f.style.right="",k=="right"?(j=N.sizer.clientWidth-f.offsetWidth,f.style.right="0px"):(k=="left"?j=0:k=="middle"&&(j=(N.sizer.clientWidth-f.offsetWidth)/2),f.style.left=j+"px"),y&&bh(this,{left:j,top:H,right:j+f.offsetWidth,bottom:H+f.offsetHeight})},triggerOnKeyDown:Gt(pf),triggerOnKeyPress:Gt(mf),triggerOnKeyUp:hf,triggerOnMouseDown:Gt(vf),execCommand:function(l){if(vo.hasOwnProperty(l))return vo[l].call(null,this)},triggerElectric:Gt(function(l){Cf(this,l)}),findPosH:function(l,f,y,S){var k=1;f<0&&(k=-1,f=-f);for(var N=Ie(this.doc,l),H=0;H<f&&(N=ja(this.doc,N,k,y,S),!N.hitSide);++H);return N},moveH:Gt(function(l,f){var y=this;this.extendSelectionsBy(function(S){return y.display.shift||y.doc.extend||S.empty()?ja(y.doc,S.head,l,f,y.options.rtlMoveVisually):l<0?S.from():S.to()},An)}),deleteH:Gt(function(l,f){var y=this.doc.sel,S=this.doc;y.somethingSelected()?S.replaceSelection("",null,"+delete"):ki(this,function(k){var N=ja(S,k.head,l,f,!1);return l<0?{from:N,to:k.head}:{from:k.head,to:N}})}),findPosV:function(l,f,y,S){var k=1,N=S;f<0&&(k=-1,f=-f);for(var H=Ie(this.doc,l),j=0;j<f;++j){var W=Vn(this,H,"div");if(N==null?N=W.left:W.left=N,H=Bf(this,W,k,y),H.hitSide)break}return H},moveV:Gt(function(l,f){var y=this,S=this.doc,k=[],N=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(j){if(N)return l<0?j.from():j.to();var W=Vn(y,j.head,"div");j.goalColumn!=null&&(W.left=j.goalColumn),k.push(W.left);var Z=Bf(y,W,l,f);return f=="page"&&j==S.sel.primary()&&Ca(y,tu(y,Z,"div").top-W.top),Z},An),k.length)for(var H=0;H<S.sel.ranges.length;H++)S.sel.ranges[H].goalColumn=k[H]}),findWordAt:function(l){var f=this.doc,y=Fe(f,l.line).text,S=l.ch,k=l.ch;if(y){var N=this.getHelper(l,"wordChars");(l.sticky=="before"||k==y.length)&&S?--S:++k;for(var H=y.charAt(S),j=En(H,N)?function(W){return En(W,N)}:/\s/.test(H)?function(W){return/\s/.test(W)}:function(W){return!/\s/.test(W)&&!En(W)};S>0&&j(y.charAt(S-1));)--S;for(;k<y.length&&j(y.charAt(k));)++k}return new Ze(K(l.line,S),K(l.line,k))},toggleOverwrite:function(l){l!=null&&l==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?J(this.display.cursorDiv,"CodeMirror-overwrite"):$(this.display.cursorDiv,"CodeMirror-overwrite"),Me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==X(de(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gt(function(l,f){eo(this,l,f)}),getScrollInfo:function(){var l=this.display.scroller;return{left:l.scrollLeft,top:l.scrollTop,height:l.scrollHeight-Zn(this)-this.display.barHeight,width:l.scrollWidth-Zn(this)-this.display.barWidth,clientHeight:sa(this),clientWidth:Kr(this)}},scrollIntoView:Gt(function(l,f){l==null?(l={from:this.doc.sel.primary().head,to:null},f==null&&(f=this.options.cursorScrollMargin)):typeof l=="number"?l={from:K(l,0),to:null}:l.from==null&&(l={from:l,to:null}),l.to||(l.to=l.from),l.margin=f||0,l.from.line!=null?Eh(this,l):yc(this,l.from,l.to,l.margin)}),setSize:Gt(function(l,f){var y=this,S=function(N){return typeof N=="number"||/^\d+$/.test(String(N))?N+"px":N};l!=null&&(this.display.wrapper.style.width=S(l)),f!=null&&(this.display.wrapper.style.height=S(f)),this.options.lineWrapping&&uc(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(N){if(N.widgets){for(var H=0;H<N.widgets.length;H++)if(N.widgets[H].noHScroll){Dr(y,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,Me(this,"refresh",this)}),operation:function(l){return hn(this,l)},startOperation:function(){return ri(this)},endOperation:function(){return ii(this)},refresh:Gt(function(){var l=this.display.cachedTextHeight;rn(this),this.curOp.forceUpdate=!0,qi(this),eo(this,this.doc.scrollLeft,this.doc.scrollTop),_a(this.display),(l==null||Math.abs(l-Ai(this.display))>.5||this.options.lineWrapping)&&ga(this),Me(this,"refresh",this)}),swapDoc:Gt(function(l){var f=this.doc;return f.cm=null,this.state.selectingText&&this.state.selectingText(),Mc(this,l),qi(this),this.display.input.reset(),eo(this,l.scrollLeft,l.scrollTop),this.curOp.forceScroll=!0,Dt(this,"swapDoc",this,f),f}),phrase:function(l){var f=this.options.phrases;return f&&Object.prototype.hasOwnProperty.call(f,l)?f[l]:l},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},at(e),e.registerHelper=function(l,f,y){s.hasOwnProperty(l)||(s[l]=e[l]={_global:[]}),s[l][f]=y},e.registerGlobalHelper=function(l,f,y,S){e.registerHelper(l,f,S),s[l]._global.push({pred:y,val:S})}}function ja(e,r,s,l,f){var y=r,S=s,k=Fe(e,r.line),N=f&&e.direction=="rtl"?-s:s;function H(){var Ee=r.line+N;return Ee<e.first||Ee>=e.first+e.size?!1:(r=new K(Ee,r.ch,r.sticky),k=Fe(e,Ee))}function j(Ee){var me;if(l=="codepoint"){var Ce=k.text.charCodeAt(r.ch+(s>0?0:-1));if(isNaN(Ce))me=null;else{var Se=s>0?Ce>=55296&&Ce<56320:Ce>=56320&&Ce<57343;me=new K(r.line,Math.max(0,Math.min(k.text.length,r.ch+s*(Se?2:1))),-s)}}else f?me=im(e.cm,k,r,s):me=Pa(k,r,s);if(me==null)if(!Ee&&H())r=Ia(f,e.cm,k,r.line,N);else return!1;else r=me;return!0}if(l=="char"||l=="codepoint")j();else if(l=="column")j(!0);else if(l=="word"||l=="group")for(var W=null,Z=l=="group",q=e.cm&&e.cm.getHelper(r,"wordChars"),re=!0;!(s<0&&!j(!re));re=!1){var ue=k.text.charAt(r.ch)||`
`,ce=En(ue,q)?"w":Z&&ue==`
`?"n":!Z||/\s/.test(ue)?null:"p";if(Z&&!re&&!ce&&(ce="s"),W&&W!=ce){s<0&&(s=1,j(),r.sticky="after");break}if(ce&&(W=ce),s>0&&!j(!re))break}var he=pu(e,r,y,S,!0);return Pe(y,he)&&(he.hitSide=!0),he}function Bf(e,r,s,l){var f=e.doc,y=r.left,S;if(l=="page"){var k=Math.min(e.display.wrapper.clientHeight,se(e).innerHeight||f(e).documentElement.clientHeight),N=Math.max(k-.5*Ai(e.display),3);S=(s>0?r.bottom:r.top)+s*N}else l=="line"&&(S=s>0?r.bottom+3:r.top-3);for(var H;H=pa(e,y,S),!!H.outside;){if(s<0?S<=0:S>=f.height){H.hitSide=!0;break}S+=s*5}return H}var rt=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new le,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};rt.prototype.init=function(e){var r=this,s=this,l=s.cm,f=s.div=e.lineDiv;f.contentEditable=!0,xf(f,l.options.spellcheck,l.options.autocorrect,l.options.autocapitalize);function y(k){for(var N=k.target;N;N=N.parentNode){if(N==f)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(N.className))break}return!1}ne(f,"paste",function(k){!y(k)||Qe(l,k)||wf(k,l)||h<=11&&setTimeout(kt(l,function(){return r.updateFromDOM()}),20)}),ne(f,"compositionstart",function(k){r.composing={data:k.data,done:!1}}),ne(f,"compositionupdate",function(k){r.composing||(r.composing={data:k.data,done:!1})}),ne(f,"compositionend",function(k){r.composing&&(k.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),ne(f,"touchstart",function(){return s.forceCompositionEnd()}),ne(f,"input",function(){r.composing||r.readFromDOMSoon()});function S(k){if(!(!y(k)||Qe(l,k))){if(l.somethingSelected())Au({lineWise:!1,text:l.getSelections()}),k.type=="cut"&&l.replaceSelection("",null,"cut");else if(l.options.lineWiseCopyCut){var N=Ff(l);Au({lineWise:!0,text:N.text}),k.type=="cut"&&l.operation(function(){l.setSelections(N.ranges,0,Ve),l.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var H=jn.text.join(`
`);if(k.clipboardData.setData("Text",H),k.clipboardData.getData("Text")==H){k.preventDefault();return}}var j=_f(),W=j.firstChild;l.display.lineSpace.insertBefore(j,l.display.lineSpace.firstChild),W.value=jn.text.join(`
`);var Z=X(f.ownerDocument);ae(W),setTimeout(function(){l.display.lineSpace.removeChild(j),Z.focus(),Z==f&&s.showPrimarySelection()},50)}}ne(f,"copy",S),ne(f,"cut",S)},rt.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},rt.prototype.prepareSelection=function(){var e=mc(this.cm,!1);return e.focus=X(this.div.ownerDocument)==this.div,e},rt.prototype.showSelection=function(e,r){!e||!this.cm.display.view.length||((e.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(e))},rt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},rt.prototype.showPrimarySelection=function(){var e=this.getSelection(),r=this.cm,s=r.doc.sel.primary(),l=s.from(),f=s.to();if(r.display.viewTo==r.display.viewFrom||l.line>=r.display.viewTo||f.line<r.display.viewFrom){e.removeAllRanges();return}var y=bu(r,e.anchorNode,e.anchorOffset),S=bu(r,e.focusNode,e.focusOffset);if(!(y&&!y.bad&&S&&!S.bad&&te(Ft(y,S),l)==0&&te(Ge(y,S),f)==0)){var k=r.display.view,N=l.line>=r.display.viewFrom&&Sf(r,l)||{node:k[0].measure.map[2],offset:0},H=f.line<r.display.viewTo&&Sf(r,f);if(!H){var j=k[k.length-1].measure,W=j.maps?j.maps[j.maps.length-1]:j.map;H={node:W[W.length-1],offset:W[W.length-2]-W[W.length-3]}}if(!N||!H){e.removeAllRanges();return}var Z=e.rangeCount&&e.getRangeAt(0),q;try{q=Y(N.node,N.offset,H.offset,H.node)}catch(re){}q&&(!t&&r.state.focused?(e.collapse(N.node,N.offset),q.collapsed||(e.removeAllRanges(),e.addRange(q))):(e.removeAllRanges(),e.addRange(q)),Z&&e.anchorNode==null?e.addRange(Z):t&&this.startGracePeriod()),this.rememberSelection()}},rt.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},rt.prototype.showMultipleSelections=function(e){z(this.cm.display.cursorDiv,e.cursors),z(this.cm.display.selectionDiv,e.selection)},rt.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},rt.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var r=e.getRangeAt(0).commonAncestorContainer;return U(this.div,r)},rt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||X(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},rt.prototype.blur=function(){this.div.blur()},rt.prototype.getField=function(){return this.div},rt.prototype.supportsTouch=function(){return!0},rt.prototype.receivedFocus=function(){var e=this,r=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):hn(this.cm,function(){return r.cm.curOp.selectionChanged=!0});function s(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,s))}this.polling.set(this.cm.options.pollInterval,s)},rt.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},rt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),r=this.cm;if(g&&C&&this.cm.display.gutterSpecs.length&&Fm(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var s=bu(r,e.anchorNode,e.anchorOffset),l=bu(r,e.focusNode,e.focusOffset);s&&l&&hn(r,function(){Vt(r.doc,Tr(s,l),Ve),(s.bad||l.bad)&&(r.curOp.selectionChanged=!0)})}}},rt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,r=e.display,s=e.doc.sel.primary(),l=s.from(),f=s.to();if(l.ch==0&&l.line>e.firstLine()&&(l=K(l.line-1,Fe(e.doc,l.line-1).length)),f.ch==Fe(e.doc,f.line).text.length&&f.line<e.lastLine()&&(f=K(f.line+1,0)),l.line<r.viewFrom||f.line>r.viewTo-1)return!1;var y,S,k;l.line==r.viewFrom||(y=ei(e,l.line))==0?(S=qe(r.view[0].line),k=r.view[0].node):(S=qe(r.view[y].line),k=r.view[y-1].node.nextSibling);var N=ei(e,f.line),H,j;if(N==r.view.length-1?(H=r.viewTo-1,j=r.lineDiv.lastChild):(H=qe(r.view[N+1].line)-1,j=r.view[N+1].node.previousSibling),!k)return!1;for(var W=e.doc.splitLines(xm(e,k,j,S,H)),Z=sr(e.doc,K(S,0),K(H,Fe(e.doc,H).text.length));W.length>1&&Z.length>1;)if(Ne(W)==Ne(Z))W.pop(),Z.pop(),H--;else if(W[0]==Z[0])W.shift(),Z.shift(),S++;else break;for(var q=0,re=0,ue=W[0],ce=Z[0],he=Math.min(ue.length,ce.length);q<he&&ue.charCodeAt(q)==ce.charCodeAt(q);)++q;for(var Ee=Ne(W),me=Ne(Z),Ce=Math.min(Ee.length-(W.length==1?q:0),me.length-(Z.length==1?q:0));re<Ce&&Ee.charCodeAt(Ee.length-re-1)==me.charCodeAt(me.length-re-1);)++re;if(W.length==1&&Z.length==1&&S==l.line)for(;q&&q>l.ch&&Ee.charCodeAt(Ee.length-re-1)==me.charCodeAt(me.length-re-1);)q--,re++;W[W.length-1]=Ee.slice(0,Ee.length-re).replace(/^\u200b+/,""),W[0]=W[0].slice(q).replace(/\u200b+$/,"");var Se=K(S,q),_e=K(H,Z.length?Ne(Z).length-re:0);if(W.length>1||W[0]||te(Se,_e))return Bi(e.doc,W,Se,_e,"+input"),!0},rt.prototype.ensurePolled=function(){this.forceCompositionEnd()},rt.prototype.reset=function(){this.forceCompositionEnd()},rt.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},rt.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},rt.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&hn(this.cm,function(){return rn(e.cm)})},rt.prototype.setUneditable=function(e){e.contentEditable="false"},rt.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||kt(this.cm,za)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},rt.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},rt.prototype.onContextMenu=function(){},rt.prototype.resetPosition=function(){},rt.prototype.needsContentAttribute=!0;function Sf(e,r){var s=ca(e,r.line);if(!s||s.hidden)return null;var l=Fe(e.doc,r.line),f=tc(s,l,r.line),y=ke(l,e.doc.direction),S="left";if(y){var k=ge(y,r.ch);S=k%2?"right":"left"}var N=ic(f.map,r.ch,S);return N.offset=N.collapse=="right"?N.end:N.start,N}function Fm(e){for(var r=e;r;r=r.parentNode)if(/CodeMirror-gutter-wrapper/.test(r.className))return!0;return!1}function Mi(e,r){return r&&(e.bad=!0),e}function xm(e,r,s,l,f){var y="",S=!1,k=e.doc.lineSeparator(),N=!1;function H(q){return function(re){return re.id==q}}function j(){S&&(y+=k,N&&(y+=k),S=N=!1)}function W(q){q&&(j(),y+=q)}function Z(q){if(q.nodeType==1){var re=q.getAttribute("cm-text");if(re){W(re);return}var ue=q.getAttribute("cm-marker"),ce;if(ue){var he=e.findMarks(K(l,0),K(f+1,0),H(+ue));he.length&&(ce=he[0].find(0))&&W(sr(e.doc,ce.from,ce.to).join(k));return}if(q.getAttribute("contenteditable")=="false")return;var Ee=/^(pre|div|p|li|table|br)$/i.test(q.nodeName);if(!/^br$/i.test(q.nodeName)&&q.textContent.length==0)return;Ee&&j();for(var me=0;me<q.childNodes.length;me++)Z(q.childNodes[me]);/^(pre|p)$/i.test(q.nodeName)&&(N=!0),Ee&&(S=!0)}else q.nodeType==3&&W(q.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Z(r),r!=s;)r=r.nextSibling,N=!1;return y}function bu(e,r,s){var l;if(r==e.display.lineDiv){if(l=e.display.lineDiv.childNodes[s],!l)return Mi(e.clipPos(K(e.display.viewTo-1)),!0);r=null,s=0}else for(l=r;;l=l.parentNode){if(!l||l==e.display.lineDiv)return null;if(l.parentNode&&l.parentNode==e.display.lineDiv)break}for(var f=0;f<e.display.view.length;f++){var y=e.display.view[f];if(y.node==l)return _m(y,r,s)}}function _m(e,r,s){var l=e.text.firstChild,f=!1;if(!r||!U(l,r))return Mi(K(qe(e.line),0),!0);if(r==l&&(f=!0,r=l.childNodes[s],s=0,!r)){var y=e.rest?Ne(e.rest):e.line;return Mi(K(qe(y),y.text.length),f)}var S=r.nodeType==3?r:null,k=r;for(!S&&r.childNodes.length==1&&r.firstChild.nodeType==3&&(S=r.firstChild,s&&(s=S.nodeValue.length));k.parentNode!=l;)k=k.parentNode;var N=e.measure,H=N.maps;function j(ce,he,Ee){for(var me=-1;me<(H?H.length:0);me++)for(var Ce=me<0?N.map:H[me],Se=0;Se<Ce.length;Se+=3){var _e=Ce[Se+2];if(_e==ce||_e==he){var Ue=qe(me<0?e.line:e.rest[me]),ot=Ce[Se]+Ee;return(Ee<0||_e!=ce)&&(ot=Ce[Se+(Ee?1:0)]),K(Ue,ot)}}}var W=j(S,k,s);if(W)return Mi(W,f);for(var Z=k.nextSibling,q=S?S.nodeValue.length-s:0;Z;Z=Z.nextSibling){if(W=j(Z,Z.firstChild,0),W)return Mi(K(W.line,W.ch-q),f);q+=Z.textContent.length}for(var re=k.previousSibling,ue=s;re;re=re.previousSibling){if(W=j(re,re.firstChild,-1),W)return Mi(K(W.line,W.ch+ue),f);ue+=re.textContent.length}}var vt=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new le,this.hasSelection=!1,this.composing=null,this.resetting=!1};vt.prototype.init=function(e){var r=this,s=this,l=this.cm;this.createField(e);var f=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),E&&(f.style.width="0px"),ne(f,"input",function(){p&&h>=9&&r.hasSelection&&(r.hasSelection=null),s.poll()}),ne(f,"paste",function(S){Qe(l,S)||wf(S,l)||(l.state.pasteIncoming=+new Date,s.fastPoll())});function y(S){if(!Qe(l,S)){if(l.somethingSelected())Au({lineWise:!1,text:l.getSelections()});else if(l.options.lineWiseCopyCut){var k=Ff(l);Au({lineWise:!0,text:k.text}),S.type=="cut"?l.setSelections(k.ranges,null,Ve):(s.prevInput="",f.value=k.text.join(`
`),ae(f))}else return;S.type=="cut"&&(l.state.cutIncoming=+new Date)}}ne(f,"cut",y),ne(f,"copy",y),ne(e.scroller,"paste",function(S){if(!(dr(e,S)||Qe(l,S))){if(!f.dispatchEvent){l.state.pasteIncoming=+new Date,s.focus();return}var k=new Event("paste");k.clipboardData=S.clipboardData,f.dispatchEvent(k)}}),ne(e.lineSpace,"selectstart",function(S){dr(e,S)||mt(S)}),ne(f,"compositionstart",function(){var S=l.getCursor("from");s.composing&&s.composing.range.clear(),s.composing={start:S,range:l.markText(S,l.getCursor("to"),{className:"CodeMirror-composing"})}}),ne(f,"compositionend",function(){s.composing&&(s.poll(),s.composing.range.clear(),s.composing=null)})},vt.prototype.createField=function(e){this.wrapper=_f(),this.textarea=this.wrapper.firstChild},vt.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},vt.prototype.prepareSelection=function(){var e=this.cm,r=e.display,s=e.doc,l=mc(e);if(e.options.moveInputWithCursor){var f=Vn(e,s.sel.primary().head,"div"),y=r.wrapper.getBoundingClientRect(),S=r.lineDiv.getBoundingClientRect();l.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,f.top+S.top-y.top)),l.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,f.left+S.left-y.left))}return l},vt.prototype.showSelection=function(e){var r=this.cm,s=r.display;z(s.cursorDiv,e.cursors),z(s.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},vt.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var r=this.cm;if(this.resetting=!0,r.somethingSelected()){this.prevInput="";var s=r.getSelection();this.textarea.value=s,r.state.focused&&ae(this.textarea),p&&h>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",p&&h>=9&&(this.hasSelection=null));this.resetting=!1}},vt.prototype.getField=function(){return this.textarea},vt.prototype.supportsTouch=function(){return!1},vt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!_||X(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},vt.prototype.blur=function(){this.textarea.blur()},vt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},vt.prototype.receivedFocus=function(){this.slowPoll()},vt.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},vt.prototype.fastPoll=function(){var e=!1,r=this;r.pollingFast=!0;function s(){var l=r.poll();!l&&!e?(e=!0,r.polling.set(60,s)):(r.pollingFast=!1,r.slowPoll())}r.polling.set(20,s)},vt.prototype.poll=function(){var e=this,r=this.cm,s=this.textarea,l=this.prevInput;if(this.contextMenuPending||this.resetting||!r.state.focused||Cr(s)&&!l&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var f=s.value;if(f==l&&!r.somethingSelected())return!1;if(p&&h>=9&&this.hasSelection===f||x&&/[\uf700-\uf7ff]/.test(f))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var y=f.charCodeAt(0);if(y==8203&&!l&&(l="​"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,k=Math.min(l.length,f.length);S<k&&l.charCodeAt(S)==f.charCodeAt(S);)++S;return hn(r,function(){za(r,f.slice(S),l.length-S,null,e.composing?"*compose":null),f.length>1e3||f.indexOf(`
`)>-1?s.value=e.prevInput="":e.prevInput=f,e.composing&&(e.composing.range.clear(),e.composing.range=r.markText(e.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},vt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},vt.prototype.onKeyPress=function(){p&&h>=9&&(this.hasSelection=null),this.fastPoll()},vt.prototype.onContextMenu=function(e){var r=this,s=r.cm,l=s.display,f=r.textarea;r.contextMenuPending&&r.contextMenuPending();var y=Zr(s,e),S=l.scroller.scrollTop;if(!y||A)return;var k=s.options.resetSelectionOnContextMenu;k&&s.doc.sel.contains(y)==-1&&kt(s,Vt)(s.doc,Tr(y),Ve);var N=f.style.cssText,H=r.wrapper.style.cssText,j=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",f.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-j.top-5)+"px; left: "+(e.clientX-j.left-5)+`px;
      z-index: 1000; background: `+(p?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var W;m&&(W=f.ownerDocument.defaultView.scrollY),l.input.focus(),m&&f.ownerDocument.defaultView.scrollTo(null,W),l.input.reset(),s.somethingSelected()||(f.value=r.prevInput=" "),r.contextMenuPending=q,l.selForContextMenu=s.doc.sel,clearTimeout(l.detectingSelectAll);function Z(){if(f.selectionStart!=null){var ue=s.somethingSelected(),ce="​"+(ue?f.value:"");f.value="⇚",f.value=ce,r.prevInput=ue?"":"​",f.selectionStart=1,f.selectionEnd=ce.length,l.selForContextMenu=s.doc.sel}}function q(){if(r.contextMenuPending==q&&(r.contextMenuPending=!1,r.wrapper.style.cssText=H,f.style.cssText=N,p&&h<9&&l.scrollbars.setScrollTop(l.scroller.scrollTop=S),f.selectionStart!=null)){(!p||p&&h<9)&&Z();var ue=0,ce=function(){l.selForContextMenu==s.doc.sel&&f.selectionStart==0&&f.selectionEnd>0&&r.prevInput=="​"?kt(s,Yc)(s):ue++<10?l.detectingSelectAll=setTimeout(ce,500):(l.selForContextMenu=null,l.input.reset())};l.detectingSelectAll=setTimeout(ce,200)}}if(p&&h>=9&&Z(),R){ar(e);var re=function(){xe(window,"mouseup",re),setTimeout(q,20)};ne(window,"mouseup",re)}else setTimeout(q,50)},vt.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},vt.prototype.setUneditable=function(){},vt.prototype.needsContentAttribute=!1;function Bm(e,r){if(r=r?ie(r):{},r.value=e.value,!r.tabindex&&e.tabIndex&&(r.tabindex=e.tabIndex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),r.autofocus==null){var s=X(e.ownerDocument);r.autofocus=s==e||e.getAttribute("autofocus")!=null&&s==document.body}function l(){e.value=k.getValue()}var f;if(e.form&&(ne(e.form,"submit",l),!r.leaveSubmitMethodAlone)){var y=e.form;f=y.submit;try{var S=y.submit=function(){l(),y.submit=f,y.submit(),y.submit=S}}catch(N){}}r.finishInit=function(N){N.save=l,N.getTextArea=function(){return e},N.toTextArea=function(){N.toTextArea=isNaN,l(),e.parentNode.removeChild(N.getWrapperElement()),e.style.display="",e.form&&(xe(e.form,"submit",l),!r.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=f))}},e.style.display="none";var k=lt(function(N){return e.parentNode.insertBefore(N,e.nextSibling)},r);return k}function Sm(e){e.off=xe,e.on=ne,e.wheelEventPixels=Nh,e.Doc=on,e.splitLines=Yi,e.countColumn=oe,e.findColumn=ft,e.isWordChar=bn,e.Pass=Oe,e.signal=Me,e.Line=vi,e.changeEnd=Mr,e.scrollbarModel=Ec,e.Pos=K,e.cmpPos=te,e.modes=Hn,e.mimeModes=Fr,e.resolveMode=pn,e.getMode=xr,e.modeExtensions=_r,e.extendMode=Yo,e.copyState=lr,e.startState=Qi,e.innerMode=Br,e.commands=vo,e.keyMap=hr,e.keyName=lf,e.isModifierKey=uf,e.lookupKey=Di,e.normalizeKeyMap=rm,e.StringStream=dt,e.SharedTextMarker=po,e.TextMarker=Or,e.LineWidget=fo,e.e_preventDefault=mt,e.e_stopPropagation=Gn,e.e_stop=ar,e.addClass=J,e.contains=U,e.rmClass=$,e.keyNames=Nr}Am(lt),Cm(lt);var Dm="iter insert remove copy getEditor constructor".split(" ");for(var Eu in on.prototype)on.prototype.hasOwnProperty(Eu)&&pe(Dm,Eu)<0&&(lt.prototype[Eu]=function(e){return function(){return e.apply(this.doc,arguments)}}(on.prototype[Eu]));return at(on),lt.inputStyles={textarea:vt,contenteditable:rt},lt.defineMode=function(e){!lt.defaults.mode&&e!="null"&&(lt.defaults.mode=e),Uo.apply(this,arguments)},lt.defineMIME=hi,lt.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),lt.defineMIME("text/plain","null"),lt.defineExtension=function(e,r){lt.prototype[e]=r},lt.defineDocExtension=function(e,r){on.prototype[e]=r},lt.fromTextArea=Bm,Sm(lt),lt.version="5.65.9",lt})}(Fd)),Fd.exports}var _1=Sp();(function(o,a){(function(n){n(Sp())})(function(n){n.defineMode("javascript",function(i,t){var u=i.indentUnit,c=t.statementIndent,d=t.jsonld,p=t.json||d,h=t.trackScope!==!1,m=t.typescript,b=t.wordCharacters||/[\w$\xa1-\uffff]/,C=function(){function V(Ft){return{type:Ft,style:"keyword"}}var G=V("keyword a"),K=V("keyword b"),te=V("keyword c"),Pe=V("keyword d"),Ye=V("operator"),Ge={type:"atom",style:"atom"};return{if:V("if"),while:G,with:G,else:K,do:K,try:K,finally:K,return:Pe,break:Pe,continue:Pe,new:V("new"),delete:te,void:te,throw:te,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:Ye,typeof:Ye,instanceof:Ye,true:Ge,false:Ge,null:Ge,undefined:Ge,NaN:Ge,Infinity:Ge,this:V("this"),class:V("class"),super:V("atom"),yield:te,export:V("export"),import:V("import"),extends:te,await:te}}(),w=/[+\-*&%=<>!?|~^@]/,A=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function F(V){for(var G=!1,K,te=!1;(K=V.next())!=null;){if(!G){if(K=="/"&&!te)return;K=="["?te=!0:te&&K=="]"&&(te=!1)}G=!G&&K=="\\"}}var v,B;function E(V,G,K){return v=V,B=K,G}function g(V,G){var K=V.next();if(K=='"'||K=="'")return G.tokenize=_(K),G.tokenize(V,G);if(K=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return E("number","number");if(K=="."&&V.match(".."))return E("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(K))return E(K);if(K=="="&&V.eat(">"))return E("=>","operator");if(K=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return E("number","number");if(/\d/.test(K))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),E("number","number");if(K=="/")return V.eat("*")?(G.tokenize=x,x(V,G)):V.eat("/")?(V.skipToEnd(),E("comment","comment")):Kn(V,G,1)?(F(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),E("regexp","string-2")):(V.eat("="),E("operator","operator",V.current()));if(K=="`")return G.tokenize=D,D(V,G);if(K=="#"&&V.peek()=="!")return V.skipToEnd(),E("meta","meta");if(K=="#"&&V.eatWhile(b))return E("variable","property");if(K=="<"&&V.match("!--")||K=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),E("comment","comment");if(w.test(K))return(K!=">"||!G.lexical||G.lexical.type!=">")&&(V.eat("=")?(K=="!"||K=="=")&&V.eat("="):/[<>*+\-|&?]/.test(K)&&(V.eat(K),K==">"&&V.eat(K))),K=="?"&&V.eat(".")?E("."):E("operator","operator",V.current());if(b.test(K)){V.eatWhile(b);var te=V.current();if(G.lastType!="."){if(C.propertyIsEnumerable(te)){var Pe=C[te];return E(Pe.type,Pe.style,te)}if(te=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return E("async","keyword",te)}return E("variable","variable",te)}}function _(V){return function(G,K){var te=!1,Pe;if(d&&G.peek()=="@"&&G.match(A))return K.tokenize=g,E("jsonld-keyword","meta");for(;(Pe=G.next())!=null&&!(Pe==V&&!te);)te=!te&&Pe=="\\";return te||(K.tokenize=g),E("string","string")}}function x(V,G){for(var K=!1,te;te=V.next();){if(te=="/"&&K){G.tokenize=g;break}K=te=="*"}return E("comment","comment")}function D(V,G){for(var K=!1,te;(te=V.next())!=null;){if(!K&&(te=="`"||te=="$"&&V.eat("{"))){G.tokenize=g;break}K=!K&&te=="\\"}return E("quasi","string-2",V.current())}var O="([{}])";function L(V,G){G.fatArrowAt&&(G.fatArrowAt=null);var K=V.string.indexOf("=>",V.start);if(!(K<0)){if(m){var te=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,K));te&&(K=te.index)}for(var Pe=0,Ye=!1,Ge=K-1;Ge>=0;--Ge){var Ft=V.string.charAt(Ge),Fn=O.indexOf(Ft);if(Fn>=0&&Fn<3){if(!Pe){++Ge;break}if(--Pe==0){Ft=="("&&(Ye=!0);break}}else if(Fn>=3&&Fn<6)++Pe;else if(b.test(Ft))Ye=!0;else if(/["'\/`]/.test(Ft))for(;;--Ge){if(Ge==0)return;var Ie=V.string.charAt(Ge-1);if(Ie==Ft&&V.string.charAt(Ge-2)!="\\"){Ge--;break}}else if(Ye&&!Pe){++Ge;break}}Ye&&!Pe&&(G.fatArrowAt=Ge)}}var P={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function R(V,G,K,te,Pe,Ye){this.indented=V,this.column=G,this.type=K,this.prev=Pe,this.info=Ye,te!=null&&(this.align=te)}function T(V,G){if(!h)return!1;for(var K=V.localVars;K;K=K.next)if(K.name==G)return!0;for(var te=V.context;te;te=te.prev)for(var K=te.vars;K;K=K.next)if(K.name==G)return!0}function $(V,G,K,te,Pe){var Ye=V.cc;for(I.state=V,I.stream=Pe,I.marked=null,I.cc=Ye,I.style=G,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var Ge=Ye.length?Ye.pop():p?Oe:pe;if(Ge(K,te)){for(;Ye.length&&Ye[Ye.length-1].lex;)Ye.pop()();return I.marked?I.marked:K=="variable"&&T(V,te)?"variable-2":G}}}var I={state:null,column:null,marked:null,cc:null};function z(){for(var V=arguments.length-1;V>=0;V--)I.cc.push(arguments[V])}function M(){return z.apply(null,arguments),!0}function Q(V,G){for(var K=G;K;K=K.next)if(K.name==V)return!0;return!1}function Y(V){var G=I.state;if(I.marked="def",!!h){if(G.context){if(G.lexical.info=="var"&&G.context&&G.context.block){var K=U(V,G.context);if(K!=null){G.context=K;return}}else if(!Q(V,G.localVars)){G.localVars=new ee(V,G.localVars);return}}t.globalVars&&!Q(V,G.globalVars)&&(G.globalVars=new ee(V,G.globalVars))}}function U(V,G){if(G)if(G.block){var K=U(V,G.prev);return K?K==G.prev?G:new J(K,G.vars,!0):null}else return Q(V,G.vars)?G:new J(G.prev,new ee(V,G.vars),!1);else return null}function X(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function J(V,G,K){this.prev=V,this.vars=G,this.block=K}function ee(V,G){this.name=V,this.next=G}var ae=new ee("this",new ee("arguments",null));function de(){I.state.context=new J(I.state.context,I.state.localVars,!1),I.state.localVars=ae}function se(){I.state.context=new J(I.state.context,I.state.localVars,!0),I.state.localVars=null}de.lex=se.lex=!0;function ye(){I.state.localVars=I.state.context.vars,I.state.context=I.state.context.prev}ye.lex=!0;function ie(V,G){var K=function(){var te=I.state,Pe=te.indented;if(te.lexical.type=="stat")Pe=te.lexical.indented;else for(var Ye=te.lexical;Ye&&Ye.type==")"&&Ye.align;Ye=Ye.prev)Pe=Ye.indented;te.lexical=new R(Pe,I.stream.column(),V,null,te.lexical,G)};return K.lex=!0,K}function oe(){var V=I.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}oe.lex=!0;function le(V){function G(K){return K==V?M():V==";"||K=="}"||K==")"||K=="]"?z():M(G)}return G}function pe(V,G){return V=="var"?M(ie("vardef",G),ar,le(";"),oe):V=="keyword a"?M(ie("form"),Qt,pe,oe):V=="keyword b"?M(ie("form"),pe,oe):V=="keyword d"?I.stream.match(/^\s*$/,!1)?M():M(ie("stat"),ft,le(";"),oe):V=="debugger"?M(le(";")):V=="{"?M(ie("}"),se,we,oe,ye):V==";"?M():V=="if"?(I.state.lexical.info=="else"&&I.state.cc[I.state.cc.length-1]==oe&&I.state.cc.pop()(),M(ie("form"),Qt,pe,oe,pi)):V=="function"?M(Xn):V=="for"?M(ie("form"),se,zo,pe,ye,oe):V=="class"||m&&G=="interface"?(I.marked="keyword",M(ie("form",V=="class"?V:G),Uo,oe)):V=="variable"?m&&G=="declare"?(I.marked="keyword",M(pe)):m&&(G=="module"||G=="enum"||G=="type")&&I.stream.match(/^\s*\w/,!1)?(I.marked="keyword",G=="enum"?M(mi):G=="type"?M(jo,le("operator"),ne,le(";")):M(ie("form"),nn,le("{"),ie("}"),we,oe,oe)):m&&G=="namespace"?(I.marked="keyword",M(ie("form"),Oe,pe,oe)):m&&G=="abstract"?(I.marked="keyword",M(pe)):M(ie("stat"),En):V=="switch"?M(ie("form"),Qt,le("{"),ie("}","switch"),se,we,oe,oe,ye):V=="case"?M(Oe,le(":")):V=="default"?M(le(":")):V=="catch"?M(ie("form"),de,je,pe,oe,ye):V=="export"?M(ie("stat"),_r,oe):V=="import"?M(ie("stat"),lr,oe):V=="async"?M(pe):G=="@"?M(Oe,pe):z(ie("stat"),Oe,le(";"),oe)}function je(V){if(V=="(")return M(Hn,le(")"))}function Oe(V,G){return An(V,G,!1)}function Ve(V,G){return An(V,G,!0)}function Qt(V){return V!="("?z():M(ie(")"),ft,le(")"),oe)}function An(V,G,K){if(I.state.fatArrowAt==I.stream.start){var te=K?tn:Ln;if(V=="(")return M(de,ie(")"),Ke(Hn,")"),oe,le("=>"),te,ye);if(V=="variable")return z(de,nn,le("=>"),te,ye)}var Pe=K?$t:It;return P.hasOwnProperty(V)?M(Pe):V=="function"?M(Xn,Pe):V=="class"||m&&G=="interface"?(I.marked="keyword",M(ie("form"),Fr,oe)):V=="keyword c"||V=="async"?M(K?Ve:Oe):V=="("?M(ie(")"),ft,le(")"),oe,Pe):V=="operator"||V=="spread"?M(K?Ve:Oe):V=="["?M(ie("]"),sr,oe,Pe):V=="{"?dn(wn,"}",null,Pe):V=="quasi"?z(Ne,Pe):V=="new"?M(wr(K)):M()}function ft(V){return V.match(/[;\}\)\],]/)?z():z(Oe)}function It(V,G){return V==","?M(ft):$t(V,G,!1)}function $t(V,G,K){var te=K==!1?It:$t,Pe=K==!1?Oe:Ve;if(V=="=>")return M(de,K?tn:Ln,ye);if(V=="operator")return/\+\+|--/.test(G)||m&&G=="!"?M(te):m&&G=="<"&&I.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?M(ie(">"),Ke(ne,">"),oe,te):G=="?"?M(Oe,le(":"),Pe):M(Pe);if(V=="quasi")return z(Ne,te);if(V!=";"){if(V=="(")return dn(Ve,")","call",te);if(V==".")return M(Wn,te);if(V=="[")return M(ie("]"),ft,le("]"),oe,te);if(m&&G=="as")return I.marked="keyword",M(ne,te);if(V=="regexp")return I.state.lastType=I.marked="operator",I.stream.backUp(I.stream.pos-I.stream.start-1),M(Pe)}}function Ne(V,G){return V!="quasi"?z():G.slice(G.length-2)!="${"?M(Ne):M(ft,Wt)}function Wt(V){if(V=="}")return I.marked="string-2",I.state.tokenize=D,M(Ne)}function Ln(V){return L(I.stream,I.state),z(V=="{"?pe:Oe)}function tn(V){return L(I.stream,I.state),z(V=="{"?pe:Ve)}function wr(V){return function(G){return G=="."?M(V?bn:Qn):G=="variable"&&m?M(mt,V?$t:It):z(V?Ve:Oe)}}function Qn(V,G){if(G=="target")return I.marked="keyword",M(It)}function bn(V,G){if(G=="target")return I.marked="keyword",M($t)}function En(V){return V==":"?M(oe,pe):z(It,le(";"),oe)}function Wn(V){if(V=="variable")return I.marked="property",M()}function wn(V,G){if(V=="async")return I.marked="property",M(wn);if(V=="variable"||I.style=="keyword"){if(I.marked="property",G=="get"||G=="set")return M(kn);var K;return m&&I.state.fatArrowAt==I.stream.start&&(K=I.stream.match(/^\s*:\s*/,!1))&&(I.state.fatArrowAt=I.stream.pos+K[0].length),M(Ct)}else{if(V=="number"||V=="string")return I.marked=d?"property":I.style+" property",M(Ct);if(V=="jsonld-keyword")return M(Ct);if(m&&X(G))return I.marked="keyword",M(wn);if(V=="[")return M(Oe,ge,le("]"),Ct);if(V=="spread")return M(Ve,Ct);if(G=="*")return I.marked="keyword",M(wn);if(V==":")return z(Ct)}}function kn(V){return V!="variable"?z(Ct):(I.marked="property",M(Xn))}function Ct(V){if(V==":")return M(Ve);if(V=="(")return z(Xn)}function Ke(V,G,K){function te(Pe,Ye){if(K?K.indexOf(Pe)>-1:Pe==","){var Ge=I.state.lexical;return Ge.info=="call"&&(Ge.pos=(Ge.pos||0)+1),M(function(Ft,Fn){return Ft==G||Fn==G?z():z(V)},te)}return Pe==G||Ye==G?M():K&&K.indexOf(";")>-1?z(V):M(le(G))}return function(Pe,Ye){return Pe==G||Ye==G?M():z(V,te)}}function dn(V,G,K){for(var te=3;te<arguments.length;te++)I.cc.push(arguments[te]);return M(ie(G,K),Ke(V,G),oe)}function we(V){return V=="}"?M():z(pe,we)}function ge(V,G){if(m){if(V==":")return M(ne);if(G=="?")return M(ge)}}function Te(V,G){if(m&&(V==":"||G=="in"))return M(ne)}function ke(V){if(m&&V==":")return I.stream.match(/^\s*\w+\s+is\b/,!1)?M(Oe,fe,ne):M(ne)}function fe(V,G){if(G=="is")return I.marked="keyword",M()}function ne(V,G){if(G=="keyof"||G=="typeof"||G=="infer"||G=="readonly")return I.marked="keyword",M(G=="typeof"?Ve:ne);if(V=="variable"||G=="void")return I.marked="type",M(at);if(G=="|"||G=="&")return M(ne);if(V=="string"||V=="number"||V=="atom")return M(at);if(V=="[")return M(ie("]"),Ke(ne,"]",","),oe,at);if(V=="{")return M(ie("}"),xe,oe,at);if(V=="(")return M(Ke(nt,")"),Be,at);if(V=="<")return M(Ke(ne,">"),ne);if(V=="quasi")return z(Qe,at)}function Be(V){if(V=="=>")return M(ne)}function xe(V){return V.match(/[\}\)\]]/)?M():V==","||V==";"?M(xe):z(Me,xe)}function Me(V,G){if(V=="variable"||I.style=="keyword")return I.marked="property",M(Me);if(G=="?"||V=="number"||V=="string")return M(Me);if(V==":")return M(ne);if(V=="[")return M(le("variable"),Te,le("]"),Me);if(V=="(")return z(Jn,Me);if(!V.match(/[;\}\)\],]/))return M()}function Qe(V,G){return V!="quasi"?z():G.slice(G.length-2)!="${"?M(Qe):M(ne,Cn)}function Cn(V){if(V=="}")return I.marked="string-2",I.state.tokenize=D,M(Qe)}function nt(V,G){return V=="variable"&&I.stream.match(/^\s*[?:]/,!1)||G=="?"?M(nt):V==":"?M(ne):V=="spread"?M(nt):z(ne)}function at(V,G){if(G=="<")return M(ie(">"),Ke(ne,">"),oe,at);if(G=="|"||V=="."||G=="&")return M(ne);if(V=="[")return M(ne,le("]"),at);if(G=="extends"||G=="implements")return I.marked="keyword",M(ne);if(G=="?")return M(ne,le(":"),ne)}function mt(V,G){if(G=="<")return M(ie(">"),Ke(ne,">"),oe,at)}function Gn(){return z(ne,Jr)}function Jr(V,G){if(G=="=")return M(ne)}function ar(V,G){return G=="enum"?(I.marked="keyword",M(mi)):z(nn,ge,Tn,Zu)}function nn(V,G){if(m&&X(G))return I.marked="keyword",M(nn);if(V=="variable")return Y(G),M();if(V=="spread")return M(nn);if(V=="[")return dn(qu,"]");if(V=="{")return dn(Ui,"}")}function Ui(V,G){return V=="variable"&&!I.stream.match(/^\s*:/,!1)?(Y(G),M(Tn)):(V=="variable"&&(I.marked="property"),V=="spread"?M(nn):V=="}"?z():V=="["?M(Oe,le("]"),le(":"),Ui):M(le(":"),nn,Tn))}function qu(){return z(nn,Tn)}function Tn(V,G){if(G=="=")return M(Ve)}function Zu(V){if(V==",")return M(ar)}function pi(V,G){if(V=="keyword b"&&G=="else")return M(ie("form","else"),pe,oe)}function zo(V,G){if(G=="await")return M(zo);if(V=="(")return M(ie(")"),Yi,oe)}function Yi(V){return V=="var"?M(ar,Cr):V=="variable"?M(Cr):z(Cr)}function Cr(V,G){return V==")"?M():V==";"?M(Cr):G=="in"||G=="of"?(I.marked="keyword",M(Oe,Cr)):z(Oe,Cr)}function Xn(V,G){if(G=="*")return I.marked="keyword",M(Xn);if(V=="variable")return Y(G),M(Xn);if(V=="(")return M(de,ie(")"),Ke(Hn,")"),oe,ke,pe,ye);if(m&&G=="<")return M(ie(">"),Ke(Gn,">"),oe,Xn)}function Jn(V,G){if(G=="*")return I.marked="keyword",M(Jn);if(V=="variable")return Y(G),M(Jn);if(V=="(")return M(de,ie(")"),Ke(Hn,")"),oe,ke,ye);if(m&&G=="<")return M(ie(">"),Ke(Gn,">"),oe,Jn)}function jo(V,G){if(V=="keyword"||V=="variable")return I.marked="type",M(jo);if(G=="<")return M(ie(">"),Ke(Gn,">"),oe)}function Hn(V,G){return G=="@"&&M(Oe,Hn),V=="spread"?M(Hn):m&&X(G)?(I.marked="keyword",M(Hn)):m&&V=="this"?M(ge,Tn):z(nn,ge,Tn)}function Fr(V,G){return V=="variable"?Uo(V,G):hi(V,G)}function Uo(V,G){if(V=="variable")return Y(G),M(hi)}function hi(V,G){if(G=="<")return M(ie(">"),Ke(Gn,">"),oe,hi);if(G=="extends"||G=="implements"||m&&V==",")return G=="implements"&&(I.marked="keyword"),M(m?ne:Oe,hi);if(V=="{")return M(ie("}"),pn,oe)}function pn(V,G){if(V=="async"||V=="variable"&&(G=="static"||G=="get"||G=="set"||m&&X(G))&&I.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return I.marked="keyword",M(pn);if(V=="variable"||I.style=="keyword")return I.marked="property",M(xr,pn);if(V=="number"||V=="string")return M(xr,pn);if(V=="[")return M(Oe,ge,le("]"),xr,pn);if(G=="*")return I.marked="keyword",M(pn);if(m&&V=="(")return z(Jn,pn);if(V==";"||V==",")return M(pn);if(V=="}")return M();if(G=="@")return M(Oe,pn)}function xr(V,G){if(G=="!"||G=="?")return M(xr);if(V==":")return M(ne,Tn);if(G=="=")return M(Ve);var K=I.state.lexical.prev,te=K&&K.info=="interface";return z(te?Jn:Xn)}function _r(V,G){return G=="*"?(I.marked="keyword",M(Fe,le(";"))):G=="default"?(I.marked="keyword",M(Oe,le(";"))):V=="{"?M(Ke(Yo,"}"),Fe,le(";")):z(pe)}function Yo(V,G){if(G=="as")return I.marked="keyword",M(le("variable"));if(V=="variable")return z(Ve,Yo)}function lr(V){return V=="string"?M():V=="("?z(Oe):V=="."?z(It):z(Br,Qi,Fe)}function Br(V,G){return V=="{"?dn(Br,"}"):(V=="variable"&&Y(G),G=="*"&&(I.marked="keyword"),M(dt))}function Qi(V){if(V==",")return M(Br,Qi)}function dt(V,G){if(G=="as")return I.marked="keyword",M(Br)}function Fe(V,G){if(G=="from")return I.marked="keyword",M(Oe)}function sr(V){return V=="]"?M():z(Ke(Ve,"]"))}function mi(){return z(ie("form"),nn,le("{"),ie("}"),Ke(Mn,"}"),oe,oe)}function Mn(){return z(nn,Tn)}function qe(V,G){return V.lastType=="operator"||V.lastType==","||w.test(G.charAt(0))||/[,.]/.test(G.charAt(0))}function Kn(V,G,K){return G.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(G.lastType)||G.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(K||0)))}return{startState:function(V){var G={tokenize:g,lastType:"sof",cc:[],lexical:new R((V||0)-u,0,"block",!1),localVars:t.localVars,context:t.localVars&&new J(null,null,!1),indented:V||0};return t.globalVars&&typeof t.globalVars=="object"&&(G.globalVars=t.globalVars),G},token:function(V,G){if(V.sol()&&(G.lexical.hasOwnProperty("align")||(G.lexical.align=!1),G.indented=V.indentation(),L(V,G)),G.tokenize!=x&&V.eatSpace())return null;var K=G.tokenize(V,G);return v=="comment"?K:(G.lastType=v=="operator"&&(B=="++"||B=="--")?"incdec":v,$(G,K,v,B,V))},indent:function(V,G){if(V.tokenize==x||V.tokenize==D)return n.Pass;if(V.tokenize!=g)return 0;var K=G&&G.charAt(0),te=V.lexical,Pe;if(!/^\s*else\b/.test(G))for(var Ye=V.cc.length-1;Ye>=0;--Ye){var Ge=V.cc[Ye];if(Ge==oe)te=te.prev;else if(Ge!=pi&&Ge!=ye)break}for(;(te.type=="stat"||te.type=="form")&&(K=="}"||(Pe=V.cc[V.cc.length-1])&&(Pe==It||Pe==$t)&&!/^[,\.=+\-*:?[\(]/.test(G));)te=te.prev;c&&te.type==")"&&te.prev.type=="stat"&&(te=te.prev);var Ft=te.type,Fn=K==Ft;return Ft=="vardef"?te.indented+(V.lastType=="operator"||V.lastType==","?te.info.length+1:0):Ft=="form"&&K=="{"?te.indented:Ft=="form"?te.indented+u:Ft=="stat"?te.indented+(qe(V,G)?c||u:0):te.info=="switch"&&!Fn&&t.doubleIndentSwitch!=!1?te.indented+(/^(?:case|default)\b/.test(G)?u:2*u):te.align?te.column+(Fn?0:1):te.indented+(Fn?0:u)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:p?null:"/*",blockCommentEnd:p?null:"*/",blockCommentContinue:p?null:" * ",lineComment:p?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:p?"json":"javascript",jsonldMode:d,jsonMode:p,expressionAllowed:Kn,skipExpression:function(V){$(V,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();const B1=wt({name:"Struct",props:{modelValue:[Object,Array,Function],title:String,defaultValue:{require:!1},validate:Function},inject:["designer"],data(){return{editor:null,visible:!1,err:!1,oldVal:null,t:this.designer.setupState.t}},watch:{modelValue(){this.load()},visible(o){o?this.load():this.err=!1}},methods:{load(){const o=Do(op(this.modelValue?Lr(this.modelValue):this.defaultValue));this.oldVal=o,this.$nextTick(()=>{this.editor=_1(this.$refs.editor,{lineNumbers:!0,mode:"javascript",gutters:["CodeMirror-lint-markers"],lint:!0,line:!0,tabSize:2,lineWrapping:!0,value:o||""})})},onOk(){const o=this.editor.getValue();let a;try{a=new Function("return "+o)()}catch(n){this.err=` (${n})`;return}if(this.validate&&this.validate(a)===!1){this.err=!0;return}this.visible=!1,Do(a)!==this.oldVal&&this.$emit("update:modelValue",a)}}}),S1={class:"_fc_struct"},D1={key:0,ref:"editor"},k1={class:"dialog-footer"},T1={key:0,class:"_fc_err"};function M1(o,a,n,i,t,u){const c=Le("ElButton"),d=Le("ElDialog");return Je(),ht("div",S1,[ve(c,{onClick:a[0]||(a[0]=p=>o.visible=!0),style:{width:"100%"}},{default:it(()=>[yr(cn(o.title||o.t("struct.title")),1)]),_:1}),ve(d,{title:o.title||o.t("struct.title"),modelValue:o.visible,"onUpdate:modelValue":a[2]||(a[2]=p=>o.visible=p),"close-on-click-modal":!1,"append-to-body":""},{footer:it(()=>[tt("span",k1,[o.err?(Je(),ht("span",T1,cn(o.t("struct.error"))+cn(o.err!==!0?o.err:""),1)):Sn("",!0),ve(c,{onClick:a[1]||(a[1]=p=>o.visible=!1),size:"small"},{default:it(()=>[yr(cn(o.t("struct.cancel")),1)]),_:1}),ve(c,{type:"primary",onClick:o.onOk,size:"small"},{default:it(()=>[yr(cn(o.t("struct.submit")),1)]),_:1},8,["onClick"])])]),default:it(()=>[o.visible?(Je(),ht("div",D1,null,512)):Sn("",!0)]),_:1},8,["title","modelValue"])])}const R1=Gr(B1,[["render",M1]]);function O1(o,a){var n=null;return function(...i){n!==null&&clearTimeout(n),n=setTimeout(()=>o.call(this,...i),a)}}const N1=wt({name:"Fetch",props:{modelValue:[Object,String],to:String},components:{DragForm:Pt.$form()},inject:["designer"],computed:{formValue(){const o=this.modelValue;return o?Bt.String(o)?{action:o}:o:{}}},data(){const o=this.designer.setupState.t;return{api:{},fetch:{},t:o,option:{form:{labelPosition:"right",size:"small",labelWidth:"90px"},submitBtn:!1},rule:[{type:"input",field:"action",title:o("fetch.action")+": ",validate:[{required:!0,message:o("fetch.actionRequired")}]},{type:"select",field:"method",title:o("fetch.method")+": ",value:"GET",options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"}],control:[{value:"POST",rule:[{type:"select",field:"dataType",title:o("fetch.dataType")+": ",value:"FormData",options:[{label:"FormData",value:"FormData"},{label:"JSON",value:"JSON"}]}]}]},{type:"Struct",field:"data",title:o("fetch.data")+": ",value:{},props:{defaultValue:{}}},{type:"Struct",field:"headers",title:o("fetch.headers")+": ",value:{},props:{defaultValue:{}}},{type:"Struct",field:"parse",title:o("fetch.parse")+": ",info:o("fetch.parseInfo"),value:null,props:{defaultValue:function(a){return a}}}]}},methods:{parseFn(o){return new Function("return "+o)()},_input(){this.api.submit(o=>{o.to=this.to||"options",this.$emit("update:modelValue",o)})},input:O1(function(){this._input()},1e3)},mounted(){this._input()}}),P1={class:"_fc_fetch"};function I1(o,a,n,i,t,u){const c=Le("DragForm");return Je(),ht("div",P1,[ve(c,{api:o.api,"onUpdate:api":a[0]||(a[0]=d=>o.api=d),modelValue:o.formValue,rule:o.rule,option:o.option,onChange:o.input},null,8,["api","modelValue","rule","option","onChange"])])}const L1=Gr(N1,[["render",I1]]),H1=wt({name:"Validate",inject:["designer"],props:{modelValue:Array},components:{DragForm:Pt.$form()},watch:{modelValue(o){this.formValue=this.parseValue(o)}},data(){const o=this.designer.setupState.t;return{formValue:{},t:o,option:{form:{labelPosition:"top",size:"small",labelWidth:"90px"},submitBtn:!1,appendValue:!0,formData:this.parseValue(this.modelValue)},rule:[{type:"select",field:"type",value:"",title:o("validate.type"),options:[{value:"",label:o("validate.typePlaceholder")},{value:"string",label:"String"},{value:"array",label:"Array"},{value:"number",label:"Number"},{value:"integer",label:"Integer"},{value:"float",label:"Float"},{value:"object",label:"Object"},{value:"date",label:"Date"},{value:"url",label:"url"},{value:"hex",label:"hex"},{value:"email",label:"email"}],control:[{handle:a=>!!a,rule:[{type:"group",field:"validate",props:{expand:1,sortBtn:!1,rule:[{type:"select",title:o("validate.trigger"),field:"trigger",value:"change",options:[{label:"change",value:"change"},{label:"submit",value:"submit"},{label:"blur",value:"blur"}]},{type:"hidden",field:"validator",value:void 0},{type:"select",title:o("validate.mode"),field:"mode",options:[{value:"required",label:o("validate.modes.required")},{value:"pattern",label:o("validate.modes.pattern")},{value:"min",label:o("validate.modes.min")},{value:"max",label:o("validate.modes.max")},{value:"len",label:o("validate.modes.len")}],value:"required",control:[{value:"required",rule:[{type:"hidden",field:"required",value:!0}]},{value:"pattern",rule:[{type:"input",field:"pattern",title:o("validate.modes.pattern")}]},{value:"min",rule:[{type:"inputNumber",field:"min",title:o("validate.modes.min")}]},{value:"max",rule:[{type:"inputNumber",field:"max",title:o("validate.modes.max")}]},{value:"len",rule:[{type:"inputNumber",field:"len",title:o("validate.modes.len")}]}]},{type:"input",title:o("validate.message"),field:"message",value:"",children:[{type:"span",slot:"append",inject:!0,class:"append-msg",on:{click:a=>{const n=this.designer.setupState.activeRule.title;this.designer.setupState.activeRule&&a.api.setValue("message",o(a.api.form.mode!=="required"?"validate.autoMode":"validate.autoRequired",{title:n}))}},children:[o("validate.auto")]}]}]},value:[]}]}]}]}},methods:{onInput:function(o){let a=[];const{validate:n,type:i}=Lr(o);i&&(!n||!n.length)||(i&&(n.forEach(t=>{t.type=i}),a=[...n]),this.$emit("update:modelValue",a))},parseValue(o){let a={validate:o?[...o]:[],type:o.length?o[0].type||"string":void 0};return a.validate.forEach(n=>{n.mode||Object.keys(n).forEach(i=>{["message","type","trigger","mode"].indexOf(i)<0&&(n.mode=i)})}),a}}});function $1(o,a,n,i,t,u){const c=Le("DragForm");return Je(),nr(c,{class:"_fc-validate",rule:o.rule,option:o.option,modelValue:o.formValue,"onUpdate:modelValue":o.onInput},null,8,["rule","option","modelValue","onUpdate:modelValue"])}const V1=Gr(H1,[["render",$1]]),z1=wt({name:"DragBox",props:["rule","tag","formCreateInject"],render(o){const a=Jt(Jt({},o.$props.rule.props),o.$attrs);let n=a.tag+"-drag drag-box";Object.keys(o.$slots).length||(n+=" "+a.tag+"-holder"),a.class=n,a.modelValue=[...this.$props.formCreateInject.children];const i={};return o.$slots.default&&o.$slots.default().forEach(t=>{t.key&&(i[t.key]=t)}),No(Bs,a,{item:({element:t})=>{var u;return(u=t==null?void 0:t.__fc__)!=null&&u.key?No("div",{},i[t.__fc__.key+"fc"]):void 0}})}}),j1=wt({name:"Required",props:{modelValue:{}},inject:["designer"],watch:{required(){this.update()},requiredMsg(){this.update()},modelValue(o){const a=Bt.String(o);this.required=o===void 0?!1:a?!0:!!o,this.requiredMsg=a?o:""}},data(){const o=Bt.String(this.modelValue);return{t:this.designer.setupState.t,required:this.modelValue===void 0?!1:o?!0:!!this.modelValue,requiredMsg:o?this.modelValue:""}},methods:{update(){let o;this.required===!1?o=!1:o=this.requiredMsg||!0,this.$emit("update:modelValue",o)}}}),U1={class:"_fc-required"};function Y1(o,a,n,i,t,u){const c=Le("ElSwitch"),d=Le("ElInput");return Je(),ht("div",U1,[ve(c,{modelValue:o.required,"onUpdate:modelValue":a[0]||(a[0]=p=>o.required=p)},null,8,["modelValue"]),o.required?(Je(),nr(d,{key:0,modelValue:o.requiredMsg,"onUpdate:modelValue":a[1]||(a[1]=p=>o.requiredMsg=p),placeholder:o.t("validate.requiredPlaceholder")},null,8,["modelValue","placeholder"])):Sn("",!0)])}const Q1=Gr(j1,[["render",Y1]]),W1=wt({name:"TableOptions",inheritAttrs:!1,props:{modelValue:[Object,Array,String]},inject:["designer"],data(){return{column:[{label:"label",key:"label"},{label:"value",key:"value"}],t:this.designer.setupState.t}},created(){Array.isArray(this.modelValue)||this.$emit("input",[])},methods:{onInput(o){o.label!==void 0&&o.value!==void 0&&this.input()},input(){this.$emit("update:modelValue",this.modelValue)},add(){this.modelValue.push(this.column.reduce((o,a)=>(o[a.key]="",o),{}))},del(o){this.modelValue.splice(o,1),this.input(this.modelValue)}}}),G1=o=>(Um("data-v-c0b6353c"),o=o(),Ym(),o),X1={class:"_fc_table_opt"},J1=["onClick"],K1=G1(()=>tt("i",{class:"fc-icon icon-add"},null,-1));function q1(o,a,n,i,t,u){const c=Le("el-input"),d=Le("el-table-column"),p=Le("el-table"),h=Le("el-button");return Je(),ht("div",X1,[ve(p,{data:o.modelValue,border:"",size:"small",style:{width:"100%"}},{default:it(()=>[(Je(!0),ht(As,null,kd(o.column,(m,b)=>(Je(),nr(d,{key:m.label+b,label:m.label},{default:it(C=>[ve(c,{size:"small",modelValue:C.row[m.key]||"","onUpdate:modelValue":w=>(C.row[m.key]=w,o.onInput(C.row))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),128)),ve(d,{"min-width":"50",align:"center",fixed:"right",label:o.t("tableOptions.handle")},{default:it(m=>[tt("i",{class:"fc-icon icon-delete",onClick:b=>o.del(m.$index)},null,8,J1)]),_:1},8,["label"])]),_:1},8,["data"]),ve(h,{link:"",type:"primary",onClick:o.add},{default:it(()=>[K1,yr(" "+cn(o.t("tableOptions.add")),1)]),_:1},8,["onClick"])])}const Z1=Gr(W1,[["render",q1],["__scopeId","data-v-c0b6353c"]]);/*!
 * @form-create/component-wangeditor v3.1.12
 * (c) 2018-2022 xaboy
 * Github https://github.com/xaboy/form-create with wangeditor
 * Released under the MIT License.
 */function _d(o,a){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);a&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})),n.push.apply(n,i)}return n}function eA(o){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?_d(Object(n),!0).forEach(function(i){tA(o,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(n,i))})}return o}function Ot(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ot=function(a){return typeof a}:Ot=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ot(o)}function tA(o,a,n){return a in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n,o}function nA(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Dp={exports:{}};(function(o,a){(function(n,i){o.exports=i()})(window,function(){return function(n){var i={};function t(u){if(i[u])return i[u].exports;var c=i[u]={i:u,l:!1,exports:{}};return n[u].call(c.exports,c,c.exports,t),c.l=!0,c.exports}return t.m=n,t.c=i,t.d=function(u,c,d){t.o(u,c)||Object.defineProperty(u,c,{enumerable:!0,get:d})},t.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},t.t=function(u,c){if(c&1&&(u=t(u)),c&8||c&4&&Ot(u)==="object"&&u&&u.__esModule)return u;var d=Object.create(null);if(t.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:u}),c&2&&typeof u!="string")for(var p in u)t.d(d,p,function(h){return u[h]}.bind(null,p));return d},t.n=function(u){var c=u&&u.__esModule?function(){return u.default}:function(){return u};return t.d(c,"a",c),c},t.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},t.p="",t(t.s=141)}([function(n,i){function t(u){return u&&u.__esModule?u:{default:u}}n.exports=t},function(n,i,t){n.exports=t(142)},function(n,i,t){t.r(i),t.d(i,"__extends",function(){return c}),t.d(i,"__assign",function(){return d}),t.d(i,"__rest",function(){return p}),t.d(i,"__decorate",function(){return h}),t.d(i,"__param",function(){return m}),t.d(i,"__metadata",function(){return b}),t.d(i,"__awaiter",function(){return C}),t.d(i,"__generator",function(){return w}),t.d(i,"__createBinding",function(){return A}),t.d(i,"__exportStar",function(){return F}),t.d(i,"__values",function(){return v}),t.d(i,"__read",function(){return B}),t.d(i,"__spread",function(){return E}),t.d(i,"__spreadArrays",function(){return g}),t.d(i,"__spreadArray",function(){return _}),t.d(i,"__await",function(){return x}),t.d(i,"__asyncGenerator",function(){return D}),t.d(i,"__asyncDelegator",function(){return O}),t.d(i,"__asyncValues",function(){return L}),t.d(i,"__makeTemplateObject",function(){return P}),t.d(i,"__importStar",function(){return T}),t.d(i,"__importDefault",function(){return $}),t.d(i,"__classPrivateFieldGet",function(){return I}),t.d(i,"__classPrivateFieldSet",function(){return z});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u=function(M,Q){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,U){Y.__proto__=U}||function(Y,U){for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&(Y[X]=U[X])},u(M,Q)};function c(M,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");u(M,Q);function Y(){this.constructor=M}M.prototype=Q===null?Object.create(Q):(Y.prototype=Q.prototype,new Y)}var d=function(){return d=Object.assign||function(M){for(var Q,Y=1,U=arguments.length;Y<U;Y++){Q=arguments[Y];for(var X in Q)Object.prototype.hasOwnProperty.call(Q,X)&&(M[X]=Q[X])}return M},d.apply(this,arguments)};function p(M,Q){var Y={};for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&Q.indexOf(U)<0&&(Y[U]=M[U]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,U=Object.getOwnPropertySymbols(M);X<U.length;X++)Q.indexOf(U[X])<0&&Object.prototype.propertyIsEnumerable.call(M,U[X])&&(Y[U[X]]=M[U[X]]);return Y}function h(M,Q,Y,U){var X=arguments.length,J=X<3?Q:U===null?U=Object.getOwnPropertyDescriptor(Q,Y):U,ee;if((typeof Reflect>"u"?"undefined":Ot(Reflect))==="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(M,Q,Y,U);else for(var ae=M.length-1;ae>=0;ae--)(ee=M[ae])&&(J=(X<3?ee(J):X>3?ee(Q,Y,J):ee(Q,Y))||J);return X>3&&J&&Object.defineProperty(Q,Y,J),J}function m(M,Q){return function(Y,U){Q(Y,U,M)}}function b(M,Q){if((typeof Reflect>"u"?"undefined":Ot(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,Q)}function C(M,Q,Y,U){function X(J){return J instanceof Y?J:new Y(function(ee){ee(J)})}return new(Y||(Y=Promise))(function(J,ee){function ae(ye){try{se(U.next(ye))}catch(ie){ee(ie)}}function de(ye){try{se(U.throw(ye))}catch(ie){ee(ie)}}function se(ye){ye.done?J(ye.value):X(ye.value).then(ae,de)}se((U=U.apply(M,Q||[])).next())})}function w(M,Q){var Y={label:0,sent:function(){if(J[0]&1)throw J[1];return J[1]},trys:[],ops:[]},U,X,J,ee;return ee={next:ae(0),throw:ae(1),return:ae(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function ae(se){return function(ye){return de([se,ye])}}function de(se){if(U)throw new TypeError("Generator is already executing.");for(;Y;)try{if(U=1,X&&(J=se[0]&2?X.return:se[0]?X.throw||((J=X.return)&&J.call(X),0):X.next)&&!(J=J.call(X,se[1])).done)return J;switch(X=0,J&&(se=[se[0]&2,J.value]),se[0]){case 0:case 1:J=se;break;case 4:return Y.label++,{value:se[1],done:!1};case 5:Y.label++,X=se[1],se=[0];continue;case 7:se=Y.ops.pop(),Y.trys.pop();continue;default:if(J=Y.trys,!(J=J.length>0&&J[J.length-1])&&(se[0]===6||se[0]===2)){Y=0;continue}if(se[0]===3&&(!J||se[1]>J[0]&&se[1]<J[3])){Y.label=se[1];break}if(se[0]===6&&Y.label<J[1]){Y.label=J[1],J=se;break}if(J&&Y.label<J[2]){Y.label=J[2],Y.ops.push(se);break}J[2]&&Y.ops.pop(),Y.trys.pop();continue}se=Q.call(M,Y)}catch(ye){se=[6,ye],X=0}finally{U=J=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}}var A=Object.create?function(M,Q,Y,U){U===void 0&&(U=Y),Object.defineProperty(M,U,{enumerable:!0,get:function(){return Q[Y]}})}:function(M,Q,Y,U){U===void 0&&(U=Y),M[U]=Q[Y]};function F(M,Q){for(var Y in M)Y!=="default"&&!Object.prototype.hasOwnProperty.call(Q,Y)&&A(Q,M,Y)}function v(M){var Q=typeof Symbol=="function"&&Symbol.iterator,Y=Q&&M[Q],U=0;if(Y)return Y.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&U>=M.length&&(M=void 0),{value:M&&M[U++],done:!M}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(M,Q){var Y=typeof Symbol=="function"&&M[Symbol.iterator];if(!Y)return M;var U=Y.call(M),X,J=[],ee;try{for(;(Q===void 0||Q-- >0)&&!(X=U.next()).done;)J.push(X.value)}catch(ae){ee={error:ae}}finally{try{X&&!X.done&&(Y=U.return)&&Y.call(U)}finally{if(ee)throw ee.error}}return J}function E(){for(var M=[],Q=0;Q<arguments.length;Q++)M=M.concat(B(arguments[Q]));return M}function g(){for(var M=0,Q=0,Y=arguments.length;Q<Y;Q++)M+=arguments[Q].length;for(var U=Array(M),X=0,Q=0;Q<Y;Q++)for(var J=arguments[Q],ee=0,ae=J.length;ee<ae;ee++,X++)U[X]=J[ee];return U}function _(M,Q){for(var Y=0,U=Q.length,X=M.length;Y<U;Y++,X++)M[X]=Q[Y];return M}function x(M){return this instanceof x?(this.v=M,this):new x(M)}function D(M,Q,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U=Y.apply(M,Q||[]),X,J=[];return X={},ee("next"),ee("throw"),ee("return"),X[Symbol.asyncIterator]=function(){return this},X;function ee(oe){U[oe]&&(X[oe]=function(le){return new Promise(function(pe,je){J.push([oe,le,pe,je])>1||ae(oe,le)})})}function ae(oe,le){try{de(U[oe](le))}catch(pe){ie(J[0][3],pe)}}function de(oe){oe.value instanceof x?Promise.resolve(oe.value.v).then(se,ye):ie(J[0][2],oe)}function se(oe){ae("next",oe)}function ye(oe){ae("throw",oe)}function ie(oe,le){oe(le),J.shift(),J.length&&ae(J[0][0],J[0][1])}}function O(M){var Q,Y;return Q={},U("next"),U("throw",function(X){throw X}),U("return"),Q[Symbol.iterator]=function(){return this},Q;function U(X,J){Q[X]=M[X]?function(ee){return(Y=!Y)?{value:x(M[X](ee)),done:X==="return"}:J?J(ee):ee}:J}}function L(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q=M[Symbol.asyncIterator],Y;return Q?Q.call(M):(M=typeof v=="function"?v(M):M[Symbol.iterator](),Y={},U("next"),U("throw"),U("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function U(J){Y[J]=M[J]&&function(ee){return new Promise(function(ae,de){ee=M[J](ee),X(ae,de,ee.done,ee.value)})}}function X(J,ee,ae,de){Promise.resolve(de).then(function(se){J({value:se,done:ae})},ee)}}function P(M,Q){return Object.defineProperty?Object.defineProperty(M,"raw",{value:Q}):M.raw=Q,M}var R=Object.create?function(M,Q){Object.defineProperty(M,"default",{enumerable:!0,value:Q})}:function(M,Q){M.default=Q};function T(M){if(M&&M.__esModule)return M;var Q={};if(M!=null)for(var Y in M)Y!=="default"&&Object.prototype.hasOwnProperty.call(M,Y)&&A(Q,M,Y);return R(Q,M),Q}function $(M){return M&&M.__esModule?M:{default:M}}function I(M,Q){if(!Q.has(M))throw new TypeError("attempted to get private field on non-instance");return Q.get(M)}function z(M,Q,Y){if(!Q.has(M))throw new TypeError("attempted to set private field on non-instance");return Q.set(M,Y),Y}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(89)),p=u(t(4)),h=u(t(26)),m=u(t(17)),b=u(t(120)),C=u(t(27)),w=u(t(91)),A=u(t(70)),F=u(t(44)),v=u(t(57));(0,c.default)(i,"__esModule",{value:!0}),i.DomElement=void 0;var B=t(2),E=t(6),g=[];function _(R){var T=document.createElement("div");T.innerHTML=R;var $=T.children;return E.toArray($)}function x(R){return R?R instanceof HTMLCollection||R instanceof NodeList:!1}function D(R){var T=document.querySelectorAll(R);return E.toArray(T)}function O(R){var T=[],$=[];return(0,d.default)(R)?T=R:T=R.split(";"),(0,p.default)(T).call(T,function(I){var z,M=(0,h.default)(z=I.split(":")).call(z,function(Q){return(0,m.default)(Q).call(Q)});M.length===2&&$.push(M[0]+":"+M[1])}),$}var L=function(){function R(T){if(this.elems=[],this.length=this.elems.length,this.dataSource=new b.default,!!T){if(T instanceof R)return T;var $=[],I=T instanceof Node?T.nodeType:-1;if(this.selector=T,I===1||I===9)$=[T];else if(x(T))$=E.toArray(T);else if(T instanceof Array)$=T;else if(typeof T=="string"){var z,M=(0,m.default)(z=T.replace(`/
/mg`,"")).call(z);(0,C.default)(M).call(M,"<")===0?$=_(M):$=D(M)}var Q=$.length;if(!Q)return this;for(var Y=0;Y<Q;Y++)this.elems.push($[Y]);this.length=Q}}return(0,c.default)(R.prototype,"id",{get:function(){return this.elems[0].id},enumerable:!1,configurable:!0}),R.prototype.forEach=function(T){for(var $=0;$<this.length;$++){var I=this.elems[$],z=T.call(I,I,$);if(z===!1)break}return this},R.prototype.clone=function(T){var $;T===void 0&&(T=!1);var I=[];return(0,p.default)($=this.elems).call($,function(z){I.push(z.cloneNode(!!T))}),P(I)},R.prototype.get=function(T){T===void 0&&(T=0);var $=this.length;return T>=$&&(T=T%$),P(this.elems[T])},R.prototype.first=function(){return this.get(0)},R.prototype.last=function(){var T=this.length;return this.get(T-1)},R.prototype.on=function(T,$,I){var z;return T?(typeof $=="function"&&(I=$,$=""),(0,p.default)(z=this).call(z,function(M){if(!$){M.addEventListener(T,I);return}var Q=function(Y){var U=Y.target;U.matches($)&&I.call(U,Y)};M.addEventListener(T,Q),g.push({elem:M,selector:$,fn:I,agentFn:Q})})):this},R.prototype.off=function(T,$,I){var z;return T?(typeof $=="function"&&(I=$,$=""),(0,p.default)(z=this).call(z,function(M){if($){for(var Q=-1,Y=0;Y<g.length;Y++){var U=g[Y];if(U.selector===$&&U.fn===I&&U.elem===M){Q=Y;break}}if(Q!==-1){var X=(0,w.default)(g).call(g,Q,1)[0].agentFn;M.removeEventListener(T,X)}}else M.removeEventListener(T,I)})):this},R.prototype.attr=function(T,$){var I;return $==null?this.elems[0].getAttribute(T)||"":(0,p.default)(I=this).call(I,function(z){z.setAttribute(T,$)})},R.prototype.removeAttr=function(T){var $;(0,p.default)($=this).call($,function(I){I.removeAttribute(T)})},R.prototype.addClass=function(T){var $;return T?(0,p.default)($=this).call($,function(I){if(I.className){var z=I.className.split(/\s/);z=(0,A.default)(z).call(z,function(M){return!!(0,m.default)(M).call(M)}),(0,C.default)(z).call(z,T)<0&&z.push(T),I.className=z.join(" ")}else I.className=T}):this},R.prototype.removeClass=function(T){var $;return T?(0,p.default)($=this).call($,function(I){if(I.className){var z=I.className.split(/\s/);z=(0,A.default)(z).call(z,function(M){return M=(0,m.default)(M).call(M),!(!M||M===T)}),I.className=z.join(" ")}}):this},R.prototype.hasClass=function(T){if(!T)return!1;var $=this.elems[0];if(!$.className)return!1;var I=$.className.split(/\s/);return(0,F.default)(I).call(I,T)},R.prototype.css=function(T,$){var I,z;return $==""?z="":z=T+":"+$+";",(0,p.default)(I=this).call(I,function(M){var Q,Y=(0,m.default)(Q=M.getAttribute("style")||"").call(Q);if(Y){var U=O(Y);U=(0,h.default)(U).call(U,function(X){return(0,C.default)(X).call(X,T)===0?z:X}),z!=""&&(0,C.default)(U).call(U,z)<0&&U.push(z),z==""&&(U=O(U)),M.setAttribute("style",U.join("; "))}else M.setAttribute("style",z)})},R.prototype.getBoundingClientRect=function(){var T=this.elems[0];return T.getBoundingClientRect()},R.prototype.show=function(){return this.css("display","block")},R.prototype.hide=function(){return this.css("display","none")},R.prototype.children=function(){var T=this.elems[0];return T?P(T.children):null},R.prototype.childNodes=function(){var T=this.elems[0];return T?P(T.childNodes):null},R.prototype.replaceChildAll=function(T){for(var $=this.getNode(),I=this.elems[0];I.hasChildNodes();)$.firstChild&&I.removeChild($.firstChild);this.append(T)},R.prototype.append=function(T){var $;return(0,p.default)($=this).call($,function(I){(0,p.default)(T).call(T,function(z){I.appendChild(z)})})},R.prototype.remove=function(){var T;return(0,p.default)(T=this).call(T,function($){if($.remove)$.remove();else{var I=$.parentElement;I&&I.removeChild($)}})},R.prototype.isContain=function(T){var $=this.elems[0],I=T.elems[0];return $.contains(I)},R.prototype.getNodeName=function(){var T=this.elems[0];return T.nodeName},R.prototype.getNode=function(T){T===void 0&&(T=0);var $;return $=this.elems[T],$},R.prototype.find=function(T){var $=this.elems[0];return P($.querySelectorAll(T))},R.prototype.text=function(T){if(T){var $;return(0,p.default)($=this).call($,function(z){z.innerHTML=T})}else{var I=this.elems[0];return I.innerHTML.replace(/<[^>]+>/g,function(){return""})}},R.prototype.html=function(T){var $=this.elems[0];return T?($.innerHTML=T,this):$.innerHTML},R.prototype.val=function(){var T,$=this.elems[0];return(0,m.default)(T=$.value).call(T)},R.prototype.focus=function(){var T;return(0,p.default)(T=this).call(T,function($){$.focus()})},R.prototype.prev=function(){var T=this.elems[0];return P(T.previousElementSibling)},R.prototype.next=function(){var T=this.elems[0];return P(T.nextElementSibling)},R.prototype.getNextSibling=function(){var T=this.elems[0];return P(T.nextSibling)},R.prototype.parent=function(){var T=this.elems[0];return P(T.parentElement)},R.prototype.parentUntil=function(T,$){var I=$||this.elems[0];if(I.nodeName==="BODY")return null;var z=I.parentElement;return z===null?null:z.matches(T)?P(z):this.parentUntil(T,z)},R.prototype.parentUntilEditor=function(T,$,I){var z=I||this.elems[0];if(P(z).equal($.$textContainerElem)||P(z).equal($.$toolbarElem))return null;var M=z.parentElement;return M===null?null:M.matches(T)?P(M):this.parentUntilEditor(T,$,M)},R.prototype.equal=function(T){return T instanceof R?this.elems[0]===T.elems[0]:T instanceof HTMLElement?this.elems[0]===T:!1},R.prototype.insertBefore=function(T){var $,I=P(T),z=I.elems[0];return z?(0,p.default)($=this).call($,function(M){var Q=z.parentNode;Q==null||Q.insertBefore(M,z)}):this},R.prototype.insertAfter=function(T){var $,I=P(T),z=I.elems[0],M=z&&z.nextSibling;return z?(0,p.default)($=this).call($,function(Q){var Y=z.parentNode;M?Y.insertBefore(Q,M):Y.appendChild(Q)}):this},R.prototype.data=function(T,$){if($!=null)this.dataSource.set(T,$);else return this.dataSource.get(T)},R.prototype.getNodeTop=function(T){if(this.length<1)return this;var $=this.parent();return T.$textElem.equal(this)||T.$textElem.equal($)?this:($.prior=this,$.getNodeTop(T))},R.prototype.getOffsetData=function(){var T=this.elems[0];return{top:T.offsetTop,left:T.offsetLeft,width:T.offsetWidth,height:T.offsetHeight,parent:T.offsetParent}},R.prototype.scrollTop=function(T){var $=this.elems[0];$.scrollTo({top:T})},R}();i.DomElement=L;function P(){for(var R=[],T=0;T<arguments.length;T++)R[T]=arguments[T];return new((0,v.default)(L).apply(L,B.__spreadArrays([void 0],R)))}i.default=P},function(n,i,t){n.exports=t(180)},function(n,i,t){var u=t(8),c=t(71).f,d=t(100),p=t(9),h=t(39),m=t(19),b=t(16),C=function(w){var A=function(F,v,B){if(this instanceof w){switch(arguments.length){case 0:return new w;case 1:return new w(F);case 2:return new w(F,v)}return new w(F,v,B)}return w.apply(this,arguments)};return A.prototype=w.prototype,A};n.exports=function(w,A){var F=w.target,v=w.global,B=w.stat,E=w.proto,g=v?u:B?u[F]:(u[F]||{}).prototype,_=v?p:p[F]||(p[F]={}),x=_.prototype,D,O,L,P,R,T,$,I,z;for(P in A)D=d(v?P:F+(B?".":"#")+P,w.forced),O=!D&&g&&b(g,P),T=_[P],O&&(w.noTargetGet?(z=c(g,P),$=z&&z.value):$=g[P]),R=O&&$?$:A[P],!(O&&Ot(T)===Ot(R))&&(w.bind&&O?I=h(R,u):w.wrap&&O?I=C(R):E&&typeof R=="function"?I=h(Function.call,R):I=R,(w.sham||R&&R.sham||T&&T.sham)&&m(I,"sham",!0),_[P]=I,E&&(L=F+"Prototype",b(p,L)||m(p,L,{}),p[L][P]=R,w.real&&x&&!x[P]&&m(x,P,R)))}},function(n,i,t){var u=t(0),c=u(t(92)),d=u(t(1)),p=u(t(256)),h=u(t(45)),m=u(t(46)),b=u(t(89)),C=u(t(26));(0,d.default)(i,"__esModule",{value:!0}),i.hexToRgb=i.getRandomCode=i.toArray=i.deepClone=i.isFunction=i.debounce=i.throttle=i.arrForEach=i.forEach=i.replaceSpecialSymbol=i.replaceHtmlSymbol=i.getRandom=i.UA=void 0;var w=t(2),A=function(){function T(){this._ua=navigator.userAgent;var $=this._ua.match(/(Edge?)\/(\d+)/);this.isOldEdge=!!($&&$[1]=="Edge"&&(0,p.default)($[2])<19),this.isFirefox=!!(/Firefox\/\d+/.test(this._ua)&&!/Seamonkey\/\d+/.test(this._ua))}return T.prototype.isIE=function(){return"ActiveXObject"in window},T.prototype.isWebkit=function(){return/webkit/i.test(this._ua)},T}();i.UA=new A;function F(T){var $;return T===void 0&&(T=""),T+(0,h.default)($=Math.random().toString()).call($,2)}i.getRandom=F;function v(T){return T.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/(\r\n|\r|\n)/g,"<br/>")}i.replaceHtmlSymbol=v;function B(T){return T.replace(/&lt;/gm,"<").replace(/&gt;/gm,">").replace(/&quot;/gm,'"')}i.replaceSpecialSymbol=B;function E(T,$){for(var I in T)if(Object.prototype.hasOwnProperty.call(T,I)){var z=$(I,T[I]);if(z===!1)break}}i.forEach=E;function g(T,$){var I,z,M,Q=T.length||0;for(I=0;I<Q&&(z=T[I],M=$.call(T,z,I),M!==!1);I++);}i.arrForEach=g;function _(T,$){$===void 0&&($=200);var I=!1;return function(){for(var z=this,M=[],Q=0;Q<arguments.length;Q++)M[Q]=arguments[Q];I||(I=!0,(0,m.default)(function(){I=!1,T.call.apply(T,w.__spreadArrays([z],M))},$))}}i.throttle=_;function x(T,$){$===void 0&&($=200);var I=0;return function(){for(var z=this,M=[],Q=0;Q<arguments.length;Q++)M[Q]=arguments[Q];I&&window.clearTimeout(I),I=(0,m.default)(function(){I=0,T.call.apply(T,w.__spreadArrays([z],M))},$)}}i.debounce=x;function D(T){return typeof T=="function"}i.isFunction=D;function O(T){if((0,c.default)(T)!=="object"||typeof T=="function"||T===null)return T;var $;(0,b.default)(T)&&($=[]),(0,b.default)(T)||($={});for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&($[I]=O(T[I]));return $}i.deepClone=O;function L(T){return(0,h.default)(Array.prototype).call(T)}i.toArray=L;function P(){var T;return(0,h.default)(T=Math.random().toString(36)).call(T,-5)}i.getRandomCode=P;function R(T){var $=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(T);if($==null)return null;var I=(0,C.default)($).call($,function(Y){return(0,p.default)(Y,16)}),z=I[1],M=I[2],Q=I[3];return"rgb("+z+", "+M+", "+Q+")"}i.hexToRgb=R},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.EMPTY_P_REGEX=i.EMPTY_P_LAST_REGEX=i.EMPTY_P=i.urlRegex=i.EMPTY_FN=void 0;function d(){}i.EMPTY_FN=d,i.urlRegex=/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?/,i.EMPTY_P='<p data-we-empty-p=""><br></p>',i.EMPTY_P_LAST_REGEX=/<p data-we-empty-p=""><br\/?><\/p>$/gim,i.EMPTY_P_REGEX=/<p data-we-empty-p="">/gim},function(n,i,t){(function(u){var c=function(d){return d&&d.Math==Math&&d};n.exports=c((typeof globalThis>"u"?"undefined":Ot(globalThis))=="object"&&globalThis)||c((typeof window>"u"?"undefined":Ot(window))=="object"&&window)||c((typeof self>"u"?"undefined":Ot(self))=="object"&&self)||c(Ot(u)=="object"&&u)||Function("return this")()}).call(this,t(145))},function(n,i){n.exports={}},function(n,i,t){var u=t(8),c=t(74),d=t(16),p=t(64),h=t(76),m=t(105),b=c("wks"),C=u.Symbol,w=m?C:C&&C.withoutSetter||p;n.exports=function(A){return d(b,A)||(h&&d(C,A)?b[A]=C[A]:b[A]=w("Symbol."+A)),b[A]}},function(n,i){n.exports=function(t){try{return!!t()}catch(u){return!0}}},function(n,i,t){var u=t(9),c=t(16),d=t(93),p=t(18).f;n.exports=function(h){var m=u.Symbol||(u.Symbol={});c(m,h)||p(m,h,{value:d.f(h)})}},function(n,i){n.exports=function(t){return Ot(t)==="object"?t!==null:typeof t=="function"}},function(n,i,t){var u=t(11);n.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,i,t){var u=t(9);n.exports=function(c){return u[c+"Prototype"]}},function(n,i){var t={}.hasOwnProperty;n.exports=function(u,c){return t.call(u,c)}},function(n,i,t){n.exports=t(192)},function(n,i,t){var u=t(14),c=t(99),d=t(25),p=t(60),h=Object.defineProperty;i.f=u?h:function(m,b,C){if(d(m),b=p(b,!0),d(C),c)try{return h(m,b,C)}catch(w){}if("get"in C||"set"in C)throw TypeError("Accessors not supported");return"value"in C&&(m[b]=C.value),m}},function(n,i,t){var u=t(14),c=t(18),d=t(48);n.exports=u?function(p,h,m){return c.f(p,h,d(1,m))}:function(p,h,m){return p[h]=m,p}},function(n,i,t){var u=function(){var E;return function(){return typeof E>"u"&&(E=!!(window&&document&&document.all&&!window.atob)),E}}(),c=function(){var E={};return function(g){if(typeof E[g]>"u"){var _=document.querySelector(g);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch(x){_=null}E[g]=_}return E[g]}}(),d=[];function p(E){for(var g=-1,_=0;_<d.length;_++)if(d[_].identifier===E){g=_;break}return g}function h(E,g){for(var _={},x=[],D=0;D<E.length;D++){var O=E[D],L=g.base?O[0]+g.base:O[0],P=_[L]||0,R="".concat(L," ").concat(P);_[L]=P+1;var T=p(R),$={css:O[1],media:O[2],sourceMap:O[3]};T!==-1?(d[T].references++,d[T].updater($)):d.push({identifier:R,updater:B($,g),references:1}),x.push(R)}return x}function m(E){var g=document.createElement("style"),_=E.attributes||{};if(typeof _.nonce>"u"){var x=t.nc;x&&(_.nonce=x)}if(Object.keys(_).forEach(function(O){g.setAttribute(O,_[O])}),typeof E.insert=="function")E.insert(g);else{var D=c(E.insert||"head");if(!D)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");D.appendChild(g)}return g}function b(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)}var C=function(){var E=[];return function(g,_){return E[g]=_,E.filter(Boolean).join(`
`)}}();function w(E,g,_,x){var D=_?"":x.media?"@media ".concat(x.media," {").concat(x.css,"}"):x.css;if(E.styleSheet)E.styleSheet.cssText=C(g,D);else{var O=document.createTextNode(D),L=E.childNodes;L[g]&&E.removeChild(L[g]),L.length?E.insertBefore(O,L[g]):E.appendChild(O)}}function A(E,g,_){var x=_.css,D=_.media,O=_.sourceMap;if(D?E.setAttribute("media",D):E.removeAttribute("media"),O&&typeof btoa<"u"&&(x+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),E.styleSheet)E.styleSheet.cssText=x;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(x))}}var F=null,v=0;function B(E,g){var _,x,D;if(g.singleton){var O=v++;_=F||(F=m(g)),x=w.bind(null,_,O,!1),D=w.bind(null,_,O,!0)}else _=m(g),x=A.bind(null,_,g),D=function(){b(_)};return x(E),function(L){if(L){if(L.css===E.css&&L.media===E.media&&L.sourceMap===E.sourceMap)return;x(E=L)}else D()}}n.exports=function(E,g){g=g||{},!g.singleton&&typeof g.singleton!="boolean"&&(g.singleton=u()),E=E||[];var _=h(E,g);return function(x){if(x=x||[],Object.prototype.toString.call(x)==="[object Array]"){for(var D=0;D<_.length;D++){var O=_[D],L=p(O);d[L].references--}for(var P=h(x,g),R=0;R<_.length;R++){var T=_[R],$=p(T);d[$].references===0&&(d[$].updater(),d.splice($,1))}_=P}}}},function(n,i,t){n.exports=function(d){var p=[];return p.toString=function(){return this.map(function(h){var m=u(h,d);return h[2]?"@media ".concat(h[2]," {").concat(m,"}"):m}).join("")},p.i=function(h,m,b){typeof h=="string"&&(h=[[null,h,""]]);var C={};if(b)for(var w=0;w<this.length;w++){var A=this[w][0];A!=null&&(C[A]=!0)}for(var F=0;F<h.length;F++){var v=[].concat(h[F]);b&&C[v[0]]||(m&&(v[2]?v[2]="".concat(m," and ").concat(v[2]):v[2]=m),p.push(v))}},p};function u(d,p){var h=d[1]||"",m=d[3];if(!m)return h;if(p&&typeof btoa=="function"){var b=c(m),C=m.sources.map(function(w){return"/*# sourceURL=".concat(m.sourceRoot||"").concat(w," */")});return[h].concat(C).concat([b]).join(`
`)}return[h].join(`
`)}function c(d){var p=btoa(unescape(encodeURIComponent(JSON.stringify(d)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p);return"/*# ".concat(h," */")}},function(n,i,t){var u=t(14),c=t(11),d=t(16),p=Object.defineProperty,h={},m=function(b){throw b};n.exports=function(b,C){if(d(h,b))return h[b];C||(C={});var w=[][b],A=d(C,"ACCESSORS")?C.ACCESSORS:!1,F=d(C,0)?C[0]:m,v=d(C,1)?C[1]:void 0;return h[b]=!!w&&!c(function(){if(A&&!u)return!0;var B={length:-1};A?p(B,1,{enumerable:!0,get:m}):B[1]=1,w.call(B,F,v)})}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(95)),h=function(m){d.__extends(b,m);function b(C,w){return m.call(this,C,w)||this}return b}(p.default);i.default=h},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(46));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=h.__importDefault(t(95)),C=h.__importDefault(t(133)),w=function(A){h.__extends(F,A);function F(v,B,E){var g=A.call(this,v,B)||this;E.title=B.i18next.t("menus.dropListMenu."+E.title);var _=B.config.lang==="zh-CN"?"":"w-e-drop-list-tl";if(_!==""&&E.type==="list"){var x;(0,d.default)(x=E.list).call(x,function(O){var L=O.$elem,P=m.default(L.children());if(P.length>0){var R=P==null?void 0:P.getNodeName();R&&R==="I"&&L.addClass(_)}})}var D=new C.default(g,E);return g.dropList=D,v.on("click",function(){var O;B.selection.getRange()!=null&&(v.css("z-index",B.zIndex.get("menu")),(0,d.default)(O=B.txt.eventHooks.dropListMenuHoverEvents).call(O,function(L){return L()}),D.show())}).on("mouseleave",function(){v.css("z-index","auto"),D.hideTimeoutId=(0,p.default)(function(){D.hide()})}),g}return F}(b.default);i.default=w},function(n,i,t){var u=t(13);n.exports=function(c){if(!u(c))throw TypeError(String(c)+" is not an object");return c}},function(n,i,t){n.exports=t(188)},function(n,i,t){n.exports=t(201)},function(n,i,t){var u=t(72),c=t(49);n.exports=function(d){return u(c(d))}},function(n,i,t){var u=t(49);n.exports=function(c){return Object(u(c))}},function(n,i,t){var u=t(39),c=t(72),d=t(29),p=t(34),h=t(88),m=[].push,b=function(C){var w=C==1,A=C==2,F=C==3,v=C==4,B=C==6,E=C==5||B;return function(g,_,x,D){for(var O=d(g),L=c(O),P=u(_,x,3),R=p(L.length),T=0,$=D||h,I=w?$(g,R):A?$(g,0):void 0,z,M;R>T;T++)if((E||T in L)&&(z=L[T],M=P(z,T,O),C)){if(w)I[T]=M;else if(M)switch(C){case 3:return!0;case 5:return z;case 6:return T;case 2:m.call(I,z)}else if(v)return!1}return B?-1:F||v?v:I}};n.exports={forEach:b(0),map:b(1),filter:b(2),some:b(3),every:b(4),find:b(5),findIndex:b(6)}},function(n,i,t){n.exports=t(283)},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(31)),h=u(t(131));(0,c.default)(i,"__esModule",{value:!0});var m=t(2),b=m.__importDefault(t(3)),C=t(7),w=function(){function A(F,v){this.menu=F,this.conf=v,this.$container=b.default('<div class="w-e-panel-container"></div>');var B=F.editor;B.txt.eventHooks.clickEvents.push(A.hideCurAllPanels),B.txt.eventHooks.toolbarClickEvents.push(A.hideCurAllPanels),B.txt.eventHooks.dropListMenuHoverEvents.push(A.hideCurAllPanels)}return A.prototype.create=function(){var F=this,v=this.menu;if(!A.createdMenus.has(v)){var B=this.conf,E=this.$container,g=B.width||300,_=v.editor.$toolbarElem.getBoundingClientRect(),x=v.$elem.getBoundingClientRect(),D=_.height+_.top-x.top,O=(_.width-g)/2+_.left-x.left,L=300;Math.abs(O)>L&&(x.left<document.documentElement.clientWidth/2?O=-x.width/2:O=-g+x.width/2),E.css("width",g+"px").css("margin-top",D+"px").css("margin-left",O+"px").css("z-index",v.editor.zIndex.get("panel"));var P=b.default('<i class="w-e-icon-close w-e-panel-close"></i>');E.append(P),P.on("click",function(){F.remove()});var R=b.default('<ul class="w-e-panel-tab-title"></ul>'),T=b.default('<div class="w-e-panel-tab-content"></div>');E.append(R).append(T);var $=B.height;$&&T.css("height",$+"px").css("overflow-y","auto");var I=B.tabs||[],z=[],M=[];(0,d.default)(I).call(I,function(Y,U){if(Y){var X=Y.title||"",J=Y.tpl||"",ee=b.default('<li class="w-e-item">'+X+"</li>");R.append(ee);var ae=b.default(J);T.append(ae),z.push(ee),M.push(ae),U===0?(ee.data("active",!0),ee.addClass("w-e-active")):ae.hide(),ee.on("click",function(){ee.data("active")||((0,d.default)(z).call(z,function(de){de.data("active",!1),de.removeClass("w-e-active")}),(0,d.default)(M).call(M,function(de){de.hide()}),ee.data("active",!0),ee.addClass("w-e-active"),ae.show())})}}),E.on("click",function(Y){Y.stopPropagation()}),v.$elem.append(E),(0,d.default)(I).call(I,function(Y,U){if(Y){var X=Y.events||[];(0,d.default)(X).call(X,function(J){var ee,ae=J.selector,de=J.type,se=J.fn||C.EMPTY_FN,ye=M[U],ie=(ee=J.bindEnter)!==null&&ee!==void 0?ee:!1,oe=function(le){return m.__awaiter(F,void 0,void 0,function(){var pe;return m.__generator(this,function(je){switch(je.label){case 0:return le.stopPropagation(),[4,se(le)];case 1:return pe=je.sent(),pe&&this.remove(),[2]}})})};(0,p.default)(ye).call(ye,ae).on(de,oe),ie&&de==="click"&&ye.on("keyup",function(le){le.keyCode==13&&oe(le)})})}});var Q=(0,p.default)(E).call(E,"input[type=text],textarea");Q.length&&Q.get(0).focus(),A.hideCurAllPanels(),v.setPanel(this),A.createdMenus.add(v)}},A.prototype.remove=function(){var F=this.menu,v=this.$container;v&&v.remove(),A.createdMenus.delete(F)},A.hideCurAllPanels=function(){var F;A.createdMenus.size!==0&&(0,d.default)(F=A.createdMenus).call(F,function(v){var B=v.panel;B&&B.remove()})},A.createdMenus=new h.default,A}();i.default=w},function(n,i){var t={}.toString;n.exports=function(u){return t.call(u).slice(8,-1)}},function(n,i,t){var u=t(62),c=Math.min;n.exports=function(d){return d>0?c(u(d),9007199254740991):0}},function(n,i,t){var u=t(9),c=t(8),d=function(p){return typeof p=="function"?p:void 0};n.exports=function(p,h){return arguments.length<2?d(u[p])||d(c[p]):u[p]&&u[p][h]||c[p]&&c[p][h]}},function(n,i,t){var u=t(81),c=t(18).f,d=t(19),p=t(16),h=t(170),m=t(10),b=m("toStringTag");n.exports=function(C,w,A,F){if(C){var v=A?C:C.prototype;p(v,b)||c(v,b,{configurable:!0,value:w}),F&&!u&&d(v,"toString",h)}}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(95)),h=function(m){d.__extends(b,m);function b(C,w){return m.call(this,C,w)||this}return b.prototype.setPanel=function(C){this.panel=C},b}(p.default);i.default=h},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(57));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=function(){function C(w,A,F){this.editor=w,this.$targetElem=A,this.conf=F,this._show=!1,this._isInsertTextContainer=!1;var v=m.default("<div></div>");v.addClass("w-e-tooltip"),this.$container=v}return C.prototype.getPositionData=function(){var w=this.$container,A=0,F=0,v=20,B=document.documentElement.scrollTop,E=this.$targetElem.getBoundingClientRect(),g=this.editor.$textElem.getBoundingClientRect(),_=this.$targetElem.getOffsetData(),x=m.default(_.parent),D=this.editor.$textElem.elems[0].scrollTop;if(this._isInsertTextContainer=x.equal(this.editor.$textContainerElem),this._isInsertTextContainer){var O=x.getBoundingClientRect().height,L=_.top,P=_.left,R=_.height,T=L-D;T>v+5?(A=T-v-15,w.addClass("w-e-tooltip-up")):T+R+v<O?(A=T+R+10,w.addClass("w-e-tooltip-down")):(A=(T>0?T:0)+v+10,w.addClass("w-e-tooltip-down")),P<0?F=0:F=P}else E.top<v||E.top-g.top<v?(A=E.bottom+B+5,w.addClass("w-e-tooltip-down")):(A=E.top+B-v-15,w.addClass("w-e-tooltip-up")),E.left<0?F=0:F=E.left;return{top:A,left:F}},C.prototype.appendMenus=function(){var w=this,A=this.conf,F=this.editor,v=this.$targetElem,B=this.$container;(0,d.default)(A).call(A,function(E,g){var _=E.$elem,x=m.default("<div></div>");x.addClass("w-e-tooltip-item-wrapper "),x.append(_),B.append(x),_.on("click",function(D){D.preventDefault();var O=E.onClick(F,v);O&&w.remove()})})},C.prototype.create=function(){var w,A,F=this.editor,v=this.$container;this.appendMenus();var B=this.getPositionData(),E=B.top,g=B.left;v.css("top",E+"px"),v.css("left",g+"px"),v.css("z-index",F.zIndex.get("tooltip")),this._isInsertTextContainer?this.editor.$textContainerElem.append(v):m.default("body").append(v),this._show=!0,F.beforeDestroy((0,p.default)(w=this.remove).call(w,this)),F.txt.eventHooks.onBlurEvents.push((0,p.default)(A=this.remove).call(A,this))},C.prototype.remove=function(){this.$container.remove(),this._show=!1},(0,c.default)(C.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),C}();i.default=b},function(n,i,t){var u=t(40);n.exports=function(c,d,p){if(u(c),d===void 0)return c;switch(p){case 0:return function(){return c.call(d)};case 1:return function(h){return c.call(d,h)};case 2:return function(h,m){return c.call(d,h,m)};case 3:return function(h,m,b){return c.call(d,h,m,b)}}return function(){return c.apply(d,arguments)}}},function(n,i){n.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},function(n,i,t){var u=t(165),c=t(8),d=t(13),p=t(19),h=t(16),m=t(63),b=t(51),C=c.WeakMap,w,A,F,v=function(O){return F(O)?A(O):w(O,{})},B=function(O){return function(L){var P;if(!d(L)||(P=A(L)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return P}};if(u){var E=new C,g=E.get,_=E.has,x=E.set;w=function(O,L){return x.call(E,O,L),L},A=function(O){return g.call(E,O)||{}},F=function(O){return _.call(E,O)}}else{var D=m("state");b[D]=!0,w=function(O,L){return p(O,D,L),L},A=function(O){return h(O,D)?O[D]:{}},F=function(O){return h(O,D)}}n.exports={set:w,get:A,has:F,enforce:v,getterFor:B}},function(n,i){n.exports=!0},function(n,i){n.exports={}},function(n,i,t){n.exports=t(213)},function(n,i,t){n.exports=t(261)},function(n,i,t){n.exports=t(265)},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0}),i.createElementFragment=i.createDocumentFragment=i.createElement=i.insertBefore=i.getEndPoint=i.getStartPoint=i.updateRange=i.filterSelectionNodes=void 0;var p=t(2),h=t(137),m=p.__importDefault(t(3));function b(g){var _=[];return(0,d.default)(g).call(g,function(x){var D=x.getNodeName();if(D!==h.ListType.OrderedList&&D!==h.ListType.UnorderedList)_.push(x);else if(x.prior)_.push(x.prior);else{var O=x.children();O==null||(0,d.default)(O).call(O,function(L){_.push(m.default(L))})}}),_}i.filterSelectionNodes=b;function C(g,_,x){var D=g.selection,O=document.createRange();_.length>1?(O.setStart(_.elems[0],0),O.setEnd(_.elems[_.length-1],_.elems[_.length-1].childNodes.length)):O.selectNodeContents(_.elems[0]),x&&O.collapse(!1),D.saveRange(O),D.restoreSelection()}i.updateRange=C;function w(g){var _;return g.prior?g.prior:m.default((_=g.children())===null||_===void 0?void 0:_.elems[0])}i.getStartPoint=w;function A(g){var _;return g.prior?g.prior:m.default((_=g.children())===null||_===void 0?void 0:_.last().elems[0])}i.getEndPoint=A;function F(g,_,x){x===void 0&&(x=null),g.parent().elems[0].insertBefore(_,x)}i.insertBefore=F;function v(g){return document.createElement(g)}i.createElement=v;function B(){return document.createDocumentFragment()}i.createDocumentFragment=B;function E(g,_,x){return x===void 0&&(x="li"),(0,d.default)(g).call(g,function(D){var O=v(x);O.innerHTML=D.html(),_.appendChild(O),D.remove()}),_}i.createElementFragment=E},function(n,i){n.exports=function(t,u){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:u}}},function(n,i){n.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},function(n,i,t){var u=t(164).charAt,c=t(41),d=t(75),p="String Iterator",h=c.set,m=c.getterFor(p);d(String,"String",function(b){h(this,{type:p,string:String(b),index:0})},function(){var b=m(this),C=b.string,w=b.index,A;return w>=C.length?{value:void 0,done:!0}:(A=u(C,w),b.index+=A.length,{value:A,done:!1})})},function(n,i){n.exports={}},function(n,i,t){var u=t(106),c=t(80);n.exports=Object.keys||function(d){return u(d,c)}},function(n,i,t){var u=t(19);n.exports=function(c,d,p,h){h&&h.enumerable?c[d]=p:u(c,d,p)}},function(n,i,t){t(173);var u=t(174),c=t(8),d=t(65),p=t(19),h=t(43),m=t(10),b=m("toStringTag");for(var C in u){var w=c[C],A=w&&w.prototype;A&&d(A)!==b&&p(A,b,C),h[C]=h.Array}},function(n,i,t){var u=t(33);n.exports=Array.isArray||function(c){return u(c)=="Array"}},function(n,i,t){var u=t(11),c=t(10),d=t(86),p=c("species");n.exports=function(h){return d>=51||!u(function(){var m=[],b=m.constructor={};return b[p]=function(){return{foo:1}},m[h](Boolean).foo!==1})}},function(n,i,t){n.exports=t(222)},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.ListHandle=void 0;var d=t(2),p=d.__importDefault(t(373)),h=function(){function m(b){this.options=b,this.selectionRangeElem=new p.default}return m}();i.ListHandle=h},function(n,i,t){var u={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,d=c&&!u.call({1:2},1);i.f=d?function(p){var h=c(this,p);return!!h&&h.enumerable}:u},function(n,i,t){var u=t(13);n.exports=function(c,d){if(!u(c))return c;var p,h;if(d&&typeof(p=c.toString)=="function"&&!u(h=p.call(c))||typeof(p=c.valueOf)=="function"&&!u(h=p.call(c))||!d&&typeof(p=c.toString)=="function"&&!u(h=p.call(c)))return h;throw TypeError("Can't convert object to primitive value")}},function(n,i){},function(n,i){var t=Math.ceil,u=Math.floor;n.exports=function(c){return isNaN(c=+c)?0:(c>0?u:t)(c)}},function(n,i,t){var u=t(74),c=t(64),d=u("keys");n.exports=function(p){return d[p]||(d[p]=c(p))}},function(n,i){var t=0,u=Math.random();n.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++t+u).toString(36)}},function(n,i,t){var u=t(81),c=t(33),d=t(10),p=d("toStringTag"),h=c(function(){return arguments}())=="Arguments",m=function(b,C){try{return b[C]}catch(w){}};n.exports=u?c:function(b){var C,w,A;return b===void 0?"Undefined":b===null?"Null":typeof(w=m(C=Object(b),p))=="string"?w:h?c(C):(A=c(C))=="Object"&&typeof C.callee=="function"?"Arguments":A}},function(n,i,t){var u=t(25),c=t(111),d=t(34),p=t(39),h=t(112),m=t(113),b=function(w,A){this.stopped=w,this.result=A},C=n.exports=function(w,A,F,v,B){var E=p(A,F,v?2:1),g,_,x,D,O,L,P;if(B)g=w;else{if(_=h(w),typeof _!="function")throw TypeError("Target is not iterable");if(c(_)){for(x=0,D=d(w.length);D>x;x++)if(O=v?E(u(P=w[x])[0],P[1]):E(w[x]),O&&O instanceof b)return O;return new b(!1)}g=_.call(w)}for(L=g.next;!(P=L.call(g)).done;)if(O=m(g,E,P.value,v),Ot(O)=="object"&&O&&O instanceof b)return O;return new b(!1)};C.stop=function(w){return new b(!0,w)}},function(n,i,t){var u=t(11);n.exports=function(c,d){var p=[][c];return!!p&&u(function(){p.call(null,d||function(){throw 1},1)})}},function(n,i){n.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(n,i,t){var u=t(60),c=t(18),d=t(48);n.exports=function(p,h,m){var b=u(h);b in p?c.f(p,b,d(0,m)):p[b]=m}},function(n,i,t){n.exports=t(209)},function(n,i,t){var u=t(14),c=t(59),d=t(48),p=t(28),h=t(60),m=t(16),b=t(99),C=Object.getOwnPropertyDescriptor;i.f=u?C:function(w,A){if(w=p(w),A=h(A,!0),b)try{return C(w,A)}catch(F){}if(m(w,A))return d(!c.f.call(w,A),w[A])}},function(n,i,t){var u=t(11),c=t(33),d="".split;n.exports=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(p){return c(p)=="String"?d.call(p,""):Object(p)}:Object},function(n,i,t){var u=t(8),c=t(13),d=u.document,p=c(d)&&c(d.createElement);n.exports=function(h){return p?d.createElement(h):{}}},function(n,i,t){var u=t(42),c=t(102);(n.exports=function(d,p){return c[d]||(c[d]=p!==void 0?p:{})})("versions",[]).push({version:"3.6.4",mode:u?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(n,i,t){var u=t(5),c=t(167),d=t(104),p=t(171),h=t(36),m=t(19),b=t(53),C=t(10),w=t(42),A=t(43),F=t(103),v=F.IteratorPrototype,B=F.BUGGY_SAFARI_ITERATORS,E=C("iterator"),g="keys",_="values",x="entries",D=function(){return this};n.exports=function(O,L,P,R,T,$,I){c(P,L,R);var z=function(se){if(se===T&&X)return X;if(!B&&se in Y)return Y[se];switch(se){case g:return function(){return new P(this,se)};case _:return function(){return new P(this,se)};case x:return function(){return new P(this,se)}}return function(){return new P(this)}},M=L+" Iterator",Q=!1,Y=O.prototype,U=Y[E]||Y["@@iterator"]||T&&Y[T],X=!B&&U||z(T),J=L=="Array"&&Y.entries||U,ee,ae,de;if(J&&(ee=d(J.call(new O)),v!==Object.prototype&&ee.next&&(!w&&d(ee)!==v&&(p?p(ee,v):typeof ee[E]!="function"&&m(ee,E,D)),h(ee,M,!0,!0),w&&(A[M]=D))),T==_&&U&&U.name!==_&&(Q=!0,X=function(){return U.call(this)}),(!w||I)&&Y[E]!==X&&m(Y,E,X),A[L]=X,T)if(ae={values:z(_),keys:$?X:z(g),entries:z(x)},I)for(de in ae)(B||Q||!(de in Y))&&b(Y,de,ae[de]);else u({target:L,proto:!0,forced:B||Q},ae);return ae}},function(n,i,t){var u=t(11);n.exports=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())})},function(n,i,t){var u=t(25),c=t(169),d=t(80),p=t(51),h=t(107),m=t(73),b=t(63),C=">",w="<",A="prototype",F="script",v=b("IE_PROTO"),B=function(){},E=function(O){return w+F+C+O+w+"/"+F+C},g=function(O){O.write(E("")),O.close();var L=O.parentWindow.Object;return O=null,L},_=function(){var O=m("iframe"),L="java"+F+":",P;return O.style.display="none",h.appendChild(O),O.src=String(L),P=O.contentWindow.document,P.open(),P.write(E("document.F=Object")),P.close(),P.F},x,D=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch(L){}D=x?g(x):_();for(var O=d.length;O--;)delete D[A][d[O]];return D()};p[v]=!0,n.exports=Object.create||function(O,L){var P;return O!==null?(B[A]=u(O),P=new B,B[A]=null,P[v]=O):P=D(),L===void 0?P:c(P,L)}},function(n,i,t){var u=t(28),c=t(34),d=t(79),p=function(h){return function(m,b,C){var w=u(m),A=c(w.length),F=d(C,A),v;if(h&&b!=b){for(;A>F;)if(v=w[F++],v!=v)return!0}else for(;A>F;F++)if((h||F in w)&&w[F]===b)return h||F||0;return!h&&-1}};n.exports={includes:p(!0),indexOf:p(!1)}},function(n,i,t){var u=t(62),c=Math.max,d=Math.min;n.exports=function(p,h){var m=u(p);return m<0?c(m+h,0):d(m,h)}},function(n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,i,t){var u=t(10),c=u("toStringTag"),d={};d[c]="z",n.exports=String(d)==="[object z]"},function(n,i){n.exports=function(){}},function(n,i){n.exports=function(t,u,c){if(!(t instanceof u))throw TypeError("Incorrect "+(c?c+" ":"")+"invocation");return t}},function(n,i,t){var u=t(35);n.exports=u("navigator","userAgent")||""},function(n,i,t){var u=t(40),c=function(d){var p,h;this.promise=new d(function(m,b){if(p!==void 0||h!==void 0)throw TypeError("Bad Promise constructor");p=m,h=b}),this.resolve=u(p),this.reject=u(h)};n.exports.f=function(d){return new c(d)}},function(n,i,t){var u=t(8),c=t(84),d=u.process,p=d&&d.versions,h=p&&p.v8,m,b;h?(m=h.split("."),b=m[0]+m[1]):c&&(m=c.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=c.match(/Chrome\/(\d+)/),m&&(b=m[1]))),n.exports=b&&+b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(6),b=p.__importDefault(t(267)),C=p.__importDefault(t(280)),w=p.__importDefault(t(281)),A=p.__importDefault(t(282)),F=p.__importDefault(t(301)),v=p.__importStar(t(416)),B=p.__importDefault(t(417)),E=p.__importDefault(t(418)),g=p.__importDefault(t(419)),_=p.__importStar(t(420)),x=p.__importDefault(t(423)),D=p.__importDefault(t(424)),O=p.__importDefault(t(425)),L=p.__importDefault(t(427)),P=p.__importDefault(t(437)),R=p.__importDefault(t(440)),T=p.__importStar(t(441)),$=p.__importDefault(t(23)),I=p.__importDefault(t(133)),z=p.__importDefault(t(24)),M=p.__importDefault(t(32)),Q=p.__importDefault(t(37)),Y=p.__importDefault(t(38)),U=1,X=function(){function J(ee,ae){this.pluginsFunctionList={},this.beforeDestroyHooks=[],this.id="wangEditor-"+U++,this.toolbarSelector=ee,this.textSelector=ae,v.selectorValidator(this),this.config=m.deepClone(b.default),this.$toolbarElem=h.default("<div></div>"),this.$textContainerElem=h.default("<div></div>"),this.$textElem=h.default("<div></div>"),this.toolbarElemId="",this.textElemId="",this.isFocus=!1,this.isComposing=!1,this.isCompatibleMode=!1,this.selection=new C.default(this),this.cmd=new w.default(this),this.txt=new A.default(this),this.menus=new F.default(this),this.zIndex=new D.default,this.change=new O.default(this),this.history=new L.default(this),this.onSelectionChange=new R.default(this);var de=P.default(this),se=de.disable,ye=de.enable;this.disable=se,this.enable=ye,this.isEnable=!0}return J.prototype.initSelection=function(ee){B.default(this,ee)},J.prototype.create=function(){this.zIndex.init(this),this.isCompatibleMode=this.config.compatibleMode(),this.isCompatibleMode||(this.config.onchangeTimeout=30),g.default(this),v.default(this),this.txt.init(),this.menus.init(),_.default(this),this.initSelection(!0),E.default(this),this.change.observe(),this.history.observe(),T.default(this)},J.prototype.beforeDestroy=function(ee){return this.beforeDestroyHooks.push(ee),this},J.prototype.destroy=function(){var ee,ae=this;(0,d.default)(ee=this.beforeDestroyHooks).call(ee,function(de){return de.call(ae)}),this.$toolbarElem.remove(),this.$textContainerElem.remove()},J.prototype.fullScreen=function(){_.setFullScreen(this)},J.prototype.unFullScreen=function(){_.setUnFullScreen(this)},J.prototype.scrollToHead=function(ee){x.default(this,ee)},J.registerMenu=function(ee,ae){!ae||typeof ae!="function"||(J.globalCustomMenuConstructorList[ee]=ae)},J.prototype.registerPlugin=function(ee,ae){T.registerPlugin(ee,ae,this.pluginsFunctionList)},J.registerPlugin=function(ee,ae){T.registerPlugin(ee,ae,J.globalPluginsFunctionList)},J.$=h.default,J.BtnMenu=$.default,J.DropList=I.default,J.DropListMenu=z.default,J.Panel=M.default,J.PanelMenu=Q.default,J.Tooltip=Y.default,J.globalCustomMenuConstructorList={},J.globalPluginsFunctionList={},J}();i.default=X},function(n,i,t){var u=t(13),c=t(55),d=t(10),p=d("species");n.exports=function(h,m){var b;return c(h)&&(b=h.constructor,typeof b=="function"&&(b===Array||c(b.prototype))?b=void 0:u(b)&&(b=b[p],b===null&&(b=void 0))),new(b===void 0?Array:b)(m===0?0:m)}},function(n,i,t){n.exports=t(185)},function(n,i,t){var u=t(49),c=t(68),d="["+c+"]",p=RegExp("^"+d+d+"*"),h=RegExp(d+d+"*$"),m=function(b){return function(C){var w=String(u(C));return b&1&&(w=w.replace(p,"")),b&2&&(w=w.replace(h,"")),w}};n.exports={start:m(1),end:m(2),trim:m(3)}},function(n,i,t){n.exports=t(205)},function(n,i,t){var u=t(227),c=t(230);function d(p){return typeof c=="function"&&typeof u=="symbol"?n.exports=d=function(h){return typeof h}:n.exports=d=function(h){return h&&typeof c=="function"&&h.constructor===c&&h!==c.prototype?"symbol":typeof h},d(p)}n.exports=d},function(n,i,t){var u=t(10);i.f=u},function(n,i,t){n.exports=t(306)},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(32)),m=function(){function b(C,w){var A=this;this.$elem=C,this.editor=w,this._active=!1,C.on("click",function(F){var v;h.default.hideCurAllPanels(),(0,d.default)(v=w.txt.eventHooks.menuClickEvents).call(v,function(B){return B()}),F.stopPropagation(),w.selection.getRange()!=null&&A.clickHandler(F)})}return b.prototype.clickHandler=function(C){},b.prototype.active=function(){this._active=!0,this.$elem.addClass("w-e-active")},b.prototype.unActive=function(){this._active=!1,this.$elem.removeClass("w-e-active")},(0,c.default)(b.prototype,"isActive",{get:function(){return this._active},enumerable:!1,configurable:!0}),b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(57)),p=u(t(4)),h=u(t(27));(0,c.default)(i,"__esModule",{value:!0});var m=t(2),b=t(6),C=m.__importDefault(t(135)),w=m.__importDefault(t(136)),A=function(){function F(v){this.editor=v}return F.prototype.insertImg=function(v,B,E){var g=this.editor,_=g.config,x="validate.",D=function(R,T){return T===void 0&&(T=x),g.i18next.t(T+R)},O=B?'alt="'+B+'" ':"",L=E?'data-href="'+encodeURIComponent(E)+'" ':"";g.cmd.do("insertHTML",'<img src="'+v+'" '+O+L+'style="max-width:100%;" contenteditable="false"/>'),_.linkImgCallback(v,B,E);var P=document.createElement("img");P.onload=function(){P=null},P.onerror=function(){_.customAlert(D("插入图片错误"),"error","wangEditor: "+D("插入图片错误")+"，"+D("图片链接")+' "'+v+'"，'+D("下载链接失败")),P=null},P.onabort=function(){return P=null},P.src=v},F.prototype.uploadImg=function(v){var B=this;if(v.length){var E=this.editor,g=E.config,_="validate.",x=function(ie){return E.i18next.t(_+ie)},D=g.uploadImgServer,O=g.uploadImgShowBase64,L=g.uploadImgMaxSize,P=L/1024/1024,R=g.uploadImgMaxLength,T=g.uploadFileName,$=g.uploadImgParams,I=g.uploadImgParamsWithUrl,z=g.uploadImgHeaders,M=g.uploadImgHooks,Q=g.uploadImgTimeout,Y=g.withCredentials,U=g.customUploadImg;if(!(!U&&!D&&!O)){var X=[],J=[];if(b.arrForEach(v,function(ie){if(ie){var oe=ie.name||ie.type.replace("/","."),le=ie.size;if(!(!oe||!le)){var pe=E.config.uploadImgAccept.join("|"),je=".("+pe+")$",Oe=new RegExp(je,"i");if(Oe.test(oe)===!1){J.push("【"+oe+"】"+x("不是图片"));return}if(L<le){J.push("【"+oe+"】"+x("大于")+" "+P+"M");return}X.push(ie)}}}),J.length){g.customAlert(x("图片验证未通过")+`: 
`+J.join(`
`),"warning");return}if(X.length===0){g.customAlert(x("传入的文件不合法"),"warning");return}if(X.length>R){g.customAlert(x("一次最多上传")+R+x("张图片"),"warning");return}if(U&&typeof U=="function"){var ee;U(X,(0,d.default)(ee=this.insertImg).call(ee,this));return}var ae=new FormData;if((0,p.default)(X).call(X,function(ie,oe){var le=T||ie.name;X.length>1&&(le=le+(oe+1)),ae.append(le,ie)}),D){var de=D.split("#");D=de[0];var se=de[1]||"";(0,p.default)(b).call(b,$,function(ie,oe){I&&((0,h.default)(D).call(D,"?")>0?D+="&":D+="?",D=D+ie+"="+oe),ae.append(ie,oe)}),se&&(D+="#"+se);var ye=C.default(D,{timeout:Q,formData:ae,headers:z,withCredentials:!!Y,beforeSend:function(ie){if(M.before)return M.before(ie,E,X)},onTimeout:function(ie){g.customAlert(x("上传图片超时"),"error"),M.timeout&&M.timeout(ie,E)},onProgress:function(ie,oe){var le=new w.default(E);oe.lengthComputable&&(ie=oe.loaded/oe.total,le.show(ie))},onError:function(ie){g.customAlert(x("上传图片错误"),"error",x("上传图片错误")+"，"+x("服务器返回状态")+": "+ie.status),M.error&&M.error(ie,E)},onFail:function(ie,oe){g.customAlert(x("上传图片失败"),"error",x("上传图片返回结果错误")+("，"+x("返回结果")+": ")+oe),M.fail&&M.fail(ie,E,oe)},onSuccess:function(ie,oe){if(M.customInsert){var le;M.customInsert((0,d.default)(le=B.insertImg).call(le,B),oe,E);return}if(oe.errno!="0"){g.customAlert(x("上传图片失败"),"error",x("上传图片返回结果错误")+"，"+x("返回结果")+" errno="+oe.errno),M.fail&&M.fail(ie,E,oe);return}var pe=oe.data;(0,p.default)(pe).call(pe,function(je){typeof je=="string"?B.insertImg(je):B.insertImg(je.url,je.alt,je.href)}),M.success&&M.success(ie,E,oe)}});typeof ye=="string"&&g.customAlert(ye,"error");return}O&&b.arrForEach(v,function(ie){var oe=B,le=new FileReader;le.readAsDataURL(ie),le.onload=function(){if(this.result){var pe=this.result.toString();oe.insertImg(pe,pe)}}})}}},F}();i.default=A},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(410)),p=u(t(4)),h=u(t(45));(0,c.default)(i,"__esModule",{value:!0}),i.dealTextNode=i.isAllTodo=i.isTodo=i.getCursorNextNode=void 0;function m(F){return F.length?F.attr("class")==="w-e-todo":!1}i.isTodo=m;function b(F){var v=F.selection.getSelectionRangeTopNodes();if(v.length!==0)return(0,d.default)(v).call(v,function(B){return m(B)})}i.isAllTodo=b;function C(F,v,B){var E;if(F.hasChildNodes()){var g=F.cloneNode(),_=!1;v.nodeValue===""&&(_=!0);var x=[];return(0,p.default)(E=F.childNodes).call(E,function(D){if(!w(D,v)&&_&&(g.appendChild(D.cloneNode(!0)),D.nodeName!=="BR"&&x.push(D)),w(D,v)){if(D.nodeType===1){var O=C(D,v,B);O&&O.textContent!==""&&(g==null||g.appendChild(O))}if(D.nodeType===3&&v.isEqualNode(D)){var L=A(D,B);g.textContent=L}_=!0}}),(0,p.default)(x).call(x,function(D){var O=D;O.remove()}),g}}i.getCursorNextNode=C;function w(F,v){return F.nodeType===3?F.nodeValue===v.nodeValue:F.contains(v)}function A(F,v,B){B===void 0&&(B=!0);var E=F.nodeValue,g=E==null?void 0:(0,h.default)(E).call(E,0,v);if(E=E==null?void 0:(0,h.default)(E).call(E,v),!B){var _=E;E=g,g=_}return F.nodeValue=g,E}i.dealTextNode=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(430),p=function(){function h(m){this.maxSize=m,this.isRe=!1,this.data=new d.CeilStack(m),this.revokeData=new d.CeilStack(m)}return(0,c.default)(h.prototype,"size",{get:function(){return[this.data.size,this.revokeData.size]},enumerable:!1,configurable:!0}),h.prototype.resetMaxSize=function(m){this.data.resetMax(m),this.revokeData.resetMax(m)},h.prototype.save=function(m){return this.isRe&&(this.revokeData.clear(),this.isRe=!1),this.data.instack(m),this},h.prototype.revoke=function(m){!this.isRe&&(this.isRe=!0);var b=this.data.outstack();return b?(this.revokeData.instack(b),m(b),!0):!1},h.prototype.restore=function(m){!this.isRe&&(this.isRe=!0);var b=this.revokeData.outstack();return b?(this.data.instack(b),m(b),!0):!1},h}();i.default=p},function(n,i,t){var u=t(14),c=t(11),d=t(73);n.exports=!u&&!c(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7})},function(n,i,t){var u=t(11),c=/#|\.prototype\./,d=function(C,w){var A=h[p(C)];return A==b?!0:A==m?!1:typeof w=="function"?u(w):!!w},p=d.normalize=function(C){return String(C).replace(c,".").toLowerCase()},h=d.data={},m=d.NATIVE="N",b=d.POLYFILL="P";n.exports=d},function(n,i,t){var u=t(102),c=Function.toString;typeof u.inspectSource!="function"&&(u.inspectSource=function(d){return c.call(d)}),n.exports=u.inspectSource},function(n,i,t){var u=t(8),c=t(166),d="__core-js_shared__",p=u[d]||c(d,{});n.exports=p},function(n,i,t){var u=t(104),c=t(19),d=t(16),p=t(10),h=t(42),m=p("iterator"),b=!1,C=function(){return this},w,A,F;[].keys&&(F=[].keys(),"next"in F?(A=u(u(F)),A!==Object.prototype&&(w=A)):b=!0),w==null&&(w={}),!h&&!d(w,m)&&c(w,m,C),n.exports={IteratorPrototype:w,BUGGY_SAFARI_ITERATORS:b}},function(n,i,t){var u=t(16),c=t(29),d=t(63),p=t(168),h=d("IE_PROTO"),m=Object.prototype;n.exports=p?Object.getPrototypeOf:function(b){return b=c(b),u(b,h)?b[h]:typeof b.constructor=="function"&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?m:null}},function(n,i,t){var u=t(76);n.exports=u&&!Symbol.sham&&Ot(Symbol.iterator)=="symbol"},function(n,i,t){var u=t(16),c=t(28),d=t(78).indexOf,p=t(51);n.exports=function(h,m){var b=c(h),C=0,w=[],A;for(A in b)!u(p,A)&&u(b,A)&&w.push(A);for(;m.length>C;)u(b,A=m[C++])&&(~d(w,A)||w.push(A));return w}},function(n,i,t){var u=t(35);n.exports=u("document","documentElement")},function(n,i,t){var u=t(8);n.exports=u.Promise},function(n,i,t){var u=t(53);n.exports=function(c,d,p){for(var h in d)p&&p.unsafe&&c[h]?c[h]=d[h]:u(c,h,d[h],p);return c}},function(n,i,t){var u=t(35),c=t(18),d=t(10),p=t(14),h=d("species");n.exports=function(m){var b=u(m),C=c.f;p&&b&&!b[h]&&C(b,h,{configurable:!0,get:function(){return this}})}},function(n,i,t){var u=t(10),c=t(43),d=u("iterator"),p=Array.prototype;n.exports=function(h){return h!==void 0&&(c.Array===h||p[d]===h)}},function(n,i,t){var u=t(65),c=t(43),d=t(10),p=d("iterator");n.exports=function(h){if(h!=null)return h[p]||h["@@iterator"]||c[u(h)]}},function(n,i,t){var u=t(25);n.exports=function(c,d,p,h){try{return h?d(u(p)[0],p[1]):d(p)}catch(b){var m=c.return;throw m!==void 0&&u(m.call(c)),b}}},function(n,i,t){var u=t(10),c=u("iterator"),d=!1;try{var p=0,h={next:function(){return{done:!!p++}},return:function(){d=!0}};h[c]=function(){return this},Array.from(h,function(){throw 2})}catch(m){}n.exports=function(m,b){if(!b&&!d)return!1;var C=!1;try{var w={};w[c]=function(){return{next:function(){return{done:C=!0}}}},m(w)}catch(A){}return C}},function(n,i,t){var u=t(25),c=t(40),d=t(10),p=d("species");n.exports=function(h,m){var b=u(h).constructor,C;return b===void 0||(C=u(b)[p])==null?m:c(C)}},function(n,i,t){var u=t(8),c=t(11),d=t(33),p=t(39),h=t(107),m=t(73),b=t(117),C=u.location,w=u.setImmediate,A=u.clearImmediate,F=u.process,v=u.MessageChannel,B=u.Dispatch,E=0,g={},_="onreadystatechange",x,D,O,L=function($){if(g.hasOwnProperty($)){var I=g[$];delete g[$],I()}},P=function($){return function(){L($)}},R=function($){L($.data)},T=function($){u.postMessage($+"",C.protocol+"//"+C.host)};(!w||!A)&&(w=function($){for(var I=[],z=1;arguments.length>z;)I.push(arguments[z++]);return g[++E]=function(){(typeof $=="function"?$:Function($)).apply(void 0,I)},x(E),E},A=function($){delete g[$]},d(F)=="process"?x=function($){F.nextTick(P($))}:B&&B.now?x=function($){B.now(P($))}:v&&!b?(D=new v,O=D.port2,D.port1.onmessage=R,x=p(O.postMessage,O,1)):u.addEventListener&&typeof postMessage=="function"&&!u.importScripts&&!c(T)&&C.protocol!=="file:"?(x=T,u.addEventListener("message",R,!1)):_ in m("script")?x=function($){h.appendChild(m("script"))[_]=function(){h.removeChild(this),L($)}}:x=function($){setTimeout(P($),0)}),n.exports={set:w,clear:A}},function(n,i,t){var u=t(84);n.exports=/(iphone|ipod|ipad).*applewebkit/i.test(u)},function(n,i,t){var u=t(25),c=t(13),d=t(85);n.exports=function(p,h){if(u(p),c(h)&&h.constructor===p)return h;var m=d.f(p),b=m.resolve;return b(h),m.promise}},function(n,i){n.exports=function(t){try{return{error:!1,value:t()}}catch(u){return{error:!0,value:u}}}},function(n,i,t){n.exports=t(197)},function(n,i,t){var u=t(5),c=t(8),d=t(122),p=t(11),h=t(19),m=t(66),b=t(83),C=t(13),w=t(36),A=t(18).f,F=t(30).forEach,v=t(14),B=t(41),E=B.set,g=B.getterFor;n.exports=function(_,x,D){var O=_.indexOf("Map")!==-1,L=_.indexOf("Weak")!==-1,P=O?"set":"add",R=c[_],T=R&&R.prototype,$={},I;if(!v||typeof R!="function"||!(L||T.forEach&&!p(function(){new R().entries().next()})))I=D.getConstructor(x,_,O,P),d.REQUIRED=!0;else{I=x(function(M,Q){E(b(M,I,_),{type:_,collection:new R}),Q!=null&&m(Q,M[P],M,O)});var z=g(_);F(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(M){var Q=M=="add"||M=="set";M in T&&!(L&&M=="clear")&&h(I.prototype,M,function(Y,U){var X=z(this).collection;if(!Q&&L&&!C(Y))return M=="get"?void 0:!1;var J=X[M](Y===0?0:Y,U);return Q?this:J})}),L||A(I.prototype,"size",{configurable:!0,get:function(){return z(this).collection.size}})}return w(I,_,!1,!0),$[_]=I,u({global:!0,forced:!0},$),L||D.setStrong(I,_,O),I}},function(n,i,t){var u=t(51),c=t(13),d=t(16),p=t(18).f,h=t(64),m=t(200),b=h("meta"),C=0,w=Object.isExtensible||function(){return!0},A=function(g){p(g,b,{value:{objectID:"O"+ ++C,weakData:{}}})},F=function(g,_){if(!c(g))return Ot(g)=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!d(g,b)){if(!w(g))return"F";if(!_)return"E";A(g)}return g[b].objectID},v=function(g,_){if(!d(g,b)){if(!w(g))return!0;if(!_)return!1;A(g)}return g[b].weakData},B=function(g){return m&&E.REQUIRED&&w(g)&&!d(g,b)&&A(g),g},E=n.exports={REQUIRED:!1,fastKey:F,getWeakData:v,onFreeze:B};u[b]=!0},function(n,i,t){var u=t(18).f,c=t(77),d=t(109),p=t(39),h=t(83),m=t(66),b=t(75),C=t(110),w=t(14),A=t(122).fastKey,F=t(41),v=F.set,B=F.getterFor;n.exports={getConstructor:function(E,g,_,x){var D=E(function(R,T){h(R,D,g),v(R,{type:g,index:c(null),first:void 0,last:void 0,size:0}),w||(R.size=0),T!=null&&m(T,R[x],R,_)}),O=B(g),L=function(R,T,$){var I=O(R),z=P(R,T),M,Q;return z?z.value=$:(I.last=z={index:Q=A(T,!0),key:T,value:$,previous:M=I.last,next:void 0,removed:!1},I.first||(I.first=z),M&&(M.next=z),w?I.size++:R.size++,Q!=="F"&&(I.index[Q]=z)),R},P=function(R,T){var $=O(R),I=A(T),z;if(I!=="F")return $.index[I];for(z=$.first;z;z=z.next)if(z.key==T)return z};return d(D.prototype,{clear:function(){for(var R=this,T=O(R),$=T.index,I=T.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=void 0),delete $[I.index],I=I.next;T.first=T.last=void 0,w?T.size=0:R.size=0},delete:function(R){var T=this,$=O(T),I=P(T,R);if(I){var z=I.next,M=I.previous;delete $.index[I.index],I.removed=!0,M&&(M.next=z),z&&(z.previous=M),$.first==I&&($.first=z),$.last==I&&($.last=M),w?$.size--:T.size--}return!!I},forEach:function(R){for(var T=O(this),$=p(R,arguments.length>1?arguments[1]:void 0,3),I;I=I?I.next:T.first;)for($(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(R){return!!P(this,R)}}),d(D.prototype,_?{get:function(R){var T=P(this,R);return T&&T.value},set:function(R,T){return L(this,R===0?0:R,T)}}:{add:function(R){return L(this,R=R===0?0:R,R)}}),w&&u(D.prototype,"size",{get:function(){return O(this).size}}),D},setStrong:function(E,g,_){var x=g+" Iterator",D=B(g),O=B(x);b(E,g,function(L,P){v(this,{type:x,target:L,state:D(L),kind:P,last:void 0})},function(){for(var L=O(this),P=L.kind,R=L.last;R&&R.removed;)R=R.previous;return!L.target||!(L.last=R=R?R.next:L.state.first)?(L.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:R.key,done:!1}:P=="values"?{value:R.value,done:!1}:{value:[R.key,R.value],done:!1}},_?"entries":"values",!_,!0),C(g)}}},function(n,i,t){var u=t(12);u("iterator")},function(n,i,t){var u=t(106),c=t(80),d=c.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(p){return u(p,d)}},function(n,i){i.f=Object.getOwnPropertySymbols},function(n,i,t){n.exports=t(268)},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={zIndex:1e4}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={focus:!0,height:300,placeholder:"请输入正文",zIndexFullScreen:10002,showFullScreen:!0}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0}),i.getPasteImgs=i.getPasteHtml=i.getPasteText=void 0;var p=t(2),h=t(6),m=p.__importDefault(t(292));function b(A){var F=A.clipboardData,v="";return F==null?v=window.clipboardData&&window.clipboardData.getData("text"):v=F.getData("text/plain"),h.replaceHtmlSymbol(v)}i.getPasteText=b;function C(A,F,v){F===void 0&&(F=!0),v===void 0&&(v=!1);var B=A.clipboardData,E="";if(B&&(E=B.getData("text/html")),!E){var g=b(A);if(!g)return"";E="<p>"+g+"</p>"}return E=E.replace(/<(\d)/gm,function(_,x){return"&lt;"+x}),E=E.replace(/<(\/?meta.*?)>/gim,""),E=m.default(E,F,v),E}i.getPasteHtml=C;function w(A){var F,v=[],B=b(A);if(B)return v;var E=(F=A.clipboardData)===null||F===void 0?void 0:F.items;return E&&(0,d.default)(h).call(h,E,function(g,_){var x=_.type;/image/i.test(x)&&v.push(_.getAsFile())}),v}i.getPasteImgs=w},function(n,i,t){n.exports=t(294)},function(n,i,t){n.exports=t(310)},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(46));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=t(7),C=function(){function w(A,F){var v=this;this.hideTimeoutId=0,this.menu=A,this.conf=F;var B=m.default('<div class="w-e-droplist"></div>'),E=m.default("<p>"+F.title+"</p>");E.addClass("w-e-dp-title"),B.append(E);var g=F.list||[],_=F.type||"list",x=F.clickHandler||b.EMPTY_FN,D=m.default('<ul class="'+(_==="list"?"w-e-list":"w-e-block")+'"></ul>');(0,d.default)(g).call(g,function(O){var L=O.$elem,P=O.value,R=m.default('<li class="w-e-item"></li>');L&&(R.append(L),D.append(R),R.on("click",function(T){x(P),T.stopPropagation(),v.hideTimeoutId=(0,p.default)(function(){v.hide()})}))}),B.append(D),B.on("mouseleave",function(){v.hideTimeoutId=(0,p.default)(function(){v.hide()})}),this.$container=B,this.rendered=!1,this._show=!1}return w.prototype.show=function(){this.hideTimeoutId&&clearTimeout(this.hideTimeoutId);var A=this.menu,F=A.$elem,v=this.$container;if(!this._show){if(this.rendered)v.show();else{var B=F.getBoundingClientRect().height||0,E=this.conf.width||100;v.css("margin-top",B+"px").css("width",E+"px"),F.append(v),this.rendered=!0}this._show=!0}},w.prototype.hide=function(){var A=this.$container;!this._show||(A.hide(),this._show=!1)},(0,c.default)(w.prototype,"isShow",{get:function(){return this._show},enumerable:!1,configurable:!0}),w}();i.default=C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p){var h=p.selection.getSelectionContainerElem();return h!=null&&h.length?h.getNodeName()==="A":!1}i.default=d},function(n,i,t){var u=t(0),c=u(t(92)),d=u(t(1)),p=u(t(4));(0,d.default)(i,"__esModule",{value:!0});var h=t(6);function m(b,C){var w=new XMLHttpRequest;if(w.open("POST",b),w.timeout=C.timeout||10*1e3,w.ontimeout=function(){console.error("wangEditor - 请求超时"),C.onTimeout&&C.onTimeout(w)},w.upload&&(w.upload.onprogress=function(F){var v=F.loaded/F.total;C.onProgress&&C.onProgress(v,F)}),C.headers&&(0,p.default)(h).call(h,C.headers,function(F,v){w.setRequestHeader(F,v)}),w.withCredentials=!!C.withCredentials,C.beforeSend){var A=C.beforeSend(w);if(A&&(0,c.default)(A)==="object"&&A.prevent)return A.msg}return w.onreadystatechange=function(){if(w.readyState===4){var F=w.status;if(!(F<200)&&!(F>=300&&F<400)){if(F>=400){console.error("wangEditor - XHR 报错，状态码 "+F),C.onError&&C.onError(w);return}var v=w.responseText,B;if((0,c.default)(v)!=="object")try{B=JSON.parse(v)}catch(E){console.error("wangEditor - 返回结果不是 JSON 格式",v),C.onFail&&C.onFail(w,v);return}else B=v;C.onSuccess(w,B)}}},w.send(C.formData||null),w}i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(342)),p=u(t(46));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=function(){function C(w){this.editor=w,this.$textContainer=w.$textContainerElem,this.$bar=m.default('<div class="w-e-progress"></div>'),this.isShow=!1,this.time=0,this.timeoutId=0}return C.prototype.show=function(w){var A=this;if(!this.isShow){this.isShow=!0;var F=this.$bar,v=this.$textContainer;v.append(F),(0,d.default)()-this.time>100&&w<=1&&(F.css("width",w*100+"%"),this.time=(0,d.default)());var B=this.timeoutId;B&&clearTimeout(B),this.timeoutId=(0,p.default)(function(){A.hide()},500)}},C.prototype.hide=function(){var w=this.$bar;w.remove(),this.isShow=!1,this.time=0,this.timeoutId=0},C}();i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.ListType=void 0;var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(24)),m=t(47),b=d.__importStar(t(371)),C;(function(A){A.OrderedList="OL",A.UnorderedList="UL"})(C=i.ListType||(i.ListType={}));var w=function(A){d.__extends(F,A);function F(v){var B=this,E=p.default(`<div class="w-e-menu" data-title="序列">
                <i class="w-e-icon-list2"></i>
            </div>`),g={width:130,title:"序列",type:"list",list:[{$elem:p.default(`
                        <p>
                            <i class="w-e-icon-list2 w-e-drop-list-item"></i>
                            `+v.i18next.t("menus.dropListMenu.list.无序列表")+`
                        <p>`),value:C.UnorderedList},{$elem:p.default(`<p>
                            <i class="w-e-icon-list-numbered w-e-drop-list-item"></i>
                            `+v.i18next.t("menus.dropListMenu.list.有序列表")+`
                        <p>`),value:C.OrderedList}],clickHandler:function(_){B.command(_)}};return B=A.call(this,E,v,g)||this,B}return F.prototype.command=function(v){var B=this.editor,E=B.selection.getSelectionContainerElem();E!==void 0&&(this.handleSelectionRangeNodes(v),this.tryChangeActive())},F.prototype.validator=function(v,B,E){return!(!v.length||!B.length||E.equal(v)||E.equal(B))},F.prototype.handleSelectionRangeNodes=function(v){var B=this.editor,E=B.selection,g=v.toLowerCase(),_=E.getSelectionContainerElem(),x=E.getSelectionStartElem().getNodeTop(B),D=E.getSelectionEndElem().getNodeTop(B);if(this.validator(x,D,B.$textElem)){var O=E.getRange(),L=O==null?void 0:O.collapsed;B.$textElem.equal(_)||(_=_.getNodeTop(B));var P={editor:B,listType:v,listTarget:g,$selectionElem:_,$startElem:x,$endElem:D},R;this.isOrderElem(_)?R=b.ClassType.Wrap:this.isOrderElem(x)&&this.isOrderElem(D)?R=b.ClassType.Join:this.isOrderElem(x)?R=b.ClassType.StartJoin:this.isOrderElem(D)?R=b.ClassType.EndJoin:R=b.ClassType.Other;var T=new b.default(b.createListHandle(R,P,O));m.updateRange(B,T.getSelectionRangeElem(),!!L)}},F.prototype.isOrderElem=function(v){var B=v.getNodeName();return B===C.OrderedList||B===C.UnorderedList},F.prototype.tryChangeActive=function(){},F}(h.default);i.default=w},function(n,i,t){n.exports=t(395)},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p){var h=p.selection.getSelectionContainerElem();return h!=null&&h.length?!!(h.getNodeName()=="CODE"||h.getNodeName()=="PRE"||h.parent().getNodeName()=="CODE"||h.parent().getNodeName()=="PRE"||/hljs/.test(h.parent().attr("class"))):!1}i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31));(0,c.default)(i,"__esModule",{value:!0}),i.todo=void 0;var p=t(2),h=p.__importDefault(t(3)),m=function(){function C(w){var A;this.template='<ul class="w-e-todo"><li><span contenteditable="false"><input type="checkbox"></span></li></ul>',this.checked=!1,this.$todo=h.default(this.template),this.$child=(A=w==null?void 0:w.childNodes())===null||A===void 0?void 0:A.clone(!0)}return C.prototype.init=function(){var w=this.$child,A=this.getInputContainer();w&&w.insertAfter(A)},C.prototype.getInput=function(){var w=this.$todo,A=(0,d.default)(w).call(w,"input");return A},C.prototype.getInputContainer=function(){var w=this.getInput().parent();return w},C.prototype.getTodo=function(){return this.$todo},C}();i.todo=m;function b(C){var w=new m(C);return w.init(),w}i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2);t(146),t(148),t(152),t(154),t(156),t(158),t(160);var p=d.__importDefault(t(87));d.__exportStar(t(442),i),i.default=p.default},function(n,i,t){var u=t(143);n.exports=u},function(n,i,t){t(144);var u=t(9),c=u.Object,d=n.exports=function(p,h,m){return c.defineProperty(p,h,m)};c.defineProperty.sham&&(d.sham=!0)},function(n,i,t){var u=t(5),c=t(14),d=t(18);u({target:"Object",stat:!0,forced:!c,sham:!c},{defineProperty:d.f})},function(n,i){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(u){(typeof window>"u"?"undefined":Ot(window))==="object"&&(t=window)}n.exports=t},function(n,i,t){var u=t(20),c=t(147);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-toolbar,
.w-e-text-container,
.w-e-menu-panel {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
  background-color: #fff;
  /*表情菜单样式*/
  /*分割线样式*/
}
.w-e-toolbar h1,
.w-e-text-container h1,
.w-e-menu-panel h1 {
  font-size: 32px !important;
}
.w-e-toolbar h2,
.w-e-text-container h2,
.w-e-menu-panel h2 {
  font-size: 24px !important;
}
.w-e-toolbar h3,
.w-e-text-container h3,
.w-e-menu-panel h3 {
  font-size: 18.72px !important;
}
.w-e-toolbar h4,
.w-e-text-container h4,
.w-e-menu-panel h4 {
  font-size: 16px !important;
}
.w-e-toolbar h5,
.w-e-text-container h5,
.w-e-menu-panel h5 {
  font-size: 13.28px !important;
}
.w-e-toolbar p,
.w-e-text-container p,
.w-e-menu-panel p {
  font-size: 16px !important;
}
.w-e-toolbar .eleImg,
.w-e-text-container .eleImg,
.w-e-menu-panel .eleImg {
  cursor: pointer;
  display: inline-block;
  font-size: 18px;
  padding: 0 3px;
}
.w-e-toolbar *,
.w-e-text-container *,
.w-e-menu-panel * {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
.w-e-toolbar hr,
.w-e-text-container hr,
.w-e-menu-panel hr {
  cursor: pointer;
  display: block;
  height: 0px;
  border: 0;
  border-top: 3px solid #ccc;
  margin: 20px 0;
}
.w-e-clear-fix:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-drop-list-item {
  position: relative;
  top: 1px;
  padding-right: 7px;
  color: #333 !important;
}
.w-e-drop-list-tl {
  padding-left: 10px;
  text-align: left;
}
`,""]),n.exports=i},function(n,i,t){var u=t(20),c=t(149);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21),c=t(150),d=t(151);i=u(!1);var p=c(d);i.push([n.i,`@font-face {
  font-family: 'w-e-icon';
  src: url(`+p+`) format('truetype');
  font-weight: normal;
  font-style: normal;
}
[class^="w-e-icon-"],
[class*=" w-e-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'w-e-icon' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.w-e-icon-close:before {
  content: "\\f00d";
}
.w-e-icon-upload2:before {
  content: "\\e9c6";
}
.w-e-icon-trash-o:before {
  content: "\\f014";
}
.w-e-icon-header:before {
  content: "\\f1dc";
}
.w-e-icon-pencil2:before {
  content: "\\e906";
}
.w-e-icon-paint-brush:before {
  content: "\\f1fc";
}
.w-e-icon-image:before {
  content: "\\e90d";
}
.w-e-icon-play:before {
  content: "\\e912";
}
.w-e-icon-location:before {
  content: "\\e947";
}
.w-e-icon-undo:before {
  content: "\\e965";
}
.w-e-icon-redo:before {
  content: "\\e966";
}
.w-e-icon-quotes-left:before {
  content: "\\e977";
}
.w-e-icon-list-numbered:before {
  content: "\\e9b9";
}
.w-e-icon-list2:before {
  content: "\\e9bb";
}
.w-e-icon-link:before {
  content: "\\e9cb";
}
.w-e-icon-happy:before {
  content: "\\e9df";
}
.w-e-icon-bold:before {
  content: "\\ea62";
}
.w-e-icon-underline:before {
  content: "\\ea63";
}
.w-e-icon-italic:before {
  content: "\\ea64";
}
.w-e-icon-strikethrough:before {
  content: "\\ea65";
}
.w-e-icon-table2:before {
  content: "\\ea71";
}
.w-e-icon-paragraph-left:before {
  content: "\\ea77";
}
.w-e-icon-paragraph-center:before {
  content: "\\ea78";
}
.w-e-icon-paragraph-right:before {
  content: "\\ea79";
}
.w-e-icon-paragraph-justify:before {
  content: "\\ea7a";
}
.w-e-icon-terminal:before {
  content: "\\f120";
}
.w-e-icon-page-break:before {
  content: "\\ea68";
}
.w-e-icon-cancel-circle:before {
  content: "\\ea0d";
}
.w-e-icon-font:before {
  content: "\\ea5c";
}
.w-e-icon-text-heigh:before {
  content: "\\ea5f";
}
.w-e-icon-paint-format:before {
  content: "\\e90c";
}
.w-e-icon-indent-increase:before {
  content: "\\ea7b";
}
.w-e-icon-indent-decrease:before {
  content: "\\ea7c";
}
.w-e-icon-row-height:before {
  content: "\\e9be";
}
.w-e-icon-fullscreen_exit:before {
  content: "\\e900";
}
.w-e-icon-fullscreen:before {
  content: "\\e901";
}
.w-e-icon-split-line:before {
  content: "\\ea0b";
}
.w-e-icon-checkbox-checked:before {
  content: "\\ea52";
}
`,""]),n.exports=i},function(n,i,t){n.exports=function(u,c){return c||(c={}),u=u&&u.__esModule?u.default:u,typeof u!="string"?u:(/^['"].*['"]$/.test(u)&&(u=u.slice(1,-1)),c.hash&&(u+=c.hash),/["'() \t\n]/.test(u)||c.needQuotes?'"'.concat(u.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):u)}},function(n,i,t){t.r(i),i.default="data:font/woff;base64,d09GRgABAAAAABskAAsAAAAAGtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAABCAAAAGAAAABgDxIPFWNtYXAAAAFoAAABHAAAARz2mfAgZ2FzcAAAAoQAAAAIAAAACAAAABBnbHlmAAACjAAAFXwAABV8IH7+mGhlYWQAABgIAAAANgAAADYb6gumaGhlYQAAGEAAAAAkAAAAJAkjBWlobXR4AAAYZAAAAKQAAACkmYcEbmxvY2EAABkIAAAAVAAAAFReAmKYbWF4cAAAGVwAAAAgAAAAIAA0ALZuYW1lAAAZfAAAAYYAAAGGmUoJ+3Bvc3QAABsEAAAAIAAAACAAAwAAAAMD7wGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAA8fwDwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEAQAAAAA8ACAABAAcAAEAIOkB6QbpDekS6UfpZul36bnpu+m+6cbpy+nf6gvqDepS6lzqX+pl6nHqfPAN8BTxIPHc8fz//f//AAAAAAAg6QDpBukM6RLpR+ll6Xfpuem76b7pxunL6d/qC+oN6lLqXOpf6mLqcep38A3wFPEg8dzx/P/9//8AAf/jFwQXABb7FvcWwxamFpYWVRZUFlIWSxZHFjQWCRYIFcQVuxW5FbcVrBWnEBcQEQ8GDksOLAADAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAAEAEEAAQO/A38ABQALABEAFwAAATMVIREzAxEhFSMVATUzESE1ETUhESM1Av/A/sJ+fgE+wP4Cfv7CAT5+Ar9+AT78ggE+fsACvsD+wn7+An7+wsAAAAAABABBAAEDvwN/AAUACwARABcAAAEhESM1IxM1MxEhNQERIRUjFREVMxUhEQKBAT5+wMB+/sL9wAE+wMD+wgN//sLA/X7A/sJ+AcIBPn7A/v7AfgE+AAAAAAIAAP/ABAADwAAEABMAAAE3AScBAy4BJxM3ASMBAyUBNQEHAYCAAcBA/kCfFzsyY4ABgMD+gMACgAGA/oBOAUBAAcBA/kD+nTI7FwERTgGA/oD9gMABgMD+gIAAAgAA/8AEAAOAACkALQAAAREjNTQmIyEiBh0BFBYzITI2PQEzESEVIyIGFREUFjsBMjY1ETQmKwE1ASE1IQQAwCYa/UAaJiYaAsAaJoD9wCANExMNgA0TEw0gAUD9QALAAYABgEAaJiYawBomJhpA/wCAEw3+wA0TEw0BQA0TQAGAQAAABAAAAAAEAAOAABAAIQAtADQAAAE4ATEROAExITgBMRE4ATEhNSEiBhURFBYzITI2NRE0JiMHFAYjIiY1NDYzMhYTITUTATM3A8D8gAOA/IAaJiYaA4AaJiYagDgoKDg4KCg4QP0A4AEAQOADQP0AAwBAJhr9ABomJhoDABom4Cg4OCgoODj9uIABgP7AwAAAAgAAAEAEAANAADgAPAAAASYnLgEnJiMiBw4BBwYHBgcOAQcGFRQXHgEXFhcWFx4BFxYzMjc+ATc2NzY3PgE3NjU0Jy4BJyYnARENAQPVNjg5djw9Pz89PHY5ODYLBwgLAwMDAwsIBws2ODl2PD0/Pz08djk4NgsHCAsDAwMDCwgHC/2rAUD+wAMgCAYGCAICAgIIBgYIKSoqWS0uLy8uLVkqKikIBgYIAgICAggGBggpKipZLS4vLy4tWSoqKf3gAYDAwAAAAAACAMD/wANAA8AAGwAnAAABIgcOAQcGFRQXHgEXFjEwNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGAgBCOzpXGRkyMngyMjIyeDIyGRlXOjtCUHBwUFBwcAPAGRlXOjtCeH19zEFBQUHMfX14Qjs6VxkZ/gBwUFBwcFBQcAAAAQAAAAAEAAOAACsAAAEiBw4BBwYHJxEhJz4BMzIXHgEXFhUUBw4BBwYHFzY3PgE3NjU0Jy4BJyYjAgA1MjJcKSkjlgGAkDWLUFBFRmkeHgkJIhgYHlUoICAtDAwoKIteXWoDgAoLJxscI5b+gJA0PB4eaUZFUCsoKUkgIRpgIysrYjY2OWpdXosoKAABAAAAAAQAA4AAKgAAExQXHgEXFhc3JicuAScmNTQ3PgE3NjMyFhcHIREHJicuAScmIyIHDgEHBgAMDC0gIChVHhgYIgkJHh5pRkVQUIs1kAGAliMpKVwyMjVqXV6LKCgBgDk2NmIrKyNgGiEgSSkoK1BFRmkeHjw0kAGAliMcGycLCigoi15dAAAAAAIAAABABAEDAAAmAE0AABMyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+ASEyFx4BFxYVFAcOAQcGIyInLgEnJjUnNDc+ATc2MxUiBgcOAQc+AeEuKSk9ERISET0pKS4uKSk9ERIBIyN6UlFdQHUtCRAHCBICSS4pKT0REhIRPSkpLi4pKT0REgEjI3pSUV1AdS0JEAcIEgIAEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBEhE9KSkuLikpPRESEhE9KSkuIF1RUnojI4AwLggTCgIBAAAGAED/wAQAA8AAAwAHAAsAEQAdACkAACUhFSERIRUhESEVIScRIzUjNRMVMxUjNTc1IzUzFRURIzUzNSM1MzUjNQGAAoD9gAKA/YACgP2AwEBAQIDAgIDAwICAgICAgAIAgAIAgMD/AMBA/fIyQJI8MkCS7v7AQEBAQEAABgAA/8AEAAPAAAMABwALABcAIwAvAAABIRUhESEVIREhFSEBNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYRNDYzMhYVFAYjIiYBgAKA/YACgP2AAoD9gP6ASzU1S0s1NUtLNTVLSzU1S0s1NUtLNTVLA4CA/wCA/wCAA0A1S0s1NUtL/rU1S0s1NUtL/rU1S0s1NUtLAAUAAABABWADAAADAAcACwAOABEAABMhFSEVIRUhFSEVIQEXNzUnBwADgPyAA4D8gAOA/IAD4MDAwMADAMBAwEDAAUDAwEDAwAAAAAADAAAAAAQAA6AAAwANABQAADchFSElFSE1EyEVITUhJQkBIxEjEQAEAPwABAD8AIABAAEAAQD9YAEgASDggEBAwEBAAQCAgMABIP7g/wABAAAAAAACAB7/zAPiA7QAMwBkAAABIiYnJicmNDc2PwE+ATMyFhcWFxYUBwYPAQYiJyY0PwE2NCcuASMiBg8BBhQXFhQHDgEjAyImJyYnJjQ3Nj8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFxYUBwYPAQ4BIwG4ChMIIxISEhIjwCNZMTFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PCBMKuDFZIyMSEhISI1gPLA8PD1gpKRQzHBwzFMApKQ8PDysQIxISEhIjwCNZMQFECAckLS1eLS0kwCIlJSIkLS1eLS0kVxAQDysPWCl0KRQVFRTAKXQpDysQBwj+iCUiJC0tXi0tJFcQEA8rD1gpdCkUFRUUwCl0KQ8rEA8PJC0tXi0tJMAiJQAAAAAFAAD/wAQAA8AAGwA3AFMAXwBrAAAFMjc+ATc2NTQnLgEnJiMiBw4BBwYVFBceARcWEzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NhMyNz4BNzY3BgcOAQcGIyInLgEnJicWFx4BFxYnNDYzMhYVFAYjIiYlNDYzMhYVFAYjIiYCAGpdXosoKCgoi15dampdXosoKCgoi15dalZMTHEgISEgcUxMVlZMTHEgISEgcUxMVisrKlEmJiMFHBtWODc/Pzc4VhscBSMmJlEqK9UlGxslJRsbJQGAJRsbJSUbGyVAKCiLXl1qal1eiygoKCiLXl1qal1eiygoA6AhIHFMTFZWTExxICEhIHFMTFZWTExxICH+CQYGFRAQFEM6OlYYGRkYVjo6QxQQEBUGBvcoODgoKDg4KCg4OCgoODgAAAEAAAFABAACQAAPAAATFRQWMyEyNj0BNCYjISIGABMNA8ANExMN/EANEwIgwA0TEw3ADRMTAAAAAwAA/8AEAAPAABsANwBDAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyInLgEnJjU0Nz4BNzYzMhceARcWFRQHDgEHBhMHJwcXBxc3FzcnNwIAal1eiygoKCiLXl1qal1eiygoKCiLXl1qVkxMcSAhISBxTExWVkxMcSAhISBxTExKoKBgoKBgoKBgoKADwCgoi15dampdXosoKCgoi15dampdXosoKPxgISBxTExWVkxMcSAhISBxTExWVkxMcSAhAqCgoGCgoGCgoGCgoAACAAD/wAQAA8AADwAVAAABISIGFREUFjMhMjY1ETQmASc3FwEXA4D9ADVLSzUDADVLS/4L7VqTATNaA8BLNf0ANUtLNQMANUv85e5akgEyWgAAAAABAGX/wAObA8AAKQAAASImIyIHDgEHBhUUFjMuATU0NjcwBwYCBwYHFSETMzcjNx4BMzI2Nw4BAyBEaEZxU1RtGhtJSAYNZUoQEEs8PFkBPWzGLNc0LVUmLlAYHT0DsBAeHWE+P0FNOwsmN5lvA31+/sWPkCMZAgCA9gkPN2sJBwAAAAACAAAAAAQAA4AACQAXAAAlMwcnMxEjNxcjJREnIxEzFSE1MxEjBxEDgICgoICAoKCA/wBAwID+gIDAQMDAwAIAwMDA/wCA/UBAQALAgAEAAAMAwAAAA0ADgAAWAB8AKAAAAT4BNTQnLgEnJiMhESEyNz4BNzY1NCYBMzIWFRQGKwETIxEzMhYVFAYCxBwgFBRGLi81/sABgDUvLkYUFET+hGUqPDwpZp+fnyw+PgHbIlQvNS8uRhQU/IAUFEYuLzVGdAFGSzU1S/6AAQBLNTVLAAAAAAIAwAAAA0ADgAAfACMAAAEzERQHDgEHBiMiJy4BJyY1ETMRFBYXHgEzMjY3PgE1ASEVIQLAgBkZVzo7QkI7OlcZGYAbGBxJKChJHBgb/gACgP2AA4D+YDw0NU4WFxcWTjU0PAGg/mAeOBcYGxsYFzge/qCAAAAAAAEAgAAAA4ADgAALAAABFSMBMxUhNTMBIzUDgID+wID+QIABQIADgED9AEBAAwBAAAEAAAAABAADgAA9AAABFSMeARUUBgcOASMiJicuATUzFBYzMjY1NCYjITUhLgEnLgE1NDY3PgEzMhYXHgEVIzQmIyIGFRQWMzIWFwQA6xUWNTAscT4+cSwwNYByTk5yck7+AAEsAgQBMDU1MCxxPj5xLDA1gHJOTnJyTjtuKwHAQB1BIjViJCEkJCEkYjU0TEw0NExAAQMBJGI1NWIkISQkISRiNTRMTDQ0TCEfAAAACgAAAAAEAAOAAAMABwALAA8AEwAXABsAHwAjACcAABMRIREBNSEVHQEhNQEVITUjFSE1ESEVISUhFSERNSEVASEVISE1IRUABAD9gAEA/wABAP8AQP8AAQD/AAKAAQD/AAEA/IABAP8AAoABAAOA/IADgP3AwMBAwMACAMDAwMD/AMDAwAEAwMD+wMDAwAAABQAAAAAEAAOAAAMABwALAA8AEwAAEyEVIRUhFSERIRUhESEVIREhFSEABAD8AAKA/YACgP2ABAD8AAQA/AADgIBAgP8AgAFAgP8AgAAAAAAFAAAAAAQAA4AAAwAHAAsADwATAAATIRUhFyEVIREhFSEDIRUhESEVIQAEAPwAwAKA/YACgP2AwAQA/AAEAPwAA4CAQID/AIABQID/AIAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEFIRUhESEVIQEhFSERIRUhAAQA/AABgAKA/YACgP2A/oAEAPwABAD8AAOAgECA/wCAAUCA/wCAAAAAAAUAAAAABAADgAADAAcACwAPABMAABMhFSEVIRUhFSEVIRUhFSEVIRUhAAQA/AAEAPwABAD8AAQA/AAEAPwAA4CAQIBAgECAQIAAAAAGAAAAAAQAA4AAAwAHAAsADwATABYAABMhFSEFIRUhFSEVIRUhFSEFIRUhGQEFAAQA/AABgAKA/YACgP2AAoD9gP6ABAD8AAEAA4CAQIBAgECAQIABAAGAwAAAAAYAAAAABAADgAADAAcACwAPABMAFgAAEyEVIQUhFSEVIRUhFSEVIQUhFSEBESUABAD8AAGAAoD9gAKA/YACgP2A/oAEAPwAAQD/AAOAgECAQIBAgECAAoD+gMAAAQA/AD8C5gLmACwAACUUDwEGIyIvAQcGIyIvASY1ND8BJyY1ND8BNjMyHwE3NjMyHwEWFRQPARcWFQLmEE4QFxcQqKgQFxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQwxYQThAQqKgQEE4QFhcQqKgQFxcQThAQqKgQEE4QFxcQqKgQFwAAAAYAAAAAAyUDbgAUACgAPABNAFUAggAAAREUBwYrASInJjURNDc2OwEyFxYVMxEUBwYrASInJjURNDc2OwEyFxYXERQHBisBIicmNRE0NzY7ATIXFhMRIREUFxYXFjMhMjc2NzY1ASEnJicjBgcFFRQHBisBERQHBiMhIicmNREjIicmPQE0NzY7ATc2NzY7ATIXFh8BMzIXFhUBJQYFCCQIBQYGBQgkCAUGkgUFCCUIBQUFBQglCAUFkgUFCCUIBQUFBQglCAUFSf4ABAQFBAIB2wIEBAQE/oABABsEBrUGBAH3BgUINxobJv4lJhsbNwgFBQUFCLEoCBcWF7cXFhYJKLAIBQYCEv63CAUFBQUIAUkIBQYGBQj+twgFBQUFCAFJCAUGBgUI/rcIBQUFBQgBSQgFBgYF/lsCHf3jDQsKBQUFBQoLDQJmQwUCAgVVJAgGBf3jMCIjISIvAiAFBggkCAUFYBUPDw8PFWAFBQgAAgAHAEkDtwKvABoALgAACQEGIyIvASY1ND8BJyY1ND8BNjMyFwEWFRQHARUUBwYjISInJj0BNDc2MyEyFxYBTv72BgcIBR0GBuHhBgYdBQgHBgEKBgYCaQUFCP3bCAUFBQUIAiUIBQUBhf72BgYcBggHBuDhBgcHBh0FBf71BQgHBv77JQgFBQUFCCUIBQUFBQAAAAEAIwAAA90DbgCzAAAlIicmIyIHBiMiJyY1NDc2NzY3Njc2PQE0JyYjISIHBh0BFBcWFxYzFhcWFRQHBiMiJyYjIgcGIyInJjU0NzY3Njc2NzY9ARE0NTQ1NCc0JyYnJicmJyYnJiMiJyY1NDc2MzIXFjMyNzYzMhcWFRQHBiMGBwYHBh0BFBcWMyEyNzY9ATQnJicmJyY1NDc2MzIXFjMyNzYzMhcWFRQHBgciBwYHBhURFBcWFxYXMhcWFRQHBiMDwRkzMhoZMjMZDQgHCQoNDBEQChIBBxX+fhYHARUJEhMODgwLBwcOGzU1GhgxMRgNBwcJCQsMEA8JEgECAQIDBAQFCBIRDQ0KCwcHDho1NRoYMDEYDgcHCQoMDRAQCBQBBw8BkA4HARQKFxcPDgcHDhkzMhkZMTEZDgcHCgoNDRARCBQUCRERDg0KCwcHDgACAgICDAsPEQkJAQEDAwUMROAMBQMDBQzUUQ0GAQIBCAgSDwwNAgICAgwMDhEICQECAwMFDUUhAdACDQ0ICA4OCgoLCwcHAwYBAQgIEg8MDQICAgINDA8RCAgBAgEGDFC2DAcBAQcMtlAMBgEBBgcWDwwNAgICAg0MDxEICAEBAgYNT/3mRAwGAgIBCQgRDwwNAAACAAD/twP/A7cAEwA5AAABMhcWFRQHAgcGIyInJjU0NwE2MwEWFxYfARYHBiMiJyYnJicmNRYXFhcWFxYzMjc2NzY3Njc2NzY3A5soHh4avkw3RUg0NDUBbSEp/fgXJicvAQJMTHtHNjYhIRARBBMUEBASEQkXCA8SExUVHR0eHikDtxsaKCQz/plGNDU0SUkwAUsf/bErHx8NKHpNTBobLi86OkQDDw4LCwoKFiUbGhERCgsEBAIAAQAAAAAAAIWwaoFfDzz1AAsEAAAAAADbteOZAAAAANu145kAAP+3BWADwAAAAAgAAgAAAAAAAAABAAADwP/AAAAFgAAA//8FYAABAAAAAAAAAAAAAAAAAAAAKQQAAAAAAAAAAAAAAAIAAAAEAABBBAAAQQQAAAAEAAAABAAAAAQAAAAEAADABAAAAAQAAAAEAAAABAAAQAQAAAAFgAAABAAAAAQAAB4EAAAABAAAAAQAAAAEAAAABAAAZQQAAAAEAADABAAAwAQAAIAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAMlAD8DJQAAA74ABwQAACMD/wAAAAAAAAAKABQAHgBKAHYApADmAS4BkgHQAhYCXALQAw4DWAN+A6gEPgTeBPoFZAWOBdAF+AY6BnYGjgbmBy4HVgd+B6gHzgf8CCoIbgkmCXAKYgq+AAEAAAApALQACgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAHAAAAAQAAAAAAAgAHAGAAAQAAAAAAAwAHADYAAQAAAAAABAAHAHUAAQAAAAAABQALABUAAQAAAAAABgAHAEsAAQAAAAAACgAaAIoAAwABBAkAAQAOAAcAAwABBAkAAgAOAGcAAwABBAkAAwAOAD0AAwABBAkABAAOAHwAAwABBAkABQAWACAAAwABBAkABgAOAFIAAwABBAkACgA0AKRpY29tb29uAGkAYwBvAG0AbwBvAG5WZXJzaW9uIDEuMABWAGUAcgBzAGkAbwBuACAAMQAuADBpY29tb29uAGkAYwBvAG0AbwBvAG5pY29tb29uAGkAYwBvAG0AbwBvAG5SZWd1bGFyAFIAZQBnAHUAbABhAHJpY29tb29uAGkAYwBvAG0AbwBvAG5Gb250IGdlbmVyYXRlZCBieSBJY29Nb29uLgBGAG8AbgB0ACAAZwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABJAGMAbwBNAG8AbwBuAC4AAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},function(n,i,t){var u=t(20),c=t(153);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-toolbar {
  display: flex;
  padding: 0 6px;
  flex-wrap: wrap;
  position: relative;
  /* 单个菜单 */
}
.w-e-toolbar .w-e-menu {
  position: relative;
  display: flex;
  width: 40px;
  height: 40px;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
}
.w-e-toolbar .w-e-menu i {
  color: #999;
}
.w-e-toolbar .w-e-menu:hover {
  background-color: #F6F6F6;
}
.w-e-toolbar .w-e-menu:hover i {
  color: #333;
}
.w-e-toolbar .w-e-active i {
  color: #1e88e5;
}
.w-e-toolbar .w-e-active:hover i {
  color: #1e88e5;
}
.w-e-menu-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-menu-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-menu-tooltip-item-wrapper {
  font-size: 14px;
  margin: 0 5px;
}
`,""]),n.exports=i},function(n,i,t){var u=t(20),c=t(155);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-text-container {
  position: relative;
  height: 100%;
}
.w-e-text-container .w-e-progress {
  position: absolute;
  background-color: #1e88e5;
  top: 0;
  left: 0;
  height: 1px;
}
.w-e-text-container .placeholder {
  color: #D4D4D4;
  position: absolute;
  font-size: 11pt;
  line-height: 22px;
  left: 10px;
  top: 10px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  z-index: -1;
}
.w-e-text {
  padding: 0 10px;
  overflow-y: auto;
}
.w-e-text p,
.w-e-text h1,
.w-e-text h2,
.w-e-text h3,
.w-e-text h4,
.w-e-text h5,
.w-e-text table,
.w-e-text pre {
  margin: 10px 0;
  line-height: 1.5;
}
.w-e-text ul,
.w-e-text ol {
  margin: 10px 0 10px 20px;
}
.w-e-text blockquote {
  display: block;
  border-left: 8px solid #d0e5f2;
  padding: 5px 10px;
  margin: 10px 0;
  line-height: 1.4;
  font-size: 100%;
  background-color: #f1f1f1;
}
.w-e-text code {
  display: inline-block;
  background-color: #f1f1f1;
  border-radius: 3px;
  padding: 3px 5px;
  margin: 0 3px;
}
.w-e-text pre code {
  display: block;
}
.w-e-text table {
  border-top: 1px solid #ccc;
  border-left: 1px solid #ccc;
}
.w-e-text table td,
.w-e-text table th {
  border-bottom: 1px solid #ccc;
  border-right: 1px solid #ccc;
  padding: 3px 5px;
  min-height: 30px;
  height: 30px;
}
.w-e-text table th {
  border-bottom: 2px solid #ccc;
  text-align: center;
  background-color: #f1f1f1;
}
.w-e-text:focus {
  outline: none;
}
.w-e-text img {
  cursor: pointer;
}
.w-e-text img:hover {
  box-shadow: 0 0 5px #333;
}
.w-e-text .w-e-todo {
  margin: 0 0 0 20px;
}
.w-e-text .w-e-todo li {
  list-style: none;
  font-size: 1em;
}
.w-e-text .w-e-todo li span:nth-child(1) {
  position: relative;
  left: -18px;
}
.w-e-text .w-e-todo li span:nth-child(1) input {
  position: absolute;
  margin-right: 3px;
}
.w-e-text .w-e-todo li span:nth-child(1) input[type=checkbox] {
  top: 50%;
  margin-top: -6px;
}
.w-e-tooltip {
  position: absolute;
  display: flex;
  color: #f1f1f1;
  background-color: rgba(0, 0, 0, 0.75);
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 4px 5px 6px;
  justify-content: center;
  align-items: center;
}
.w-e-tooltip-up::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-top-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-down::after {
  content: "";
  position: absolute;
  bottom: 100%;
  left: 50%;
  margin-left: -5px;
  border: 5px solid rgba(0, 0, 0, 0);
  border-bottom-color: rgba(0, 0, 0, 0.73);
}
.w-e-tooltip-item-wrapper {
  cursor: pointer;
  font-size: 14px;
  margin: 0 5px;
}
.w-e-tooltip-item-wrapper:hover {
  color: #ccc;
  text-decoration: underline;
}
`,""]),n.exports=i},function(n,i,t){var u=t(20),c=t(157);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-menu .w-e-panel-container {
  position: absolute;
  top: 0;
  left: 50%;
  border: 1px solid #ccc;
  border-top: 0;
  box-shadow: 1px 1px 2px #ccc;
  color: #333;
  background-color: #fff;
  text-align: left;
  /* 为 emotion panel 定制的样式 */
  /* 上传图片、上传视频的 panel 定制样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-close {
  position: absolute;
  right: 0;
  top: 0;
  padding: 5px;
  margin: 2px 5px 0 0;
  cursor: pointer;
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-close:hover {
  color: #333;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title {
  list-style: none;
  display: flex;
  font-size: 14px;
  margin: 2px 10px 0 10px;
  border-bottom: 1px solid #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-item {
  padding: 3px 5px;
  color: #999;
  cursor: pointer;
  margin: 0 3px;
  position: relative;
  top: 1px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-title .w-e-active {
  color: #333;
  border-bottom: 1px solid #333;
  cursor: default;
  font-weight: 700;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content {
  padding: 10px 15px 10px 15px;
  font-size: 16px;
  /* 输入框的样式 */
  /* 按钮的样式 */
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus,
.w-e-menu .w-e-panel-container .w-e-panel-tab-content button:focus {
  outline: none;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea {
  width: 100%;
  border: 1px solid #ccc;
  padding: 5px;
  margin-top: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content textarea:focus {
  border-color: #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text] {
  border: none;
  border-bottom: 1px solid #ccc;
  font-size: 14px;
  height: 20px;
  color: #333;
  text-align: left;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].small {
  width: 30px;
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text].block {
  display: block;
  width: 100%;
  margin: 10px 0;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content input[type=text]:focus {
  border-bottom: 2px solid #1e88e5;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button {
  font-size: 14px;
  color: #1e88e5;
  border: none;
  padding: 5px 10px;
  background-color: #fff;
  cursor: pointer;
  border-radius: 3px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.left {
  float: left;
  margin-right: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.right {
  float: right;
  margin-left: 10px;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.gray {
  color: #999;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button.red {
  color: #c24f4a;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container button:hover {
  background-color: #f1f1f1;
}
.w-e-menu .w-e-panel-container .w-e-panel-tab-content .w-e-button-container:after {
  content: "";
  display: table;
  clear: both;
}
.w-e-menu .w-e-panel-container .w-e-emoticon-container .w-e-item {
  cursor: pointer;
  font-size: 18px;
  padding: 0 3px;
  display: inline-block;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container,
.w-e-menu .w-e-panel-container .w-e-up-video-container {
  text-align: center;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn {
  display: inline-block;
  color: #999;
  cursor: pointer;
  font-size: 60px;
  line-height: 1;
}
.w-e-menu .w-e-panel-container .w-e-up-img-container .w-e-up-btn:hover,
.w-e-menu .w-e-panel-container .w-e-up-video-container .w-e-up-btn:hover {
  color: #333;
}
`,""]),n.exports=i},function(n,i,t){var u=t(20),c=t(159);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-toolbar .w-e-droplist {
  position: absolute;
  left: 0;
  top: 0;
  background-color: #fff;
  border: 1px solid #f1f1f1;
  border-right-color: #ccc;
  border-bottom-color: #ccc;
}
.w-e-toolbar .w-e-droplist .w-e-dp-title {
  text-align: center;
  color: #999;
  line-height: 2;
  border-bottom: 1px solid #f1f1f1;
  font-size: 13px;
}
.w-e-toolbar .w-e-droplist ul.w-e-list {
  list-style: none;
  line-height: 1;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item {
  color: #333;
  padding: 5px 0;
}
.w-e-toolbar .w-e-droplist ul.w-e-list li.w-e-item:hover {
  background-color: #f1f1f1;
}
.w-e-toolbar .w-e-droplist ul.w-e-block {
  list-style: none;
  text-align: left;
  padding: 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item {
  display: inline-block;
  padding: 3px 5px;
}
.w-e-toolbar .w-e-droplist ul.w-e-block li.w-e-item:hover {
  background-color: #f1f1f1;
}
`,""]),n.exports=i},function(n,i,t){var u=t(0),c=u(t(161));Element.prototype.matches||(Element.prototype.matches=function(d){var p=this.ownerDocument.querySelectorAll(d),h=p.length;for(h;h>=0&&p.item(h)!==this;h--);return h>-1}),c.default||(window.Promise=c.default)},function(n,i,t){n.exports=t(162)},function(n,i,t){var u=t(163);n.exports=u},function(n,i,t){t(61),t(50),t(54),t(175),t(178),t(179);var u=t(9);n.exports=u.Promise},function(n,i,t){var u=t(62),c=t(49),d=function(p){return function(h,m){var b=String(c(h)),C=u(m),w=b.length,A,F;return C<0||C>=w?p?"":void 0:(A=b.charCodeAt(C),A<55296||A>56319||C+1===w||(F=b.charCodeAt(C+1))<56320||F>57343?p?b.charAt(C):A:p?b.slice(C,C+2):(A-55296<<10)+(F-56320)+65536)}};n.exports={codeAt:d(!1),charAt:d(!0)}},function(n,i,t){var u=t(8),c=t(101),d=u.WeakMap;n.exports=typeof d=="function"&&/native code/.test(c(d))},function(n,i,t){var u=t(8),c=t(19);n.exports=function(d,p){try{c(u,d,p)}catch(h){u[d]=p}return p}},function(n,i,t){var u=t(103).IteratorPrototype,c=t(77),d=t(48),p=t(36),h=t(43),m=function(){return this};n.exports=function(b,C,w){var A=C+" Iterator";return b.prototype=c(u,{next:d(1,w)}),p(b,A,!1,!0),h[A]=m,b}},function(n,i,t){var u=t(11);n.exports=!u(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},function(n,i,t){var u=t(14),c=t(18),d=t(25),p=t(52);n.exports=u?Object.defineProperties:function(h,m){d(h);for(var b=p(m),C=b.length,w=0,A;C>w;)c.f(h,A=b[w++],m[A]);return h}},function(n,i,t){var u=t(81),c=t(65);n.exports=u?{}.toString:function(){return"[object "+c(this)+"]"}},function(n,i,t){var u=t(25),c=t(172);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,p={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(p,[]),d=p instanceof Array}catch(m){}return function(m,b){return u(m),c(b),d?h.call(m,b):m.__proto__=b,m}}():void 0)},function(n,i,t){var u=t(13);n.exports=function(c){if(!u(c)&&c!==null)throw TypeError("Can't set "+String(c)+" as a prototype");return c}},function(n,i,t){var u=t(28),c=t(82),d=t(43),p=t(41),h=t(75),m="Array Iterator",b=p.set,C=p.getterFor(m);n.exports=h(Array,"Array",function(w,A){b(this,{type:m,target:u(w),index:0,kind:A})},function(){var w=C(this),A=w.target,F=w.kind,v=w.index++;return!A||v>=A.length?(w.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:v,done:!1}:F=="values"?{value:A[v],done:!1}:{value:[v,A[v]],done:!1}},"values"),d.Arguments=d.Array,c("keys"),c("values"),c("entries")},function(n,i){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,i,t){var u=t(5),c=t(42),d=t(8),p=t(35),h=t(108),m=t(53),b=t(109),C=t(36),w=t(110),A=t(13),F=t(40),v=t(83),B=t(33),E=t(101),g=t(66),_=t(114),x=t(115),D=t(116).set,O=t(176),L=t(118),P=t(177),R=t(85),T=t(119),$=t(41),I=t(100),z=t(10),M=t(86),Q=z("species"),Y="Promise",U=$.get,X=$.set,J=$.getterFor(Y),ee=h,ae=d.TypeError,de=d.document,se=d.process,ye=p("fetch"),ie=R.f,oe=ie,le=B(se)=="process",pe=!!(de&&de.createEvent&&d.dispatchEvent),je="unhandledrejection",Oe="rejectionhandled",Ve=0,Qt=1,An=2,ft=1,It=2,$t,Ne,Wt,Ln,tn=I(Y,function(){var we=E(ee)!==String(ee);if(!we&&(M===66||!le&&typeof PromiseRejectionEvent!="function")||c&&!ee.prototype.finally)return!0;if(M>=51&&/native code/.test(ee))return!1;var ge=ee.resolve(1),Te=function(fe){fe(function(){},function(){})},ke=ge.constructor={};return ke[Q]=Te,!(ge.then(function(){})instanceof Te)}),wr=tn||!_(function(we){ee.all(we).catch(function(){})}),Qn=function(we){var ge;return A(we)&&typeof(ge=we.then)=="function"?ge:!1},bn=function(we,ge,Te){if(!ge.notified){ge.notified=!0;var ke=ge.reactions;O(function(){for(var fe=ge.value,ne=ge.state==Qt,Be=0;ke.length>Be;){var xe=ke[Be++],Me=ne?xe.ok:xe.fail,Qe=xe.resolve,Cn=xe.reject,nt=xe.domain,at,mt,Gn;try{Me?(ne||(ge.rejection===It&&kn(we,ge),ge.rejection=ft),Me===!0?at=fe:(nt&&nt.enter(),at=Me(fe),nt&&(nt.exit(),Gn=!0)),at===xe.promise?Cn(ae("Promise-chain cycle")):(mt=Qn(at))?mt.call(at,Qe,Cn):Qe(at)):Cn(fe)}catch(Jr){nt&&!Gn&&nt.exit(),Cn(Jr)}}ge.reactions=[],ge.notified=!1,Te&&!ge.rejection&&Wn(we,ge)})}},En=function(we,ge,Te){var ke,fe;pe?(ke=de.createEvent("Event"),ke.promise=ge,ke.reason=Te,ke.initEvent(we,!1,!0),d.dispatchEvent(ke)):ke={promise:ge,reason:Te},(fe=d["on"+we])?fe(ke):we===je&&P("Unhandled promise rejection",Te)},Wn=function(we,ge){D.call(d,function(){var Te=ge.value,ke=wn(ge),fe;if(ke&&(fe=T(function(){le?se.emit("unhandledRejection",Te,we):En(je,we,Te)}),ge.rejection=le||wn(ge)?It:ft,fe.error))throw fe.value})},wn=function(we){return we.rejection!==ft&&!we.parent},kn=function(we,ge){D.call(d,function(){le?se.emit("rejectionHandled",we):En(Oe,we,ge.value)})},Ct=function(we,ge,Te,ke){return function(fe){we(ge,Te,fe,ke)}},Ke=function(we,ge,Te,ke){ge.done||(ge.done=!0,ke&&(ge=ke),ge.value=Te,ge.state=An,bn(we,ge,!0))},dn=function we(ge,Te,ke,fe){if(!Te.done){Te.done=!0,fe&&(Te=fe);try{if(ge===ke)throw ae("Promise can't be resolved itself");var ne=Qn(ke);ne?O(function(){var Be={done:!1};try{ne.call(ke,Ct(we,ge,Be,Te),Ct(Ke,ge,Be,Te))}catch(xe){Ke(ge,Be,xe,Te)}}):(Te.value=ke,Te.state=Qt,bn(ge,Te,!1))}catch(Be){Ke(ge,{done:!1},Be,Te)}}};tn&&(ee=function(we){v(this,ee,Y),F(we),$t.call(this);var ge=U(this);try{we(Ct(dn,this,ge),Ct(Ke,this,ge))}catch(Te){Ke(this,ge,Te)}},$t=function(we){X(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ve,value:void 0})},$t.prototype=b(ee.prototype,{then:function(we,ge){var Te=J(this),ke=ie(x(this,ee));return ke.ok=typeof we=="function"?we:!0,ke.fail=typeof ge=="function"&&ge,ke.domain=le?se.domain:void 0,Te.parent=!0,Te.reactions.push(ke),Te.state!=Ve&&bn(this,Te,!1),ke.promise},catch:function(we){return this.then(void 0,we)}}),Ne=function(){var we=new $t,ge=U(we);this.promise=we,this.resolve=Ct(dn,we,ge),this.reject=Ct(Ke,we,ge)},R.f=ie=function(we){return we===ee||we===Wt?new Ne(we):oe(we)},!c&&typeof h=="function"&&(Ln=h.prototype.then,m(h.prototype,"then",function(we,ge){var Te=this;return new ee(function(ke,fe){Ln.call(Te,ke,fe)}).then(we,ge)},{unsafe:!0}),typeof ye=="function"&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(we){return L(ee,ye.apply(d,arguments))}}))),u({global:!0,wrap:!0,forced:tn},{Promise:ee}),C(ee,Y,!1,!0),w(Y),Wt=p(Y),u({target:Y,stat:!0,forced:tn},{reject:function(we){var ge=ie(this);return ge.reject.call(void 0,we),ge.promise}}),u({target:Y,stat:!0,forced:c||tn},{resolve:function(we){return L(c&&this===Wt?ee:this,we)}}),u({target:Y,stat:!0,forced:wr},{all:function(we){var ge=this,Te=ie(ge),ke=Te.resolve,fe=Te.reject,ne=T(function(){var Be=F(ge.resolve),xe=[],Me=0,Qe=1;g(we,function(Cn){var nt=Me++,at=!1;xe.push(void 0),Qe++,Be.call(ge,Cn).then(function(mt){at||(at=!0,xe[nt]=mt,--Qe||ke(xe))},fe)}),--Qe||ke(xe)});return ne.error&&fe(ne.value),Te.promise},race:function(we){var ge=this,Te=ie(ge),ke=Te.reject,fe=T(function(){var ne=F(ge.resolve);g(we,function(Be){ne.call(ge,Be).then(Te.resolve,ke)})});return fe.error&&ke(fe.value),Te.promise}})},function(n,i,t){var u=t(8),c=t(71).f,d=t(33),p=t(116).set,h=t(117),m=u.MutationObserver||u.WebKitMutationObserver,b=u.process,C=u.Promise,w=d(b)=="process",A=c(u,"queueMicrotask"),F=A&&A.value,v,B,E,g,_,x,D,O;F||(v=function(){var L,P;for(w&&(L=b.domain)&&L.exit();B;){P=B.fn,B=B.next;try{P()}catch(R){throw B?g():E=void 0,R}}E=void 0,L&&L.enter()},w?g=function(){b.nextTick(v)}:m&&!h?(_=!0,x=document.createTextNode(""),new m(v).observe(x,{characterData:!0}),g=function(){x.data=_=!_}):C&&C.resolve?(D=C.resolve(void 0),O=D.then,g=function(){O.call(D,v)}):g=function(){p.call(u,v)}),n.exports=F||function(L){var P={fn:L,next:void 0};E&&(E.next=P),B||(B=P,g()),E=P}},function(n,i,t){var u=t(8);n.exports=function(c,d){var p=u.console;p&&p.error&&(arguments.length===1?p.error(c):p.error(c,d))}},function(n,i,t){var u=t(5),c=t(40),d=t(85),p=t(119),h=t(66);u({target:"Promise",stat:!0},{allSettled:function(m){var b=this,C=d.f(b),w=C.resolve,A=C.reject,F=p(function(){var v=c(b.resolve),B=[],E=0,g=1;h(m,function(_){var x=E++,D=!1;B.push(void 0),g++,v.call(b,_).then(function(O){D||(D=!0,B[x]={status:"fulfilled",value:O},--g||w(B))},function(O){D||(D=!0,B[x]={status:"rejected",reason:O},--g||w(B))})}),--g||w(B)});return F.error&&A(F.value),C.promise}})},function(n,i,t){var u=t(5),c=t(42),d=t(108),p=t(11),h=t(35),m=t(115),b=t(118),C=t(53),w=!!d&&p(function(){d.prototype.finally.call({then:function(){}},function(){})});u({target:"Promise",proto:!0,real:!0,forced:w},{finally:function(A){var F=m(this,h("Promise")),v=typeof A=="function";return this.then(v?function(B){return b(F,A()).then(function(){return B})}:A,v?function(B){return b(F,A()).then(function(){throw B})}:A)}}),!c&&typeof d=="function"&&!d.prototype.finally&&C(d.prototype,"finally",h("Promise").prototype.finally)},function(n,i,t){t(54);var u=t(181),c=t(65),d=Array.prototype,p={DOMTokenList:!0,NodeList:!0};n.exports=function(h){var m=h.forEach;return h===d||h instanceof Array&&m===d.forEach||p.hasOwnProperty(c(h))?u:m}},function(n,i,t){var u=t(182);n.exports=u},function(n,i,t){t(183);var u=t(15);n.exports=u("Array").forEach},function(n,i,t){var u=t(5),c=t(184);u({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})},function(n,i,t){var u=t(30).forEach,c=t(67),d=t(22),p=c("forEach"),h=d("forEach");n.exports=!p||!h?function(m){return u(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(n,i,t){var u=t(186);n.exports=u},function(n,i,t){t(187);var u=t(9);n.exports=u.Array.isArray},function(n,i,t){var u=t(5),c=t(55);u({target:"Array",stat:!0},{isArray:c})},function(n,i,t){var u=t(189);n.exports=u},function(n,i,t){var u=t(190),c=Array.prototype;n.exports=function(d){var p=d.map;return d===c||d instanceof Array&&p===c.map?u:p}},function(n,i,t){t(191);var u=t(15);n.exports=u("Array").map},function(n,i,t){var u=t(5),c=t(30).map,d=t(56),p=t(22),h=d("map"),m=p("map");u({target:"Array",proto:!0,forced:!h||!m},{map:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(193);n.exports=u},function(n,i,t){var u=t(194),c=String.prototype;n.exports=function(d){var p=d.trim;return typeof d=="string"||d===c||d instanceof String&&p===c.trim?u:p}},function(n,i,t){t(195);var u=t(15);n.exports=u("String").trim},function(n,i,t){var u=t(5),c=t(90).trim,d=t(196);u({target:"String",proto:!0,forced:d("trim")},{trim:function(){return c(this)}})},function(n,i,t){var u=t(11),c=t(68),d="​᠎";n.exports=function(p){return u(function(){return!!c[p]()||d[p]()!=d||c[p].name!==p})}},function(n,i,t){var u=t(198);n.exports=u},function(n,i,t){t(199),t(61),t(50),t(54);var u=t(9);n.exports=u.Map},function(n,i,t){var u=t(121),c=t(123);n.exports=u("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},c)},function(n,i,t){var u=t(11);n.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,i,t){var u=t(202);n.exports=u},function(n,i,t){var u=t(203),c=Array.prototype;n.exports=function(d){var p=d.indexOf;return d===c||d instanceof Array&&p===c.indexOf?u:p}},function(n,i,t){t(204);var u=t(15);n.exports=u("Array").indexOf},function(n,i,t){var u=t(5),c=t(78).indexOf,d=t(67),p=t(22),h=[].indexOf,m=!!h&&1/[1].indexOf(1,-0)<0,b=d("indexOf"),C=p("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:m||!b||!C},{indexOf:function(w){return m?h.apply(this,arguments)||0:c(this,w,arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(206);n.exports=u},function(n,i,t){var u=t(207),c=Array.prototype;n.exports=function(d){var p=d.splice;return d===c||d instanceof Array&&p===c.splice?u:p}},function(n,i,t){t(208);var u=t(15);n.exports=u("Array").splice},function(n,i,t){var u=t(5),c=t(79),d=t(62),p=t(34),h=t(29),m=t(88),b=t(69),C=t(56),w=t(22),A=C("splice"),F=w("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,B=Math.min,E=9007199254740991,g="Maximum allowed length exceeded";u({target:"Array",proto:!0,forced:!A||!F},{splice:function(_,x){var D=h(this),O=p(D.length),L=c(_,O),P=arguments.length,R,T,$,I,z,M;if(P===0?R=T=0:P===1?(R=0,T=O-L):(R=P-2,T=B(v(d(x),0),O-L)),O+R-T>E)throw TypeError(g);for($=m(D,T),I=0;I<T;I++)z=L+I,z in D&&b($,I,D[z]);if($.length=T,R<T){for(I=L;I<O-T;I++)z=I+T,M=I+R,z in D?D[M]=D[z]:delete D[M];for(I=O;I>O-T+R;I--)delete D[I-1]}else if(R>T)for(I=O-T;I>L;I--)z=I+T-1,M=I+R-1,z in D?D[M]=D[z]:delete D[M];for(I=0;I<R;I++)D[I+L]=arguments[I+2];return D.length=O-T+R,$}})},function(n,i,t){var u=t(210);n.exports=u},function(n,i,t){var u=t(211),c=Array.prototype;n.exports=function(d){var p=d.filter;return d===c||d instanceof Array&&p===c.filter?u:p}},function(n,i,t){t(212);var u=t(15);n.exports=u("Array").filter},function(n,i,t){var u=t(5),c=t(30).filter,d=t(56),p=t(22),h=d("filter"),m=p("filter");u({target:"Array",proto:!0,forced:!h||!m},{filter:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(214);n.exports=u},function(n,i,t){var u=t(215),c=t(217),d=Array.prototype,p=String.prototype;n.exports=function(h){var m=h.includes;return h===d||h instanceof Array&&m===d.includes?u:typeof h=="string"||h===p||h instanceof String&&m===p.includes?c:m}},function(n,i,t){t(216);var u=t(15);n.exports=u("Array").includes},function(n,i,t){var u=t(5),c=t(78).includes,d=t(82),p=t(22),h=p("indexOf",{ACCESSORS:!0,1:0});u({target:"Array",proto:!0,forced:!h},{includes:function(m){return c(this,m,arguments.length>1?arguments[1]:void 0)}}),d("includes")},function(n,i,t){t(218);var u=t(15);n.exports=u("String").includes},function(n,i,t){var u=t(5),c=t(219),d=t(49),p=t(221);u({target:"String",proto:!0,forced:!p("includes")},{includes:function(h){return!!~String(d(this)).indexOf(c(h),arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(220);n.exports=function(c){if(u(c))throw TypeError("The method doesn't accept regular expressions");return c}},function(n,i,t){var u=t(13),c=t(33),d=t(10),p=d("match");n.exports=function(h){var m;return u(h)&&((m=h[p])!==void 0?!!m:c(h)=="RegExp")}},function(n,i,t){var u=t(10),c=u("match");n.exports=function(d){var p=/./;try{"/./"[d](p)}catch(h){try{return p[c]=!1,"/./"[d](p)}catch(m){}}return!1}},function(n,i,t){var u=t(223);n.exports=u},function(n,i,t){var u=t(224),c=Function.prototype;n.exports=function(d){var p=d.bind;return d===c||d instanceof Function&&p===c.bind?u:p}},function(n,i,t){t(225);var u=t(15);n.exports=u("Function").bind},function(n,i,t){var u=t(5),c=t(226);u({target:"Function",proto:!0},{bind:c})},function(n,i,t){var u=t(40),c=t(13),d=[].slice,p={},h=function(m,b,C){if(!(b in p)){for(var w=[],A=0;A<b;A++)w[A]="a["+A+"]";p[b]=Function("C,a","return new C("+w.join(",")+")")}return p[b](m,C)};n.exports=Function.bind||function(m){var b=u(this),C=d.call(arguments,1),w=function(){var A=C.concat(d.call(arguments));return this instanceof w?h(b,A.length,A):b.apply(m,A)};return c(b.prototype)&&(w.prototype=b.prototype),w}},function(n,i,t){n.exports=t(228)},function(n,i,t){var u=t(229);n.exports=u},function(n,i,t){t(124),t(50),t(54);var u=t(93);n.exports=u.f("iterator")},function(n,i,t){n.exports=t(231)},function(n,i,t){var u=t(232);t(251),t(252),t(253),t(254),t(255),n.exports=u},function(n,i,t){t(233),t(61),t(234),t(236),t(237),t(238),t(239),t(124),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(249),t(250);var u=t(9);n.exports=u.Symbol},function(n,i,t){var u=t(5),c=t(11),d=t(55),p=t(13),h=t(29),m=t(34),b=t(69),C=t(88),w=t(56),A=t(10),F=t(86),v=A("isConcatSpreadable"),B=9007199254740991,E="Maximum allowed index exceeded",g=F>=51||!c(function(){var O=[];return O[v]=!1,O.concat()[0]!==O}),_=w("concat"),x=function(O){if(!p(O))return!1;var L=O[v];return L!==void 0?!!L:d(O)},D=!g||!_;u({target:"Array",proto:!0,forced:D},{concat:function(O){var L=h(this),P=C(L,0),R=0,T,$,I,z,M;for(T=-1,I=arguments.length;T<I;T++)if(M=T===-1?L:arguments[T],x(M)){if(z=m(M.length),R+z>B)throw TypeError(E);for($=0;$<z;$++,R++)$ in M&&b(P,R,M[$])}else{if(R>=B)throw TypeError(E);b(P,R++,M)}return P.length=R,P}})},function(n,i,t){var u=t(5),c=t(8),d=t(35),p=t(42),h=t(14),m=t(76),b=t(105),C=t(11),w=t(16),A=t(55),F=t(13),v=t(25),B=t(29),E=t(28),g=t(60),_=t(48),x=t(77),D=t(52),O=t(125),L=t(235),P=t(126),R=t(71),T=t(18),$=t(59),I=t(19),z=t(53),M=t(74),Q=t(63),Y=t(51),U=t(64),X=t(10),J=t(93),ee=t(12),ae=t(36),de=t(41),se=t(30).forEach,ye=Q("hidden"),ie="Symbol",oe="prototype",le=X("toPrimitive"),pe=de.set,je=de.getterFor(ie),Oe=Object[oe],Ve=c.Symbol,Qt=d("JSON","stringify"),An=R.f,ft=T.f,It=L.f,$t=$.f,Ne=M("symbols"),Wt=M("op-symbols"),Ln=M("string-to-symbol-registry"),tn=M("symbol-to-string-registry"),wr=M("wks"),Qn=c.QObject,bn=!Qn||!Qn[oe]||!Qn[oe].findChild,En=h&&C(function(){return x(ft({},"a",{get:function(){return ft(this,"a",{value:7}).a}})).a!=7})?function(fe,ne,Be){var xe=An(Oe,ne);xe&&delete Oe[ne],ft(fe,ne,Be),xe&&fe!==Oe&&ft(Oe,ne,xe)}:ft,Wn=function(fe,ne){var Be=Ne[fe]=x(Ve[oe]);return pe(Be,{type:ie,tag:fe,description:ne}),h||(Be.description=ne),Be},wn=b?function(fe){return Ot(fe)=="symbol"}:function(fe){return Object(fe)instanceof Ve},kn=function(fe,ne,Be){fe===Oe&&kn(Wt,ne,Be),v(fe);var xe=g(ne,!0);return v(Be),w(Ne,xe)?(Be.enumerable?(w(fe,ye)&&fe[ye][xe]&&(fe[ye][xe]=!1),Be=x(Be,{enumerable:_(0,!1)})):(w(fe,ye)||ft(fe,ye,_(1,{})),fe[ye][xe]=!0),En(fe,xe,Be)):ft(fe,xe,Be)},Ct=function(fe,ne){v(fe);var Be=E(ne),xe=D(Be).concat(Te(Be));return se(xe,function(Me){(!h||dn.call(Be,Me))&&kn(fe,Me,Be[Me])}),fe},Ke=function(fe,ne){return ne===void 0?x(fe):Ct(x(fe),ne)},dn=function(fe){var ne=g(fe,!0),Be=$t.call(this,ne);return this===Oe&&w(Ne,ne)&&!w(Wt,ne)?!1:Be||!w(this,ne)||!w(Ne,ne)||w(this,ye)&&this[ye][ne]?Be:!0},we=function(fe,ne){var Be=E(fe),xe=g(ne,!0);if(!(Be===Oe&&w(Ne,xe)&&!w(Wt,xe))){var Me=An(Be,xe);return Me&&w(Ne,xe)&&!(w(Be,ye)&&Be[ye][xe])&&(Me.enumerable=!0),Me}},ge=function(fe){var ne=It(E(fe)),Be=[];return se(ne,function(xe){!w(Ne,xe)&&!w(Y,xe)&&Be.push(xe)}),Be},Te=function(fe){var ne=fe===Oe,Be=It(ne?Wt:E(fe)),xe=[];return se(Be,function(Me){w(Ne,Me)&&(!ne||w(Oe,Me))&&xe.push(Ne[Me])}),xe};if(m||(Ve=function(){if(this instanceof Ve)throw TypeError("Symbol is not a constructor");var fe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ne=U(fe),Be=function xe(Me){this===Oe&&xe.call(Wt,Me),w(this,ye)&&w(this[ye],ne)&&(this[ye][ne]=!1),En(this,ne,_(1,Me))};return h&&bn&&En(Oe,ne,{configurable:!0,set:Be}),Wn(ne,fe)},z(Ve[oe],"toString",function(){return je(this).tag}),z(Ve,"withoutSetter",function(fe){return Wn(U(fe),fe)}),$.f=dn,T.f=kn,R.f=we,O.f=L.f=ge,P.f=Te,J.f=function(fe){return Wn(X(fe),fe)},h&&(ft(Ve[oe],"description",{configurable:!0,get:function(){return je(this).description}}),p||z(Oe,"propertyIsEnumerable",dn,{unsafe:!0}))),u({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:Ve}),se(D(wr),function(fe){ee(fe)}),u({target:ie,stat:!0,forced:!m},{for:function(fe){var ne=String(fe);if(w(Ln,ne))return Ln[ne];var Be=Ve(ne);return Ln[ne]=Be,tn[Be]=ne,Be},keyFor:function(fe){if(!wn(fe))throw TypeError(fe+" is not a symbol");if(w(tn,fe))return tn[fe]},useSetter:function(){bn=!0},useSimple:function(){bn=!1}}),u({target:"Object",stat:!0,forced:!m,sham:!h},{create:Ke,defineProperty:kn,defineProperties:Ct,getOwnPropertyDescriptor:we}),u({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:ge,getOwnPropertySymbols:Te}),u({target:"Object",stat:!0,forced:C(function(){P.f(1)})},{getOwnPropertySymbols:function(fe){return P.f(B(fe))}}),Qt){var ke=!m||C(function(){var fe=Ve();return Qt([fe])!="[null]"||Qt({a:fe})!="{}"||Qt(Object(fe))!="{}"});u({target:"JSON",stat:!0,forced:ke},{stringify:function(fe,ne,Be){for(var xe=[fe],Me=1,Qe;arguments.length>Me;)xe.push(arguments[Me++]);if(Qe=ne,!(!F(ne)&&fe===void 0||wn(fe)))return A(ne)||(ne=function(Cn,nt){if(typeof Qe=="function"&&(nt=Qe.call(this,Cn,nt)),!wn(nt))return nt}),xe[1]=ne,Qt.apply(null,xe)}})}Ve[oe][le]||I(Ve[oe],le,Ve[oe].valueOf),ae(Ve,ie),Y[ye]=!0},function(n,i,t){var u=t(28),c=t(125).f,d={}.toString,p=(typeof window>"u"?"undefined":Ot(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(m){try{return c(m)}catch(b){return p.slice()}};n.exports.f=function(m){return p&&d.call(m)=="[object Window]"?h(m):c(u(m))}},function(n,i,t){var u=t(12);u("asyncIterator")},function(n,i){},function(n,i,t){var u=t(12);u("hasInstance")},function(n,i,t){var u=t(12);u("isConcatSpreadable")},function(n,i,t){var u=t(12);u("match")},function(n,i,t){var u=t(12);u("matchAll")},function(n,i,t){var u=t(12);u("replace")},function(n,i,t){var u=t(12);u("search")},function(n,i,t){var u=t(12);u("species")},function(n,i,t){var u=t(12);u("split")},function(n,i,t){var u=t(12);u("toPrimitive")},function(n,i,t){var u=t(12);u("toStringTag")},function(n,i,t){var u=t(12);u("unscopables")},function(n,i,t){var u=t(36);u(Math,"Math",!0)},function(n,i,t){var u=t(8),c=t(36);c(u.JSON,"JSON",!0)},function(n,i,t){var u=t(12);u("asyncDispose")},function(n,i,t){var u=t(12);u("dispose")},function(n,i,t){var u=t(12);u("observable")},function(n,i,t){var u=t(12);u("patternMatch")},function(n,i,t){var u=t(12);u("replaceAll")},function(n,i,t){n.exports=t(257)},function(n,i,t){var u=t(258);n.exports=u},function(n,i,t){t(259);var u=t(9);n.exports=u.parseInt},function(n,i,t){var u=t(5),c=t(260);u({global:!0,forced:parseInt!=c},{parseInt:c})},function(n,i,t){var u=t(8),c=t(90).trim,d=t(68),p=u.parseInt,h=/^[+-]?0[Xx]/,m=p(d+"08")!==8||p(d+"0x16")!==22;n.exports=m?function(b,C){var w=c(String(b));return p(w,C>>>0||(h.test(w)?16:10))}:p},function(n,i,t){var u=t(262);n.exports=u},function(n,i,t){var u=t(263),c=Array.prototype;n.exports=function(d){var p=d.slice;return d===c||d instanceof Array&&p===c.slice?u:p}},function(n,i,t){t(264);var u=t(15);n.exports=u("Array").slice},function(n,i,t){var u=t(5),c=t(13),d=t(55),p=t(79),h=t(34),m=t(28),b=t(69),C=t(10),w=t(56),A=t(22),F=w("slice"),v=A("slice",{ACCESSORS:!0,0:0,1:2}),B=C("species"),E=[].slice,g=Math.max;u({target:"Array",proto:!0,forced:!F||!v},{slice:function(_,x){var D=m(this),O=h(D.length),L=p(_,O),P=p(x===void 0?O:x,O),R,T,$;if(d(D)&&(R=D.constructor,typeof R=="function"&&(R===Array||d(R.prototype))?R=void 0:c(R)&&(R=R[B],R===null&&(R=void 0)),R===Array||R===void 0))return E.call(D,L,P);for(T=new(R===void 0?Array:R)(g(P-L,0)),$=0;L<P;L++,$++)L in D&&b(T,$,D[L]);return T.length=$,T}})},function(n,i,t){t(266);var u=t(9);n.exports=u.setTimeout},function(n,i,t){var u=t(5),c=t(8),d=t(84),p=[].slice,h=/MSIE .\./.test(d),m=function(b){return function(C,w){var A=arguments.length>2,F=A?p.call(arguments,2):void 0;return b(A?function(){(typeof C=="function"?C:Function(C)).apply(this,F)}:C,w)}};u({global:!0,bind:!0,forced:h},{setTimeout:m(c.setTimeout),setInterval:m(c.setInterval)})},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(127));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(272)),m=p.__importDefault(t(273)),b=p.__importDefault(t(128)),C=p.__importDefault(t(274)),w=p.__importDefault(t(275)),A=p.__importDefault(t(276)),F=p.__importDefault(t(129)),v=p.__importDefault(t(277)),B=p.__importDefault(t(278)),E=p.__importDefault(t(279)),g=(0,d.default)({},h.default,m.default,b.default,w.default,C.default,A.default,F.default,v.default,B.default,E.default,{linkCheck:function(_,x){return!0}});i.default=g},function(n,i,t){var u=t(269);n.exports=u},function(n,i,t){t(270);var u=t(9);n.exports=u.Object.assign},function(n,i,t){var u=t(5),c=t(271);u({target:"Object",stat:!0,forced:Object.assign!==c},{assign:c})},function(n,i,t){var u=t(14),c=t(11),d=t(52),p=t(126),h=t(59),m=t(29),b=t(72),C=Object.assign,w=Object.defineProperty;n.exports=!C||c(function(){if(u&&C({b:1},C(w({},"a",{enumerable:!0,get:function(){w(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var A={},F={},v=Symbol(),B="abcdefghijklmnopqrst";return A[v]=7,B.split("").forEach(function(E){F[E]=E}),C({},A)[v]!=7||d(C({},F)).join("")!=B})?function(A,F){for(var v=m(A),B=arguments.length,E=1,g=p.f,_=h.f;B>E;)for(var x=b(arguments[E++]),D=g?d(x).concat(g(x)):d(x),O=D.length,L=0,P;O>L;)P=D[L++],(!u||_.call(x,P))&&(v[P]=x[P]);return v}:C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={menus:["head","bold","fontSize","fontName","italic","underline","strikeThrough","indent","lineHeight","foreColor","backColor","link","list","todo","justify","quote","emoticon","image","video","table","code","splitLine","undo","redo"],fontNames:["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"],fontSizes:{"x-small":{name:"10px",value:"1"},small:{name:"13px",value:"2"},normal:{name:"16px",value:"3"},large:{name:"18px",value:"4"},"x-large":{name:"24px",value:"5"},"xx-large":{name:"32px",value:"6"},"xxx-large":{name:"48px",value:"7"}},colors:["#000000","#ffffff","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b"],languageType:["Bash","C","C#","C++","CSS","Java","JavaScript","JSON","TypeScript","Plain text","Html","XML","SQL","Go","Kotlin","Lua","Markdown","PHP","Python","Shell Session","Ruby"],languageTab:"　　　　",emotions:[{title:"表情",type:"emoji",content:"😀 😃 😄 😁 😆 😅 😂 🤣 😊 😇 🙂 🙃 😉 😌 😍 😘 😗 😙 😚 😋 😛 😝 😜 🤓 😎 😏 😒 😞 😔 😟 😕 🙁 😣 😖 😫 😩 😢 😭 😤 😠 😡 😳 😱 😨 🤗 🤔 😶 😑 😬 🙄 😯 😴 😷 🤑 😈 🤡 💩 👻 💀 👀 👣".split(/\s/)},{title:"手势",type:"emoji",content:"👐 🙌 👏 🤝 👍 👎 👊 ✊ 🤛 🤜 🤞 ✌️ 🤘 👌 👈 👉 👆 👇 ☝️ ✋ 🤚 🖐 🖖 👋 🤙 💪 🖕 ✍️ 🙏".split(/\s/)}],lineHeights:["1","1.15","1.6","2","2.5","3"],undoLimit:20,indentation:"2em",showMenuTooltips:!0,menuTooltipPosition:"up"}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(7);function p(h,m,b){window.alert(h),b&&console.error("wangEditor: "+b)}i.default={onchangeTimeout:200,onchange:null,onfocus:d.EMPTY_FN,onblur:d.EMPTY_FN,onCatalogChange:null,customAlert:p}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={pasteFilterStyle:!0,pasteIgnoreImg:!1,pasteTextHandle:function(d){return d}}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={styleWithCSS:!1}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(7);i.default={linkImgCheck:function(p,h,m){return!0},showLinkImg:!0,showLinkImgAlt:!0,showLinkImgHref:!0,linkImgCallback:d.EMPTY_FN,uploadImgAccept:["jpg","jpeg","png","gif","bmp"],uploadImgServer:"",uploadImgShowBase64:!1,uploadImgMaxSize:5*1024*1024,uploadImgMaxLength:100,uploadFileName:"",uploadImgParams:{},uploadImgParamsWithUrl:!1,uploadImgHeaders:{},uploadImgHooks:{},uploadImgTimeout:10*1e3,withCredentials:!1,customUploadImg:null,uploadImgFromMedia:null}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.default={lang:"zh-CN",languages:{"zh-CN":{wangEditor:{重置:"重置",插入:"插入",默认:"默认",创建:"创建",修改:"修改",如:"如",请输入正文:"请输入正文",menus:{title:{标题:"标题",加粗:"加粗",字号:"字号",字体:"字体",斜体:"斜体",下划线:"下划线",删除线:"删除线",缩进:"缩进",行高:"行高",文字颜色:"文字颜色",背景色:"背景色",链接:"链接",序列:"序列",对齐:"对齐",引用:"引用",表情:"表情",图片:"图片",视频:"视频",表格:"表格",代码:"代码",分割线:"分割线",恢复:"恢复",撤销:"撤销",全屏:"全屏",取消全屏:"取消全屏",待办事项:"待办事项"},dropListMenu:{设置标题:"设置标题",背景颜色:"背景颜色",文字颜色:"文字颜色",设置字号:"设置字号",设置字体:"设置字体",设置缩进:"设置缩进",对齐方式:"对齐方式",设置行高:"设置行高",序列:"序列",head:{正文:"正文"},indent:{增加缩进:"增加缩进",减少缩进:"减少缩进"},justify:{靠左:"靠左",居中:"居中",靠右:"靠右",两端:"两端"},list:{无序列表:"无序列表",有序列表:"有序列表"}},panelMenus:{emoticon:{默认:"默认",新浪:"新浪",emoji:"emoji",手势:"手势"},image:{上传图片:"上传图片",网络图片:"网络图片",图片地址:"图片地址",图片文字说明:"图片文字说明",跳转链接:"跳转链接"},link:{链接:"链接",链接文字:"链接文字",取消链接:"取消链接",查看链接:"查看链接"},video:{插入视频:"插入视频",上传视频:"上传视频"},table:{行:"行",列:"列",的:"的",表格:"表格",添加行:"添加行",删除行:"删除行",添加列:"添加列",删除列:"删除列",设置表头:"设置表头",取消表头:"取消表头",插入表格:"插入表格",删除表格:"删除表格"},code:{删除代码:"删除代码",修改代码:"修改代码",插入代码:"插入代码"}}},validate:{张图片:"张图片",大于:"大于",图片链接:"图片链接",不是图片:"不是图片",返回结果:"返回结果",上传图片超时:"上传图片超时",上传图片错误:"上传图片错误",上传图片失败:"上传图片失败",插入图片错误:"插入图片错误",一次最多上传:"一次最多上传",下载链接失败:"下载链接失败",图片验证未通过:"图片验证未通过",服务器返回状态:"服务器返回状态",上传图片返回结果错误:"上传图片返回结果错误",请替换为支持的图片类型:"请替换为支持的图片类型",您插入的网络图片无法识别:"您插入的网络图片无法识别",您刚才插入的图片链接未通过编辑器校验:"您刚才插入的图片链接未通过编辑器校验",插入视频错误:"插入视频错误",视频链接:"视频链接",不是视频:"不是视频",视频验证未通过:"视频验证未通过",个视频:"个视频",上传视频超时:"上传视频超时",上传视频错误:"上传视频错误",上传视频失败:"上传视频失败",上传视频返回结果错误:"上传视频返回结果错误"}}},en:{wangEditor:{重置:"reset",插入:"insert",默认:"default",创建:"create",修改:"edit",如:"like",请输入正文:"please enter the text",menus:{title:{标题:"head",加粗:"bold",字号:"font size",字体:"font family",斜体:"italic",下划线:"underline",删除线:"strikethrough",缩进:"indent",行高:"line heihgt",文字颜色:"font color",背景色:"background",链接:"link",序列:"numbered list",对齐:"align",引用:"quote",表情:"emoticons",图片:"image",视频:"media",表格:"table",代码:"code",分割线:"split line",恢复:"undo",撤销:"redo",全屏:"fullscreen",取消全屏:"cancel fullscreen",待办事项:"todo"},dropListMenu:{设置标题:"title",背景颜色:"background",文字颜色:"font color",设置字号:"font size",设置字体:"font family",设置缩进:"indent",对齐方式:"align",设置行高:"line heihgt",序列:"list",head:{正文:"text"},indent:{增加缩进:"indent",减少缩进:"outdent"},justify:{靠左:"left",居中:"center",靠右:"right",两端:"justify"},list:{无序列表:"unordered",有序列表:"ordered"}},panelMenus:{emoticon:{表情:"emoji",手势:"gesture"},image:{上传图片:"upload image",网络图片:"network image",图片地址:"image link",图片文字说明:"image alt",跳转链接:"hyperlink"},link:{链接:"link",链接文字:"link text",取消链接:"unlink",查看链接:"view links"},video:{插入视频:"insert video",上传视频:"upload local video"},table:{行:"rows",列:"columns",的:" ",表格:"table",添加行:"insert row",删除行:"delete row",添加列:"insert column",删除列:"delete column",设置表头:"set header",取消表头:"cancel header",插入表格:"insert table",删除表格:"delete table"},code:{删除代码:"delete code",修改代码:"edit code",插入代码:"insert code"}}},validate:{张图片:"images",大于:"greater than",图片链接:"image link",不是图片:"is not image",返回结果:"return results",上传图片超时:"upload image timeout",上传图片错误:"upload image error",上传图片失败:"upload image failed",插入图片错误:"insert image error",一次最多上传:"once most at upload",下载链接失败:"download link failed",图片验证未通过:"image validate failed",服务器返回状态:"server return status",上传图片返回结果错误:"upload image return results error",请替换为支持的图片类型:"please replace with a supported image type",您插入的网络图片无法识别:"the network picture you inserted is not recognized",您刚才插入的图片链接未通过编辑器校验:"the image link you just inserted did not pass the editor verification",插入视频错误:"insert video error",视频链接:"video link",不是视频:"is not video",视频验证未通过:"video validate failed",个视频:"videos",上传视频超时:"upload video timeout",上传视频错误:"upload video error",上传视频失败:"upload video failed",上传视频返回结果错误:"upload video return results error"}}}}}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(6);function p(){return!!(d.UA.isIE()||d.UA.isOldEdge)}i.default={compatibleMode:p,historyMaxSize:30}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(7);i.default={onlineVideoCheck:function(p){return!0},onlineVideoCallback:d.EMPTY_FN,showLinkVideo:!0,uploadVideoAccept:["mp4"],uploadVideoServer:"",uploadVideoMaxSize:1*1024*1024*1024,uploadVideoName:"",uploadVideoParams:{},uploadVideoParamsWithUrl:!1,uploadVideoHeaders:{},uploadVideoHooks:{},uploadVideoTimeout:1e3*60*60*2,withVideoCredentials:!1,customUploadVideo:null,customInsertVideo:null}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(6),b=t(7),C=function(){function w(A){this._currentRange=null,this.editor=A}return w.prototype.getRange=function(){return this._currentRange},w.prototype.saveRange=function(A){if(A){this._currentRange=A;return}var F=window.getSelection();if(F.rangeCount!==0){var v=F.getRangeAt(0),B=this.getSelectionContainerElem(v);if(B!=null&&B.length&&!(B.attr("contenteditable")==="false"||B.parentUntil("[contenteditable=false]"))){var E=this.editor,g=E.$textElem;if(g.isContain(B)){if(g.elems[0]===B.elems[0]){var _;if((0,d.default)(_=g.html()).call(_)===b.EMPTY_P){var x=g.children(),D=x==null?void 0:x.last();E.selection.createRangeByElem(D,!0,!0),E.selection.restoreSelection()}}this._currentRange=v}}}},w.prototype.collapseRange=function(A){A===void 0&&(A=!1);var F=this._currentRange;F&&F.collapse(A)},w.prototype.getSelectionText=function(){var A=this._currentRange;return A?A.toString():""},w.prototype.getSelectionContainerElem=function(A){var F;F=A||this._currentRange;var v;if(F)return v=F.commonAncestorContainer,h.default(v.nodeType===1?v:v.parentNode)},w.prototype.getSelectionStartElem=function(A){var F;F=A||this._currentRange;var v;if(F)return v=F.startContainer,h.default(v.nodeType===1?v:v.parentNode)},w.prototype.getSelectionEndElem=function(A){var F;F=A||this._currentRange;var v;if(F)return v=F.endContainer,h.default(v.nodeType===1?v:v.parentNode)},w.prototype.isSelectionEmpty=function(){var A=this._currentRange;return!!(A&&A.startContainer&&A.startContainer===A.endContainer&&A.startOffset===A.endOffset)},w.prototype.restoreSelection=function(){var A=window.getSelection(),F=this._currentRange;A&&F&&(A.removeAllRanges(),A.addRange(F))},w.prototype.createEmptyRange=function(){var A=this.editor,F=this.getRange(),v;if(F&&this.isSelectionEmpty())try{m.UA.isWebkit()?(A.cmd.do("insertHTML","&#8203;"),F.setEnd(F.endContainer,F.endOffset+1),this.saveRange(F)):(v=h.default("<strong>&#8203;</strong>"),A.cmd.do("insertElem",v),this.createRangeByElem(v,!0))}catch(B){}},w.prototype.createRangeByElems=function(A,F){var v=window.getSelection?window.getSelection():document.getSelection();v==null||v.removeAllRanges();var B=document.createRange();B.setStart(A,0),B.setEnd(F,F.childNodes.length||1),this.saveRange(B),this.restoreSelection()},w.prototype.createRangeByElem=function(A,F,v){if(A.length){var B=A.elems[0],E=document.createRange();v?E.selectNodeContents(B):E.selectNode(B),F!=null&&(E.collapse(F),F||(this.saveRange(E),this.editor.selection.moveCursor(B))),this.saveRange(E)}},w.prototype.getSelectionRangeTopNodes=function(){var A,F,v,B=(A=this.getSelectionStartElem())===null||A===void 0?void 0:A.getNodeTop(this.editor),E=(F=this.getSelectionEndElem())===null||F===void 0?void 0:F.getNodeTop(this.editor);return v=this.recordSelectionNodes(h.default(B),h.default(E)),v},w.prototype.moveCursor=function(A,F){var v,B=this.getRange(),E=A.nodeType===3?(v=A.nodeValue)===null||v===void 0?void 0:v.length:A.childNodes.length;(m.UA.isFirefox||m.UA.isIE())&&E!==0&&(A.nodeType===3||A.childNodes[E-1].nodeName==="BR")&&(E=E-1);var g=F!=null?F:E;!B||A&&(B.setStart(A,g),B.setEnd(A,g),this.restoreSelection())},w.prototype.getCursorPos=function(){var A=window.getSelection();return A==null?void 0:A.anchorOffset},w.prototype.clearWindowSelectionRange=function(){var A=window.getSelection();A&&A.removeAllRanges()},w.prototype.recordSelectionNodes=function(A,F){var v=[],B=!0;try{for(var E=A,g=this.editor.$textElem;B;){var _=E==null?void 0:E.getNodeTop(this.editor);_.getNodeName()==="BODY"&&(B=!1),_.length>0&&(v.push(h.default(E)),F!=null&&F.equal(_)||g.equal(_)?B=!1:E=_.getNextSibling())}}catch(x){B=!1}return v},w.prototype.setRangeToElem=function(A){var F=this.getRange();F==null||F.setStart(A,0),F==null||F.setEnd(A,0)},w}();i.default=C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=function(){function m(b){this.editor=b}return m.prototype.do=function(b,C){var w=this.editor;w.config.styleWithCSS&&document.execCommand("styleWithCSS",!1,"true");var A=w.selection;if(A.getRange()){switch(A.restoreSelection(),b){case"insertHTML":this.insertHTML(C);break;case"insertElem":this.insertElem(C);break;default:this.execCommand(b,C);break}w.menus.changeActive(),A.saveRange(),A.restoreSelection()}},m.prototype.insertHTML=function(b){var C=this.editor,w=C.selection.getRange();if(w!=null){if(this.queryCommandSupported("insertHTML"))this.execCommand("insertHTML",b);else if(w.insertNode){if(w.deleteContents(),p.default(b).elems.length>0)w.insertNode(p.default(b).elems[0]);else{var A=document.createElement("p");A.appendChild(document.createTextNode(b)),w.insertNode(A)}C.selection.collapseRange()}}},m.prototype.insertElem=function(b){var C=this.editor,w=C.selection.getRange();w!=null&&w.insertNode&&(w.deleteContents(),w.insertNode(b.elems[0]))},m.prototype.execCommand=function(b,C){document.execCommand(b,!1,C)},m.prototype.queryCommandValue=function(b){return document.queryCommandValue(b)},m.prototype.queryCommandState=function(b){return document.queryCommandState(b)},m.prototype.queryCommandSupported=function(b){return document.queryCommandSupported(b)},m}();i.default=h},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31)),p=u(t(4)),h=u(t(17)),m=u(t(27)),b=u(t(46));(0,c.default)(i,"__esModule",{value:!0});var C=t(2),w=C.__importDefault(t(3)),A=C.__importDefault(t(287)),F=t(6),v=C.__importDefault(t(299)),B=C.__importDefault(t(300)),E=t(7),g=function(){function _(x){this.editor=x,this.eventHooks={onBlurEvents:[],changeEvents:[],dropEvents:[],clickEvents:[],keydownEvents:[],keyupEvents:[],tabUpEvents:[],tabDownEvents:[],enterUpEvents:[],enterDownEvents:[],deleteUpEvents:[],deleteDownEvents:[],pasteEvents:[],linkClickEvents:[],codeClickEvents:[],textScrollEvents:[],toolbarClickEvents:[],imgClickEvents:[],imgDragBarMouseDownEvents:[],tableClickEvents:[],menuClickEvents:[],dropListMenuHoverEvents:[],splitLineEvents:[],videoClickEvents:[]}}return _.prototype.init=function(){this._saveRange(),this._bindEventHooks(),A.default(this)},_.prototype.togglePlaceholder=function(){var x,D=this.html(),O=(0,d.default)(x=this.editor.$textContainerElem).call(x,".placeholder");O.hide(),!this.editor.isComposing&&(!D||D===" ")&&O.show()},_.prototype.clear=function(){this.html(E.EMPTY_P)},_.prototype.html=function(x){var D=this.editor,O=D.$textElem;if(x==null){var L=O.html();L=L.replace(/\u200b/gm,""),L=L.replace(/<p><\/p>/gim,""),L=L.replace(E.EMPTY_P_LAST_REGEX,""),L=L.replace(E.EMPTY_P_REGEX,"<p>");var P=L.match(/<(img|br|hr|input)[^>]*>/gi);return P!==null&&(0,p.default)(P).call(P,function(R){R.match(/\/>/)||(L=L.replace(R,R.substring(0,R.length-1)+"/>"))}),L}x=(0,h.default)(x).call(x),x===""&&(x=E.EMPTY_P),(0,m.default)(x).call(x,"<")!==0&&(x="<p>"+x+"</p>"),O.html(x),D.initSelection()},_.prototype.setJSON=function(x){var D=B.default(x).children(),O=this.editor,L=O.$textElem;!D||L.replaceChildAll(D)},_.prototype.getJSON=function(){var x=this.editor,D=x.$textElem;return v.default(D)},_.prototype.text=function(x){var D=this.editor,O=D.$textElem;if(x==null){var L=O.text();return L=L.replace(/\u200b/gm,""),L}O.text("<p>"+x+"</p>"),D.initSelection()},_.prototype.append=function(x){var D=this.editor;(0,m.default)(x).call(x,"<")!==0&&(x="<p>"+x+"</p>"),this.html(this.html()+x),D.initSelection()},_.prototype._saveRange=function(){var x=this.editor,D=x.$textElem,O=w.default(document);function L(){x.selection.saveRange(),x.menus.changeActive()}D.on("keyup",L);function P(){L(),D.off("click",P)}D.on("click",P);function R(){L(),O.off("mouseup",R)}function T(){O.on("mouseup",R),D.off("mouseleave",T)}D.on("mousedown",function(){D.on("mouseleave",T)}),D.on("mouseup",function($){D.off("mouseleave",T),(0,b.default)(function(){var I=x.selection,z=I.getRange();z!==null&&L()},0)})},_.prototype._bindEventHooks=function(){var x=this.editor,D=x.$textElem,O=this.eventHooks;D.on("click",function(P){var R=O.clickEvents;(0,p.default)(R).call(R,function(T){return T(P)})}),D.on("keyup",function(P){if(P.keyCode===13){var R=O.enterUpEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("keyup",function(P){var R=O.keyupEvents;(0,p.default)(R).call(R,function(T){return T(P)})}),D.on("keydown",function(P){var R=O.keydownEvents;(0,p.default)(R).call(R,function(T){return T(P)})}),D.on("keyup",function(P){if(!(P.keyCode!==8&&P.keyCode!==46)){var R=O.deleteUpEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("keydown",function(P){if(!(P.keyCode!==8&&P.keyCode!==46)){var R=O.deleteDownEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("paste",function(P){if(!F.UA.isIE()){P.preventDefault();var R=O.pasteEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("keydown",function(P){(x.isFocus||x.isCompatibleMode)&&(P.ctrlKey||P.metaKey)&&P.keyCode===90&&(P.preventDefault(),P.shiftKey?x.history.restore():x.history.revoke())}),D.on("keyup",function(P){if(P.keyCode===9){P.preventDefault();var R=O.tabUpEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("keydown",function(P){if(P.keyCode===9){P.preventDefault();var R=O.tabDownEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("scroll",F.throttle(function(P){var R=O.textScrollEvents;(0,p.default)(R).call(R,function(T){return T(P)})},100));function L(P){P.preventDefault()}w.default(document).on("dragleave",L).on("drop",L).on("dragenter",L).on("dragover",L),x.beforeDestroy(function(){w.default(document).off("dragleave",L).off("drop",L).off("dragenter",L).off("dragover",L)}),D.on("drop",function(P){P.preventDefault();var R=O.dropEvents;(0,p.default)(R).call(R,function(T){return T(P)})}),D.on("click",function(P){var R=null,T=P.target,$=w.default(T);if($.getNodeName()==="A")R=$;else{var I=$.parentUntil("a");I!=null&&(R=I)}if(R){var z=O.linkClickEvents;(0,p.default)(z).call(z,function(M){return M(R)})}}),D.on("click",function(P){var R=null,T=P.target,$=w.default(T);if($.getNodeName()==="IMG"&&!$.elems[0].getAttribute("data-emoji")&&(P.stopPropagation(),R=$),!!R){var I=O.imgClickEvents;(0,p.default)(I).call(I,function(z){return z(R)})}}),D.on("click",function(P){var R=null,T=P.target,$=w.default(T);if($.getNodeName()==="PRE")R=$;else{var I=$.parentUntil("pre");I!==null&&(R=I)}if(R){var z=O.codeClickEvents;(0,p.default)(z).call(z,function(M){return M(R)})}}),D.on("click",function(P){var R=null,T=P.target,$=w.default(T);if($.getNodeName()==="HR"&&(R=$),!!R){x.selection.createRangeByElem(R),x.selection.restoreSelection();var I=O.splitLineEvents;(0,p.default)(I).call(I,function(z){return z(R)})}}),x.$toolbarElem.on("click",function(P){var R=O.toolbarClickEvents;(0,p.default)(R).call(R,function(T){return T(P)})}),x.$textContainerElem.on("mousedown",function(P){var R=P.target,T=w.default(R);if(T.hasClass("w-e-img-drag-rb")){var $=O.imgDragBarMouseDownEvents;(0,p.default)($).call($,function(I){return I()})}}),D.on("click",function(P){var R=null,T=P.target;if(R=w.default(T).parentUntilEditor("TABLE",x,T),!!R){var $=O.tableClickEvents;(0,p.default)($).call($,function(I){return I(R,P)})}}),D.on("keydown",function(P){if(P.keyCode===13){var R=O.enterDownEvents;(0,p.default)(R).call(R,function(T){return T(P)})}}),D.on("click",function(P){var R=null,T=P.target,$=w.default(T);if($.getNodeName()==="VIDEO"&&(P.stopPropagation(),R=$),!!R){var I=O.videoClickEvents;(0,p.default)(I).call(I,function(z){return z(R)})}})},_}();i.default=g},function(n,i,t){var u=t(284);n.exports=u},function(n,i,t){var u=t(285),c=Array.prototype;n.exports=function(d){var p=d.find;return d===c||d instanceof Array&&p===c.find?u:p}},function(n,i,t){t(286);var u=t(15);n.exports=u("Array").find},function(n,i,t){var u=t(5),c=t(30).find,d=t(82),p=t(22),h="find",m=!0,b=p(h);h in[]&&Array(1)[h](function(){m=!1}),u({target:"Array",proto:!0,forced:m||!b},{find:function(C){return c(this,C,arguments.length>1?arguments[1]:void 0)}}),d(h)},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(288)),h=d.__importStar(t(289)),m=d.__importDefault(t(290)),b=d.__importDefault(t(291)),C=d.__importDefault(t(298));function w(A){var F=A.editor,v=A.eventHooks;p.default(F,v.enterUpEvents,v.enterDownEvents),h.default(F,v.deleteUpEvents,v.deleteDownEvents),h.cutToKeepP(F,v.keyupEvents),m.default(F,v.tabDownEvents),b.default(F,v.pasteEvents),C.default(F,v.imgClickEvents)}i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(27));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(7),m=p.__importDefault(t(3));function b(C,w,A){function F(E){var g,_=m.default(h.EMPTY_P);if(_.insertBefore(E),(0,d.default)(g=E.html()).call(g,"<img")>=0){_.remove();return}C.selection.createRangeByElem(_,!0,!0),C.selection.restoreSelection(),E.remove()}function v(){var E=C.$textElem,g=C.selection.getSelectionContainerElem(),_=g.parent();if(_.html()==="<code><br></code>"){F(_);return}if(g.getNodeName()==="FONT"&&g.text()===""&&g.attr("face")==="monospace"){F(_);return}if(_.equal(E)){var x=g.getNodeName();x==="P"&&g.attr("data-we-empty-p")===null||g.text()||F(g)}}w.push(v);function B(E){var g;C.selection.saveRange((g=getSelection())===null||g===void 0?void 0:g.getRangeAt(0));var _=C.selection.getSelectionContainerElem();_.id===C.textElemId&&(E.preventDefault(),C.cmd.do("insertHTML","<p><br></p>"))}A.push(B)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17)),p=u(t(44));(0,c.default)(i,"__esModule",{value:!0}),i.cutToKeepP=void 0;var h=t(2),m=t(7),b=h.__importDefault(t(3));function C(A,F,v){function B(){var g=A.$textElem,_=A.$textElem.html(),x=A.$textElem.text(),D=(0,d.default)(_).call(_),O=["<p><br></p>","<br>",'<p data-we-empty-p=""></p>',m.EMPTY_P];/^\s*$/.test(x)&&(!D||(0,p.default)(O).call(O,D))&&(g.html(m.EMPTY_P),A.selection.createRangeByElem(g,!1,!0),A.selection.restoreSelection(),A.selection.moveCursor(g.getNode(),0))}F.push(B);function E(g){var _,x=A.$textElem,D=(0,d.default)(_=x.html().toLowerCase()).call(_);if(D===m.EMPTY_P){g.preventDefault();return}}v.push(E)}function w(A,F){function v(B){var E;if(B.keyCode===88){var g=A.$textElem,_=(0,d.default)(E=g.html().toLowerCase()).call(E);if(!_||_==="<br>"){var x=b.default(m.EMPTY_P);g.html(" "),g.append(x),A.selection.createRangeByElem(x,!1,!0),A.selection.restoreSelection(),A.selection.moveCursor(x.getNode(),0)}}}F.push(v)}i.cutToKeepP=w,i.default=C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p,h){function m(){if(p.cmd.queryCommandSupported("insertHTML")){var b=p.selection.getSelectionContainerElem();if(b){var C=b.parent(),w=b.getNodeName(),A=C.getNodeName();w=="CODE"||A==="CODE"||A==="PRE"||/hljs/.test(A)?p.cmd.do("insertHTML",p.config.languageTab):p.cmd.do("insertHTML","&nbsp;&nbsp;&nbsp;&nbsp;")}}}h.push(m)}i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var p=t(130),h=t(6),m=t(7);function b(v){var B,E=(0,d.default)(B=v.replace(/<div>/gim,"<p>").replace(/<\/div>/gim,"</p>")).call(B),g=document.createElement("div");return g.innerHTML=E,g.innerHTML.replace(/<p><\/p>/gim,"")}function C(v){var B=v.replace(/<br>|<br\/>/gm,`
`).replace(/<[^>]+>/gm,"");return B}function w(v){var B;if(v==="")return!1;var E=document.createElement("div");return E.innerHTML=v,((B=E.firstChild)===null||B===void 0?void 0:B.nodeName)==="P"}function A(v){if(!(v!=null&&v.length))return!1;var B=v.elems[0];return B.nodeName==="P"&&B.innerHTML==="<br>"}function F(v,B){function E(g){var _=v.config,x=_.pasteFilterStyle,D=_.pasteIgnoreImg,O=_.pasteTextHandle,L=p.getPasteHtml(g,x,D),P=p.getPasteText(g);P=P.replace(/\n/gm,"<br>");var R=v.selection.getSelectionContainerElem();if(R){var T=R==null?void 0:R.getNodeName(),$=R==null?void 0:R.getNodeTop(v),I="";if($.elems[0]&&(I=$==null?void 0:$.getNodeName()),T==="CODE"||I==="PRE"){O&&h.isFunction(O)&&(P=""+(O(P)||"")),v.cmd.do("insertHTML",C(P));return}if(m.urlRegex.test(P)&&x){O&&h.isFunction(O)&&(P=""+(O(P)||""));var z=m.urlRegex.exec(P)[0],M=P.replace(m.urlRegex,"");return v.cmd.do("insertHTML",'<a href="'+z+'" target="_blank">'+z+"</a>"+M)}if(L)try{O&&h.isFunction(O)&&(L=""+(O(L)||""));var Q=/[\.\#\@]?\w+[ ]+\{[^}]*\}/.test(L);if(Q&&x)v.cmd.do("insertHTML",""+b(P));else{var Y=b(L);if(w(Y)){var U=v.$textElem;if(v.cmd.do("insertHTML",Y),U.equal(R)){v.selection.createEmptyRange();return}A($)&&$.remove()}else{var X=/^<img [^>]*src=['"]([^'"]+)[^>]*>$/g;X.test(Y)||v.cmd.do("insertHTML",Y)}}}catch(J){O&&h.isFunction(O)&&(P=""+(O(P)||"")),v.cmd.do("insertHTML",""+b(P))}}}B.push(E)}i.default=F},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17)),p=u(t(4)),h=u(t(44));(0,c.default)(i,"__esModule",{value:!0});var m=t(2),b=t(293),C=m.__importDefault(t(297));function w(E){var g=/<span>.*?<\/span>/gi,_=/<span>(.*?)<\/span>/;return E.replace(g,function(x){var D=x.match(_);return D==null?"":D[1]})}function A(E,g){var _;return E=(0,d.default)(_=E.toLowerCase()).call(_),!!(b.IGNORE_TAGS.has(E)||g&&E==="img")}function F(E,g){var _="";_="<"+E;var x=[];(0,p.default)(g).call(g,function(O){x.push(O.name+'="'+O.value+'"')}),x.length>0&&(_=_+" "+x.join(" "));var D=b.EMPTY_TAGS.has(E);return _=_+(D?"/":"")+">",_}function v(E){return"</"+E+">"}function B(E,g,_){g===void 0&&(g=!0),_===void 0&&(_=!1);var x=[],D="";function O(T){T=(0,d.default)(T).call(T),T&&(b.EMPTY_TAGS.has(T)||(D=T))}function L(){D=""}var P=new C.default;P.parse(E,{startElement:function(T,$){if(O(T),!A(T,_)){var I=b.NECESSARY_ATTRS.get(T)||[],z=[];(0,p.default)($).call($,function(Q){var Y=Q.name;if(Y==="style"){g||z.push(Q);return}(0,h.default)(I).call(I,Y)!==!1&&z.push(Q)});var M=F(T,z);x.push(M)}},characters:function(T){!T||A(D,_)||x.push(T)},endElement:function(T){if(!A(T,_)){var $=v(T);x.push($),L()}},comment:function(T){O(T)}});var R=x.join("");return R=w(R),R}i.default=B},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(131)),p=u(t(120));(0,c.default)(i,"__esModule",{value:!0}),i.TOP_LEVEL_TAGS=i.EMPTY_TAGS=i.NECESSARY_ATTRS=i.IGNORE_TAGS=void 0,i.IGNORE_TAGS=new d.default(["doctype","!doctype","html","head","meta","body","script","style","link","frame","iframe","title","svg","center","o:p"]),i.NECESSARY_ATTRS=new p.default([["img",["src","alt"]],["a",["href","target"]],["td",["colspan","rowspan"]],["th",["colspan","rowspan"]]]),i.EMPTY_TAGS=new d.default(["area","base","basefont","br","col","hr","img","input","isindex","embed"]),i.TOP_LEVEL_TAGS=new d.default(["h1","h2","h3","h4","h5","p","ul","ol","table","blockquote","pre","hr","form"])},function(n,i,t){var u=t(295);n.exports=u},function(n,i,t){t(296),t(61),t(50),t(54);var u=t(9);n.exports=u.Set},function(n,i,t){var u=t(121),c=t(123);n.exports=u("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},c)},function(n,i){function t(){}t.prototype={handler:null,startTagRe:/^<([^>\s\/]+)((\s+[^=>\s]+(\s*=\s*((\"[^"]*\")|(\'[^']*\')|[^>\s]+))?)*)\s*\/?\s*>/m,endTagRe:/^<\/([^>\s]+)[^>]*>/m,attrRe:/([^=\s]+)(\s*=\s*((\"([^"]*)\")|(\'([^']*)\')|[^>\s]+))?/gm,parse:function(u,c){c&&(this.contentHandler=c);for(var d,p,h,m=!1,b=this;u.length>0;)u.substring(0,4)=="<!--"?(h=u.indexOf("-->"),h!=-1?(this.contentHandler.comment(u.substring(4,h)),u=u.substring(h+3),m=!1):m=!0):u.substring(0,2)=="</"?this.endTagRe.test(u)?(d=RegExp.lastMatch,p=RegExp.rightContext,d.replace(this.endTagRe,function(){return b.parseEndTag.apply(b,arguments)}),u=p,m=!1):m=!0:u.charAt(0)=="<"&&(this.startTagRe.test(u)?(d=RegExp.lastMatch,p=RegExp.rightContext,d.replace(this.startTagRe,function(){return b.parseStartTag.apply(b,arguments)}),u=p,m=!1):m=!0),m&&(h=u.indexOf("<"),h==-1?(this.contentHandler.characters(u),u=""):(this.contentHandler.characters(u.substring(0,h)),u=u.substring(h))),m=!0},parseStartTag:function(u,c,d){var p=this.parseAttributes(c,d);this.contentHandler.startElement(c,p)},parseEndTag:function(u,c){this.contentHandler.endElement(c)},parseAttributes:function(u,c){var d=this,p=[];return c.replace(this.attrRe,function(h,m,b,C,w,A,F,v){p.push(d.parseAttribute(u,h,m,b,C,w,A,F,v))}),p},parseAttribute:function(u,c,d){var p="";arguments[7]?p=arguments[8]:arguments[5]?p=arguments[6]:arguments[3]&&(p=arguments[4]);var h=!p&&!arguments[3];return{name:d,value:h?null:p}}},n.exports=t},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p,h){function m(b){p.selection.createRangeByElem(b),p.selection.restoreSelection()}h.push(m)}i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(6),m=p.__importDefault(t(3));function b(C){var w=[],A=C.childNodes()||[];return(0,d.default)(A).call(A,function(F){var v,B=F.nodeType;if(B===3&&(v=F.textContent||"",v=h.replaceHtmlSymbol(v)),B===1){v={},v=v,v.tag=F.nodeName.toLowerCase();for(var E=[],g=F.attributes,_=g.length||0,x=0;x<_;x++){var D=g[x];E.push({name:D.name,value:D.value})}v.attrs=E,v.children=b(m.default(F))}v&&w.push(v)}),w}i.default=b},function(n,i,t){var u=t(0),c=u(t(92)),d=u(t(1)),p=u(t(4));(0,d.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3));function b(C,w){w===void 0&&(w=document.createElement("div"));var A=w;return(0,p.default)(C).call(C,function(F){var v;if(typeof F=="string"&&(v=document.createTextNode(F)),(0,c.default)(F)==="object"){var B;v=document.createElement(F.tag),(0,p.default)(B=F.attrs).call(B,function(E){m.default(v).attr(E.name,E.value)}),F.children&&F.children.length>0&&b(F.children,v.getRootNode())}v&&A.appendChild(v)}),m.default(A)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(89)),p=u(t(70)),h=u(t(44)),m=u(t(302)),b=u(t(4)),C=u(t(94)),w=u(t(132)),A=u(t(46)),F=u(t(57));(0,c.default)(i,"__esModule",{value:!0});var v=t(2),B=v.__importDefault(t(87)),E=v.__importDefault(t(314)),g=v.__importDefault(t(3)),_=function(){function x(D){this.editor=D,this.menuList=[],this.constructorList=E.default}return x.prototype.extend=function(D,O){!O||typeof O!="function"||(this.constructorList[D]=O)},x.prototype.init=function(){var D,O,L=this,P=this.editor.config,R=P.excludeMenus;(0,d.default)(R)===!1&&(R=[]),P.menus=(0,p.default)(D=P.menus).call(D,function(U){return(0,h.default)(R).call(R,U)===!1});var T=(0,m.default)(B.default.globalCustomMenuConstructorList);T=(0,p.default)(T).call(T,function(U){return(0,h.default)(R).call(R,U)}),(0,b.default)(T).call(T,function(U){delete B.default.globalCustomMenuConstructorList[U]}),(0,b.default)(O=P.menus).call(O,function(U){var X=L.constructorList[U];L._initMenuList(U,X)});for(var $=0,I=(0,C.default)(B.default.globalCustomMenuConstructorList);$<I.length;$++){var z=I[$],M=z[0],Q=z[1],Y=Q;this._initMenuList(M,Y)}this._addToToolbar(),P.showMenuTooltips&&this._bindMenuTooltips()},x.prototype._initMenuList=function(D,O){var L;if(!(O==null||typeof O!="function"))if((0,w.default)(L=this.menuList).call(L,function(R){return R.key===D}))console.warn("菜单名称重复:"+D);else{var P=new O(this.editor);P.key=D,this.menuList.push(P)}},x.prototype._bindMenuTooltips=function(){var D=this.editor,O=D.$toolbarElem,L=D.config,P=L.menuTooltipPosition,R=g.default('<div class="w-e-menu-tooltip w-e-menu-tooltip-'+P+`">
            <div class="w-e-menu-tooltip-item-wrapper">
              <div></div>
            </div>
          </div>`);R.css("visibility","hidden"),O.append(R),R.css("z-index",D.zIndex.get("tooltip"));var T=0;function $(){T&&clearTimeout(T)}function I(){$(),R.css("visibility","hidden")}O.on("mouseover",function(z){var M=z.target,Q=g.default(M),Y,U;if(Q.isContain(O)){I();return}if(Q.parentUntil(".w-e-droplist")!=null)I();else if(Q.attr("data-title"))Y=Q.attr("data-title"),U=Q;else{var X=Q.parentUntil(".w-e-menu");X!=null&&(Y=X.attr("data-title"),U=X)}if(Y&&U){$();var J=U.getOffsetData();R.text(D.i18next.t("menus.title."+Y));var ee=R.getOffsetData(),ae=J.left+J.width/2-ee.width/2;R.css("left",ae+"px"),P==="up"?R.css("top",J.top-ee.height-8+"px"):P==="down"&&R.css("top",J.top+J.height+8+"px"),T=(0,A.default)(function(){R.css("visibility","visible")},200)}else I()}).on("mouseleave",function(){I()})},x.prototype._addToToolbar=function(){var D,O=this.editor,L=O.$toolbarElem;(0,b.default)(D=this.menuList).call(D,function(P){var R=P.$elem;R&&L.append(R)})},x.prototype.menuFind=function(D){for(var O=this.menuList,L=0,P=O.length;L<P;L++)if(O[L].key===D)return O[L];return O[0]},x.prototype.changeActive=function(){var D;(0,b.default)(D=this.menuList).call(D,function(O){var L;(0,A.default)((0,F.default)(L=O.tryChangeActive).call(L,O),100)})},x}();i.default=_},function(n,i,t){n.exports=t(303)},function(n,i,t){var u=t(304);n.exports=u},function(n,i,t){t(305);var u=t(9);n.exports=u.Object.keys},function(n,i,t){var u=t(5),c=t(29),d=t(52),p=t(11),h=p(function(){d(1)});u({target:"Object",stat:!0,forced:h},{keys:function(m){return d(c(m))}})},function(n,i,t){var u=t(307);n.exports=u},function(n,i,t){t(308);var u=t(9);n.exports=u.Object.entries},function(n,i,t){var u=t(5),c=t(309).entries;u({target:"Object",stat:!0},{entries:function(d){return c(d)}})},function(n,i,t){var u=t(14),c=t(52),d=t(28),p=t(59).f,h=function(m){return function(b){for(var C=d(b),w=c(C),A=w.length,F=0,v=[],B;A>F;)B=w[F++],(!u||p.call(C,B))&&v.push(m?[B,C[B]]:C[B]);return v}};n.exports={entries:h(!0),values:h(!1)}},function(n,i,t){var u=t(311);n.exports=u},function(n,i,t){var u=t(312),c=Array.prototype;n.exports=function(d){var p=d.some;return d===c||d instanceof Array&&p===c.some?u:p}},function(n,i,t){t(313);var u=t(15);n.exports=u("Array").some},function(n,i,t){var u=t(5),c=t(30).some,d=t(67),p=t(22),h=d("some"),m=p("some");u({target:"Array",proto:!0,forced:!h||!m},{some:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(315)),h=d.__importDefault(t(316)),m=d.__importDefault(t(321)),b=d.__importDefault(t(326)),C=d.__importDefault(t(327)),w=d.__importDefault(t(328)),A=d.__importDefault(t(329)),F=d.__importDefault(t(331)),v=d.__importDefault(t(333)),B=d.__importDefault(t(334)),E=d.__importDefault(t(337)),g=d.__importDefault(t(338)),_=d.__importDefault(t(339)),x=d.__importDefault(t(350)),D=d.__importDefault(t(365)),O=d.__importDefault(t(369)),L=d.__importDefault(t(137)),P=d.__importDefault(t(378)),R=d.__importDefault(t(380)),T=d.__importDefault(t(381)),$=d.__importDefault(t(382)),I=d.__importDefault(t(401)),z=d.__importDefault(t(406)),M=d.__importDefault(t(409));i.default={bold:p.default,head:h.default,italic:b.default,link:m.default,underline:C.default,strikeThrough:w.default,fontName:A.default,fontSize:F.default,justify:v.default,quote:B.default,backColor:E.default,foreColor:g.default,video:_.default,image:x.default,indent:D.default,emoticon:O.default,list:L.default,lineHeight:P.default,undo:R.default,redo:T.default,table:$.default,code:I.default,splitLine:z.default,todo:M.default}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(23)),h=d.__importDefault(t(3)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=h.default(`<div class="w-e-menu" data-title="加粗">
                <i class="w-e-icon-bold"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor,A=w.selection.isSelectionEmpty();A&&w.selection.createEmptyRange(),w.cmd.do("bold"),A&&(w.selection.collapseRange(),w.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var w=this.editor;w.cmd.queryCommandState("bold")?this.active():this.unActive()},C}(p.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(27)),p=u(t(31)),h=u(t(4)),m=u(t(317)),b=u(t(44));(0,c.default)(i,"__esModule",{value:!0});var C=t(2),w=C.__importDefault(t(24)),A=C.__importDefault(t(3)),F=t(6),v=t(7),B=function(E){C.__extends(g,E);function g(_){var x=this,D=A.default('<div class="w-e-menu" data-title="标题"><i class="w-e-icon-header"></i></div>'),O={width:100,title:"设置标题",type:"list",list:[{$elem:A.default("<h1>H1</h1>"),value:"<h1>"},{$elem:A.default("<h2>H2</h2>"),value:"<h2>"},{$elem:A.default("<h3>H3</h3>"),value:"<h3>"},{$elem:A.default("<h4>H4</h4>"),value:"<h4>"},{$elem:A.default("<h5>H5</h5>"),value:"<h5>"},{$elem:A.default("<p>"+_.i18next.t("menus.dropListMenu.head.正文")+"</p>"),value:"<p>"}],clickHandler:function(P){x.command(P)}};x=E.call(this,D,_,O)||this;var L=_.config.onCatalogChange;return L&&(x.oldCatalogs=[],x.addListenerCatalog(),x.getCatalogs()),x}return g.prototype.command=function(_){var x=this.editor,D=x.selection.getSelectionContainerElem();if(D&&x.$textElem.equal(D))this.setMultilineHead(_);else{var O;if((0,d.default)(O=["OL","UL","LI","TABLE","TH","TR","CODE","HR"]).call(O,A.default(D).getNodeName())>-1)return;x.cmd.do("formatBlock",_)}_!=="<p>"&&this.addUidForSelectionElem()},g.prototype.addUidForSelectionElem=function(){var _=this.editor,x=_.selection.getSelectionContainerElem(),D=F.getRandomCode();A.default(x).attr("id",D)},g.prototype.addListenerCatalog=function(){var _=this,x=this.editor;x.txt.eventHooks.changeEvents.push(function(){_.getCatalogs()})},g.prototype.getCatalogs=function(){var _=this.editor,x=this.editor.$textElem,D=_.config.onCatalogChange,O=(0,p.default)(x).call(x,"h1,h2,h3,h4,h5"),L=[];(0,h.default)(O).call(O,function(P,R){var T=A.default(P),$=T.attr("id"),I=T.getNodeName(),z=T.text();$||($=F.getRandomCode(),T.attr("id",$)),z&&L.push({tag:I,id:$,text:z})}),(0,m.default)(this.oldCatalogs)!==(0,m.default)(L)&&(this.oldCatalogs=L,D&&D(L))},g.prototype.setMultilineHead=function(_){var x=this,D,O,L=this.editor,P=L.selection,R=(D=P.getSelectionContainerElem())===null||D===void 0?void 0:D.elems[0],T=["IMG","VIDEO","TABLE","TH","TR","UL","OL","PRE","HR","BLOCKQUOTE"],$=A.default(P.getSelectionStartElem()),I=A.default(P.getSelectionEndElem());I.elems[0].outerHTML===A.default(v.EMPTY_P).elems[0].outerHTML&&!I.elems[0].nextSibling&&(I=I.prev());var z=[];z.push($.getNodeTop(L));var M=[],Q=(O=P.getRange())===null||O===void 0?void 0:O.commonAncestorContainer.childNodes;Q==null||(0,h.default)(Q).call(Q,function(X,J){X===z[0].getNode()&&M.push(J),X===I.getNodeTop(L).getNode()&&M.push(J)});for(var Y=0;z[Y].getNode()!==I.getNodeTop(L).getNode();){if(!z[Y].elems[0])return;var U=A.default(z[Y].next().getNode());z.push(U),Y++}z==null||(0,h.default)(z).call(z,function(X,J){if(!x.hasTag(X,T)){var ee=A.default(_),ae=X.parent().getNode();ee.html(""+X.html()),ae.insertBefore(ee.getNode(),X.getNode()),X.remove()}}),P.createRangeByElems(R.children[M[0]],R.children[M[1]])},g.prototype.hasTag=function(_,x){var D=this,O;if(!_)return!1;if((0,b.default)(x).call(x,_==null?void 0:_.getNodeName()))return!0;var L=!1;return(O=_.children())===null||O===void 0||(0,h.default)(O).call(O,function(P){L=D.hasTag(A.default(P),x)}),L},g.prototype.tryChangeActive=function(){var _=this.editor,x=/^h/i,D=_.cmd.queryCommandValue("formatBlock");x.test(D)?this.active():this.unActive()},g}(w.default);i.default=B},function(n,i,t){n.exports=t(318)},function(n,i,t){var u=t(319);n.exports=u},function(n,i,t){t(320);var u=t(9);u.JSON||(u.JSON={stringify:JSON.stringify}),n.exports=function(c,d,p){return u.JSON.stringify.apply(null,arguments)}},function(n,i,t){var u=t(5),c=t(35),d=t(11),p=c("JSON","stringify"),h=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,C=function(A,F,v){var B=v.charAt(F-1),E=v.charAt(F+1);return m.test(A)&&!b.test(E)||b.test(A)&&!m.test(B)?"\\u"+A.charCodeAt(0).toString(16):A},w=d(function(){return p("\uDF06\uD834")!=='"\\udf06\\ud834"'||p("\uDEAD")!=='"\\udead"'});p&&u({target:"JSON",stat:!0,forced:w},{stringify:function(A,F,v){var B=p.apply(null,arguments);return typeof B=="string"?B.replace(h,C):B}})},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(37)),m=p.__importDefault(t(3)),b=p.__importDefault(t(322)),C=p.__importDefault(t(134)),w=p.__importDefault(t(32)),A=p.__importDefault(t(324)),F=t(7),v=function(B){p.__extends(E,B);function E(g){var _=this,x=m.default('<div class="w-e-menu" data-title="链接"><i class="w-e-icon-link"></i></div>');return _=B.call(this,x,g)||this,A.default(g),_}return E.prototype.clickHandler=function(){var g=this.editor,_,x=g.selection.getSelectionContainerElem(),D=g.$textElem,O=D.html(),L=(0,d.default)(O).call(O);if(L===F.EMPTY_P){var P=D.children();g.selection.createRangeByElem(P,!0,!0),x=g.selection.getSelectionContainerElem()}if(!(x&&g.$textElem.equal(x)))if(this.isActive){if(_=g.selection.getSelectionContainerElem(),!_)return;this.createPanel(_.text(),_.attr("href"))}else g.selection.isSelectionEmpty()?this.createPanel("",""):this.createPanel(g.selection.getSelectionText(),"")},E.prototype.createPanel=function(g,_){var x=b.default(this.editor,g,_),D=new w.default(this,x);D.create()},E.prototype.tryChangeActive=function(){var g=this.editor;C.default(g)?this.active():this.unActive()},E}(h.default);i.default=v},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(6),m=p.__importDefault(t(3)),b=p.__importDefault(t(134)),C=t(323);function w(A,F,v){var B=h.getRandom("input-link"),E=h.getRandom("input-text"),g=h.getRandom("btn-ok"),_=h.getRandom("btn-del"),x=b.default(A)?"inline-block":"none",D;function O(){if(b.default(A)){var $=A.selection.getSelectionContainerElem();!$||(A.selection.createRangeByElem($),A.selection.restoreSelection(),D=$)}}function L($,I){var z=new RegExp(/(<\/*ul>)|(<\/*li>)|(<\/*ol>)/g);$=$.replace(z,""),b.default(A)&&O(),A.cmd.do("insertHTML",'<a href="'+I+'" target="_blank">'+$+"</a>")}function P(){if(b.default(A)){O();var $=D.text();A.cmd.do("insertHTML","<span>"+$+"</span>")}}function R($,I){var z=A.config.linkCheck($,I);if(z!==void 0){if(z===!0)return!0;A.config.customAlert(z,"warning")}return!1}var T={width:300,height:0,tabs:[{title:A.i18next.t("menus.panelMenus.link.链接"),tpl:`<div>
                        <input
                            id="`+E+`"
                            type="text"
                            class="block"
                            value="`+F+`"
                            placeholder="`+A.i18next.t("menus.panelMenus.link.链接文字")+`"/>
                        </td>
                        <input
                            id="`+B+`"
                            type="text"
                            class="block"
                            value="`+v+`"
                            placeholder="`+A.i18next.t("如")+` https://..."/>
                        </td>
                        <div class="w-e-button-container">
                            <button type="button" id="`+g+`" class="right">
                                `+A.i18next.t("插入")+`
                            </button>
                            <button type="button" id="`+_+'" class="gray right" style="display:'+x+`">
                                `+A.i18next.t("menus.panelMenus.link.取消链接")+`
                            </button>
                        </div>
                    </div>`,events:[{selector:"#"+g,type:"click",fn:function(){var $,I,z,M;A.selection.restoreSelection();var Q=A.selection.getSelectionRangeTopNodes()[0].getNode(),Y=window.getSelection(),U=m.default("#"+B),X=m.default("#"+E),J=(0,d.default)($=U.val()).call($),ee=(0,d.default)(I=X.val()).call(I),ae="";Y&&!(Y!=null&&Y.isCollapsed)&&(ae=(z=C.insertHtml(Y,Q))===null||z===void 0?void 0:(0,d.default)(z).call(z));var de=ae==null?void 0:ae.replace(/<.*?>/g,""),se=(M=de==null?void 0:de.length)!==null&&M!==void 0?M:0;if(se<=ee.length){var ye=ee.substring(0,se),ie=ee.substring(se);de===ye&&(ee=ae+ie)}if(J&&(ee||(ee=J),!!R(ee,J)))return L(ee,J),!0},bindEnter:!0},{selector:"#"+_,type:"click",fn:function(){return P(),!0}}]}]};return T}i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0}),i.insertHtml=i.createPartHtml=i.makeHtmlString=i.getTopNode=void 0;function p(A,F){var v=A,B=A;do{if(v.textContent===F)break;B=v,v.parentNode&&(v=v==null?void 0:v.parentNode)}while((v==null?void 0:v.nodeName)!=="P");return B}i.getTopNode=p;function h(A,F){var v=A.nodeName,B="";if(A.nodeType===3||/^(h|H)[1-6]$/.test(v))return F;if(A.nodeType===1){var E=A.getAttribute("style"),g=A.getAttribute("face"),_=A.getAttribute("color");E&&(B=B+(' style="'+E+'"')),g&&(B=B+(' face="'+g+'"')),_&&(B=B+(' color="'+_+'"'))}return v=v.toLowerCase(),"<"+v+B+">"+F+"</"+v+">"}i.makeHtmlString=h;function m(A,F,v,B){var E,g=(E=F.textContent)===null||E===void 0?void 0:E.substring(v,B),_=F,x="";do x=h(_,g!=null?g:""),g=x,_=_==null?void 0:_.parentElement;while(_&&_.textContent!==A);return x}i.createPartHtml=m;function b(A,F){var v,B,E,g,_,x=A.anchorNode,D=A.focusNode,O=A.anchorOffset,L=A.focusOffset,P=(v=F.textContent)!==null&&v!==void 0?v:"",R=C(F),T="",$="",I="",z="",M=x,Q=D,Y=x;if(x!=null&&x.isEqualNode(D!=null?D:null)){var U=m(P,x,O,L);return U=w(R,U),U}for(x&&($=m(P,x,O!=null?O:0)),D&&(z=m(P,D,0,L)),x&&(M=p(x,P)),D&&(Q=p(D,P)),Y=(B=M==null?void 0:M.nextSibling)!==null&&B!==void 0?B:x;!(Y!=null&&Y.isEqualNode(Q!=null?Q:null));){var X=Y==null?void 0:Y.nodeName;if(X==="#text")I=I+(Y==null?void 0:Y.textContent);else{var J=(g=(E=Y==null?void 0:Y.firstChild)===null||E===void 0?void 0:E.parentElement)===null||g===void 0?void 0:g.innerHTML;Y&&(I=I+h(Y,J!=null?J:""))}var ee=(_=Y==null?void 0:Y.nextSibling)!==null&&_!==void 0?_:Y;if(ee===Y)break;Y=ee}return T=""+$+I+z,T=w(R,T),T}i.insertHtml=b;function C(A){for(var F,v=(F=A.textContent)!==null&&F!==void 0?F:"",B=[];(A==null?void 0:A.textContent)===v;)A.nodeName!=="P"&&A.nodeName!=="TABLE"&&B.push(A),A=A.childNodes[0];return B}function w(A,F){return(0,d.default)(A).call(A,function(v){F=h(v,F)}),F}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(325));function h(m){p.default(m)}i.default=h},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38));function m(C){var w;function A(v){var B=[{$elem:p.default("<span>"+C.i18next.t("menus.panelMenus.link.查看链接")+"</span>"),onClick:function(E,g){var _=g.attr("href");return window.open(_,"_target"),!0}},{$elem:p.default("<span>"+C.i18next.t("menus.panelMenus.link.取消链接")+"</span>"),onClick:function(E,g){var _,x;E.selection.createRangeByElem(g),E.selection.restoreSelection();var D=g.childNodes();if((D==null?void 0:D.getNodeName())==="IMG"){var O=(x=(_=E.selection.getSelectionContainerElem())===null||_===void 0?void 0:_.children())===null||x===void 0?void 0:x.elems[0].children[0];E.cmd.do("insertHTML",`<img 
                                src=`+(O==null?void 0:O.getAttribute("src"))+` 
                                style=`+(O==null?void 0:O.getAttribute("style"))+">")}else{var L=g.text();E.cmd.do("insertHTML","<span>"+L+"</span>")}return!0}}];w=new h.default(C,v,B),w.create()}function F(){w&&(w.remove(),w=null)}return{showLinkTooltip:A,hideLinkTooltip:F}}function b(C){var w=m(C),A=w.showLinkTooltip,F=w.hideLinkTooltip;C.txt.eventHooks.linkClickEvents.push(A),C.txt.eventHooks.clickEvents.push(F),C.txt.eventHooks.keyupEvents.push(F),C.txt.eventHooks.toolbarClickEvents.push(F),C.txt.eventHooks.menuClickEvents.push(F),C.txt.eventHooks.textScrollEvents.push(F)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(23)),h=d.__importDefault(t(3)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=h.default(`<div class="w-e-menu" data-title="斜体">
                <i class="w-e-icon-italic"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor,A=w.selection.isSelectionEmpty();A&&w.selection.createEmptyRange(),w.cmd.do("italic"),A&&(w.selection.collapseRange(),w.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var w=this.editor;w.cmd.queryCommandState("italic")?this.active():this.unActive()},C}(p.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(23)),h=d.__importDefault(t(3)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=h.default(`<div class="w-e-menu" data-title="下划线">
                <i class="w-e-icon-underline"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor,A=w.selection.isSelectionEmpty();A&&w.selection.createEmptyRange(),w.cmd.do("underline"),A&&(w.selection.collapseRange(),w.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var w=this.editor;w.cmd.queryCommandState("underline")?this.active():this.unActive()},C}(p.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(23)),h=d.__importDefault(t(3)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=h.default(`<div class="w-e-menu" data-title="删除线">
                <i class="w-e-icon-strikethrough"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor,A=w.selection.isSelectionEmpty();A&&w.selection.createEmptyRange(),w.cmd.do("strikeThrough"),A&&(w.selection.collapseRange(),w.selection.restoreSelection())},C.prototype.tryChangeActive=function(){var w=this.editor;w.cmd.queryCommandState("strikeThrough")?this.active():this.unActive()},C}(p.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(24)),h=d.__importDefault(t(3)),m=d.__importDefault(t(330)),b=function(C){d.__extends(w,C);function w(A){var F=this,v=h.default(`<div class="w-e-menu" data-title="字体">
                <i class="w-e-icon-font"></i>
            </div>`),B=new m.default(A.config.fontNames),E={width:100,title:"设置字体",type:"list",list:B.getItemList(),clickHandler:function(g){F.command(g)}};return F=C.call(this,v,A,E)||this,F}return w.prototype.command=function(A){var F,v=this.editor,B=v.selection.isSelectionEmpty(),E=(F=v.selection.getSelectionContainerElem())===null||F===void 0?void 0:F.elems[0];if(E!=null){var g=(E==null?void 0:E.nodeName.toLowerCase())!=="p",_=(E==null?void 0:E.getAttribute("face"))===A;if(B){if(g&&!_){var x=v.selection.getSelectionRangeTopNodes();v.selection.createRangeByElem(x[0]),v.selection.moveCursor(x[0].elems[0])}v.selection.setRangeToElem(E),v.selection.createEmptyRange()}v.cmd.do("fontName",A),B&&(v.selection.collapseRange(),v.selection.restoreSelection())}},w.prototype.tryChangeActive=function(){},w}(p.default);i.default=b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=function(){function b(C){var w=this;this.itemList=[],(0,d.default)(C).call(C,function(A){var F=typeof A=="string"?A:A.value,v=typeof A=="string"?A:A.name;w.itemList.push({$elem:h.default(`<p style="font-family:'`+F+`'">`+v+"</p>"),value:v})})}return b.prototype.getItemList=function(){return this.itemList},b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(24)),h=d.__importDefault(t(3)),m=d.__importDefault(t(332)),b=function(C){d.__extends(w,C);function w(A){var F=this,v=h.default(`<div class="w-e-menu" data-title="字号">
                <i class="w-e-icon-text-heigh"></i>
            </div>`),B=new m.default(A.config.fontSizes),E={width:160,title:"设置字号",type:"list",list:B.getItemList(),clickHandler:function(g){F.command(g)}};return F=C.call(this,v,A,E)||this,F}return w.prototype.command=function(A){var F,v=this.editor,B=v.selection.isSelectionEmpty(),E=(F=v.selection.getSelectionContainerElem())===null||F===void 0?void 0:F.elems[0];E!=null&&(v.cmd.do("fontSize",A),B&&(v.selection.collapseRange(),v.selection.restoreSelection()))},w.prototype.tryChangeActive=function(){},w}(p.default);i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=function(){function m(b){this.itemList=[];for(var C in b){var w=b[C];this.itemList.push({$elem:p.default('<p style="font-size:'+C+'">'+w.name+"</p>"),value:w.value})}}return m.prototype.getItemList=function(){return this.itemList},m}();i.default=h},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(27));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(24)),b=h.__importDefault(t(3)),C=["LI"],w=["UL","BLOCKQUOTE"],A=function(F){h.__extends(v,F);function v(B){var E=this,g=b.default('<div class="w-e-menu" data-title="对齐"><i class="w-e-icon-paragraph-left"></i></div>'),_={width:100,title:"对齐方式",type:"list",list:[{$elem:b.default(`<p>
                            <i class="w-e-icon-paragraph-left w-e-drop-list-item"></i>
                            `+B.i18next.t("menus.dropListMenu.justify.靠左")+`
                        </p>`),value:"left"},{$elem:b.default(`<p>
                            <i class="w-e-icon-paragraph-center w-e-drop-list-item"></i>
                            `+B.i18next.t("menus.dropListMenu.justify.居中")+`
                        </p>`),value:"center"},{$elem:b.default(`<p>
                            <i class="w-e-icon-paragraph-right w-e-drop-list-item"></i>
                            `+B.i18next.t("menus.dropListMenu.justify.靠右")+`
                        </p>`),value:"right"},{$elem:b.default(`<p>
                            <i class="w-e-icon-paragraph-justify w-e-drop-list-item"></i>
                            `+B.i18next.t("menus.dropListMenu.justify.两端")+`
                        </p>`),value:"justify"}],clickHandler:function(x){E.command(x)}};return E=F.call(this,g,B,_)||this,E}return v.prototype.command=function(B){var E=this.editor,g=E.selection,_=g.getSelectionContainerElem();g.saveRange();var x=E.selection.getSelectionRangeTopNodes();if(_!=null&&_.length)if(this.isSpecialNode(_,x[0])||this.isSpecialTopNode(x[0])){var D=this.getSpecialNodeUntilTop(_,x[0]);if(D==null)return;b.default(D).css("text-align",B)}else(0,d.default)(x).call(x,function(O){O.css("text-align",B)});g.restoreSelection()},v.prototype.getSpecialNodeUntilTop=function(B,E){for(var g=B.elems[0],_=E.elems[0];g!=null;){if((0,p.default)(C).call(C,g==null?void 0:g.nodeName)!==-1||g.parentNode===_)return g;g=g.parentNode}return g},v.prototype.isSpecialNode=function(B,E){var g=this.getSpecialNodeUntilTop(B,E);return g==null?!1:(0,p.default)(C).call(C,g.nodeName)!==-1},v.prototype.isSpecialTopNode=function(B){var E;return B==null?!1:(0,p.default)(w).call(w,(E=B.elems[0])===null||E===void 0?void 0:E.nodeName)!==-1},v.prototype.tryChangeActive=function(){},v}(m.default);i.default=A},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=p.__importDefault(t(23)),b=p.__importDefault(t(335)),C=p.__importDefault(t(336)),w=t(7),A=function(F){p.__extends(v,F);function v(B){var E=this,g=h.default(`<div class="w-e-menu" data-title="引用">
                <i class="w-e-icon-quotes-left"></i>
            </div>`);return E=F.call(this,g,B)||this,b.default(B),E}return v.prototype.clickHandler=function(){var B,E,g=this.editor,_=g.selection.isSelectionEmpty(),x=g.selection.getSelectionRangeTopNodes(),D=x[x.length-1],O=this.getTopNodeName();if(O==="BLOCKQUOTE"){var L=h.default(D.childNodes()),P=L.length,R=D;(0,d.default)(L).call(L,function(z){var M=h.default(z);M.insertAfter(R),R=M}),D.remove(),g.selection.moveCursor(L.elems[P-1]),this.tryChangeActive()}else{var T=C.default(x);if(g.$textElem.equal(D)){var $=(B=g.selection.getSelectionContainerElem())===null||B===void 0?void 0:B.elems[0];g.selection.createRangeByElems($.children[0],$.children[0]),x=g.selection.getSelectionRangeTopNodes(),T=C.default(x),D.append(T)}else T.insertAfter(D);this.delSelectNode(x);var I=(E=T.childNodes())===null||E===void 0?void 0:E.last().getNode();if(I==null)return;I.textContent?g.selection.moveCursor(I):g.selection.moveCursor(I,0),this.tryChangeActive(),h.default(w.EMPTY_P).insertAfter(T);return}_&&(g.selection.collapseRange(),g.selection.restoreSelection())},v.prototype.tryChangeActive=function(){var B,E=this.editor,g=(B=E.selection.getSelectionRangeTopNodes()[0])===null||B===void 0?void 0:B.getNodeName();g==="BLOCKQUOTE"?this.active():this.unActive()},v.prototype.getTopNodeName=function(){var B=this.editor,E=B.selection.getSelectionRangeTopNodes()[0],g=E==null?void 0:E.getNodeName();return g},v.prototype.delSelectNode=function(B){(0,d.default)(B).call(B,function(E){E.remove()})},v}(m.default);i.default=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=t(7),h=d.__importDefault(t(3));function m(b){function C(w){var A,F=b.selection.getSelectionContainerElem(),v=b.selection.getSelectionRangeTopNodes()[0];if((v==null?void 0:v.getNodeName())==="BLOCKQUOTE"){if(F.getNodeName()==="BLOCKQUOTE"){var B=(A=F.childNodes())===null||A===void 0?void 0:A.getNode();b.selection.moveCursor(B)}if(F.text()===""){w.preventDefault(),F.remove();var E=h.default(p.EMPTY_P);E.insertAfter(v),b.selection.moveCursor(E.getNode(),0)}v.text()===""&&v.remove()}}b.txt.eventHooks.enterDownEvents.push(C)}i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3));function m(b){var C=h.default("<blockquote></blockquote>");return(0,d.default)(b).call(b,function(w){C.append(w.clone(!0))}),C}i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(24)),m=p.__importDefault(t(3)),b=t(6),C=function(w){p.__extends(A,w);function A(F){var v,B=this,E=m.default(`<div class="w-e-menu" data-title="背景色">
                <i class="w-e-icon-paint-brush"></i>
            </div>`),g={width:120,title:"背景颜色",type:"inline-block",list:(0,d.default)(v=F.config.colors).call(v,function(_){return{$elem:m.default('<i style="color:'+_+';" class="w-e-icon-paint-brush"></i>'),value:_}}),clickHandler:function(_){B.command(_)}};return B=w.call(this,E,F,g)||this,B}return A.prototype.command=function(F){var v,B=this.editor,E=B.selection.isSelectionEmpty(),g=(v=B.selection.getSelectionContainerElem())===null||v===void 0?void 0:v.elems[0];if(g!=null){var _=(g==null?void 0:g.nodeName.toLowerCase())!=="p",x=g==null?void 0:g.style.backgroundColor,D=b.hexToRgb(F)===x;if(E){if(_&&!D){var O=B.selection.getSelectionRangeTopNodes();B.selection.createRangeByElem(O[0]),B.selection.moveCursor(O[0].elems[0])}B.selection.createEmptyRange()}B.cmd.do("backColor",F),E&&(B.selection.collapseRange(),B.selection.restoreSelection())}},A.prototype.tryChangeActive=function(){},A}(h.default);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(24)),m=p.__importDefault(t(3)),b=function(C){p.__extends(w,C);function w(A){var F,v=this,B=m.default(`<div class="w-e-menu" data-title="文字颜色">
                <i class="w-e-icon-pencil2"></i>
            </div>`),E={width:120,title:"文字颜色",type:"inline-block",list:(0,d.default)(F=A.config.colors).call(F,function(g){return{$elem:m.default('<i style="color:'+g+';" class="w-e-icon-pencil2"></i>'),value:g}}),clickHandler:function(g){v.command(g)}};return v=C.call(this,B,A,E)||this,v}return w.prototype.command=function(A){var F,v=this.editor,B=v.selection.isSelectionEmpty(),E=(F=v.selection.getSelectionContainerElem())===null||F===void 0?void 0:F.elems[0];if(E!=null){var g=v.selection.getSelectionText();if(E.nodeName==="A"&&E.textContent===g){var _=m.default("<span>&#8203;</span>").getNode();E.appendChild(_)}v.cmd.do("foreColor",A),B&&(v.selection.collapseRange(),v.selection.restoreSelection())}},w.prototype.tryChangeActive=function(){},w}(h.default);i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(32)),m=d.__importDefault(t(37)),b=d.__importDefault(t(340)),C=d.__importDefault(t(346)),w=function(A){d.__extends(F,A);function F(v){var B=this,E=p.default(`<div class="w-e-menu" data-title="视频">
                <i class="w-e-icon-play"></i>
            </div>`);return B=A.call(this,E,v)||this,C.default(v),B}return F.prototype.clickHandler=function(){this.createPanel("")},F.prototype.createPanel=function(v){var B=b.default(this.editor,v),E=new h.default(this,B);E.create()},F.prototype.tryChangeActive=function(){},F}(m.default);i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(6),m=p.__importDefault(t(3)),b=p.__importDefault(t(341)),C=t(7);function w(A,F){var v=A.config,B=new b.default(A),E=h.getRandom("input-iframe"),g=h.getRandom("btn-ok"),_=h.getRandom("input-upload"),x=h.getRandom("btn-local-ok");function D(R){A.cmd.do("insertHTML",R+C.EMPTY_P),A.config.onlineVideoCallback(R)}function O(R){var T=A.config.onlineVideoCheck(R);return T===!0?!0:(typeof T=="string"&&A.config.customAlert(T,"error"),!1)}var L=[{title:A.i18next.t("menus.panelMenus.video.上传视频"),tpl:`<div class="w-e-up-video-container">
                    <div id="`+x+`" class="w-e-up-btn">
                        <i class="w-e-icon-upload2"></i>
                    </div>
                    <div style="display:none;">
                        <input id="`+_+`" type="file" accept="video/*"/>
                    </div>
                 </div>`,events:[{selector:"#"+x,type:"click",fn:function(){var R=m.default("#"+_),T=R.elems[0];if(T)T.click();else return!0}},{selector:"#"+_,type:"change",fn:function(){var R=m.default("#"+_),T=R.elems[0];if(!T)return!0;var $=T.files;return $.length&&B.uploadVideo($),!0}}]},{title:A.i18next.t("menus.panelMenus.video.插入视频"),tpl:`<div>
                    <input 
                        id="`+E+`" 
                        type="text" 
                        class="block" 
                        placeholder="`+A.i18next.t("如")+`：<iframe src=... ></iframe>"/>
                    </td>
                    <div class="w-e-button-container">
                        <button type="button" id="`+g+`" class="right">
                            `+A.i18next.t("插入")+`
                        </button>
                    </div>
                </div>`,events:[{selector:"#"+g,type:"click",fn:function(){var R,T=m.default("#"+E),$=(0,d.default)(R=T.val()).call(R);if($&&O($))return D($),!0},bindEnter:!0}]}],P={width:300,height:0,tabs:[]};return window.FileReader&&(v.uploadVideoServer||v.customUploadVideo)&&P.tabs.push(L[0]),v.showLinkVideo&&P.tabs.push(L[1]),P}i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(132)),p=u(t(57)),h=u(t(4)),m=u(t(27));(0,c.default)(i,"__esModule",{value:!0});var b=t(2),C=t(6),w=b.__importDefault(t(135)),A=b.__importDefault(t(136)),F=t(7),v=t(6),B=function(){function E(g){this.editor=g}return E.prototype.uploadVideo=function(g){var _=this;if(g.length){var x=this.editor,D=x.config,O="validate.",L=function(le){return x.i18next.t(O+le)},P=D.uploadVideoServer,R=D.uploadVideoMaxSize,T=R/1024,$=D.uploadVideoName,I=D.uploadVideoParams,z=D.uploadVideoParamsWithUrl,M=D.uploadVideoHeaders,Q=D.uploadVideoHooks,Y=D.uploadVideoTimeout,U=D.withVideoCredentials,X=D.customUploadVideo,J=D.uploadVideoAccept,ee=[],ae=[];if(C.arrForEach(g,function(le){var pe=le.name,je=le.size/1024/1024;if(!(!pe||!je)){if(!(J instanceof Array)){ae.push("【"+J+"】"+L("uploadVideoAccept 不是Array"));return}if(!(0,d.default)(J).call(J,function(Oe){return Oe===pe.split(".")[pe.split(".").length-1]})){ae.push("【"+pe+"】"+L("不是视频"));return}if(T<je){ae.push("【"+pe+"】"+L("大于")+" "+T+"M");return}ee.push(le)}}),ae.length){D.customAlert(L("视频验证未通过")+`: 
`+ae.join(`
`),"warning");return}if(ee.length===0){D.customAlert(L("传入的文件不合法"),"warning");return}if(X&&typeof X=="function"){var de;X(ee,(0,p.default)(de=this.insertVideo).call(de,this));return}var se=new FormData;if((0,h.default)(ee).call(ee,function(le,pe){var je=$||le.name;ee.length>1&&(je=je+(pe+1)),se.append(je,le)}),P){var ye=P.split("#");P=ye[0];var ie=ye[1]||"";(0,h.default)(C).call(C,I,function(le,pe){z&&((0,m.default)(P).call(P,"?")>0?P+="&":P+="?",P=P+le+"="+pe),se.append(le,pe)}),ie&&(P+="#"+ie);var oe=w.default(P,{timeout:Y,formData:se,headers:M,withCredentials:!!U,beforeSend:function(le){if(Q.before)return Q.before(le,x,ee)},onTimeout:function(le){D.customAlert(L("上传视频超时"),"error"),Q.timeout&&Q.timeout(le,x)},onProgress:function(le,pe){var je=new A.default(x);pe.lengthComputable&&(le=pe.loaded/pe.total,je.show(le))},onError:function(le){D.customAlert(L("上传视频错误"),"error",L("上传视频错误")+"，"+L("服务器返回状态")+": "+le.status),Q.error&&Q.error(le,x)},onFail:function(le,pe){D.customAlert(L("上传视频失败"),"error",L("上传视频返回结果错误")+("，"+L("返回结果")+": ")+pe),Q.fail&&Q.fail(le,x,pe)},onSuccess:function(le,pe){if(Q.customInsert){var je;Q.customInsert((0,p.default)(je=_.insertVideo).call(je,_),pe,x);return}if(pe.errno!="0"){D.customAlert(L("上传视频失败"),"error",L("上传视频返回结果错误")+"，"+L("返回结果")+" errno="+pe.errno),Q.fail&&Q.fail(le,x,pe);return}var Oe=pe.data;_.insertVideo(Oe.url),Q.success&&Q.success(le,x,pe)}});typeof oe=="string"&&D.customAlert(oe,"error")}}},E.prototype.insertVideo=function(g){var _=this.editor,x=_.config,D="validate.",O=function(P,R){return R===void 0&&(R=D),_.i18next.t(R+P)};if(!x.customInsertVideo)v.UA.isFirefox?_.cmd.do("insertHTML",'<p data-we-video-p="true"><video src="'+g+'" controls="controls" style="max-width:100%"></video></p><p>&#8203</p>'):_.cmd.do("insertHTML",'<video src="'+g+'" controls="controls" style="max-width:100%"></video>'+F.EMPTY_P);else{x.customInsertVideo(g);return}var L=document.createElement("video");L.onload=function(){L=null},L.onerror=function(){x.customAlert(O("插入视频错误"),"error","wangEditor: "+O("插入视频错误")+"，"+O("视频链接")+' "'+g+'"，'+O("下载链接失败")),L=null},L.onabort=function(){return L=null},L.src=g},E}();i.default=B},function(n,i,t){n.exports=t(343)},function(n,i,t){var u=t(344);n.exports=u},function(n,i,t){t(345);var u=t(9);n.exports=u.Date.now},function(n,i,t){var u=t(5);u({target:"Date",stat:!0},{now:function(){return new Date().getTime()}})},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(347)),h=d.__importDefault(t(349));function m(b){p.default(b),h.default(b)}i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.createShowHideFn=void 0;var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38)),m=d.__importDefault(t(348));function b(w){var A,F=function(E,g){return g===void 0&&(g=""),w.i18next.t(g+E)};function v(E){var g=[{$elem:p.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(_,x){return x.remove(),!0}},{$elem:p.default("<span>100%</span>"),onClick:function(_,x){return x.attr("width","100%"),x.removeAttr("height"),!0}},{$elem:p.default("<span>50%</span>"),onClick:function(_,x){return x.attr("width","50%"),x.removeAttr("height"),!0}},{$elem:p.default("<span>30%</span>"),onClick:function(_,x){return x.attr("width","30%"),x.removeAttr("height"),!0}},{$elem:p.default("<span>"+F("重置")+"</span>"),onClick:function(_,x){return x.removeAttr("width"),x.removeAttr("height"),!0}},{$elem:p.default("<span>"+F("menus.justify.靠左")+"</span>"),onClick:function(_,x){return m.default(x,"left"),!0}},{$elem:p.default("<span>"+F("menus.justify.居中")+"</span>"),onClick:function(_,x){return m.default(x,"center"),!0}},{$elem:p.default("<span>"+F("menus.justify.靠右")+"</span>"),onClick:function(_,x){return m.default(x,"right"),!0}}];A=new h.default(w,E,g),A.create()}function B(){A&&(A.remove(),A=null)}return{showVideoTooltip:v,hideVideoTooltip:B}}i.createShowHideFn=b;function C(w){var A=b(w),F=A.showVideoTooltip,v=A.hideVideoTooltip;w.txt.eventHooks.videoClickEvents.push(F),w.txt.eventHooks.clickEvents.push(v),w.txt.eventHooks.keyupEvents.push(v),w.txt.eventHooks.toolbarClickEvents.push(v),w.txt.eventHooks.menuClickEvents.push(v),w.txt.eventHooks.textScrollEvents.push(v),w.txt.eventHooks.changeEvents.push(v)}i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(44));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3));function m(C,w){var A=["P"],F=b(C,A);F&&h.default(F).css("text-align",w)}i.default=m;function b(C,w){for(var A,F=C.elems[0];F!=null;){if((0,d.default)(w).call(w,F==null?void 0:F.nodeName))return F;if(((A=F==null?void 0:F.parentNode)===null||A===void 0?void 0:A.nodeName)==="BODY")return null;F=F.parentNode}return F}},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(6);function p(h){if(d.UA.isFirefox){var m=h.txt,b=h.selection,C=m.eventHooks.keydownEvents;C.push(function(w){var A=b.getSelectionContainerElem();if(A){var F=A.getNodeTop(h),v=F.length&&F.prev().length?F.prev():null;v&&v.attr("data-we-video-p")&&b.getCursorPos()===0&&w.keyCode===8&&v.remove()}})}}i.default=p},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(7),m=p.__importDefault(t(3)),b=p.__importDefault(t(32)),C=p.__importDefault(t(37)),w=p.__importDefault(t(351)),A=p.__importDefault(t(364)),F=function(v){p.__extends(B,v);function B(E){var g=this,_=m.default('<div class="w-e-menu" data-title="图片"><i class="w-e-icon-image"></i></div>'),x=A.default(E);if(x.onlyUploadConf){var D;_=x.onlyUploadConf.$elem,(0,d.default)(D=x.onlyUploadConf.events).call(D,function(O){var L=O.type,P=O.fn||h.EMPTY_FN;_.on(L,function(R){R.stopPropagation(),P(R)})})}return g=v.call(this,_,E)||this,g.imgPanelConfig=x,w.default(E),g}return B.prototype.clickHandler=function(){this.imgPanelConfig.onlyUploadConf||this.createPanel()},B.prototype.createPanel=function(){var E=this.imgPanelConfig,g=new b.default(this,E);this.setPanel(g),g.create()},B.prototype.tryChangeActive=function(){},B}(C.default);i.default=F},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(352)),h=d.__importDefault(t(353)),m=d.__importDefault(t(354)),b=d.__importDefault(t(362)),C=d.__importDefault(t(363));function w(A){p.default(A),h.default(A),m.default(A),b.default(A),C.default(A)}i.default=w},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=t(130),h=d.__importDefault(t(96));function m(A,F){var v=A.config,B=v.pasteFilterStyle,E=v.pasteIgnoreImg,g=p.getPasteHtml(F,B,E);if(g)return!0;var _=p.getPasteText(F);return!!_}function b(A,F){for(var v,B=((v=F.clipboardData)===null||v===void 0?void 0:v.types)||[],E=0;E<B.length;E++){var g=B[E];if(g==="Files")return!0}return!1}function C(A,F){if(!(!b(F,A)&&m(F,A))){var v=p.getPasteImgs(A);if(v.length){var B=new h.default(F);B.uploadImg(v)}}}function w(A){A.txt.eventHooks.pasteEvents.unshift(function(F){C(F,A)})}i.default=w},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(96));function h(m){function b(C){var w=C.dataTransfer&&C.dataTransfer.files;if(!(!w||!w.length)){var A=new p.default(m);A.uploadImg(w)}}m.txt.eventHooks.dropEvents.push(b)}i.default=h},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31)),p=u(t(355));(0,c.default)(i,"__esModule",{value:!0}),i.createShowHideFn=void 0;var h=t(2),m=h.__importDefault(t(3));t(360);var b=t(6);function C(B,E,g,_,x){B.attr("style","width:"+E+"px; height:"+g+"px; left:"+_+"px; top:"+x+"px;")}function w(B,E){var g=m.default(`<div class="w-e-img-drag-mask">
            <div class="w-e-img-drag-show-size"></div>
            <div class="w-e-img-drag-rb"></div>
         </div>`);return g.hide(),E.append(g),g}function A(B,E,g){var _=B.getBoundingClientRect(),x=g.getBoundingClientRect(),D=x.width.toFixed(2),O=x.height.toFixed(2);(0,d.default)(E).call(E,".w-e-img-drag-show-size").text(D+"px * "+O+"px"),C(E,(0,p.default)(D),(0,p.default)(O),x.left-_.left,x.top-_.top),E.show()}function F(B){var E=B.$textContainerElem,g,_=w(B,E);function x(L,P){L.on("click",function(R){R.stopPropagation()}),L.on("mousedown",".w-e-img-drag-rb",function(R){if(R.preventDefault(),!g)return;var T=R.clientX,$=R.clientY,I=P.getBoundingClientRect(),z=g.getBoundingClientRect(),M=z.width,Q=z.height,Y=z.left-I.left,U=z.top-I.top,X=M/Q,J=M,ee=Q,ae=m.default(document);function de(){ae.off("mousemove",se),ae.off("mouseup",ye)}function se(ie){ie.stopPropagation(),ie.preventDefault(),J=M+(ie.clientX-T),ee=Q+(ie.clientY-$),J/ee!=X&&(ee=J/X),J=(0,p.default)(J.toFixed(2)),ee=(0,p.default)(ee.toFixed(2)),(0,d.default)(L).call(L,".w-e-img-drag-show-size").text(J.toFixed(2).replace(".00","")+"px * "+ee.toFixed(2).replace(".00","")+"px"),C(L,J,ee,Y,U)}ae.on("mousemove",se);function ye(){g.attr("width",J+""),g.attr("height",ee+"");var ie=g.getBoundingClientRect();C(L,J,ee,ie.left-I.left,ie.top-I.top),de()}ae.on("mouseup",ye),ae.on("mouseleave",de)})}function D(L){if(b.UA.isIE())return!1;L&&(g=L,A(E,_,g))}function O(){(0,d.default)(E).call(E,".w-e-img-drag-mask").hide()}return x(_,E),m.default(document).on("click",O),B.beforeDestroy(function(){m.default(document).off("click",O)}),{showDrag:D,hideDrag:O}}i.createShowHideFn=F;function v(B){var E=F(B),g=E.showDrag,_=E.hideDrag;B.txt.eventHooks.imgClickEvents.push(g),B.txt.eventHooks.textScrollEvents.push(_),B.txt.eventHooks.keyupEvents.push(_),B.txt.eventHooks.toolbarClickEvents.push(_),B.txt.eventHooks.menuClickEvents.push(_),B.txt.eventHooks.changeEvents.push(_)}i.default=v},function(n,i,t){n.exports=t(356)},function(n,i,t){var u=t(357);n.exports=u},function(n,i,t){t(358);var u=t(9);n.exports=u.parseFloat},function(n,i,t){var u=t(5),c=t(359);u({global:!0,forced:parseFloat!=c},{parseFloat:c})},function(n,i,t){var u=t(8),c=t(90).trim,d=t(68),p=u.parseFloat,h=1/p(d+"-0")!==-1/0;n.exports=h?function(m){var b=c(String(m)),C=p(b);return C===0&&b.charAt(0)=="-"?-0:C}:p},function(n,i,t){var u=t(20),c=t(361);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-text-container {
  overflow: hidden;
}
.w-e-img-drag-mask {
  position: absolute;
  z-index: 1;
  border: 1px dashed #ccc;
  box-sizing: border-box;
}
.w-e-img-drag-mask .w-e-img-drag-rb {
  position: absolute;
  right: -5px;
  bottom: -5px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: #ccc;
  cursor: se-resize;
}
.w-e-img-drag-mask .w-e-img-drag-show-size {
  min-width: 110px;
  height: 22px;
  line-height: 22px;
  font-size: 14px;
  color: #999;
  position: absolute;
  left: 0;
  top: 0;
  background-color: #999;
  color: #fff;
  border-radius: 2px;
  padding: 0 5px;
}
`,""]),n.exports=i},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.createShowHideFn=void 0;var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38));function m(C){var w,A=function(B,E){return E===void 0&&(E=""),C.i18next.t(E+B)};function F(B){var E=[{$elem:p.default("<span class='w-e-icon-trash-o'></span>"),onClick:function(g,_){return g.selection.createRangeByElem(_),g.selection.restoreSelection(),g.cmd.do("delete"),!0}},{$elem:p.default("<span>30%</span>"),onClick:function(g,_){return _.attr("width","30%"),_.removeAttr("height"),!0}},{$elem:p.default("<span>50%</span>"),onClick:function(g,_){return _.attr("width","50%"),_.removeAttr("height"),!0}},{$elem:p.default("<span>100%</span>"),onClick:function(g,_){return _.attr("width","100%"),_.removeAttr("height"),!0}}];E.push({$elem:p.default("<span>"+A("重置")+"</span>"),onClick:function(g,_){return _.removeAttr("width"),_.removeAttr("height"),!0}}),B.attr("data-href")&&E.push({$elem:p.default("<span>"+A("查看链接")+"</span>"),onClick:function(g,_){var x=_.attr("data-href");return x&&(x=decodeURIComponent(x),window.open(x,"_target")),!0}}),w=new h.default(C,B,E),w.create()}function v(){w&&(w.remove(),w=null)}return{showImgTooltip:F,hideImgTooltip:v}}i.createShowHideFn=m;function b(C){var w=m(C),A=w.showImgTooltip,F=w.hideImgTooltip;C.txt.eventHooks.imgClickEvents.push(A),C.txt.eventHooks.clickEvents.push(F),C.txt.eventHooks.keyupEvents.push(F),C.txt.eventHooks.toolbarClickEvents.push(F),C.txt.eventHooks.menuClickEvents.push(F),C.txt.eventHooks.textScrollEvents.push(F),C.txt.eventHooks.imgDragBarMouseDownEvents.push(F),C.txt.eventHooks.changeEvents.push(F)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p){var h=p.txt,m=p.selection,b=h.eventHooks.keydownEvents;b.push(function(C){var w=m.getSelectionContainerElem(),A=m.getRange();if(!(!A||!w||C.keyCode!==8||!m.isSelectionEmpty())){var F=A.startContainer,v=A.startOffset,B=null;if(v===0)for(;F!==w.elems[0]&&w.elems[0].contains(F)&&F.parentNode&&!B;){if(F.previousSibling){B=F.previousSibling;break}F=F.parentNode}else F.nodeType!==3&&(B=F.childNodes[v-1]);if(B){for(var E=B;E.childNodes.length;)E=E.childNodes[E.childNodes.length-1];E instanceof HTMLElement&&E.tagName==="IMG"&&(E.remove(),C.preventDefault())}}})}i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26)),p=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=t(6),C=h.__importDefault(t(96));function w(A){var F,v=A.config,B=new C.default(A),E=b.getRandom("up-trigger-id"),g=b.getRandom("up-file-id"),_=b.getRandom("input-link-url"),x=b.getRandom("input-link-url-alt"),D=b.getRandom("input-link-url-href"),O=b.getRandom("btn-link"),L="menus.panelMenus.image.",P=function(U,X){return X===void 0&&(X=L),A.i18next.t(X+U)};function R(U,X,J){var ee=v.linkImgCheck(U);return ee===!0?!0:(typeof ee=="string"&&v.customAlert(ee,"error"),!1)}var T=v.uploadImgMaxLength===1?"":'multiple="multiple"',$=(0,d.default)(F=v.uploadImgAccept).call(F,function(U){return"image/"+U}).join(","),I=function(U,X,J){return'<div class="'+U+'" data-title="'+J+`">
            <div id="`+E+`" class="w-e-up-btn">
                <i class="`+X+`"></i>
            </div>
            <div style="display:none;">
                <input id="`+g+'" type="file" '+T+' accept="'+$+`"/>
            </div>
        </div>`},z=[{selector:"#"+E,type:"click",fn:function(){var U=v.uploadImgFromMedia;if(U&&typeof U=="function")return U(),!0;var X=m.default("#"+g),J=X.elems[0];if(J)J.click();else return!0}},{selector:"#"+g,type:"change",fn:function(){var U=m.default("#"+g),X=U.elems[0];if(!X)return!0;var J=X.files;return J!=null&&J.length&&B.uploadImg(J),X&&(X.value=""),!0}}],M=[`<input
            id="`+_+`"
            type="text"
            class="block"
            placeholder="`+P("图片地址")+'"/>'];v.showLinkImgAlt&&M.push(`
        <input
            id="`+x+`"
            type="text"
            class="block"
            placeholder="`+P("图片文字说明")+'"/>'),v.showLinkImgHref&&M.push(`
        <input
            id="`+D+`"
            type="text"
            class="block"
            placeholder="`+P("跳转链接")+'"/>');var Q=[{title:P("上传图片"),tpl:I("w-e-up-img-container","w-e-icon-upload2",""),events:z},{title:P("网络图片"),tpl:`<div>
                    `+M.join("")+`
                    <div class="w-e-button-container">
                        <button type="button" id="`+O+'" class="right">'+P("插入","")+`</button>
                    </div>
                </div>`,events:[{selector:"#"+O,type:"click",fn:function(){var U,X=m.default("#"+_),J=(0,p.default)(U=X.val()).call(U);if(J){var ee;if(v.showLinkImgAlt){var ae;ee=(0,p.default)(ae=m.default("#"+x).val()).call(ae)}var de;if(v.showLinkImgHref){var se;de=(0,p.default)(se=m.default("#"+D).val()).call(se)}if(R(J))return B.insertImg(J,ee,de),!0}},bindEnter:!0}]}],Y={width:300,height:0,tabs:[],onlyUploadConf:{$elem:m.default(I("w-e-menu","w-e-icon-image","图片")),events:z}};return window.FileReader&&(v.uploadImgShowBase64||v.uploadImgServer||v.customUploadImg||v.uploadImgFromMedia)&&Y.tabs.push(Q[0]),v.showLinkImg&&(Y.tabs.push(Q[1]),Y.onlyUploadConf=void 0),Y}i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=p.__importDefault(t(24)),b=p.__importDefault(t(366)),C=function(w){p.__extends(A,w);function A(F){var v=this,B=h.default(`<div class="w-e-menu" data-title="缩进">
                <i class="w-e-icon-indent-increase"></i>
            </div>`),E={width:130,title:"设置缩进",type:"list",list:[{$elem:h.default(`<p>
                            <i class="w-e-icon-indent-increase w-e-drop-list-item"></i>
                            `+F.i18next.t("menus.dropListMenu.indent.增加缩进")+`
                        <p>`),value:"increase"},{$elem:h.default(`<p>
                            <i class="w-e-icon-indent-decrease w-e-drop-list-item"></i>
                            `+F.i18next.t("menus.dropListMenu.indent.减少缩进")+`
                        <p>`),value:"decrease"}],clickHandler:function(g){v.command(g)}};return v=w.call(this,B,F,E)||this,v}return A.prototype.command=function(F){var v=this.editor,B=v.selection.getSelectionContainerElem();if(B&&v.$textElem.equal(B)){var E=v.selection.getSelectionRangeTopNodes();E.length>0&&(0,d.default)(E).call(E,function(g){b.default(h.default(g),F,v)})}else B&&B.length>0&&(0,d.default)(B).call(B,function(g){b.default(h.default(g),F,v)});v.selection.restoreSelection(),this.tryChangeActive()},A.prototype.tryChangeActive=function(){var F=this.editor,v=F.selection.getSelectionStartElem(),B=h.default(v).getNodeTop(F);B.length<=0||(B.elems[0].style.paddingLeft!=""?this.active():this.unActive())},A}(m.default);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(45)),p=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(367)),b=h.__importDefault(t(368)),C=/^(\d+)(\w+)$/,w=/^(\d+)%$/;function A(v){var B=v.config.indentation;if(typeof B=="string"){if(C.test(B)){var E,g=(0,d.default)(E=(0,p.default)(B).call(B).match(C)).call(E,1,3),_=g[0],x=g[1];return{value:Number(_),unit:x}}else if(w.test(B))return{value:Number((0,p.default)(B).call(B).match(w)[1]),unit:"%"}}else if(B.value!==void 0&&B.unit)return B;return{value:2,unit:"em"}}function F(v,B,E){var g=v.getNodeTop(E),_=/^(P|H[0-9]*)$/;_.test(g.getNodeName())&&(B==="increase"?m.default(g,A(E)):B==="decrease"&&b.default(g,A(E)))}i.default=F},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(45));(0,c.default)(i,"__esModule",{value:!0});function p(h,m){var b=h.elems[0];if(b.style.paddingLeft==="")h.css("padding-left",m.value+m.unit);else{var C=b.style.paddingLeft,w=(0,d.default)(C).call(C,0,C.length-m.unit.length),A=Number(w)+m.value;h.css("padding-left",""+A+m.unit)}}i.default=p},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(45));(0,c.default)(i,"__esModule",{value:!0});function p(h,m){var b=h.elems[0];if(b.style.paddingLeft!==""){var C=b.style.paddingLeft,w=(0,d.default)(C).call(C,0,C.length-m.unit.length),A=Number(w)-m.value;A>0?h.css("padding-left",""+A+m.unit):h.css("padding-left","")}}i.default=p},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(37)),m=d.__importDefault(t(32)),b=d.__importDefault(t(370)),C=function(w){d.__extends(A,w);function A(F){var v=this,B=p.default(`<div class="w-e-menu" data-title="表情">
                <i class="w-e-icon-happy"></i>
            </div>`);return v=w.call(this,B,F)||this,v}return A.prototype.createPanel=function(){var F=b.default(this.editor),v=new m.default(this,F);v.create()},A.prototype.clickHandler=function(){this.createPanel()},A.prototype.tryChangeActive=function(){},A}(h.default);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26)),p=u(t(70)),h=u(t(17));(0,c.default)(i,"__esModule",{value:!0});var m=t(2),b=m.__importDefault(t(3));function C(w){var A=w.config.emotions;function F(E){var g=[];if(E.type=="image"){var _;g=(0,d.default)(_=E.content).call(_,function(D){return typeof D=="string"?"":'<span  title="'+D.alt+`">
                    <img class="eleImg" data-emoji="`+D.alt+'" style src="'+D.src+'" alt="['+D.alt+`]">
                </span>`}),g=(0,p.default)(g).call(g,function(D){return D!==""})}else{var x;g=(0,d.default)(x=E.content).call(x,function(D){return'<span class="eleImg" title="'+D+'">'+D+"</span>"})}return g.join("").replace(/&nbsp;/g,"")}var v=(0,d.default)(A).call(A,function(E){return{title:w.i18next.t("menus.panelMenus.emoticon."+E.title),tpl:"<div>"+F(E)+"</div>",events:[{selector:".eleImg",type:"click",fn:function(g){var _=b.default(g.target),x=_.getNodeName(),D;if(x==="IMG"){var O;D=(0,h.default)(O=_.parent().html()).call(O)}else D="<span>"+_.html()+"</span>";return w.cmd.do("insertHTML",D),!0}}]}}),B={width:300,height:230,tabs:v};return B}i.default=C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.createListHandle=i.ClassType=void 0;var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(372)),m=d.__importDefault(t(374)),b=d.__importDefault(t(375)),C=d.__importDefault(t(376)),w=d.__importDefault(t(377)),A;(function(E){E.Wrap="WrapListHandle",E.Join="JoinListHandle",E.StartJoin="StartJoinListHandle",E.EndJoin="EndJoinListHandle",E.Other="OtherListHandle"})(A=i.ClassType||(i.ClassType={}));var F={WrapListHandle:h.default,JoinListHandle:m.default,StartJoinListHandle:b.default,EndJoinListHandle:C.default,OtherListHandle:w.default};function v(E,g,_){if(E===A.Other&&_===void 0)throw new Error("other 类需要传入 range");return E!==A.Other?new F[E](g):new F[E](g,_)}i.createListHandle=v;var B=function(){function E(g){this.handle=g,this.handle.exec()}return E.prototype.getSelectionRangeElem=function(){return p.default(this.handle.selectionRangeElem.get())},E}();i.default=B},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(58),b=t(47),C=function(w){p.__extends(A,w);function A(F){return w.call(this,F)||this}return A.prototype.exec=function(){var F=this.options,v=F.listType,B=F.listTarget,E=F.$selectionElem,g=F.$startElem,_=F.$endElem,x,D=[],O=E==null?void 0:E.getNodeName(),L=g.prior,P=_.prior;if(!g.prior&&!_.prior||!(L!=null&&L.prev().length)&&!(P!=null&&P.next().length)){var R;(0,d.default)(R=E==null?void 0:E.children()).call(R,function(Y){D.push(h.default(Y))}),O===v?x=b.createElementFragment(D,b.createDocumentFragment(),"p"):(x=b.createElement(B),(0,d.default)(D).call(D,function(Y){x.appendChild(Y.elems[0])})),this.selectionRangeElem.set(x),b.insertBefore(E,x,E.elems[0]),E.remove()}else{for(var T=L;T.length;)D.push(T),P!=null&&P.equal(T)?T=h.default(void 0):T=T.next();var $=L.prev(),I=P.next();if(O===v?x=b.createElementFragment(D,b.createDocumentFragment(),"p"):(x=b.createElement(B),(0,d.default)(D).call(D,function(Y){x.append(Y.elems[0])})),$.length&&I.length){for(var z=[];I.length;)z.push(I),I=I.next();var M=b.createElement(O);(0,d.default)(z).call(z,function(Y){M.append(Y.elems[0])}),h.default(M).insertAfter(E),this.selectionRangeElem.set(x);var Q=E.next();Q.length?b.insertBefore(E,x,Q.elems[0]):E.parent().elems[0].append(x)}else if(!$.length)this.selectionRangeElem.set(x),b.insertBefore(E,x,E.elems[0]);else{this.selectionRangeElem.set(x);var Q=E.next();Q.length?b.insertBefore(E,x,Q.elems[0]):E.parent().elems[0].append(x)}}},A}(m.ListHandle);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=function(){function h(){this._element=null}return h.prototype.set=function(m){if(m instanceof DocumentFragment){var b,C=[];(0,d.default)(b=m.childNodes).call(b,function(w){C.push(w)}),m=C}this._element=m},h.prototype.get=function(){return this._element},h.prototype.clear=function(){this._element=null},h}();i.default=p},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(58),b=t(47),C=function(w){p.__extends(A,w);function A(F){return w.call(this,F)||this}return A.prototype.exec=function(){var F,v,B,E,g,_,x,D=this.options,O=D.editor,L=D.listType,P=D.listTarget,R=D.$startElem,T=D.$endElem,$,I=O.selection.getSelectionRangeTopNodes(),z=R==null?void 0:R.getNodeName(),M=T==null?void 0:T.getNodeName();if(z===M)if(I.length>2)if(I.shift(),I.pop(),$=b.createElementFragment(b.filterSelectionNodes(I),b.createDocumentFragment()),z===L)(F=T.children())===null||F===void 0||(0,d.default)(F).call(F,function(ie){$.append(ie)}),T.remove(),this.selectionRangeElem.set($),R.elems[0].append($);else{for(var Q=document.createDocumentFragment(),Y=document.createDocumentFragment(),U=b.getStartPoint(R);U.length;){var X=U.elems[0];U=U.next(),Q.append(X)}for(var J=b.getEndPoint(T),ee=[];J.length;)ee.unshift(J.elems[0]),J=J.prev();(0,d.default)(ee).call(ee,function(ie){Y.append(ie)});var ae=b.createElement(P);ae.append(Q),ae.append($),ae.append(Y),$=ae,this.selectionRangeElem.set($),h.default(ae).insertAfter(R),!(!((v=R.children())===null||v===void 0)&&v.length)&&R.remove(),!(!((B=T.children())===null||B===void 0)&&B.length)&&T.remove()}else{I.length=0;for(var U=b.getStartPoint(R);U.length;)I.push(U),U=U.next();for(var J=b.getEndPoint(T),ee=[];J.length;)ee.unshift(J),J=J.prev();I.push.apply(I,ee),z===L?($=b.createElementFragment(I,b.createDocumentFragment(),"p"),this.selectionRangeElem.set($),b.insertBefore(R,$,T.elems[0])):($=b.createElement(P),(0,d.default)(I).call(I,function(ie){$.append(ie.elems[0])}),this.selectionRangeElem.set($),h.default($).insertAfter(R)),!(!((E=R.children())===null||E===void 0)&&E.length)&&T.remove(),!(!((g=T.children())===null||g===void 0)&&g.length)&&T.remove()}else{for(var de=[],J=b.getEndPoint(T);J.length;)de.unshift(J),J=J.prev();for(var se=[],U=b.getStartPoint(R);U.length;)se.push(U),U=U.next();if($=b.createDocumentFragment(),I.shift(),I.pop(),(0,d.default)(se).call(se,function(ie){return $.append(ie.elems[0])}),$=b.createElementFragment(b.filterSelectionNodes(I),$),(0,d.default)(de).call(de,function(ie){return $.append(ie.elems[0])}),this.selectionRangeElem.set($),z===L)R.elems[0].append($),!(!((_=T.children())===null||_===void 0)&&_.length)&&T.remove();else if(!((x=T.children())===null||x===void 0)&&x.length){var ye=T.children();b.insertBefore(ye,$,ye.elems[0])}else T.elems[0].append($)}},A}(m.ListHandle);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(58),b=t(47),C=function(w){p.__extends(A,w);function A(F){return w.call(this,F)||this}return A.prototype.exec=function(){var F,v=this.options,B=v.editor,E=v.listType,g=v.listTarget,_=v.$startElem,x,D=B.selection.getSelectionRangeTopNodes(),O=_==null?void 0:_.getNodeName();D.shift();for(var L=[],P=b.getStartPoint(_);P.length;)L.push(P),P=P.next();O===E?(x=b.createDocumentFragment(),(0,d.default)(L).call(L,function(R){return x.append(R.elems[0])}),x=b.createElementFragment(b.filterSelectionNodes(D),x),this.selectionRangeElem.set(x),_.elems[0].append(x)):(x=b.createElement(g),(0,d.default)(L).call(L,function(R){return x.append(R.elems[0])}),x=b.createElementFragment(b.filterSelectionNodes(D),x),this.selectionRangeElem.set(x),h.default(x).insertAfter(_),!(!((F=_.children())===null||F===void 0)&&F.length)&&_.remove())},A}(m.ListHandle);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(58),b=t(47),C=function(w){p.__extends(A,w);function A(F){return w.call(this,F)||this}return A.prototype.exec=function(){var F,v,B=this.options,E=B.editor,g=B.listType,_=B.listTarget,x=B.$endElem,D,O=E.selection.getSelectionRangeTopNodes(),L=x==null?void 0:x.getNodeName();O.pop();for(var P=[],R=b.getEndPoint(x);R.length;)P.unshift(R),R=R.prev();if(L===g)if(D=b.createElementFragment(b.filterSelectionNodes(O),b.createDocumentFragment()),(0,d.default)(P).call(P,function(I){return D.append(I.elems[0])}),this.selectionRangeElem.set(D),!((F=x.children())===null||F===void 0)&&F.length){var T=x.children();b.insertBefore(T,D,T.elems[0])}else x.elems[0].append(D);else{var $=b.filterSelectionNodes(O);$.push.apply($,P),D=b.createElementFragment($,b.createElement(_)),this.selectionRangeElem.set(D),h.default(D).insertBefore(x),!(!((v=x.children())===null||v===void 0)&&v.length)&&x.remove()}},A}(m.ListHandle);i.default=C},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=t(58),h=t(47),m=function(b){d.__extends(C,b);function C(w,A){var F=b.call(this,w)||this;return F.range=A,F}return C.prototype.exec=function(){var w=this.options,A=w.editor,F=w.listTarget,v=A.selection.getSelectionRangeTopNodes(),B=h.createElementFragment(h.filterSelectionNodes(v),h.createElement(F));this.selectionRangeElem.set(B),this.range.insertNode(B)},C}(p.ListHandle);i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(27));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(24)),b=h.__importDefault(t(3)),C=h.__importDefault(t(379)),w=t(6),A=function(F){h.__extends(v,F);function v(B){var E=this,g=b.default(`<div class="w-e-menu" data-title="行高">
                    <i class="w-e-icon-row-height"></i>
                </div>`),_=new C.default(B,B.config.lineHeights),x={width:100,title:"设置行高",type:"list",list:_.getItemList(),clickHandler:function(D){B.selection.saveRange(),E.command(D)}};return E=F.call(this,g,B,x)||this,E}return v.prototype.command=function(B){var E=this,g,_=window.getSelection?window.getSelection():document.getSelection(),x=["P"],D=this.editor,O="";D.selection.restoreSelection();var L=b.default(D.selection.getSelectionContainerElem());if(L!=null&&L.length){var P=b.default(D.selection.getSelectionContainerElem()),R=b.default(D.selection.getSelectionStartElem()).elems[0],T="",$=[],I="";if(L&&D.$textElem.equal(L)){var z=w.UA.isIE(),M=[],Q=[],Y=[],U=b.default(D.selection.getSelectionStartElem()),X=b.default(D.selection.getSelectionEndElem()),J=(g=D.selection.getRange())===null||g===void 0?void 0:g.commonAncestorContainer.childNodes;Q.push(this.getDom(U.elems[0])),J==null||(0,d.default)(J).call(J,function(ye,ie){ye===E.getDom(U.elems[0])&&M.push(ie),ye===E.getDom(X.elems[0])&&M.push(ie)});var ee=0,ae=void 0;for(Y.push(this.getDom(U.elems[0]));Q[ee]!==this.getDom(X.elems[0]);)ae=b.default(Q[ee].nextElementSibling).elems[0],(0,p.default)(x).call(x,b.default(ae).getNodeName())!==-1&&Y.push(ae),Q.push(ae),ee++;if(b.default(Q[0]).getNodeName()!=="P"){ee=0;for(var de=0;de<Q.length;de++)if(b.default(Q[de]).getNodeName()==="P"){ee=de;break}if(ee===0)return;for(var se=0;se!==ee;)Q.shift(),se++}this.setRange(Q[0],Q[Q.length-1]),(0,d.default)(Q).call(Q,function(ye){T=ye.getAttribute("style"),$=T?T.split(";"):[],I=E.styleProcessing($),b.default(ye).getNodeName()==="P"&&B&&(I+=B?"line-height:"+B+";":""),z?b.default(ye).css("line-height",B):O+="<"+b.default(ye).getNodeName().toLowerCase()+' style="'+I+'">'+ye.innerHTML+"</"+b.default(ye).getNodeName().toLowerCase()+">"}),O&&this.action(O,D),R=P.elems[0],this.setRange(R.children[M[0]],R.children[M[1]]);return}if(R=this.getDom(R),(0,p.default)(x).call(x,b.default(R).getNodeName())!==-1){if(T=R.getAttribute("style"),$=T?T.split(";"):[],_==null||_.selectAllChildren(R),D.selection.saveRange(),!B){T&&(I=this.styleProcessing($),I===""?O="<"+b.default(R).getNodeName().toLowerCase()+">"+R.innerHTML+"</"+b.default(R).getNodeName().toLowerCase()+">":O="<"+b.default(R).getNodeName().toLowerCase()+' style="'+I+'">'+R.innerHTML+"</"+b.default(R).getNodeName().toLowerCase()+">",this.action(O,D));return}T?I=this.styleProcessing($)+("line-height:"+B+";"):I="line-height:"+B+";",O="<"+b.default(R).getNodeName().toLowerCase()+' style="'+I+'">'+R.innerHTML+"</"+b.default(R).getNodeName().toLowerCase()+">",b.default(R).getNodeName()==="BLOCKQUOTE"||w.UA.isIE()?b.default(R).css("line-height",B):this.action(O,D)}}},v.prototype.getDom=function(B){var E=b.default(B).elems[0];if(!E.parentNode)return E;function g(_,x){var D=b.default(_.parentNode);return x.$textElem.equal(D)?_:g(D.elems[0],x)}return E=g(E,this.editor),E},v.prototype.action=function(B,E){E.cmd.do("insertHTML",B)},v.prototype.styleProcessing=function(B){var E="";return(0,d.default)(B).call(B,function(g){g!==""&&(0,p.default)(g).call(g,"line-height")===-1&&(E=E+g+";")}),E},v.prototype.setRange=function(B,E){var g=this.editor,_=window.getSelection?window.getSelection():document.getSelection();_==null||_.removeAllRanges();var x=document.createRange(),D=B,O=E;x.setStart(D,0),x.setEnd(O,1),_==null||_.addRange(x),g.selection.saveRange(),_==null||_.removeAllRanges(),g.selection.restoreSelection()},v.prototype.tryChangeActive=function(){var B=this.editor,E=B.selection.getSelectionContainerElem();if(!(E&&B.$textElem.equal(E))){var g=b.default(B.selection.getSelectionStartElem());if(g.length!==0){g=this.getDom(g.elems[0]);var _=g.getAttribute("style")?g.getAttribute("style"):"";_&&(0,p.default)(_).call(_,"line-height")!==-1?this.active():this.unActive()}}},v}(m.default);i.default=A},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=function(){function b(C,w){var A=this;this.itemList=[{$elem:h.default("<span>"+C.i18next.t("默认")+"</span>"),value:""}],(0,d.default)(w).call(w,function(F){A.itemList.push({$elem:h.default("<span>"+F+"</span>"),value:F})})}return b.prototype.getItemList=function(){return this.itemList},b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(23)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=p.default(`<div class="w-e-menu" data-title="撤销">
                <i class="w-e-icon-undo"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor;w.history.revoke();var A=w.$textElem.children();if(A!=null&&A.length){var F=A.last();w.selection.createRangeByElem(F,!1,!0),w.selection.restoreSelection()}},C.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[0]?this.active():this.unActive())},C}(h.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(23)),m=function(b){d.__extends(C,b);function C(w){var A=this,F=p.default(`<div class="w-e-menu" data-title="恢复">
                <i class="w-e-icon-redo"></i>
            </div>`);return A=b.call(this,F,w)||this,A}return C.prototype.clickHandler=function(){var w=this.editor;w.history.restore();var A=w.$textElem.children();if(A!=null&&A.length){var F=A.last();w.selection.createRangeByElem(F,!1,!0),w.selection.restoreSelection()}},C.prototype.tryChangeActive=function(){this.editor.isCompatibleMode||(this.editor.history.size[1]?this.active():this.unActive())},C}(h.default);i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(37)),h=d.__importDefault(t(3)),m=d.__importDefault(t(383)),b=d.__importDefault(t(32)),C=d.__importDefault(t(392)),w=function(A){d.__extends(F,A);function F(v){var B=this,E=h.default('<div class="w-e-menu" data-title="表格"><i class="w-e-icon-table2"></i></div>');return B=A.call(this,E,v)||this,C.default(v),B}return F.prototype.clickHandler=function(){this.createPanel()},F.prototype.createPanel=function(){var v=m.default(this.editor),B=new b.default(this,v);B.create()},F.prototype.tryChangeActive=function(){},F}(p.default);i.default=w},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(384));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(6),m=p.__importDefault(t(3));t(389);var b=p.__importDefault(t(391));function C(A){return A>0&&(0,d.default)(A)}function w(A){var F=new b.default(A),v=h.getRandom("w-col-id"),B=h.getRandom("w-row-id"),E=h.getRandom("btn-link"),g="menus.panelMenus.table.",_=function(O){return A.i18next.t(O)},x=[{title:_(g+"插入表格"),tpl:`<div>
                    <div class="w-e-table">
                        <span>`+_("创建")+`</span>
                        <input id="`+B+`"  type="text" class="w-e-table-input" value="5"/></td>
                        <span>`+_(g+"行")+`</span>
                        <input id="`+v+`" type="text" class="w-e-table-input" value="5"/></td>
                        <span>`+(_(g+"列")+_(g+"的")+_(g+"表格"))+`</span>
                    </div>
                    <div class="w-e-button-container">
                        <button type="button" id="`+E+'" class="right">'+_("插入")+`</button>
                    </div>
                </div>`,events:[{selector:"#"+E,type:"click",fn:function(){var O=Number(m.default("#"+v).val()),L=Number(m.default("#"+B).val());return C(L)&&C(O)?(F.createAction(L,O),!0):(A.config.customAlert("表格行列请输入正整数","warning"),!1)},bindEnter:!0}]}],D={width:330,height:0,tabs:[]};return D.tabs.push(x[0]),D}i.default=w},function(n,i,t){n.exports=t(385)},function(n,i,t){var u=t(386);n.exports=u},function(n,i,t){t(387);var u=t(9);n.exports=u.Number.isInteger},function(n,i,t){var u=t(5),c=t(388);u({target:"Number",stat:!0},{isInteger:c})},function(n,i,t){var u=t(13),c=Math.floor;n.exports=function(d){return!u(d)&&isFinite(d)&&c(d)===d}},function(n,i,t){var u=t(20),c=t(390);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-table {
  display: flex;
}
.w-e-table .w-e-table-input {
  width: 40px;
  text-align: center!important;
  margin: 0 5px;
}
`,""]),n.exports=i},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=t(7),h=d.__importDefault(t(3)),m=function(){function b(C){this.editor=C}return b.prototype.createAction=function(C,w){var A=this.editor,F=h.default(A.selection.getSelectionContainerElem()),v=h.default(F.elems[0]).parentUntilEditor("UL",A),B=h.default(F.elems[0]).parentUntilEditor("OL",A);if(!(v||B)){var E=this.createTableHtml(C,w);A.cmd.do("insertHTML",E)}},b.prototype.createTableHtml=function(C,w){for(var A="",F="",v=0;v<C;v++){F="";for(var B=0;B<w;B++)v===0?F=F+"<th></th>":F=F+"<td></td>";A=A+"<tr>"+F+"</tr>"}var E='<table border="0" width="100%" cellpadding="0" cellspacing="0"><tbody>'+A+("</tbody></table>"+p.EMPTY_P);return E},b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(393)),h=t(400);function m(b){p.default(b),h.bindEventKeyboardEvent(b),h.bindClickEvent(b)}i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38)),m=d.__importDefault(t(394)),b=d.__importDefault(t(399)),C=t(7);function w(B){var E;function g(x){var D=new b.default(B),O="menus.panelMenus.table.",L=function(R,T){return T===void 0&&(T=O),B.i18next.t(T+R)},P=[{$elem:p.default("<span>"+L("删除表格")+"</span>"),onClick:function(R,T){return R.selection.createRangeByElem(T),R.selection.restoreSelection(),R.cmd.do("insertHTML",C.EMPTY_P),!0}},{$elem:p.default("<span>"+L("添加行")+"</span>"),onClick:function(R,T){var $=A(R);if($)return!0;var I=p.default(R.selection.getSelectionStartElem()),z=D.getRowNode(I.elems[0]);if(!z)return!0;var M=Number(D.getCurrentRowIndex(T.elems[0],z)),Q=D.getTableHtml(T.elems[0]),Y=D.getTableHtml(m.default.ProcessingRow(p.default(Q),M).elems[0]);return Y=v(T,Y),R.selection.createRangeByElem(T),R.selection.restoreSelection(),R.cmd.do("insertHTML",Y),!0}},{$elem:p.default("<span>"+L("删除行")+"</span>"),onClick:function(R,T){var $=A(R);if($)return!0;var I=p.default(R.selection.getSelectionStartElem()),z=D.getRowNode(I.elems[0]);if(!z)return!0;var M=Number(D.getCurrentRowIndex(T.elems[0],z)),Q=D.getTableHtml(T.elems[0]),Y=m.default.DeleteRow(p.default(Q),M).elems[0].children[0].children.length,U="";return R.selection.createRangeByElem(T),R.selection.restoreSelection(),Y===0?U=C.EMPTY_P:U=D.getTableHtml(m.default.DeleteRow(p.default(Q),M).elems[0]),U=v(T,U),R.cmd.do("insertHTML",U),!0}},{$elem:p.default("<span>"+L("添加列")+"</span>"),onClick:function(R,T){var $=A(R);if($)return!0;var I=p.default(R.selection.getSelectionStartElem()),z=D.getCurrentColIndex(I.elems[0]),M=D.getTableHtml(T.elems[0]),Q=D.getTableHtml(m.default.ProcessingCol(p.default(M),z).elems[0]);return Q=v(T,Q),R.selection.createRangeByElem(T),R.selection.restoreSelection(),R.cmd.do("insertHTML",Q),!0}},{$elem:p.default("<span>"+L("删除列")+"</span>"),onClick:function(R,T){var $=A(R);if($)return!0;var I=p.default(R.selection.getSelectionStartElem()),z=D.getCurrentColIndex(I.elems[0]),M=D.getTableHtml(T.elems[0]),Q=m.default.DeleteCol(p.default(M),z),Y=Q.elems[0].children[0].children[0].children.length,U="";return R.selection.createRangeByElem(T),R.selection.restoreSelection(),Y===0?U=C.EMPTY_P:U=D.getTableHtml(Q.elems[0]),U=v(T,U),R.cmd.do("insertHTML",U),!0}},{$elem:p.default("<span>"+L("设置表头")+"</span>"),onClick:function(R,T){var $=A(R);if($)return!0;var I=p.default(R.selection.getSelectionStartElem()),z=D.getRowNode(I.elems[0]);if(!z)return!0;var M=Number(D.getCurrentRowIndex(T.elems[0],z));M!==0&&(M=0);var Q=D.getTableHtml(T.elems[0]),Y=D.getTableHtml(m.default.setTheHeader(p.default(Q),M,"th").elems[0]);return Y=v(T,Y),R.selection.createRangeByElem(T),R.selection.restoreSelection(),R.cmd.do("insertHTML",Y),!0}},{$elem:p.default("<span>"+L("取消表头")+"</span>"),onClick:function(R,T){var $=p.default(R.selection.getSelectionStartElem()),I=D.getRowNode($.elems[0]);if(!I)return!0;var z=Number(D.getCurrentRowIndex(T.elems[0],I));z!==0&&(z=0);var M=D.getTableHtml(T.elems[0]),Q=D.getTableHtml(m.default.setTheHeader(p.default(M),z,"td").elems[0]);return Q=v(T,Q),R.selection.createRangeByElem(T),R.selection.restoreSelection(),R.cmd.do("insertHTML",Q),!0}}];E=new h.default(B,x,P),E.create()}function _(){E&&(E.remove(),E=null)}return{showTableTooltip:g,hideTableTooltip:_}}function A(B){var E=B.selection.getSelectionStartElem(),g=B.selection.getSelectionEndElem();return(E==null?void 0:E.elems[0])!==(g==null?void 0:g.elems[0])}function F(B){var E=w(B),g=E.showTableTooltip,_=E.hideTableTooltip;B.txt.eventHooks.tableClickEvents.push(g),B.txt.eventHooks.clickEvents.push(_),B.txt.eventHooks.keyupEvents.push(_),B.txt.eventHooks.toolbarClickEvents.push(_),B.txt.eventHooks.menuClickEvents.push(_),B.txt.eventHooks.textScrollEvents.push(_)}i.default=F;function v(B,E){var g=B.elems[0].nextSibling;return(!g||g.innerHTML==="<br>")&&(E+=""+C.EMPTY_P),E}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(45)),p=u(t(91)),h=u(t(4)),m=u(t(138));(0,c.default)(i,"__esModule",{value:!0});var b=t(2),C=b.__importDefault(t(3));function w(_,x){for(var D=g(_),O=(0,d.default)(Array.prototype).apply(D.children),L=O[0].children.length,P=document.createElement("tr"),R=0;R<L;R++){var T=document.createElement("td");P.appendChild(T)}return(0,p.default)(O).call(O,x+1,0,P),E(D,O),C.default(D.parentNode)}function A(_,x){for(var D=g(_),O=(0,d.default)(Array.prototype).apply(D.children),L=function(R){var T,$=[];for((0,h.default)(T=(0,m.default)(O[R].children)).call(T,function(M){$.push(M)});O[R].children.length!==0;)O[R].removeChild(O[R].children[0]);var I=C.default($[0]).getNodeName()!=="TH"?document.createElement("td"):document.createElement("th");(0,p.default)($).call($,x+1,0,I);for(var z=0;z<$.length;z++)O[R].appendChild($[z])},P=0;P<O.length;P++)L(P);return E(D,O),C.default(D.parentNode)}function F(_,x){var D=g(_),O=(0,d.default)(Array.prototype).apply(D.children);return(0,p.default)(O).call(O,x,1),E(D,O),C.default(D.parentNode)}function v(_,x){for(var D=g(_),O=(0,d.default)(Array.prototype).apply(D.children),L=function(R){var T,$=[];for((0,h.default)(T=(0,m.default)(O[R].children)).call(T,function(z){$.push(z)});O[R].children.length!==0;)O[R].removeChild(O[R].children[0]);(0,p.default)($).call($,x,1);for(var I=0;I<$.length;I++)O[R].appendChild($[I])},P=0;P<O.length;P++)L(P);return E(D,O),C.default(D.parentNode)}function B(_,x,D){for(var O=g(_),L=(0,d.default)(Array.prototype).apply(O.children),P=L[x].children,R=document.createElement("tr"),T=function(I){var z,M=document.createElement(D),Q=P[I];(0,h.default)(z=(0,m.default)(Q.childNodes)).call(z,function(Y){M.appendChild(Y)}),R.appendChild(M)},$=0;$<P.length;$++)T($);return(0,p.default)(L).call(L,x,1,R),E(O,L),C.default(O.parentNode)}function E(_,x){for(;_.children.length!==0;)_.removeChild(_.children[0]);for(var D=0;D<x.length;D++)_.appendChild(x[D])}function g(_){var x=_.elems[0].children[0];return x.nodeName==="COLGROUP"&&(x=_.elems[0].children[_.elems[0].children.length-1]),x}i.default={ProcessingRow:w,ProcessingCol:A,DeleteRow:F,DeleteCol:v,setTheHeader:B}},function(n,i,t){var u=t(396);n.exports=u},function(n,i,t){t(50),t(397);var u=t(9);n.exports=u.Array.from},function(n,i,t){var u=t(5),c=t(398),d=t(114),p=!d(function(h){Array.from(h)});u({target:"Array",stat:!0,forced:p},{from:c})},function(n,i,t){var u=t(39),c=t(29),d=t(113),p=t(111),h=t(34),m=t(69),b=t(112);n.exports=function(C){var w=c(C),A=typeof this=="function"?this:Array,F=arguments.length,v=F>1?arguments[1]:void 0,B=v!==void 0,E=b(w),g=0,_,x,D,O,L,P;if(B&&(v=u(v,F>2?arguments[2]:void 0,2)),E!=null&&!(A==Array&&p(E)))for(O=E.call(w),L=O.next,x=new A;!(D=L.call(O)).done;g++)P=B?d(O,v,[D.value,g],!0):D.value,m(x,g,P);else for(_=h(w.length),x=new A(_);_>g;g++)P=B?v(w[g],g):w[g],m(x,g,P);return x.length=g,x}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(138));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(3)),b=function(){function C(w){this.editor=w}return C.prototype.getRowNode=function(w){var A,F=m.default(w).elems[0];return F.parentNode&&(F=(A=m.default(F).parentUntil("TR",F))===null||A===void 0?void 0:A.elems[0]),F},C.prototype.getCurrentRowIndex=function(w,A){var F,v=0,B=w.children[0];return B.nodeName==="COLGROUP"&&(B=w.children[w.children.length-1]),(0,d.default)(F=(0,p.default)(B.children)).call(F,function(E,g){E===A&&(v=g)}),v},C.prototype.getCurrentColIndex=function(w){var A,F,v=0,B=m.default(w).getNodeName()==="TD"||m.default(w).getNodeName()==="TH"?w:(F=m.default(w).parentUntil("TD",w))===null||F===void 0?void 0:F.elems[0],E=m.default(B).parent();return(0,d.default)(A=(0,p.default)(E.elems[0].children)).call(A,function(g,_){g===B&&(v=_)}),v},C.prototype.getTableHtml=function(w){var A='<table border="0" width="100%" cellpadding="0" cellspacing="0">'+m.default(w).html()+"</table>";return A},C}();i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.bindEventKeyboardEvent=i.bindClickEvent=void 0;var d=t(2),p=d.__importDefault(t(3));function h(C){if(!C.length)return!1;var w=C.elems[0];return w.nodeName==="P"&&w.innerHTML==="<br>"}function m(C){function w(A,F){if(F.detail>=3){var v=window.getSelection();if(v){var B=v.focusNode,E=v.anchorNode,g=p.default(E==null?void 0:E.parentElement);if(!A.isContain(p.default(B))){var _=g.elems[0].tagName==="TD"?g:g.parentUntilEditor("td",C);if(_){var x=C.selection.getRange();x==null||x.setEnd(_.elems[0],_.elems[0].childNodes.length),C.selection.restoreSelection()}}}}}C.txt.eventHooks.tableClickEvents.push(w)}i.bindClickEvent=m;function b(C){var w=C.txt,A=C.selection,F=w.eventHooks.keydownEvents;F.push(function(v){C.selection.saveRange();var B=A.getSelectionContainerElem();if(B){var E=B.getNodeTop(C),g=E.length&&E.prev().length?E.prev():null;if(g&&g.getNodeName()==="TABLE"&&A.isSelectionEmpty()&&A.getCursorPos()===0&&v.keyCode===8){var _=E.next(),x=!!_.length;x&&h(E)&&(E.remove(),C.selection.setRangeToElem(_.elems[0])),v.preventDefault()}}})}i.bindEventKeyboardEvent=b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26));(0,c.default)(i,"__esModule",{value:!0}),i.formatCodeHtml=void 0;var p=t(2),h=p.__importDefault(t(37)),m=p.__importDefault(t(3)),b=t(6),C=p.__importDefault(t(402)),w=p.__importDefault(t(139)),A=p.__importDefault(t(32)),F=p.__importDefault(t(403));function v(E,g){if(!g)return g;return g=x(g),g=_(g),g=b.replaceSpecialSymbol(g),g;function _(D){var O=D.match(/<pre[\s|\S]+?\/pre>/g);return O===null||(0,d.default)(O).call(O,function(L){D=D.replace(L,L.replace(/<\/code><code>/g,`
`).replace(/<br>/g,""))}),D}function x(D){var O,L=D.match(/<span\sclass="hljs[\s|\S]+?\/span>/gm);if(!L||!L.length)return D;for(var P=(0,d.default)(O=b.deepClone(L)).call(O,function(T){return T=T.replace(/<span\sclass="hljs[^>]+>/,""),T.replace(/<\/span>/,"")}),R=0;R<L.length;R++)D=D.replace(L[R],P[R]);return x(D)}}i.formatCodeHtml=v;var B=function(E){p.__extends(g,E);function g(_){var x=this,D=m.default('<div class="w-e-menu" data-title="代码"><i class="w-e-icon-terminal"></i></div>');return x=E.call(this,D,_)||this,F.default(_),x}return g.prototype.insertLineCode=function(_){var x=this.editor,D=m.default("<code>"+_+"</code>");x.cmd.do("insertElem",D),x.selection.createRangeByElem(D,!1),x.selection.restoreSelection()},g.prototype.clickHandler=function(){var _=this.editor,x=_.selection.getSelectionText();this.isActive||(_.selection.isSelectionEmpty()?this.createPanel("",""):this.insertLineCode(x))},g.prototype.createPanel=function(_,x){var D=C.default(this.editor,_,x),O=new A.default(this,D);O.create()},g.prototype.tryChangeActive=function(){var _=this.editor;w.default(_)?this.active():this.unActive()},g}(h.default);i.default=B},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(26));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=t(6),m=p.__importDefault(t(3)),b=p.__importDefault(t(139)),C=t(7);function w(A,F,v){var B,E=h.getRandom("input-iframe"),g=h.getRandom("select"),_=h.getRandom("btn-ok");function x(P){var R,T=b.default(A);T&&D();var $=(R=A.selection.getSelectionStartElem())===null||R===void 0?void 0:R.elems[0].innerHTML;$&&A.cmd.do("insertHTML",C.EMPTY_P),A.cmd.do("insertHTML",P);var I=A.selection.getSelectionStartElem(),z=I==null?void 0:I.getNodeTop(A);(z==null?void 0:z.getNextSibling().elems.length)===0&&m.default(C.EMPTY_P).insertAfter(z)}function D(){if(b.default(A)){var P=A.selection.getSelectionStartElem(),R=P==null?void 0:P.getNodeTop(A);!R||(A.selection.createRangeByElem(R),A.selection.restoreSelection())}}var O=function(P){return A.i18next.t(P)},L={width:500,height:0,tabs:[{title:O("menus.panelMenus.code.插入代码"),tpl:`<div>
                        <select name="" id="`+g+`">
                            `+(0,d.default)(B=A.config.languageType).call(B,function(P){return"<option "+(v==P?"selected":"")+' value ="'+P+'">'+P+"</option>"})+`
                        </select>
                        <textarea id="`+E+'" type="text" class="wang-code-textarea" placeholder="" style="height: 160px">'+F.replace(/&quot;/g,'"')+`</textarea>
                        <div class="w-e-button-container">
                            <button type="button" id="`+_+'" class="right">'+(b.default(A)?O("修改"):O("插入"))+`</button>
                        </div>
                    </div>`,events:[{selector:"#"+_,type:"click",fn:function(){var P,R,T=document.getElementById(E),$=m.default("#"+g),I=$.val(),z=T.value;if(A.highlight?P=A.highlight.highlightAuto(z).value:P="<xmp>"+z+"</xmp>",!!z)return b.default(A)?!1:(R='<pre><code class="'+I+'">'+P+"</code></pre>",x(R),!0)}}]}]};return L}i.default=w},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(404)),h=d.__importDefault(t(405));function m(b){p.default(b),h.default(b)}i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.createShowHideFn=void 0;var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38));function m(C){var w;function A(v){var B="menus.panelMenus.code.",E=function(_,x){return x===void 0&&(x=B),C.i18next.t(x+_)},g=[{$elem:p.default("<span>"+E("删除代码")+"</span>"),onClick:function(_,x){return x.remove(),!0}}];w=new h.default(C,v,g),w.create()}function F(){w&&(w.remove(),w=null)}return{showCodeTooltip:A,hideCodeTooltip:F}}i.createShowHideFn=m;function b(C){var w=m(C),A=w.showCodeTooltip,F=w.hideCodeTooltip;C.txt.eventHooks.codeClickEvents.push(A),C.txt.eventHooks.clickEvents.push(F),C.txt.eventHooks.toolbarClickEvents.push(F),C.txt.eventHooks.menuClickEvents.push(F),C.txt.eventHooks.textScrollEvents.push(F)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=t(7),h=d.__importDefault(t(3));function m(b){var C=b.$textElem,w=b.selection,A=b.txt,F=A.eventHooks.keydownEvents;F.push(function(v){var B;if(v.keyCode===40){var E=w.getSelectionContainerElem(),g=(B=C.children())===null||B===void 0?void 0:B.last();if((E==null?void 0:E.elems[0].tagName)==="XMP"&&(g==null?void 0:g.elems[0].tagName)==="PRE"){var _=h.default(p.EMPTY_P);C.append(_)}}}),F.push(function(v){b.selection.saveRange();var B=w.getSelectionContainerElem();if(B){var E=B.getNodeTop(b),g=E==null?void 0:E.prev(),_=E==null?void 0:E.getNextSibling();if(g.length&&(g==null?void 0:g.getNodeName())==="PRE"&&_.length===0&&w.getCursorPos()===0&&v.keyCode===8){var x=h.default(p.EMPTY_P);C.append(x)}}})}i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(23)),h=d.__importDefault(t(3)),m=d.__importDefault(t(407)),b=t(6),C=t(7),w=function(A){d.__extends(F,A);function F(v){var B=this,E=h.default('<div class="w-e-menu" data-title="分割线"><i class="w-e-icon-split-line"></i></div>');return B=A.call(this,E,v)||this,m.default(v),B}return F.prototype.clickHandler=function(){var v=this.editor,B=v.selection.getRange(),E=v.selection.getSelectionContainerElem();if(E!=null&&E.length){var g=h.default(E.elems[0]),_=g.parentUntil("TABLE",E.elems[0]),x=g.children();g.getNodeName()!=="CODE"&&(_&&h.default(_.elems[0]).getNodeName()==="TABLE"||x&&x.length!==0&&h.default(x.elems[0]).getNodeName()==="IMG"&&!(B!=null&&B.collapsed)||this.createSplitLine())}},F.prototype.createSplitLine=function(){var v="<hr/>"+C.EMPTY_P;b.UA.isFirefox&&(v="<hr/><p></p>"),this.editor.cmd.do("insertHTML",v)},F.prototype.tryChangeActive=function(){},F}(p.default);i.default=w},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(408));function h(m){p.default(m)}i.default=h},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=d.__importDefault(t(38));function m(C){var w;function A(v){var B=[{$elem:p.default("<span>"+C.i18next.t("menus.panelMenus.删除")+"</span>"),onClick:function(E,g){return E.selection.createRangeByElem(g),E.selection.restoreSelection(),E.cmd.do("delete"),!0}}];w=new h.default(C,v,B),w.create()}function F(){w&&(w.remove(),w=null)}return{showSplitLineTooltip:A,hideSplitLineTooltip:F}}function b(C){var w=m(C),A=w.showSplitLineTooltip,F=w.hideSplitLineTooltip;C.txt.eventHooks.splitLineEvents.push(A),C.txt.eventHooks.clickEvents.push(F),C.txt.eventHooks.keyupEvents.push(F),C.txt.eventHooks.toolbarClickEvents.push(F),C.txt.eventHooks.menuClickEvents.push(F),C.txt.eventHooks.textScrollEvents.push(F)}i.default=b},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=p.__importDefault(t(23)),b=t(97),C=p.__importDefault(t(415)),w=p.__importDefault(t(140)),A=function(F){p.__extends(v,F);function v(B){var E=this,g=h.default(`<div class="w-e-menu" data-title="待办事项">
                    <i class="w-e-icon-checkbox-checked"></i>
                </div>`);return E=F.call(this,g,B)||this,C.default(B),E}return v.prototype.clickHandler=function(){var B=this.editor;b.isAllTodo(B)?(this.cancelTodo(),this.tryChangeActive()):this.setTodo()},v.prototype.tryChangeActive=function(){b.isAllTodo(this.editor)?this.active():this.unActive()},v.prototype.setTodo=function(){var B=this.editor,E=B.selection.getSelectionRangeTopNodes();(0,d.default)(E).call(E,function(g){var _,x=g==null?void 0:g.getNodeName();if(x==="P"){var D=w.default(g),O=D.getTodo(),L=(_=O.children())===null||_===void 0?void 0:_.getNode();O.insertAfter(g),B.selection.moveCursor(L),g.remove()}}),this.tryChangeActive()},v.prototype.cancelTodo=function(){var B=this.editor,E=B.selection.getSelectionRangeTopNodes();(0,d.default)(E).call(E,function(g){var _,x,D,O=(x=(_=g.childNodes())===null||_===void 0?void 0:_.childNodes())===null||x===void 0?void 0:x.clone(!0),L=h.default("<p></p>");L.append(O),L.insertAfter(g),(D=L.childNodes())===null||D===void 0||D.get(0).remove(),B.selection.moveCursor(L.getNode()),g.remove()})},v}(m.default);i.default=A},function(n,i,t){n.exports=t(411)},function(n,i,t){var u=t(412);n.exports=u},function(n,i,t){var u=t(413),c=Array.prototype;n.exports=function(d){var p=d.every;return d===c||d instanceof Array&&p===c.every?u:p}},function(n,i,t){t(414);var u=t(15);n.exports=u("Array").every},function(n,i,t){var u=t(5),c=t(30).every,d=t(67),p=t(22),h=d("every"),m=p("every");u({target:"Array",proto:!0,forced:!h||!m},{every:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}})},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3)),m=t(97),b=p.__importDefault(t(140)),C=t(97),w=t(7);function A(F){function v(_){var x,D;if(m.isAllTodo(F)){_.preventDefault();var O=F.selection,L=O.getSelectionRangeTopNodes()[0],P=(x=L.childNodes())===null||x===void 0?void 0:x.get(0),R=(D=window.getSelection())===null||D===void 0?void 0:D.anchorNode,T=O.getRange();if(!(T!=null&&T.collapsed)){var $=T==null?void 0:T.commonAncestorContainer.childNodes,I=T==null?void 0:T.startContainer,z=T==null?void 0:T.endContainer,M=T==null?void 0:T.startOffset,Q=T==null?void 0:T.endOffset,Y=0,U=0,X=[];$==null||(0,d.default)($).call($,function(pe,je){pe.contains(I)&&(Y=je),pe.contains(z)&&(U=je)}),U-Y>1&&($==null||(0,d.default)($).call($,function(pe,je){je<=Y||je>=U||X.push(pe)}),(0,d.default)(X).call(X,function(pe){pe.remove()})),C.dealTextNode(I,M),C.dealTextNode(z,Q,!1),F.selection.moveCursor(z,0)}if(L.text()===""){var J=h.default(w.EMPTY_P);J.insertAfter(L),O.moveCursor(J.getNode()),L.remove();return}var ee=O.getCursorPos(),ae=m.getCursorNextNode(P==null?void 0:P.getNode(),R,ee),de=b.default(h.default(ae)),se=de.getInputContainer(),ye=se.parent().getNode(),ie=de.getTodo(),oe=se.getNode().nextSibling;if((P==null?void 0:P.text())===""&&(P==null||P.append(h.default("<br>"))),ie.insertAfter(L),!oe||(oe==null?void 0:oe.textContent)===""){if((oe==null?void 0:oe.nodeName)!=="BR"){var le=h.default("<br>");le.insertAfter(se)}O.moveCursor(ye,1)}else O.moveCursor(ye)}}function B(_){var x,D;if(m.isAllTodo(F)){var O=F.selection,L=O.getSelectionRangeTopNodes()[0],P=(x=L.childNodes())===null||x===void 0?void 0:x.getNode(),R=h.default("<p></p>"),T=R.getNode(),$=(D=window.getSelection())===null||D===void 0?void 0:D.anchorNode,I=O.getCursorPos(),z=$.previousSibling;if(L.text()===""){_.preventDefault();var M=h.default(w.EMPTY_P);M.insertAfter(L),L.remove(),O.moveCursor(M.getNode(),0);return}if((z==null?void 0:z.nodeName)==="SPAN"&&z.childNodes[0].nodeName==="INPUT"&&I===0){var Q;_.preventDefault(),P==null||(0,d.default)(Q=P.childNodes).call(Q,function(Y,U){U!==0&&T.appendChild(Y.cloneNode(!0))}),R.insertAfter(L),L.remove()}}}function E(){var _=F.selection,x=_.getSelectionRangeTopNodes()[0];x&&C.isTodo(x)&&x.text()===""&&(h.default(w.EMPTY_P).insertAfter(x),x.remove())}function g(_){_&&_.target instanceof HTMLInputElement&&_.target.type==="checkbox"&&(_.target.checked?_.target.setAttribute("checked","true"):_.target.removeAttribute("checked"))}F.txt.eventHooks.enterDownEvents.push(v),F.txt.eventHooks.deleteUpEvents.push(E),F.txt.eventHooks.deleteDownEvents.push(B),F.txt.eventHooks.clickEvents.push(g)}i.default=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.selectorValidator=void 0;var d=t(2),p=d.__importDefault(t(3)),h=t(6),m=t(7),b=d.__importDefault(t(129)),C={border:"1px solid #c9d8db",toolbarBgColor:"#FFF",toolbarBottomBorder:"1px solid #EEE"};function w(F){var v=F.toolbarSelector,B=p.default(v),E=F.textSelector,g=F.config,_=g.height,x=F.i18next,D=p.default("<div></div>"),O=p.default("<div></div>"),L,P,R=null;E==null?(P=B.children(),B.append(D).append(O),D.css("background-color",C.toolbarBgColor).css("border",C.border).css("border-bottom",C.toolbarBottomBorder),O.css("border",C.border).css("border-top","none").css("height",_+"px")):(B.append(D),R=p.default(E).children(),p.default(E).append(O),P=O.children()),L=p.default("<div></div>"),L.attr("contenteditable","true").css("width","100%").css("height","100%");var T,$=F.config.placeholder;$!==b.default.placeholder?T=p.default("<div>"+$+"</div>"):T=p.default("<div>"+x.t($)+"</div>"),T.addClass("placeholder"),P&&P.length?(L.append(P),T.hide()):L.append(p.default(m.EMPTY_P)),R&&R.length&&(L.append(R),T.hide()),O.append(L),O.append(T),D.addClass("w-e-toolbar").css("z-index",F.zIndex.get("toolbar")),O.addClass("w-e-text-container"),O.css("z-index",F.zIndex.get()),L.addClass("w-e-text");var I=h.getRandom("toolbar-elem");D.attr("id",I);var z=h.getRandom("text-elem");L.attr("id",z);var M=O.getBoundingClientRect().height,Q=L.getBoundingClientRect().height;M!==Q&&L.css("min-height",M+"px"),F.$toolbarElem=D,F.$textContainerElem=O,F.$textElem=L,F.toolbarElemId=I,F.textElemId=z}i.default=w;function A(F){var v="data-we-id",B=/^wangEditor-\d+$/,E=F.textSelector,g=F.toolbarSelector,_={bar:p.default("<div></div>"),text:p.default("<div></div>")};if(g==null)throw new Error("错误：初始化编辑器时候未传入任何参数，请查阅文档");if(_.bar=p.default(g),!_.bar.elems.length)throw new Error("无效的节点选择器："+g);if(B.test(_.bar.attr(v)))throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器");if(E){if(_.text=p.default(E),!_.text.elems.length)throw new Error("无效的节点选择器："+E);if(B.test(_.text.attr(v)))throw new Error("初始化节点已存在编辑器实例，无法重复创建编辑器")}_.bar.attr(v,F.id),_.text.attr(v,F.id),F.beforeDestroy(function(){_.bar.removeAttr(v),_.text.removeAttr(v)})}i.selectorValidator=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(3)),h=t(7);function m(b,C){var w=b.$textElem,A=w.children();if(!A||!A.length){w.append(p.default(h.EMPTY_P)),m(b);return}var F=A.last();if(C){var v=F.html().toLowerCase(),B=F.getNodeName();if(v!=="<br>"&&v!=="<br/>"||B!=="P"){w.append(p.default(h.EMPTY_P)),m(b);return}}b.selection.createRangeByElem(F,!1,!0),b.config.focus?b.selection.restoreSelection():b.selection.clearWindowSelectionRange()}i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3));function m(v){b(v),C(v),w(v)}function b(v){v.txt.eventHooks.changeEvents.push(function(){var B=v.config.onchange;if(B){var E=v.txt.html()||"";v.isFocus=!0,B(E)}v.txt.togglePlaceholder()})}function C(v){v.isFocus=!1;function B(E){var g=E.target,_=h.default(g),x=v.$textElem,D=v.$toolbarElem,O=x.isContain(_),L=D.isContain(_),P=D.elems[0]==E.target;if(O)v.isFocus||F(v),v.isFocus=!0;else{if(L&&!P||!v.isFocus)return;A(v),v.isFocus=!1}}document.activeElement===v.$textElem.elems[0]&&v.config.focus&&(F(v),v.isFocus=!0),h.default(document).on("click",B),v.beforeDestroy(function(){h.default(document).off("click",B)})}function w(v){v.$textElem.on("compositionstart",function(){v.isComposing=!0,v.txt.togglePlaceholder()}).on("compositionend",function(){v.isComposing=!1,v.txt.togglePlaceholder()})}function A(v){var B,E=v.config,g=E.onblur,_=v.txt.html()||"";(0,d.default)(B=v.txt.eventHooks.onBlurEvents).call(B,function(x){return x()}),g(_)}function F(v){var B=v.config,E=B.onfocus,g=v.txt.html()||"";E(g)}i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});function d(p){var h=p.config,m=h.lang,b=h.languages;if(p.i18next!=null){try{p.i18next.init({ns:"wangEditor",lng:m,defaultNS:"wangEditor",resources:b})}catch(C){throw new Error("i18next:"+C)}return}p.i18next={t:function(C){var w=C.split(".");return w[w.length-1]}}}i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31));(0,c.default)(i,"__esModule",{value:!0}),i.setUnFullScreen=i.setFullScreen=void 0;var p=t(2),h=p.__importDefault(t(3));t(421);var m="w-e-icon-fullscreen",b="w-e-icon-fullscreen_exit",C="w-e-full-screen-editor";i.setFullScreen=function(A){var F=h.default(A.toolbarSelector),v=A.$textContainerElem,B=A.$toolbarElem,E=(0,d.default)(B).call(B,"i."+m),g=A.config;E.removeClass(m),E.addClass(b),F.addClass(C),F.css("z-index",g.zIndexFullScreen);var _=B.getBoundingClientRect();v.css("height","calc(100% - "+_.height+"px)")},i.setUnFullScreen=function(A){var F=h.default(A.toolbarSelector),v=A.$textContainerElem,B=A.$toolbarElem,E=(0,d.default)(B).call(B,"i."+b),g=A.config;E.removeClass(b),E.addClass(m),F.removeClass(C),F.css("z-index","auto"),v.css("height",g.height+"px")};var w=function(A){if(!A.textSelector&&A.config.showFullScreen){var F=A.$toolbarElem,v=h.default(`<div class="w-e-menu" data-title="全屏">
            <i class="`+m+`"></i>
        </div>`);v.on("click",function(B){var E,g=(0,d.default)(E=h.default(B.currentTarget)).call(E,"i");g.hasClass(m)?(v.attr("data-title","取消全屏"),i.setFullScreen(A)):(v.attr("data-title","全屏"),i.setUnFullScreen(A))}),F.append(v)}};i.default=w},function(n,i,t){var u=t(20),c=t(422);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-full-screen-editor {
  position: fixed;
  width: 100%!important;
  height: 100%!important;
  left: 0;
  top: 0;
}
`,""]),n.exports=i},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31));(0,c.default)(i,"__esModule",{value:!0});var p=function(h,m){var b,C=h.isEnable?h.$textElem:(0,d.default)(b=h.$textContainerElem).call(b,".w-e-content-mantle"),w=(0,d.default)(C).call(C,"[id='"+m+"']"),A=w.getOffsetData().top;C.scrollTop(A)};i.default=p},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(128)),h={menu:2,panel:2,toolbar:1,tooltip:1,textContainer:1},m=function(){function b(){this.tier=h,this.baseZIndex=p.default.zIndex}return b.prototype.get=function(C){return C&&this.tier[C]?this.baseZIndex+this.tier[C]:this.baseZIndex},b.prototype.init=function(C){this.baseZIndex==p.default.zIndex&&(this.baseZIndex=C.config.zIndex)},b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(70)),p=u(t(4));(0,c.default)(i,"__esModule",{value:!0});var h=t(2),m=h.__importDefault(t(426)),b=t(6),C=t(7);function w(F,v){return(0,d.default)(F).call(F,function(B){var E=B.type,g=B.target,_=B.attributeName;return E!="attributes"||E=="attributes"&&(_=="contenteditable"||g!=v)})}var A=function(F){h.__extends(v,F);function v(B){var E=F.call(this,function(g,_){var x;if(g=w(g,_.target),(x=E.data).push.apply(x,g),B.isCompatibleMode)E.asyncSave();else if(!B.isComposing)return E.asyncSave()})||this;return E.editor=B,E.data=[],E.asyncSave=C.EMPTY_FN,E}return v.prototype.save=function(){this.data.length&&(this.editor.history.save(this.data),this.data.length=0,this.emit())},v.prototype.emit=function(){var B;(0,p.default)(B=this.editor.txt.eventHooks.changeEvents).call(B,function(E){return E()})},v.prototype.observe=function(){var B=this;F.prototype.observe.call(this,this.editor.$textElem.elems[0]);var E=this.editor.config.onchangeTimeout;this.asyncSave=b.debounce(function(){B.save()},E),this.editor.isCompatibleMode||this.editor.$textElem.on("compositionend",function(){B.asyncSave()})},v}(m.default);i.default=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=function(){function p(h,m){var b=this;this.options={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0},this.callback=function(C){h(C,b)},this.observer=new MutationObserver(this.callback),m&&(this.options=m)}return(0,c.default)(p.prototype,"target",{get:function(){return this.node},enumerable:!1,configurable:!0}),p.prototype.observe=function(h){this.node instanceof Node||(this.node=h,this.connect())},p.prototype.connect=function(){if(this.node)return this.observer.observe(this.node,this.options),this;throw new Error("还未初始化绑定，请您先绑定有效的 Node 节点")},p.prototype.disconnect=function(){var h=this.observer.takeRecords();h.length&&this.callback(h),this.observer.disconnect()},p}();i.default=d},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(428)),h=d.__importDefault(t(435)),m=d.__importDefault(t(436)),b=function(){function C(w){this.editor=w,this.content=new p.default(w),this.scroll=new h.default(w),this.range=new m.default(w)}return(0,c.default)(C.prototype,"size",{get:function(){return this.scroll.size},enumerable:!1,configurable:!0}),C.prototype.observe=function(){this.content.observe(),this.scroll.observe(),!this.editor.isCompatibleMode&&this.range.observe()},C.prototype.save=function(w){w.length&&(this.content.save(w),this.scroll.save(),!this.editor.isCompatibleMode&&this.range.save())},C.prototype.revoke=function(){this.editor.change.disconnect();var w=this.content.revoke();w&&(this.scroll.revoke(),this.editor.isCompatibleMode||(this.range.revoke(),this.editor.$textElem.focus())),this.editor.change.connect(),w&&this.editor.change.emit()},C.prototype.restore=function(){this.editor.change.disconnect();var w=this.content.restore();w&&(this.scroll.restore(),this.editor.isCompatibleMode||(this.range.restore(),this.editor.$textElem.focus())),this.editor.change.connect(),w&&this.editor.change.emit()},C}();i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(429)),h=d.__importDefault(t(433)),m=function(){function b(C){this.editor=C}return b.prototype.observe=function(){this.editor.isCompatibleMode?this.cache=new h.default(this.editor):this.cache=new p.default(this.editor),this.cache.observe()},b.prototype.save=function(C){this.editor.isCompatibleMode?this.cache.save():this.cache.compile(C)},b.prototype.revoke=function(){var C;return(C=this.cache)===null||C===void 0?void 0:C.revoke()},b.prototype.restore=function(){var C;return(C=this.cache)===null||C===void 0?void 0:C.restore()},b}();i.default=m},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(98)),h=d.__importDefault(t(431)),m=t(432),b=function(C){d.__extends(w,C);function w(A){var F=C.call(this,A.config.historyMaxSize)||this;return F.editor=A,F}return w.prototype.observe=function(){this.resetMaxSize(this.editor.config.historyMaxSize)},w.prototype.compile=function(A){return this.save(h.default(A)),this},w.prototype.revoke=function(){return C.prototype.revoke.call(this,function(A){m.revoke(A)})},w.prototype.restore=function(){return C.prototype.restore.call(this,function(A){m.restore(A)})},w}(p.default);i.default=b},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0}),i.CeilStack=void 0;var d=function(){function p(h){h===void 0&&(h=0),this.data=[],this.max=0,this.reset=!1,h=Math.abs(h),h&&(this.max=h)}return p.prototype.resetMax=function(h){h=Math.abs(h),!this.reset&&!isNaN(h)&&(this.max=h,this.reset=!0)},(0,c.default)(p.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),p.prototype.instack=function(h){return this.data.unshift(h),this.max&&this.size>this.max&&(this.data.length=this.max),this},p.prototype.outstack=function(){return this.data.shift()},p.prototype.clear=function(){return this.data.length=0,this},p}();i.CeilStack=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(27));(0,c.default)(i,"__esModule",{value:!0}),i.compliePosition=i.complieNodes=i.compileValue=i.compileType=void 0;var h=t(6);function m(B){switch(B){case"childList":return"node";case"attributes":return"attr";default:return"text"}}i.compileType=m;function b(B){switch(B.type){case"attributes":return B.target.getAttribute(B.attributeName)||"";case"characterData":return B.target.textContent;default:return""}}i.compileValue=b;function C(B){var E={};return B.addedNodes.length&&(E.add=h.toArray(B.addedNodes)),B.removedNodes.length&&(E.remove=h.toArray(B.removedNodes)),E}i.complieNodes=C;function w(B){var E;return B.previousSibling?E={type:"before",target:B.previousSibling}:B.nextSibling?E={type:"after",target:B.nextSibling}:E={type:"parent",target:B.target},E}i.compliePosition=w;var A=["UL","OL","H1","H2","H3","H4","H5","H6"];function F(B){var E=[],g=!1,_=[];return(0,d.default)(B).call(B,function(x,D){var O={type:m(x.type),target:x.target,attr:x.attributeName||"",value:b(x)||"",oldValue:x.oldValue||"",nodes:C(x),position:w(x)};if(E.push(O),!!h.UA.isFirefox){if(g&&x.addedNodes.length&&x.addedNodes[0].nodeType==1){var L=x.addedNodes[0],P={type:"node",target:L,attr:"",value:"",oldValue:"",nodes:{add:[g]},position:{type:"parent",target:L}};(0,p.default)(A).call(A,L.nodeName)!=-1?(P.nodes.add=h.toArray(L.childNodes),E.push(P)):g.nodeType==3?(v(L,_)&&(P.nodes.add=h.toArray(L.childNodes)),E.push(P)):(0,p.default)(A).call(A,x.target.nodeName)==-1&&v(L,_)&&(P.nodes.add=h.toArray(L.childNodes),E.push(P))}O.type=="node"&&x.removedNodes.length==1?(g=x.removedNodes[0],_.push(g)):(g=!1,_.length=0)}}),E}i.default=F;function v(B,E){for(var g=0,_=E.length-1;_>0&&B.contains(E[_]);_--)g++;return g}},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(4)),p=u(t(94));(0,c.default)(i,"__esModule",{value:!0}),i.restore=i.revoke=void 0;function h(_,x){var D=_.position.target;switch(_.position.type){case"before":D.nextSibling?(D=D.nextSibling,(0,d.default)(x).call(x,function(O){_.target.insertBefore(O,D)})):(0,d.default)(x).call(x,function(O){_.target.appendChild(O)});break;case"after":(0,d.default)(x).call(x,function(O){_.target.insertBefore(O,D)});break;default:(0,d.default)(x).call(x,function(O){D.appendChild(O)});break}}function m(_){for(var x=0,D=(0,p.default)(_.nodes);x<D.length;x++){var O=D[x],L=O[0],P=O[1];switch(L){case"add":(0,d.default)(P).call(P,function(R){_.target.removeChild(R)});break;default:{h(_,P);break}}}}function b(_){var x=_.target;_.oldValue==null?x.removeAttribute(_.attr):x.setAttribute(_.attr,_.oldValue)}function C(_){_.target.textContent=_.oldValue}var w={node:m,text:C,attr:b};function A(_){for(var x=_.length-1;x>-1;x--){var D=_[x];w[D.type](D)}}i.revoke=A;function F(_){for(var x=0,D=(0,p.default)(_.nodes);x<D.length;x++){var O=D[x],L=O[0],P=O[1];switch(L){case"add":{h(_,P);break}default:{(0,d.default)(P).call(P,function(R){R.parentNode.removeChild(R)});break}}}}function v(_){_.target.textContent=_.value}function B(_){_.target.setAttribute(_.attr,_.value)}var E={node:F,text:v,attr:B};function g(_){for(var x=0,D=_;x<D.length;x++){var O=D[x];E[O.type](O)}}i.restore=g},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(434),p=function(){function h(m){this.editor=m,this.data=new d.TailChain}return h.prototype.observe=function(){this.data.resetMax(this.editor.config.historyMaxSize),this.data.insertLast(this.editor.$textElem.html())},h.prototype.save=function(){return this.data.insertLast(this.editor.$textElem.html()),this},h.prototype.revoke=function(){var m=this.data.prev();return m?(this.editor.$textElem.html(m),!0):!1},h.prototype.restore=function(){var m=this.data.next();return m?(this.editor.$textElem.html(m),!0):!1},h}();i.default=p},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(91));(0,c.default)(i,"__esModule",{value:!0}),i.TailChain=void 0;var p=function(){function h(){this.data=[],this.max=0,this.point=0,this.isRe=!1}return h.prototype.resetMax=function(m){m=Math.abs(m),m&&(this.max=m)},(0,c.default)(h.prototype,"size",{get:function(){return this.data.length},enumerable:!1,configurable:!0}),h.prototype.insertLast=function(m){if(this.isRe){var b;(0,d.default)(b=this.data).call(b,this.point+1),this.isRe=!1}for(this.data.push(m);this.max&&this.size>this.max;)this.data.shift();return this.point=this.size-1,this},h.prototype.current=function(){return this.data[this.point]},h.prototype.prev=function(){if(!this.isRe&&(this.isRe=!0),this.point--,this.point<0){this.point=0;return}return this.current()},h.prototype.next=function(){if(!this.isRe&&(this.isRe=!0),this.point++,this.point>=this.size){this.point=this.size-1;return}return this.current()},h}();i.TailChain=p},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(98)),h=function(m){d.__extends(b,m);function b(C){var w=m.call(this,C.config.historyMaxSize)||this;return w.editor=C,w.last=0,w.target=C.$textElem.elems[0],w}return b.prototype.observe=function(){var C=this;this.target=this.editor.$textElem.elems[0],this.editor.$textElem.on("scroll",function(){C.last=C.target.scrollTop}),this.resetMaxSize(this.editor.config.historyMaxSize)},b.prototype.save=function(){return m.prototype.save.call(this,[this.last,this.target.scrollTop]),this},b.prototype.revoke=function(){var C=this;return m.prototype.revoke.call(this,function(w){C.target.scrollTop=w[0]})},b.prototype.restore=function(){var C=this;return m.prototype.restore.call(this,function(w){C.target.scrollTop=w[1]})},b}(p.default);i.default=h},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=t(2),p=d.__importDefault(t(98)),h=d.__importDefault(t(3)),m=t(6);function b(w){return{start:[w.startContainer,w.startOffset],end:[w.endContainer,w.endOffset],root:w.commonAncestorContainer,collapsed:w.collapsed}}var C=function(w){d.__extends(A,w);function A(F){var v=w.call(this,F.config.historyMaxSize)||this;return v.editor=F,v.lastRange=b(document.createRange()),v.root=F.$textElem.elems[0],v.updateLastRange=m.debounce(function(){v.lastRange=b(v.rangeHandle)},F.config.onchangeTimeout),v}return(0,c.default)(A.prototype,"rangeHandle",{get:function(){var F=document.getSelection();return F&&F.rangeCount?F.getRangeAt(0):document.createRange()},enumerable:!1,configurable:!0}),A.prototype.observe=function(){var F=this;this.root=this.editor.$textElem.elems[0],this.resetMaxSize(this.editor.config.historyMaxSize);function v(){var E=F.rangeHandle;(F.root===E.commonAncestorContainer||F.root.contains(E.commonAncestorContainer))&&(F.editor.isComposing||F.updateLastRange())}function B(E){(E.key=="Backspace"||E.key=="Delete")&&F.updateLastRange()}h.default(document).on("selectionchange",v),this.editor.beforeDestroy(function(){h.default(document).off("selectionchange",v)}),F.editor.$textElem.on("keydown",B)},A.prototype.save=function(){var F=b(this.rangeHandle);return w.prototype.save.call(this,[this.lastRange,F]),this.lastRange=F,this},A.prototype.set=function(F){try{if(F){var v=this.rangeHandle;return v.setStart.apply(v,F.start),v.setEnd.apply(v,F.end),this.editor.menus.changeActive(),!0}}catch(B){return!1}return!1},A.prototype.revoke=function(){var F=this;return w.prototype.revoke.call(this,function(v){F.set(v[0])})},A.prototype.restore=function(){var F=this;return w.prototype.restore.call(this,function(v){F.set(v[1])})},A}(p.default);i.default=C},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(31));(0,c.default)(i,"__esModule",{value:!0});var p=t(2),h=p.__importDefault(t(3));t(438);function m(b){var C=!1,w,A;b.txt.eventHooks.changeEvents.push(function(){C&&(0,d.default)(w).call(w,".w-e-content-preview").html(b.$textElem.html())});function F(){if(!C){b.$textElem.hide();var B=b.zIndex.get("textContainer"),E=b.txt.html();w=h.default('<div class="w-e-content-mantle" style="z-index:'+B+`">
                <div class="w-e-content-preview w-e-text">`+E+`</div>
            </div>`),b.$textContainerElem.append(w);var g=b.zIndex.get("menu");A=h.default('<div class="w-e-menue-mantle" style="z-index:'+g+'"></div>'),b.$toolbarElem.append(A),C=!0,b.isEnable=!1}}function v(){!C||(w.remove(),A.remove(),b.$textElem.show(),C=!1,b.isEnable=!0)}return{disable:F,enable:v}}i.default=m},function(n,i,t){var u=t(20),c=t(439);c=c.__esModule?c.default:c,typeof c=="string"&&(c=[[n.i,c,""]]);var d={};d.insert="head",d.singleton=!1,u(c,d),n.exports=c.locals||{}},function(n,i,t){var u=t(21);i=u(!1),i.push([n.i,`.w-e-content-mantle {
  width: 100%;
  height: 100%;
  overflow-y: auto;
}
.w-e-content-mantle .w-e-content-preview {
  width: 100%;
  min-height: 100%;
  padding: 0 10px;
  line-height: 1.5;
}
.w-e-content-mantle .w-e-content-preview img {
  cursor: default;
}
.w-e-content-mantle .w-e-content-preview img:hover {
  box-shadow: none;
}
.w-e-menue-mantle {
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
}
`,""]),n.exports=i},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0});var d=function(){function p(h){var m=this;this.editor=h;var b=function(){var C=document.activeElement;C===h.$textElem.elems[0]&&m.emit()};window.document.addEventListener("selectionchange",b),this.editor.beforeDestroy(function(){window.document.removeEventListener("selectionchange",b)})}return p.prototype.emit=function(){var h,m=this.editor.config.onSelectionChange;if(m){var b=this.editor.selection;b.saveRange(),b.isSelectionEmpty()||m({text:b.getSelectionText(),html:(h=b.getSelectionContainerElem())===null||h===void 0?void 0:h.elems[0].innerHTML,selection:b})}},p}();i.default=d},function(n,i,t){var u=t(0),c=u(t(1)),d=u(t(127)),p=u(t(94)),h=u(t(4));(0,c.default)(i,"__esModule",{value:!0}),i.registerPlugin=void 0;var m=t(2),b=m.__importDefault(t(87)),C=t(6);function w(F,v,B){if(!F)throw new TypeError("name is not define");if(!v)throw new TypeError("options is not define");if(!v.intention)throw new TypeError("options.intention is not define");if(v.intention&&typeof v.intention!="function")throw new TypeError("options.intention is not function");B[F]&&console.warn("plugin "+F+" 已存在，已覆盖。"),B[F]=v}i.registerPlugin=w;function A(F){var v=(0,d.default)({},C.deepClone(b.default.globalPluginsFunctionList),C.deepClone(F.pluginsFunctionList)),B=(0,p.default)(v);(0,h.default)(B).call(B,function(E){var g=E[0],_=E[1];console.info("plugin "+g+" initializing");var x=_.intention,D=_.config;x(F,D),console.info("plugin "+g+" initialization complete")})}i.default=A},function(n,i,t){var u=t(0),c=u(t(1));(0,c.default)(i,"__esModule",{value:!0})}]).default})})(Dp);var rA=nA(Dp.exports),iA="fcEditor",oA=1,uA=Object.assign||function(o){for(var a,n=1;n<arguments.length;n++)for(var i in a=arguments[n],a)Object.prototype.hasOwnProperty.call(a,i)&&(o[i]=a[i]);return o},aA=wt({name:iA,props:{modelValue:String,init:Function,disabled:Boolean,config:Object},inheritAttrs:!1,emits:["update:modelValue"],data:function(){return{editor:{},uni:oA++}},watch:{disabled:function(){this.enable()},modelValue:function(o){o!==this.editor.txt.html()&&this.editor.txt.html(o)}},methods:{enable:function(){this.disabled?this.editor.disable():this.editor.enable()},result:function(){this.$emit("update:modelValue",this.editor.txt.html())}},mounted:function(){var o=this;this.$nextTick(function(){o.editor=new rA("#editor".concat(o.uni)),o.editor.config.zIndex=2,o.config&&uA(o.editor.config,o.config),o.init&&o.init(o.editor),o.editor.create(),o.enable(),o.editor.txt.html(o.modelValue)})},render:function(){var o=eA({},this.$attrs);return delete o.id,ve("div",In(o,{onInput:this.result,id:"editor".concat(this.uni),style:"line-height: normal;"}),null)},beforeDestroy:function(){this.editor&&this.editor.destroy(),this.editor=null}});const kp=(o,a)=>{Pt.component(o,a),Ss.component(o,a)};Pt.component("draggable",Bs);Pt.component("DragTool",F1);Pt.component("DragBox",z1);Pt.component("Validate",V1);Pt.component("Struct",R1);Pt.component("Fetch",L1);Pt.component("Required",Q1);Pt.component("TableOptions",Z1);kp("FcEditor",aA);Pt.register("_fc",{load(o,a){a._id=St()}});Pt.register("_fc_tool",{load(o,a){a.props.unique=St()}});const lA=function(o){o.component("FcDesigner",Xr)};Xr.install=lA;Xr.makeOptionsRule=ji;Xr.formCreate=Ss;Xr.designerForm=Pt;Xr.component=kp;Xr.useLocale=Bp;Xr.t=ys;class sA{constructor(){vr(this,"id",0)}}class dA extends sA{constructor(){super(...arguments);vr(this,"active",!1);vr(this,"createdAt",null);vr(this,"createdBy",0);vr(this,"lastModifiedAt",null);vr(this,"lastModifiedBy",0);vr(this,"deletedAt",null);vr(this,"deletedBy",0)}}export{dA as B,Xr as E,Ju as F};
