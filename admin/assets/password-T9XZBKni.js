var _=(w,a,d)=>new Promise((m,e)=>{var p=s=>{try{o(d.next(s))}catch(l){e(l)}},r=s=>{try{o(d.throw(s))}catch(l){e(l)}},o=s=>s.done?m(s.value):Promise.resolve(s.value).then(p,r);o((d=d.apply(w,a)).next())});import{d as h,z as y,r as q,A as C,o as k,l as f,b as $,e as B,w as t,j as U,t as P,h as n,i as c,k as I,aL as u,G as N}from"./index-pnIAAE5C.js";import{a as V}from"./user-TOgPXo9M.js";import{I as x}from"./index-wgmqsKcF.js";import{_ as A,F}from"./index-VlrFu-ss.js";import{C as S}from"./index-Op_cXz9C.js";import"./index-VNRHbV9K.js";import"./index-JesWGt6T.js";import"./shallowequal-xQF9CRge.js";import"./EyeOutlined-aHA4LyLO.js";import"./Col-EaEEjgv7.js";import"./responsiveObserve-KV6RHDR4.js";import"./useFlexGapSupport-8mjknAI0.js";import"./isMobile-FiHTxwE3.js";import"./useMergedState-mUeLCElB.js";const X=h({__name:"password",setup(w){const{t:a}=y(),d=q(),m={originalPassword:[{required:!0,message:a("common.user_field_original_password_validation")}],newPassword:[{required:!0,message:a("common.user_field_new_password_validation")}],confirmPassword:[{required:!0,message:a("common.user_field_confirm_password_validation")}]},e=C({originalPassword:"",newPassword:"",confirmPassword:""}),p=()=>_(this,null,function*(){const r={originalPassword:e.originalPassword,newPassword:e.newPassword};V(r).then(o=>{o.code==200?u.success(a("common.modify_success")):u.error(a("common.modify_fail"))}).catch(o=>{f(o),u.error(a("common.system_error"))})});return k(()=>_(this,null,function*(){f("Page <<UserCenterPasswordPage>> mounted.")})),(r,o)=>{const s=x,l=A,g=N,b=F,v=S;return $(),B(v,{shadow:"never"},{title:t(()=>[U("div",null,P(r.$t("common.user_pages_change_password_title")),1)]),default:t(()=>[n(b,{ref_key:"form",ref:d,model:e,rules:m,"label-width":"200px",style:{"max-width":"500px"}},{default:t(()=>[n(l,{required:!0,name:"originalPassword","label-col":{span:4},label:r.$t("common.user_field_original_password")},{default:t(()=>[n(s,{value:e.originalPassword,"onUpdate:value":o[0]||(o[0]=i=>e.originalPassword=i),placeholder:c(a)("common.user_field_original_password_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(l,{required:!0,name:"newPassword","label-col":{span:4},label:r.$t("common.user_field_new_password")},{default:t(()=>[n(s,{type:"password",value:e.newPassword,"onUpdate:value":o[1]||(o[1]=i=>e.newPassword=i),placeholder:c(a)("common.user_field_new_password_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(l,{required:!0,name:"confirmPassword","label-col":{span:4},label:r.$t("common.user_field_confirm_password")},{default:t(()=>[n(s,{type:"password",value:e.confirmPassword,"onUpdate:value":o[2]||(o[2]=i=>e.confirmPassword=i),placeholder:c(a)("common.user_field_confirm_password_placeholder")},null,8,["value","placeholder"])]),_:1},8,["label"]),n(l,{colon:!1,"label-col":{span:16}},{label:t(()=>[n(g,{class:"!w-36",onClick:p,type:"primary"},{default:t(()=>[I(P(r.$t("common.button_submit")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}});export{X as default};
