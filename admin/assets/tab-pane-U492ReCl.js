var Pe=Object.defineProperty,Se=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var oe=(e,t,s)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,X=(e,t)=>{for(var s in t||(t={}))Ee.call(t,s)&&oe(e,s,t[s]);if(le)for(var s of le(t))xe.call(t,s)&&oe(e,s,t[s]);return e},Z=(e,t)=>Se(e,$e(t));var M=(e,t,s)=>new Promise((y,i)=>{var a=r=>{try{_(s.next(r))}catch(f){i(f)}},l=r=>{try{_(s.throw(r))}catch(f){i(f)}},_=r=>r.done?y(r.value):Promise.resolve(r.value).then(a,l);_((s=s.apply(e,t)).next())});import{c8 as Be,bb as ke,c7 as Oe,ah as U,ai as ee,d as F,Y as te,a6 as K,r as w,_ as R,$ as ae,aF as ue,e as de,g as be,a7 as ve,i as B,ag as Re,af as fe,a0 as j,c9 as ze,ca as Ae,c as V,o as me,aw as Fe,j as v,aq as L,bu as Me,aI as Ve,bt as Ie,bB as D,aj as Le,ac as Q,cb as De,Z as re,V as Ue,W as Ke,a5 as je,cc as ie,aO as qe,ax as We,ab as He,aG as Ye,ad as Ge,al as Xe,am as Ze}from"./index-_pyGAx0K.js";import{m as pe}from"./typescript-WBLZcIum.js";import{f as Je,t as se,u as Qe}from"./index-Z1Kh4gKq.js";import{U as he}from"./event-m6_tN6NJ.js";const O=e=>Be(e),et=(e,t,s)=>Je(e.subTree).filter(a=>{var l;return Oe(a)&&((l=a.type)==null?void 0:l.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>s[a]).filter(a=>!!a),tt=(e,t)=>{const s={},y=ke([]);return{children:y,addChild:l=>{s[l.uid]=l,y.value=et(e,t,s)},removeChild:l=>{delete s[l],y.value=y.value.filter(_=>_.uid!==l)}}},q=Symbol("tabsRootContextKey"),at=U({tabs:{type:ee(Array),default:()=>pe([])}}),ye="ElTabBar",st=F({name:ye}),nt=F(Z(X({},st),{props:at,setup(e,{expose:t}){const s=e,y=j(),i=te(q);i||se(ye,"<el-tabs><el-tab-bar /></el-tabs>");const a=K("tabs"),l=w(),_=w(),r=()=>{let m=0,p=0;const d=["top","bottom"].includes(i.props.tabPosition)?"width":"height",c=d==="width"?"x":"y",k=c==="x"?"left":"top";return s.tabs.every(E=>{var n,S;const N=(S=(n=y.parent)==null?void 0:n.refs)==null?void 0:S[`tab-${E.uid}`];if(!N)return!1;if(!E.active)return!0;m=N[`offset${O(k)}`],p=N[`client${O(d)}`];const $=window.getComputedStyle(N);return d==="width"&&(s.tabs.length>1&&(p-=Number.parseFloat($.paddingLeft)+Number.parseFloat($.paddingRight)),m+=Number.parseFloat($.paddingLeft)),!1}),{[d]:`${p}px`,transform:`translate${O(c)}(${m}px)`}},f=()=>_.value=r();return R(()=>s.tabs,()=>M(this,null,function*(){yield ae(),f()}),{immediate:!0}),ue(l,()=>f()),t({ref:l,update:f}),(m,p)=>(de(),be("div",{ref_key:"barRef",ref:l,class:ve([B(a).e("active-bar"),B(a).is(B(i).props.tabPosition)]),style:Re(_.value)},null,6))}}));var lt=fe(nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const ot=U({panes:{type:ee(Array),default:()=>pe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),rt={tabClick:(e,t,s)=>s instanceof Event,tabRemove:(e,t)=>t instanceof Event},ce="ElTabNav",it=F({name:ce,props:ot,emits:rt,setup(e,{expose:t,emit:s}){const y=j(),i=te(q);i||se(ce,"<el-tabs><tab-nav /></el-tabs>");const a=K("tabs"),l=ze(),_=Ae(),r=w(),f=w(),m=w(),p=w(),d=w(!1),c=w(0),k=w(!1),E=w(!0),n=V(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),S=V(()=>({transform:`translate${n.value==="width"?"X":"Y"}(-${c.value}px)`})),N=()=>{if(!r.value)return;const u=r.value[`offset${O(n.value)}`],b=c.value;if(!b)return;const o=b>u?b-u:0;c.value=o},$=()=>{if(!r.value||!f.value)return;const u=f.value[`offset${O(n.value)}`],b=r.value[`offset${O(n.value)}`],o=c.value;if(u-o<=b)return;const C=u-o>b*2?o+b:u-b;c.value=C},z=()=>M(this,null,function*(){const u=f.value;if(!d.value||!m.value||!r.value||!u)return;yield ae();const b=m.value.querySelector(".is-active");if(!b)return;const o=r.value,C=["top","bottom"].includes(i.props.tabPosition),T=b.getBoundingClientRect(),g=o.getBoundingClientRect(),x=C?u.offsetWidth-g.width:u.offsetHeight-g.height,P=c.value;let h=P;C?(T.left<g.left&&(h=P-(g.left-T.left)),T.right>g.right&&(h=P+T.right-g.right)):(T.top<g.top&&(h=P-(g.top-T.top)),T.bottom>g.bottom&&(h=P+(T.bottom-g.bottom))),h=Math.max(h,0),c.value=Math.min(h,x)}),I=()=>{var u;if(!f.value||!r.value)return;e.stretch&&((u=p.value)==null||u.update());const b=f.value[`offset${O(n.value)}`],o=r.value[`offset${O(n.value)}`],C=c.value;o<b?(d.value=d.value||{},d.value.prev=C,d.value.next=C+o<b,b-C<o&&(c.value=b-o)):(d.value=!1,C>0&&(c.value=0))},Ne=u=>{const b=u.code,{up:o,down:C,left:T,right:g}=D;if(![o,C,T,g].includes(b))return;const x=Array.from(u.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),P=x.indexOf(u.target);let h;b===T||b===o?P===0?h=x.length-1:h=P-1:P<x.length-1?h=P+1:h=0,x[h].focus({preventScroll:!0}),x[h].click(),ne()},ne=()=>{E.value&&(k.value=!0)},W=()=>k.value=!1;return R(l,u=>{u==="hidden"?E.value=!1:u==="visible"&&setTimeout(()=>E.value=!0,50)}),R(_,u=>{u?setTimeout(()=>E.value=!0,50):E.value=!1}),ue(m,I),me(()=>setTimeout(()=>z(),0)),Fe(()=>I()),t({scrollToActiveTab:z,removeFocus:W}),R(()=>e.panes,()=>y.update(),{flush:"post",deep:!0}),()=>{const u=d.value?[v("span",{class:[a.e("nav-prev"),a.is("disabled",!d.value.prev)],onClick:N},[v(L,null,{default:()=>[v(Me,null,null)]})]),v("span",{class:[a.e("nav-next"),a.is("disabled",!d.value.next)],onClick:$},[v(L,null,{default:()=>[v(Ve,null,null)]})])]:null,b=e.panes.map((o,C)=>{var T,g,x,P;const h=o.uid,H=o.props.disabled,Y=(g=(T=o.props.name)!=null?T:o.index)!=null?g:`${C}`,G=!H&&(o.isClosable||e.editable);o.index=`${C}`;const Ce=G?v(L,{class:"is-icon-close",onClick:A=>s("tabRemove",o,A)},{default:()=>[v(Ie,null,null)]}):null,Te=((P=(x=o.slots).label)==null?void 0:P.call(x))||o.props.label,we=!H&&o.active?0:-1;return v("div",{ref:`tab-${h}`,class:[a.e("item"),a.is(i.props.tabPosition),a.is("active",o.active),a.is("disabled",H),a.is("closable",G),a.is("focus",k.value)],id:`tab-${Y}`,key:`tab-${h}`,"aria-controls":`pane-${Y}`,role:"tab","aria-selected":o.active,tabindex:we,onFocus:()=>ne(),onBlur:()=>W(),onClick:A=>{W(),s("tabClick",o,Y,A)},onKeydown:A=>{G&&(A.code===D.delete||A.code===D.backspace)&&s("tabRemove",o,A)}},[Te,Ce])});return v("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!d.value),a.is(i.props.tabPosition)]},[u,v("div",{class:a.e("nav-scroll"),ref:r},[v("div",{class:[a.e("nav"),a.is(i.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:f,style:S.value,role:"tablist",onKeydown:Ne},[e.type?null:v(lt,{ref:p,tabs:[...e.panes]},null),b])])])}}}),ct=U({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ee(Function),default:()=>!0},stretch:Boolean}),J=e=>Ue(e)||Ke(e),ut={[he]:e=>J(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>J(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>J(e),tabAdd:()=>!0},dt=F({name:"ElTabs",props:ct,emits:ut,setup(e,{emit:t,slots:s,expose:y}){var i,a;const l=K("tabs"),{children:_,addChild:r,removeChild:f}=tt(j(),"ElTabPane"),m=w(),p=w((a=(i=e.modelValue)!=null?i:e.activeName)!=null?a:"0"),d=(n,S=!1)=>M(this,null,function*(){var N,$,z;if(!(p.value===n||re(n)))try{(yield(N=e.beforeLeave)==null?void 0:N.call(e,n,p.value))!==!1&&(p.value=n,S&&(t(he,n),t("tabChange",n)),(z=($=m.value)==null?void 0:$.removeFocus)==null||z.call($))}catch(I){}}),c=(n,S,N)=>{n.props.disabled||(d(S,!0),t("tabClick",n,N))},k=(n,S)=>{n.props.disabled||re(n.props.name)||(S.stopPropagation(),t("edit",n.props.name,"remove"),t("tabRemove",n.props.name))},E=()=>{t("edit",void 0,"add"),t("tabAdd")};return Qe({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},V(()=>!!e.activeName)),R(()=>e.activeName,n=>d(n)),R(()=>e.modelValue,n=>d(n)),R(p,()=>M(this,null,function*(){var n;yield ae(),(n=m.value)==null||n.scrollToActiveTab()})),Le(q,{props:e,currentName:p,registerPane:r,unregisterPane:f}),y({currentName:p}),()=>{const n=s.addIcon,S=e.editable||e.addable?v("span",{class:l.e("new-tab"),tabindex:"0",onClick:E,onKeydown:z=>{z.code===D.enter&&E()}},[n?Q(s,"addIcon"):v(L,{class:l.is("icon-plus")},{default:()=>[v(De,null,null)]})]):null,N=v("div",{class:[l.e("header"),l.is(e.tabPosition)]},[S,v(it,{ref:m,currentName:p.value,editable:e.editable,type:e.type,panes:_.value,stretch:e.stretch,onTabClick:c,onTabRemove:k},null)]),$=v("div",{class:l.e("content")},[Q(s,"default")]);return v("div",{class:[l.b(),l.m(e.tabPosition),{[l.m("card")]:e.type==="card",[l.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[N,$]:[$,N]])}}}),bt=U({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),vt=["id","aria-hidden","aria-labelledby"],ge="ElTabPane",ft=F({name:ge}),mt=F(Z(X({},ft),{props:bt,setup(e){const t=e,s=j(),y=je(),i=te(q);i||se(ge,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=K("tab-pane"),l=w(),_=V(()=>t.closable||i.props.closable),r=ie(()=>{var c;return i.currentName.value===((c=t.name)!=null?c:l.value)}),f=w(r.value),m=V(()=>{var c;return(c=t.name)!=null?c:l.value}),p=ie(()=>!t.lazy||f.value||r.value);R(r,c=>{c&&(f.value=!0)});const d=qe({uid:s.uid,slots:y,props:t,paneName:m,active:r,index:l,isClosable:_});return me(()=>{i.registerPane(d)}),We(()=>{i.unregisterPane(d.uid)}),(c,k)=>B(p)?He((de(),be("div",{key:0,id:`pane-${B(m)}`,class:ve(B(a).b()),role:"tabpanel","aria-hidden":!B(r),"aria-labelledby":`tab-${B(m)}`},[Q(c.$slots,"default")],10,vt)),[[Ye,B(r)]]):Ge("v-if",!0)}}));var _e=fe(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Nt=Xe(dt,{TabPane:_e}),Ct=Ze(_e);export{Ct as E,Nt as a};
